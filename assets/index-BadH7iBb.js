function Xx(r,i){for(var s=0;s<i.length;s++){const c=i[s];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in r)){const p=Object.getOwnPropertyDescriptor(c,h);p&&Object.defineProperty(r,h,p.get?p:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const w of p.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&c(w)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ef={exports:{}},wa={},tf={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function Zx(){if(D0)return ht;D0=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.iterator;function N(K){return K===null||typeof K!="object"?null:(K=T&&K[T]||K["@@iterator"],typeof K=="function"?K:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,F={};function B(K,te,Re){this.props=K,this.context=te,this.refs=F,this.updater=Re||O}B.prototype.isReactComponent={},B.prototype.setState=function(K,te){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,te,"setState")},B.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function z(){}z.prototype=B.prototype;function H(K,te,Re){this.props=K,this.context=te,this.refs=F,this.updater=Re||O}var V=H.prototype=new z;V.constructor=H,k(V,B.prototype),V.isPureReactComponent=!0;var re=Array.isArray,le=Object.prototype.hasOwnProperty,ue={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function ce(K,te,Re){var Be,st={},ve=null,Je=null;if(te!=null)for(Be in te.ref!==void 0&&(Je=te.ref),te.key!==void 0&&(ve=""+te.key),te)le.call(te,Be)&&!q.hasOwnProperty(Be)&&(st[Be]=te[Be]);var Ge=arguments.length-2;if(Ge===1)st.children=Re;else if(1<Ge){for(var et=Array(Ge),Lt=0;Lt<Ge;Lt++)et[Lt]=arguments[Lt+2];st.children=et}if(K&&K.defaultProps)for(Be in Ge=K.defaultProps,Ge)st[Be]===void 0&&(st[Be]=Ge[Be]);return{$$typeof:r,type:K,key:ve,ref:Je,props:st,_owner:ue.current}}function ne(K,te){return{$$typeof:r,type:K.type,key:te,ref:K.ref,props:K.props,_owner:K._owner}}function _e(K){return typeof K=="object"&&K!==null&&K.$$typeof===r}function Ue(K){var te={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Re){return te[Re]})}var Ne=/\/+/g;function je(K,te){return typeof K=="object"&&K!==null&&K.key!=null?Ue(""+K.key):te.toString(36)}function be(K,te,Re,Be,st){var ve=typeof K;(ve==="undefined"||ve==="boolean")&&(K=null);var Je=!1;if(K===null)Je=!0;else switch(ve){case"string":case"number":Je=!0;break;case"object":switch(K.$$typeof){case r:case i:Je=!0}}if(Je)return Je=K,st=st(Je),K=Be===""?"."+je(Je,0):Be,re(st)?(Re="",K!=null&&(Re=K.replace(Ne,"$&/")+"/"),be(st,te,Re,"",function(Lt){return Lt})):st!=null&&(_e(st)&&(st=ne(st,Re+(!st.key||Je&&Je.key===st.key?"":(""+st.key).replace(Ne,"$&/")+"/")+K)),te.push(st)),1;if(Je=0,Be=Be===""?".":Be+":",re(K))for(var Ge=0;Ge<K.length;Ge++){ve=K[Ge];var et=Be+je(ve,Ge);Je+=be(ve,te,Re,et,st)}else if(et=N(K),typeof et=="function")for(K=et.call(K),Ge=0;!(ve=K.next()).done;)ve=ve.value,et=Be+je(ve,Ge++),Je+=be(ve,te,Re,et,st);else if(ve==="object")throw te=String(K),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Je}function Z(K,te,Re){if(K==null)return K;var Be=[],st=0;return be(K,Be,"","",function(ve){return te.call(Re,ve,st++)}),Be}function Ie(K){if(K._status===-1){var te=K._result;te=te(),te.then(function(Re){(K._status===0||K._status===-1)&&(K._status=1,K._result=Re)},function(Re){(K._status===0||K._status===-1)&&(K._status=2,K._result=Re)}),K._status===-1&&(K._status=0,K._result=te)}if(K._status===1)return K._result.default;throw K._result}var pe={current:null},de={transition:null},Se={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:de,ReactCurrentOwner:ue};function fe(){throw Error("act(...) is not supported in production builds of React.")}return ht.Children={map:Z,forEach:function(K,te,Re){Z(K,function(){te.apply(this,arguments)},Re)},count:function(K){var te=0;return Z(K,function(){te++}),te},toArray:function(K){return Z(K,function(te){return te})||[]},only:function(K){if(!_e(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},ht.Component=B,ht.Fragment=s,ht.Profiler=h,ht.PureComponent=H,ht.StrictMode=c,ht.Suspense=C,ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Se,ht.act=fe,ht.cloneElement=function(K,te,Re){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Be=k({},K.props),st=K.key,ve=K.ref,Je=K._owner;if(te!=null){if(te.ref!==void 0&&(ve=te.ref,Je=ue.current),te.key!==void 0&&(st=""+te.key),K.type&&K.type.defaultProps)var Ge=K.type.defaultProps;for(et in te)le.call(te,et)&&!q.hasOwnProperty(et)&&(Be[et]=te[et]===void 0&&Ge!==void 0?Ge[et]:te[et])}var et=arguments.length-2;if(et===1)Be.children=Re;else if(1<et){Ge=Array(et);for(var Lt=0;Lt<et;Lt++)Ge[Lt]=arguments[Lt+2];Be.children=Ge}return{$$typeof:r,type:K.type,key:st,ref:ve,props:Be,_owner:Je}},ht.createContext=function(K){return K={$$typeof:w,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:p,_context:K},K.Consumer=K},ht.createElement=ce,ht.createFactory=function(K){var te=ce.bind(null,K);return te.type=K,te},ht.createRef=function(){return{current:null}},ht.forwardRef=function(K){return{$$typeof:E,render:K}},ht.isValidElement=_e,ht.lazy=function(K){return{$$typeof:S,_payload:{_status:-1,_result:K},_init:Ie}},ht.memo=function(K,te){return{$$typeof:x,type:K,compare:te===void 0?null:te}},ht.startTransition=function(K){var te=de.transition;de.transition={};try{K()}finally{de.transition=te}},ht.unstable_act=fe,ht.useCallback=function(K,te){return pe.current.useCallback(K,te)},ht.useContext=function(K){return pe.current.useContext(K)},ht.useDebugValue=function(){},ht.useDeferredValue=function(K){return pe.current.useDeferredValue(K)},ht.useEffect=function(K,te){return pe.current.useEffect(K,te)},ht.useId=function(){return pe.current.useId()},ht.useImperativeHandle=function(K,te,Re){return pe.current.useImperativeHandle(K,te,Re)},ht.useInsertionEffect=function(K,te){return pe.current.useInsertionEffect(K,te)},ht.useLayoutEffect=function(K,te){return pe.current.useLayoutEffect(K,te)},ht.useMemo=function(K,te){return pe.current.useMemo(K,te)},ht.useReducer=function(K,te,Re){return pe.current.useReducer(K,te,Re)},ht.useRef=function(K){return pe.current.useRef(K)},ht.useState=function(K){return pe.current.useState(K)},ht.useSyncExternalStore=function(K,te,Re){return pe.current.useSyncExternalStore(K,te,Re)},ht.useTransition=function(){return pe.current.useTransition()},ht.version="18.3.1",ht}var O0;function Qf(){return O0||(O0=1,tf.exports=Zx()),tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function Kx(){if(P0)return wa;P0=1;var r=Qf(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function w(E,C,x){var S,T={},N=null,O=null;x!==void 0&&(N=""+x),C.key!==void 0&&(N=""+C.key),C.ref!==void 0&&(O=C.ref);for(S in C)c.call(C,S)&&!p.hasOwnProperty(S)&&(T[S]=C[S]);if(E&&E.defaultProps)for(S in C=E.defaultProps,C)T[S]===void 0&&(T[S]=C[S]);return{$$typeof:i,type:E,key:N,ref:O,props:T,_owner:h.current}}return wa.Fragment=s,wa.jsx=w,wa.jsxs=w,wa}var L0;function Qx(){return L0||(L0=1,ef.exports=Kx()),ef.exports}var D=Qx(),L=Qf();const $t=Kf(L);var nu={},nf={exports:{}},fr={},rf={exports:{}},sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function $x(){return k0||(k0=1,function(r){function i(de,Se){var fe=de.length;de.push(Se);e:for(;0<fe;){var K=fe-1>>>1,te=de[K];if(0<h(te,Se))de[K]=Se,de[fe]=te,fe=K;else break e}}function s(de){return de.length===0?null:de[0]}function c(de){if(de.length===0)return null;var Se=de[0],fe=de.pop();if(fe!==Se){de[0]=fe;e:for(var K=0,te=de.length,Re=te>>>1;K<Re;){var Be=2*(K+1)-1,st=de[Be],ve=Be+1,Je=de[ve];if(0>h(st,fe))ve<te&&0>h(Je,st)?(de[K]=Je,de[ve]=fe,K=ve):(de[K]=st,de[Be]=fe,K=Be);else if(ve<te&&0>h(Je,fe))de[K]=Je,de[ve]=fe,K=ve;else break e}}return Se}function h(de,Se){var fe=de.sortIndex-Se.sortIndex;return fe!==0?fe:de.id-Se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var w=Date,E=w.now();r.unstable_now=function(){return w.now()-E}}var C=[],x=[],S=1,T=null,N=3,O=!1,k=!1,F=!1,B=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(de){for(var Se=s(x);Se!==null;){if(Se.callback===null)c(x);else if(Se.startTime<=de)c(x),Se.sortIndex=Se.expirationTime,i(C,Se);else break;Se=s(x)}}function re(de){if(F=!1,V(de),!k)if(s(C)!==null)k=!0,Ie(le);else{var Se=s(x);Se!==null&&pe(re,Se.startTime-de)}}function le(de,Se){k=!1,F&&(F=!1,z(ce),ce=-1),O=!0;var fe=N;try{for(V(Se),T=s(C);T!==null&&(!(T.expirationTime>Se)||de&&!Ue());){var K=T.callback;if(typeof K=="function"){T.callback=null,N=T.priorityLevel;var te=K(T.expirationTime<=Se);Se=r.unstable_now(),typeof te=="function"?T.callback=te:T===s(C)&&c(C),V(Se)}else c(C);T=s(C)}if(T!==null)var Re=!0;else{var Be=s(x);Be!==null&&pe(re,Be.startTime-Se),Re=!1}return Re}finally{T=null,N=fe,O=!1}}var ue=!1,q=null,ce=-1,ne=5,_e=-1;function Ue(){return!(r.unstable_now()-_e<ne)}function Ne(){if(q!==null){var de=r.unstable_now();_e=de;var Se=!0;try{Se=q(!0,de)}finally{Se?je():(ue=!1,q=null)}}else ue=!1}var je;if(typeof H=="function")je=function(){H(Ne)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Z=be.port2;be.port1.onmessage=Ne,je=function(){Z.postMessage(null)}}else je=function(){B(Ne,0)};function Ie(de){q=de,ue||(ue=!0,je())}function pe(de,Se){ce=B(function(){de(r.unstable_now())},Se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(de){de.callback=null},r.unstable_continueExecution=function(){k||O||(k=!0,Ie(le))},r.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<de?Math.floor(1e3/de):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return s(C)},r.unstable_next=function(de){switch(N){case 1:case 2:case 3:var Se=3;break;default:Se=N}var fe=N;N=Se;try{return de()}finally{N=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(de,Se){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var fe=N;N=de;try{return Se()}finally{N=fe}},r.unstable_scheduleCallback=function(de,Se,fe){var K=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?K+fe:K):fe=K,de){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=fe+te,de={id:S++,callback:Se,priorityLevel:de,startTime:fe,expirationTime:te,sortIndex:-1},fe>K?(de.sortIndex=fe,i(x,de),s(C)===null&&de===s(x)&&(F?(z(ce),ce=-1):F=!0,pe(re,fe-K))):(de.sortIndex=te,i(C,de),k||O||(k=!0,Ie(le))),de},r.unstable_shouldYield=Ue,r.unstable_wrapCallback=function(de){var Se=N;return function(){var fe=N;N=Se;try{return de.apply(this,arguments)}finally{N=fe}}}}(sf)),sf}var B0;function qx(){return B0||(B0=1,rf.exports=$x()),rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function Jx(){if(F0)return fr;F0=1;var r=Qf(),i=qx();function s(t){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+t,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,h={};function p(t,a){w(t,a),w(t+"Capture",a)}function w(t,a){for(h[t]=a,t=0;t<a.length;t++)c.add(a[t])}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},T={};function N(t){return C.call(T,t)?!0:C.call(S,t)?!1:x.test(t)?T[t]=!0:(S[t]=!0,!1)}function O(t,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,a,d,m){if(a===null||typeof a>"u"||O(t,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function F(t,a,d,m,A,I,_){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=A,this.mustUseProperty=d,this.propertyName=t,this.type=a,this.sanitizeURL=I,this.removeEmptyString=_}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new F(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var a=t[0];B[a]=new F(a,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new F(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new F(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new F(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new F(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new F(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new F(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new F(t,5,!1,t.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function H(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var a=t.replace(z,H);B[a]=new F(a,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var a=t.replace(z,H);B[a]=new F(a,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var a=t.replace(z,H);B[a]=new F(a,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new F(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new F(t,1,!1,t.toLowerCase(),null,!0,!0)});function V(t,a,d,m){var A=B.hasOwnProperty(a)?B[a]:null;(A!==null?A.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,d,A,m)&&(d=null),m||A===null?N(a)&&(d===null?t.removeAttribute(a):t.setAttribute(a,""+d)):A.mustUseProperty?t[A.propertyName]=d===null?A.type===3?!1:"":d:(a=A.attributeName,m=A.attributeNamespace,d===null?t.removeAttribute(a):(A=A.type,d=A===3||A===4&&d===!0?"":""+d,m?t.setAttributeNS(m,a,d):t.setAttribute(a,d))))}var re=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ue=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),Ue=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),de=Symbol.iterator;function Se(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,K;function te(t){if(K===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);K=a&&a[1]||""}return`
`+K+t}var Re=!1;function Be(t,a){if(!t||Re)return"";Re=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ae){var m=ae}Reflect.construct(t,[],a)}else{try{a.call()}catch(ae){m=ae}t.call(a.prototype)}else{try{throw Error()}catch(ae){m=ae}t()}}catch(ae){if(ae&&m&&typeof ae.stack=="string"){for(var A=ae.stack.split(`
`),I=m.stack.split(`
`),_=A.length-1,W=I.length-1;1<=_&&0<=W&&A[_]!==I[W];)W--;for(;1<=_&&0<=W;_--,W--)if(A[_]!==I[W]){if(_!==1||W!==1)do if(_--,W--,0>W||A[_]!==I[W]){var Y=`
`+A[_].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=_&&0<=W);break}}}finally{Re=!1,Error.prepareStackTrace=d}return(t=t?t.displayName||t.name:"")?te(t):""}function st(t){switch(t.tag){case 5:return te(t.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return t=Be(t.type,!1),t;case 11:return t=Be(t.type.render,!1),t;case 1:return t=Be(t.type,!0),t;default:return""}}function ve(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case ue:return"Portal";case ne:return"Profiler";case ce:return"StrictMode";case je:return"Suspense";case be:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ue:return(t.displayName||"Context")+".Consumer";case _e:return(t._context.displayName||"Context")+".Provider";case Ne:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return a=t.displayName||null,a!==null?a:ve(t.type)||"Memo";case Ie:a=t._payload,t=t._init;try{return ve(t(a))}catch{}}return null}function Je(t){var a=t.type;switch(t.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=a.render,t=t.displayName||t.name||"",a.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(a);case 8:return a===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ge(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function et(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Lt(t){var a=et(t)?"checked":"value",d=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),m=""+t[a];if(!t.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,I=d.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return A.call(this)},set:function(_){m=""+_,I.call(this,_)}}),Object.defineProperty(t,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(_){m=""+_},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ht(t){t._valueTracker||(t._valueTracker=Lt(t))}function Ur(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return t&&(m=et(t)?t.checked?"true":"false":t.value),t=m,t!==d?(a.setValue(t),!0):!1}function it(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tr(t,a){var d=a.checked;return fe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??t._wrapperState.initialChecked})}function Tn(t,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=Ge(a.value!=null?a.value:d),t._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Tr(t,a){a=a.checked,a!=null&&V(t,"checked",a,!1)}function kt(t,a){Tr(t,a);var d=Ge(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&t.value===""||t.value!=d)&&(t.value=""+d):t.value!==""+d&&(t.value=""+d);else if(m==="submit"||m==="reset"){t.removeAttribute("value");return}a.hasOwnProperty("value")?lt(t,a.type,d):a.hasOwnProperty("defaultValue")&&lt(t,a.type,Ge(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(t.defaultChecked=!!a.defaultChecked)}function xt(t,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+t._wrapperState.initialValue,d||a===t.value||(t.value=a),t.defaultValue=a}d=t.name,d!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,d!==""&&(t.name=d)}function lt(t,a,d){(a!=="number"||it(t.ownerDocument)!==t)&&(d==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+d&&(t.defaultValue=""+d))}var _n=Array.isArray;function Ee(t,a,d,m){if(t=t.options,a){a={};for(var A=0;A<d.length;A++)a["$"+d[A]]=!0;for(d=0;d<t.length;d++)A=a.hasOwnProperty("$"+t[d].value),t[d].selected!==A&&(t[d].selected=A),A&&m&&(t[d].defaultSelected=!0)}else{for(d=""+Ge(d),a=null,A=0;A<t.length;A++){if(t[A].value===d){t[A].selected=!0,m&&(t[A].defaultSelected=!0);return}a!==null||t[A].disabled||(a=t[A])}a!==null&&(a.selected=!0)}}function Xe(t,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return fe({},a,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tt(t,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(s(92));if(_n(d)){if(1<d.length)throw Error(s(93));d=d[0]}a=d}a==null&&(a=""),d=a}t._wrapperState={initialValue:Ge(d)}}function wt(t,a){var d=Ge(a.value),m=Ge(a.defaultValue);d!=null&&(d=""+d,d!==t.value&&(t.value=d),a.defaultValue==null&&t.defaultValue!==d&&(t.defaultValue=d)),m!=null&&(t.defaultValue=""+m)}function Un(t){var a=t.textContent;a===t._wrapperState.initialValue&&a!==""&&a!==null&&(t.value=a)}function Ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bt(t,a){return t==null||t==="http://www.w3.org/1999/xhtml"?Ct(a):t==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ft,Me=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,A){MSApp.execUnsafeLocalFunction(function(){return t(a,d,m,A)})}:t}(function(t,a){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=a;else{for(Ft=Ft||document.createElement("div"),Ft.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;a.firstChild;)t.appendChild(a.firstChild)}});function ut(t,a){if(a){var d=t.firstChild;if(d&&d===t.lastChild&&d.nodeType===3){d.nodeValue=a;return}}t.textContent=a}var ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gt=["Webkit","ms","Moz","O"];Object.keys(ct).forEach(function(t){Gt.forEach(function(a){a=a+t.charAt(0).toUpperCase()+t.substring(1),ct[a]=ct[t]})});function Ve(t,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||ct.hasOwnProperty(t)&&ct[t]?(""+a).trim():a+"px"}function Ae(t,a){t=t.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,A=Ve(d,a[d],m);d==="float"&&(d="cssFloat"),m?t.setProperty(d,A):t[d]=A}}var qt=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,a){if(a){if(qt[t]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function Rt(t,a){if(t.indexOf("-")===-1)return typeof a.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=null;function Jr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gs=null,dt=null,rr=null;function Oo(t){if(t=ia(t)){if(typeof Gs!="function")throw Error(s(280));var a=t.stateNode;a&&(a=ml(a),Gs(t.stateNode,t.type,a))}}function Po(t){dt?rr?rr.push(t):rr=[t]:dt=t}function ir(){if(dt){var t=dt,a=rr;if(rr=dt=null,Oo(t),a)for(t=0;t<a.length;t++)Oo(a[t])}}function Ys(t,a){return t(a)}function yn(){}var ei=!1;function ps(t,a,d){if(ei)return t(a,d);ei=!0;try{return Ys(t,a,d)}finally{ei=!1,(dt!==null||rr!==null)&&(yn(),ir())}}function zn(t,a){var d=t.stateNode;if(d===null)return null;var m=ml(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(t=t.type,m=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!m;break e;default:t=!1}if(t)return null;if(d&&typeof d!="function")throw Error(s(231,a,typeof d));return d}var Lo=!1;if(E)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Lo=!1}function ko(t,a,d,m,A,I,_,W,Y){var ae=Array.prototype.slice.call(arguments,3);try{a.apply(d,ae)}catch(xe){this.onError(xe)}}var mn=!1,Ir=null,Dn=!1,De=null,ki={onError:function(t){mn=!0,Ir=t}};function Bo(t,a,d,m,A,I,_,W,Y){mn=!1,Ir=null,ko.apply(ki,arguments)}function Vn(t,a,d,m,A,I,_,W,Y){if(Bo.apply(this,arguments),mn){if(mn){var ae=Ir;mn=!1,Ir=null}else throw Error(s(198));Dn||(Dn=!0,De=ae)}}function sr(t){var a=t,d=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,a.flags&4098&&(d=a.return),t=a.return;while(t)}return a.tag===3?d:null}function gs(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function ms(t){if(sr(t)!==t)throw Error(s(188))}function br(t){var a=t.alternate;if(!a){if(a=sr(t),a===null)throw Error(s(188));return a!==t?null:t}for(var d=t,m=a;;){var A=d.return;if(A===null)break;var I=A.alternate;if(I===null){if(m=A.return,m!==null){d=m;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===d)return ms(A),t;if(I===m)return ms(A),a;I=I.sibling}throw Error(s(188))}if(d.return!==m.return)d=A,m=I;else{for(var _=!1,W=A.child;W;){if(W===d){_=!0,d=A,m=I;break}if(W===m){_=!0,m=A,d=I;break}W=W.sibling}if(!_){for(W=I.child;W;){if(W===d){_=!0,d=I,m=A;break}if(W===m){_=!0,m=I,d=A;break}W=W.sibling}if(!_)throw Error(s(189))}}if(d.alternate!==m)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?t:a}function Ka(t){return t=br(t),t!==null?Qa(t):null}function Qa(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var a=Qa(t);if(a!==null)return a;t=t.sibling}return null}var hr=i.unstable_scheduleCallback,In=i.unstable_cancelCallback,jt=i.unstable_shouldYield,$a=i.unstable_requestPaint,bt=i.unstable_now,Fo=i.unstable_getCurrentPriorityLevel,he=i.unstable_ImmediatePriority,qa=i.unstable_UserBlockingPriority,Ot=i.unstable_NormalPriority,Bi=i.unstable_LowPriority,Ja=i.unstable_IdlePriority,yt=null,ot=null;function pt(t){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(yt,t,void 0,(t.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:fn,jo=Math.log,Uo=Math.LN2;function fn(t){return t>>>=0,t===0?32:31-(jo(t)/Uo|0)|0}var pr=64,Xs=4194304;function Pt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gr(t,a){var d=t.pendingLanes;if(d===0)return 0;var m=0,A=t.suspendedLanes,I=t.pingedLanes,_=d&268435455;if(_!==0){var W=_&~A;W!==0?m=Pt(W):(I&=_,I!==0&&(m=Pt(I)))}else _=d&~A,_!==0?m=Pt(_):I!==0&&(m=Pt(I));if(m===0)return 0;if(a!==0&&a!==m&&!(a&A)&&(A=m&-m,I=a&-a,A>=I||A===16&&(I&4194240)!==0))return a;if(m&4&&(m|=d&16),a=t.entangledLanes,a!==0)for(t=t.entanglements,a&=m;0<a;)d=31-$n(a),A=1<<d,m|=t[d],a&=~A;return m}function Pu(t,a){switch(t){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fi(t,a){for(var d=t.suspendedLanes,m=t.pingedLanes,A=t.expirationTimes,I=t.pendingLanes;0<I;){var _=31-$n(I),W=1<<_,Y=A[_];Y===-1?(!(W&d)||W&m)&&(A[_]=Pu(W,a)):Y<=a&&(t.expiredLanes|=W),I&=~W}}function Nt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wn(){var t=pr;return pr<<=1,!(pr&4194240)&&(pr=64),t}function J(t){for(var a=[],d=0;31>d;d++)a.push(t);return a}function j(t,a,d){t.pendingLanes|=a,a!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,a=31-$n(a),t[a]=d}function We(t,a){var d=t.pendingLanes&~a;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=a,t.mutableReadLanes&=a,t.entangledLanes&=a,a=t.entanglements;var m=t.eventTimes;for(t=t.expirationTimes;0<d;){var A=31-$n(d),I=1<<A;a[A]=0,m[A]=-1,t[A]=-1,d&=~I}}function sn(t,a){var d=t.entangledLanes|=a;for(t=t.entanglements;d;){var m=31-$n(d),A=1<<m;A&a|t[m]&a&&(t[m]|=a),d&=~A}}var at=0;function el(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zs,Wn,He,Ut,zo,Vo=!1,ji=[],mr=null,Nr=null,ti=null,Kt=new Map,zr=new Map,On=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tl(t,a){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Kt.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(a.pointerId)}}function tt(t,a,d,m,A,I){return t===null||t.nativeEvent!==I?(t={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:I,targetContainers:[A]},a!==null&&(a=ia(a),a!==null&&Wn(a)),t):(t.eventSystemFlags|=m,a=t.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),t)}function Cn(t,a,d,m,A){switch(a){case"focusin":return mr=tt(mr,t,a,d,m,A),!0;case"dragenter":return Nr=tt(Nr,t,a,d,m,A),!0;case"mouseover":return ti=tt(ti,t,a,d,m,A),!0;case"pointerover":var I=A.pointerId;return Kt.set(I,tt(Kt.get(I)||null,t,a,d,m,A)),!0;case"gotpointercapture":return I=A.pointerId,zr.set(I,tt(zr.get(I)||null,t,a,d,m,A)),!0}return!1}function nl(t){var a=Is(t.target);if(a!==null){var d=sr(a);if(d!==null){if(a=d.tag,a===13){if(a=gs(d),a!==null){t.blockedOn=a,zo(t.priority,function(){He(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){t.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ui(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var d=Ks(t.domEventName,t.eventSystemFlags,a[0],t.nativeEvent);if(d===null){d=t.nativeEvent;var m=new d.constructor(d.type,d);nr=m,d.target.dispatchEvent(m),nr=null}else return a=ia(d),a!==null&&Wn(a),t.blockedOn=d,!1;a.shift()}return!0}function Wo(t,a,d){Ui(t)&&d.delete(a)}function yi(){Vo=!1,mr!==null&&Ui(mr)&&(mr=null),Nr!==null&&Ui(Nr)&&(Nr=null),ti!==null&&Ui(ti)&&(ti=null),Kt.forEach(Wo),zr.forEach(Wo)}function xs(t,a){t.blockedOn===a&&(t.blockedOn=null,Vo||(Vo=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,yi)))}function Vr(t){function a(A){return xs(A,t)}if(0<ji.length){xs(ji[0],t);for(var d=1;d<ji.length;d++){var m=ji[d];m.blockedOn===t&&(m.blockedOn=null)}}for(mr!==null&&xs(mr,t),Nr!==null&&xs(Nr,t),ti!==null&&xs(ti,t),Kt.forEach(a),zr.forEach(a),d=0;d<On.length;d++)m=On[d],m.blockedOn===t&&(m.blockedOn=null);for(;0<On.length&&(d=On[0],d.blockedOn===null);)nl(d),d.blockedOn===null&&On.shift()}var Rr=re.ReactCurrentBatchConfig,ni=!0;function rl(t,a,d,m){var A=at,I=Rr.transition;Rr.transition=null;try{at=1,wi(t,a,d,m)}finally{at=A,Rr.transition=I}}function ys(t,a,d,m){var A=at,I=Rr.transition;Rr.transition=null;try{at=4,wi(t,a,d,m)}finally{at=A,Rr.transition=I}}function wi(t,a,d,m){if(ni){var A=Ks(t,a,d,m);if(A===null)Hu(t,a,m,vn,d),tl(t,m);else if(Cn(A,t,a,d,m))m.stopPropagation();else if(tl(t,m),a&4&&-1<Qe.indexOf(t)){for(;A!==null;){var I=ia(A);if(I!==null&&Zs(I),I=Ks(t,a,d,m),I===null&&Hu(t,a,m,vn,d),I===A)break;A=I}A!==null&&m.stopPropagation()}else Hu(t,a,m,null,d)}}var vn=null;function Ks(t,a,d,m){if(vn=null,t=Jr(m),t=Is(t),t!==null)if(a=sr(t),a===null)t=null;else if(d=a.tag,d===13){if(t=gs(a),t!==null)return t;t=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null);return vn=t,null}function Ho(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fo()){case he:return 1;case qa:return 4;case Ot:case Bi:return 16;case Ja:return 536870912;default:return 16}default:return 16}}var Wr=null,Go=null,Qs=null;function il(){if(Qs)return Qs;var t,a=Go,d=a.length,m,A="value"in Wr?Wr.value:Wr.textContent,I=A.length;for(t=0;t<d&&a[t]===A[t];t++);var _=d-t;for(m=1;m<=_&&a[d-m]===A[I-m];m++);return Qs=A.slice(t,1<m?1-m:void 0)}function Et(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ws(){return!0}function Cs(){return!1}function on(t){function a(d,m,A,I,_){this._reactName=d,this._targetInst=A,this.type=m,this.nativeEvent=I,this.target=_,this.currentTarget=null;for(var W in t)t.hasOwnProperty(W)&&(d=t[W],this[W]=d?d(I):I[W]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ws:Cs,this.isPropagationStopped=Cs,this}return fe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),a}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oe=on(zi),rt=fe({},zi,{view:0,detail:0}),En=on(rt),Vi,$s,vs,qs=fe({},rt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vs&&(vs&&t.type==="mousemove"?(Vi=t.screenX-vs.screenX,$s=t.screenY-vs.screenY):$s=Vi=0,vs=t),Vi)},movementY:function(t){return"movementY"in t?t.movementY:$s}}),sl=on(qs),Yo=fe({},qs,{dataTransfer:0}),dn=on(Yo),Xo=fe({},rt,{relatedTarget:0}),zt=on(Xo),Js=fe({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ci=on(Js),Mt=fe({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ye=on(Mt),Lu=fe({},zi,{data:0}),Dt=on(Lu),vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=ku[t])?!!a[t]:!1}function Es(){return Mr}var ol=fe({},rt,{key:function(t){if(t.key){var a=vi[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Et(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(t){return t.type==="keypress"?Et(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Et(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zo=on(ol),al=fe({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=on(al),Bu=fe({},rt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Hi=on(Bu),Qo=fe({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=on(Qo),As=fe({},qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ju=on(As),ri=[9,13,27,32],Gi=E&&"CompositionEvent"in window,bn=null;E&&"documentMode"in document&&(bn=document.documentMode);var ll=E&&"TextEvent"in window&&!bn,xr=E&&(!Gi||bn&&8<bn&&11>=bn),ul=" ",eo=!1;function cl(t,a){switch(t){case"keyup":return ri.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pn=!1;function Uu(t,a){switch(t){case"compositionend":return $o(a);case"keypress":return a.which!==32?null:(eo=!0,ul);case"textInput":return t=a.data,t===ul&&eo?null:t;default:return null}}function qo(t,a){if(Pn)return t==="compositionend"||!Gi&&cl(t,a)?(t=il(),Qs=Go=Wr=null,Pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xr&&a.locale!=="ko"?null:a.data;default:return null}}var Ss={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Ss[t.type]:a==="textarea"}function Ts(t,a,d,m){Po(m),a=hl(a,"onChange"),0<a.length&&(d=new oe("onChange","change",null,d,m),t.push({event:d,listeners:a}))}var R=null,e=null;function n(t){Zd(t,0)}function o(t){var a=ro(t);if(Ur(a))return t}function l(t,a){if(t==="change")return a}var u=!1;if(E){var f;if(E){var g="oninput"in document;if(!g){var y=document.createElement("div");y.setAttribute("oninput","return;"),g=typeof y.oninput=="function"}f=g}else f=!1;u=f&&(!document.documentMode||9<document.documentMode)}function v(){R&&(R.detachEvent("onpropertychange",b),e=R=null)}function b(t){if(t.propertyName==="value"&&o(e)){var a=[];Ts(a,e,t,Jr(t)),ps(n,a)}}function M(t,a,d){t==="focusin"?(v(),R=a,e=d,R.attachEvent("onpropertychange",b)):t==="focusout"&&v()}function P(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return o(e)}function U(t,a){if(t==="click")return o(a)}function G(t,a){if(t==="input"||t==="change")return o(a)}function X(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var $=typeof Object.is=="function"?Object.is:X;function se(t,a){if($(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var d=Object.keys(t),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var A=d[m];if(!C.call(a,A)||!$(t[A],a[A]))return!1}return!0}function we(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ce(t,a){var d=we(t);t=0;for(var m;d;){if(d.nodeType===3){if(m=t+d.textContent.length,t<=a&&m>=a)return{node:d,offset:a-t};t=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=we(d)}}function me(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?me(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function ft(){for(var t=window,a=it();a instanceof t.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)t=a.contentWindow;else break;a=it(t.document)}return a}function nt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}function Hn(t){var a=ft(),d=t.focusedElem,m=t.selectionRange;if(a!==d&&d&&d.ownerDocument&&me(d.ownerDocument.documentElement,d)){if(m!==null&&nt(d)){if(a=m.start,t=m.end,t===void 0&&(t=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(t,d.value.length);else if(t=(a=d.ownerDocument||document)&&a.defaultView||window,t.getSelection){t=t.getSelection();var A=d.textContent.length,I=Math.min(m.start,A);m=m.end===void 0?I:Math.min(m.end,A),!t.extend&&I>m&&(A=m,m=I,I=A),A=Ce(d,I);var _=Ce(d,m);A&&_&&(t.rangeCount!==1||t.anchorNode!==A.node||t.anchorOffset!==A.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(a=a.createRange(),a.setStart(A.node,A.offset),t.removeAllRanges(),I>m?(t.addRange(a),t.extend(_.node,_.offset)):(a.setEnd(_.node,_.offset),t.addRange(a)))}}for(a=[],t=d;t=t.parentNode;)t.nodeType===1&&a.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)t=a[d],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yr=E&&"documentMode"in document&&11>=document.documentMode,hn=null,It=null,Jt=null,Ln=!1;function Ei(t,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ln||hn==null||hn!==it(m)||(m=hn,"selectionStart"in m&&nt(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Jt&&se(Jt,m)||(Jt=m,m=hl(It,"onSelect"),0<m.length&&(a=new oe("onSelect","select",null,a,d),t.push({event:a,listeners:m}),a.target=hn)))}function Hr(t,a){var d={};return d[t.toLowerCase()]=a.toLowerCase(),d["Webkit"+t]="webkit"+a,d["Moz"+t]="moz"+a,d}var Yi={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionend:Hr("Transition","TransitionEnd")},Jo={},Ud={};E&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function fl(t){if(Jo[t])return Jo[t];if(!Yi[t])return t;var a=Yi[t],d;for(d in a)if(a.hasOwnProperty(d)&&d in Ud)return Jo[t]=a[d];return t}var zd=fl("animationend"),Vd=fl("animationiteration"),Wd=fl("animationstart"),Hd=fl("transitionend"),Gd=new Map,Yd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(t,a){Gd.set(t,a),p(a,[t])}for(var zu=0;zu<Yd.length;zu++){var Vu=Yd[zu],nx=Vu.toLowerCase(),rx=Vu[0].toUpperCase()+Vu.slice(1);Xi(nx,"on"+rx)}Xi(zd,"onAnimationEnd"),Xi(Vd,"onAnimationIteration"),Xi(Wd,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(Hd,"onTransitionEnd"),w("onMouseEnter",["mouseout","mouseover"]),w("onMouseLeave",["mouseout","mouseover"]),w("onPointerEnter",["pointerout","pointerover"]),w("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function Xd(t,a,d){var m=t.type||"unknown-event";t.currentTarget=d,Vn(m,a,void 0,t),t.currentTarget=null}function Zd(t,a){a=(a&4)!==0;for(var d=0;d<t.length;d++){var m=t[d],A=m.event;m=m.listeners;e:{var I=void 0;if(a)for(var _=m.length-1;0<=_;_--){var W=m[_],Y=W.instance,ae=W.currentTarget;if(W=W.listener,Y!==I&&A.isPropagationStopped())break e;Xd(A,W,ae),I=Y}else for(_=0;_<m.length;_++){if(W=m[_],Y=W.instance,ae=W.currentTarget,W=W.listener,Y!==I&&A.isPropagationStopped())break e;Xd(A,W,ae),I=Y}}}if(Dn)throw t=De,Dn=!1,De=null,t}function Yt(t,a){var d=a[Qu];d===void 0&&(d=a[Qu]=new Set);var m=t+"__bubble";d.has(m)||(Kd(a,t,2,!1),d.add(m))}function Wu(t,a,d){var m=0;a&&(m|=4),Kd(d,t,m,a)}var dl="_reactListening"+Math.random().toString(36).slice(2);function ta(t){if(!t[dl]){t[dl]=!0,c.forEach(function(d){d!=="selectionchange"&&(ix.has(d)||Wu(d,!1,t),Wu(d,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[dl]||(a[dl]=!0,Wu("selectionchange",!1,a))}}function Kd(t,a,d,m){switch(Ho(a)){case 1:var A=rl;break;case 4:A=ys;break;default:A=wi}d=A.bind(null,a,d,t),A=void 0,!Lo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),m?A!==void 0?t.addEventListener(a,d,{capture:!0,passive:A}):t.addEventListener(a,d,!0):A!==void 0?t.addEventListener(a,d,{passive:A}):t.addEventListener(a,d,!1)}function Hu(t,a,d,m,A){var I=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var _=m.tag;if(_===3||_===4){var W=m.stateNode.containerInfo;if(W===A||W.nodeType===8&&W.parentNode===A)break;if(_===4)for(_=m.return;_!==null;){var Y=_.tag;if((Y===3||Y===4)&&(Y=_.stateNode.containerInfo,Y===A||Y.nodeType===8&&Y.parentNode===A))return;_=_.return}for(;W!==null;){if(_=Is(W),_===null)return;if(Y=_.tag,Y===5||Y===6){m=I=_;continue e}W=W.parentNode}}m=m.return}ps(function(){var ae=I,xe=Jr(d),ye=[];e:{var ge=Gd.get(t);if(ge!==void 0){var Oe=oe,ke=t;switch(t){case"keypress":if(Et(d)===0)break e;case"keydown":case"keyup":Oe=Zo;break;case"focusin":ke="focus",Oe=zt;break;case"focusout":ke="blur",Oe=zt;break;case"beforeblur":case"afterblur":Oe=zt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=Hi;break;case zd:case Vd:case Wd:Oe=Ci;break;case Hd:Oe=Fu;break;case"scroll":Oe=En;break;case"wheel":Oe=ju;break;case"copy":case"cut":case"paste":Oe=Ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=Ko}var Fe=(a&4)!==0,pn=!Fe&&t==="scroll",ee=Fe?ge!==null?ge+"Capture":null:ge;Fe=[];for(var Q=ae,ie;Q!==null;){ie=Q;var Te=ie.stateNode;if(ie.tag===5&&Te!==null&&(ie=Te,ee!==null&&(Te=zn(Q,ee),Te!=null&&Fe.push(na(Q,Te,ie)))),pn)break;Q=Q.return}0<Fe.length&&(ge=new Oe(ge,ke,null,d,xe),ye.push({event:ge,listeners:Fe}))}}if(!(a&7)){e:{if(ge=t==="mouseover"||t==="pointerover",Oe=t==="mouseout"||t==="pointerout",ge&&d!==nr&&(ke=d.relatedTarget||d.fromElement)&&(Is(ke)||ke[Ai]))break e;if((Oe||ge)&&(ge=xe.window===xe?xe:(ge=xe.ownerDocument)?ge.defaultView||ge.parentWindow:window,Oe?(ke=d.relatedTarget||d.toElement,Oe=ae,ke=ke?Is(ke):null,ke!==null&&(pn=sr(ke),ke!==pn||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(Oe=null,ke=ae),Oe!==ke)){if(Fe=sl,Te="onMouseLeave",ee="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(Fe=Ko,Te="onPointerLeave",ee="onPointerEnter",Q="pointer"),pn=Oe==null?ge:ro(Oe),ie=ke==null?ge:ro(ke),ge=new Fe(Te,Q+"leave",Oe,d,xe),ge.target=pn,ge.relatedTarget=ie,Te=null,Is(xe)===ae&&(Fe=new Fe(ee,Q+"enter",ke,d,xe),Fe.target=ie,Fe.relatedTarget=pn,Te=Fe),pn=Te,Oe&&ke)t:{for(Fe=Oe,ee=ke,Q=0,ie=Fe;ie;ie=to(ie))Q++;for(ie=0,Te=ee;Te;Te=to(Te))ie++;for(;0<Q-ie;)Fe=to(Fe),Q--;for(;0<ie-Q;)ee=to(ee),ie--;for(;Q--;){if(Fe===ee||ee!==null&&Fe===ee.alternate)break t;Fe=to(Fe),ee=to(ee)}Fe=null}else Fe=null;Oe!==null&&Qd(ye,ge,Oe,Fe,!1),ke!==null&&pn!==null&&Qd(ye,pn,ke,Fe,!0)}}e:{if(ge=ae?ro(ae):window,Oe=ge.nodeName&&ge.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&ge.type==="file")var ze=l;else if(mt(ge))if(u)ze=G;else{ze=P;var Ze=M}else(Oe=ge.nodeName)&&Oe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(ze=U);if(ze&&(ze=ze(t,ae))){Ts(ye,ze,d,xe);break e}Ze&&Ze(t,ge,ae),t==="focusout"&&(Ze=ge._wrapperState)&&Ze.controlled&&ge.type==="number"&&lt(ge,"number",ge.value)}switch(Ze=ae?ro(ae):window,t){case"focusin":(mt(Ze)||Ze.contentEditable==="true")&&(hn=Ze,It=ae,Jt=null);break;case"focusout":Jt=It=hn=null;break;case"mousedown":Ln=!0;break;case"contextmenu":case"mouseup":case"dragend":Ln=!1,Ei(ye,d,xe);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Ei(ye,d,xe)}var Ke;if(Gi)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Pn?cl(t,d)&&(qe="onCompositionEnd"):t==="keydown"&&d.keyCode===229&&(qe="onCompositionStart");qe&&(xr&&d.locale!=="ko"&&(Pn||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Pn&&(Ke=il()):(Wr=xe,Go="value"in Wr?Wr.value:Wr.textContent,Pn=!0)),Ze=hl(ae,qe),0<Ze.length&&(qe=new Dt(qe,t,null,d,xe),ye.push({event:qe,listeners:Ze}),Ke?qe.data=Ke:(Ke=$o(d),Ke!==null&&(qe.data=Ke)))),(Ke=ll?Uu(t,d):qo(t,d))&&(ae=hl(ae,"onBeforeInput"),0<ae.length&&(xe=new Dt("onBeforeInput","beforeinput",null,d,xe),ye.push({event:xe,listeners:ae}),xe.data=Ke))}Zd(ye,a)})}function na(t,a,d){return{instance:t,listener:a,currentTarget:d}}function hl(t,a){for(var d=a+"Capture",m=[];t!==null;){var A=t,I=A.stateNode;A.tag===5&&I!==null&&(A=I,I=zn(t,d),I!=null&&m.unshift(na(t,I,A)),I=zn(t,a),I!=null&&m.push(na(t,I,A))),t=t.return}return m}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qd(t,a,d,m,A){for(var I=a._reactName,_=[];d!==null&&d!==m;){var W=d,Y=W.alternate,ae=W.stateNode;if(Y!==null&&Y===m)break;W.tag===5&&ae!==null&&(W=ae,A?(Y=zn(d,I),Y!=null&&_.unshift(na(d,Y,W))):A||(Y=zn(d,I),Y!=null&&_.push(na(d,Y,W)))),d=d.return}_.length!==0&&t.push({event:a,listeners:_})}var sx=/\r\n?/g,ox=/\u0000|\uFFFD/g;function $d(t){return(typeof t=="string"?t:""+t).replace(sx,`
`).replace(ox,"")}function pl(t,a,d){if(a=$d(a),$d(t)!==a&&d)throw Error(s(425))}function gl(){}var Gu=null,Yu=null;function Xu(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Zu=typeof setTimeout=="function"?setTimeout:void 0,ax=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,lx=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(t){return qd.resolve(null).then(t).catch(ux)}:Zu;function ux(t){setTimeout(function(){throw t})}function Ku(t,a){var d=a,m=0;do{var A=d.nextSibling;if(t.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"){if(m===0){t.removeChild(A),Vr(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=A}while(d);Vr(a)}function Zi(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return t}function Jd(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var d=t.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return t;a--}else d==="/$"&&a++}t=t.previousSibling}return null}var no=Math.random().toString(36).slice(2),ii="__reactFiber$"+no,ra="__reactProps$"+no,Ai="__reactContainer$"+no,Qu="__reactEvents$"+no,cx="__reactListeners$"+no,fx="__reactHandles$"+no;function Is(t){var a=t[ii];if(a)return a;for(var d=t.parentNode;d;){if(a=d[Ai]||d[ii]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(t=Jd(t);t!==null;){if(d=t[ii])return d;t=Jd(t)}return a}t=d,d=t.parentNode}return null}function ia(t){return t=t[ii]||t[Ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function ml(t){return t[ra]||null}var $u=[],io=-1;function Ki(t){return{current:t}}function Xt(t){0>io||(t.current=$u[io],$u[io]=null,io--)}function Vt(t,a){io++,$u[io]=t.current,t.current=a}var Qi={},Gn=Ki(Qi),or=Ki(!1),bs=Qi;function so(t,a){var d=t.type.contextTypes;if(!d)return Qi;var m=t.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var A={},I;for(I in d)A[I]=a[I];return m&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=A),A}function ar(t){return t=t.childContextTypes,t!=null}function xl(){Xt(or),Xt(Gn)}function eh(t,a,d){if(Gn.current!==Qi)throw Error(s(168));Vt(Gn,a),Vt(or,d)}function th(t,a,d){var m=t.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var A in m)if(!(A in a))throw Error(s(108,Je(t)||"Unknown",A));return fe({},d,m)}function yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,bs=Gn.current,Vt(Gn,t),Vt(or,or.current),!0}function nh(t,a,d){var m=t.stateNode;if(!m)throw Error(s(169));d?(t=th(t,a,bs),m.__reactInternalMemoizedMergedChildContext=t,Xt(or),Xt(Gn),Vt(Gn,t)):Xt(or),Vt(or,d)}var Si=null,wl=!1,qu=!1;function rh(t){Si===null?Si=[t]:Si.push(t)}function dx(t){wl=!0,rh(t)}function $i(){if(!qu&&Si!==null){qu=!0;var t=0,a=at;try{var d=Si;for(at=1;t<d.length;t++){var m=d[t];do m=m(!0);while(m!==null)}Si=null,wl=!1}catch(A){throw Si!==null&&(Si=Si.slice(t+1)),hr(he,$i),A}finally{at=a,qu=!1}}return null}var oo=[],ao=0,Cl=null,vl=0,_r=[],Dr=0,Ns=null,Ti=1,Ii="";function Rs(t,a){oo[ao++]=vl,oo[ao++]=Cl,Cl=t,vl=a}function ih(t,a,d){_r[Dr++]=Ti,_r[Dr++]=Ii,_r[Dr++]=Ns,Ns=t;var m=Ti;t=Ii;var A=32-$n(m)-1;m&=~(1<<A),d+=1;var I=32-$n(a)+A;if(30<I){var _=A-A%5;I=(m&(1<<_)-1).toString(32),m>>=_,A-=_,Ti=1<<32-$n(a)+A|d<<A|m,Ii=I+t}else Ti=1<<I|d<<A|m,Ii=t}function Ju(t){t.return!==null&&(Rs(t,1),ih(t,1,0))}function ec(t){for(;t===Cl;)Cl=oo[--ao],oo[ao]=null,vl=oo[--ao],oo[ao]=null;for(;t===Ns;)Ns=_r[--Dr],_r[Dr]=null,Ii=_r[--Dr],_r[Dr]=null,Ti=_r[--Dr],_r[Dr]=null}var wr=null,Cr=null,Qt=!1,Gr=null;function sh(t,a){var d=kr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=t,a=t.deletions,a===null?(t.deletions=[d],t.flags|=16):a.push(d)}function oh(t,a){switch(t.tag){case 5:var d=t.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(t.stateNode=a,wr=t,Cr=Zi(a.firstChild),!0):!1;case 6:return a=t.pendingProps===""||a.nodeType!==3?null:a,a!==null?(t.stateNode=a,wr=t,Cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Ns!==null?{id:Ti,overflow:Ii}:null,t.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=kr(18,null,null,0),d.stateNode=a,d.return=t,t.child=d,wr=t,Cr=null,!0):!1;default:return!1}}function tc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nc(t){if(Qt){var a=Cr;if(a){var d=a;if(!oh(t,a)){if(tc(t))throw Error(s(418));a=Zi(d.nextSibling);var m=wr;a&&oh(t,a)?sh(m,d):(t.flags=t.flags&-4097|2,Qt=!1,wr=t)}}else{if(tc(t))throw Error(s(418));t.flags=t.flags&-4097|2,Qt=!1,wr=t}}}function ah(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function El(t){if(t!==wr)return!1;if(!Qt)return ah(t),Qt=!0,!1;var a;if((a=t.tag!==3)&&!(a=t.tag!==5)&&(a=t.type,a=a!=="head"&&a!=="body"&&!Xu(t.type,t.memoizedProps)),a&&(a=Cr)){if(tc(t))throw lh(),Error(s(418));for(;a;)sh(t,a),a=Zi(a.nextSibling)}if(ah(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8){var d=t.data;if(d==="/$"){if(a===0){Cr=Zi(t.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}t=t.nextSibling}Cr=null}}else Cr=wr?Zi(t.stateNode.nextSibling):null;return!0}function lh(){for(var t=Cr;t;)t=Zi(t.nextSibling)}function lo(){Cr=wr=null,Qt=!1}function rc(t){Gr===null?Gr=[t]:Gr.push(t)}var hx=re.ReactCurrentBatchConfig;function sa(t,a,d){if(t=d.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(s(309));var m=d.stateNode}if(!m)throw Error(s(147,t));var A=m,I=""+t;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===I?a.ref:(a=function(_){var W=A.refs;_===null?delete W[I]:W[I]=_},a._stringRef=I,a)}if(typeof t!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,t))}return t}function Al(t,a){throw t=Object.prototype.toString.call(a),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t))}function uh(t){var a=t._init;return a(t._payload)}function ch(t){function a(ee,Q){if(t){var ie=ee.deletions;ie===null?(ee.deletions=[Q],ee.flags|=16):ie.push(Q)}}function d(ee,Q){if(!t)return null;for(;Q!==null;)a(ee,Q),Q=Q.sibling;return null}function m(ee,Q){for(ee=new Map;Q!==null;)Q.key!==null?ee.set(Q.key,Q):ee.set(Q.index,Q),Q=Q.sibling;return ee}function A(ee,Q){return ee=ss(ee,Q),ee.index=0,ee.sibling=null,ee}function I(ee,Q,ie){return ee.index=ie,t?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Q?(ee.flags|=2,Q):ie):(ee.flags|=2,Q)):(ee.flags|=1048576,Q)}function _(ee){return t&&ee.alternate===null&&(ee.flags|=2),ee}function W(ee,Q,ie,Te){return Q===null||Q.tag!==6?(Q=Zc(ie,ee.mode,Te),Q.return=ee,Q):(Q=A(Q,ie),Q.return=ee,Q)}function Y(ee,Q,ie,Te){var ze=ie.type;return ze===q?xe(ee,Q,ie.props.children,Te,ie.key):Q!==null&&(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ie&&uh(ze)===Q.type)?(Te=A(Q,ie.props),Te.ref=sa(ee,Q,ie),Te.return=ee,Te):(Te=Xl(ie.type,ie.key,ie.props,null,ee.mode,Te),Te.ref=sa(ee,Q,ie),Te.return=ee,Te)}function ae(ee,Q,ie,Te){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=Kc(ie,ee.mode,Te),Q.return=ee,Q):(Q=A(Q,ie.children||[]),Q.return=ee,Q)}function xe(ee,Q,ie,Te,ze){return Q===null||Q.tag!==7?(Q=Bs(ie,ee.mode,Te,ze),Q.return=ee,Q):(Q=A(Q,ie),Q.return=ee,Q)}function ye(ee,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Zc(""+Q,ee.mode,ie),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case le:return ie=Xl(Q.type,Q.key,Q.props,null,ee.mode,ie),ie.ref=sa(ee,null,Q),ie.return=ee,ie;case ue:return Q=Kc(Q,ee.mode,ie),Q.return=ee,Q;case Ie:var Te=Q._init;return ye(ee,Te(Q._payload),ie)}if(_n(Q)||Se(Q))return Q=Bs(Q,ee.mode,ie,null),Q.return=ee,Q;Al(ee,Q)}return null}function ge(ee,Q,ie,Te){var ze=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ze!==null?null:W(ee,Q,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case le:return ie.key===ze?Y(ee,Q,ie,Te):null;case ue:return ie.key===ze?ae(ee,Q,ie,Te):null;case Ie:return ze=ie._init,ge(ee,Q,ze(ie._payload),Te)}if(_n(ie)||Se(ie))return ze!==null?null:xe(ee,Q,ie,Te,null);Al(ee,ie)}return null}function Oe(ee,Q,ie,Te,ze){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return ee=ee.get(ie)||null,W(Q,ee,""+Te,ze);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case le:return ee=ee.get(Te.key===null?ie:Te.key)||null,Y(Q,ee,Te,ze);case ue:return ee=ee.get(Te.key===null?ie:Te.key)||null,ae(Q,ee,Te,ze);case Ie:var Ze=Te._init;return Oe(ee,Q,ie,Ze(Te._payload),ze)}if(_n(Te)||Se(Te))return ee=ee.get(ie)||null,xe(Q,ee,Te,ze,null);Al(Q,Te)}return null}function ke(ee,Q,ie,Te){for(var ze=null,Ze=null,Ke=Q,qe=Q=0,Mn=null;Ke!==null&&qe<ie.length;qe++){Ke.index>qe?(Mn=Ke,Ke=null):Mn=Ke.sibling;var St=ge(ee,Ke,ie[qe],Te);if(St===null){Ke===null&&(Ke=Mn);break}t&&Ke&&St.alternate===null&&a(ee,Ke),Q=I(St,Q,qe),Ze===null?ze=St:Ze.sibling=St,Ze=St,Ke=Mn}if(qe===ie.length)return d(ee,Ke),Qt&&Rs(ee,qe),ze;if(Ke===null){for(;qe<ie.length;qe++)Ke=ye(ee,ie[qe],Te),Ke!==null&&(Q=I(Ke,Q,qe),Ze===null?ze=Ke:Ze.sibling=Ke,Ze=Ke);return Qt&&Rs(ee,qe),ze}for(Ke=m(ee,Ke);qe<ie.length;qe++)Mn=Oe(Ke,ee,qe,ie[qe],Te),Mn!==null&&(t&&Mn.alternate!==null&&Ke.delete(Mn.key===null?qe:Mn.key),Q=I(Mn,Q,qe),Ze===null?ze=Mn:Ze.sibling=Mn,Ze=Mn);return t&&Ke.forEach(function(os){return a(ee,os)}),Qt&&Rs(ee,qe),ze}function Fe(ee,Q,ie,Te){var ze=Se(ie);if(typeof ze!="function")throw Error(s(150));if(ie=ze.call(ie),ie==null)throw Error(s(151));for(var Ze=ze=null,Ke=Q,qe=Q=0,Mn=null,St=ie.next();Ke!==null&&!St.done;qe++,St=ie.next()){Ke.index>qe?(Mn=Ke,Ke=null):Mn=Ke.sibling;var os=ge(ee,Ke,St.value,Te);if(os===null){Ke===null&&(Ke=Mn);break}t&&Ke&&os.alternate===null&&a(ee,Ke),Q=I(os,Q,qe),Ze===null?ze=os:Ze.sibling=os,Ze=os,Ke=Mn}if(St.done)return d(ee,Ke),Qt&&Rs(ee,qe),ze;if(Ke===null){for(;!St.done;qe++,St=ie.next())St=ye(ee,St.value,Te),St!==null&&(Q=I(St,Q,qe),Ze===null?ze=St:Ze.sibling=St,Ze=St);return Qt&&Rs(ee,qe),ze}for(Ke=m(ee,Ke);!St.done;qe++,St=ie.next())St=Oe(Ke,ee,qe,St.value,Te),St!==null&&(t&&St.alternate!==null&&Ke.delete(St.key===null?qe:St.key),Q=I(St,Q,qe),Ze===null?ze=St:Ze.sibling=St,Ze=St);return t&&Ke.forEach(function(Yx){return a(ee,Yx)}),Qt&&Rs(ee,qe),ze}function pn(ee,Q,ie,Te){if(typeof ie=="object"&&ie!==null&&ie.type===q&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case le:e:{for(var ze=ie.key,Ze=Q;Ze!==null;){if(Ze.key===ze){if(ze=ie.type,ze===q){if(Ze.tag===7){d(ee,Ze.sibling),Q=A(Ze,ie.props.children),Q.return=ee,ee=Q;break e}}else if(Ze.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ie&&uh(ze)===Ze.type){d(ee,Ze.sibling),Q=A(Ze,ie.props),Q.ref=sa(ee,Ze,ie),Q.return=ee,ee=Q;break e}d(ee,Ze);break}else a(ee,Ze);Ze=Ze.sibling}ie.type===q?(Q=Bs(ie.props.children,ee.mode,Te,ie.key),Q.return=ee,ee=Q):(Te=Xl(ie.type,ie.key,ie.props,null,ee.mode,Te),Te.ref=sa(ee,Q,ie),Te.return=ee,ee=Te)}return _(ee);case ue:e:{for(Ze=ie.key;Q!==null;){if(Q.key===Ze)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){d(ee,Q.sibling),Q=A(Q,ie.children||[]),Q.return=ee,ee=Q;break e}else{d(ee,Q);break}else a(ee,Q);Q=Q.sibling}Q=Kc(ie,ee.mode,Te),Q.return=ee,ee=Q}return _(ee);case Ie:return Ze=ie._init,pn(ee,Q,Ze(ie._payload),Te)}if(_n(ie))return ke(ee,Q,ie,Te);if(Se(ie))return Fe(ee,Q,ie,Te);Al(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Q!==null&&Q.tag===6?(d(ee,Q.sibling),Q=A(Q,ie),Q.return=ee,ee=Q):(d(ee,Q),Q=Zc(ie,ee.mode,Te),Q.return=ee,ee=Q),_(ee)):d(ee,Q)}return pn}var uo=ch(!0),fh=ch(!1),Sl=Ki(null),Tl=null,co=null,ic=null;function sc(){ic=co=Tl=null}function oc(t){var a=Sl.current;Xt(Sl),t._currentValue=a}function ac(t,a,d){for(;t!==null;){var m=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),t===d)break;t=t.return}}function fo(t,a){Tl=t,ic=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&a&&(lr=!0),t.firstContext=null)}function Or(t){var a=t._currentValue;if(ic!==t)if(t={context:t,memoizedValue:a,next:null},co===null){if(Tl===null)throw Error(s(308));co=t,Tl.dependencies={lanes:0,firstContext:t}}else co=co.next=t;return a}var Ms=null;function lc(t){Ms===null?Ms=[t]:Ms.push(t)}function dh(t,a,d,m){var A=a.interleaved;return A===null?(d.next=d,lc(a)):(d.next=A.next,A.next=d),a.interleaved=d,bi(t,m)}function bi(t,a){t.lanes|=a;var d=t.alternate;for(d!==null&&(d.lanes|=a),d=t,t=t.return;t!==null;)t.childLanes|=a,d=t.alternate,d!==null&&(d.childLanes|=a),d=t,t=t.return;return d.tag===3?d.stateNode:null}var qi=!1;function uc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hh(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ni(t,a){return{eventTime:t,lane:a,tag:0,payload:null,callback:null,next:null}}function Ji(t,a,d){var m=t.updateQueue;if(m===null)return null;if(m=m.shared,At&2){var A=m.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),m.pending=a,bi(t,d)}return A=m.interleaved,A===null?(a.next=a,lc(m)):(a.next=A.next,A.next=a),m.interleaved=a,bi(t,d)}function Il(t,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=t.pendingLanes,d|=m,a.lanes=d,sn(t,d)}}function ph(t,a){var d=t.updateQueue,m=t.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var A=null,I=null;if(d=d.firstBaseUpdate,d!==null){do{var _={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};I===null?A=I=_:I=I.next=_,d=d.next}while(d!==null);I===null?A=I=a:I=I.next=a}else A=I=a;d={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:m.shared,effects:m.effects},t.updateQueue=d;return}t=d.lastBaseUpdate,t===null?d.firstBaseUpdate=a:t.next=a,d.lastBaseUpdate=a}function bl(t,a,d,m){var A=t.updateQueue;qi=!1;var I=A.firstBaseUpdate,_=A.lastBaseUpdate,W=A.shared.pending;if(W!==null){A.shared.pending=null;var Y=W,ae=Y.next;Y.next=null,_===null?I=ae:_.next=ae,_=Y;var xe=t.alternate;xe!==null&&(xe=xe.updateQueue,W=xe.lastBaseUpdate,W!==_&&(W===null?xe.firstBaseUpdate=ae:W.next=ae,xe.lastBaseUpdate=Y))}if(I!==null){var ye=A.baseState;_=0,xe=ae=Y=null,W=I;do{var ge=W.lane,Oe=W.eventTime;if((m&ge)===ge){xe!==null&&(xe=xe.next={eventTime:Oe,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var ke=t,Fe=W;switch(ge=a,Oe=d,Fe.tag){case 1:if(ke=Fe.payload,typeof ke=="function"){ye=ke.call(Oe,ye,ge);break e}ye=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Fe.payload,ge=typeof ke=="function"?ke.call(Oe,ye,ge):ke,ge==null)break e;ye=fe({},ye,ge);break e;case 2:qi=!0}}W.callback!==null&&W.lane!==0&&(t.flags|=64,ge=A.effects,ge===null?A.effects=[W]:ge.push(W))}else Oe={eventTime:Oe,lane:ge,tag:W.tag,payload:W.payload,callback:W.callback,next:null},xe===null?(ae=xe=Oe,Y=ye):xe=xe.next=Oe,_|=ge;if(W=W.next,W===null){if(W=A.shared.pending,W===null)break;ge=W,W=ge.next,ge.next=null,A.lastBaseUpdate=ge,A.shared.pending=null}}while(!0);if(xe===null&&(Y=ye),A.baseState=Y,A.firstBaseUpdate=ae,A.lastBaseUpdate=xe,a=A.shared.interleaved,a!==null){A=a;do _|=A.lane,A=A.next;while(A!==a)}else I===null&&(A.shared.lanes=0);Os|=_,t.lanes=_,t.memoizedState=ye}}function gh(t,a,d){if(t=a.effects,a.effects=null,t!==null)for(a=0;a<t.length;a++){var m=t[a],A=m.callback;if(A!==null){if(m.callback=null,m=d,typeof A!="function")throw Error(s(191,A));A.call(m)}}}var oa={},si=Ki(oa),aa=Ki(oa),la=Ki(oa);function _s(t){if(t===oa)throw Error(s(174));return t}function cc(t,a){switch(Vt(la,a),Vt(aa,t),Vt(si,oa),t=a.nodeType,t){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Bt(null,"");break;default:t=t===8?a.parentNode:a,a=t.namespaceURI||null,t=t.tagName,a=Bt(a,t)}Xt(si),Vt(si,a)}function ho(){Xt(si),Xt(aa),Xt(la)}function mh(t){_s(la.current);var a=_s(si.current),d=Bt(a,t.type);a!==d&&(Vt(aa,t),Vt(si,d))}function fc(t){aa.current===t&&(Xt(si),Xt(aa))}var en=Ki(0);function Nl(t){for(var a=t;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var dc=[];function hc(){for(var t=0;t<dc.length;t++)dc[t]._workInProgressVersionPrimary=null;dc.length=0}var Rl=re.ReactCurrentDispatcher,pc=re.ReactCurrentBatchConfig,Ds=0,tn=null,An=null,Nn=null,Ml=!1,ua=!1,ca=0,px=0;function Yn(){throw Error(s(321))}function gc(t,a){if(a===null)return!1;for(var d=0;d<a.length&&d<t.length;d++)if(!$(t[d],a[d]))return!1;return!0}function mc(t,a,d,m,A,I){if(Ds=I,tn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Rl.current=t===null||t.memoizedState===null?yx:wx,t=d(m,A),ua){I=0;do{if(ua=!1,ca=0,25<=I)throw Error(s(301));I+=1,Nn=An=null,a.updateQueue=null,Rl.current=Cx,t=d(m,A)}while(ua)}if(Rl.current=Ol,a=An!==null&&An.next!==null,Ds=0,Nn=An=tn=null,Ml=!1,a)throw Error(s(300));return t}function xc(){var t=ca!==0;return ca=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?tn.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function Pr(){if(An===null){var t=tn.alternate;t=t!==null?t.memoizedState:null}else t=An.next;var a=Nn===null?tn.memoizedState:Nn.next;if(a!==null)Nn=a,An=t;else{if(t===null)throw Error(s(310));An=t,t={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Nn===null?tn.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function fa(t,a){return typeof a=="function"?a(t):a}function yc(t){var a=Pr(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=t;var m=An,A=m.baseQueue,I=d.pending;if(I!==null){if(A!==null){var _=A.next;A.next=I.next,I.next=_}m.baseQueue=A=I,d.pending=null}if(A!==null){I=A.next,m=m.baseState;var W=_=null,Y=null,ae=I;do{var xe=ae.lane;if((Ds&xe)===xe)Y!==null&&(Y=Y.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),m=ae.hasEagerState?ae.eagerState:t(m,ae.action);else{var ye={lane:xe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Y===null?(W=Y=ye,_=m):Y=Y.next=ye,tn.lanes|=xe,Os|=xe}ae=ae.next}while(ae!==null&&ae!==I);Y===null?_=m:Y.next=W,$(m,a.memoizedState)||(lr=!0),a.memoizedState=m,a.baseState=_,a.baseQueue=Y,d.lastRenderedState=m}if(t=d.interleaved,t!==null){A=t;do I=A.lane,tn.lanes|=I,Os|=I,A=A.next;while(A!==t)}else A===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function wc(t){var a=Pr(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=t;var m=d.dispatch,A=d.pending,I=a.memoizedState;if(A!==null){d.pending=null;var _=A=A.next;do I=t(I,_.action),_=_.next;while(_!==A);$(I,a.memoizedState)||(lr=!0),a.memoizedState=I,a.baseQueue===null&&(a.baseState=I),d.lastRenderedState=I}return[I,m]}function xh(){}function yh(t,a){var d=tn,m=Pr(),A=a(),I=!$(m.memoizedState,A);if(I&&(m.memoizedState=A,lr=!0),m=m.queue,Cc(vh.bind(null,d,m,t),[t]),m.getSnapshot!==a||I||Nn!==null&&Nn.memoizedState.tag&1){if(d.flags|=2048,da(9,Ch.bind(null,d,m,A,a),void 0,null),Rn===null)throw Error(s(349));Ds&30||wh(d,a,A)}return A}function wh(t,a,d){t.flags|=16384,t={getSnapshot:a,value:d},a=tn.updateQueue,a===null?(a={lastEffect:null,stores:null},tn.updateQueue=a,a.stores=[t]):(d=a.stores,d===null?a.stores=[t]:d.push(t))}function Ch(t,a,d,m){a.value=d,a.getSnapshot=m,Eh(a)&&Ah(t)}function vh(t,a,d){return d(function(){Eh(a)&&Ah(t)})}function Eh(t){var a=t.getSnapshot;t=t.value;try{var d=a();return!$(t,d)}catch{return!0}}function Ah(t){var a=bi(t,1);a!==null&&Kr(a,t,1,-1)}function Sh(t){var a=oi();return typeof t=="function"&&(t=t()),a.memoizedState=a.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},a.queue=t,t=t.dispatch=xx.bind(null,tn,t),[a.memoizedState,t]}function da(t,a,d,m){return t={tag:t,create:a,destroy:d,deps:m,next:null},a=tn.updateQueue,a===null?(a={lastEffect:null,stores:null},tn.updateQueue=a,a.lastEffect=t.next=t):(d=a.lastEffect,d===null?a.lastEffect=t.next=t:(m=d.next,d.next=t,t.next=m,a.lastEffect=t)),t}function Th(){return Pr().memoizedState}function _l(t,a,d,m){var A=oi();tn.flags|=t,A.memoizedState=da(1|a,d,void 0,m===void 0?null:m)}function Dl(t,a,d,m){var A=Pr();m=m===void 0?null:m;var I=void 0;if(An!==null){var _=An.memoizedState;if(I=_.destroy,m!==null&&gc(m,_.deps)){A.memoizedState=da(a,d,I,m);return}}tn.flags|=t,A.memoizedState=da(1|a,d,I,m)}function Ih(t,a){return _l(8390656,8,t,a)}function Cc(t,a){return Dl(2048,8,t,a)}function bh(t,a){return Dl(4,2,t,a)}function Nh(t,a){return Dl(4,4,t,a)}function Rh(t,a){if(typeof a=="function")return t=t(),a(t),function(){a(null)};if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Mh(t,a,d){return d=d!=null?d.concat([t]):null,Dl(4,4,Rh.bind(null,a,t),d)}function vc(){}function _h(t,a){var d=Pr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&gc(a,m[1])?m[0]:(d.memoizedState=[t,a],t)}function Dh(t,a){var d=Pr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&gc(a,m[1])?m[0]:(t=t(),d.memoizedState=[t,a],t)}function Oh(t,a,d){return Ds&21?($(d,a)||(d=wn(),tn.lanes|=d,Os|=d,t.baseState=!0),a):(t.baseState&&(t.baseState=!1,lr=!0),t.memoizedState=d)}function gx(t,a){var d=at;at=d!==0&&4>d?d:4,t(!0);var m=pc.transition;pc.transition={};try{t(!1),a()}finally{at=d,pc.transition=m}}function Ph(){return Pr().memoizedState}function mx(t,a,d){var m=rs(t);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Lh(t))kh(a,d);else if(d=dh(t,a,d,m),d!==null){var A=Jn();Kr(d,t,m,A),Bh(d,a,m)}}function xx(t,a,d){var m=rs(t),A={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Lh(t))kh(a,A);else{var I=t.alternate;if(t.lanes===0&&(I===null||I.lanes===0)&&(I=a.lastRenderedReducer,I!==null))try{var _=a.lastRenderedState,W=I(_,d);if(A.hasEagerState=!0,A.eagerState=W,$(W,_)){var Y=a.interleaved;Y===null?(A.next=A,lc(a)):(A.next=Y.next,Y.next=A),a.interleaved=A;return}}catch{}finally{}d=dh(t,a,A,m),d!==null&&(A=Jn(),Kr(d,t,m,A),Bh(d,a,m))}}function Lh(t){var a=t.alternate;return t===tn||a!==null&&a===tn}function kh(t,a){ua=Ml=!0;var d=t.pending;d===null?a.next=a:(a.next=d.next,d.next=a),t.pending=a}function Bh(t,a,d){if(d&4194240){var m=a.lanes;m&=t.pendingLanes,d|=m,a.lanes=d,sn(t,d)}}var Ol={readContext:Or,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useInsertionEffect:Yn,useLayoutEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useMutableSource:Yn,useSyncExternalStore:Yn,useId:Yn,unstable_isNewReconciler:!1},yx={readContext:Or,useCallback:function(t,a){return oi().memoizedState=[t,a===void 0?null:a],t},useContext:Or,useEffect:Ih,useImperativeHandle:function(t,a,d){return d=d!=null?d.concat([t]):null,_l(4194308,4,Rh.bind(null,a,t),d)},useLayoutEffect:function(t,a){return _l(4194308,4,t,a)},useInsertionEffect:function(t,a){return _l(4,2,t,a)},useMemo:function(t,a){var d=oi();return a=a===void 0?null:a,t=t(),d.memoizedState=[t,a],t},useReducer:function(t,a,d){var m=oi();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},m.queue=t,t=t.dispatch=mx.bind(null,tn,t),[m.memoizedState,t]},useRef:function(t){var a=oi();return t={current:t},a.memoizedState=t},useState:Sh,useDebugValue:vc,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=Sh(!1),a=t[0];return t=gx.bind(null,t[1]),oi().memoizedState=t,[a,t]},useMutableSource:function(){},useSyncExternalStore:function(t,a,d){var m=tn,A=oi();if(Qt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=a(),Rn===null)throw Error(s(349));Ds&30||wh(m,a,d)}A.memoizedState=d;var I={value:d,getSnapshot:a};return A.queue=I,Ih(vh.bind(null,m,I,t),[t]),m.flags|=2048,da(9,Ch.bind(null,m,I,d,a),void 0,null),d},useId:function(){var t=oi(),a=Rn.identifierPrefix;if(Qt){var d=Ii,m=Ti;d=(m&~(1<<32-$n(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=ca++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=px++,a=":"+a+"r"+d.toString(32)+":";return t.memoizedState=a},unstable_isNewReconciler:!1},wx={readContext:Or,useCallback:_h,useContext:Or,useEffect:Cc,useImperativeHandle:Mh,useInsertionEffect:bh,useLayoutEffect:Nh,useMemo:Dh,useReducer:yc,useRef:Th,useState:function(){return yc(fa)},useDebugValue:vc,useDeferredValue:function(t){var a=Pr();return Oh(a,An.memoizedState,t)},useTransition:function(){var t=yc(fa)[0],a=Pr().memoizedState;return[t,a]},useMutableSource:xh,useSyncExternalStore:yh,useId:Ph,unstable_isNewReconciler:!1},Cx={readContext:Or,useCallback:_h,useContext:Or,useEffect:Cc,useImperativeHandle:Mh,useInsertionEffect:bh,useLayoutEffect:Nh,useMemo:Dh,useReducer:wc,useRef:Th,useState:function(){return wc(fa)},useDebugValue:vc,useDeferredValue:function(t){var a=Pr();return An===null?a.memoizedState=t:Oh(a,An.memoizedState,t)},useTransition:function(){var t=wc(fa)[0],a=Pr().memoizedState;return[t,a]},useMutableSource:xh,useSyncExternalStore:yh,useId:Ph,unstable_isNewReconciler:!1};function Yr(t,a){if(t&&t.defaultProps){a=fe({},a),t=t.defaultProps;for(var d in t)a[d]===void 0&&(a[d]=t[d]);return a}return a}function Ec(t,a,d,m){a=t.memoizedState,d=d(m,a),d=d==null?a:fe({},a,d),t.memoizedState=d,t.lanes===0&&(t.updateQueue.baseState=d)}var Pl={isMounted:function(t){return(t=t._reactInternals)?sr(t)===t:!1},enqueueSetState:function(t,a,d){t=t._reactInternals;var m=Jn(),A=rs(t),I=Ni(m,A);I.payload=a,d!=null&&(I.callback=d),a=Ji(t,I,A),a!==null&&(Kr(a,t,A,m),Il(a,t,A))},enqueueReplaceState:function(t,a,d){t=t._reactInternals;var m=Jn(),A=rs(t),I=Ni(m,A);I.tag=1,I.payload=a,d!=null&&(I.callback=d),a=Ji(t,I,A),a!==null&&(Kr(a,t,A,m),Il(a,t,A))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var d=Jn(),m=rs(t),A=Ni(d,m);A.tag=2,a!=null&&(A.callback=a),a=Ji(t,A,m),a!==null&&(Kr(a,t,m,d),Il(a,t,m))}};function Fh(t,a,d,m,A,I,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(m,I,_):a.prototype&&a.prototype.isPureReactComponent?!se(d,m)||!se(A,I):!0}function jh(t,a,d){var m=!1,A=Qi,I=a.contextType;return typeof I=="object"&&I!==null?I=Or(I):(A=ar(a)?bs:Gn.current,m=a.contextTypes,I=(m=m!=null)?so(t,A):Qi),a=new a(d,I),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Pl,t.stateNode=a,a._reactInternals=t,m&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=A,t.__reactInternalMemoizedMaskedChildContext=I),a}function Uh(t,a,d,m){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==t&&Pl.enqueueReplaceState(a,a.state,null)}function Ac(t,a,d,m){var A=t.stateNode;A.props=d,A.state=t.memoizedState,A.refs={},uc(t);var I=a.contextType;typeof I=="object"&&I!==null?A.context=Or(I):(I=ar(a)?bs:Gn.current,A.context=so(t,I)),A.state=t.memoizedState,I=a.getDerivedStateFromProps,typeof I=="function"&&(Ec(t,a,I,d),A.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(a=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),a!==A.state&&Pl.enqueueReplaceState(A,A.state,null),bl(t,d,A,m),A.state=t.memoizedState),typeof A.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,a){try{var d="",m=a;do d+=st(m),m=m.return;while(m);var A=d}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:t,source:a,stack:A,digest:null}}function Sc(t,a,d){return{value:t,source:null,stack:d??null,digest:a??null}}function Tc(t,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var vx=typeof WeakMap=="function"?WeakMap:Map;function zh(t,a,d){d=Ni(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){zl||(zl=!0,Uc=m),Tc(t,a)},d}function Vh(t,a,d){d=Ni(-1,d),d.tag=3;var m=t.type.getDerivedStateFromError;if(typeof m=="function"){var A=a.value;d.payload=function(){return m(A)},d.callback=function(){Tc(t,a)}}var I=t.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(d.callback=function(){Tc(t,a),typeof m!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})}),d}function Wh(t,a,d){var m=t.pingCache;if(m===null){m=t.pingCache=new vx;var A=new Set;m.set(a,A)}else A=m.get(a),A===void 0&&(A=new Set,m.set(a,A));A.has(d)||(A.add(d),t=Lx.bind(null,t,a,d),a.then(t,t))}function Hh(t){do{var a;if((a=t.tag===13)&&(a=t.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return t;t=t.return}while(t!==null);return null}function Gh(t,a,d,m,A){return t.mode&1?(t.flags|=65536,t.lanes=A,t):(t===a?t.flags|=65536:(t.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Ni(-1,1),a.tag=2,Ji(d,a,1))),d.lanes|=1),t)}var Ex=re.ReactCurrentOwner,lr=!1;function qn(t,a,d,m){a.child=t===null?fh(a,null,d,m):uo(a,t.child,d,m)}function Yh(t,a,d,m,A){d=d.render;var I=a.ref;return fo(a,A),m=mc(t,a,d,m,I,A),d=xc(),t!==null&&!lr?(a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~A,Ri(t,a,A)):(Qt&&d&&Ju(a),a.flags|=1,qn(t,a,m,A),a.child)}function Xh(t,a,d,m,A){if(t===null){var I=d.type;return typeof I=="function"&&!Xc(I)&&I.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=I,Zh(t,a,I,m,A)):(t=Xl(d.type,null,m,a,a.mode,A),t.ref=a.ref,t.return=a,a.child=t)}if(I=t.child,!(t.lanes&A)){var _=I.memoizedProps;if(d=d.compare,d=d!==null?d:se,d(_,m)&&t.ref===a.ref)return Ri(t,a,A)}return a.flags|=1,t=ss(I,m),t.ref=a.ref,t.return=a,a.child=t}function Zh(t,a,d,m,A){if(t!==null){var I=t.memoizedProps;if(se(I,m)&&t.ref===a.ref)if(lr=!1,a.pendingProps=m=I,(t.lanes&A)!==0)t.flags&131072&&(lr=!0);else return a.lanes=t.lanes,Ri(t,a,A)}return Ic(t,a,d,m,A)}function Kh(t,a,d){var m=a.pendingProps,A=m.children,I=t!==null?t.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(mo,vr),vr|=d;else{if(!(d&1073741824))return t=I!==null?I.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:t,cachePool:null,transitions:null},a.updateQueue=null,Vt(mo,vr),vr|=t,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=I!==null?I.baseLanes:d,Vt(mo,vr),vr|=m}else I!==null?(m=I.baseLanes|d,a.memoizedState=null):m=d,Vt(mo,vr),vr|=m;return qn(t,a,A,d),a.child}function Qh(t,a){var d=a.ref;(t===null&&d!==null||t!==null&&t.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Ic(t,a,d,m,A){var I=ar(d)?bs:Gn.current;return I=so(a,I),fo(a,A),d=mc(t,a,d,m,I,A),m=xc(),t!==null&&!lr?(a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~A,Ri(t,a,A)):(Qt&&m&&Ju(a),a.flags|=1,qn(t,a,d,A),a.child)}function $h(t,a,d,m,A){if(ar(d)){var I=!0;yl(a)}else I=!1;if(fo(a,A),a.stateNode===null)kl(t,a),jh(a,d,m),Ac(a,d,m,A),m=!0;else if(t===null){var _=a.stateNode,W=a.memoizedProps;_.props=W;var Y=_.context,ae=d.contextType;typeof ae=="object"&&ae!==null?ae=Or(ae):(ae=ar(d)?bs:Gn.current,ae=so(a,ae));var xe=d.getDerivedStateFromProps,ye=typeof xe=="function"||typeof _.getSnapshotBeforeUpdate=="function";ye||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(W!==m||Y!==ae)&&Uh(a,_,m,ae),qi=!1;var ge=a.memoizedState;_.state=ge,bl(a,m,_,A),Y=a.memoizedState,W!==m||ge!==Y||or.current||qi?(typeof xe=="function"&&(Ec(a,d,xe,m),Y=a.memoizedState),(W=qi||Fh(a,d,W,m,ge,Y,ae))?(ye||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=Y),_.props=m,_.state=Y,_.context=ae,m=W):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{_=a.stateNode,hh(t,a),W=a.memoizedProps,ae=a.type===a.elementType?W:Yr(a.type,W),_.props=ae,ye=a.pendingProps,ge=_.context,Y=d.contextType,typeof Y=="object"&&Y!==null?Y=Or(Y):(Y=ar(d)?bs:Gn.current,Y=so(a,Y));var Oe=d.getDerivedStateFromProps;(xe=typeof Oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(W!==ye||ge!==Y)&&Uh(a,_,m,Y),qi=!1,ge=a.memoizedState,_.state=ge,bl(a,m,_,A);var ke=a.memoizedState;W!==ye||ge!==ke||or.current||qi?(typeof Oe=="function"&&(Ec(a,d,Oe,m),ke=a.memoizedState),(ae=qi||Fh(a,d,ae,m,ge,ke,Y)||!1)?(xe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ke,Y),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ke,Y)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||W===t.memoizedProps&&ge===t.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||W===t.memoizedProps&&ge===t.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ke),_.props=m,_.state=ke,_.context=Y,m=ae):(typeof _.componentDidUpdate!="function"||W===t.memoizedProps&&ge===t.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||W===t.memoizedProps&&ge===t.memoizedState||(a.flags|=1024),m=!1)}return bc(t,a,d,m,I,A)}function bc(t,a,d,m,A,I){Qh(t,a);var _=(a.flags&128)!==0;if(!m&&!_)return A&&nh(a,d,!1),Ri(t,a,I);m=a.stateNode,Ex.current=a;var W=_&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,t!==null&&_?(a.child=uo(a,t.child,null,I),a.child=uo(a,null,W,I)):qn(t,a,W,I),a.memoizedState=m.state,A&&nh(a,d,!0),a.child}function qh(t){var a=t.stateNode;a.pendingContext?eh(t,a.pendingContext,a.pendingContext!==a.context):a.context&&eh(t,a.context,!1),cc(t,a.containerInfo)}function Jh(t,a,d,m,A){return lo(),rc(A),a.flags|=256,qn(t,a,d,m),a.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function Rc(t){return{baseLanes:t,cachePool:null,transitions:null}}function e0(t,a,d){var m=a.pendingProps,A=en.current,I=!1,_=(a.flags&128)!==0,W;if((W=_)||(W=t!==null&&t.memoizedState===null?!1:(A&2)!==0),W?(I=!0,a.flags&=-129):(t===null||t.memoizedState!==null)&&(A|=1),Vt(en,A&1),t===null)return nc(a),t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(a.mode&1?t.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(_=m.children,t=m.fallback,I?(m=a.mode,I=a.child,_={mode:"hidden",children:_},!(m&1)&&I!==null?(I.childLanes=0,I.pendingProps=_):I=Zl(_,m,0,null),t=Bs(t,m,d,null),I.return=a,t.return=a,I.sibling=t,a.child=I,a.child.memoizedState=Rc(d),a.memoizedState=Nc,t):Mc(a,_));if(A=t.memoizedState,A!==null&&(W=A.dehydrated,W!==null))return Ax(t,a,_,m,W,A,d);if(I){I=m.fallback,_=a.mode,A=t.child,W=A.sibling;var Y={mode:"hidden",children:m.children};return!(_&1)&&a.child!==A?(m=a.child,m.childLanes=0,m.pendingProps=Y,a.deletions=null):(m=ss(A,Y),m.subtreeFlags=A.subtreeFlags&14680064),W!==null?I=ss(W,I):(I=Bs(I,_,d,null),I.flags|=2),I.return=a,m.return=a,m.sibling=I,a.child=m,m=I,I=a.child,_=t.child.memoizedState,_=_===null?Rc(d):{baseLanes:_.baseLanes|d,cachePool:null,transitions:_.transitions},I.memoizedState=_,I.childLanes=t.childLanes&~d,a.memoizedState=Nc,m}return I=t.child,t=I.sibling,m=ss(I,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=d),m.return=a,m.sibling=null,t!==null&&(d=a.deletions,d===null?(a.deletions=[t],a.flags|=16):d.push(t)),a.child=m,a.memoizedState=null,m}function Mc(t,a){return a=Zl({mode:"visible",children:a},t.mode,0,null),a.return=t,t.child=a}function Ll(t,a,d,m){return m!==null&&rc(m),uo(a,t.child,null,d),t=Mc(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Ax(t,a,d,m,A,I,_){if(d)return a.flags&256?(a.flags&=-257,m=Sc(Error(s(422))),Ll(t,a,_,m)):a.memoizedState!==null?(a.child=t.child,a.flags|=128,null):(I=m.fallback,A=a.mode,m=Zl({mode:"visible",children:m.children},A,0,null),I=Bs(I,A,_,null),I.flags|=2,m.return=a,I.return=a,m.sibling=I,a.child=m,a.mode&1&&uo(a,t.child,null,_),a.child.memoizedState=Rc(_),a.memoizedState=Nc,I);if(!(a.mode&1))return Ll(t,a,_,null);if(A.data==="$!"){if(m=A.nextSibling&&A.nextSibling.dataset,m)var W=m.dgst;return m=W,I=Error(s(419)),m=Sc(I,m,void 0),Ll(t,a,_,m)}if(W=(_&t.childLanes)!==0,lr||W){if(m=Rn,m!==null){switch(_&-_){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(m.suspendedLanes|_)?0:A,A!==0&&A!==I.retryLane&&(I.retryLane=A,bi(t,A),Kr(m,t,A,-1))}return Yc(),m=Sc(Error(s(421))),Ll(t,a,_,m)}return A.data==="$?"?(a.flags|=128,a.child=t.child,a=kx.bind(null,t),A._reactRetry=a,null):(t=I.treeContext,Cr=Zi(A.nextSibling),wr=a,Qt=!0,Gr=null,t!==null&&(_r[Dr++]=Ti,_r[Dr++]=Ii,_r[Dr++]=Ns,Ti=t.id,Ii=t.overflow,Ns=a),a=Mc(a,m.children),a.flags|=4096,a)}function t0(t,a,d){t.lanes|=a;var m=t.alternate;m!==null&&(m.lanes|=a),ac(t.return,a,d)}function _c(t,a,d,m,A){var I=t.memoizedState;I===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:A}:(I.isBackwards=a,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=d,I.tailMode=A)}function n0(t,a,d){var m=a.pendingProps,A=m.revealOrder,I=m.tail;if(qn(t,a,m.children,d),m=en.current,m&2)m=m&1|2,a.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t0(t,d,a);else if(t.tag===19)t0(t,d,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}m&=1}if(Vt(en,m),!(a.mode&1))a.memoizedState=null;else switch(A){case"forwards":for(d=a.child,A=null;d!==null;)t=d.alternate,t!==null&&Nl(t)===null&&(A=d),d=d.sibling;d=A,d===null?(A=a.child,a.child=null):(A=d.sibling,d.sibling=null),_c(a,!1,A,d,I);break;case"backwards":for(d=null,A=a.child,a.child=null;A!==null;){if(t=A.alternate,t!==null&&Nl(t)===null){a.child=A;break}t=A.sibling,A.sibling=d,d=A,A=t}_c(a,!0,d,null,I);break;case"together":_c(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function kl(t,a){!(a.mode&1)&&t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2)}function Ri(t,a,d){if(t!==null&&(a.dependencies=t.dependencies),Os|=a.lanes,!(d&a.childLanes))return null;if(t!==null&&a.child!==t.child)throw Error(s(153));if(a.child!==null){for(t=a.child,d=ss(t,t.pendingProps),a.child=d,d.return=a;t.sibling!==null;)t=t.sibling,d=d.sibling=ss(t,t.pendingProps),d.return=a;d.sibling=null}return a.child}function Sx(t,a,d){switch(a.tag){case 3:qh(a),lo();break;case 5:mh(a);break;case 1:ar(a.type)&&yl(a);break;case 4:cc(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,A=a.memoizedProps.value;Vt(Sl,m._currentValue),m._currentValue=A;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Vt(en,en.current&1),a.flags|=128,null):d&a.child.childLanes?e0(t,a,d):(Vt(en,en.current&1),t=Ri(t,a,d),t!==null?t.sibling:null);Vt(en,en.current&1);break;case 19:if(m=(d&a.childLanes)!==0,t.flags&128){if(m)return n0(t,a,d);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Vt(en,en.current),m)break;return null;case 22:case 23:return a.lanes=0,Kh(t,a,d)}return Ri(t,a,d)}var r0,Dc,i0,s0;r0=function(t,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Dc=function(){},i0=function(t,a,d,m){var A=t.memoizedProps;if(A!==m){t=a.stateNode,_s(si.current);var I=null;switch(d){case"input":A=tr(t,A),m=tr(t,m),I=[];break;case"select":A=fe({},A,{value:void 0}),m=fe({},m,{value:void 0}),I=[];break;case"textarea":A=Xe(t,A),m=Xe(t,m),I=[];break;default:typeof A.onClick!="function"&&typeof m.onClick=="function"&&(t.onclick=gl)}vt(d,m);var _;d=null;for(ae in A)if(!m.hasOwnProperty(ae)&&A.hasOwnProperty(ae)&&A[ae]!=null)if(ae==="style"){var W=A[ae];for(_ in W)W.hasOwnProperty(_)&&(d||(d={}),d[_]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(h.hasOwnProperty(ae)?I||(I=[]):(I=I||[]).push(ae,null));for(ae in m){var Y=m[ae];if(W=A!=null?A[ae]:void 0,m.hasOwnProperty(ae)&&Y!==W&&(Y!=null||W!=null))if(ae==="style")if(W){for(_ in W)!W.hasOwnProperty(_)||Y&&Y.hasOwnProperty(_)||(d||(d={}),d[_]="");for(_ in Y)Y.hasOwnProperty(_)&&W[_]!==Y[_]&&(d||(d={}),d[_]=Y[_])}else d||(I||(I=[]),I.push(ae,d)),d=Y;else ae==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(I=I||[]).push(ae,Y)):ae==="children"?typeof Y!="string"&&typeof Y!="number"||(I=I||[]).push(ae,""+Y):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(h.hasOwnProperty(ae)?(Y!=null&&ae==="onScroll"&&Yt("scroll",t),I||W===Y||(I=[])):(I=I||[]).push(ae,Y))}d&&(I=I||[]).push("style",d);var ae=I;(a.updateQueue=ae)&&(a.flags|=4)}},s0=function(t,a,d,m){d!==m&&(a.flags|=4)};function ha(t,a){if(!Qt)switch(t.tailMode){case"hidden":a=t.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?t.tail=null:d.sibling=null;break;case"collapsed":d=t.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:m.sibling=null}}function Xn(t){var a=t.alternate!==null&&t.alternate.child===t.child,d=0,m=0;if(a)for(var A=t.child;A!==null;)d|=A.lanes|A.childLanes,m|=A.subtreeFlags&14680064,m|=A.flags&14680064,A.return=t,A=A.sibling;else for(A=t.child;A!==null;)d|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=t,A=A.sibling;return t.subtreeFlags|=m,t.childLanes=d,a}function Tx(t,a,d){var m=a.pendingProps;switch(ec(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(a),null;case 1:return ar(a.type)&&xl(),Xn(a),null;case 3:return m=a.stateNode,ho(),Xt(or),Xt(Gn),hc(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(t===null||t.child===null)&&(El(a)?a.flags|=4:t===null||t.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Gr!==null&&(Wc(Gr),Gr=null))),Dc(t,a),Xn(a),null;case 5:fc(a);var A=_s(la.current);if(d=a.type,t!==null&&a.stateNode!=null)i0(t,a,d,m,A),t.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(s(166));return Xn(a),null}if(t=_s(si.current),El(a)){m=a.stateNode,d=a.type;var I=a.memoizedProps;switch(m[ii]=a,m[ra]=I,t=(a.mode&1)!==0,d){case"dialog":Yt("cancel",m),Yt("close",m);break;case"iframe":case"object":case"embed":Yt("load",m);break;case"video":case"audio":for(A=0;A<ea.length;A++)Yt(ea[A],m);break;case"source":Yt("error",m);break;case"img":case"image":case"link":Yt("error",m),Yt("load",m);break;case"details":Yt("toggle",m);break;case"input":Tn(m,I),Yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!I.multiple},Yt("invalid",m);break;case"textarea":Tt(m,I),Yt("invalid",m)}vt(d,I),A=null;for(var _ in I)if(I.hasOwnProperty(_)){var W=I[_];_==="children"?typeof W=="string"?m.textContent!==W&&(I.suppressHydrationWarning!==!0&&pl(m.textContent,W,t),A=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(I.suppressHydrationWarning!==!0&&pl(m.textContent,W,t),A=["children",""+W]):h.hasOwnProperty(_)&&W!=null&&_==="onScroll"&&Yt("scroll",m)}switch(d){case"input":Ht(m),xt(m,I,!0);break;case"textarea":Ht(m),Un(m);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(m.onclick=gl)}m=A,a.updateQueue=m,m!==null&&(a.flags|=4)}else{_=A.nodeType===9?A:A.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ct(d)),t==="http://www.w3.org/1999/xhtml"?d==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof m.is=="string"?t=_.createElement(d,{is:m.is}):(t=_.createElement(d),d==="select"&&(_=t,m.multiple?_.multiple=!0:m.size&&(_.size=m.size))):t=_.createElementNS(t,d),t[ii]=a,t[ra]=m,r0(t,a,!1,!1),a.stateNode=t;e:{switch(_=Rt(d,m),d){case"dialog":Yt("cancel",t),Yt("close",t),A=m;break;case"iframe":case"object":case"embed":Yt("load",t),A=m;break;case"video":case"audio":for(A=0;A<ea.length;A++)Yt(ea[A],t);A=m;break;case"source":Yt("error",t),A=m;break;case"img":case"image":case"link":Yt("error",t),Yt("load",t),A=m;break;case"details":Yt("toggle",t),A=m;break;case"input":Tn(t,m),A=tr(t,m),Yt("invalid",t);break;case"option":A=m;break;case"select":t._wrapperState={wasMultiple:!!m.multiple},A=fe({},m,{value:void 0}),Yt("invalid",t);break;case"textarea":Tt(t,m),A=Xe(t,m),Yt("invalid",t);break;default:A=m}vt(d,A),W=A;for(I in W)if(W.hasOwnProperty(I)){var Y=W[I];I==="style"?Ae(t,Y):I==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Me(t,Y)):I==="children"?typeof Y=="string"?(d!=="textarea"||Y!=="")&&ut(t,Y):typeof Y=="number"&&ut(t,""+Y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(h.hasOwnProperty(I)?Y!=null&&I==="onScroll"&&Yt("scroll",t):Y!=null&&V(t,I,Y,_))}switch(d){case"input":Ht(t),xt(t,m,!1);break;case"textarea":Ht(t),Un(t);break;case"option":m.value!=null&&t.setAttribute("value",""+Ge(m.value));break;case"select":t.multiple=!!m.multiple,I=m.value,I!=null?Ee(t,!!m.multiple,I,!1):m.defaultValue!=null&&Ee(t,!!m.multiple,m.defaultValue,!0);break;default:typeof A.onClick=="function"&&(t.onclick=gl)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Xn(a),null;case 6:if(t&&a.stateNode!=null)s0(t,a,t.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(s(166));if(d=_s(la.current),_s(si.current),El(a)){if(m=a.stateNode,d=a.memoizedProps,m[ii]=a,(I=m.nodeValue!==d)&&(t=wr,t!==null))switch(t.tag){case 3:pl(m.nodeValue,d,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(m.nodeValue,d,(t.mode&1)!==0)}I&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[ii]=a,a.stateNode=m}return Xn(a),null;case 13:if(Xt(en),m=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qt&&Cr!==null&&a.mode&1&&!(a.flags&128))lh(),lo(),a.flags|=98560,I=!1;else if(I=El(a),m!==null&&m.dehydrated!==null){if(t===null){if(!I)throw Error(s(318));if(I=a.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(s(317));I[ii]=a}else lo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Xn(a),I=!1}else Gr!==null&&(Wc(Gr),Gr=null),I=!0;if(!I)return a.flags&65536?a:null}return a.flags&128?(a.lanes=d,a):(m=m!==null,m!==(t!==null&&t.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(t===null||en.current&1?Sn===0&&(Sn=3):Yc())),a.updateQueue!==null&&(a.flags|=4),Xn(a),null);case 4:return ho(),Dc(t,a),t===null&&ta(a.stateNode.containerInfo),Xn(a),null;case 10:return oc(a.type._context),Xn(a),null;case 17:return ar(a.type)&&xl(),Xn(a),null;case 19:if(Xt(en),I=a.memoizedState,I===null)return Xn(a),null;if(m=(a.flags&128)!==0,_=I.rendering,_===null)if(m)ha(I,!1);else{if(Sn!==0||t!==null&&t.flags&128)for(t=a.child;t!==null;){if(_=Nl(t),_!==null){for(a.flags|=128,ha(I,!1),m=_.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)I=d,t=m,I.flags&=14680066,_=I.alternate,_===null?(I.childLanes=0,I.lanes=t,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=_.childLanes,I.lanes=_.lanes,I.child=_.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=_.memoizedProps,I.memoizedState=_.memoizedState,I.updateQueue=_.updateQueue,I.type=_.type,t=_.dependencies,I.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),d=d.sibling;return Vt(en,en.current&1|2),a.child}t=t.sibling}I.tail!==null&&bt()>xo&&(a.flags|=128,m=!0,ha(I,!1),a.lanes=4194304)}else{if(!m)if(t=Nl(_),t!==null){if(a.flags|=128,m=!0,d=t.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ha(I,!0),I.tail===null&&I.tailMode==="hidden"&&!_.alternate&&!Qt)return Xn(a),null}else 2*bt()-I.renderingStartTime>xo&&d!==1073741824&&(a.flags|=128,m=!0,ha(I,!1),a.lanes=4194304);I.isBackwards?(_.sibling=a.child,a.child=_):(d=I.last,d!==null?d.sibling=_:a.child=_,I.last=_)}return I.tail!==null?(a=I.tail,I.rendering=a,I.tail=a.sibling,I.renderingStartTime=bt(),a.sibling=null,d=en.current,Vt(en,m?d&1|2:d&1),a):(Xn(a),null);case 22:case 23:return Gc(),m=a.memoizedState!==null,t!==null&&t.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?vr&1073741824&&(Xn(a),a.subtreeFlags&6&&(a.flags|=8192)):Xn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function Ix(t,a){switch(ec(a),a.tag){case 1:return ar(a.type)&&xl(),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ho(),Xt(or),Xt(Gn),hc(),t=a.flags,t&65536&&!(t&128)?(a.flags=t&-65537|128,a):null;case 5:return fc(a),null;case 13:if(Xt(en),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(s(340));lo()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Xt(en),null;case 4:return ho(),null;case 10:return oc(a.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var Bl=!1,Zn=!1,bx=typeof WeakSet=="function"?WeakSet:Set,Le=null;function go(t,a){var d=t.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){an(t,a,m)}else d.current=null}function Oc(t,a,d){try{d()}catch(m){an(t,a,m)}}var o0=!1;function Nx(t,a){if(Gu=ni,t=ft(),nt(t)){if("selectionStart"in t)var d={start:t.selectionStart,end:t.selectionEnd};else e:{d=(d=t.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var A=m.anchorOffset,I=m.focusNode;m=m.focusOffset;try{d.nodeType,I.nodeType}catch{d=null;break e}var _=0,W=-1,Y=-1,ae=0,xe=0,ye=t,ge=null;t:for(;;){for(var Oe;ye!==d||A!==0&&ye.nodeType!==3||(W=_+A),ye!==I||m!==0&&ye.nodeType!==3||(Y=_+m),ye.nodeType===3&&(_+=ye.nodeValue.length),(Oe=ye.firstChild)!==null;)ge=ye,ye=Oe;for(;;){if(ye===t)break t;if(ge===d&&++ae===A&&(W=_),ge===I&&++xe===m&&(Y=_),(Oe=ye.nextSibling)!==null)break;ye=ge,ge=ye.parentNode}ye=Oe}d=W===-1||Y===-1?null:{start:W,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(Yu={focusedElem:t,selectionRange:d},ni=!1,Le=a;Le!==null;)if(a=Le,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Le=t;else for(;Le!==null;){a=Le;try{var ke=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Fe=ke.memoizedProps,pn=ke.memoizedState,ee=a.stateNode,Q=ee.getSnapshotBeforeUpdate(a.elementType===a.type?Fe:Yr(a.type,Fe),pn);ee.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Te){an(a,a.return,Te)}if(t=a.sibling,t!==null){t.return=a.return,Le=t;break}Le=a.return}return ke=o0,o0=!1,ke}function pa(t,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var A=m=m.next;do{if((A.tag&t)===t){var I=A.destroy;A.destroy=void 0,I!==void 0&&Oc(a,d,I)}A=A.next}while(A!==m)}}function Fl(t,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&t)===t){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function Pc(t){var a=t.ref;if(a!==null){var d=t.stateNode;switch(t.tag){case 5:t=d;break;default:t=d}typeof a=="function"?a(t):a.current=t}}function a0(t){var a=t.alternate;a!==null&&(t.alternate=null,a0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&(delete a[ii],delete a[ra],delete a[Qu],delete a[cx],delete a[fx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function l0(t){return t.tag===5||t.tag===3||t.tag===4}function u0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lc(t,a,d){var m=t.tag;if(m===5||m===6)t=t.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(t,a):d.insertBefore(t,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(t,d)):(a=d,a.appendChild(t)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=gl));else if(m!==4&&(t=t.child,t!==null))for(Lc(t,a,d),t=t.sibling;t!==null;)Lc(t,a,d),t=t.sibling}function kc(t,a,d){var m=t.tag;if(m===5||m===6)t=t.stateNode,a?d.insertBefore(t,a):d.appendChild(t);else if(m!==4&&(t=t.child,t!==null))for(kc(t,a,d),t=t.sibling;t!==null;)kc(t,a,d),t=t.sibling}var kn=null,Xr=!1;function es(t,a,d){for(d=d.child;d!==null;)c0(t,a,d),d=d.sibling}function c0(t,a,d){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(yt,d)}catch{}switch(d.tag){case 5:Zn||go(d,a);case 6:var m=kn,A=Xr;kn=null,es(t,a,d),kn=m,Xr=A,kn!==null&&(Xr?(t=kn,d=d.stateNode,t.nodeType===8?t.parentNode.removeChild(d):t.removeChild(d)):kn.removeChild(d.stateNode));break;case 18:kn!==null&&(Xr?(t=kn,d=d.stateNode,t.nodeType===8?Ku(t.parentNode,d):t.nodeType===1&&Ku(t,d),Vr(t)):Ku(kn,d.stateNode));break;case 4:m=kn,A=Xr,kn=d.stateNode.containerInfo,Xr=!0,es(t,a,d),kn=m,Xr=A;break;case 0:case 11:case 14:case 15:if(!Zn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){A=m=m.next;do{var I=A,_=I.destroy;I=I.tag,_!==void 0&&(I&2||I&4)&&Oc(d,a,_),A=A.next}while(A!==m)}es(t,a,d);break;case 1:if(!Zn&&(go(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(W){an(d,a,W)}es(t,a,d);break;case 21:es(t,a,d);break;case 22:d.mode&1?(Zn=(m=Zn)||d.memoizedState!==null,es(t,a,d),Zn=m):es(t,a,d);break;default:es(t,a,d)}}function f0(t){var a=t.updateQueue;if(a!==null){t.updateQueue=null;var d=t.stateNode;d===null&&(d=t.stateNode=new bx),a.forEach(function(m){var A=Bx.bind(null,t,m);d.has(m)||(d.add(m),m.then(A,A))})}}function Zr(t,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var A=d[m];try{var I=t,_=a,W=_;e:for(;W!==null;){switch(W.tag){case 5:kn=W.stateNode,Xr=!1;break e;case 3:kn=W.stateNode.containerInfo,Xr=!0;break e;case 4:kn=W.stateNode.containerInfo,Xr=!0;break e}W=W.return}if(kn===null)throw Error(s(160));c0(I,_,A),kn=null,Xr=!1;var Y=A.alternate;Y!==null&&(Y.return=null),A.return=null}catch(ae){an(A,a,ae)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)d0(a,t),a=a.sibling}function d0(t,a){var d=t.alternate,m=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(a,t),ai(t),m&4){try{pa(3,t,t.return),Fl(3,t)}catch(Fe){an(t,t.return,Fe)}try{pa(5,t,t.return)}catch(Fe){an(t,t.return,Fe)}}break;case 1:Zr(a,t),ai(t),m&512&&d!==null&&go(d,d.return);break;case 5:if(Zr(a,t),ai(t),m&512&&d!==null&&go(d,d.return),t.flags&32){var A=t.stateNode;try{ut(A,"")}catch(Fe){an(t,t.return,Fe)}}if(m&4&&(A=t.stateNode,A!=null)){var I=t.memoizedProps,_=d!==null?d.memoizedProps:I,W=t.type,Y=t.updateQueue;if(t.updateQueue=null,Y!==null)try{W==="input"&&I.type==="radio"&&I.name!=null&&Tr(A,I),Rt(W,_);var ae=Rt(W,I);for(_=0;_<Y.length;_+=2){var xe=Y[_],ye=Y[_+1];xe==="style"?Ae(A,ye):xe==="dangerouslySetInnerHTML"?Me(A,ye):xe==="children"?ut(A,ye):V(A,xe,ye,ae)}switch(W){case"input":kt(A,I);break;case"textarea":wt(A,I);break;case"select":var ge=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!I.multiple;var Oe=I.value;Oe!=null?Ee(A,!!I.multiple,Oe,!1):ge!==!!I.multiple&&(I.defaultValue!=null?Ee(A,!!I.multiple,I.defaultValue,!0):Ee(A,!!I.multiple,I.multiple?[]:"",!1))}A[ra]=I}catch(Fe){an(t,t.return,Fe)}}break;case 6:if(Zr(a,t),ai(t),m&4){if(t.stateNode===null)throw Error(s(162));A=t.stateNode,I=t.memoizedProps;try{A.nodeValue=I}catch(Fe){an(t,t.return,Fe)}}break;case 3:if(Zr(a,t),ai(t),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Vr(a.containerInfo)}catch(Fe){an(t,t.return,Fe)}break;case 4:Zr(a,t),ai(t);break;case 13:Zr(a,t),ai(t),A=t.child,A.flags&8192&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||(jc=bt())),m&4&&f0(t);break;case 22:if(xe=d!==null&&d.memoizedState!==null,t.mode&1?(Zn=(ae=Zn)||xe,Zr(a,t),Zn=ae):Zr(a,t),ai(t),m&8192){if(ae=t.memoizedState!==null,(t.stateNode.isHidden=ae)&&!xe&&t.mode&1)for(Le=t,xe=t.child;xe!==null;){for(ye=Le=xe;Le!==null;){switch(ge=Le,Oe=ge.child,ge.tag){case 0:case 11:case 14:case 15:pa(4,ge,ge.return);break;case 1:go(ge,ge.return);var ke=ge.stateNode;if(typeof ke.componentWillUnmount=="function"){m=ge,d=ge.return;try{a=m,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(Fe){an(m,d,Fe)}}break;case 5:go(ge,ge.return);break;case 22:if(ge.memoizedState!==null){g0(ye);continue}}Oe!==null?(Oe.return=ge,Le=Oe):g0(ye)}xe=xe.sibling}e:for(xe=null,ye=t;;){if(ye.tag===5){if(xe===null){xe=ye;try{A=ye.stateNode,ae?(I=A.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(W=ye.stateNode,Y=ye.memoizedProps.style,_=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=Ve("display",_))}catch(Fe){an(t,t.return,Fe)}}}else if(ye.tag===6){if(xe===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(Fe){an(t,t.return,Fe)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===t)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===t)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===t)break e;xe===ye&&(xe=null),ye=ye.return}xe===ye&&(xe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Zr(a,t),ai(t),m&4&&f0(t);break;case 21:break;default:Zr(a,t),ai(t)}}function ai(t){var a=t.flags;if(a&2){try{e:{for(var d=t.return;d!==null;){if(l0(d)){var m=d;break e}d=d.return}throw Error(s(160))}switch(m.tag){case 5:var A=m.stateNode;m.flags&32&&(ut(A,""),m.flags&=-33);var I=u0(t);kc(t,I,A);break;case 3:case 4:var _=m.stateNode.containerInfo,W=u0(t);Lc(t,W,_);break;default:throw Error(s(161))}}catch(Y){an(t,t.return,Y)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Rx(t,a,d){Le=t,h0(t)}function h0(t,a,d){for(var m=(t.mode&1)!==0;Le!==null;){var A=Le,I=A.child;if(A.tag===22&&m){var _=A.memoizedState!==null||Bl;if(!_){var W=A.alternate,Y=W!==null&&W.memoizedState!==null||Zn;W=Bl;var ae=Zn;if(Bl=_,(Zn=Y)&&!ae)for(Le=A;Le!==null;)_=Le,Y=_.child,_.tag===22&&_.memoizedState!==null?m0(A):Y!==null?(Y.return=_,Le=Y):m0(A);for(;I!==null;)Le=I,h0(I),I=I.sibling;Le=A,Bl=W,Zn=ae}p0(t)}else A.subtreeFlags&8772&&I!==null?(I.return=A,Le=I):p0(t)}}function p0(t){for(;Le!==null;){var a=Le;if(a.flags&8772){var d=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Zn||Fl(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Zn)if(d===null)m.componentDidMount();else{var A=a.elementType===a.type?d.memoizedProps:Yr(a.type,d.memoizedProps);m.componentDidUpdate(A,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var I=a.updateQueue;I!==null&&gh(a,I,m);break;case 3:var _=a.updateQueue;if(_!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}gh(a,_,d)}break;case 5:var W=a.stateNode;if(d===null&&a.flags&4){d=W;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&d.focus();break;case"img":Y.src&&(d.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ae=a.alternate;if(ae!==null){var xe=ae.memoizedState;if(xe!==null){var ye=xe.dehydrated;ye!==null&&Vr(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Zn||a.flags&512&&Pc(a)}catch(ge){an(a,a.return,ge)}}if(a===t){Le=null;break}if(d=a.sibling,d!==null){d.return=a.return,Le=d;break}Le=a.return}}function g0(t){for(;Le!==null;){var a=Le;if(a===t){Le=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Le=d;break}Le=a.return}}function m0(t){for(;Le!==null;){var a=Le;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Fl(4,a)}catch(Y){an(a,d,Y)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var A=a.return;try{m.componentDidMount()}catch(Y){an(a,A,Y)}}var I=a.return;try{Pc(a)}catch(Y){an(a,I,Y)}break;case 5:var _=a.return;try{Pc(a)}catch(Y){an(a,_,Y)}}}catch(Y){an(a,a.return,Y)}if(a===t){Le=null;break}var W=a.sibling;if(W!==null){W.return=a.return,Le=W;break}Le=a.return}}var Mx=Math.ceil,jl=re.ReactCurrentDispatcher,Bc=re.ReactCurrentOwner,Lr=re.ReactCurrentBatchConfig,At=0,Rn=null,xn=null,Bn=0,vr=0,mo=Ki(0),Sn=0,ga=null,Os=0,Ul=0,Fc=0,ma=null,ur=null,jc=0,xo=1/0,Mi=null,zl=!1,Uc=null,ts=null,Vl=!1,ns=null,Wl=0,xa=0,zc=null,Hl=-1,Gl=0;function Jn(){return At&6?bt():Hl!==-1?Hl:Hl=bt()}function rs(t){return t.mode&1?At&2&&Bn!==0?Bn&-Bn:hx.transition!==null?(Gl===0&&(Gl=wn()),Gl):(t=at,t!==0||(t=window.event,t=t===void 0?16:Ho(t.type)),t):1}function Kr(t,a,d,m){if(50<xa)throw xa=0,zc=null,Error(s(185));j(t,d,m),(!(At&2)||t!==Rn)&&(t===Rn&&(!(At&2)&&(Ul|=d),Sn===4&&is(t,Bn)),cr(t,m),d===1&&At===0&&!(a.mode&1)&&(xo=bt()+500,wl&&$i()))}function cr(t,a){var d=t.callbackNode;Fi(t,a);var m=gr(t,t===Rn?Bn:0);if(m===0)d!==null&&In(d),t.callbackNode=null,t.callbackPriority=0;else if(a=m&-m,t.callbackPriority!==a){if(d!=null&&In(d),a===1)t.tag===0?dx(y0.bind(null,t)):rh(y0.bind(null,t)),lx(function(){!(At&6)&&$i()}),d=null;else{switch(el(m)){case 1:d=he;break;case 4:d=qa;break;case 16:d=Ot;break;case 536870912:d=Ja;break;default:d=Ot}d=I0(d,x0.bind(null,t))}t.callbackPriority=a,t.callbackNode=d}}function x0(t,a){if(Hl=-1,Gl=0,At&6)throw Error(s(327));var d=t.callbackNode;if(yo()&&t.callbackNode!==d)return null;var m=gr(t,t===Rn?Bn:0);if(m===0)return null;if(m&30||m&t.expiredLanes||a)a=Yl(t,m);else{a=m;var A=At;At|=2;var I=C0();(Rn!==t||Bn!==a)&&(Mi=null,xo=bt()+500,Ls(t,a));do try{Ox();break}catch(W){w0(t,W)}while(!0);sc(),jl.current=I,At=A,xn!==null?a=0:(Rn=null,Bn=0,a=Sn)}if(a!==0){if(a===2&&(A=Nt(t),A!==0&&(m=A,a=Vc(t,A))),a===1)throw d=ga,Ls(t,0),is(t,m),cr(t,bt()),d;if(a===6)is(t,m);else{if(A=t.current.alternate,!(m&30)&&!_x(A)&&(a=Yl(t,m),a===2&&(I=Nt(t),I!==0&&(m=I,a=Vc(t,I))),a===1))throw d=ga,Ls(t,0),is(t,m),cr(t,bt()),d;switch(t.finishedWork=A,t.finishedLanes=m,a){case 0:case 1:throw Error(s(345));case 2:ks(t,ur,Mi);break;case 3:if(is(t,m),(m&130023424)===m&&(a=jc+500-bt(),10<a)){if(gr(t,0)!==0)break;if(A=t.suspendedLanes,(A&m)!==m){Jn(),t.pingedLanes|=t.suspendedLanes&A;break}t.timeoutHandle=Zu(ks.bind(null,t,ur,Mi),a);break}ks(t,ur,Mi);break;case 4:if(is(t,m),(m&4194240)===m)break;for(a=t.eventTimes,A=-1;0<m;){var _=31-$n(m);I=1<<_,_=a[_],_>A&&(A=_),m&=~I}if(m=A,m=bt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Mx(m/1960))-m,10<m){t.timeoutHandle=Zu(ks.bind(null,t,ur,Mi),m);break}ks(t,ur,Mi);break;case 5:ks(t,ur,Mi);break;default:throw Error(s(329))}}}return cr(t,bt()),t.callbackNode===d?x0.bind(null,t):null}function Vc(t,a){var d=ma;return t.current.memoizedState.isDehydrated&&(Ls(t,a).flags|=256),t=Yl(t,a),t!==2&&(a=ur,ur=d,a!==null&&Wc(a)),t}function Wc(t){ur===null?ur=t:ur.push.apply(ur,t)}function _x(t){for(var a=t;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var A=d[m],I=A.getSnapshot;A=A.value;try{if(!$(I(),A))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function is(t,a){for(a&=~Fc,a&=~Ul,t.suspendedLanes|=a,t.pingedLanes&=~a,t=t.expirationTimes;0<a;){var d=31-$n(a),m=1<<d;t[d]=-1,a&=~m}}function y0(t){if(At&6)throw Error(s(327));yo();var a=gr(t,0);if(!(a&1))return cr(t,bt()),null;var d=Yl(t,a);if(t.tag!==0&&d===2){var m=Nt(t);m!==0&&(a=m,d=Vc(t,m))}if(d===1)throw d=ga,Ls(t,0),is(t,a),cr(t,bt()),d;if(d===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=a,ks(t,ur,Mi),cr(t,bt()),null}function Hc(t,a){var d=At;At|=1;try{return t(a)}finally{At=d,At===0&&(xo=bt()+500,wl&&$i())}}function Ps(t){ns!==null&&ns.tag===0&&!(At&6)&&yo();var a=At;At|=1;var d=Lr.transition,m=at;try{if(Lr.transition=null,at=1,t)return t()}finally{at=m,Lr.transition=d,At=a,!(At&6)&&$i()}}function Gc(){vr=mo.current,Xt(mo)}function Ls(t,a){t.finishedWork=null,t.finishedLanes=0;var d=t.timeoutHandle;if(d!==-1&&(t.timeoutHandle=-1,ax(d)),xn!==null)for(d=xn.return;d!==null;){var m=d;switch(ec(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&xl();break;case 3:ho(),Xt(or),Xt(Gn),hc();break;case 5:fc(m);break;case 4:ho();break;case 13:Xt(en);break;case 19:Xt(en);break;case 10:oc(m.type._context);break;case 22:case 23:Gc()}d=d.return}if(Rn=t,xn=t=ss(t.current,null),Bn=vr=a,Sn=0,ga=null,Fc=Ul=Os=0,ur=ma=null,Ms!==null){for(a=0;a<Ms.length;a++)if(d=Ms[a],m=d.interleaved,m!==null){d.interleaved=null;var A=m.next,I=d.pending;if(I!==null){var _=I.next;I.next=A,m.next=_}d.pending=m}Ms=null}return t}function w0(t,a){do{var d=xn;try{if(sc(),Rl.current=Ol,Ml){for(var m=tn.memoizedState;m!==null;){var A=m.queue;A!==null&&(A.pending=null),m=m.next}Ml=!1}if(Ds=0,Nn=An=tn=null,ua=!1,ca=0,Bc.current=null,d===null||d.return===null){Sn=1,ga=a,xn=null;break}e:{var I=t,_=d.return,W=d,Y=a;if(a=Bn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ae=Y,xe=W,ye=xe.tag;if(!(xe.mode&1)&&(ye===0||ye===11||ye===15)){var ge=xe.alternate;ge?(xe.updateQueue=ge.updateQueue,xe.memoizedState=ge.memoizedState,xe.lanes=ge.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var Oe=Hh(_);if(Oe!==null){Oe.flags&=-257,Gh(Oe,_,W,I,a),Oe.mode&1&&Wh(I,ae,a),a=Oe,Y=ae;var ke=a.updateQueue;if(ke===null){var Fe=new Set;Fe.add(Y),a.updateQueue=Fe}else ke.add(Y);break e}else{if(!(a&1)){Wh(I,ae,a),Yc();break e}Y=Error(s(426))}}else if(Qt&&W.mode&1){var pn=Hh(_);if(pn!==null){!(pn.flags&65536)&&(pn.flags|=256),Gh(pn,_,W,I,a),rc(po(Y,W));break e}}I=Y=po(Y,W),Sn!==4&&(Sn=2),ma===null?ma=[I]:ma.push(I),I=_;do{switch(I.tag){case 3:I.flags|=65536,a&=-a,I.lanes|=a;var ee=zh(I,Y,a);ph(I,ee);break e;case 1:W=Y;var Q=I.type,ie=I.stateNode;if(!(I.flags&128)&&(typeof Q.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(ts===null||!ts.has(ie)))){I.flags|=65536,a&=-a,I.lanes|=a;var Te=Vh(I,W,a);ph(I,Te);break e}}I=I.return}while(I!==null)}E0(d)}catch(ze){a=ze,xn===d&&d!==null&&(xn=d=d.return);continue}break}while(!0)}function C0(){var t=jl.current;return jl.current=Ol,t===null?Ol:t}function Yc(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Rn===null||!(Os&268435455)&&!(Ul&268435455)||is(Rn,Bn)}function Yl(t,a){var d=At;At|=2;var m=C0();(Rn!==t||Bn!==a)&&(Mi=null,Ls(t,a));do try{Dx();break}catch(A){w0(t,A)}while(!0);if(sc(),At=d,jl.current=m,xn!==null)throw Error(s(261));return Rn=null,Bn=0,Sn}function Dx(){for(;xn!==null;)v0(xn)}function Ox(){for(;xn!==null&&!jt();)v0(xn)}function v0(t){var a=T0(t.alternate,t,vr);t.memoizedProps=t.pendingProps,a===null?E0(t):xn=a,Bc.current=null}function E0(t){var a=t;do{var d=a.alternate;if(t=a.return,a.flags&32768){if(d=Ix(d,a),d!==null){d.flags&=32767,xn=d;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sn=6,xn=null;return}}else if(d=Tx(d,a,vr),d!==null){xn=d;return}if(a=a.sibling,a!==null){xn=a;return}xn=a=t}while(a!==null);Sn===0&&(Sn=5)}function ks(t,a,d){var m=at,A=Lr.transition;try{Lr.transition=null,at=1,Px(t,a,d,m)}finally{Lr.transition=A,at=m}return null}function Px(t,a,d,m){do yo();while(ns!==null);if(At&6)throw Error(s(327));d=t.finishedWork;var A=t.finishedLanes;if(d===null)return null;if(t.finishedWork=null,t.finishedLanes=0,d===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var I=d.lanes|d.childLanes;if(We(t,I),t===Rn&&(xn=Rn=null,Bn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||Vl||(Vl=!0,I0(Ot,function(){return yo(),null})),I=(d.flags&15990)!==0,d.subtreeFlags&15990||I){I=Lr.transition,Lr.transition=null;var _=at;at=1;var W=At;At|=4,Bc.current=null,Nx(t,d),d0(d,t),Hn(Yu),ni=!!Gu,Yu=Gu=null,t.current=d,Rx(d),$a(),At=W,at=_,Lr.transition=I}else t.current=d;if(Vl&&(Vl=!1,ns=t,Wl=A),I=t.pendingLanes,I===0&&(ts=null),pt(d.stateNode),cr(t,bt()),a!==null)for(m=t.onRecoverableError,d=0;d<a.length;d++)A=a[d],m(A.value,{componentStack:A.stack,digest:A.digest});if(zl)throw zl=!1,t=Uc,Uc=null,t;return Wl&1&&t.tag!==0&&yo(),I=t.pendingLanes,I&1?t===zc?xa++:(xa=0,zc=t):xa=0,$i(),null}function yo(){if(ns!==null){var t=el(Wl),a=Lr.transition,d=at;try{if(Lr.transition=null,at=16>t?16:t,ns===null)var m=!1;else{if(t=ns,ns=null,Wl=0,At&6)throw Error(s(331));var A=At;for(At|=4,Le=t.current;Le!==null;){var I=Le,_=I.child;if(Le.flags&16){var W=I.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var ae=W[Y];for(Le=ae;Le!==null;){var xe=Le;switch(xe.tag){case 0:case 11:case 15:pa(8,xe,I)}var ye=xe.child;if(ye!==null)ye.return=xe,Le=ye;else for(;Le!==null;){xe=Le;var ge=xe.sibling,Oe=xe.return;if(a0(xe),xe===ae){Le=null;break}if(ge!==null){ge.return=Oe,Le=ge;break}Le=Oe}}}var ke=I.alternate;if(ke!==null){var Fe=ke.child;if(Fe!==null){ke.child=null;do{var pn=Fe.sibling;Fe.sibling=null,Fe=pn}while(Fe!==null)}}Le=I}}if(I.subtreeFlags&2064&&_!==null)_.return=I,Le=_;else e:for(;Le!==null;){if(I=Le,I.flags&2048)switch(I.tag){case 0:case 11:case 15:pa(9,I,I.return)}var ee=I.sibling;if(ee!==null){ee.return=I.return,Le=ee;break e}Le=I.return}}var Q=t.current;for(Le=Q;Le!==null;){_=Le;var ie=_.child;if(_.subtreeFlags&2064&&ie!==null)ie.return=_,Le=ie;else e:for(_=Q;Le!==null;){if(W=Le,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Fl(9,W)}}catch(ze){an(W,W.return,ze)}if(W===_){Le=null;break e}var Te=W.sibling;if(Te!==null){Te.return=W.return,Le=Te;break e}Le=W.return}}if(At=A,$i(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(yt,t)}catch{}m=!0}return m}finally{at=d,Lr.transition=a}}return!1}function A0(t,a,d){a=po(d,a),a=zh(t,a,1),t=Ji(t,a,1),a=Jn(),t!==null&&(j(t,1,a),cr(t,a))}function an(t,a,d){if(t.tag===3)A0(t,t,d);else for(;a!==null;){if(a.tag===3){A0(a,t,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ts===null||!ts.has(m))){t=po(d,t),t=Vh(a,t,1),a=Ji(a,t,1),t=Jn(),a!==null&&(j(a,1,t),cr(a,t));break}}a=a.return}}function Lx(t,a,d){var m=t.pingCache;m!==null&&m.delete(a),a=Jn(),t.pingedLanes|=t.suspendedLanes&d,Rn===t&&(Bn&d)===d&&(Sn===4||Sn===3&&(Bn&130023424)===Bn&&500>bt()-jc?Ls(t,0):Fc|=d),cr(t,a)}function S0(t,a){a===0&&(t.mode&1?(a=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):a=1);var d=Jn();t=bi(t,a),t!==null&&(j(t,a,d),cr(t,d))}function kx(t){var a=t.memoizedState,d=0;a!==null&&(d=a.retryLane),S0(t,d)}function Bx(t,a){var d=0;switch(t.tag){case 13:var m=t.stateNode,A=t.memoizedState;A!==null&&(d=A.retryLane);break;case 19:m=t.stateNode;break;default:throw Error(s(314))}m!==null&&m.delete(a),S0(t,d)}var T0;T0=function(t,a,d){if(t!==null)if(t.memoizedProps!==a.pendingProps||or.current)lr=!0;else{if(!(t.lanes&d)&&!(a.flags&128))return lr=!1,Sx(t,a,d);lr=!!(t.flags&131072)}else lr=!1,Qt&&a.flags&1048576&&ih(a,vl,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;kl(t,a),t=a.pendingProps;var A=so(a,Gn.current);fo(a,d),A=mc(null,a,m,t,A,d);var I=xc();return a.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ar(m)?(I=!0,yl(a)):I=!1,a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,uc(a),A.updater=Pl,a.stateNode=A,A._reactInternals=a,Ac(a,m,t,d),a=bc(null,a,m,!0,I,d)):(a.tag=0,Qt&&I&&Ju(a),qn(null,a,A,d),a=a.child),a;case 16:m=a.elementType;e:{switch(kl(t,a),t=a.pendingProps,A=m._init,m=A(m._payload),a.type=m,A=a.tag=jx(m),t=Yr(m,t),A){case 0:a=Ic(null,a,m,t,d);break e;case 1:a=$h(null,a,m,t,d);break e;case 11:a=Yh(null,a,m,t,d);break e;case 14:a=Xh(null,a,m,Yr(m.type,t),d);break e}throw Error(s(306,m,""))}return a;case 0:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Yr(m,A),Ic(t,a,m,A,d);case 1:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Yr(m,A),$h(t,a,m,A,d);case 3:e:{if(qh(a),t===null)throw Error(s(387));m=a.pendingProps,I=a.memoizedState,A=I.element,hh(t,a),bl(a,m,null,d);var _=a.memoizedState;if(m=_.element,I.isDehydrated)if(I={element:m,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},a.updateQueue.baseState=I,a.memoizedState=I,a.flags&256){A=po(Error(s(423)),a),a=Jh(t,a,m,d,A);break e}else if(m!==A){A=po(Error(s(424)),a),a=Jh(t,a,m,d,A);break e}else for(Cr=Zi(a.stateNode.containerInfo.firstChild),wr=a,Qt=!0,Gr=null,d=fh(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(lo(),m===A){a=Ri(t,a,d);break e}qn(t,a,m,d)}a=a.child}return a;case 5:return mh(a),t===null&&nc(a),m=a.type,A=a.pendingProps,I=t!==null?t.memoizedProps:null,_=A.children,Xu(m,A)?_=null:I!==null&&Xu(m,I)&&(a.flags|=32),Qh(t,a),qn(t,a,_,d),a.child;case 6:return t===null&&nc(a),null;case 13:return e0(t,a,d);case 4:return cc(a,a.stateNode.containerInfo),m=a.pendingProps,t===null?a.child=uo(a,null,m,d):qn(t,a,m,d),a.child;case 11:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Yr(m,A),Yh(t,a,m,A,d);case 7:return qn(t,a,a.pendingProps,d),a.child;case 8:return qn(t,a,a.pendingProps.children,d),a.child;case 12:return qn(t,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,A=a.pendingProps,I=a.memoizedProps,_=A.value,Vt(Sl,m._currentValue),m._currentValue=_,I!==null)if($(I.value,_)){if(I.children===A.children&&!or.current){a=Ri(t,a,d);break e}}else for(I=a.child,I!==null&&(I.return=a);I!==null;){var W=I.dependencies;if(W!==null){_=I.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===m){if(I.tag===1){Y=Ni(-1,d&-d),Y.tag=2;var ae=I.updateQueue;if(ae!==null){ae=ae.shared;var xe=ae.pending;xe===null?Y.next=Y:(Y.next=xe.next,xe.next=Y),ae.pending=Y}}I.lanes|=d,Y=I.alternate,Y!==null&&(Y.lanes|=d),ac(I.return,d,a),W.lanes|=d;break}Y=Y.next}}else if(I.tag===10)_=I.type===a.type?null:I.child;else if(I.tag===18){if(_=I.return,_===null)throw Error(s(341));_.lanes|=d,W=_.alternate,W!==null&&(W.lanes|=d),ac(_,d,a),_=I.sibling}else _=I.child;if(_!==null)_.return=I;else for(_=I;_!==null;){if(_===a){_=null;break}if(I=_.sibling,I!==null){I.return=_.return,_=I;break}_=_.return}I=_}qn(t,a,A.children,d),a=a.child}return a;case 9:return A=a.type,m=a.pendingProps.children,fo(a,d),A=Or(A),m=m(A),a.flags|=1,qn(t,a,m,d),a.child;case 14:return m=a.type,A=Yr(m,a.pendingProps),A=Yr(m.type,A),Xh(t,a,m,A,d);case 15:return Zh(t,a,a.type,a.pendingProps,d);case 17:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Yr(m,A),kl(t,a),a.tag=1,ar(m)?(t=!0,yl(a)):t=!1,fo(a,d),jh(a,m,A),Ac(a,m,A,d),bc(null,a,m,!0,t,d);case 19:return n0(t,a,d);case 22:return Kh(t,a,d)}throw Error(s(156,a.tag))};function I0(t,a){return hr(t,a)}function Fx(t,a,d,m){this.tag=t,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(t,a,d,m){return new Fx(t,a,d,m)}function Xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jx(t){if(typeof t=="function")return Xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ne)return 11;if(t===Z)return 14}return 2}function ss(t,a){var d=t.alternate;return d===null?(d=kr(t.tag,a,t.key,t.mode),d.elementType=t.elementType,d.type=t.type,d.stateNode=t.stateNode,d.alternate=t,t.alternate=d):(d.pendingProps=a,d.type=t.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=t.flags&14680064,d.childLanes=t.childLanes,d.lanes=t.lanes,d.child=t.child,d.memoizedProps=t.memoizedProps,d.memoizedState=t.memoizedState,d.updateQueue=t.updateQueue,a=t.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=t.sibling,d.index=t.index,d.ref=t.ref,d}function Xl(t,a,d,m,A,I){var _=2;if(m=t,typeof t=="function")Xc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case q:return Bs(d.children,A,I,a);case ce:_=8,A|=8;break;case ne:return t=kr(12,d,a,A|2),t.elementType=ne,t.lanes=I,t;case je:return t=kr(13,d,a,A),t.elementType=je,t.lanes=I,t;case be:return t=kr(19,d,a,A),t.elementType=be,t.lanes=I,t;case pe:return Zl(d,A,I,a);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:_=10;break e;case Ue:_=9;break e;case Ne:_=11;break e;case Z:_=14;break e;case Ie:_=16,m=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return a=kr(_,d,a,A),a.elementType=t,a.type=m,a.lanes=I,a}function Bs(t,a,d,m){return t=kr(7,t,m,a),t.lanes=d,t}function Zl(t,a,d,m){return t=kr(22,t,m,a),t.elementType=pe,t.lanes=d,t.stateNode={isHidden:!1},t}function Zc(t,a,d){return t=kr(6,t,null,a),t.lanes=d,t}function Kc(t,a,d){return a=kr(4,t.children!==null?t.children:[],t.key,a),a.lanes=d,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}function Ux(t,a,d,m,A){this.tag=a,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J(0),this.expirationTimes=J(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J(0),this.identifierPrefix=m,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Qc(t,a,d,m,A,I,_,W,Y){return t=new Ux(t,a,d,W,Y),a===1?(a=1,I===!0&&(a|=8)):a=0,I=kr(3,null,null,a),t.current=I,I.stateNode=t,I.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},uc(I),t}function zx(t,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:m==null?null:""+m,children:t,containerInfo:a,implementation:d}}function b0(t){if(!t)return Qi;t=t._reactInternals;e:{if(sr(t)!==t||t.tag!==1)throw Error(s(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ar(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(t.tag===1){var d=t.type;if(ar(d))return th(t,d,a)}return a}function N0(t,a,d,m,A,I,_,W,Y){return t=Qc(d,m,!0,t,A,I,_,W,Y),t.context=b0(null),d=t.current,m=Jn(),A=rs(d),I=Ni(m,A),I.callback=a??null,Ji(d,I,A),t.current.lanes=A,j(t,A,m),cr(t,m),t}function Kl(t,a,d,m){var A=a.current,I=Jn(),_=rs(A);return d=b0(d),a.context===null?a.context=d:a.pendingContext=d,a=Ni(I,_),a.payload={element:t},m=m===void 0?null:m,m!==null&&(a.callback=m),t=Ji(A,a,_),t!==null&&(Kr(t,A,_,I),Il(t,A,_)),_}function Ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function R0(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var d=t.retryLane;t.retryLane=d!==0&&d<a?d:a}}function $c(t,a){R0(t,a),(t=t.alternate)&&R0(t,a)}function Vx(){return null}var M0=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}$l.prototype.render=qc.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(s(409));Kl(t,a,null,null)},$l.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Ps(function(){Kl(null,t,null,null)}),a[Ai]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var a=Ut();t={blockedOn:null,target:t,priority:a};for(var d=0;d<On.length&&a!==0&&a<On[d].priority;d++);On.splice(d,0,t),d===0&&nl(t)}};function Jc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _0(){}function Wx(t,a,d,m,A){if(A){if(typeof m=="function"){var I=m;m=function(){var ae=Ql(_);I.call(ae)}}var _=N0(a,m,t,0,null,!1,!1,"",_0);return t._reactRootContainer=_,t[Ai]=_.current,ta(t.nodeType===8?t.parentNode:t),Ps(),_}for(;A=t.lastChild;)t.removeChild(A);if(typeof m=="function"){var W=m;m=function(){var ae=Ql(Y);W.call(ae)}}var Y=Qc(t,0,!1,null,null,!1,!1,"",_0);return t._reactRootContainer=Y,t[Ai]=Y.current,ta(t.nodeType===8?t.parentNode:t),Ps(function(){Kl(a,Y,d,m)}),Y}function Jl(t,a,d,m,A){var I=d._reactRootContainer;if(I){var _=I;if(typeof A=="function"){var W=A;A=function(){var Y=Ql(_);W.call(Y)}}Kl(a,_,t,A)}else _=Wx(d,a,t,A,m);return Ql(_)}Zs=function(t){switch(t.tag){case 3:var a=t.stateNode;if(a.current.memoizedState.isDehydrated){var d=Pt(a.pendingLanes);d!==0&&(sn(a,d|1),cr(a,bt()),!(At&6)&&(xo=bt()+500,$i()))}break;case 13:Ps(function(){var m=bi(t,1);if(m!==null){var A=Jn();Kr(m,t,1,A)}}),$c(t,1)}},Wn=function(t){if(t.tag===13){var a=bi(t,134217728);if(a!==null){var d=Jn();Kr(a,t,134217728,d)}$c(t,134217728)}},He=function(t){if(t.tag===13){var a=rs(t),d=bi(t,a);if(d!==null){var m=Jn();Kr(d,t,a,m)}$c(t,a)}},Ut=function(){return at},zo=function(t,a){var d=at;try{return at=t,a()}finally{at=d}},Gs=function(t,a,d){switch(a){case"input":if(kt(t,d),a=d.name,d.type==="radio"&&a!=null){for(d=t;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==t&&m.form===t.form){var A=ml(m);if(!A)throw Error(s(90));Ur(m),kt(m,A)}}}break;case"textarea":wt(t,d);break;case"select":a=d.value,a!=null&&Ee(t,!!d.multiple,a,!1)}},Ys=Hc,yn=Ps;var Hx={usingClientEntryPoint:!1,Events:[ia,ro,ml,Po,ir,Hc]},ya={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gx={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ka(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||Vx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{yt=eu.inject(Gx),ot=eu}catch{}}return fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx,fr.createPortal=function(t,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jc(a))throw Error(s(200));return zx(t,a,null,d)},fr.createRoot=function(t,a){if(!Jc(t))throw Error(s(299));var d=!1,m="",A=M0;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=Qc(t,1,!1,null,null,d,!1,m,A),t[Ai]=a.current,ta(t.nodeType===8?t.parentNode:t),new qc(a)},fr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Ka(a),t=t===null?null:t.stateNode,t},fr.flushSync=function(t){return Ps(t)},fr.hydrate=function(t,a,d){if(!ql(a))throw Error(s(200));return Jl(null,t,a,!0,d)},fr.hydrateRoot=function(t,a,d){if(!Jc(t))throw Error(s(405));var m=d!=null&&d.hydratedSources||null,A=!1,I="",_=M0;if(d!=null&&(d.unstable_strictMode===!0&&(A=!0),d.identifierPrefix!==void 0&&(I=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),a=N0(a,null,t,1,d??null,A,!1,I,_),t[Ai]=a.current,ta(t),m)for(t=0;t<m.length;t++)d=m[t],A=d._getVersion,A=A(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,A]:a.mutableSourceEagerHydrationData.push(d,A);return new $l(a)},fr.render=function(t,a,d){if(!ql(a))throw Error(s(200));return Jl(null,t,a,!1,d)},fr.unmountComponentAtNode=function(t){if(!ql(t))throw Error(s(40));return t._reactRootContainer?(Ps(function(){Jl(null,null,t,!1,function(){t._reactRootContainer=null,t[Ai]=null})}),!0):!1},fr.unstable_batchedUpdates=Hc,fr.unstable_renderSubtreeIntoContainer=function(t,a,d,m){if(!ql(d))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return Jl(t,a,d,!1,m)},fr.version="18.3.1-next-f1338f8080-20240426",fr}var j0;function e2(){if(j0)return nf.exports;j0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),nf.exports=Jx(),nf.exports}var U0;function t2(){if(U0)return nu;U0=1;var r=e2();return nu.createRoot=r.createRoot,nu.hydrateRoot=r.hydrateRoot,nu}var n2=t2();const pi=L.createContext(null),r2=({children:r})=>{const[i,s]=L.useState(null),[c,h]=L.useState(null),[p,w]=L.useState(null),[E,C]=L.useState(null),[x,S]=L.useState(!1),[T,N]=L.useState(null),O=async()=>{const z=localStorage.getItem("access_token");if(z)try{const H=await fetch(window.server_url+"/load_user",{headers:{Authorization:`Bearer ${z}`}});if(H.ok){S(!0);const V=await H.json();console.log("USER DATA:",V),s(V.username),h(V.profile),N(V.permissions),console.log("PERMISSIONS:",V.permissions)}else console.log("TOKEN INVALID"),localStorage.removeItem("token"),s(null),h(null),w(null),C(null),S(!1)}catch(H){console.log("ERROR:",H)}};L.useEffect(()=>{O()},[]);const k=z=>{s(z.username),w(z.access_token),C(z.refresh_token),N(z.permissions),console.log("PRE SAVE USERNAME:",z.username),localStorage.setItem("user",z.username),localStorage.setItem("access_token",z.access_token),localStorage.setItem("refresh_token",z.refresh_token)},F=async(z,H)=>{const V=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:z,password:H})});if(V.ok){const re=await V.json();console.log("SIGNED UP, userData:",re)}},B=()=>{s(null),h(null),w(null),C(null),S(!1)};return D.jsx(pi.Provider,{value:{user:i,login:k,signup:F,logout:B,userProfile:c,checkAuth:O,permissions:T},children:r})};var Tf=function(r,i){return Tf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])},Tf(r,i)};function i2(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Tf(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}var Fn=function(){return Fn=Object.assign||function(i){for(var s,c=1,h=arguments.length;c<h;c++){s=arguments[c];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(i[p]=s[p])}return i},Fn.apply(this,arguments)};var of,z0;function s2(){if(z0)return of;z0=1;var r=!1,i,s,c,h,p,w,E,C,x,S,T,N,O,k,F;function B(){if(!r){r=!0;var H=navigator.userAgent,V=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(H),re=/(Mac OS X)|(Windows)|(Linux)/.exec(H);if(N=/\b(iPhone|iP[ao]d)/.exec(H),O=/\b(iP[ao]d)/.exec(H),S=/Android/i.exec(H),k=/FBAN\/\w+;/i.exec(H),F=/Mobile/i.exec(H),T=!!/Win64/.exec(H),V){i=V[1]?parseFloat(V[1]):V[5]?parseFloat(V[5]):NaN,i&&document&&document.documentMode&&(i=document.documentMode);var le=/(?:Trident\/(\d+.\d+))/.exec(H);w=le?parseFloat(le[1])+4:i,s=V[2]?parseFloat(V[2]):NaN,c=V[3]?parseFloat(V[3]):NaN,h=V[4]?parseFloat(V[4]):NaN,h?(V=/(?:Chrome\/(\d+\.\d+))/.exec(H),p=V&&V[1]?parseFloat(V[1]):NaN):p=NaN}else i=s=c=p=h=NaN;if(re){if(re[1]){var ue=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(H);E=ue?parseFloat(ue[1].replace("_",".")):!0}else E=!1;C=!!re[2],x=!!re[3]}else E=C=x=!1}}var z={ie:function(){return B()||i},ieCompatibilityMode:function(){return B()||w>i},ie64:function(){return z.ie()&&T},firefox:function(){return B()||s},opera:function(){return B()||c},webkit:function(){return B()||h},safari:function(){return z.webkit()},chrome:function(){return B()||p},windows:function(){return B()||C},osx:function(){return B()||E},linux:function(){return B()||x},iphone:function(){return B()||N},mobile:function(){return B()||N||O||S||F},nativeApp:function(){return B()||k},android:function(){return B()||S},ipad:function(){return B()||O}};return of=z,of}var af,V0;function o2(){if(V0)return af;V0=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return af=i,af}var lf,W0;function a2(){if(W0)return lf;W0=1;var r=o2(),i;r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function s(c,h){if(!r.canUseDOM||h&&!("addEventListener"in document))return!1;var p="on"+c,w=p in document;if(!w){var E=document.createElement("div");E.setAttribute(p,"return;"),w=typeof E[p]=="function"}return!w&&i&&c==="wheel"&&(w=document.implementation.hasFeature("Events.wheel","3.0")),w}return lf=s,lf}var uf,H0;function l2(){if(H0)return uf;H0=1;var r=s2(),i=a2(),s=10,c=40,h=800;function p(w){var E=0,C=0,x=0,S=0;return"detail"in w&&(C=w.detail),"wheelDelta"in w&&(C=-w.wheelDelta/120),"wheelDeltaY"in w&&(C=-w.wheelDeltaY/120),"wheelDeltaX"in w&&(E=-w.wheelDeltaX/120),"axis"in w&&w.axis===w.HORIZONTAL_AXIS&&(E=C,C=0),x=E*s,S=C*s,"deltaY"in w&&(S=w.deltaY),"deltaX"in w&&(x=w.deltaX),(x||S)&&w.deltaMode&&(w.deltaMode==1?(x*=c,S*=c):(x*=h,S*=h)),x&&!E&&(E=x<1?-1:1),S&&!C&&(C=S<1?-1:1),{spinX:E,spinY:C,pixelX:x,pixelY:S}}return p.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},uf=p,uf}var cf,G0;function u2(){return G0||(G0=1,cf=l2()),cf}var c2=u2();const f2=Kf(c2);function d2(r,i,s,c,h,p){p===void 0&&(p=0);var w=Io(r,i,p),E=w.width,C=w.height,x=Math.min(E,s),S=Math.min(C,c);return x>S*h?{width:S*h,height:S}:{width:x,height:x/h}}function h2(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function Ca(r,i,s,c,h){h===void 0&&(h=0);var p=Io(i.width,i.height,h),w=p.width,E=p.height;return{x:Y0(r.x,w,s.width,c),y:Y0(r.y,E,s.height,c)}}function Y0(r,i,s,c){var h=i*c/2-s/2;return Iu(r,-h,h)}function X0(r,i){return Math.sqrt(Math.pow(r.y-i.y,2)+Math.pow(r.x-i.x,2))}function Z0(r,i){return Math.atan2(i.y-r.y,i.x-r.x)*180/Math.PI}function p2(r,i,s,c,h,p,w){p===void 0&&(p=0),w===void 0&&(w=!0);var E=w?g2:m2,C=Io(i.width,i.height,p),x=Io(i.naturalWidth,i.naturalHeight,p),S={x:E(100,((C.width-s.width/h)/2-r.x/h)/C.width*100),y:E(100,((C.height-s.height/h)/2-r.y/h)/C.height*100),width:E(100,s.width/C.width*100/h),height:E(100,s.height/C.height*100/h)},T=Math.round(E(x.width,S.width*x.width/100)),N=Math.round(E(x.height,S.height*x.height/100)),O=x.width>=x.height*c,k=O?{width:Math.round(N*c),height:N}:{width:T,height:Math.round(T/c)},F=Fn(Fn({},k),{x:Math.round(E(x.width-k.width,S.x*x.width/100)),y:Math.round(E(x.height-k.height,S.y*x.height/100))});return{croppedAreaPercentages:S,croppedAreaPixels:F}}function g2(r,i){return Math.min(r,Math.max(0,i))}function m2(r,i){return i}function x2(r,i,s,c,h,p){var w=Io(i.width,i.height,s),E=Iu(c.width/w.width*(100/r.width),h,p),C={x:E*w.width/2-c.width/2-w.width*E*(r.x/100),y:E*w.height/2-c.height/2-w.height*E*(r.y/100)};return{crop:C,zoom:E}}function y2(r,i,s){var c=h2(i);return s.height>s.width?s.height/(r.height*c):s.width/(r.width*c)}function w2(r,i,s,c,h,p){s===void 0&&(s=0);var w=Io(i.naturalWidth,i.naturalHeight,s),E=Iu(y2(r,i,c),h,p),C=c.height>c.width?c.height/r.height:c.width/r.width,x={x:((w.width-r.width)/2-r.x)*C,y:((w.height-r.height)/2-r.y)*C};return{crop:x,zoom:E}}function K0(r,i){return{x:(i.x+r.x)/2,y:(i.y+r.y)/2}}function C2(r){return r*Math.PI/180}function Io(r,i,s){var c=C2(s);return{width:Math.abs(Math.cos(c)*r)+Math.abs(Math.sin(c)*i),height:Math.abs(Math.sin(c)*r)+Math.abs(Math.cos(c)*i)}}function Iu(r,i,s){return Math.min(Math.max(r,i),s)}function ru(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.filter(function(s){return typeof s=="string"&&s.length>0}).join(" ").trim()}var v2=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,E2=1,A2=3,S2=1,Vp=function(r){i2(i,r);function i(){var s=r!==null&&r.apply(this,arguments)||this;return s.imageRef=L.createRef(),s.videoRef=L.createRef(),s.containerPosition={x:0,y:0},s.containerRef=null,s.styleRef=null,s.containerRect=null,s.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},s.dragStartPosition={x:0,y:0},s.dragStartCrop={x:0,y:0},s.gestureZoomStart=0,s.gestureRotationStart=0,s.isTouching=!1,s.lastPinchDistance=0,s.lastPinchRotation=0,s.rafDragTimeout=null,s.rafPinchTimeout=null,s.wheelTimer=null,s.currentDoc=typeof document<"u"?document:null,s.currentWindow=typeof window<"u"?window:null,s.resizeObserver=null,s.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},s.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!s.containerRef)){var c=!0;s.resizeObserver=new window.ResizeObserver(function(h){if(c){c=!1;return}s.computeSizes()}),s.resizeObserver.observe(s.containerRef)}},s.preventZoomSafari=function(c){return c.preventDefault()},s.cleanEvents=function(){s.currentDoc&&(s.currentDoc.removeEventListener("mousemove",s.onMouseMove),s.currentDoc.removeEventListener("mouseup",s.onDragStopped),s.currentDoc.removeEventListener("touchmove",s.onTouchMove),s.currentDoc.removeEventListener("touchend",s.onDragStopped),s.currentDoc.removeEventListener("gesturemove",s.onGestureMove),s.currentDoc.removeEventListener("gestureend",s.onGestureEnd),s.currentDoc.removeEventListener("scroll",s.onScroll))},s.clearScrollEvent=function(){s.containerRef&&s.containerRef.removeEventListener("wheel",s.onWheel),s.wheelTimer&&clearTimeout(s.wheelTimer)},s.onMediaLoad=function(){var c=s.computeSizes();c&&(s.emitCropData(),s.setInitialCrop(c)),s.props.onMediaLoaded&&s.props.onMediaLoaded(s.mediaSize)},s.setInitialCrop=function(c){if(s.props.initialCroppedAreaPercentages){var h=x2(s.props.initialCroppedAreaPercentages,s.mediaSize,s.props.rotation,c,s.props.minZoom,s.props.maxZoom),p=h.crop,w=h.zoom;s.props.onCropChange(p),s.props.onZoomChange&&s.props.onZoomChange(w)}else if(s.props.initialCroppedAreaPixels){var E=w2(s.props.initialCroppedAreaPixels,s.mediaSize,s.props.rotation,c,s.props.minZoom,s.props.maxZoom),p=E.crop,w=E.zoom;s.props.onCropChange(p),s.props.onZoomChange&&s.props.onZoomChange(w)}},s.computeSizes=function(){var c,h,p,w,E,C,x=s.imageRef.current||s.videoRef.current;if(x&&s.containerRef){s.containerRect=s.containerRef.getBoundingClientRect(),s.saveContainerPosition();var S=s.containerRect.width/s.containerRect.height,T=((c=s.imageRef.current)===null||c===void 0?void 0:c.naturalWidth)||((h=s.videoRef.current)===null||h===void 0?void 0:h.videoWidth)||0,N=((p=s.imageRef.current)===null||p===void 0?void 0:p.naturalHeight)||((w=s.videoRef.current)===null||w===void 0?void 0:w.videoHeight)||0,O=x.offsetWidth<T||x.offsetHeight<N,k=T/N,F=void 0;if(O)switch(s.state.mediaObjectFit){default:case"contain":F=S>k?{width:s.containerRect.height*k,height:s.containerRect.height}:{width:s.containerRect.width,height:s.containerRect.width/k};break;case"horizontal-cover":F={width:s.containerRect.width,height:s.containerRect.width/k};break;case"vertical-cover":F={width:s.containerRect.height*k,height:s.containerRect.height};break}else F={width:x.offsetWidth,height:x.offsetHeight};s.mediaSize=Fn(Fn({},F),{naturalWidth:T,naturalHeight:N}),s.props.setMediaSize&&s.props.setMediaSize(s.mediaSize);var B=s.props.cropSize?s.props.cropSize:d2(s.mediaSize.width,s.mediaSize.height,s.containerRect.width,s.containerRect.height,s.props.aspect,s.props.rotation);return(((E=s.state.cropSize)===null||E===void 0?void 0:E.height)!==B.height||((C=s.state.cropSize)===null||C===void 0?void 0:C.width)!==B.width)&&s.props.onCropSizeChange&&s.props.onCropSizeChange(B),s.setState({cropSize:B},s.recomputeCropPosition),s.props.setCropSize&&s.props.setCropSize(B),B}},s.saveContainerPosition=function(){if(s.containerRef){var c=s.containerRef.getBoundingClientRect();s.containerPosition={x:c.left,y:c.top}}},s.onMouseDown=function(c){s.currentDoc&&(c.preventDefault(),s.currentDoc.addEventListener("mousemove",s.onMouseMove),s.currentDoc.addEventListener("mouseup",s.onDragStopped),s.saveContainerPosition(),s.onDragStart(i.getMousePoint(c)))},s.onMouseMove=function(c){return s.onDrag(i.getMousePoint(c))},s.onScroll=function(c){s.currentDoc&&(c.preventDefault(),s.saveContainerPosition())},s.onTouchStart=function(c){s.currentDoc&&(s.isTouching=!0,!(s.props.onTouchRequest&&!s.props.onTouchRequest(c))&&(s.currentDoc.addEventListener("touchmove",s.onTouchMove,{passive:!1}),s.currentDoc.addEventListener("touchend",s.onDragStopped),s.saveContainerPosition(),c.touches.length===2?s.onPinchStart(c):c.touches.length===1&&s.onDragStart(i.getTouchPoint(c.touches[0]))))},s.onTouchMove=function(c){c.preventDefault(),c.touches.length===2?s.onPinchMove(c):c.touches.length===1&&s.onDrag(i.getTouchPoint(c.touches[0]))},s.onGestureStart=function(c){s.currentDoc&&(c.preventDefault(),s.currentDoc.addEventListener("gesturechange",s.onGestureMove),s.currentDoc.addEventListener("gestureend",s.onGestureEnd),s.gestureZoomStart=s.props.zoom,s.gestureRotationStart=s.props.rotation)},s.onGestureMove=function(c){if(c.preventDefault(),!s.isTouching){var h=i.getMousePoint(c),p=s.gestureZoomStart-1+c.scale;if(s.setNewZoom(p,h,{shouldUpdatePosition:!0}),s.props.onRotationChange){var w=s.gestureRotationStart+c.rotation;s.props.onRotationChange(w)}}},s.onGestureEnd=function(c){s.cleanEvents()},s.onDragStart=function(c){var h,p,w=c.x,E=c.y;s.dragStartPosition={x:w,y:E},s.dragStartCrop=Fn({},s.props.crop),(p=(h=s.props).onInteractionStart)===null||p===void 0||p.call(h)},s.onDrag=function(c){var h=c.x,p=c.y;s.currentWindow&&(s.rafDragTimeout&&s.currentWindow.cancelAnimationFrame(s.rafDragTimeout),s.rafDragTimeout=s.currentWindow.requestAnimationFrame(function(){if(s.state.cropSize&&!(h===void 0||p===void 0)){var w=h-s.dragStartPosition.x,E=p-s.dragStartPosition.y,C={x:s.dragStartCrop.x+w,y:s.dragStartCrop.y+E},x=s.props.restrictPosition?Ca(C,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):C;s.props.onCropChange(x)}}))},s.onDragStopped=function(){var c,h;s.isTouching=!1,s.cleanEvents(),s.emitCropData(),(h=(c=s.props).onInteractionEnd)===null||h===void 0||h.call(c)},s.onWheel=function(c){if(s.currentWindow&&!(s.props.onWheelRequest&&!s.props.onWheelRequest(c))){c.preventDefault();var h=i.getMousePoint(c),p=f2(c).pixelY,w=s.props.zoom-p*s.props.zoomSpeed/200;s.setNewZoom(w,h,{shouldUpdatePosition:!0}),s.state.hasWheelJustStarted||s.setState({hasWheelJustStarted:!0},function(){var E,C;return(C=(E=s.props).onInteractionStart)===null||C===void 0?void 0:C.call(E)}),s.wheelTimer&&clearTimeout(s.wheelTimer),s.wheelTimer=s.currentWindow.setTimeout(function(){return s.setState({hasWheelJustStarted:!1},function(){var E,C;return(C=(E=s.props).onInteractionEnd)===null||C===void 0?void 0:C.call(E)})},250)}},s.getPointOnContainer=function(c,h){var p=c.x,w=c.y;if(!s.containerRect)throw new Error("The Cropper is not mounted");return{x:s.containerRect.width/2-(p-h.x),y:s.containerRect.height/2-(w-h.y)}},s.getPointOnMedia=function(c){var h=c.x,p=c.y,w=s.props,E=w.crop,C=w.zoom;return{x:(h+E.x)/C,y:(p+E.y)/C}},s.setNewZoom=function(c,h,p){var w=p===void 0?{}:p,E=w.shouldUpdatePosition,C=E===void 0?!0:E;if(!(!s.state.cropSize||!s.props.onZoomChange)){var x=Iu(c,s.props.minZoom,s.props.maxZoom);if(C){var S=s.getPointOnContainer(h,s.containerPosition),T=s.getPointOnMedia(S),N={x:T.x*x-S.x,y:T.y*x-S.y},O=s.props.restrictPosition?Ca(N,s.mediaSize,s.state.cropSize,x,s.props.rotation):N;s.props.onCropChange(O)}s.props.onZoomChange(x)}},s.getCropData=function(){if(!s.state.cropSize)return null;var c=s.props.restrictPosition?Ca(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;return p2(c,s.mediaSize,s.state.cropSize,s.getAspect(),s.props.zoom,s.props.rotation,s.props.restrictPosition)},s.emitCropData=function(){var c=s.getCropData();if(c){var h=c.croppedAreaPercentages,p=c.croppedAreaPixels;s.props.onCropComplete&&s.props.onCropComplete(h,p),s.props.onCropAreaChange&&s.props.onCropAreaChange(h,p)}},s.emitCropAreaChange=function(){var c=s.getCropData();if(c){var h=c.croppedAreaPercentages,p=c.croppedAreaPixels;s.props.onCropAreaChange&&s.props.onCropAreaChange(h,p)}},s.recomputeCropPosition=function(){if(s.state.cropSize){var c=s.props.restrictPosition?Ca(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;s.props.onCropChange(c),s.emitCropData()}},s.onKeyDown=function(c){var h=s.props,p=h.crop,w=h.onCropChange,E=h.keyboardStep,C=h.zoom,x=h.rotation,S=E;if(s.state.cropSize){c.shiftKey&&(S*=.2);var T=Fn({},p);switch(c.key){case"ArrowUp":T.y-=S,c.preventDefault();break;case"ArrowDown":T.y+=S,c.preventDefault();break;case"ArrowLeft":T.x-=S,c.preventDefault();break;case"ArrowRight":T.x+=S,c.preventDefault();break;default:return}s.props.restrictPosition&&(T=Ca(T,s.mediaSize,s.state.cropSize,C,x)),w(T)}},s}return i.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=v2,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},i.prototype.componentWillUnmount=function(){var s,c;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(s=this.resizeObserver)===null||s===void 0||s.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((c=this.styleRef.parentNode)===null||c===void 0||c.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},i.prototype.componentDidUpdate=function(s){var c,h,p,w,E,C,x,S,T;s.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):s.aspect!==this.props.aspect?this.computeSizes():s.objectFit!==this.props.objectFit?this.computeSizes():s.zoom!==this.props.zoom?this.recomputeCropPosition():((c=s.cropSize)===null||c===void 0?void 0:c.height)!==((h=this.props.cropSize)===null||h===void 0?void 0:h.height)||((p=s.cropSize)===null||p===void 0?void 0:p.width)!==((w=this.props.cropSize)===null||w===void 0?void 0:w.width)?this.computeSizes():(((E=s.crop)===null||E===void 0?void 0:E.x)!==((C=this.props.crop)===null||C===void 0?void 0:C.x)||((x=s.crop)===null||x===void 0?void 0:x.y)!==((S=this.props.crop)===null||S===void 0?void 0:S.y))&&this.emitCropAreaChange(),s.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),s.video!==this.props.video&&((T=this.videoRef.current)===null||T===void 0||T.load());var N=this.getObjectFit();N!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:N},this.computeSizes)},i.prototype.getAspect=function(){var s=this.props,c=s.cropSize,h=s.aspect;return c?c.width/c.height:h},i.prototype.getObjectFit=function(){var s,c,h,p;if(this.props.objectFit==="cover"){var w=this.imageRef.current||this.videoRef.current;if(w&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var E=this.containerRect.width/this.containerRect.height,C=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((c=this.videoRef.current)===null||c===void 0?void 0:c.videoWidth)||0,x=((h=this.imageRef.current)===null||h===void 0?void 0:h.naturalHeight)||((p=this.videoRef.current)===null||p===void 0?void 0:p.videoHeight)||0,S=C/x;return S<E?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},i.prototype.onPinchStart=function(s){var c=i.getTouchPoint(s.touches[0]),h=i.getTouchPoint(s.touches[1]);this.lastPinchDistance=X0(c,h),this.lastPinchRotation=Z0(c,h),this.onDragStart(K0(c,h))},i.prototype.onPinchMove=function(s){var c=this;if(!(!this.currentDoc||!this.currentWindow)){var h=i.getTouchPoint(s.touches[0]),p=i.getTouchPoint(s.touches[1]),w=K0(h,p);this.onDrag(w),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var E=X0(h,p),C=c.props.zoom*(E/c.lastPinchDistance);c.setNewZoom(C,w,{shouldUpdatePosition:!1}),c.lastPinchDistance=E;var x=Z0(h,p),S=c.props.rotation+(x-c.lastPinchRotation);c.props.onRotationChange&&c.props.onRotationChange(S),c.lastPinchRotation=x})}},i.prototype.render=function(){var s=this,c,h=this.props,p=h.image,w=h.video,E=h.mediaProps,C=h.transform,x=h.crop,S=x.x,T=x.y,N=h.rotation,O=h.zoom,k=h.cropShape,F=h.showGrid,B=h.style,z=B.containerStyle,H=B.cropAreaStyle,V=B.mediaStyle,re=h.classes,le=re.containerClassName,ue=re.cropAreaClassName,q=re.mediaClassName,ce=(c=this.state.mediaObjectFit)!==null&&c!==void 0?c:this.getObjectFit();return L.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(_e){return s.containerRef=_e},"data-testid":"container",style:z,className:ru("reactEasyCrop_Container",le)},p?L.createElement("img",Fn({alt:"",className:ru("reactEasyCrop_Image",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",q)},E,{src:p,ref:this.imageRef,style:Fn(Fn({},V),{transform:C||"translate(".concat(S,"px, ").concat(T,"px) rotate(").concat(N,"deg) scale(").concat(O,")")}),onLoad:this.onMediaLoad})):w&&L.createElement("video",Fn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ru("reactEasyCrop_Video",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",q)},E,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Fn(Fn({},V),{transform:C||"translate(".concat(S,"px, ").concat(T,"px) rotate(").concat(N,"deg) scale(").concat(O,")")}),controls:!1}),(Array.isArray(w)?w:[{src:w}]).map(function(ne){return L.createElement("source",Fn({key:ne.src},ne))})),this.state.cropSize&&L.createElement("div",{style:Fn(Fn({},H),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:ru("reactEasyCrop_CropArea",k==="round"&&"reactEasyCrop_CropAreaRound",F&&"reactEasyCrop_CropAreaGrid",ue)}))},i.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:A2,minZoom:E2,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:S2},i.getMousePoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},i.getTouchPoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},i}(L.Component),va={},Q0;function T2(){return Q0||(Q0=1,va.createCanvas=function(r,i){return Object.assign(document.createElement("canvas"),{width:r,height:i})},va.createImageData=function(r,i,s){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(r);case 2:return new ImageData(r,i);default:return new ImageData(r,i,s)}},va.loadImage=function(r,i){return new Promise(function(s,c){const h=Object.assign(document.createElement("img"),i);function p(){h.onload=null,h.onerror=null}h.onload=function(){p(),s(h)},h.onerror=function(){p(),c(new Error('Failed to load the image "'+r+'"'))},h.src=r})}),va}T2();async function Wp(r,i){return console.log("Image source being cropped:",r),new Promise((s,c)=>{const h=new Image;h.onload=()=>{const p=document.createElement("canvas"),w=p.getContext("2d");p.width=i.width,p.height=i.height,w.drawImage(h,i.x,i.y,i.width,i.height,0,0,i.width,i.height);try{const E=p.toDataURL("image/jpeg");s(E)}catch{c(new Error("Error converting canvas to base64"))}},h.onerror=p=>c(new Error(`Image load error: ${p.message}`)),h.src=r})}const I2=({onSubmit:r,onClose:i,existingProfile:s})=>{const{user:c,userProfile:h,checkAuth:p}=L.useContext(pi),[w,E]=L.useState({name:(h==null?void 0:h.name)||"",image:null,imagePreview:h!=null&&h.image_data?`data:image/jpeg;base64,${h.image_data}`:"/assets/fakeprofile.png",croppedImage:null}),[C,x]=L.useState({x:0,y:0}),[S,T]=L.useState(1),[N,O]=L.useState(null),[k,F]=L.useState(!1),[B,z]=L.useState(!1),H=le=>{const ue=le.target.files[0];if(ue){const q=new FileReader;q.onload=ce=>{E(ne=>({...ne,image:ue,imagePreview:ce.target.result})),F(!0)},q.readAsDataURL(ue)}},V=(le,ue)=>{console.log("Cropped Area Pixels:",ue),O(ue)};async function re(le){le.preventDefault();let ue;if(w.croppedImage)ue=w.croppedImage.split(",")[1];else if(w.image instanceof File){const ne=await w.image.arrayBuffer();ue=btoa(new Uint8Array(ne).reduce((_e,Ue)=>_e+String.fromCharCode(Ue),""))}else if(h!=null&&h.image_data)ue=h.image_data;else{console.error("No valid image provided");return}const q={name:w.name,image_data:ue};console.log("Image data (first 100 chars):",ue.substring(0,100));const ce=localStorage.getItem("access_token");try{const ne=await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify(q)});if(!ne.ok)throw new Error("Failed to update profile");const _e=await ne.json();await p(),console.log("Profile updated successfully:",_e),i()}catch(ne){console.error("Error updating profile:",ne)}}return D.jsx("div",{className:"profile-creation-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:D.jsxs("div",{className:"profile-creation-modal",style:{width:"70%",maxWidth:"500px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"2rem",boxShadow:"0 10px 30px rgba(20,77,255,0.15)",position:"relative",border:"1px solid rgba(20,77,255,0.1)"},children:[D.jsx("button",{onClick:i,style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"#144dff",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:"×"}),D.jsx("h2",{style:{fontSize:"clamp(1.8rem, 6vw, 2.5rem)",color:"#144dff",textAlign:"center",marginBottom:"2rem",fontWeight:"600"},children:"Your Profile"}),D.jsxs("form",{onSubmit:re,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[D.jsx("label",{style:{color:"#144dff",fontWeight:"500",fontSize:"1rem"},children:"Your Name"}),D.jsx("input",{type:"text",value:w.name,onChange:le=>E({...w,name:le.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #e0e0e0",fontSize:"0.9rem",transition:"all 0.3s ease",backgroundColor:"rgba(255,255,255,0.9)","&:focus":{borderColor:"#144dff",outline:"none",boxShadow:"0 0 0 3px rgba(20,77,255,0.1)"}}})]}),!k&&D.jsx("div",{style:{width:"250px",height:"250px",margin:"0 auto",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:D.jsx("img",{src:w.croppedImage?w.croppedImage:w.imagePreview?w.imagePreview:h!=null&&h.image_data?`data:image/jpeg;base64,${h.image_data}`:"/assets/fakeprofile.png",alt:"Profile preview",style:{width:"100%",height:"100%",objectFit:"cover"}})}),D.jsxs("div",{style:{textAlign:"center"},children:[D.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:H,style:{display:"none"}}),D.jsx("label",{htmlFor:"image-upload",style:{padding:"0.8rem 1.2rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",borderRadius:"25px",cursor:"pointer",display:"inline-block",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Upload New Image"})]}),k&&D.jsxs("div",{style:{width:"100%",maxWidth:"300px",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.2rem"},children:[D.jsx("div",{style:{position:"relative",width:"250px",height:"250px",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)"},children:D.jsx(Vp,{image:w.imagePreview,crop:C,zoom:S,aspect:1,onCropComplete:V,onCropChange:x,onZoomChange:T})}),D.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[D.jsx("button",{type:"button",onClick:()=>{F(!1),w.croppedImage||E(le=>({...le,imagePreview:null}))},style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"2px solid #144dff",background:"white",color:"#144dff",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease","&:hover":{background:"rgba(20,77,255,0.1)"}},children:"Cancel"}),D.jsx("button",{type:"button",onClick:async()=>{try{const le=await Wp(w.imagePreview,N);E(ue=>({...ue,croppedImage:le,imagePreview:le})),F(!1),z(!0),setTimeout(()=>z(!1),1e4)}catch(le){console.error("Error cropping image:",le)}},className:`save-profile-button ${B?"glow-bounce":""}`,style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"none",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(20,77,255,0.2)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Cropped Image"})]})]}),D.jsx("button",{type:"submit",className:`save-profile-button ${B?"glow-bounce":""}`,style:{padding:"1rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Profile"})]})]})})};var Ea={},$0;function b2(){if($0)return Ea;$0=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.parse=w,Ea.serialize=x;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,p=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function w(N,O){const k=new p,F=N.length;if(F<2)return k;const B=(O==null?void 0:O.decode)||S;let z=0;do{const H=N.indexOf("=",z);if(H===-1)break;const V=N.indexOf(";",z),re=V===-1?F:V;if(H>re){z=N.lastIndexOf(";",H-1)+1;continue}const le=E(N,z,H),ue=C(N,H,le),q=N.slice(le,ue);if(k[q]===void 0){let ce=E(N,H+1,re),ne=C(N,re,ce);const _e=B(N.slice(ce,ne));k[q]=_e}z=re+1}while(z<F);return k}function E(N,O,k){do{const F=N.charCodeAt(O);if(F!==32&&F!==9)return O}while(++O<k);return k}function C(N,O,k){for(;O>k;){const F=N.charCodeAt(--O);if(F!==32&&F!==9)return O+1}return k}function x(N,O,k){const F=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(N))throw new TypeError(`argument name is invalid: ${N}`);const B=F(O);if(!i.test(B))throw new TypeError(`argument val is invalid: ${O}`);let z=N+"="+B;if(!k)return z;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);z+="; Max-Age="+k.maxAge}if(k.domain){if(!s.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);z+="; Domain="+k.domain}if(k.path){if(!c.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);z+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);z+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(z+="; HttpOnly"),k.secure&&(z+="; Secure"),k.partitioned&&(z+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return z}function S(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function T(N){return h.call(N)==="[object Date]"}return Ea}b2();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q0="popstate";function N2(r={}){function i(c,h){let{pathname:p,search:w,hash:E}=c.location;return If("",{pathname:p,search:w,hash:E},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(c,h){return typeof h=="string"?h:Da(h)}return M2(i,s,null,r)}function rn(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function hi(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function R2(){return Math.random().toString(36).substring(2,10)}function J0(r,i){return{usr:r.state,key:r.key,idx:i}}function If(r,i,s=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?Ro(i):i,state:s,key:i&&i.key||c||R2()}}function Da({pathname:r="/",search:i="",hash:s=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ro(r){let i={};if(r){let s=r.indexOf("#");s>=0&&(i.hash=r.substring(s),r=r.substring(0,s));let c=r.indexOf("?");c>=0&&(i.search=r.substring(c),r=r.substring(0,c)),r&&(i.pathname=r)}return i}function M2(r,i,s,c={}){let{window:h=document.defaultView,v5Compat:p=!1}=c,w=h.history,E="POP",C=null,x=S();x==null&&(x=0,w.replaceState({...w.state,idx:x},""));function S(){return(w.state||{idx:null}).idx}function T(){E="POP";let B=S(),z=B==null?null:B-x;x=B,C&&C({action:E,location:F.location,delta:z})}function N(B,z){E="PUSH";let H=If(F.location,B,z);x=S()+1;let V=J0(H,x),re=F.createHref(H);try{w.pushState(V,"",re)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;h.location.assign(re)}p&&C&&C({action:E,location:F.location,delta:1})}function O(B,z){E="REPLACE";let H=If(F.location,B,z);x=S();let V=J0(H,x),re=F.createHref(H);w.replaceState(V,"",re),p&&C&&C({action:E,location:F.location,delta:0})}function k(B){let z=h.location.origin!=="null"?h.location.origin:h.location.href,H=typeof B=="string"?B:Da(B);return H=H.replace(/ $/,"%20"),rn(z,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,z)}let F={get action(){return E},get location(){return r(h,w)},listen(B){if(C)throw new Error("A history only accepts one active listener");return h.addEventListener(q0,T),C=B,()=>{h.removeEventListener(q0,T),C=null}},createHref(B){return i(h,B)},createURL:k,encodeLocation(B){let z=k(B);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:O,go(B){return w.go(B)}};return F}function Hp(r,i,s="/"){return _2(r,i,s,!1)}function _2(r,i,s,c){let h=typeof i=="string"?Ro(i):i,p=us(h.pathname||"/",s);if(p==null)return null;let w=Gp(r);D2(w);let E=null;for(let C=0;E==null&&C<w.length;++C){let x=W2(p);E=z2(w[C],x,c)}return E}function Gp(r,i=[],s=[],c=""){let h=(p,w,E)=>{let C={relativePath:E===void 0?p.path||"":E,caseSensitive:p.caseSensitive===!0,childrenIndex:w,route:p};C.relativePath.startsWith("/")&&(rn(C.relativePath.startsWith(c),`Absolute route path "${C.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),C.relativePath=C.relativePath.slice(c.length));let x=Pi([c,C.relativePath]),S=s.concat(C);p.children&&p.children.length>0&&(rn(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Gp(p.children,i,S,x)),!(p.path==null&&!p.index)&&i.push({path:x,score:j2(x,p.index),routesMeta:S})};return r.forEach((p,w)=>{var E;if(p.path===""||!((E=p.path)!=null&&E.includes("?")))h(p,w);else for(let C of Yp(p.path))h(p,w,C)}),i}function Yp(r){let i=r.split("/");if(i.length===0)return[];let[s,...c]=i,h=s.endsWith("?"),p=s.replace(/\?$/,"");if(c.length===0)return h?[p,""]:[p];let w=Yp(c.join("/")),E=[];return E.push(...w.map(C=>C===""?p:[p,C].join("/"))),h&&E.push(...w),E.map(C=>r.startsWith("/")&&C===""?"/":C)}function D2(r){r.sort((i,s)=>i.score!==s.score?s.score-i.score:U2(i.routesMeta.map(c=>c.childrenIndex),s.routesMeta.map(c=>c.childrenIndex)))}var O2=/^:[\w-]+$/,P2=3,L2=2,k2=1,B2=10,F2=-2,e1=r=>r==="*";function j2(r,i){let s=r.split("/"),c=s.length;return s.some(e1)&&(c+=F2),i&&(c+=L2),s.filter(h=>!e1(h)).reduce((h,p)=>h+(O2.test(p)?P2:p===""?k2:B2),c)}function U2(r,i){return r.length===i.length&&r.slice(0,-1).every((c,h)=>c===i[h])?r[r.length-1]-i[i.length-1]:0}function z2(r,i,s=!1){let{routesMeta:c}=r,h={},p="/",w=[];for(let E=0;E<c.length;++E){let C=c[E],x=E===c.length-1,S=p==="/"?i:i.slice(p.length)||"/",T=gu({path:C.relativePath,caseSensitive:C.caseSensitive,end:x},S),N=C.route;if(!T&&x&&s&&!c[c.length-1].route.index&&(T=gu({path:C.relativePath,caseSensitive:C.caseSensitive,end:!1},S)),!T)return null;Object.assign(h,T.params),w.push({params:h,pathname:Pi([p,T.pathname]),pathnameBase:X2(Pi([p,T.pathnameBase])),route:N}),T.pathnameBase!=="/"&&(p=Pi([p,T.pathnameBase]))}return w}function gu(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,c]=V2(r.path,r.caseSensitive,r.end),h=i.match(s);if(!h)return null;let p=h[0],w=p.replace(/(.)\/+$/,"$1"),E=h.slice(1);return{params:c.reduce((x,{paramName:S,isOptional:T},N)=>{if(S==="*"){let k=E[N]||"";w=p.slice(0,p.length-k.length).replace(/(.)\/+$/,"$1")}const O=E[N];return T&&!O?x[S]=void 0:x[S]=(O||"").replace(/%2F/g,"/"),x},{}),pathname:p,pathnameBase:w,pattern:r}}function V2(r,i=!1,s=!0){hi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],h="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(w,E,C)=>(c.push({paramName:E,isOptional:C!=null}),C?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),h+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":r!==""&&r!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,i?void 0:"i"),c]}function W2(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return hi(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function us(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,c=r.charAt(s);return c&&c!=="/"?null:r.slice(s)||"/"}function H2(r,i="/"){let{pathname:s,search:c="",hash:h=""}=typeof r=="string"?Ro(r):r;return{pathname:s?s.startsWith("/")?s:G2(s,i):i,search:Z2(c),hash:K2(h)}}function G2(r,i){let s=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function ff(r,i,s,c){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y2(r){return r.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function Xp(r){let i=Y2(r);return i.map((s,c)=>c===i.length-1?s.pathname:s.pathnameBase)}function Zp(r,i,s,c=!1){let h;typeof r=="string"?h=Ro(r):(h={...r},rn(!h.pathname||!h.pathname.includes("?"),ff("?","pathname","search",h)),rn(!h.pathname||!h.pathname.includes("#"),ff("#","pathname","hash",h)),rn(!h.search||!h.search.includes("#"),ff("#","search","hash",h)));let p=r===""||h.pathname==="",w=p?"/":h.pathname,E;if(w==null)E=s;else{let T=i.length-1;if(!c&&w.startsWith("..")){let N=w.split("/");for(;N[0]==="..";)N.shift(),T-=1;h.pathname=N.join("/")}E=T>=0?i[T]:"/"}let C=H2(h,E),x=w&&w!=="/"&&w.endsWith("/"),S=(p||w===".")&&s.endsWith("/");return!C.pathname.endsWith("/")&&(x||S)&&(C.pathname+="/"),C}var Pi=r=>r.join("/").replace(/\/\/+/g,"/"),X2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Z2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,K2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Q2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Kp=["POST","PUT","PATCH","DELETE"];new Set(Kp);var $2=["GET",...Kp];new Set($2);var Mo=L.createContext(null);Mo.displayName="DataRouter";var bu=L.createContext(null);bu.displayName="DataRouterState";var Qp=L.createContext({isTransitioning:!1});Qp.displayName="ViewTransition";var q2=L.createContext(new Map);q2.displayName="Fetchers";var J2=L.createContext(null);J2.displayName="Await";var gi=L.createContext(null);gi.displayName="Navigation";var Va=L.createContext(null);Va.displayName="Location";var mi=L.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var $f=L.createContext(null);$f.displayName="RouteError";function ey(r,{relative:i}={}){rn(Wa(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:c}=L.useContext(gi),{hash:h,pathname:p,search:w}=Ha(r,{relative:i}),E=p;return s!=="/"&&(E=p==="/"?s:Pi([s,p])),c.createHref({pathname:E,search:w,hash:h})}function Wa(){return L.useContext(Va)!=null}function xi(){return rn(Wa(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Va).location}var $p="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qp(r){L.useContext(gi).static||L.useLayoutEffect(r)}function qr(){let{isDataRoute:r}=L.useContext(mi);return r?py():ty()}function ty(){rn(Wa(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Mo),{basename:i,navigator:s}=L.useContext(gi),{matches:c}=L.useContext(mi),{pathname:h}=xi(),p=JSON.stringify(Xp(c)),w=L.useRef(!1);return qp(()=>{w.current=!0}),L.useCallback((C,x={})=>{if(hi(w.current,$p),!w.current)return;if(typeof C=="number"){s.go(C);return}let S=Zp(C,JSON.parse(p),h,x.relative==="path");r==null&&i!=="/"&&(S.pathname=S.pathname==="/"?i:Pi([i,S.pathname])),(x.replace?s.replace:s.push)(S,x.state,x)},[i,s,p,h,r])}L.createContext(null);function ny(){let{matches:r}=L.useContext(mi),i=r[r.length-1];return i?i.params:{}}function Ha(r,{relative:i}={}){let{matches:s}=L.useContext(mi),{pathname:c}=xi(),h=JSON.stringify(Xp(s));return L.useMemo(()=>Zp(r,JSON.parse(h),c,i==="path"),[r,h,c,i])}function ry(r,i){return Jp(r,i)}function Jp(r,i,s,c){var z;rn(Wa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=L.useContext(gi),{matches:p}=L.useContext(mi),w=p[p.length-1],E=w?w.params:{},C=w?w.pathname:"/",x=w?w.pathnameBase:"/",S=w&&w.route;{let H=S&&S.path||"";eg(C,!S||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${C}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=xi(),N;if(i){let H=typeof i=="string"?Ro(i):i;rn(x==="/"||((z=H.pathname)==null?void 0:z.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${H.pathname}" was given in the \`location\` prop.`),N=H}else N=T;let O=N.pathname||"/",k=O;if(x!=="/"){let H=x.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let F=Hp(r,{pathname:k});hi(S||F!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),hi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=ly(F&&F.map(H=>Object.assign({},H,{params:Object.assign({},E,H.params),pathname:Pi([x,h.encodeLocation?h.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?x:Pi([x,h.encodeLocation?h.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),p,s,c);return i&&B?L.createElement(Va.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},B):B}function iy(){let r=hy(),i=Q2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:c},p={padding:"2px 4px",backgroundColor:c},w=null;return console.error("Error handled by React Router default ErrorBoundary:",r),w=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:p},"ErrorBoundary")," or"," ",L.createElement("code",{style:p},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},i),s?L.createElement("pre",{style:h},s):null,w)}var sy=L.createElement(iy,null),oy=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?L.createElement(mi.Provider,{value:this.props.routeContext},L.createElement($f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ay({routeContext:r,match:i,children:s}){let c=L.useContext(Mo);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),L.createElement(mi.Provider,{value:r},s)}function ly(r,i=[],s=null,c=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let h=r,p=s==null?void 0:s.errors;if(p!=null){let C=h.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);rn(C>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,C+1))}let w=!1,E=-1;if(s)for(let C=0;C<h.length;C++){let x=h[C];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(E=C),x.route.id){let{loaderData:S,errors:T}=s,N=x.route.loader&&!S.hasOwnProperty(x.route.id)&&(!T||T[x.route.id]===void 0);if(x.route.lazy||N){w=!0,E>=0?h=h.slice(0,E+1):h=[h[0]];break}}}return h.reduceRight((C,x,S)=>{let T,N=!1,O=null,k=null;s&&(T=p&&x.route.id?p[x.route.id]:void 0,O=x.route.errorElement||sy,w&&(E<0&&S===0?(eg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):E===S&&(N=!0,k=x.route.hydrateFallbackElement||null)));let F=i.concat(h.slice(0,S+1)),B=()=>{let z;return T?z=O:N?z=k:x.route.Component?z=L.createElement(x.route.Component,null):x.route.element?z=x.route.element:z=C,L.createElement(ay,{match:x,routeContext:{outlet:C,matches:F,isDataRoute:s!=null},children:z})};return s&&(x.route.ErrorBoundary||x.route.errorElement||S===0)?L.createElement(oy,{location:s.location,revalidation:s.revalidation,component:O,error:T,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):B()},null)}function qf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uy(r){let i=L.useContext(Mo);return rn(i,qf(r)),i}function cy(r){let i=L.useContext(bu);return rn(i,qf(r)),i}function fy(r){let i=L.useContext(mi);return rn(i,qf(r)),i}function Jf(r){let i=fy(r),s=i.matches[i.matches.length-1];return rn(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function dy(){return Jf("useRouteId")}function hy(){var c;let r=L.useContext($f),i=cy("useRouteError"),s=Jf("useRouteError");return r!==void 0?r:(c=i.errors)==null?void 0:c[s]}function py(){let{router:r}=uy("useNavigate"),i=Jf("useNavigate"),s=L.useRef(!1);return qp(()=>{s.current=!0}),L.useCallback(async(h,p={})=>{hi(s.current,$p),s.current&&(typeof h=="number"?r.navigate(h):await r.navigate(h,{fromRouteId:i,...p}))},[r,i])}var t1={};function eg(r,i,s){!i&&!t1[r]&&(t1[r]=!0,hi(!1,s))}L.memo(gy);function gy({routes:r,future:i,state:s}){return Jp(r,void 0,s,i)}function Di(r){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function my({basename:r="/",children:i=null,location:s,navigationType:c="POP",navigator:h,static:p=!1}){rn(!Wa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let w=r.replace(/^\/*/,"/"),E=L.useMemo(()=>({basename:w,navigator:h,static:p,future:{}}),[w,h,p]);typeof s=="string"&&(s=Ro(s));let{pathname:C="/",search:x="",hash:S="",state:T=null,key:N="default"}=s,O=L.useMemo(()=>{let k=us(C,w);return k==null?null:{location:{pathname:k,search:x,hash:S,state:T,key:N},navigationType:c}},[w,C,x,S,T,N,c]);return hi(O!=null,`<Router basename="${w}"> is not able to match the URL "${C}${x}${S}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:L.createElement(gi.Provider,{value:E},L.createElement(Va.Provider,{children:i,value:O}))}function xy({children:r,location:i}){return ry(bf(r),i)}function bf(r,i=[]){let s=[];return L.Children.forEach(r,(c,h)=>{if(!L.isValidElement(c))return;let p=[...i,h];if(c.type===L.Fragment){s.push.apply(s,bf(c.props.children,p));return}rn(c.type===Di,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!c.props.index||!c.props.children,"An index route cannot have child routes.");let w={id:c.props.id||p.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(w.children=bf(c.props.children,p)),s.push(w)}),s}var cu="get",fu="application/x-www-form-urlencoded";function Nu(r){return r!=null&&typeof r.tagName=="string"}function yy(r){return Nu(r)&&r.tagName.toLowerCase()==="button"}function wy(r){return Nu(r)&&r.tagName.toLowerCase()==="form"}function Cy(r){return Nu(r)&&r.tagName.toLowerCase()==="input"}function vy(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ey(r,i){return r.button===0&&(!i||i==="_self")&&!vy(r)}var iu=null;function Ay(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var Sy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function df(r){return r!=null&&!Sy.has(r)?(hi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):r}function Ty(r,i){let s,c,h,p,w;if(wy(r)){let E=r.getAttribute("action");c=E?us(E,i):null,s=r.getAttribute("method")||cu,h=df(r.getAttribute("enctype"))||fu,p=new FormData(r)}else if(yy(r)||Cy(r)&&(r.type==="submit"||r.type==="image")){let E=r.form;if(E==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let C=r.getAttribute("formaction")||E.getAttribute("action");if(c=C?us(C,i):null,s=r.getAttribute("formmethod")||E.getAttribute("method")||cu,h=df(r.getAttribute("formenctype"))||df(E.getAttribute("enctype"))||fu,p=new FormData(E,r),!Ay()){let{name:x,type:S,value:T}=r;if(S==="image"){let N=x?`${x}.`:"";p.append(`${N}x`,"0"),p.append(`${N}y`,"0")}else x&&p.append(x,T)}}else{if(Nu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=cu,c=null,h=fu,w=r}return p&&h==="text/plain"&&(w=p,p=void 0),{action:c,method:s.toLowerCase(),encType:h,formData:p,body:w}}function ed(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}async function Iy(r,i){if(r.id in i)return i[r.id];try{let s=await import(r.module);return i[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function by(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ny(r,i,s){let c=await Promise.all(r.map(async h=>{let p=i.routes[h.route.id];if(p){let w=await Iy(p,s);return w.links?w.links():[]}return[]}));return Dy(c.flat(1).filter(by).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function n1(r,i,s,c,h,p){let w=(C,x)=>s[x]?C.route.id!==s[x].route.id:!0,E=(C,x)=>{var S;return s[x].pathname!==C.pathname||((S=s[x].route.path)==null?void 0:S.endsWith("*"))&&s[x].params["*"]!==C.params["*"]};return p==="assets"?i.filter((C,x)=>w(C,x)||E(C,x)):p==="data"?i.filter((C,x)=>{var T;let S=c.routes[C.route.id];if(!S||!S.hasLoader)return!1;if(w(C,x)||E(C,x))return!0;if(C.route.shouldRevalidate){let N=C.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((T=s[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:C.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Ry(r,i){return My(r.map(s=>{let c=i.routes[s.route.id];if(!c)return[];let h=[c.module];return c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function My(r){return[...new Set(r)]}function _y(r){let i={},s=Object.keys(r).sort();for(let c of s)i[c]=r[c];return i}function Dy(r,i){let s=new Set;return new Set(i),r.reduce((c,h)=>{let p=JSON.stringify(_y(h));return s.has(p)||(s.add(p),c.push({key:p,link:h})),c},[])}function Oy(r){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Py(){let r=L.useContext(Mo);return ed(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ly(){let r=L.useContext(bu);return ed(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var td=L.createContext(void 0);td.displayName="FrameworkContext";function tg(){let r=L.useContext(td);return ed(r,"You must render this element inside a <HydratedRouter> element"),r}function ky(r,i){let s=L.useContext(td),[c,h]=L.useState(!1),[p,w]=L.useState(!1),{onFocus:E,onBlur:C,onMouseEnter:x,onMouseLeave:S,onTouchStart:T}=i,N=L.useRef(null);L.useEffect(()=>{if(r==="render"&&w(!0),r==="viewport"){let F=z=>{z.forEach(H=>{w(H.isIntersecting)})},B=new IntersectionObserver(F,{threshold:.5});return N.current&&B.observe(N.current),()=>{B.disconnect()}}},[r]),L.useEffect(()=>{if(c){let F=setTimeout(()=>{w(!0)},100);return()=>{clearTimeout(F)}}},[c]);let O=()=>{h(!0)},k=()=>{h(!1),w(!1)};return s?r!=="intent"?[p,N,{}]:[p,N,{onFocus:Aa(E,O),onBlur:Aa(C,k),onMouseEnter:Aa(x,O),onMouseLeave:Aa(S,k),onTouchStart:Aa(T,O)}]:[!1,N,{}]}function Aa(r,i){return s=>{r&&r(s),s.defaultPrevented||i(s)}}function By({page:r,...i}){let{router:s}=Py(),c=L.useMemo(()=>Hp(s.routes,r,s.basename),[s.routes,r,s.basename]);return c?L.createElement(jy,{page:r,matches:c,...i}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function Fy(r){let{manifest:i,routeModules:s}=tg(),[c,h]=L.useState([]);return L.useEffect(()=>{let p=!1;return Ny(r,i,s).then(w=>{p||h(w)}),()=>{p=!0}},[r,i,s]),c}function jy({page:r,matches:i,...s}){let c=xi(),{manifest:h,routeModules:p}=tg(),{loaderData:w,matches:E}=Ly(),C=L.useMemo(()=>n1(r,i,E,h,c,"data"),[r,i,E,h,c]),x=L.useMemo(()=>n1(r,i,E,h,c,"assets"),[r,i,E,h,c]),S=L.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let O=new Set,k=!1;if(i.forEach(B=>{var H;let z=h.routes[B.route.id];!z||!z.hasLoader||(!C.some(V=>V.route.id===B.route.id)&&B.route.id in w&&((H=p[B.route.id])!=null&&H.shouldRevalidate)||z.hasClientLoader?k=!0:O.add(B.route.id))}),O.size===0)return[];let F=Oy(r);return k&&O.size>0&&F.searchParams.set("_routes",i.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[w,c,h,C,i,r,p]),T=L.useMemo(()=>Ry(x,h),[x,h]),N=Fy(x);return L.createElement(L.Fragment,null,S.map(O=>L.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...s})),T.map(O=>L.createElement("link",{key:O,rel:"modulepreload",href:O,...s})),N.map(({key:O,link:k})=>L.createElement("link",{key:O,...k})))}function Uy(...r){return i=>{r.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var ng=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ng&&(window.__reactRouterVersion="7.0.2")}catch{}function zy({basename:r,children:i,window:s}){let c=L.useRef();c.current==null&&(c.current=N2({window:s,v5Compat:!0}));let h=c.current,[p,w]=L.useState({action:h.action,location:h.location}),E=L.useCallback(C=>{L.startTransition(()=>w(C))},[w]);return L.useLayoutEffect(()=>h.listen(E),[h,E]),L.createElement(my,{basename:r,children:i,location:p.location,navigationType:p.action,navigator:h})}var rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ig=L.forwardRef(function({onClick:i,discover:s="render",prefetch:c="none",relative:h,reloadDocument:p,replace:w,state:E,target:C,to:x,preventScrollReset:S,viewTransition:T,...N},O){let{basename:k}=L.useContext(gi),F=typeof x=="string"&&rg.test(x),B,z=!1;if(typeof x=="string"&&F&&(B=x,ng))try{let ne=new URL(window.location.href),_e=x.startsWith("//")?new URL(ne.protocol+x):new URL(x),Ue=us(_e.pathname,k);_e.origin===ne.origin&&Ue!=null?x=Ue+_e.search+_e.hash:z=!0}catch{hi(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=ey(x,{relative:h}),[V,re,le]=ky(c,N),ue=Gy(x,{replace:w,state:E,target:C,preventScrollReset:S,relative:h,viewTransition:T});function q(ne){i&&i(ne),ne.defaultPrevented||ue(ne)}let ce=L.createElement("a",{...N,...le,href:B||H,onClick:z||p?i:q,ref:Uy(O,re),target:C,"data-discover":!F&&s==="render"?"true":void 0});return V&&!F?L.createElement(L.Fragment,null,ce,L.createElement(By,{page:H})):ce});ig.displayName="Link";var Vy=L.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:c="",end:h=!1,style:p,to:w,viewTransition:E,children:C,...x},S){let T=Ha(w,{relative:x.relative}),N=xi(),O=L.useContext(bu),{navigator:k,basename:F}=L.useContext(gi),B=O!=null&&Qy(T)&&E===!0,z=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,H=N.pathname,V=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;s||(H=H.toLowerCase(),V=V?V.toLowerCase():null,z=z.toLowerCase()),V&&F&&(V=us(V,F)||V);const re=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let le=H===z||!h&&H.startsWith(z)&&H.charAt(re)==="/",ue=V!=null&&(V===z||!h&&V.startsWith(z)&&V.charAt(z.length)==="/"),q={isActive:le,isPending:ue,isTransitioning:B},ce=le?i:void 0,ne;typeof c=="function"?ne=c(q):ne=[c,le?"active":null,ue?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let _e=typeof p=="function"?p(q):p;return L.createElement(ig,{...x,"aria-current":ce,className:ne,ref:S,style:_e,to:w,viewTransition:E},typeof C=="function"?C(q):C)});Vy.displayName="NavLink";var Wy=L.forwardRef(({discover:r="render",fetcherKey:i,navigate:s,reloadDocument:c,replace:h,state:p,method:w=cu,action:E,onSubmit:C,relative:x,preventScrollReset:S,viewTransition:T,...N},O)=>{let k=Zy(),F=Ky(E,{relative:x}),B=w.toLowerCase()==="get"?"get":"post",z=typeof E=="string"&&rg.test(E),H=V=>{if(C&&C(V),V.defaultPrevented)return;V.preventDefault();let re=V.nativeEvent.submitter,le=(re==null?void 0:re.getAttribute("formmethod"))||w;k(re||V.currentTarget,{fetcherKey:i,method:le,navigate:s,replace:h,state:p,relative:x,preventScrollReset:S,viewTransition:T})};return L.createElement("form",{ref:O,method:B,action:F,onSubmit:c?C:H,...N,"data-discover":!z&&r==="render"?"true":void 0})});Wy.displayName="Form";function Hy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sg(r){let i=L.useContext(Mo);return rn(i,Hy(r)),i}function Gy(r,{target:i,replace:s,state:c,preventScrollReset:h,relative:p,viewTransition:w}={}){let E=qr(),C=xi(),x=Ha(r,{relative:p});return L.useCallback(S=>{if(Ey(S,i)){S.preventDefault();let T=s!==void 0?s:Da(C)===Da(x);E(r,{replace:T,state:c,preventScrollReset:h,relative:p,viewTransition:w})}},[C,E,x,s,c,i,r,h,p,w])}var Yy=0,Xy=()=>`__${String(++Yy)}__`;function Zy(){let{router:r}=sg("useSubmit"),{basename:i}=L.useContext(gi),s=dy();return L.useCallback(async(c,h={})=>{let{action:p,method:w,encType:E,formData:C,body:x}=Ty(c,i);if(h.navigate===!1){let S=h.fetcherKey||Xy();await r.fetch(S,s,h.action||p,{preventScrollReset:h.preventScrollReset,formData:C,body:x,formMethod:h.method||w,formEncType:h.encType||E,flushSync:h.flushSync})}else await r.navigate(h.action||p,{preventScrollReset:h.preventScrollReset,formData:C,body:x,formMethod:h.method||w,formEncType:h.encType||E,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,i,s])}function Ky(r,{relative:i}={}){let{basename:s}=L.useContext(gi),c=L.useContext(mi);rn(c,"useFormAction must be used inside a RouteContext");let[h]=c.matches.slice(-1),p={...Ha(r||".",{relative:i})},w=xi();if(r==null){p.search=w.search;let E=new URLSearchParams(p.search),C=E.getAll("index");if(C.some(S=>S==="")){E.delete("index"),C.filter(T=>T).forEach(T=>E.append("index",T));let S=E.toString();p.search=S?`?${S}`:""}}return(!r||r===".")&&h.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(p.pathname=p.pathname==="/"?s:Pi([s,p.pathname])),Da(p)}function Qy(r,i={}){let s=L.useContext(Qp);rn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=sg("useViewTransitionState"),h=Ha(r,{relative:i.relative});if(!s.isTransitioning)return!1;let p=us(s.currentLocation.pathname,c)||s.currentLocation.pathname,w=us(s.nextLocation.pathname,c)||s.nextLocation.pathname;return gu(h.pathname,w)!=null||gu(h.pathname,p)!=null}new TextEncoder;function og(){const r="./assets",i="/sounds/banger.mp3",s=qr(),c=L.useRef(new Audio(r+i)),[h,p]=L.useState(!1),[w,E]=L.useState(!1),[C,x]=L.useState(null),[S,T]=L.useState(!1),[N,O]=L.useState(!1);L.useEffect(()=>{const V=c.current,re=()=>{V.pause(),V.currentTime=0,E(!1),z(),s("/")};return V.addEventListener("ended",re),()=>V.removeEventListener("ended",re)},[N]);function k(){x(null),c.current.load(),c.current.play().then(()=>{c.current.pause(),c.current.currentTime=0,p(!0),E(!0),T(!0),B()}).catch(V=>{console.error("Error loading audio:",V),x("Failed to load audio. Please check the file path and format."),T(!1)})}function F(){return!!(c.current&&!c.current.paused)}function B(){c.current.paused?c.current.play().catch(V=>{console.error("Error playing audio:",V),x("Failed to play audio. Please try again.")}):c.current.currentTime=0}function z(){c.current&&(c.current.pause(),c.current.currentTime=0,c.current.src="",c.current=null)}function H(V){c.current.currentTime=V}return{audioRef:c,error:C,playSound:B,loadSound:k,seekTo:H,cancelSound:z,checkSound:F,soundEnabled:S,setSoundEnabled:T,isPlaying:w}}var Pe;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var r1=new Map([[Pe.QR_CODE,"QR_CODE"],[Pe.AZTEC,"AZTEC"],[Pe.CODABAR,"CODABAR"],[Pe.CODE_39,"CODE_39"],[Pe.CODE_93,"CODE_93"],[Pe.CODE_128,"CODE_128"],[Pe.DATA_MATRIX,"DATA_MATRIX"],[Pe.MAXICODE,"MAXICODE"],[Pe.ITF,"ITF"],[Pe.EAN_13,"EAN_13"],[Pe.EAN_8,"EAN_8"],[Pe.PDF_417,"PDF_417"],[Pe.RSS_14,"RSS_14"],[Pe.RSS_EXPANDED,"RSS_EXPANDED"],[Pe.UPC_A,"UPC_A"],[Pe.UPC_E,"UPC_E"],[Pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),i1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(i1||(i1={}));function $y(r){return Object.values(Pe).includes(r)}var cs;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cs||(cs={}));var $r=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[cs.SCAN_TYPE_CAMERA,cs.SCAN_TYPE_FILE],r}(),ag=function(){function r(i,s){this.format=i,this.formatName=s}return r.prototype.toString=function(){return this.formatName},r.create=function(i){if(!r1.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new r(i,r1.get(i))},r}(),s1=function(){function r(){}return r.createFromText=function(i){var s={text:i};return{decodedText:i,result:s}},r.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},r}(),Nf;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Nf||(Nf={}));var lg=function(){function r(){}return r.createFrom=function(i){return{errorMessage:i,type:Nf.UNKWOWN_ERROR}},r}(),ug=function(){function r(i){this.verbose=i}return r.prototype.log=function(i){this.verbose&&console.log(i)},r.prototype.warn=function(i){this.verbose&&console.warn(i)},r.prototype.logError=function(i,s){(this.verbose||s===!0)&&console.error(i)},r.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},r}();function li(r){return typeof r>"u"||r===null}function qy(r,i,s){return r>s?s:r<i?i:r}var wo=function(){function r(){}return r.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},r.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),_t=function(){function r(){}return r.scanningStatus=function(){return"Scanning"},r.idleStatus=function(){return"Idle"},r.errorStatus=function(){return"Error"},r.permissionStatus=function(){return"Permission"},r.noCameraFoundErrorStatus=function(){return"No Cameras"},r.lastMatch=function(i){return"Last Match: ".concat(i)},r.codeScannerTitle=function(){return"Code Scanner"},r.cameraPermissionTitle=function(){return"Request Camera Permissions"},r.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},r.noCameraFound=function(){return"No camera found"},r.scanButtonStopScanningText=function(){return"Stop Scanning"},r.scanButtonStartScanningText=function(){return"Start Scanning"},r.torchOnButton=function(){return"Switch On Torch"},r.torchOffButton=function(){return"Switch Off Torch"},r.torchOnFailedMessage=function(){return"Failed to turn on torch"},r.torchOffFailedMessage=function(){return"Failed to turn off torch"},r.scanButtonScanningStarting=function(){return"Launching Camera..."},r.textIfCameraScanSelected=function(){return"Scan an Image File"},r.textIfFileScanSelected=function(){return"Scan using camera directly"},r.selectCamera=function(){return"Select Camera"},r.fileSelectionChooseImage=function(){return"Choose Image"},r.fileSelectionChooseAnother=function(){return"Choose Another"},r.fileSelectionNoImageSelected=function(){return"No image choosen"},r.anonymousCameraPrefix=function(){return"Anonymous Camera"},r.dragAndDropMessage=function(){return"Or drop an image to scan"},r.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},r.zoom=function(){return"zoom"},r.loadingImage=function(){return"Loading image..."},r.cameraScanAltText=function(){return"Camera based scan"},r.fileScanAltText=function(){return"Fule based scan"},r}(),o1=function(){function r(){}return r.poweredBy=function(){return"Powered by "},r.reportIssues=function(){return"Report issues"},r}(),cg=function(){function r(){}return r.isMediaStreamConstraintsValid=function(i,s){if(typeof i!="object"){var c=typeof i;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(h),w=Object.keys(i),E=0,C=w;E<C.length;E++){var x=C[E];if(p.has(x))return s.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},r}(),Ta={exports:{}},Jy=Ta.exports,a1;function ew(){return a1||(a1=1,function(r,i){(function(s,c){c(i)})(Jy,function(s){function c(R){return R==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,e){R.__proto__=e}||function(R,e){for(var n in e)e.hasOwnProperty(n)&&(R[n]=e[n])};function p(R,e){h(R,e);function n(){this.constructor=R}R.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function w(R,e){var n=Object.setPrototypeOf;n?n(R,e):R.__proto__=e}function E(R,e){e===void 0&&(e=R.constructor);var n=Error.captureStackTrace;n&&n(R,e)}var C=function(R){p(e,R);function e(n){var o=this.constructor,l=R.call(this,n)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),w(l,o.prototype),E(l),l}return e}(Error);class x extends C{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class S extends x{}S.kind="ArgumentException";class T extends x{}T.kind="IllegalArgumentException";class N{constructor(e){if(this.binarizer=e,e===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,o,l){const u=this.binarizer.getLuminanceSource().crop(e,n,o,l);return new N(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends x{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class k{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(e,n,o,l,u){for(;u--;)o[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class B extends x{}B.kind="IndexOutOfBoundsException";class z extends B{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}z.kind="ArrayIndexOutOfBoundsException";class H{static fill(e,n){for(let o=0,l=e.length;o<l;o++)e[o]=n}static fillWithin(e,n,o,l){H.rangeCheck(e.length,n,o);for(let u=n;u<o;u++)e[u]=l}static rangeCheck(e,n,o){if(n>o)throw new T("fromIndex("+n+") > toIndex("+o+")");if(n<0)throw new z(n);if(o>e)throw new z(o)}static asList(...e){return e}static create(e,n,o){return Array.from({length:e}).map(u=>Array.from({length:n}).fill(o))}static createInt32Array(e,n,o){return Array.from({length:e}).map(u=>Int32Array.from({length:n}).fill(o))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let o=0,l=e.length;o<l;o++)if(e[o]!==n[o])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const o of e)n=31*n+o;return n}static fillUint8Array(e,n){for(let o=0;o!==e.length;o++)e[o]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const o=new Uint8Array(n);return o.set(e),o}return e.slice(0,n)}static copyOfRange(e,n,o){const l=o-n,u=new Int32Array(l);return F.arraycopy(e,n,u,0,l),u}static binarySearch(e,n,o){o===void 0&&(o=H.numberComparator);let l=0,u=e.length-1;for(;l<=u;){const f=u+l>>1,g=o(n,e[f]);if(g>0)l=f+1;else if(g<0)u=f-1;else return f}return-l-1}static numberComparator(e,n){return e-n}}class V{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let o=31;return n=e<<16,n!==0&&(o-=16,e=n),n=e<<8,n!==0&&(o-=8,e=n),n=e<<4,n!==0&&(o-=4,e=n),n=e<<2,n!==0&&(o-=2,e=n),o-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class re{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=re.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=re.makeArray(e);F.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const o=this.bits;let l=Math.floor(e/32),u=o[l];u&=~((1<<(e&31))-1);const f=o.length;for(;u===0;){if(++l===f)return n;u=o[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>n?n:g}getNextUnset(e){const n=this.size;if(e>=n)return n;const o=this.bits;let l=Math.floor(e/32),u=~o[l];u&=~((1<<(e&31))-1);const f=o.length;for(;u===0;){if(++l===f)return n;u=~o[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>n?n:g}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new T;if(n===e)return;n--;const o=Math.floor(e/32),l=Math.floor(n/32),u=this.bits;for(let f=o;f<=l;f++){const g=f>o?0:e&31,v=(2<<(f<l?31:n&31))-(1<<g);u[f]|=v}}clear(){const e=this.bits.length,n=this.bits;for(let o=0;o<e;o++)n[o]=0}isRange(e,n,o){if(n<e||e<0||n>this.size)throw new T;if(n===e)return!0;n--;const l=Math.floor(e/32),u=Math.floor(n/32),f=this.bits;for(let g=l;g<=u;g++){const y=g>l?0:e&31,b=(2<<(g<u?31:n&31))-(1<<y)&4294967295;if((f[g]&b)!==(o?b:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let o=n;o>0;o--)this.appendBit((e>>o-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let o=0;o<n;o++)this.appendBit(e.get(o))}xor(e){if(this.size!==e.size)throw new T("Sizes don't match");const n=this.bits;for(let o=0,l=n.length;o<l;o++)n[o]^=e.bits[o]}toBytes(e,n,o,l){for(let u=0;u<l;u++){let f=0;for(let g=0;g<8;g++)this.get(e)&&(f|=1<<7-g),e++;n[o+u]=f}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),o=n+1,l=this.bits;for(let u=0;u<o;u++){let f=l[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,e[n-u]=f}if(this.size!==o*32){const u=o*32-this.size;let f=e[0]>>>u;for(let g=1;g<o;g++){const y=e[g];f|=y<<32-u,e[g-1]=f,f=y>>>u}e[o-1]=f}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof re))return!1;const n=e;return this.size===n.size&&H.equals(this.bits,n.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let e="";for(let n=0,o=this.size;n<o;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new re(this.size,this.bits.slice())}}var le;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(le||(le={}));var ue=le;class q extends x{static getFormatInstance(){return new q}}q.kind="FormatException";var ce;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(ce||(ce={}));class ne{constructor(e,n,o,...l){this.valueIdentifier=e,this.name=o,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,ne.VALUE_IDENTIFIER_TO_ECI.set(e,this),ne.NAME_TO_ECI.set(o,this);const u=this.values;for(let f=0,g=u.length;f!==g;f++){const y=u[f];ne.VALUES_TO_ECI.set(y,this)}for(const f of l)ne.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new q("incorect value");const n=ne.VALUES_TO_ECI.get(e);if(n===void 0)throw new q("incorect value");return n}static getCharacterSetECIByName(e){const n=ne.NAME_TO_ECI.get(e);if(n===void 0)throw new q("incorect value");return n}equals(e){if(!(e instanceof ne))return!1;const n=e;return this.getName()===n.getName()}}ne.VALUE_IDENTIFIER_TO_ECI=new Map,ne.VALUES_TO_ECI=new Map,ne.NAME_TO_ECI=new Map,ne.Cp437=new ne(ce.Cp437,Int32Array.from([0,2]),"Cp437"),ne.ISO8859_1=new ne(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ne.ISO8859_2=new ne(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ne.ISO8859_3=new ne(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ne.ISO8859_4=new ne(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ne.ISO8859_5=new ne(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ne.ISO8859_6=new ne(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ne.ISO8859_7=new ne(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ne.ISO8859_8=new ne(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ne.ISO8859_9=new ne(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ne.ISO8859_10=new ne(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ne.ISO8859_11=new ne(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ne.ISO8859_13=new ne(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ne.ISO8859_14=new ne(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ne.ISO8859_15=new ne(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ne.ISO8859_16=new ne(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ne.SJIS=new ne(ce.SJIS,20,"SJIS","Shift_JIS"),ne.Cp1250=new ne(ce.Cp1250,21,"Cp1250","windows-1250"),ne.Cp1251=new ne(ce.Cp1251,22,"Cp1251","windows-1251"),ne.Cp1252=new ne(ce.Cp1252,23,"Cp1252","windows-1252"),ne.Cp1256=new ne(ce.Cp1256,24,"Cp1256","windows-1256"),ne.UnicodeBigUnmarked=new ne(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ne.UTF8=new ne(ce.UTF8,26,"UTF8","UTF-8"),ne.ASCII=new ne(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ne.Big5=new ne(ce.Big5,28,"Big5"),ne.GB18030=new ne(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ne.EUC_KR=new ne(ce.EUC_KR,30,"EUC_KR","EUC-KR");class _e extends x{}_e.kind="UnsupportedOperationException";class Ue{static decode(e,n){const o=this.encodingName(n);return this.customDecoder?this.customDecoder(e,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(e,o):new TextDecoder(o).decode(e)}static shouldDecodeOnFallback(e){return!Ue.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const o=this.encodingName(n);return this.customEncoder?this.customEncoder(e,o):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ne?e:ne.getCharacterSetECIByName(e)}static decodeFallback(e,n){const o=this.encodingCharacterSet(n);if(Ue.isDecodeFallbackSupported(o)){let l="";for(let u=0,f=e.length;u<f;u++){let g=e[u].toString(16);g.length<2&&(g="0"+g),l+="%"+g}return decodeURIComponent(l)}if(o.equals(ne.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _e(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ne.UTF8)||e.equals(ne.ISO8859_1)||e.equals(ne.ASCII)}static encodeFallback(e){const o=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let u=0;u<o.length;u++)l.push(o[u].charCodeAt(0));return new Uint8Array(l)}}class Ne{static castAsNonUtf8Char(e,n=null){const o=n?n.getName():this.ISO88591;return Ue.decode(new Uint8Array([e]),o)}static guessEncoding(e,n){if(n!=null&&n.get(ue.CHARACTER_SET)!==void 0)return n.get(ue.CHARACTER_SET).toString();const o=e.length;let l=!0,u=!0,f=!0,g=0,y=0,v=0,b=0,M=0,P=0,U=0,G=0,X=0,$=0,se=0;const we=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Ce=0;Ce<o&&(l||u||f);Ce++){const me=e[Ce]&255;f&&(g>0?me&128?g--:f=!1:me&128&&(me&64?(g++,me&32?(g++,me&16?(g++,me&8?f=!1:b++):v++):y++):f=!1)),l&&(me>127&&me<160?l=!1:me>159&&(me<192||me===215||me===247)&&se++),u&&(M>0?me<64||me===127||me>252?u=!1:M--:me===128||me===160||me>239?u=!1:me>160&&me<224?(P++,G=0,U++,U>X&&(X=U)):me>127?(M++,U=0,G++,G>$&&($=G)):(U=0,G=0))}return f&&g>0&&(f=!1),u&&M>0&&(u=!1),f&&(we||y+v+b>0)?Ne.UTF8:u&&(Ne.ASSUME_SHIFT_JIS||X>=3||$>=3)?Ne.SHIFT_JIS:l&&u?X===2&&P===2||se*10>=o?Ne.SHIFT_JIS:Ne.ISO88591:l?Ne.ISO88591:u?Ne.SHIFT_JIS:f?Ne.UTF8:Ne.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let o=-1;function l(f,g,y,v,b,M){if(f==="%%")return"%";if(n[++o]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let P=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=n[o];break;case"c":U=n[o][0];break;case"f":U=parseFloat(n[o]).toFixed(f);break;case"p":U=parseFloat(n[o]).toPrecision(f);break;case"e":U=parseFloat(n[o]).toExponential(f);break;case"x":U=parseInt(n[o]).toString(P||16);break;case"d":U=parseFloat(parseInt(n[o],P||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(P);let G=parseInt(y),X=y&&y[0]+""=="0"?"0":" ";for(;U.length<G;)U=g!==void 0?U+X:X+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}static getBytes(e,n){return Ue.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Ne.SHIFT_JIS=ne.SJIS.getName(),Ne.GB2312="GB2312",Ne.ISO88591=ne.ISO8859_1.getName(),Ne.EUC_JP="EUC_JP",Ne.UTF8=ne.UTF8.getName(),Ne.PLATFORM_DEFAULT_ENCODING=Ne.UTF8,Ne.ASSUME_SHIFT_JIS=!1;class je{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ne.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,o){for(let l=n;n<n+o;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class be{constructor(e,n,o,l){if(this.width=e,this.height=n,this.rowSize=o,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new T("Both dimensions must be greater than 0");o==null&&(o=Math.floor((e+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,o=e[0].length,l=new be(o,n);for(let u=0;u<n;u++){const f=e[u];for(let g=0;g<o;g++)f[g]&&l.set(g,u)}return l}static parseFromString(e,n,o){if(e===null)throw new T("stringRepresentation cannot be null");const l=new Array(e.length);let u=0,f=0,g=-1,y=0,v=0;for(;v<e.length;)if(e.charAt(v)===`
`||e.charAt(v)==="\r"){if(u>f){if(g===-1)g=u-f;else if(u-f!==g)throw new T("row lengths do not match");f=u,y++}v++}else if(e.substring(v,v+n.length)===n)v+=n.length,l[u]=!0,u++;else if(e.substring(v,v+o.length)===o)v+=o.length,l[u]=!1,u++;else throw new T("illegal character encountered: "+e.substring(v));if(u>f){if(g===-1)g=u-f;else if(u-f!==g)throw new T("row lengths do not match");y++}const b=new be(g,y);for(let M=0;M<u;M++)l[M]&&b.set(Math.floor(M%g),Math.floor(M/g));return b}get(e,n){const o=n*this.rowSize+Math.floor(e/32);return(this.bits[o]>>>(e&31)&1)!==0}set(e,n){const o=n*this.rowSize+Math.floor(e/32);this.bits[o]|=1<<(e&31)&4294967295}unset(e,n){const o=n*this.rowSize+Math.floor(e/32);this.bits[o]&=~(1<<(e&31)&4294967295)}flip(e,n){const o=n*this.rowSize+Math.floor(e/32);this.bits[o]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new T("input matrix dimensions do not match");const n=new re(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let u=0,f=this.height;u<f;u++){const g=u*o,y=e.getRow(u,n).getBitArray();for(let v=0;v<o;v++)l[g+v]^=y[v]}}clear(){const e=this.bits,n=e.length;for(let o=0;o<n;o++)e[o]=0}setRegion(e,n,o,l){if(n<0||e<0)throw new T("Left and top must be nonnegative");if(l<1||o<1)throw new T("Height and width must be at least 1");const u=e+o,f=n+l;if(f>this.height||u>this.width)throw new T("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let v=n;v<f;v++){const b=v*g;for(let M=e;M<u;M++)y[b+Math.floor(M/32)]|=1<<(M&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new re(this.width):n.clear();const o=this.rowSize,l=this.bits,u=e*o;for(let f=0;f<o;f++)n.setBulk(f*32,l[u+f]);return n}setRow(e,n){F.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let o=new re(e),l=new re(e);for(let u=0,f=Math.floor((n+1)/2);u<f;u++)o=this.getRow(u,o),l=this.getRow(n-1-u,l),o.reverse(),l.reverse(),this.setRow(u,l),this.setRow(n-1-u,o)}getEnclosingRectangle(){const e=this.width,n=this.height,o=this.rowSize,l=this.bits;let u=e,f=n,g=-1,y=-1;for(let v=0;v<n;v++)for(let b=0;b<o;b++){const M=l[v*o+b];if(M!==0){if(v<f&&(f=v),v>y&&(y=v),b*32<u){let P=0;for(;!(M<<31-P&4294967295);)P++;b*32+P<u&&(u=b*32+P)}if(b*32+31>g){let P=31;for(;!(M>>>P);)P--;b*32+P>g&&(g=b*32+P)}}}return g<u||y<f?null:Int32Array.from([u,f,g-u+1,y-f+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let o=0;for(;o<n.length&&n[o]===0;)o++;if(o===n.length)return null;const l=o/e;let u=o%e*32;const f=n[o];let g=0;for(;!(f<<31-g&4294967295);)g++;return u+=g,Int32Array.from([u,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let o=n.length-1;for(;o>=0&&n[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/e);let u=Math.floor(o%e)*32;const f=n[o];let g=31;for(;!(f>>>g);)g--;return u+=g,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof be))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&H.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+H.hashCode(this.bits),e}toString(e="X ",n="  ",o=`
`){return this.buildToString(e,n,o)}buildToString(e,n,o){let l=new je;for(let u=0,f=this.height;u<f;u++){for(let g=0,y=this.width;g<y;g++)l.append(this.get(g,u)?e:n);l.append(o)}return l.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class Z extends x{static getNotFoundInstance(){return new Z}}Z.kind="NotFoundException";class Ie extends k{constructor(e){super(e),this.luminances=Ie.EMPTY,this.buckets=new Int32Array(Ie.LUMINANCE_BUCKETS)}getBlackRow(e,n){const o=this.getLuminanceSource(),l=o.getWidth();n==null||n.getSize()<l?n=new re(l):n.clear(),this.initArrays(l);const u=o.getRow(e,this.luminances),f=this.buckets;for(let y=0;y<l;y++)f[(u[y]&255)>>Ie.LUMINANCE_SHIFT]++;const g=Ie.estimateBlackPoint(f);if(l<3)for(let y=0;y<l;y++)(u[y]&255)<g&&n.set(y);else{let y=u[0]&255,v=u[1]&255;for(let b=1;b<l-1;b++){const M=u[b+1]&255;(v*4-y-M)/2<g&&n.set(b),y=v,v=M}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),o=e.getHeight(),l=new be(n,o);this.initArrays(n);const u=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(o*y/5),b=e.getRow(v,this.luminances),M=Math.floor(n*4/5);for(let P=Math.floor(n/5);P<M;P++){const U=b[P]&255;u[U>>Ie.LUMINANCE_SHIFT]++}}const f=Ie.estimateBlackPoint(u),g=e.getMatrix();for(let y=0;y<o;y++){const v=y*n;for(let b=0;b<n;b++)(g[v+b]&255)<f&&l.set(b,y)}return l}createBinarizer(e){return new Ie(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let o=0;o<Ie.LUMINANCE_BUCKETS;o++)n[o]=0}static estimateBlackPoint(e){const n=e.length;let o=0,l=0,u=0;for(let b=0;b<n;b++)e[b]>u&&(l=b,u=e[b]),e[b]>o&&(o=e[b]);let f=0,g=0;for(let b=0;b<n;b++){const M=b-l,P=e[b]*M*M;P>g&&(f=b,g=P)}if(l>f){const b=l;l=f,f=b}if(f-l<=n/16)throw new Z;let y=f-1,v=-1;for(let b=f-1;b>l;b--){const M=b-l,P=M*M*(f-b)*(o-e[b]);P>v&&(y=b,v=P)}return y<<Ie.LUMINANCE_SHIFT}}Ie.LUMINANCE_BITS=5,Ie.LUMINANCE_SHIFT=8-Ie.LUMINANCE_BITS,Ie.LUMINANCE_BUCKETS=1<<Ie.LUMINANCE_BITS,Ie.EMPTY=Uint8ClampedArray.from([0]);class pe extends Ie{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),o=e.getHeight();if(n>=pe.MINIMUM_DIMENSION&&o>=pe.MINIMUM_DIMENSION){const l=e.getMatrix();let u=n>>pe.BLOCK_SIZE_POWER;n&pe.BLOCK_SIZE_MASK&&u++;let f=o>>pe.BLOCK_SIZE_POWER;o&pe.BLOCK_SIZE_MASK&&f++;const g=pe.calculateBlackPoints(l,u,f,n,o),y=new be(n,o);pe.calculateThresholdForBlock(l,u,f,n,o,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new pe(e)}static calculateThresholdForBlock(e,n,o,l,u,f,g){const y=u-pe.BLOCK_SIZE,v=l-pe.BLOCK_SIZE;for(let b=0;b<o;b++){let M=b<<pe.BLOCK_SIZE_POWER;M>y&&(M=y);const P=pe.cap(b,2,o-3);for(let U=0;U<n;U++){let G=U<<pe.BLOCK_SIZE_POWER;G>v&&(G=v);const X=pe.cap(U,2,n-3);let $=0;for(let we=-2;we<=2;we++){const Ce=f[P+we];$+=Ce[X-2]+Ce[X-1]+Ce[X]+Ce[X+1]+Ce[X+2]}const se=$/25;pe.thresholdBlock(e,G,M,se,l,g)}}}static cap(e,n,o){return e<n?n:e>o?o:e}static thresholdBlock(e,n,o,l,u,f){for(let g=0,y=o*u+n;g<pe.BLOCK_SIZE;g++,y+=u)for(let v=0;v<pe.BLOCK_SIZE;v++)(e[y+v]&255)<=l&&f.set(n+v,o+g)}static calculateBlackPoints(e,n,o,l,u){const f=u-pe.BLOCK_SIZE,g=l-pe.BLOCK_SIZE,y=new Array(o);for(let v=0;v<o;v++){y[v]=new Int32Array(n);let b=v<<pe.BLOCK_SIZE_POWER;b>f&&(b=f);for(let M=0;M<n;M++){let P=M<<pe.BLOCK_SIZE_POWER;P>g&&(P=g);let U=0,G=255,X=0;for(let se=0,we=b*l+P;se<pe.BLOCK_SIZE;se++,we+=l){for(let Ce=0;Ce<pe.BLOCK_SIZE;Ce++){const me=e[we+Ce]&255;U+=me,me<G&&(G=me),me>X&&(X=me)}if(X-G>pe.MIN_DYNAMIC_RANGE)for(se++,we+=l;se<pe.BLOCK_SIZE;se++,we+=l)for(let Ce=0;Ce<pe.BLOCK_SIZE;Ce++)U+=e[we+Ce]&255}let $=U>>pe.BLOCK_SIZE_POWER*2;if(X-G<=pe.MIN_DYNAMIC_RANGE&&($=G/2,v>0&&M>0)){const se=(y[v-1][M]+2*y[v][M-1]+y[v-1][M-1])/4;G<se&&($=se)}y[v][M]=$}}return y}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class de{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,o,l){throw new _e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _e("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new je;for(let o=0;o<this.height;o++){const l=this.getRow(o,e);for(let u=0;u<this.width;u++){const f=l[u]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",n.append(g)}n.append(`
`)}return n.toString()}}class Se extends de{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const o=this.delegate.getRow(e,n),l=this.getWidth();for(let u=0;u<l;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(n);for(let l=0;l<n;l++)o[l]=255-(e[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,o,l){return new Se(this.delegate.crop(e,n,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Se(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Se(this.delegate.rotateCounterClockwise45())}}class fe extends de{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return fe.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,o){const l=new Uint8ClampedArray(n*o);for(let u=0,f=0,g=e.length;u<g;u+=4,f++){let y;if(e[u+3]===0)y=255;else{const b=e[u],M=e[u+1],P=e[u+2];y=306*b+601*M+117*P+512>>10}l[f]=y}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth(),l=e*o;return n===null?n=this.buffer.slice(l,l+o):(n.length<o&&(n=new Uint8ClampedArray(o)),n.set(this.buffer.slice(l,l+o))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,o,l){return super.crop(e,n,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),o=n.getContext("2d"),l=e*fe.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*f),y=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*f);return n.width=g,n.height=y,o.translate(g/2,y/2),o.rotate(l),o.drawImage(this.canvas,u/-2,f/-2),this.buffer=fe.makeBufferFromCanvasImageData(n),this}invert(){return new Se(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class K{constructor(e,n,o){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var te=(globalThis||tu||self||window||void 0)&&(globalThis||tu||self||window||void 0).__awaiter||function(R,e,n,o){function l(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function g(b){try{v(o.next(b))}catch(M){f(M)}}function y(b){try{v(o.throw(b))}catch(M){f(M)}}function v(b){b.done?u(b.value):l(b.value).then(g,y)}v((o=o.apply(R,e||[])).next())})};class Re{constructor(e,n=500,o){this.reader=e,this.timeBetweenScansMillis=n,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const o of e){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const u=o.deviceId||o.id,f=o.label||`Video device ${n.length+1}`,g=o.groupId,y={deviceId:u,label:f,kind:l,groupId:g};n.push(y)}return n})}getVideoInputDevices(){return te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new K(n.deviceId,n.label))})}findDeviceById(e){return te(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(o=>o.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return te(this,void 0,void 0,function*(){this.reset();let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return te(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(o,n)})}decodeOnceFromStream(e,n){return te(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(e,n,o){return te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,o)})}decodeFromVideoDevice(e,n,o){return te(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,n,o)})}decodeFromConstraints(e,n,o){return te(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,o)})}decodeFromStream(e,n,o){return te(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return te(this,void 0,void 0,function*(){const o=this.prepareVideoElement(n);return this.addVideoSource(o,e),this.videoElement=o,this.stream=e,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(e){return new Promise((n,o)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return te(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const o=document.getElementById(e);if(!o)throw new S(`element with id '${e}' not found`);if(o.nodeName.toLowerCase()!==n.toLowerCase())throw new S(`element with id '${e}' must be an ${n} element`);return o}decodeFromImage(e,n){if(!e&&!n)throw new S("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,o){if(e===void 0&&n===void 0)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,o):this.decodeFromVideoElementContinuously(e,o)}decodeFromImageElement(e){if(!e)throw new S("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let o;return this.isImageLoaded(n)?o=this.decodeOnce(n,!1,!0):o=this._decodeOnLoadImage(n),o}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const o=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(o,n)}_decodeFromVideoElementSetup(e){if(!e)throw new S("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const o=this._decodeOnLoadImage(n);return n.src=e,o}decodeFromVideoUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),o=this.decodeFromVideoElement(n);return n.src=e,o}decodeFromVideoUrlContinuously(e,n){if(!e)throw new S("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,n);return o.src=e,l}_decodeOnLoadImage(e){return new Promise((n,o)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,o),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,o=!0){this._stopAsyncDecode=!1;const l=(u,f)=>{if(this._stopAsyncDecode){f(new Z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(e);u(g)}catch(g){const y=n&&g instanceof Z,b=(g instanceof O||g instanceof q)&&o;if(y||b)return setTimeout(l,this._timeBetweenDecodingAttempts,u,f);f(g)}};return new Promise((u,f)=>l(u,f))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){n(null,l);const u=l instanceof O||l instanceof q,f=l instanceof Z;(u||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,o){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,o=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),o=new fe(n),l=new pe(o);return new N(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let o,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(o=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(o=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=o+"px",n.style.height=l+"px",n.width=o,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Be{constructor(e,n,o=n==null?0:8*n.length,l,u,f=F.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=o,this.resultPoints=l,this.format=u,this.timestamp=f,this.text=e,this.rawBytes=n,o==null?this.numBits=n==null?0:8*n.length:this.numBits=o,this.resultPoints=l,this.format=u,this.resultMetadata=null,f==null?this.timestamp=F.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const o=new Array(n.length+e.length);F.arraycopy(n,0,o,0,n.length),F.arraycopy(e,0,o,n.length,e.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var st;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var ve=st,Je;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Je||(Je={}));var Ge=Je;class et{constructor(e,n,o,l,u=-1,f=-1){this.rawBytes=e,this.text=n,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Lt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Ht{constructor(e,n){if(n.length===0)throw new T;this.field=e;const o=n.length;if(o>1&&n[0]===0){let l=1;for(;l<o&&n[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),F.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let o;if(e===1){o=0;for(let f=0,g=n.length;f!==g;f++){const y=n[f];o=Lt.addOrSubtract(o,y)}return o}o=n[0];const l=n.length,u=this.field;for(let f=1;f<l;f++)o=Lt.addOrSubtract(u.multiply(e,o),n[f]);return o}addOrSubtract(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,o=e.coefficients;if(n.length>o.length){const f=n;n=o,o=f}let l=new Int32Array(o.length);const u=o.length-n.length;F.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=Lt.addOrSubtract(n[f-u],o[f]);return new Ht(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,o=n.length,l=e.coefficients,u=l.length,f=new Int32Array(o+u-1),g=this.field;for(let y=0;y<o;y++){const v=n[y];for(let b=0;b<u;b++)f[y+b]=Lt.addOrSubtract(f[y+b],g.multiply(v,l[b]))}return new Ht(g,f)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,o=this.field,l=new Int32Array(n),u=this.coefficients;for(let f=0;f<n;f++)l[f]=o.multiply(u[f],e);return new Ht(o,l)}multiplyByMonomial(e,n){if(e<0)throw new T;if(n===0)return this.field.getZero();const o=this.coefficients,l=o.length,u=new Int32Array(l+e),f=this.field;for(let g=0;g<l;g++)u[g]=f.multiply(o[g],n);return new Ht(f,u)}divide(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new T("Divide by 0");const n=this.field;let o=n.getZero(),l=this;const u=e.getCoefficient(e.getDegree()),f=n.inverse(u);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const g=l.getDegree()-e.getDegree(),y=n.multiply(l.getCoefficient(l.getDegree()),f),v=e.multiplyByMonomial(g,y),b=n.buildMonomial(g,y);o=o.addOrSubtract(b),l=l.addOrSubtract(v)}return[o,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let o=this.getCoefficient(n);if(o!==0){if(o<0?(e+=" - ",o=-o):e.length>0&&(e+=" + "),n===0||o!==1){const l=this.field.log(o);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class Ur extends x{}Ur.kind="ArithmeticException";class it extends Lt{constructor(e,n,o){super(),this.primitive=e,this.size=n,this.generatorBase=o;const l=new Int32Array(n);let u=1;for(let g=0;g<n;g++)l[g]=u,u*=2,u>=n&&(u^=e,u&=n-1);this.expTable=l;const f=new Int32Array(n);for(let g=0;g<n-1;g++)f[l[g]]=g;this.logTable=f,this.zero=new Ht(this,Int32Array.from([0])),this.one=new Ht(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new T;if(n===0)return this.zero;const o=new Int32Array(e+1);return o[0]=n,new Ht(this,o)}inverse(e){if(e===0)throw new Ur;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}it.AZTEC_DATA_12=new it(4201,4096,1),it.AZTEC_DATA_10=new it(1033,1024,1),it.AZTEC_DATA_6=new it(67,64,1),it.AZTEC_PARAM=new it(19,16,1),it.QR_CODE_FIELD_256=new it(285,256,0),it.DATA_MATRIX_FIELD_256=new it(301,256,1),it.AZTEC_DATA_8=it.DATA_MATRIX_FIELD_256,it.MAXICODE_FIELD_64=it.AZTEC_DATA_6;class tr extends x{}tr.kind="ReedSolomonException";class Tn extends x{}Tn.kind="IllegalStateException";class Tr{constructor(e){this.field=e}decode(e,n){const o=this.field,l=new Ht(o,e),u=new Int32Array(n);let f=!0;for(let U=0;U<n;U++){const G=l.evaluateAt(o.exp(U+o.getGeneratorBase()));u[u.length-1-U]=G,G!==0&&(f=!1)}if(f)return;const g=new Ht(o,u),y=this.runEuclideanAlgorithm(o.buildMonomial(n,1),g,n),v=y[0],b=y[1],M=this.findErrorLocations(v),P=this.findErrorMagnitudes(b,M);for(let U=0;U<M.length;U++){const G=e.length-1-o.log(M[U]);if(G<0)throw new tr("Bad error location");e[G]=it.addOrSubtract(e[G],P[U])}}runEuclideanAlgorithm(e,n,o){if(e.getDegree()<n.getDegree()){const U=e;e=n,n=U}const l=this.field;let u=e,f=n,g=l.getZero(),y=l.getOne();for(;f.getDegree()>=(o/2|0);){let U=u,G=g;if(u=f,g=y,u.isZero())throw new tr("r_{i-1} was zero");f=U;let X=l.getZero();const $=u.getCoefficient(u.getDegree()),se=l.inverse($);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const we=f.getDegree()-u.getDegree(),Ce=l.multiply(f.getCoefficient(f.getDegree()),se);X=X.addOrSubtract(l.buildMonomial(we,Ce)),f=f.addOrSubtract(u.multiplyByMonomial(we,Ce))}if(y=X.multiply(g).addOrSubtract(G),f.getDegree()>=u.getDegree())throw new Tn("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(v===0)throw new tr("sigmaTilde(0) was zero");const b=l.inverse(v),M=y.multiplyScalar(b),P=f.multiplyScalar(b);return[M,P]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const o=new Int32Array(n);let l=0;const u=this.field;for(let f=1;f<u.getSize()&&l<n;f++)e.evaluateAt(f)===0&&(o[l]=u.inverse(f),l++);if(l!==n)throw new tr("Error locator degree does not match number of roots");return o}findErrorMagnitudes(e,n){const o=n.length,l=new Int32Array(o),u=this.field;for(let f=0;f<o;f++){const g=u.inverse(n[f]);let y=1;for(let v=0;v<o;v++)if(f!==v){const b=u.multiply(n[v],g),M=b&1?b&-2:b|1;y=u.multiply(y,M)}l[f]=u.multiply(e.evaluateAt(g),u.inverse(y)),u.getGeneratorBase()!==0&&(l[f]=u.multiply(l[f],g))}return l}}var kt;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(kt||(kt={}));class xt{decode(e){this.ddata=e;let n=e.getBits(),o=this.extractBits(n),l=this.correctBits(o),u=xt.convertBoolArrayToByteArray(l),f=xt.getEncodedData(l),g=new et(u,f,null,null);return g.setNumBits(l.length),g}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,o=kt.UPPER,l=kt.UPPER,u="",f=0;for(;f<n;)if(l===kt.BINARY){if(n-f<5)break;let g=xt.readCode(e,f,5);if(f+=5,g===0){if(n-f<11)break;g=xt.readCode(e,f,11)+31,f+=11}for(let y=0;y<g;y++){if(n-f<8){f=n;break}const v=xt.readCode(e,f,8);u+=Ne.castAsNonUtf8Char(v),f+=8}l=o}else{let g=l===kt.DIGIT?4:5;if(n-f<g)break;let y=xt.readCode(e,f,g);f+=g;let v=xt.getCharacter(l,y);v.startsWith("CTRL_")?(o=l,l=xt.getTable(v.charAt(5)),v.charAt(6)==="L"&&(o=l)):(u+=v,l=o)}return u}static getTable(e){switch(e){case"L":return kt.LOWER;case"P":return kt.PUNCT;case"M":return kt.MIXED;case"D":return kt.DIGIT;case"B":return kt.BINARY;case"U":default:return kt.UPPER}}static getCharacter(e,n){switch(e){case kt.UPPER:return xt.UPPER_TABLE[n];case kt.LOWER:return xt.LOWER_TABLE[n];case kt.MIXED:return xt.MIXED_TABLE[n];case kt.PUNCT:return xt.PUNCT_TABLE[n];case kt.DIGIT:return xt.DIGIT_TABLE[n];default:throw new Tn("Bad table")}}correctBits(e){let n,o;this.ddata.getNbLayers()<=2?(o=6,n=it.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,n=it.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,n=it.AZTEC_DATA_10):(o=12,n=it.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=e.length/o;if(u<l)throw new q;let f=e.length%o,g=new Int32Array(u);for(let P=0;P<u;P++,f+=o)g[P]=xt.readCode(e,f,o);try{new Tr(n).decode(g,u-l)}catch(P){throw new q(P)}let y=(1<<o)-1,v=0;for(let P=0;P<l;P++){let U=g[P];if(U===0||U===y)throw new q;(U===1||U===y-1)&&v++}let b=new Array(l*o-v),M=0;for(let P=0;P<l;P++){let U=g[P];if(U===1||U===y-1)b.fill(U>1,M,M+o-1),M+=o-1;else for(let G=o-1;G>=0;--G)b[M++]=(U&1<<G)!==0}return b}extractBits(e){let n=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(n?11:14)+o*4,u=new Int32Array(l),f=new Array(this.totalBitsInLayer(o,n));if(n)for(let g=0;g<u.length;g++)u[g]=g;else{let g=l+1+2*V.truncDivision(V.truncDivision(l,2)-1,15),y=l/2,v=V.truncDivision(g,2);for(let b=0;b<y;b++){let M=b+V.truncDivision(b,15);u[y-b-1]=v-M-1,u[y+b]=v+M+1}}for(let g=0,y=0;g<o;g++){let v=(o-g)*4+(n?9:12),b=g*2,M=l-1-b;for(let P=0;P<v;P++){let U=P*2;for(let G=0;G<2;G++)f[y+U+G]=e.get(u[b+G],u[b+P]),f[y+2*v+U+G]=e.get(u[b+P],u[M-G]),f[y+4*v+U+G]=e.get(u[M-G],u[M-P]),f[y+6*v+U+G]=e.get(u[M-P],u[b+G])}y+=v*8}return f}static readCode(e,n,o){let l=0;for(let u=n;u<n+o;u++)l<<=1,e[u]&&(l|=1);return l}static readByte(e,n){let o=e.length-n;return o>=8?xt.readCode(e,n,8):xt.readCode(e,n,o)<<8-o}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let o=0;o<n.length;o++)n[o]=xt.readByte(e,8*o);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}xt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],xt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],xt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],xt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],xt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,o,l){const u=e-o,f=n-l;return Math.sqrt(u*u+f*f)}static sum(e){let n=0;for(let o=0,l=e.length;o!==l;o++){const u=e[o];n+=u}return n}}class _n{static floatToIntBits(e){return e}}_n.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ee{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Ee){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*_n.floatToIntBits(this.x)+_n.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),o=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let u,f,g;if(o>=n&&o>=l?(f=e[0],u=e[1],g=e[2]):l>=o&&l>=n?(f=e[1],u=e[0],g=e[2]):(f=e[2],u=e[0],g=e[1]),this.crossProductZ(u,f,g)<0){const y=u;u=g,g=y}e[0]=u,e[1]=f,e[2]=g}static distance(e,n){return lt.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,o){const l=n.x,u=n.y;return(o.x-l)*(e.y-u)-(o.y-u)*(e.x-l)}}class Xe{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Tt extends Xe{constructor(e,n,o,l,u){super(e,n),this.compact=o,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class wt{constructor(e,n,o,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=wt.INIT_SIZE),o==null&&(o=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const u=n/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Z}detect(){let e=this.leftInit,n=this.rightInit,o=this.upInit,l=this.downInit,u=!1,f=!0,g=!1,y=!1,v=!1,b=!1,M=!1;const P=this.width,U=this.height;for(;f;){f=!1;let G=!0;for(;(G||!y)&&n<P;)G=this.containsBlackPoint(o,l,n,!1),G?(n++,f=!0,y=!0):y||n++;if(n>=P){u=!0;break}let X=!0;for(;(X||!v)&&l<U;)X=this.containsBlackPoint(e,n,l,!0),X?(l++,f=!0,v=!0):v||l++;if(l>=U){u=!0;break}let $=!0;for(;($||!b)&&e>=0;)$=this.containsBlackPoint(o,l,e,!1),$?(e--,f=!0,b=!0):b||e--;if(e<0){u=!0;break}let se=!0;for(;(se||!M)&&o>=0;)se=this.containsBlackPoint(e,n,o,!0),se?(o--,f=!0,M=!0):M||o--;if(o<0){u=!0;break}f&&(g=!0)}if(!u&&g){const G=n-e;let X=null;for(let Ce=1;X===null&&Ce<G;Ce++)X=this.getBlackPointOnSegment(e,l-Ce,e+Ce,l);if(X==null)throw new Z;let $=null;for(let Ce=1;$===null&&Ce<G;Ce++)$=this.getBlackPointOnSegment(e,o+Ce,e+Ce,o);if($==null)throw new Z;let se=null;for(let Ce=1;se===null&&Ce<G;Ce++)se=this.getBlackPointOnSegment(n,o+Ce,n-Ce,o);if(se==null)throw new Z;let we=null;for(let Ce=1;we===null&&Ce<G;Ce++)we=this.getBlackPointOnSegment(n,l-Ce,n-Ce,l);if(we==null)throw new Z;return this.centerEdges(we,X,se,$)}else throw new Z}getBlackPointOnSegment(e,n,o,l){const u=lt.round(lt.distance(e,n,o,l)),f=(o-e)/u,g=(l-n)/u,y=this.image;for(let v=0;v<u;v++){const b=lt.round(e+v*f),M=lt.round(n+v*g);if(y.get(b,M))return new Ee(b,M)}return null}centerEdges(e,n,o,l){const u=e.getX(),f=e.getY(),g=n.getX(),y=n.getY(),v=o.getX(),b=o.getY(),M=l.getX(),P=l.getY(),U=wt.CORR;return u<this.width/2?[new Ee(M-U,P+U),new Ee(g+U,y+U),new Ee(v-U,b-U),new Ee(u+U,f-U)]:[new Ee(M+U,P+U),new Ee(g+U,y-U),new Ee(v-U,b+U),new Ee(u-U,f-U)]}containsBlackPoint(e,n,o,l){const u=this.image;if(l){for(let f=e;f<=n;f++)if(u.get(f,o))return!0}else for(let f=e;f<=n;f++)if(u.get(o,f))return!0;return!1}}wt.INIT_SIZE=10,wt.CORR=1;class Un{static checkAndNudgePoints(e,n){const o=e.getWidth(),l=e.getHeight();let u=!0;for(let f=0;f<n.length&&u;f+=2){const g=Math.floor(n[f]),y=Math.floor(n[f+1]);if(g<-1||g>o||y<-1||y>l)throw new Z;u=!1,g===-1?(n[f]=0,u=!0):g===o&&(n[f]=o-1,u=!0),y===-1?(n[f+1]=0,u=!0):y===l&&(n[f+1]=l-1,u=!0)}u=!0;for(let f=n.length-2;f>=0&&u;f-=2){const g=Math.floor(n[f]),y=Math.floor(n[f+1]);if(g<-1||g>o||y<-1||y>l)throw new Z;u=!1,g===-1?(n[f]=0,u=!0):g===o&&(n[f]=o-1,u=!0),y===-1?(n[f+1]=0,u=!0):y===l&&(n[f+1]=l-1,u=!0)}}}class Ct{constructor(e,n,o,l,u,f,g,y,v){this.a11=e,this.a21=n,this.a31=o,this.a12=l,this.a22=u,this.a32=f,this.a13=g,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(e,n,o,l,u,f,g,y,v,b,M,P,U,G,X,$){const se=Ct.quadrilateralToSquare(e,n,o,l,u,f,g,y);return Ct.squareToQuadrilateral(v,b,M,P,U,G,X,$).times(se)}transformPoints(e){const n=e.length,o=this.a11,l=this.a12,u=this.a13,f=this.a21,g=this.a22,y=this.a23,v=this.a31,b=this.a32,M=this.a33;for(let P=0;P<n;P+=2){const U=e[P],G=e[P+1],X=u*U+y*G+M;e[P]=(o*U+f*G+v)/X,e[P+1]=(l*U+g*G+b)/X}}transformPointsWithValues(e,n){const o=this.a11,l=this.a12,u=this.a13,f=this.a21,g=this.a22,y=this.a23,v=this.a31,b=this.a32,M=this.a33,P=e.length;for(let U=0;U<P;U++){const G=e[U],X=n[U],$=u*G+y*X+M;e[U]=(o*G+f*X+v)/$,n[U]=(l*G+g*X+b)/$}}static squareToQuadrilateral(e,n,o,l,u,f,g,y){const v=e-o+u-g,b=n-l+f-y;if(v===0&&b===0)return new Ct(o-e,u-o,e,l-n,f-l,n,0,0,1);{const M=o-u,P=g-u,U=l-f,G=y-f,X=M*G-P*U,$=(v*G-P*b)/X,se=(M*b-v*U)/X;return new Ct(o-e+$*o,g-e+se*g,e,l-n+$*l,y-n+se*y,n,$,se,1)}}static quadrilateralToSquare(e,n,o,l,u,f,g,y){return Ct.squareToQuadrilateral(e,n,o,l,u,f,g,y).buildAdjoint()}buildAdjoint(){return new Ct(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ct(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Bt extends Un{sampleGrid(e,n,o,l,u,f,g,y,v,b,M,P,U,G,X,$,se,we,Ce){const me=Ct.quadrilateralToQuadrilateral(l,u,f,g,y,v,b,M,P,U,G,X,$,se,we,Ce);return this.sampleGridWithTransform(e,n,o,me)}sampleGridWithTransform(e,n,o,l){if(n<=0||o<=0)throw new Z;const u=new be(n,o),f=new Float32Array(2*n);for(let g=0;g<o;g++){const y=f.length,v=g+.5;for(let b=0;b<y;b+=2)f[b]=b/2+.5,f[b+1]=v;l.transformPoints(f),Un.checkAndNudgePoints(e,f);try{for(let b=0;b<y;b+=2)e.get(Math.floor(f[b]),Math.floor(f[b+1]))&&u.set(b/2,g)}catch{throw new Z}}return u}}class Ft{static setGridSampler(e){Ft.gridSampler=e}static getInstance(){return Ft.gridSampler}}Ft.gridSampler=new Bt;class Me{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Ee(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ut{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),o=this.getBullsEyeCorners(n);if(e){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new Tt(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Z;let n=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(o,n);let l=0;for(let f=0;f<4;f++){let g=o[(this.shift+f)%4];this.compact?(l<<=7,l+=g>>1&127):(l<<=10,l+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(e,n){let o=0;e.forEach((l,u,f)=>{let g=(l>>n-2<<1)+(l&1);o=(o<<3)+g}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(V.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new Z}getCorrectedParameterData(e,n){let o,l;n?(o=7,l=2):(o=10,l=4);let u=o-l,f=new Int32Array(o);for(let y=o-1;y>=0;--y)f[y]=e&15,e>>=4;try{new Tr(it.AZTEC_PARAM).decode(f,u)}catch{throw new Z}let g=0;for(let y=0;y<l;y++)g=(g<<4)+f[y];return g}getBullsEyeCorners(e){let n=e,o=e,l=e,u=e,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let M=this.getFirstDifferent(n,f,1,-1),P=this.getFirstDifferent(o,f,1,1),U=this.getFirstDifferent(l,f,-1,1),G=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(G,M)*this.nbCenterLayers/(this.distancePoint(u,n)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(M,P,U,G))break}n=M,o=P,l=U,u=G,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Z;this.compact=this.nbCenterLayers===5;let g=new Ee(n.getX()+.5,n.getY()-.5),y=new Ee(o.getX()+.5,o.getY()+.5),v=new Ee(l.getX()-.5,l.getY()+.5),b=new Ee(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,y,v,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,o,l;try{let g=new wt(this.image).detect();e=g[0],n=g[1],o=g[2],l=g[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;e=this.getFirstDifferent(new Me(y+7,v-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Me(y+7,v+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Me(y-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Me(y-7,v-7),!1,-1,-1).toResultPoint()}let u=lt.round((e.getX()+l.getX()+n.getX()+o.getX())/4),f=lt.round((e.getY()+l.getY()+n.getY()+o.getY())/4);try{let g=new wt(this.image,15,u,f).detect();e=g[0],n=g[1],o=g[2],l=g[3]}catch{e=this.getFirstDifferent(new Me(u+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Me(u+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Me(u-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Me(u-7,f-7),!1,-1,-1).toResultPoint()}return u=lt.round((e.getX()+l.getX()+n.getX()+o.getX())/4),f=lt.round((e.getY()+l.getY()+n.getY()+o.getY())/4),new Me(u,f)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,o,l,u){let f=Ft.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,v=g/2+this.nbCenterLayers;return f.sampleGrid(e,g,g,y,y,v,y,v,v,y,v,n.getX(),n.getY(),o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(e,n,o){let l=0,u=this.distanceResultPoint(e,n),f=u/o,g=e.getX(),y=e.getY(),v=f*(n.getX()-e.getX())/u,b=f*(n.getY()-e.getY())/u;for(let M=0;M<o;M++)this.image.get(lt.round(g+M*v),lt.round(y+M*b))&&(l|=1<<o-M-1);return l}isWhiteOrBlackRectangle(e,n,o,l){let u=3;e=new Me(e.getX()-u,e.getY()+u),n=new Me(n.getX()-u,n.getY()-u),o=new Me(o.getX()+u,o.getY()-u),l=new Me(l.getX()+u,l.getY()+u);let f=this.getColor(l,e);if(f===0)return!1;let g=this.getColor(e,n);return g!==f||(g=this.getColor(n,o),g!==f)?!1:(g=this.getColor(o,l),g===f)}getColor(e,n){let o=this.distancePoint(e,n),l=(n.getX()-e.getX())/o,u=(n.getY()-e.getY())/o,f=0,g=e.getX(),y=e.getY(),v=this.image.get(e.getX(),e.getY()),b=Math.ceil(o);for(let P=0;P<b;P++)g+=l,y+=u,this.image.get(lt.round(g),lt.round(y))!==v&&f++;let M=f/o;return M>.1&&M<.9?0:M<=.1===v?1:-1}getFirstDifferent(e,n,o,l){let u=e.getX()+o,f=e.getY()+l;for(;this.isValid(u,f)&&this.image.get(u,f)===n;)u+=o,f+=l;for(u-=o,f-=l;this.isValid(u,f)&&this.image.get(u,f)===n;)u+=o;for(u-=o;this.isValid(u,f)&&this.image.get(u,f)===n;)f+=l;return f-=l,new Me(u,f)}expandSquare(e,n,o){let l=o/(2*n),u=e[0].getX()-e[2].getX(),f=e[0].getY()-e[2].getY(),g=(e[0].getX()+e[2].getX())/2,y=(e[0].getY()+e[2].getY())/2,v=new Ee(g+l*u,y+l*f),b=new Ee(g-l*u,y-l*f);u=e[1].getX()-e[3].getX(),f=e[1].getY()-e[3].getY(),g=(e[1].getX()+e[3].getX())/2,y=(e[1].getY()+e[3].getY())/2;let M=new Ee(g+l*u,y+l*f),P=new Ee(g-l*u,y-l*f);return[v,M,b,P]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=lt.round(e.getX()),o=lt.round(e.getY());return this.isValid(n,o)}distancePoint(e,n){return lt.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return lt.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class ct{decode(e,n=null){let o=null,l=new ut(e.getBlackMatrix()),u=null,f=null;try{let b=l.detectMirror(!1);u=b.getPoints(),this.reportFoundResultPoints(n,u),f=new xt().decode(b)}catch(b){o=b}if(f==null)try{let b=l.detectMirror(!0);u=b.getPoints(),this.reportFoundResultPoints(n,u),f=new xt().decode(b)}catch(b){throw o??b}let g=new Be(f.getText(),f.getRawBytes(),f.getNumBits(),u,ve.AZTEC,F.currentTimeMillis()),y=f.getByteSegments();y!=null&&g.putMetadata(Ge.BYTE_SEGMENTS,y);let v=f.getECLevel();return v!=null&&g.putMetadata(Ge.ERROR_CORRECTION_LEVEL,v),g}reportFoundResultPoints(e,n){if(e!=null){let o=e.get(ue.NEED_RESULT_POINT_CALLBACK);o!=null&&n.forEach((l,u,f)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class Gt extends Re{constructor(e=500){super(new ct,e)}}class Ve{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(ue.TRY_HARDER)===!0&&e.isRotateSupported()){const u=e.rotateCounterClockwise(),f=this.doDecode(u,n),g=f.getResultMetadata();let y=270;g!==null&&g.get(Ge.ORIENTATION)===!0&&(y=y+g.get(Ge.ORIENTATION)%360),f.putMetadata(Ge.ORIENTATION,y);const v=f.getResultPoints();if(v!==null){const b=u.getHeight();for(let M=0;M<v.length;M++)v[M]=new Ee(b-v[M].getY()-1,v[M].getX())}return f}else throw new Z}}reset(){}doDecode(e,n){const o=e.getWidth(),l=e.getHeight();let u=new re(o);const f=n&&n.get(ue.TRY_HARDER)===!0,g=Math.max(1,l>>(f?8:5));let y;f?y=l:y=15;const v=Math.trunc(l/2);for(let b=0;b<y;b++){const M=Math.trunc((b+1)/2),P=(b&1)===0,U=v+g*(P?M:-M);if(U<0||U>=l)break;try{u=e.getBlackRow(U,u)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(u.reverse(),n&&n.get(ue.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;n.forEach(($,se)=>X.set(se,$)),X.delete(ue.NEED_RESULT_POINT_CALLBACK),n=X}try{const X=this.decodeRow(U,u,n);if(G===1){X.putMetadata(Ge.ORIENTATION,180);const $=X.getResultPoints();$!==null&&($[0]=new Ee(o-$[0].getX()-1,$[0].getY()),$[1]=new Ee(o-$[1].getX()-1,$[1].getY()))}return X}catch{}}}throw new Z}static recordPattern(e,n,o){const l=o.length;for(let v=0;v<l;v++)o[v]=0;const u=e.getSize();if(n>=u)throw new Z;let f=!e.get(n),g=0,y=n;for(;y<u;){if(e.get(y)!==f)o[g]++;else{if(++g===l)break;o[g]=1,f=!f}y++}if(!(g===l||g===l-1&&y===u))throw new Z}static recordPatternInReverse(e,n,o){let l=o.length,u=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==u&&(l--,u=!u);if(l>=0)throw new Z;Ve.recordPattern(e,n+1,o)}static patternMatchVariance(e,n,o){const l=e.length;let u=0,f=0;for(let v=0;v<l;v++)u+=e[v],f+=n[v];if(u<f)return Number.POSITIVE_INFINITY;const g=u/f;o*=g;let y=0;for(let v=0;v<l;v++){const b=e[v],M=n[v]*g,P=b>M?b-M:M-b;if(P>o)return Number.POSITIVE_INFINITY;y+=P}return y/u}}class Ae extends Ve{static findStartPattern(e){const n=e.getSize(),o=e.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),f=o,g=!1;const y=6;for(let v=o;v<n;v++)if(e.get(v)!==g)u[l]++;else{if(l===y-1){let b=Ae.MAX_AVG_VARIANCE,M=-1;for(let P=Ae.CODE_START_A;P<=Ae.CODE_START_C;P++){const U=Ve.patternMatchVariance(u,Ae.CODE_PATTERNS[P],Ae.MAX_INDIVIDUAL_VARIANCE);U<b&&(b=U,M=P)}if(M>=0&&e.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,M]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,g=!g}throw new Z}static decodeCode(e,n,o){Ve.recordPattern(e,o,n);let l=Ae.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<Ae.CODE_PATTERNS.length;f++){const g=Ae.CODE_PATTERNS[f],y=this.patternMatchVariance(n,g,Ae.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,u=f)}if(u>=0)return u;throw new Z}decodeRow(e,n,o){const l=o&&o.get(ue.ASSUME_GS1)===!0,u=Ae.findStartPattern(n),f=u[2];let g=0;const y=new Uint8Array(20);y[g++]=f;let v;switch(f){case Ae.CODE_START_A:v=Ae.CODE_CODE_A;break;case Ae.CODE_START_B:v=Ae.CODE_CODE_B;break;case Ae.CODE_START_C:v=Ae.CODE_CODE_C;break;default:throw new q}let b=!1,M=!1,P="",U=u[0],G=u[1];const X=Int32Array.from([0,0,0,0,0,0]);let $=0,se=0,we=f,Ce=0,me=!0,ft=!1,nt=!1;for(;!b;){const Hr=M;switch(M=!1,$=se,se=Ae.decodeCode(n,X,G),y[g++]=se,se!==Ae.CODE_STOP&&(me=!0),se!==Ae.CODE_STOP&&(Ce++,we+=Ce*se),U=G,G+=X.reduce((Yi,Jo)=>Yi+Jo,0),se){case Ae.CODE_START_A:case Ae.CODE_START_B:case Ae.CODE_START_C:throw new q}switch(v){case Ae.CODE_CODE_A:if(se<64)nt===ft?P+=String.fromCharCode(32+se):P+=String.fromCharCode(32+se+128),nt=!1;else if(se<96)nt===ft?P+=String.fromCharCode(se-64):P+=String.fromCharCode(se+64),nt=!1;else switch(se!==Ae.CODE_STOP&&(me=!1),se){case Ae.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case Ae.CODE_FNC_2:case Ae.CODE_FNC_3:break;case Ae.CODE_FNC_4_A:!ft&&nt?(ft=!0,nt=!1):ft&&nt?(ft=!1,nt=!1):nt=!0;break;case Ae.CODE_SHIFT:M=!0,v=Ae.CODE_CODE_B;break;case Ae.CODE_CODE_B:v=Ae.CODE_CODE_B;break;case Ae.CODE_CODE_C:v=Ae.CODE_CODE_C;break;case Ae.CODE_STOP:b=!0;break}break;case Ae.CODE_CODE_B:if(se<96)nt===ft?P+=String.fromCharCode(32+se):P+=String.fromCharCode(32+se+128),nt=!1;else switch(se!==Ae.CODE_STOP&&(me=!1),se){case Ae.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case Ae.CODE_FNC_2:case Ae.CODE_FNC_3:break;case Ae.CODE_FNC_4_B:!ft&&nt?(ft=!0,nt=!1):ft&&nt?(ft=!1,nt=!1):nt=!0;break;case Ae.CODE_SHIFT:M=!0,v=Ae.CODE_CODE_A;break;case Ae.CODE_CODE_A:v=Ae.CODE_CODE_A;break;case Ae.CODE_CODE_C:v=Ae.CODE_CODE_C;break;case Ae.CODE_STOP:b=!0;break}break;case Ae.CODE_CODE_C:if(se<100)se<10&&(P+="0"),P+=se;else switch(se!==Ae.CODE_STOP&&(me=!1),se){case Ae.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case Ae.CODE_CODE_A:v=Ae.CODE_CODE_A;break;case Ae.CODE_CODE_B:v=Ae.CODE_CODE_B;break;case Ae.CODE_STOP:b=!0;break}break}Hr&&(v=v===Ae.CODE_CODE_A?Ae.CODE_CODE_B:Ae.CODE_CODE_A)}const Hn=G-U;if(G=n.getNextUnset(G),!n.isRange(G,Math.min(n.getSize(),G+(G-U)/2),!1))throw new Z;if(we-=Ce*$,we%103!==$)throw new O;const yr=P.length;if(yr===0)throw new Z;yr>0&&me&&(v===Ae.CODE_CODE_C?P=P.substring(0,yr-2):P=P.substring(0,yr-1));const hn=(u[1]+u[0])/2,It=U+Hn/2,Jt=y.length,Ln=new Uint8Array(Jt);for(let Hr=0;Hr<Jt;Hr++)Ln[Hr]=y[Hr];const Ei=[new Ee(hn,e),new Ee(It,e)];return new Be(P,Ln,0,Ei,ve.CODE_128,new Date().getTime())}}Ae.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ae.MAX_AVG_VARIANCE=.25,Ae.MAX_INDIVIDUAL_VARIANCE=.7,Ae.CODE_SHIFT=98,Ae.CODE_CODE_C=99,Ae.CODE_CODE_B=100,Ae.CODE_CODE_A=101,Ae.CODE_FNC_1=102,Ae.CODE_FNC_2=97,Ae.CODE_FNC_3=96,Ae.CODE_FNC_4_A=101,Ae.CODE_FNC_4_B=100,Ae.CODE_START_A=103,Ae.CODE_START_B=104,Ae.CODE_START_C=105,Ae.CODE_STOP=106;class qt extends Ve{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=qt.findAsteriskPattern(n,l),f=n.getNextSet(u[1]),g=n.getSize(),y,v;do{qt.recordPattern(n,f,l);let X=qt.toNarrowWidePattern(l);if(X<0)throw new Z;y=qt.patternToChar(X),this.decodeRowResult+=y,v=f;for(let $ of l)f+=$;f=n.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let X of l)b+=X;let M=f-v-b;if(f!==g&&M*2<b)throw new Z;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,$=0;for(let se=0;se<X;se++)$+=qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(se));if(this.decodeRowResult.charAt(X)!==qt.ALPHABET_STRING.charAt($%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new Z;let P;this.extendedMode?P=qt.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let U=(u[1]+u[0])/2,G=v+b/2;return new Be(P,null,0,[new Ee(U,e),new Ee(G,e)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let o=e.getSize(),l=e.getNextSet(0),u=0,f=l,g=!1,y=n.length;for(let v=l;v<o;v++)if(e.get(v)!==g)n[u]++;else{if(u===y-1){if(this.toNarrowWidePattern(n)===qt.ASTERISK_ENCODING&&e.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=n[0]+n[1],n.copyWithin(0,2,2+u-1),n[u-1]=0,n[u]=0,u--}else u++;n[u]=1,g=!g}throw new Z}static toNarrowWidePattern(e){let n=e.length,o=0,l;do{let u=2147483647;for(let y of e)y<u&&y>o&&(u=y);o=u,l=0;let f=0,g=0;for(let y=0;y<n;y++){let v=e[y];v>o&&(g|=1<<n-1-y,l++,f+=v)}if(l===3){for(let y=0;y<n&&l>0;y++){let v=e[y];if(v>o&&(l--,v*2>=f))return-1}return g}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<qt.CHARACTER_ENCODINGS.length;n++)if(qt.CHARACTER_ENCODINGS[n]===e)return qt.ALPHABET_STRING.charAt(n);if(e===qt.ASTERISK_ENCODING)return"*";throw new Z}static decodeExtended(e){let n=e.length,o="";for(let l=0;l<n;l++){let u=e.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=e.charAt(l+1),g="\0";switch(u){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new q;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new q;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new q;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new q;break}o+=g,l++}else o+=u}return o}}qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],qt.ASTERISK_ENCODING=148;class vt extends Ve{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,o){let l=this.decodeStart(n),u=this.decodeEnd(n),f=new je;vt.decodeMiddle(n,l[1],u[0],f);let g=f.toString(),y=null;o!=null&&(y=o.get(ue.ALLOWED_LENGTHS)),y==null&&(y=vt.DEFAULT_ALLOWED_LENGTHS);let v=g.length,b=!1,M=0;for(let G of y){if(v===G){b=!0;break}G>M&&(M=G)}if(!b&&v>M&&(b=!0),!b)throw new q;const P=[new Ee(l[1],e),new Ee(u[0],e)];return new Be(g,null,0,P,ve.ITF,new Date().getTime())}static decodeMiddle(e,n,o,l){let u=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),f.fill(0),g.fill(0);n<o;){Ve.recordPattern(e,n,u);for(let v=0;v<5;v++){let b=2*v;f[v]=u[b],g[v]=u[b+1]}let y=vt.decodeDigit(f);l.append(y.toString()),y=this.decodeDigit(g),l.append(y.toString()),u.forEach(function(v){n+=v})}}decodeStart(e){let n=vt.skipWhiteSpace(e),o=vt.findGuardPattern(e,n,vt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(e,o[0]),o}validateQuietZone(e,n){let o=this.narrowLineWidth*10;o=o<n?o:n;for(let l=n-1;o>0&&l>=0&&!e.get(l);l--)o--;if(o!==0)throw new Z}static skipWhiteSpace(e){const n=e.getSize(),o=e.getNextSet(0);if(o===n)throw new Z;return o}decodeEnd(e){e.reverse();try{let n=vt.skipWhiteSpace(e),o;try{o=vt.findGuardPattern(e,n,vt.END_PATTERN_REVERSED[0])}catch(u){u instanceof Z&&(o=vt.findGuardPattern(e,n,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,o[0]);let l=o[0];return o[0]=e.getSize()-o[1],o[1]=e.getSize()-l,o}finally{e.reverse()}}static findGuardPattern(e,n,o){let l=o.length,u=new Int32Array(l),f=e.getSize(),g=!1,y=0,v=n;u.fill(0);for(let b=n;b<f;b++)if(e.get(b)!==g)u[y]++;else{if(y===l-1){if(Ve.patternMatchVariance(u,o,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[v,b];v+=u[0]+u[1],F.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,g=!g}throw new Z}static decodeDigit(e){let n=vt.MAX_AVG_VARIANCE,o=-1,l=vt.PATTERNS.length;for(let u=0;u<l;u++){let f=vt.PATTERNS[u],g=Ve.patternMatchVariance(e,f,vt.MAX_INDIVIDUAL_VARIANCE);g<n?(n=g,o=u):g===n&&(o=-1)}if(o>=0)return o%10;throw new Z}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Rt extends Ve{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,o,l=0,u=Int32Array.from([0,0,0]);for(;!n;){u=Int32Array.from([0,0,0]),o=Rt.findGuardPattern(e,l,!1,this.START_END_PATTERN,u);let f=o[0];l=o[1];let g=f-(l-f);g>=0&&(n=e.isRange(g,f,!1))}return o}static checkChecksum(e){return Rt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let o=parseInt(e.charAt(n-1),10);return Rt.getStandardUPCEANChecksum(e.substring(0,n-1))===o}static getStandardUPCEANChecksum(e){let n=e.length,o=0;for(let l=n-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new q;o+=u}o*=3;for(let l=n-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new q;o+=u}return(1e3-o)%10}static decodeEnd(e,n){return Rt.findGuardPattern(e,n,!1,Rt.START_END_PATTERN,new Int32Array(Rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,o,l){return this.findGuardPattern(e,n,o,l,new Int32Array(l.length))}static findGuardPattern(e,n,o,l,u){let f=e.getSize();n=o?e.getNextUnset(n):e.getNextSet(n);let g=0,y=n,v=l.length,b=o;for(let M=n;M<f;M++)if(e.get(M)!==b)u[g]++;else{if(g===v-1){if(Ve.patternMatchVariance(u,l,Rt.MAX_INDIVIDUAL_VARIANCE)<Rt.MAX_AVG_VARIANCE)return Int32Array.from([y,M]);y+=u[0]+u[1];let P=u.slice(2,u.length-1);for(let U=0;U<g-1;U++)u[U]=P[U];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,b=!b}throw new Z}static decodeDigit(e,n,o,l){this.recordPattern(e,o,n);let u=this.MAX_AVG_VARIANCE,f=-1,g=l.length;for(let y=0;y<g;y++){let v=l[y],b=Ve.patternMatchVariance(n,v,Rt.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,f=y)}if(f>=0)return f;throw new Z}}Rt.MAX_AVG_VARIANCE=.48,Rt.MAX_INDIVIDUAL_VARIANCE=.7,Rt.START_END_PATTERN=Int32Array.from([1,1,1]),Rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class nr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(n,o,l),f=l.toString(),g=nr.parseExtensionString(f),y=[new Ee((o[0]+o[1])/2,e),new Ee(u,e)],v=new Be(f,null,0,y,ve.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(e,n,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=n[1],g=0;for(let v=0;v<5&&f<u;v++){let b=Rt.decodeDigit(e,l,f,Rt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<4-v),v!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==5)throw new Z;let y=this.determineCheckDigit(g);if(nr.extensionChecksum(o.toString())!==y)throw new Z;return f}static extensionChecksum(e){let n=e.length,o=0;for(let l=n-2;l>=0;l-=2)o+=e.charAt(l).charCodeAt(0)-48;o*=3;for(let l=n-1;l>=0;l-=2)o+=e.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Z}static parseExtensionString(e){if(e.length!==5)return null;let n=nr.parseExtension5String(e);return n==null?null:new Map([[Ge.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let o=parseInt(e.substring(1)),l=(o/100).toString(),u=o%100,f=u<10?"0"+u:u.toString();return n+l+"."+f}}class Jr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(n,o,l),f=l.toString(),g=Jr.parseExtensionString(f),y=[new Ee((o[0]+o[1])/2,e),new Ee(u,e)],v=new Be(f,null,0,y,ve.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(e,n,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=n[1],g=0;for(let y=0;y<2&&f<u;y++){let v=Rt.decodeDigit(e,l,f,Rt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let b of l)f+=b;v>=10&&(g|=1<<1-y),y!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==2)throw new Z;if(parseInt(o.toString())%4!==g)throw new Z;return f}static parseExtensionString(e){return e.length!==2?null:new Map([[Ge.ISSUE_NUMBER,parseInt(e)]])}}class Gs{static decodeRow(e,n,o){let l=Rt.findGuardPattern(n,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new nr().decodeRow(e,n,l)}catch{return new Jr().decodeRow(e,n,l)}}}Gs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class dt extends Rt{constructor(){super(),this.decodeRowStringBuffer="",dt.L_AND_G_PATTERNS=dt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=dt.L_PATTERNS[e-10],o=new Int32Array(n.length);for(let l=0;l<n.length;l++)o[l]=n[n.length-l-1];dt.L_AND_G_PATTERNS[e]=o}}decodeRow(e,n,o){let l=dt.findStartGuardPattern(n),u=o==null?null:o.get(ue.NEED_RESULT_POINT_CALLBACK);if(u!=null){const me=new Ee((l[0]+l[1])/2,e);u.foundPossibleResultPoint(me)}let f=this.decodeMiddle(n,l,this.decodeRowStringBuffer),g=f.rowOffset,y=f.resultString;if(u!=null){const me=new Ee(g,e);u.foundPossibleResultPoint(me)}let v=this.decodeEnd(n,g);if(u!=null){const me=new Ee((v[0]+v[1])/2,e);u.foundPossibleResultPoint(me)}let b=v[1],M=b+(b-v[0]);if(M>=n.getSize()||!n.isRange(b,M,!1))throw new Z;let P=y.toString();if(P.length<8)throw new q;if(!dt.checkChecksum(P))throw new O;let U=(l[1]+l[0])/2,G=(v[1]+v[0])/2,X=this.getBarcodeFormat(),$=[new Ee(U,e),new Ee(G,e)],se=new Be(P,null,0,$,X,new Date().getTime()),we=0;try{let me=Gs.decodeRow(e,n,v[1]);se.putMetadata(Ge.UPC_EAN_EXTENSION,me.getText()),se.putAllMetadata(me.getResultMetadata()),se.addResultPoints(me.getResultPoints()),we=me.getText().length}catch{}let Ce=o==null?null:o.get(ue.ALLOWED_EAN_EXTENSIONS);if(Ce!=null){let me=!1;for(let ft in Ce)if(we.toString()===ft){me=!0;break}if(!me)throw new Z}return se}decodeEnd(e,n){return dt.findGuardPattern(e,n,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return dt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let o=parseInt(e.charAt(n-1),10);return dt.getStandardUPCEANChecksum(e.substring(0,n-1))===o}static getStandardUPCEANChecksum(e){let n=e.length,o=0;for(let l=n-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new q;o+=u}o*=3;for(let l=n-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new q;o+=u}return(1e3-o)%10}}class rr extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=n[1],g=0;for(let v=0;v<6&&f<u;v++){let b=dt.decodeDigit(e,l,f,dt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<5-v)}o=rr.determineFirstDigit(o,g),f=dt.findGuardPattern(e,f,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<u;v++){let b=dt.decodeDigit(e,l,f,dt.L_PATTERNS);o+=String.fromCharCode(48+b);for(let M of l)f+=M}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(e,n){for(let o=0;o<10;o++)if(n===this.FIRST_DIGIT_ENCODINGS[o])return e=String.fromCharCode(48+o)+e,e;throw new Z}}rr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Oo extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=n[1];for(let y=0;y<4&&f<u;y++){let v=dt.decodeDigit(e,l,f,dt.L_PATTERNS);o+=String.fromCharCode(48+v);for(let b of l)f+=b}f=dt.findGuardPattern(e,f,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<u;y++){let v=dt.decodeDigit(e,l,f,dt.L_PATTERNS);o+=String.fromCharCode(48+v);for(let b of l)f+=b}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return ve.EAN_8}}class Po extends dt{constructor(){super(...arguments),this.ean13Reader=new rr}getBarcodeFormat(){return ve.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,o))}decodeMiddle(e,n,o){return this.ean13Reader.decodeMiddle(e,n,o)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let o=new Be(n.substring(1),null,null,e.getResultPoints(),ve.UPC_A);return e.getResultMetadata()!=null&&o.putAllMetadata(e.getResultMetadata()),o}else throw new Z}reset(){this.ean13Reader.reset()}}class ir extends dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,o){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=e.getSize();let f=n[1],g=0;for(let v=0;v<6&&f<u;v++){const b=ir.decodeDigit(e,l,f,ir.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<5-v)}let y=ir.determineNumSysAndCheckDigit(o,g);return{rowOffset:f,resultString:y}}decodeEnd(e,n){return ir.findGuardPatternWithoutCounters(e,n,!0,ir.MIDDLE_END_PATTERN)}checkChecksum(e){return dt.checkChecksum(ir.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let u=String.fromCharCode(48+o),f=String.fromCharCode(48+l);return u+e+f}throw Z.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new je;o.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:o.appendChars(n,0,2),o.append(l),o.append("0000"),o.appendChars(n,2,3);break;case 3:o.appendChars(n,0,3),o.append("00000"),o.appendChars(n,3,2);break;case 4:o.appendChars(n,0,4),o.append("00000"),o.append(n[4]);break;default:o.appendChars(n,0,5),o.append("0000"),o.append(l);break}return e.length>=8&&o.append(e.charAt(7)),o.toString()}}ir.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ir.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ys extends Ve{constructor(e){super();let n=e==null?null:e.get(ue.POSSIBLE_FORMATS),o=[];c(n)?(o.push(new rr),o.push(new Po),o.push(new Oo),o.push(new ir)):(n.indexOf(ve.EAN_13)>-1&&o.push(new rr),n.indexOf(ve.UPC_A)>-1&&o.push(new Po),n.indexOf(ve.EAN_8)>-1&&o.push(new Oo),n.indexOf(ve.UPC_E)>-1&&o.push(new ir)),this.readers=o}decodeRow(e,n,o){for(let l of this.readers)try{const u=l.decodeRow(e,n,o),f=u.getBarcodeFormat()===ve.EAN_13&&u.getText().charAt(0)==="0",g=o==null?null:o.get(ue.POSSIBLE_FORMATS),y=g==null||g.includes(ve.UPC_A);if(f&&y){const v=u.getRawBytes(),b=new Be(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),ve.UPC_A);return b.putAllMetadata(u.getResultMetadata()),b}return u}catch{}throw new Z}reset(){for(let e of this.readers)e.reset()}}class yn extends Ve{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let o=0;o<n.length;o++)if(Ve.patternMatchVariance(e,n[o],yn.MAX_INDIVIDUAL_VARIANCE)<yn.MAX_AVG_VARIANCE)return o;throw new Z}static count(e){return lt.sum(new Int32Array(e))}static increment(e,n){let o=0,l=n[0];for(let u=1;u<e.length;u++)n[u]>l&&(l=n[u],o=u);e[o]++}static decrement(e,n){let o=0,l=n[0];for(let u=1;u<e.length;u++)n[u]<l&&(l=n[u],o=u);e[o]--}static isFinderPattern(e){let n=e[0]+e[1],o=n+e[2]+e[3],l=n/o;if(l>=yn.MIN_FINDER_PATTERN_RATIO&&l<=yn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of e)g>f&&(f=g),g<u&&(u=g);return f<10*u}return!1}}yn.MAX_AVG_VARIANCE=.2,yn.MAX_INDIVIDUAL_VARIANCE=.45,yn.MIN_FINDER_PATTERN_RATIO=9.5/12,yn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ei{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ei))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ps{constructor(e,n,o,l,u){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ee(o,u)),this.resultPoints.push(new Ee(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ps))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class zn{constructor(){}static getRSSvalue(e,n,o){let l=0;for(let y of e)l+=y;let u=0,f=0,g=e.length;for(let y=0;y<g-1;y++){let v;for(v=1,f|=1<<y;v<e[y];v++,f&=~(1<<y)){let b=zn.combins(l-v-1,g-y-2);if(o&&f===0&&l-v-(g-y-1)>=g-y-1&&(b-=zn.combins(l-v-(g-y),g-y-2)),g-y-1>1){let M=0;for(let P=l-v-(g-y-2);P>n;P--)M+=zn.combins(l-v-P-1,g-y-3);b-=M*(g-1-y)}else l-v>n&&b--;u+=b}l-=v}return u}static combins(e,n){let o,l;e-n>n?(l=n,o=e-n):(l=e-n,o=n);let u=1,f=1;for(let g=e;g>o;g--)u*=g,f<=l&&(u/=f,f++);for(;f<=l;)u/=f,f++;return u}}class Lo{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let o=12*n,l=new re(o),u=0,g=e[0].getRightChar().getValue();for(let y=11;y>=0;--y)g&1<<y&&l.set(u),u++;for(let y=1;y<e.length;++y){let v=e[y],b=v.getLeftChar().getValue();for(let M=11;M>=0;--M)b&1<<M&&l.set(u),u++;if(v.getRightChar()!=null){let M=v.getRightChar().getValue();for(let P=11;P>=0;--P)M&1<<P&&l.set(u),u++}}return l}}class dr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ko{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class mn extends ko{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===mn.FNC1}}mn.FNC1="$";class Ir extends ko{constructor(e,n,o){super(e),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Dn extends ko{constructor(e,n,o){if(super(e),n<0||n>10||o<0||o>10)throw new q;this.firstDigit=n,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Dn.FNC1}isAnyFNC1(){return this.firstDigit===Dn.FNC1||this.secondDigit===Dn.FNC1}}Dn.FNC1=10;class De{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new Z;let n=e.substring(0,2);for(let u of De.TWO_DIGIT_DATA_LENGTH)if(u[0]===n)return u[1]===De.VARIABLE_LENGTH?De.processVariableAI(2,u[2],e):De.processFixedAI(2,u[1],e);if(e.length<3)throw new Z;let o=e.substring(0,3);for(let u of De.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===De.VARIABLE_LENGTH?De.processVariableAI(3,u[2],e):De.processFixedAI(3,u[1],e);for(let u of De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,u[2],e):De.processFixedAI(4,u[1],e);if(e.length<4)throw new Z;let l=e.substring(0,4);for(let u of De.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,u[2],e):De.processFixedAI(4,u[1],e);throw new Z}static processFixedAI(e,n,o){if(o.length<e)throw new Z;let l=o.substring(0,e);if(o.length<e+n)throw new Z;let u=o.substring(e,e+n),f=o.substring(e+n),g="("+l+")"+u,y=De.parseFieldsInGeneralPurpose(f);return y==null?g:g+y}static processVariableAI(e,n,o){let l=o.substring(0,e),u;o.length<e+n?u=o.length:u=e+n;let f=o.substring(e,u),g=o.substring(u),y="("+l+")"+f,v=De.parseFieldsInGeneralPurpose(g);return v==null?y:y+v}}De.VARIABLE_LENGTH=[],De.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",De.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",De.VARIABLE_LENGTH,20],["22",De.VARIABLE_LENGTH,29],["30",De.VARIABLE_LENGTH,8],["37",De.VARIABLE_LENGTH,8],["90",De.VARIABLE_LENGTH,30],["91",De.VARIABLE_LENGTH,30],["92",De.VARIABLE_LENGTH,30],["93",De.VARIABLE_LENGTH,30],["94",De.VARIABLE_LENGTH,30],["95",De.VARIABLE_LENGTH,30],["96",De.VARIABLE_LENGTH,30],["97",De.VARIABLE_LENGTH,3],["98",De.VARIABLE_LENGTH,30],["99",De.VARIABLE_LENGTH,30]],De.THREE_DIGIT_DATA_LENGTH=[["240",De.VARIABLE_LENGTH,30],["241",De.VARIABLE_LENGTH,30],["242",De.VARIABLE_LENGTH,6],["250",De.VARIABLE_LENGTH,30],["251",De.VARIABLE_LENGTH,30],["253",De.VARIABLE_LENGTH,17],["254",De.VARIABLE_LENGTH,20],["400",De.VARIABLE_LENGTH,30],["401",De.VARIABLE_LENGTH,30],["402",17],["403",De.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",De.VARIABLE_LENGTH,20],["421",De.VARIABLE_LENGTH,15],["422",3],["423",De.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",De.VARIABLE_LENGTH,15],["391",De.VARIABLE_LENGTH,18],["392",De.VARIABLE_LENGTH,15],["393",De.VARIABLE_LENGTH,18],["703",De.VARIABLE_LENGTH,30]],De.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",De.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",De.VARIABLE_LENGTH,20],["8003",De.VARIABLE_LENGTH,30],["8004",De.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",De.VARIABLE_LENGTH,30],["8008",De.VARIABLE_LENGTH,12],["8018",18],["8020",De.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",De.VARIABLE_LENGTH,70],["8200",De.VARIABLE_LENGTH,70]];class ki{constructor(e){this.buffer=new je,this.information=e}decodeAllCodes(e,n){let o=n,l=null;do{let u=this.decodeGeneralPurposeField(o,l),f=De.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&e.append(f),u.isRemaining()?l=""+u.getRemainingValue():l=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(e,4);return u===0?new Dn(this.information.getSize(),Dn.FNC1,Dn.FNC1):new Dn(this.information.getSize(),u-1,Dn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),o=(n-8)/11,l=(n-8)%11;return new Dn(e+7,o,l)}extractNumericValueFromBitArray(e,n){return ki.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,o){let l=0;for(let u=0;u<o;++u)e.get(n+u)&&(l|=1<<o-u-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Ir(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Ir(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let o=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(o!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new Ir(this.current.getPosition(),this.buffer.toString()):n=new Ir(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new dr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new Ir(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new dr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Ir(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new dr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Ir(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new dr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new mn(e+5,mn.FNC1);if(n>=5&&n<15)return new mn(e+5,"0"+(n-5));let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<90)return new mn(e+7,""+(o+1));if(o>=90&&o<116)return new mn(e+7,""+(o+7));let l=this.extractNumericValueFromBitArray(e,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new q}return new mn(e+8,u)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,6);return o>=16&&o<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new mn(e+5,mn.FNC1);if(n>=5&&n<15)return new mn(e+5,"0"+(n-5));let o=this.extractNumericValueFromBitArray(e,6);if(o>=32&&o<58)return new mn(e+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Tn("Decoding invalid alphanumeric value: "+o)}return new mn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Bo{constructor(e){this.information=e,this.generalDecoder=new ki(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Vn extends Bo{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let o=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,o)}encodeCompressedGtinWithoutAI(e,n,o){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);u/100===0&&e.append("0"),u/10===0&&e.append("0"),e.append(u)}Vn.appendCheckDigit(e,o)}static appendCheckDigit(e,n){let o=0;for(let l=0;l<13;l++){let u=e.charAt(l+n).charCodeAt(0)-48;o+=l&1?u:3*u}o=10-o%10,o===10&&(o=0),e.append(o)}}Vn.GTIN_SIZE=40;class sr extends Vn{constructor(e){super(e)}parseInformation(){let e=new je;e.append("(01)");let n=e.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(sr.HEADER_SIZE,4);return e.append(o),this.encodeCompressedGtinWithoutAI(e,sr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,sr.HEADER_SIZE+44)}}sr.HEADER_SIZE=4;class gs extends Bo{constructor(e){super(e)}parseInformation(){let e=new je;return this.getGeneralDecoder().decodeAllCodes(e,gs.HEADER_SIZE)}}gs.HEADER_SIZE=5;class ms extends Vn{constructor(e){super(e)}encodeCompressedWeight(e,n,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,o);this.addWeightCode(e,l);let u=this.checkWeight(l),f=1e5;for(let g=0;g<5;++g)u/f===0&&e.append("0"),f/=10;e.append(u)}}class br extends ms{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=br.HEADER_SIZE+ms.GTIN_SIZE+br.WEIGHT_SIZE)throw new Z;let e=new je;return this.encodeCompressedGtin(e,br.HEADER_SIZE),this.encodeCompressedWeight(e,br.HEADER_SIZE+ms.GTIN_SIZE,br.WEIGHT_SIZE),e.toString()}}br.HEADER_SIZE=5,br.WEIGHT_SIZE=15;class Ka extends br{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Qa extends br{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class hr extends Vn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<hr.HEADER_SIZE+Vn.GTIN_SIZE)throw new Z;let e=new je;this.encodeCompressedGtin(e,hr.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(hr.HEADER_SIZE+Vn.GTIN_SIZE,hr.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(hr.HEADER_SIZE+Vn.GTIN_SIZE+hr.LAST_DIGIT_SIZE,null);return e.append(o.getNewString()),e.toString()}}hr.HEADER_SIZE=8,hr.LAST_DIGIT_SIZE=2;class In extends Vn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<In.HEADER_SIZE+Vn.GTIN_SIZE)throw new Z;let e=new je;this.encodeCompressedGtin(e,In.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+Vn.GTIN_SIZE,In.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+Vn.GTIN_SIZE+In.LAST_DIGIT_SIZE,In.FIRST_THREE_DIGITS_SIZE);o/100==0&&e.append("0"),o/10==0&&e.append("0"),e.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(In.HEADER_SIZE+Vn.GTIN_SIZE+In.LAST_DIGIT_SIZE+In.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}In.HEADER_SIZE=8,In.LAST_DIGIT_SIZE=2,In.FIRST_THREE_DIGITS_SIZE=10;class jt extends ms{constructor(e,n,o){super(e),this.dateCode=o,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=jt.HEADER_SIZE+jt.GTIN_SIZE+jt.WEIGHT_SIZE+jt.DATE_SIZE)throw new Z;let e=new je;return this.encodeCompressedGtin(e,jt.HEADER_SIZE),this.encodeCompressedWeight(e,jt.HEADER_SIZE+jt.GTIN_SIZE,jt.WEIGHT_SIZE),this.encodeCompressedDate(e,jt.HEADER_SIZE+jt.GTIN_SIZE+jt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,jt.DATE_SIZE);if(o==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=o%32;o/=32;let u=o%12+1;o/=12;let f=o;f/10==0&&e.append("0"),e.append(f),u/10==0&&e.append("0"),e.append(u),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}jt.HEADER_SIZE=8,jt.WEIGHT_SIZE=20,jt.DATE_SIZE=16;function $a(R){try{if(R.get(1))return new sr(R);if(!R.get(2))return new gs(R);switch(ki.extractNumericValueFromBitArray(R,1,4)){case 4:return new Ka(R);case 5:return new Qa(R)}switch(ki.extractNumericValueFromBitArray(R,1,5)){case 12:return new hr(R);case 13:return new In(R)}switch(ki.extractNumericValueFromBitArray(R,1,7)){case 56:return new jt(R,"310","11");case 57:return new jt(R,"320","11");case 58:return new jt(R,"310","13");case 59:return new jt(R,"320","13");case 60:return new jt(R,"310","15");case 61:return new jt(R,"320","15");case 62:return new jt(R,"310","17");case 63:return new jt(R,"320","17")}}catch(e){throw console.log(e),new Tn("unknown decoder: "+R)}}class bt{constructor(e,n,o,l){this.leftchar=e,this.rightchar=n,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof bt?bt.equalsOrNull(e.leftchar,n.leftchar)&&bt.equalsOrNull(e.rightchar,n.rightchar)&&bt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:bt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Fo{constructor(e,n,o){this.pairs=e,this.rowNumber=n,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Fo?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let o;return e.forEach((l,u)=>{n.forEach(f=>{l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class he extends yn{constructor(e){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,o){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(u){if(u instanceof Z){if(!this.pairs.length)throw new Z;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Z}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let o=n;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let f of e)this.pairs.push(f.getPairs());if(this.pairs.push(l.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(e);u.push(l);try{return this.checkRows(u,o+1)}catch(f){this.verbose&&console.log(f)}}throw new Z}static isValidSequence(e){for(let n of he.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let o=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){o=!1;break}if(o)return!0}return!1}storeRow(e,n){let o=0,l=!1,u=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>e){u=f.isEquivalent(this.pairs);break}l=f.isEquivalent(this.pairs),o++}u||l||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Fo(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let o of n)if(o.getPairs().length!==e.length){for(let l of o.getPairs())for(let u of e)if(bt.equals(l,u))break}}static isPartialRow(e,n){for(let o of n){let l=!0;for(let u of e){let f=!1;for(let g of o.getPairs())if(u.equals(g)){f=!0;break}if(!f){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Lo.buildBitArray(e),l=$a(n).parseInformation(),u=e[0].getFinderPattern().getResultPoints(),f=e[e.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],f[0],f[1]];return new Be(l,null,null,g,ve.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),o=e.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);l+=y.getLeftChar().getChecksumPortion(),u++;let v=y.getRightChar();v!=null&&(l+=v.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==n.getValue()}static getNextSecondBar(e,n){let o;return e.get(n)?(o=e.getNextUnset(n),o=e.getNextSet(o)):(o=e.getNextSet(n),o=e.getNextUnset(o)),o}retrieveNextPair(e,n,o){let l=n.length%2==0;this.startFromEven&&(l=!l);let u,f=!0,g=-1;do this.findNextPair(e,n,g),u=this.parseFoundFinderPattern(e,o,l),u==null?g=he.getNextSecondBar(e,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(e,u,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new Z;let v;try{v=this.decodeDataCharacter(e,u,l,!1)}catch(b){v=null,this.verbose&&console.log(b)}return new bt(y,v,u,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f;o>=0?f=o:this.isEmptyPair(n)?f=0:f=n[n.length-1].getFinderPattern().getStartEnd()[1];let g=n.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;f<u&&(y=!e.get(f),!!y);)f++;let v=0,b=f;for(let M=f;M<u;M++)if(e.get(M)!=y)l[v]++;else{if(v==3){if(g&&he.reverseCounters(l),he.isFinderPattern(l)){this.startEnd[0]=b,this.startEnd[1]=M;return}g&&he.reverseCounters(l),b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,y=!y}throw new Z}static reverseCounters(e){let n=e.length;for(let o=0;o<n/2;++o){let l=e[o];e[o]=e[n-o-1],e[n-o-1]=l}}parseFoundFinderPattern(e,n,o){let l,u,f;if(o){let v=this.startEnd[0]-1;for(;v>=0&&!e.get(v);)v--;v++,l=this.startEnd[0]-v,u=v,f=this.startEnd[1]}else u=this.startEnd[0],f=e.getNextUnset(this.startEnd[1]+1),l=f-this.startEnd[1];let g=this.getDecodeFinderCounters();F.arraycopy(g,0,g,1,g.length-1),g[0]=l;let y;try{y=this.parseFinderValue(g,he.FINDER_PATTERNS)}catch{return null}return new ps(y,[u,f],u,f,n)}decodeDataCharacter(e,n,o,l){let u=this.getDataCharacterCounters();for(let It=0;It<u.length;It++)u[It]=0;if(l)he.recordPatternInReverse(e,n.getStartEnd()[0],u);else{he.recordPattern(e,n.getStartEnd()[1],u);for(let It=0,Jt=u.length-1;It<Jt;It++,Jt--){let Ln=u[It];u[It]=u[Jt],u[Jt]=Ln}}let f=17,g=lt.sum(new Int32Array(u))/f,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new Z;let v=this.getOddCounts(),b=this.getEvenCounts(),M=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let It=0;It<u.length;It++){let Jt=1*u[It]/g,Ln=Jt+.5;if(Ln<1){if(Jt<.3)throw new Z;Ln=1}else if(Ln>8){if(Jt>8.7)throw new Z;Ln=8}let Ei=It/2;It&1?(b[Ei]=Ln,P[Ei]=Jt-Ln):(v[Ei]=Ln,M[Ei]=Jt-Ln)}this.adjustOddEvenCounts(f);let U=4*n.getValue()+(o?0:2)+(l?0:1)-1,G=0,X=0;for(let It=v.length-1;It>=0;It--){if(he.isNotA1left(n,o,l)){let Jt=he.WEIGHTS[U][2*It];X+=v[It]*Jt}G+=v[It]}let $=0;for(let It=b.length-1;It>=0;It--)if(he.isNotA1left(n,o,l)){let Jt=he.WEIGHTS[U][2*It+1];$+=b[It]*Jt}let se=X+$;if(G&1||G>13||G<4)throw new Z;let we=(13-G)/2,Ce=he.SYMBOL_WIDEST[we],me=9-Ce,ft=zn.getRSSvalue(v,Ce,!0),nt=zn.getRSSvalue(b,me,!1),Hn=he.EVEN_TOTAL_SUBSET[we],yr=he.GSUM[we],hn=ft*Hn+nt+yr;return new ei(hn,se)}static isNotA1left(e,n,o){return!(e.getValue()==0&&n&&o)}adjustOddEvenCounts(e){let n=lt.sum(new Int32Array(this.getOddCounts())),o=lt.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;n>13?u=!0:n<4&&(l=!0);let f=!1,g=!1;o>13?g=!0:o<4&&(f=!0);let y=n+o-e,v=(n&1)==1,b=(o&1)==0;if(y==1)if(v){if(b)throw new Z;u=!0}else{if(!b)throw new Z;g=!0}else if(y==-1)if(v){if(b)throw new Z;l=!0}else{if(!b)throw new Z;f=!0}else if(y==0){if(v){if(!b)throw new Z;n<o?(l=!0,g=!0):(u=!0,f=!0)}else if(b)throw new Z}else throw new Z;if(l){if(u)throw new Z;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new Z;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class qa extends ei{constructor(e,n,o){super(e,n),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ot extends yn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,o){const l=this.decodePair(n,!1,e,o);Ot.addOrTally(this.possibleLeftPairs,l),n.reverse();let u=this.decodePair(n,!0,e,o);Ot.addOrTally(this.possibleRightPairs,u),n.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Ot.checkChecksum(f,g))return Ot.constructResult(f,g)}throw new Z}static addOrTally(e,n){if(n==null)return;let o=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),o=!0;break}o||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let o=4537077*e.getValue()+n.getValue(),l=new String(o).toString(),u=new je;for(let v=13-l.length;v>0;v--)u.append("0");u.append(l);let f=0;for(let v=0;v<13;v++){let b=u.charAt(v).charCodeAt(0)-48;f+=v&1?b:3*b}f=10-f%10,f===10&&(f=0),u.append(f.toString());let g=e.getFinderPattern().getResultPoints(),y=n.getFinderPattern().getResultPoints();return new Be(u.toString(),null,0,[g[0],g[1],y[0],y[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(e,n){let o=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(e,n,o,l){try{let u=this.findFinderPattern(e,n),f=this.parseFoundFinderPattern(e,o,n,u),g=l==null?null:l.get(ue.NEED_RESULT_POINT_CALLBACK);if(g!=null){let b=(u[0]+u[1])/2;n&&(b=e.getSize()-1-b),g.foundPossibleResultPoint(new Ee(b,o))}let y=this.decodeDataCharacter(e,f,!0),v=this.decodeDataCharacter(e,f,!1);return new qa(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(e,n,o){let l=this.getDataCharacterCounters();for(let $=0;$<l.length;$++)l[$]=0;if(o)Ve.recordPatternInReverse(e,n.getStartEnd()[0],l);else{Ve.recordPattern(e,n.getStartEnd()[1]+1,l);for(let $=0,se=l.length-1;$<se;$++,se--){let we=l[$];l[$]=l[se],l[se]=we}}let u=o?16:15,f=lt.sum(new Int32Array(l))/u,g=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let $=0;$<l.length;$++){let se=l[$]/f,we=Math.floor(se+.5);we<1?we=1:we>8&&(we=8);let Ce=Math.floor($/2);$&1?(y[Ce]=we,b[Ce]=se-we):(g[Ce]=we,v[Ce]=se-we)}this.adjustOddEvenCounts(o,u);let M=0,P=0;for(let $=g.length-1;$>=0;$--)P*=9,P+=g[$],M+=g[$];let U=0,G=0;for(let $=y.length-1;$>=0;$--)U*=9,U+=y[$],G+=y[$];let X=P+3*U;if(o){if(M&1||M>12||M<4)throw new Z;let $=(12-M)/2,se=Ot.OUTSIDE_ODD_WIDEST[$],we=9-se,Ce=zn.getRSSvalue(g,se,!1),me=zn.getRSSvalue(y,we,!0),ft=Ot.OUTSIDE_EVEN_TOTAL_SUBSET[$],nt=Ot.OUTSIDE_GSUM[$];return new ei(Ce*ft+me+nt,X)}else{if(G&1||G>10||G<4)throw new Z;let $=(10-G)/2,se=Ot.INSIDE_ODD_WIDEST[$],we=9-se,Ce=zn.getRSSvalue(g,se,!0),me=zn.getRSSvalue(y,we,!1),ft=Ot.INSIDE_ODD_TOTAL_SUBSET[$],nt=Ot.INSIDE_GSUM[$];return new ei(me*ft+Ce+nt,X)}}findFinderPattern(e,n){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),u=!1,f=0;for(;f<l&&(u=!e.get(f),n!==u);)f++;let g=0,y=f;for(let v=f;v<l;v++)if(e.get(v)!==u)o[g]++;else{if(g===3){if(yn.isFinderPattern(o))return[y,v];y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,u=!u}throw new Z}parseFoundFinderPattern(e,n,o,l){let u=e.get(l[0]),f=l[0]-1;for(;f>=0&&u!==e.get(f);)f--;f++;const g=l[0]-f,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);F.arraycopy(y,0,v,1,y.length-1),v[0]=g;const b=this.parseFinderValue(v,Ot.FINDER_PATTERNS);let M=f,P=l[1];return o&&(M=e.getSize()-1-M,P=e.getSize()-1-P),new ps(b,[f,l[1]],M,P,n)}adjustOddEvenCounts(e,n){let o=lt.sum(new Int32Array(this.getOddCounts())),l=lt.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,g=!1,y=!1;e?(o>12?f=!0:o<4&&(u=!0),l>12?y=!0:l<4&&(g=!0)):(o>11?f=!0:o<5&&(u=!0),l>10?y=!0:l<4&&(g=!0));let v=o+l-n,b=(o&1)===(e?1:0),M=(l&1)===1;if(v===1)if(b){if(M)throw new Z;f=!0}else{if(!M)throw new Z;y=!0}else if(v===-1)if(b){if(M)throw new Z;u=!0}else{if(!M)throw new Z;g=!0}else if(v===0){if(b){if(!M)throw new Z;o<l?(u=!0,y=!0):(f=!0,g=!0)}else if(M)throw new Z}else throw new Z;if(u){if(f)throw new Z;yn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&yn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new Z;yn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&yn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ot.OUTSIDE_GSUM=[0,161,961,2015,2715],Ot.INSIDE_GSUM=[0,336,1036,1516],Ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ot.INSIDE_ODD_WIDEST=[2,4,6,8],Ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Bi extends Ve{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const o=e?e.get(ue.POSSIBLE_FORMATS):null,l=e&&e.get(ue.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(ve.EAN_13)||o.includes(ve.UPC_A)||o.includes(ve.EAN_8)||o.includes(ve.UPC_E))&&this.readers.push(new Ys(e)),o.includes(ve.CODE_39)&&this.readers.push(new qt(l)),o.includes(ve.CODE_128)&&this.readers.push(new Ae),o.includes(ve.ITF)&&this.readers.push(new vt),o.includes(ve.RSS_14)&&this.readers.push(new Ot),o.includes(ve.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new Ys(e)),this.readers.push(new qt),this.readers.push(new Ys(e)),this.readers.push(new Ae),this.readers.push(new vt),this.readers.push(new Ot),this.readers.push(new he(this.verbose)))}decodeRow(e,n,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,o)}catch{}throw new Z}reset(){this.readers.forEach(e=>e.reset())}}class Ja extends Re{constructor(e=500,n){super(new Bi(n),e,n)}}class yt{constructor(e,n,o){this.ecCodewords=e,this.ecBlocks=[n],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ot{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pt{constructor(e,n,o,l,u,f){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=f;let g=0;const y=f.getECCodewords(),v=f.getECBlocks();for(let b of v)g+=b.getCount()*(b.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new q;for(let o of pt.VERSIONS)if(o.symbolSizeRows===e&&o.symbolSizeColumns===n)return o;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new pt(1,10,10,8,8,new yt(5,new ot(1,3))),new pt(2,12,12,10,10,new yt(7,new ot(1,5))),new pt(3,14,14,12,12,new yt(10,new ot(1,8))),new pt(4,16,16,14,14,new yt(12,new ot(1,12))),new pt(5,18,18,16,16,new yt(14,new ot(1,18))),new pt(6,20,20,18,18,new yt(18,new ot(1,22))),new pt(7,22,22,20,20,new yt(20,new ot(1,30))),new pt(8,24,24,22,22,new yt(24,new ot(1,36))),new pt(9,26,26,24,24,new yt(28,new ot(1,44))),new pt(10,32,32,14,14,new yt(36,new ot(1,62))),new pt(11,36,36,16,16,new yt(42,new ot(1,86))),new pt(12,40,40,18,18,new yt(48,new ot(1,114))),new pt(13,44,44,20,20,new yt(56,new ot(1,144))),new pt(14,48,48,22,22,new yt(68,new ot(1,174))),new pt(15,52,52,24,24,new yt(42,new ot(2,102))),new pt(16,64,64,14,14,new yt(56,new ot(2,140))),new pt(17,72,72,16,16,new yt(36,new ot(4,92))),new pt(18,80,80,18,18,new yt(48,new ot(4,114))),new pt(19,88,88,20,20,new yt(56,new ot(4,144))),new pt(20,96,96,22,22,new yt(68,new ot(4,174))),new pt(21,104,104,24,24,new yt(56,new ot(6,136))),new pt(22,120,120,18,18,new yt(68,new ot(6,175))),new pt(23,132,132,20,20,new yt(62,new ot(8,163))),new pt(24,144,144,22,22,new yt(62,new ot(8,156),new ot(2,155))),new pt(25,8,18,6,16,new yt(7,new ot(1,5))),new pt(26,8,32,6,14,new yt(11,new ot(1,10))),new pt(27,12,26,10,24,new yt(14,new ot(1,16))),new pt(28,12,36,10,16,new yt(18,new ot(1,22))),new pt(29,16,36,14,16,new yt(24,new ot(1,32))),new pt(30,16,48,14,22,new yt(28,new ot(1,49)))]}}pt.VERSIONS=pt.buildVersions();class $n{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new q;this.version=$n.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),o=e.getWidth();return pt.getVersionForDimensions(n,o)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,o=4,l=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,y=!1,v=!1,b=!1;do if(o===u&&l===0&&!g)e[n++]=this.readCorner1(u,f)&255,o-=2,l+=2,g=!0;else if(o===u-2&&l===0&&f&3&&!y)e[n++]=this.readCorner2(u,f)&255,o-=2,l+=2,y=!0;else if(o===u+4&&l===2&&!(f&7)&&!v)e[n++]=this.readCorner3(u,f)&255,o-=2,l+=2,v=!0;else if(o===u-2&&l===0&&(f&7)===4&&!b)e[n++]=this.readCorner4(u,f)&255,o-=2,l+=2,b=!0;else{do o<u&&l>=0&&!this.readMappingMatrix.get(l,o)&&(e[n++]=this.readUtah(o,l,u,f)&255),o-=2,l+=2;while(o>=0&&l<f);o+=1,l+=3;do o>=0&&l<f&&!this.readMappingMatrix.get(l,o)&&(e[n++]=this.readUtah(o,l,u,f)&255),o+=2,l-=2;while(o<u&&l>=0);o+=3,l+=1}while(o<u||l<f);if(n!==this.version.getTotalCodewords())throw new q;return e}readModule(e,n,o,l){return e<0&&(e+=o,n+=4-(o+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,o,l){let u=0;return this.readModule(e-2,n-2,o,l)&&(u|=1),u<<=1,this.readModule(e-2,n-1,o,l)&&(u|=1),u<<=1,this.readModule(e-1,n-2,o,l)&&(u|=1),u<<=1,this.readModule(e-1,n-1,o,l)&&(u|=1),u<<=1,this.readModule(e-1,n,o,l)&&(u|=1),u<<=1,this.readModule(e,n-2,o,l)&&(u|=1),u<<=1,this.readModule(e,n-1,o,l)&&(u|=1),u<<=1,this.readModule(e,n,o,l)&&(u|=1),u}readCorner1(e,n){let o=0;return this.readModule(e-1,0,e,n)&&(o|=1),o<<=1,this.readModule(e-1,1,e,n)&&(o|=1),o<<=1,this.readModule(e-1,2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-1,e,n)&&(o|=1),o<<=1,this.readModule(1,n-1,e,n)&&(o|=1),o<<=1,this.readModule(2,n-1,e,n)&&(o|=1),o<<=1,this.readModule(3,n-1,e,n)&&(o|=1),o}readCorner2(e,n){let o=0;return this.readModule(e-3,0,e,n)&&(o|=1),o<<=1,this.readModule(e-2,0,e,n)&&(o|=1),o<<=1,this.readModule(e-1,0,e,n)&&(o|=1),o<<=1,this.readModule(0,n-4,e,n)&&(o|=1),o<<=1,this.readModule(0,n-3,e,n)&&(o|=1),o<<=1,this.readModule(0,n-2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-1,e,n)&&(o|=1),o<<=1,this.readModule(1,n-1,e,n)&&(o|=1),o}readCorner3(e,n){let o=0;return this.readModule(e-1,0,e,n)&&(o|=1),o<<=1,this.readModule(e-1,n-1,e,n)&&(o|=1),o<<=1,this.readModule(0,n-3,e,n)&&(o|=1),o<<=1,this.readModule(0,n-2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-1,e,n)&&(o|=1),o<<=1,this.readModule(1,n-3,e,n)&&(o|=1),o<<=1,this.readModule(1,n-2,e,n)&&(o|=1),o<<=1,this.readModule(1,n-1,e,n)&&(o|=1),o}readCorner4(e,n){let o=0;return this.readModule(e-3,0,e,n)&&(o|=1),o<<=1,this.readModule(e-2,0,e,n)&&(o|=1),o<<=1,this.readModule(e-1,0,e,n)&&(o|=1),o<<=1,this.readModule(0,n-2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-1,e,n)&&(o|=1),o<<=1,this.readModule(1,n-1,e,n)&&(o|=1),o<<=1,this.readModule(2,n-1,e,n)&&(o|=1),o<<=1,this.readModule(3,n-1,e,n)&&(o|=1),o}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new T("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=n/l|0,g=o/u|0,y=f*l,v=g*u,b=new be(v,y);for(let M=0;M<f;++M){const P=M*l;for(let U=0;U<g;++U){const G=U*u;for(let X=0;X<l;++X){const $=M*(l+2)+1+X,se=P+X;for(let we=0;we<u;++we){const Ce=U*(u+2)+1+we;if(e.get(Ce,$)){const me=G+we;b.set(me,se)}}}}}return b}}class jo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const o=n.getECBlocks();let l=0;const u=o.getECBlocks();for(let X of u)l+=X.getCount();const f=new Array(l);let g=0;for(let X of u)for(let $=0;$<X.getCount();$++){const se=X.getDataCodewords(),we=o.getECCodewords()+se;f[g++]=new jo(se,new Uint8Array(we))}const v=f[0].codewords.length-o.getECCodewords(),b=v-1;let M=0;for(let X=0;X<b;X++)for(let $=0;$<g;$++)f[$].codewords[X]=e[M++];const P=n.getVersionNumber()===24,U=P?8:g;for(let X=0;X<U;X++)f[X].codewords[v-1]=e[M++];const G=f[0].codewords.length;for(let X=v;X<G;X++)for(let $=0;$<g;$++){const se=P?($+8)%g:$,we=P&&se>7?X-1:X;f[se].codewords[we]=e[M++]}if(M!==e.length)throw new T;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Uo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new T(""+e);let n=0,o=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(o>0){const f=8-o,g=e<f?e:f,y=f-g,v=255>>8-g<<y;n=(u[l]&v)>>y,e-=g,o+=g,o===8&&(o=0,l++)}if(e>0){for(;e>=8;)n=n<<8|u[l]&255,l++,e-=8;if(e>0){const f=8-e,g=255>>f<<f;n=n<<e|(u[l]&g)>>f,o+=e}}return this.bitOffset=o,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var fn;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(fn||(fn={}));class pr{static decode(e){const n=new Uo(e),o=new je,l=new je,u=new Array;let f=fn.ASCII_ENCODE;do if(f===fn.ASCII_ENCODE)f=this.decodeAsciiSegment(n,o,l);else{switch(f){case fn.C40_ENCODE:this.decodeC40Segment(n,o);break;case fn.TEXT_ENCODE:this.decodeTextSegment(n,o);break;case fn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,o);break;case fn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,o);break;case fn.BASE256_ENCODE:this.decodeBase256Segment(n,o,u);break;default:throw new q}f=fn.ASCII_ENCODE}while(f!==fn.PAD_ENCODE&&n.available()>0);return l.length()>0&&o.append(l.toString()),new et(e,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(e,n,o){let l=!1;do{let u=e.readBits(8);if(u===0)throw new q;if(u<=128)return l&&(u+=128),n.append(String.fromCharCode(u-1)),fn.ASCII_ENCODE;if(u===129)return fn.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&n.append("0"),n.append(""+f)}else switch(u){case 230:return fn.C40_ENCODE;case 231:return fn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),o.insert(0,"");break;case 237:n.append("[)>06"),o.insert(0,"");break;case 238:return fn.ANSIX12_ENCODE;case 239:return fn.TEXT_ENCODE;case 240:return fn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||e.available()!==0)throw new q;break}}while(e.available()>0);return fn.ASCII_ENCODE}static decodeC40Segment(e,n){let o=!1;const l=[];let u=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),l);for(let g=0;g<3;g++){const y=l[g];switch(u){case 0:if(y<3)u=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v)}else throw new q;break;case 1:o?(n.append(String.fromCharCode(y+128)),o=!1):n.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v)}else switch(y){case 27:n.append("");break;case 30:o=!0;break;default:throw new q}u=0;break;case 3:o?(n.append(String.fromCharCode(y+224)),o=!1):n.append(String.fromCharCode(y+96)),u=0;break;default:throw new q}}}while(e.available()>0)}static decodeTextSegment(e,n){let o=!1,l=[],u=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),l);for(let g=0;g<3;g++){const y=l[g];switch(u){case 0:if(y<3)u=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v)}else throw new q;break;case 1:o?(n.append(String.fromCharCode(y+128)),o=!1):n.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v)}else switch(y){case 27:n.append("");break;case 30:o=!0;break;default:throw new q}u=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v),u=0}else throw new q;break;default:throw new q}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const o=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(f){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(f<14)n.append(String.fromCharCode(f+44));else if(f<40)n.append(String.fromCharCode(f+51));else throw new q;break}}}while(e.available()>0)}static parseTwoBytes(e,n,o){let l=(e<<8)+n-1,u=Math.floor(l/1600);o[0]=u,l-=u*1600,u=Math.floor(l/40),o[1]=u,o[2]=l-u*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let o=0;o<4;o++){let l=e.readBits(6);if(l===31){const u=8-e.getBitOffset();u!==8&&e.readBits(u);return}l&32||(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,o){let l=1+e.getByteOffset();const u=this.unrandomize255State(e.readBits(8),l++);let f;if(u===0?f=e.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(e.readBits(8),l++),f<0)throw new q;const g=new Uint8Array(f);for(let y=0;y<f;y++){if(e.available()<8)throw new q;g[y]=this.unrandomize255State(e.readBits(8),l++)}o.push(g);try{n.append(Ue.decode(g,Ne.ISO88591))}catch(y){throw new Tn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(e,n){const o=149*n%255+1,l=e-o;return l>=0?l:l+256}}pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pr.TEXT_SHIFT2_SET_CHARS=pr.C40_SHIFT2_SET_CHARS,pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Xs{constructor(){this.rsDecoder=new Tr(it.DATA_MATRIX_FIELD_256)}decode(e){const n=new $n(e),o=n.getVersion(),l=n.readCodewords(),u=jo.getDataBlocks(l,o);let f=0;for(let v of u)f+=v.getNumDataCodewords();const g=new Uint8Array(f),y=u.length;for(let v=0;v<y;v++){const b=u[v],M=b.getCodewords(),P=b.getNumDataCodewords();this.correctErrors(M,P);for(let U=0;U<P;U++)g[U*y+v]=M[U]}return pr.decode(g)}correctErrors(e,n){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-n)}catch{throw new O}for(let l=0;l<n;l++)e[l]=o[l]}}class Pt{constructor(e){this.image=e,this.rectangleDetector=new wt(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Z;n=this.shiftToModuleCenter(n);const o=n[0],l=n[1],u=n[2],f=n[3];let g=this.transitionsBetween(o,f)+1,y=this.transitionsBetween(u,f)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let v=Pt.sampleGrid(this.image,o,l,u,f,g,y);return new Xe(v,[o,l,u,f])}static shiftPoint(e,n,o){let l=(n.getX()-e.getX())/(o+1),u=(n.getY()-e.getY())/(o+1);return new Ee(e.getX()+l,e.getY()+u)}static moveAway(e,n,o){let l=e.getX(),u=e.getY();return l<n?l-=1:l+=1,u<o?u-=1:u+=1,new Ee(l,u)}detectSolid1(e){let n=e[0],o=e[1],l=e[3],u=e[2],f=this.transitionsBetween(n,o),g=this.transitionsBetween(o,l),y=this.transitionsBetween(l,u),v=this.transitionsBetween(u,n),b=f,M=[u,n,o,l];return b>g&&(b=g,M[0]=n,M[1]=o,M[2]=l,M[3]=u),b>y&&(b=y,M[0]=o,M[1]=l,M[2]=u,M[3]=n),b>v&&(M[0]=l,M[1]=u,M[2]=n,M[3]=o),M}detectSolid2(e){let n=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(n,u),g=Pt.shiftPoint(o,l,(f+1)*4),y=Pt.shiftPoint(l,o,(f+1)*4),v=this.transitionsBetween(g,n),b=this.transitionsBetween(y,u);return v<b?(e[0]=n,e[1]=o,e[2]=l,e[3]=u):(e[0]=o,e[1]=l,e[2]=u,e[3]=n),e}correctTopRight(e){let n=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(n,u),g=this.transitionsBetween(o,u),y=Pt.shiftPoint(n,o,(g+1)*4),v=Pt.shiftPoint(l,o,(f+1)*4);f=this.transitionsBetween(y,u),g=this.transitionsBetween(v,u);let b=new Ee(u.getX()+(l.getX()-o.getX())/(f+1),u.getY()+(l.getY()-o.getY())/(f+1)),M=new Ee(u.getX()+(n.getX()-o.getX())/(g+1),u.getY()+(n.getY()-o.getY())/(g+1));if(!this.isValid(b))return this.isValid(M)?M:null;if(!this.isValid(M))return b;let P=this.transitionsBetween(y,b)+this.transitionsBetween(v,b),U=this.transitionsBetween(y,M)+this.transitionsBetween(v,M);return P>U?b:M}shiftToModuleCenter(e){let n=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(n,u)+1,g=this.transitionsBetween(l,u)+1,y=Pt.shiftPoint(n,o,g*4),v=Pt.shiftPoint(l,o,f*4);f=this.transitionsBetween(y,u)+1,g=this.transitionsBetween(v,u)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let b=(n.getX()+o.getX()+l.getX()+u.getX())/4,M=(n.getY()+o.getY()+l.getY()+u.getY())/4;n=Pt.moveAway(n,b,M),o=Pt.moveAway(o,b,M),l=Pt.moveAway(l,b,M),u=Pt.moveAway(u,b,M);let P,U;return y=Pt.shiftPoint(n,o,g*4),y=Pt.shiftPoint(y,u,f*4),P=Pt.shiftPoint(o,n,g*4),P=Pt.shiftPoint(P,l,f*4),v=Pt.shiftPoint(l,u,g*4),v=Pt.shiftPoint(v,o,f*4),U=Pt.shiftPoint(u,l,g*4),U=Pt.shiftPoint(U,n,f*4),[y,P,v,U]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,o,l,u,f,g){return Ft.getInstance().sampleGrid(e,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,n.getX(),n.getY(),u.getX(),u.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(e,n){let o=Math.trunc(e.getX()),l=Math.trunc(e.getY()),u=Math.trunc(n.getX()),f=Math.trunc(n.getY()),g=Math.abs(f-l)>Math.abs(u-o);if(g){let X=o;o=l,l=X,X=u,u=f,f=X}let y=Math.abs(u-o),v=Math.abs(f-l),b=-y/2,M=l<f?1:-1,P=o<u?1:-1,U=0,G=this.image.get(g?l:o,g?o:l);for(let X=o,$=l;X!==u;X+=P){let se=this.image.get(g?$:X,g?X:$);if(se!==G&&(U++,G=se),b+=v,b>0){if($===f)break;$+=M,b-=y}}return U}}class gr{constructor(){this.decoder=new Xs}decode(e,n=null){let o,l;if(n!=null&&n.has(ue.PURE_BARCODE)){const v=gr.extractPureBits(e.getBlackMatrix());o=this.decoder.decode(v),l=gr.NO_POINTS}else{const v=new Pt(e.getBlackMatrix()).detect();o=this.decoder.decode(v.getBits()),l=v.getPoints()}const u=o.getRawBytes(),f=new Be(o.getText(),u,8*u.length,l,ve.DATA_MATRIX,F.currentTimeMillis()),g=o.getByteSegments();g!=null&&f.putMetadata(Ge.BYTE_SEGMENTS,g);const y=o.getECLevel();return y!=null&&f.putMetadata(Ge.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(n==null||o==null)throw new Z;const l=this.moduleSize(n,e);let u=n[1];const f=o[1];let g=n[0];const v=(o[0]-g+1)/l,b=(f-u+1)/l;if(v<=0||b<=0)throw new Z;const M=l/2;u+=M,g+=M;const P=new be(v,b);for(let U=0;U<b;U++){const G=u+U*l;for(let X=0;X<v;X++)e.get(g+X*l,G)&&P.set(X,U)}return P}static moduleSize(e,n){const o=n.getWidth();let l=e[0];const u=e[1];for(;l<o&&n.get(l,u);)l++;if(l===o)throw new Z;const f=l-e[0];if(f===0)throw new Z;return f}}gr.NO_POINTS=[];class Pu extends Re{constructor(e=500){super(new gr,e)}}var Fi;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Fi||(Fi={}));class Nt{constructor(e,n,o){this.value=e,this.stringValue=n,this.bits=o,Nt.FOR_BITS.set(o,this),Nt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Nt.L;case"M":return Nt.M;case"Q":return Nt.Q;case"H":return Nt.H;default:throw new S(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Nt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=Nt.FOR_BITS.size)throw new T;return Nt.FOR_BITS.get(e)}}Nt.FOR_BITS=new Map,Nt.FOR_VALUE=new Map,Nt.L=new Nt(Fi.L,"L",1),Nt.M=new Nt(Fi.M,"M",0),Nt.Q=new Nt(Fi.Q,"Q",3),Nt.H=new Nt(Fi.H,"H",2);class wn{constructor(e){this.errorCorrectionLevel=Nt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return V.bitCount(e^n)}static decodeFormatInformation(e,n){const o=wn.doDecodeFormatInformation(e,n);return o!==null?o:wn.doDecodeFormatInformation(e^wn.FORMAT_INFO_MASK_QR,n^wn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let o=Number.MAX_SAFE_INTEGER,l=0;for(const u of wn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===e||f===n)return new wn(u[1]);let g=wn.numBitsDiffering(e,f);g<o&&(l=u[1],o=g),e!==n&&(g=wn.numBitsDiffering(n,f),g<o&&(l=u[1],o=g))}return o<=3?new wn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof wn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}wn.FORMAT_INFO_MASK_QR=21522,wn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class J{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const o of n)e+=o.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(e,n,...o){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=o;let l=0;const u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const g of f)l+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new q;try{return this.getVersionForNumber((e-17)/4)}catch{throw new q}}static getVersionForNumber(e){if(e<1||e>40)throw new T;return We.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<We.VERSION_DECODE_INFO.length;l++){const u=We.VERSION_DECODE_INFO[l];if(u===e)return We.getVersionForNumber(l+7);const f=wn.numBitsDiffering(e,u);f<n&&(o=l+7,n=f)}return n<=3?We.getVersionForNumber(o):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new be(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const u=this.alignmentPatternCenters[l]-2;for(let f=0;f<o;f++)l===0&&(f===0||f===o-1)||l===o-1&&f===0||n.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}We.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),We.VERSIONS=[new We(1,new Int32Array(0),new J(7,new j(1,19)),new J(10,new j(1,16)),new J(13,new j(1,13)),new J(17,new j(1,9))),new We(2,Int32Array.from([6,18]),new J(10,new j(1,34)),new J(16,new j(1,28)),new J(22,new j(1,22)),new J(28,new j(1,16))),new We(3,Int32Array.from([6,22]),new J(15,new j(1,55)),new J(26,new j(1,44)),new J(18,new j(2,17)),new J(22,new j(2,13))),new We(4,Int32Array.from([6,26]),new J(20,new j(1,80)),new J(18,new j(2,32)),new J(26,new j(2,24)),new J(16,new j(4,9))),new We(5,Int32Array.from([6,30]),new J(26,new j(1,108)),new J(24,new j(2,43)),new J(18,new j(2,15),new j(2,16)),new J(22,new j(2,11),new j(2,12))),new We(6,Int32Array.from([6,34]),new J(18,new j(2,68)),new J(16,new j(4,27)),new J(24,new j(4,19)),new J(28,new j(4,15))),new We(7,Int32Array.from([6,22,38]),new J(20,new j(2,78)),new J(18,new j(4,31)),new J(18,new j(2,14),new j(4,15)),new J(26,new j(4,13),new j(1,14))),new We(8,Int32Array.from([6,24,42]),new J(24,new j(2,97)),new J(22,new j(2,38),new j(2,39)),new J(22,new j(4,18),new j(2,19)),new J(26,new j(4,14),new j(2,15))),new We(9,Int32Array.from([6,26,46]),new J(30,new j(2,116)),new J(22,new j(3,36),new j(2,37)),new J(20,new j(4,16),new j(4,17)),new J(24,new j(4,12),new j(4,13))),new We(10,Int32Array.from([6,28,50]),new J(18,new j(2,68),new j(2,69)),new J(26,new j(4,43),new j(1,44)),new J(24,new j(6,19),new j(2,20)),new J(28,new j(6,15),new j(2,16))),new We(11,Int32Array.from([6,30,54]),new J(20,new j(4,81)),new J(30,new j(1,50),new j(4,51)),new J(28,new j(4,22),new j(4,23)),new J(24,new j(3,12),new j(8,13))),new We(12,Int32Array.from([6,32,58]),new J(24,new j(2,92),new j(2,93)),new J(22,new j(6,36),new j(2,37)),new J(26,new j(4,20),new j(6,21)),new J(28,new j(7,14),new j(4,15))),new We(13,Int32Array.from([6,34,62]),new J(26,new j(4,107)),new J(22,new j(8,37),new j(1,38)),new J(24,new j(8,20),new j(4,21)),new J(22,new j(12,11),new j(4,12))),new We(14,Int32Array.from([6,26,46,66]),new J(30,new j(3,115),new j(1,116)),new J(24,new j(4,40),new j(5,41)),new J(20,new j(11,16),new j(5,17)),new J(24,new j(11,12),new j(5,13))),new We(15,Int32Array.from([6,26,48,70]),new J(22,new j(5,87),new j(1,88)),new J(24,new j(5,41),new j(5,42)),new J(30,new j(5,24),new j(7,25)),new J(24,new j(11,12),new j(7,13))),new We(16,Int32Array.from([6,26,50,74]),new J(24,new j(5,98),new j(1,99)),new J(28,new j(7,45),new j(3,46)),new J(24,new j(15,19),new j(2,20)),new J(30,new j(3,15),new j(13,16))),new We(17,Int32Array.from([6,30,54,78]),new J(28,new j(1,107),new j(5,108)),new J(28,new j(10,46),new j(1,47)),new J(28,new j(1,22),new j(15,23)),new J(28,new j(2,14),new j(17,15))),new We(18,Int32Array.from([6,30,56,82]),new J(30,new j(5,120),new j(1,121)),new J(26,new j(9,43),new j(4,44)),new J(28,new j(17,22),new j(1,23)),new J(28,new j(2,14),new j(19,15))),new We(19,Int32Array.from([6,30,58,86]),new J(28,new j(3,113),new j(4,114)),new J(26,new j(3,44),new j(11,45)),new J(26,new j(17,21),new j(4,22)),new J(26,new j(9,13),new j(16,14))),new We(20,Int32Array.from([6,34,62,90]),new J(28,new j(3,107),new j(5,108)),new J(26,new j(3,41),new j(13,42)),new J(30,new j(15,24),new j(5,25)),new J(28,new j(15,15),new j(10,16))),new We(21,Int32Array.from([6,28,50,72,94]),new J(28,new j(4,116),new j(4,117)),new J(26,new j(17,42)),new J(28,new j(17,22),new j(6,23)),new J(30,new j(19,16),new j(6,17))),new We(22,Int32Array.from([6,26,50,74,98]),new J(28,new j(2,111),new j(7,112)),new J(28,new j(17,46)),new J(30,new j(7,24),new j(16,25)),new J(24,new j(34,13))),new We(23,Int32Array.from([6,30,54,78,102]),new J(30,new j(4,121),new j(5,122)),new J(28,new j(4,47),new j(14,48)),new J(30,new j(11,24),new j(14,25)),new J(30,new j(16,15),new j(14,16))),new We(24,Int32Array.from([6,28,54,80,106]),new J(30,new j(6,117),new j(4,118)),new J(28,new j(6,45),new j(14,46)),new J(30,new j(11,24),new j(16,25)),new J(30,new j(30,16),new j(2,17))),new We(25,Int32Array.from([6,32,58,84,110]),new J(26,new j(8,106),new j(4,107)),new J(28,new j(8,47),new j(13,48)),new J(30,new j(7,24),new j(22,25)),new J(30,new j(22,15),new j(13,16))),new We(26,Int32Array.from([6,30,58,86,114]),new J(28,new j(10,114),new j(2,115)),new J(28,new j(19,46),new j(4,47)),new J(28,new j(28,22),new j(6,23)),new J(30,new j(33,16),new j(4,17))),new We(27,Int32Array.from([6,34,62,90,118]),new J(30,new j(8,122),new j(4,123)),new J(28,new j(22,45),new j(3,46)),new J(30,new j(8,23),new j(26,24)),new J(30,new j(12,15),new j(28,16))),new We(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new j(3,117),new j(10,118)),new J(28,new j(3,45),new j(23,46)),new J(30,new j(4,24),new j(31,25)),new J(30,new j(11,15),new j(31,16))),new We(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new j(7,116),new j(7,117)),new J(28,new j(21,45),new j(7,46)),new J(30,new j(1,23),new j(37,24)),new J(30,new j(19,15),new j(26,16))),new We(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new j(5,115),new j(10,116)),new J(28,new j(19,47),new j(10,48)),new J(30,new j(15,24),new j(25,25)),new J(30,new j(23,15),new j(25,16))),new We(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new j(13,115),new j(3,116)),new J(28,new j(2,46),new j(29,47)),new J(30,new j(42,24),new j(1,25)),new J(30,new j(23,15),new j(28,16))),new We(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new j(17,115)),new J(28,new j(10,46),new j(23,47)),new J(30,new j(10,24),new j(35,25)),new J(30,new j(19,15),new j(35,16))),new We(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new j(17,115),new j(1,116)),new J(28,new j(14,46),new j(21,47)),new J(30,new j(29,24),new j(19,25)),new J(30,new j(11,15),new j(46,16))),new We(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new j(13,115),new j(6,116)),new J(28,new j(14,46),new j(23,47)),new J(30,new j(44,24),new j(7,25)),new J(30,new j(59,16),new j(1,17))),new We(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new j(12,121),new j(7,122)),new J(28,new j(12,47),new j(26,48)),new J(30,new j(39,24),new j(14,25)),new J(30,new j(22,15),new j(41,16))),new We(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new j(6,121),new j(14,122)),new J(28,new j(6,47),new j(34,48)),new J(30,new j(46,24),new j(10,25)),new J(30,new j(2,15),new j(64,16))),new We(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new j(17,122),new j(4,123)),new J(28,new j(29,46),new j(14,47)),new J(30,new j(49,24),new j(10,25)),new J(30,new j(24,15),new j(46,16))),new We(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new j(4,122),new j(18,123)),new J(28,new j(13,46),new j(32,47)),new J(30,new j(48,24),new j(14,25)),new J(30,new j(42,15),new j(32,16))),new We(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new j(20,117),new j(4,118)),new J(28,new j(40,47),new j(7,48)),new J(30,new j(43,24),new j(22,25)),new J(30,new j(10,15),new j(67,16))),new We(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new j(19,118),new j(6,119)),new J(28,new j(18,47),new j(31,48)),new J(30,new j(34,24),new j(34,25)),new J(30,new j(20,15),new j(61,16)))];var sn;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(sn||(sn={}));class at{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let o=0;o<n;o++)for(let l=0;l<n;l++)this.isMasked(o,l)&&e.flip(l,o)}}at.values=new Map([[sn.DATA_MASK_000,new at(sn.DATA_MASK_000,(R,e)=>(R+e&1)===0)],[sn.DATA_MASK_001,new at(sn.DATA_MASK_001,(R,e)=>(R&1)===0)],[sn.DATA_MASK_010,new at(sn.DATA_MASK_010,(R,e)=>e%3===0)],[sn.DATA_MASK_011,new at(sn.DATA_MASK_011,(R,e)=>(R+e)%3===0)],[sn.DATA_MASK_100,new at(sn.DATA_MASK_100,(R,e)=>(Math.floor(R/2)+Math.floor(e/3)&1)===0)],[sn.DATA_MASK_101,new at(sn.DATA_MASK_101,(R,e)=>R*e%6===0)],[sn.DATA_MASK_110,new at(sn.DATA_MASK_110,(R,e)=>R*e%6<3)],[sn.DATA_MASK_111,new at(sn.DATA_MASK_111,(R,e)=>(R+e+R*e%3&1)===0)]]);class el{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new q;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let u=0;u<6;u++)e=this.copyBit(u,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let u=5;u>=0;u--)e=this.copyBit(8,u,e);const n=this.bitMatrix.getHeight();let o=0;const l=n-7;for(let u=n-1;u>=l;u--)o=this.copyBit(8,u,o);for(let u=n-8;u<n;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=wn.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return We.getVersionForNumber(n);let o=0;const l=e-11;for(let f=5;f>=0;f--)for(let g=e-9;g>=l;g--)o=this.copyBit(g,f,o);let u=We.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;o=0;for(let f=5;f>=0;f--)for(let g=e-9;g>=l;g--)o=this.copyBit(f,g,o);if(u=We.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new q}copyBit(e,n,o){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?o<<1|1:o<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),o=at.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const u=n.buildFunctionPattern();let f=!0;const g=new Uint8Array(n.getTotalCodewords());let y=0,v=0,b=0;for(let M=l-1;M>0;M-=2){M===6&&M--;for(let P=0;P<l;P++){const U=f?l-1-P:P;for(let G=0;G<2;G++)u.get(M-G,U)||(b++,v<<=1,this.bitMatrix.get(M-G,U)&&(v|=1),b===8&&(g[y++]=v,b=0,v=0))}f=!f}if(y!==n.getTotalCodewords())throw new q;return g}remask(){if(this.parsedFormatInfo===null)return;const e=at.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,o=e.getWidth();n<o;n++)for(let l=n+1,u=e.getHeight();l<u;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class Zs{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,o){if(e.length!==n.getTotalCodewords())throw new T;const l=n.getECBlocksForLevel(o);let u=0;const f=l.getECBlocks();for(const G of f)u+=G.getCount();const g=new Array(u);let y=0;for(const G of f)for(let X=0;X<G.getCount();X++){const $=G.getDataCodewords(),se=l.getECCodewordsPerBlock()+$;g[y++]=new Zs($,new Uint8Array(se))}const v=g[0].codewords.length;let b=g.length-1;for(;b>=0&&g[b].codewords.length!==v;)b--;b++;const M=v-l.getECCodewordsPerBlock();let P=0;for(let G=0;G<M;G++)for(let X=0;X<y;X++)g[X].codewords[G]=e[P++];for(let G=b;G<y;G++)g[G].codewords[M]=e[P++];const U=g[0].codewords.length;for(let G=M;G<U;G++)for(let X=0;X<y;X++){const $=X<b?G:G+1;g[X].codewords[$]=e[P++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Wn;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(Wn||(Wn={}));class He{constructor(e,n,o,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=o,this.bits=l,He.FOR_BITS.set(l,this),He.FOR_VALUE.set(e,this)}static forBits(e){const n=He.FOR_BITS.get(e);if(n===void 0)throw new T;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let o;return n<=9?o=0:n<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof He))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.TERMINATOR=new He(Wn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),He.NUMERIC=new He(Wn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),He.ALPHANUMERIC=new He(Wn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),He.STRUCTURED_APPEND=new He(Wn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),He.BYTE=new He(Wn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),He.ECI=new He(Wn.ECI,"ECI",Int32Array.from([0,0,0]),7),He.KANJI=new He(Wn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),He.FNC1_FIRST_POSITION=new He(Wn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),He.FNC1_SECOND_POSITION=new He(Wn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),He.HANZI=new He(Wn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ut{static decode(e,n,o,l){const u=new Uo(e);let f=new je;const g=new Array;let y=-1,v=-1;try{let b=null,M=!1,P;do{if(u.available()<4)P=He.TERMINATOR;else{const U=u.readBits(4);P=He.forBits(U)}switch(P){case He.TERMINATOR:break;case He.FNC1_FIRST_POSITION:case He.FNC1_SECOND_POSITION:M=!0;break;case He.STRUCTURED_APPEND:if(u.available()<16)throw new q;y=u.readBits(8),v=u.readBits(8);break;case He.ECI:const U=Ut.parseECIValue(u);if(b=ne.getCharacterSetECIByValue(U),b===null)throw new q;break;case He.HANZI:const G=u.readBits(4),X=u.readBits(P.getCharacterCountBits(n));G===Ut.GB2312_SUBSET&&Ut.decodeHanziSegment(u,f,X);break;default:const $=u.readBits(P.getCharacterCountBits(n));switch(P){case He.NUMERIC:Ut.decodeNumericSegment(u,f,$);break;case He.ALPHANUMERIC:Ut.decodeAlphanumericSegment(u,f,$,M);break;case He.BYTE:Ut.decodeByteSegment(u,f,$,b,g,l);break;case He.KANJI:Ut.decodeKanjiSegment(u,f,$);break;default:throw new q}break}}while(P!==He.TERMINATOR)}catch{throw new q}return new et(e,f.toString(),g.length===0?null:g,o===null?null:o.toString(),y,v)}static decodeHanziSegment(e,n,o){if(o*13>e.available())throw new q;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=e.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,l[u]=g>>8&255,l[u+1]=g&255,u+=2,o--}try{n.append(Ue.decode(l,Ne.GB2312))}catch(f){throw new q(f)}}static decodeKanjiSegment(e,n,o){if(o*13>e.available())throw new q;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=e.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,l[u]=g>>8,l[u+1]=g,u+=2,o--}try{n.append(Ue.decode(l,Ne.SHIFT_JIS))}catch(f){throw new q(f)}}static decodeByteSegment(e,n,o,l,u,f){if(8*o>e.available())throw new q;const g=new Uint8Array(o);for(let v=0;v<o;v++)g[v]=e.readBits(8);let y;l===null?y=Ne.guessEncoding(g,f):y=l.getName();try{n.append(Ue.decode(g,y))}catch(v){throw new q(v)}u.push(g)}static toAlphaNumericChar(e){if(e>=Ut.ALPHANUMERIC_CHARS.length)throw new q;return Ut.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,o,l){const u=n.length();for(;o>1;){if(e.available()<11)throw new q;const f=e.readBits(11);n.append(Ut.toAlphaNumericChar(Math.floor(f/45))),n.append(Ut.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(e.available()<6)throw new q;n.append(Ut.toAlphaNumericChar(e.readBits(6)))}if(l)for(let f=u;f<n.length();f++)n.charAt(f)==="%"&&(f<n.length()-1&&n.charAt(f+1)==="%"?n.deleteCharAt(f+1):n.setCharAt(f,""))}static decodeNumericSegment(e,n,o){for(;o>=3;){if(e.available()<10)throw new q;const l=e.readBits(10);if(l>=1e3)throw new q;n.append(Ut.toAlphaNumericChar(Math.floor(l/100))),n.append(Ut.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(Ut.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(e.available()<7)throw new q;const l=e.readBits(7);if(l>=100)throw new q;n.append(Ut.toAlphaNumericChar(Math.floor(l/10))),n.append(Ut.toAlphaNumericChar(l%10))}else if(o===1){if(e.available()<4)throw new q;const l=e.readBits(4);if(l>=10)throw new q;n.append(Ut.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const o=e.readBits(8);return(n&63)<<8&4294967295|o}if((n&224)===192){const o=e.readBits(16);return(n&31)<<16&4294967295|o}throw new q}}Ut.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ut.GB2312_SUBSET=1;class zo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Vo{constructor(){this.rsDecoder=new Tr(it.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(be.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const o=new el(e);let l=null;try{return this.decodeBitMatrixParser(o,n)}catch(u){l=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,n);return u.setOther(new zo(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(e,n){const o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),f=Zs.getDataBlocks(u,o,l);let g=0;for(const b of f)g+=b.getNumDataCodewords();const y=new Uint8Array(g);let v=0;for(const b of f){const M=b.getCodewords(),P=b.getNumDataCodewords();this.correctErrors(M,P);for(let U=0;U<P;U++)y[v++]=M[U]}return Ut.decode(y,o,l,n)}correctErrors(e,n){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-n)}catch{throw new O}for(let l=0;l<n;l++)e[l]=o[l]}}class ji extends Ee{constructor(e,n,o){super(e,n),this.estimatedModuleSize=o}aboutEquals(e,n,o){if(Math.abs(n-this.getY())<=e&&Math.abs(o-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,o){const l=(this.getX()+n)/2,u=(this.getY()+e)/2,f=(this.estimatedModuleSize+o)/2;return new ji(l,u,f)}}class mr{constructor(e,n,o,l,u,f,g){this.image=e,this.startX=n,this.startY=o,this.width=l,this.height=u,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,o=this.width,l=e+o,u=this.startY+n/2,f=new Int32Array(3),g=this.image;for(let y=0;y<n;y++){const v=u+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let b=e;for(;b<l&&!g.get(b,v);)b++;let M=0;for(;b<l;){if(g.get(b,v))if(M===1)f[1]++;else if(M===2){if(this.foundPatternCross(f)){const P=this.handlePossibleCenter(f,v,b);if(P!==null)return P}f[0]=f[2],f[1]=1,f[2]=0,M=1}else f[++M]++;else M===1&&M++,f[M]++;b++}if(this.foundPatternCross(f)){const P=this.handlePossibleCenter(f,v,l);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Z}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,o=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=o)return!1;return!0}crossCheckVertical(e,n,o,l){const u=this.image,f=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=e;for(;y>=0&&u.get(n,y)&&g[1]<=o;)g[1]++,y--;if(y<0||g[1]>o)return NaN;for(;y>=0&&!u.get(n,y)&&g[0]<=o;)g[0]++,y--;if(g[0]>o)return NaN;for(y=e+1;y<f&&u.get(n,y)&&g[1]<=o;)g[1]++,y++;if(y===f||g[1]>o)return NaN;for(;y<f&&!u.get(n,y)&&g[2]<=o;)g[2]++,y++;if(g[2]>o)return NaN;const v=g[0]+g[1]+g[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(g)?mr.centerFromEnd(g,y):NaN}handlePossibleCenter(e,n,o){const l=e[0]+e[1]+e[2],u=mr.centerFromEnd(e,o),f=this.crossCheckVertical(n,u,2*e[1],l);if(!isNaN(f)){const g=(e[0]+e[1]+e[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(g,f,u))return v.combineEstimate(f,u,g);const y=new ji(u,f,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class Nr extends Ee{constructor(e,n,o,l){super(e,n),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,o){if(Math.abs(n-this.getY())<=e&&Math.abs(o-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,o){const l=this.count+1,u=(this.count*this.getX()+n)/l,f=(this.count*this.getY()+e)/l,g=(this.count*this.estimatedModuleSize+o)/l;return new Nr(u,f,g,l)}}class ti{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Kt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(ue.TRY_HARDER)!==void 0,o=e!=null&&e.get(ue.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),f=l.getWidth();let g=Math.floor(3*u/(4*Kt.MAX_MODULES));(g<Kt.MIN_SKIP||n)&&(g=Kt.MIN_SKIP);let y=!1;const v=new Int32Array(5);for(let M=g-1;M<u&&!y;M+=g){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let P=0;for(let U=0;U<f;U++)if(l.get(U,M))(P&1)===1&&P++,v[P]++;else if(P&1)v[P]++;else if(P===4)if(Kt.foundPatternCross(v)){if(this.handlePossibleCenter(v,M,U,o)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>v[2]&&(M+=X-v[2]-g,U=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,P=3;continue}P=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,P=3;else v[++P]++;Kt.foundPatternCross(v)&&this.handlePossibleCenter(v,M,f,o)===!0&&(g=v[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Ee.orderBestPatterns(b),new ti(b)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let u=0;u<5;u++){const f=e[u];if(f===0)return!1;n+=f}if(n<7)return!1;const o=n/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,o,l){const u=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;e>=f&&n>=f&&g.get(n-f,e-f);)u[2]++,f++;if(e<f||n<f)return!1;for(;e>=f&&n>=f&&!g.get(n-f,e-f)&&u[1]<=o;)u[1]++,f++;if(e<f||n<f||u[1]>o)return!1;for(;e>=f&&n>=f&&g.get(n-f,e-f)&&u[0]<=o;)u[0]++,f++;if(u[0]>o)return!1;const y=g.getHeight(),v=g.getWidth();for(f=1;e+f<y&&n+f<v&&g.get(n+f,e+f);)u[2]++,f++;if(e+f>=y||n+f>=v)return!1;for(;e+f<y&&n+f<v&&!g.get(n+f,e+f)&&u[3]<o;)u[3]++,f++;if(e+f>=y||n+f>=v||u[3]>=o)return!1;for(;e+f<y&&n+f<v&&g.get(n+f,e+f)&&u[4]<o;)u[4]++,f++;if(u[4]>=o)return!1;const b=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(b-l)<2*l&&Kt.foundPatternCross(u)}crossCheckVertical(e,n,o,l){const u=this.image,f=u.getHeight(),g=this.getCrossCheckStateCount();let y=e;for(;y>=0&&u.get(n,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(n,y)&&g[1]<=o;)g[1]++,y--;if(y<0||g[1]>o)return NaN;for(;y>=0&&u.get(n,y)&&g[0]<=o;)g[0]++,y--;if(g[0]>o)return NaN;for(y=e+1;y<f&&u.get(n,y);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(n,y)&&g[3]<o;)g[3]++,y++;if(y===f||g[3]>=o)return NaN;for(;y<f&&u.get(n,y)&&g[4]<o;)g[4]++,y++;if(g[4]>=o)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-l)>=2*l?NaN:Kt.foundPatternCross(g)?Kt.centerFromEnd(g,y):NaN}crossCheckHorizontal(e,n,o,l){const u=this.image,f=u.getWidth(),g=this.getCrossCheckStateCount();let y=e;for(;y>=0&&u.get(y,n);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(y,n)&&g[1]<=o;)g[1]++,y--;if(y<0||g[1]>o)return NaN;for(;y>=0&&u.get(y,n)&&g[0]<=o;)g[0]++,y--;if(g[0]>o)return NaN;for(y=e+1;y<f&&u.get(y,n);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(y,n)&&g[3]<o;)g[3]++,y++;if(y===f||g[3]>=o)return NaN;for(;y<f&&u.get(y,n)&&g[4]<o;)g[4]++,y++;if(g[4]>=o)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-l)>=l?NaN:Kt.foundPatternCross(g)?Kt.centerFromEnd(g,y):NaN}handlePossibleCenter(e,n,o,l){const u=e[0]+e[1]+e[2]+e[3]+e[4];let f=Kt.centerFromEnd(e,o),g=this.crossCheckVertical(n,Math.floor(f),e[2],u);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),e[2],u),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),e[2],u)))){const y=u/7;let v=!1;const b=this.possibleCenters;for(let M=0,P=b.length;M<P;M++){const U=b[M];if(U.aboutEquals(y,g,f)){b[M]=U.combineEstimate(g,f,y),v=!0;break}}if(!v){const M=new Nr(f,g,y);b.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const o of this.possibleCenters)if(o.getCount()>=Kt.CENTER_QUORUM)if(n==null)n=o;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-o.getX())-Math.abs(n.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Kt.CENTER_QUORUM&&(e++,n+=f.getEstimatedModuleSize());if(e<3)return!1;const l=n/o;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-l);return u<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new Z;const n=this.possibleCenters;let o;if(e>3){let l=0,u=0;for(const y of this.possibleCenters){const v=y.getEstimatedModuleSize();l+=v,u+=v*v}o=l/e;let f=Math.sqrt(u/e-o*o);n.sort((y,v)=>{const b=Math.abs(v.getEstimatedModuleSize()-o),M=Math.abs(y.getEstimatedModuleSize()-o);return b<M?-1:b>M?1:0});const g=Math.max(.2*o,f);for(let y=0;y<n.length&&n.length>3;y++){const v=n[y];Math.abs(v.getEstimatedModuleSize()-o)>g&&(n.splice(y,1),y--)}}if(n.length>3){let l=0;for(const u of n)l+=u.getEstimatedModuleSize();o=l/n.length,n.sort((u,f)=>{if(f.getCount()===u.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-o),y=Math.abs(u.getEstimatedModuleSize()-o);return g<y?1:g>y?-1:0}else return f.getCount()-u.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Kt.CENTER_QUORUM=2,Kt.MIN_SKIP=3,Kt.MAX_MODULES=57;class zr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(ue.NEED_RESULT_POINT_CALLBACK);const o=new Kt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(o)}processFinderPatternInfo(e){const n=e.getTopLeft(),o=e.getTopRight(),l=e.getBottomLeft(),u=this.calculateModuleSize(n,o,l);if(u<1)throw new Z("No pattern found in proccess finder.");const f=zr.computeDimension(n,o,l,u),g=We.getProvisionalVersionForDimension(f),y=g.getDimensionForVersion()-7;let v=null;if(g.getAlignmentPatternCenters().length>0){const U=o.getX()-n.getX()+l.getX(),G=o.getY()-n.getY()+l.getY(),X=1-3/y,$=Math.floor(n.getX()+X*(U-n.getX())),se=Math.floor(n.getY()+X*(G-n.getY()));for(let we=4;we<=16;we<<=1)try{v=this.findAlignmentInRegion(u,$,se,we);break}catch(Ce){if(!(Ce instanceof Z))throw Ce}}const b=zr.createTransform(n,o,l,v,f),M=zr.sampleGrid(this.image,b,f);let P;return v===null?P=[l,n,o]:P=[l,n,o,v],new Xe(M,P)}static createTransform(e,n,o,l,u){const f=u-3.5;let g,y,v,b;return l!==null?(g=l.getX(),y=l.getY(),v=f-3,b=v):(g=n.getX()-e.getX()+o.getX(),y=n.getY()-e.getY()+o.getY(),v=f,b=f),Ct.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,b,3.5,f,e.getX(),e.getY(),n.getX(),n.getY(),g,y,o.getX(),o.getY())}static sampleGrid(e,n,o){return Ft.getInstance().sampleGridWithTransform(e,o,o,n)}static computeDimension(e,n,o,l){const u=lt.round(Ee.distance(e,n)/l),f=lt.round(Ee.distance(e,o)/l);let g=Math.floor((u+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new Z("Dimensions could be not found.")}return g}calculateModuleSize(e,n,o){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,o))/2}calculateModuleSizeOneWay(e,n){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,o,l){let u=this.sizeOfBlackWhiteBlackRun(e,n,o,l),f=1,g=e-(o-e);g<0?(f=e/(e-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-e)/(g-e),g=this.image.getWidth()-1);let y=Math.floor(n-(l-n)*f);return f=1,y<0?(f=n/(n-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-n)/(y-n),y=this.image.getHeight()-1),g=Math.floor(e+(g-e)*f),u+=this.sizeOfBlackWhiteBlackRun(e,n,g,y),u-1}sizeOfBlackWhiteBlackRun(e,n,o,l){const u=Math.abs(l-n)>Math.abs(o-e);if(u){let U=e;e=n,n=U,U=o,o=l,l=U}const f=Math.abs(o-e),g=Math.abs(l-n);let y=-f/2;const v=e<o?1:-1,b=n<l?1:-1;let M=0;const P=o+v;for(let U=e,G=n;U!==P;U+=v){const X=u?G:U,$=u?U:G;if(M===1===this.image.get(X,$)){if(M===2)return lt.distance(U,G,e,n);M++}if(y+=g,y>0){if(G===l)break;G+=b,y-=f}}return M===2?lt.distance(o+v,l,e,n):NaN}findAlignmentInRegion(e,n,o,l){const u=Math.floor(l*e),f=Math.max(0,n-u),g=Math.min(this.image.getWidth()-1,n+u);if(g-f<e*3)throw new Z("Alignment top exceeds estimated module size.");const y=Math.max(0,o-u),v=Math.min(this.image.getHeight()-1,o+u);if(v-y<e*3)throw new Z("Alignment bottom exceeds estimated module size.");return new mr(this.image,f,y,g-f,v-y,e,this.resultPointCallback).find()}}class On{constructor(){this.decoder=new Vo}getDecoder(){return this.decoder}decode(e,n){let o,l;if(n!=null&&n.get(ue.PURE_BARCODE)!==void 0){const y=On.extractPureBits(e.getBlackMatrix());o=this.decoder.decodeBitMatrix(y,n),l=On.NO_POINTS}else{const y=new zr(e.getBlackMatrix()).detect(n);o=this.decoder.decodeBitMatrix(y.getBits(),n),l=y.getPoints()}o.getOther()instanceof zo&&o.getOther().applyMirroredCorrection(l);const u=new Be(o.getText(),o.getRawBytes(),void 0,l,ve.QR_CODE,void 0),f=o.getByteSegments();f!==null&&u.putMetadata(Ge.BYTE_SEGMENTS,f);const g=o.getECLevel();return g!==null&&u.putMetadata(Ge.ERROR_CORRECTION_LEVEL,g),o.hasStructuredAppend()&&(u.putMetadata(Ge.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(Ge.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(n===null||o===null)throw new Z;const l=this.moduleSize(n,e);let u=n[1],f=o[1],g=n[0],y=o[0];if(g>=y||u>=f)throw new Z;if(f-u!==y-g&&(y=g+(f-u),y>=e.getWidth()))throw new Z;const v=Math.round((y-g+1)/l),b=Math.round((f-u+1)/l);if(v<=0||b<=0)throw new Z;if(b!==v)throw new Z;const M=Math.floor(l/2);u+=M,g+=M;const P=g+Math.floor((v-1)*l)-y;if(P>0){if(P>M)throw new Z;g-=P}const U=u+Math.floor((b-1)*l)-f;if(U>0){if(U>M)throw new Z;u-=U}const G=new be(v,b);for(let X=0;X<b;X++){const $=u+Math.floor(X*l);for(let se=0;se<v;se++)e.get(g+Math.floor(se*l),$)&&G.set(se,X)}return G}static moduleSize(e,n){const o=n.getHeight(),l=n.getWidth();let u=e[0],f=e[1],g=!0,y=0;for(;u<l&&f<o;){if(g!==n.get(u,f)){if(++y===5)break;g=!g}u++,f++}if(u===l||f===o)throw new Z;return(u-e[0])/7}}On.NO_POINTS=new Array;class Qe{PDF417Common(){}static getBitCountSum(e){return lt.sum(e)}static toIntArray(e){if(e==null||!e.length)return Qe.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let o=0;for(const l of e)n[o++]=l;return n}static getCodeword(e){const n=H.binarySearch(Qe.SYMBOL_TABLE,e&262143);return n<0?-1:(Qe.CODEWORD_TABLE[n]-1)%Qe.NUMBER_OF_CODEWORDS}}Qe.NUMBER_OF_CODEWORDS=929,Qe.MAX_CODEWORDS_IN_BARCODE=Qe.NUMBER_OF_CODEWORDS-1,Qe.MIN_ROWS_IN_BARCODE=3,Qe.MAX_ROWS_IN_BARCODE=90,Qe.MODULES_IN_CODEWORD=17,Qe.MODULES_IN_STOP_PATTERN=18,Qe.BARS_IN_MODULE=8,Qe.EMPTY_INT_ARRAY=new Int32Array([]),Qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class tl{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class tt{static detectMultiple(e,n,o){let l=e.getBlackMatrix(),u=tt.detect(o,l);return u.length||(l=l.clone(),l.rotate180(),u=tt.detect(o,l)),new tl(l,u)}static detect(e,n){const o=new Array;let l=0,u=0,f=!1;for(;l<n.getHeight();){const g=tt.findVertices(n,l,u);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,u=0;for(const y of o)y[1]!=null&&(l=Math.trunc(Math.max(l,y[1].getY()))),y[3]!=null&&(l=Math.max(l,Math.trunc(y[3].getY())));l+=tt.ROW_STEP;continue}if(f=!0,o.push(g),!e)break;g[2]!=null?(u=Math.trunc(g[2].getX()),l=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY()))}return o}static findVertices(e,n,o){const l=e.getHeight(),u=e.getWidth(),f=new Array(8);return tt.copyToResult(f,tt.findRowsWithPattern(e,l,u,n,o,tt.START_PATTERN),tt.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),n=Math.trunc(f[4].getY())),tt.copyToResult(f,tt.findRowsWithPattern(e,l,u,n,o,tt.STOP_PATTERN),tt.INDEXES_STOP_PATTERN),f}static copyToResult(e,n,o){for(let l=0;l<o.length;l++)e[o[l]]=n[l]}static findRowsWithPattern(e,n,o,l,u,f){const g=new Array(4);let y=!1;const v=new Int32Array(f.length);for(;l<n;l+=tt.ROW_STEP){let M=tt.findGuardPattern(e,u,l,o,!1,f,v);if(M!=null){for(;l>0;){const P=tt.findGuardPattern(e,u,--l,o,!1,f,v);if(P!=null)M=P;else{l++;break}}g[0]=new Ee(M[0],l),g[1]=new Ee(M[1],l),y=!0;break}}let b=l+1;if(y){let M=0,P=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;b<n;b++){const U=tt.findGuardPattern(e,P[0],b,o,!1,f,v);if(U!=null&&Math.abs(P[0]-U[0])<tt.MAX_PATTERN_DRIFT&&Math.abs(P[1]-U[1])<tt.MAX_PATTERN_DRIFT)P=U,M=0;else{if(M>tt.SKIPPED_ROW_COUNT_MAX)break;M++}}b-=M+1,g[2]=new Ee(P[0],b),g[3]=new Ee(P[1],b)}return b-l<tt.BARCODE_MIN_HEIGHT&&H.fill(g,null),g}static findGuardPattern(e,n,o,l,u,f,g){H.fillWithin(g,0,g.length,0);let y=n,v=0;for(;e.get(y,o)&&y>0&&v++<tt.MAX_PIXEL_DRIFT;)y--;let b=y,M=0,P=f.length;for(let U=u;b<l;b++)if(e.get(b,o)!==U)g[M]++;else{if(M===P-1){if(tt.patternMatchVariance(g,f,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return new Int32Array([y,b]);y+=g[0]+g[1],F.arraycopy(g,2,g,0,M-1),g[M-1]=0,g[M]=0,M--}else M++;g[M]=1,U=!U}return M===P-1&&tt.patternMatchVariance(g,f,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE?new Int32Array([y,b-1]):null}static patternMatchVariance(e,n,o){let l=e.length,u=0,f=0;for(let v=0;v<l;v++)u+=e[v],f+=n[v];if(u<f)return 1/0;let g=u/f;o*=g;let y=0;for(let v=0;v<l;v++){let b=e[v],M=n[v]*g,P=b>M?b-M:M-b;if(P>o)return 1/0;y+=P}return y/u}}tt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),tt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),tt.MAX_AVG_VARIANCE=.42,tt.MAX_INDIVIDUAL_VARIANCE=.8,tt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),tt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),tt.MAX_PIXEL_DRIFT=3,tt.MAX_PATTERN_DRIFT=5,tt.SKIPPED_ROW_COUNT_MAX=25,tt.ROW_STEP=5,tt.BARCODE_MIN_HEIGHT=10;class Cn{constructor(e,n){if(n.length===0)throw new T;this.field=e;let o=n.length;if(o>1&&n[0]===0){let l=1;for(;l<o&&n[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),F.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let n=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,o=e.coefficients;if(n.length>o.length){let f=n;n=o,o=f}let l=new Int32Array(o.length),u=o.length-n.length;F.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=this.field.add(n[f-u],o[f]);return new Cn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Cn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Cn(this.field,new Int32Array([0]));let n=this.coefficients,o=n.length,l=e.coefficients,u=l.length,f=new Int32Array(o+u-1);for(let g=0;g<o;g++){let y=n[g];for(let v=0;v<u;v++)f[g+v]=this.field.add(f[g+v],this.field.multiply(y,l[v]))}return new Cn(this.field,f)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let o=0;o<e;o++)n[o]=this.field.subtract(0,this.coefficients[o]);return new Cn(this.field,n)}multiplyScalar(e){if(e===0)return new Cn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,o=new Int32Array(n);for(let l=0;l<n;l++)o[l]=this.field.multiply(this.coefficients[l],e);return new Cn(this.field,o)}multiplyByMonomial(e,n){if(e<0)throw new T;if(n===0)return new Cn(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+e);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],n);return new Cn(this.field,l)}toString(){let e=new je;for(let n=this.getDegree();n>=0;n--){let o=this.getCoefficient(n);o!==0&&(o<0?(e.append(" - "),o=-o):e.length()>0&&e.append(" + "),(n===0||o!==1)&&e.append(o),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class nl{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}inverse(e){if(e===0)throw new Ur;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ui extends nl{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let o=1;for(let l=0;l<e;l++)this.expTable[l]=o,o=o*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Cn(this,new Int32Array([0])),this.one=new Cn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new T;if(n===0)return this.zero;let o=new Int32Array(e+1);return o[0]=n,new Cn(this,o)}}Ui.PDF417_GF=new Ui(Qe.NUMBER_OF_CODEWORDS,3);class Wo{constructor(){this.field=Ui.PDF417_GF}decode(e,n,o){let l=new Cn(this.field,e),u=new Int32Array(n),f=!1;for(let G=n;G>0;G--){let X=l.evaluateAt(this.field.exp(G));u[n-G]=X,X!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(o!=null)for(const G of o){let X=this.field.exp(e.length-1-G),$=new Cn(this.field,new Int32Array([this.field.subtract(0,X),1]));g=g.multiply($)}let y=new Cn(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),b=v[0],M=v[1],P=this.findErrorLocations(b),U=this.findErrorMagnitudes(M,b,P);for(let G=0;G<P.length;G++){let X=e.length-1-this.field.log(P[G]);if(X<0)throw O.getChecksumInstance();e[X]=this.field.subtract(e[X],U[G])}return P.length}runEuclideanAlgorithm(e,n,o){if(e.getDegree()<n.getDegree()){let P=e;e=n,n=P}let l=e,u=n,f=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let P=l,U=f;if(l=u,f=g,l.isZero())throw O.getChecksumInstance();u=P;let G=this.field.getZero(),X=l.getCoefficient(l.getDegree()),$=this.field.inverse(X);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let se=u.getDegree()-l.getDegree(),we=this.field.multiply(u.getCoefficient(u.getDegree()),$);G=G.add(this.field.buildMonomial(se,we)),u=u.subtract(l.multiplyByMonomial(se,we))}g=G.multiply(f).subtract(U).negative()}let y=g.getCoefficient(0);if(y===0)throw O.getChecksumInstance();let v=this.field.inverse(y),b=g.multiply(v),M=u.multiply(v);return[b,M]}findErrorLocations(e){let n=e.getDegree(),o=new Int32Array(n),l=0;for(let u=1;u<this.field.getSize()&&l<n;u++)e.evaluateAt(u)===0&&(o[l]=this.field.inverse(u),l++);if(l!==n)throw O.getChecksumInstance();return o}findErrorMagnitudes(e,n,o){let l=n.getDegree(),u=new Int32Array(l);for(let v=1;v<=l;v++)u[l-v]=this.field.multiply(v,n.getCoefficient(v));let f=new Cn(this.field,u),g=o.length,y=new Int32Array(g);for(let v=0;v<g;v++){let b=this.field.inverse(o[v]),M=this.field.subtract(0,e.evaluateAt(b)),P=this.field.inverse(f.evaluateAt(b));y[v]=this.field.multiply(M,P)}return y}}class yi{constructor(e,n,o,l,u){e instanceof yi?this.constructor_2(e):this.constructor_1(e,n,o,l,u)}constructor_1(e,n,o,l,u){const f=n==null||o==null,g=l==null||u==null;if(f&&g)throw new Z;f?(n=new Ee(0,l.getY()),o=new Ee(0,u.getY())):g&&(l=new Ee(e.getWidth()-1,n.getY()),u=new Ee(e.getWidth()-1,o.getY())),this.image=e,this.topLeft=n,this.bottomLeft=o,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(n.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new yi(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,o){let l=this.topLeft,u=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(e>0){let y=o?this.topLeft:this.topRight,v=Math.trunc(y.getY()-e);v<0&&(v=0);let b=new Ee(y.getX(),v);o?l=b:f=b}if(n>0){let y=o?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let b=new Ee(y.getX(),v);o?u=b:g=b}return new yi(this.image,l,u,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class xs{constructor(e,n,o,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=o,this.rowCount=n+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Vr{constructor(){this.buffer=""}static form(e,n){let o=-1;function l(f,g,y,v,b,M){if(f==="%%")return"%";if(n[++o]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let P=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=n[o];break;case"c":U=n[o][0];break;case"f":U=parseFloat(n[o]).toFixed(f);break;case"p":U=parseFloat(n[o]).toPrecision(f);break;case"e":U=parseFloat(n[o]).toExponential(f);break;case"x":U=parseInt(n[o]).toString(P||16);break;case"d":U=parseFloat(parseInt(n[o],P||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(P);let G=parseInt(y),X=y&&y[0]+""=="0"?"0":" ";for(;U.length<G;)U=g!==void 0?U+X:X+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}format(e,...n){this.buffer+=Vr.form(e,n)}toString(){return this.buffer}}class Rr{constructor(e){this.boundingBox=new yi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let o=1;o<Rr.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(e)-o;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+o,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Vr;let n=0;for(const o of this.codewords){if(o==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,o.getRowNumber(),o.getValue())}return e.toString()}}Rr.MAX_NEARBY_DISTANCE=5;class ni{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[o,l]of this.values.entries()){const u={getKey:()=>o,getValue:()=>l};u.getValue()>e?(e=u.getValue(),n=[],n.push(u.getKey())):u.getValue()===e&&n.push(u.getKey())}return Qe.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class rl extends Rr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=-1,v=1,b=0;for(let M=f;M<g;M++){if(n[M]==null)continue;let P=n[M],U=P.getRowNumber()-y;if(U===0)b++;else if(U===1)v=Math.max(v,b),b=1,y=P.getRowNumber();else if(U<0||P.getRowNumber()>=e.getRowCount()||U>M)n[M]=null;else{let G;v>2?G=(v-2)*U:G=U;let X=G>=M;for(let $=1;$<=G&&!X;$++)X=n[M-$]!=null;X?n[M]=null:(y=P.getRowNumber(),b=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),o=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.getCodewords(),y=-1;for(let v=u;v<f;v++){if(g[v]==null)continue;let b=g[v];b.setRowNumberAsRowIndicatorColumn();let M=b.getRowNumber()-y;M===0||(M===1?y=b.getRowNumber():b.getRowNumber()>=e.getRowCount()?g[v]=null:y=b.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new ni,o=new ni,l=new ni,u=new ni;for(let g of e){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:o.setValue(y*3+1);break;case 1:u.setValue(y/3),l.setValue(y%3);break;case 2:n.setValue(y+1);break}}if(n.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||n.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Qe.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Qe.MAX_ROWS_IN_BARCODE)return null;let f=new xs(n.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(e,f),f}removeIncorrectCodewords(e,n){for(let o=0;o<e.length;o++){let l=e[o];if(e[o]==null)continue;let u=l.getValue()%30,f=l.getRowNumber();if(f>n.getRowCount()){e[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==n.getRowCountUpperPart()&&(e[o]=null);break;case 1:(Math.trunc(u/3)!==n.getErrorCorrectionLevel()||u%3!==n.getRowCountLowerPart())&&(e[o]=null);break;case 2:u+1!==n.getColumnCount()&&(e[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ys{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Qe.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let o=this.detectionResultColumns[n].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,o))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<e.length;o++)if(e[o]!=null&&n[o]!=null&&e[o].getRowNumber()===n[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[o];u!=null&&(u.setRowNumber(e[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++){if(n[o]==null)continue;let l=n[o].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[o];g!=null&&(u=ys.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let o=0;o<n.length;o++){if(n[o]==null)continue;let l=n[o].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[o];g!=null&&(u=ys.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(e)?(o.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,o){if(!this.detectionResultColumns[e-1])return;let l=o[n],u=this.detectionResultColumns[e-1].getCodewords(),f=u;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());let g=new Array(14);g[2]=u[n],g[3]=f[n],n>0&&(g[0]=o[n-1],g[4]=u[n-1],g[5]=f[n-1]),n>1&&(g[8]=o[n-2],g[10]=u[n-2],g[11]=f[n-2]),n<o.length-1&&(g[1]=o[n+1],g[6]=u[n+1],g[7]=f[n+1]),n<o.length-2&&(g[9]=o[n+2],g[12]=u[n+2],g[13]=f[n+2]);for(let y of g)if(ys.adjustRowNumber(l,y))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Vr;for(let o=0;o<e.getCodewords().length;o++){n.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[o];if(u==null){n.format("    |   ");continue}n.format(" %3d|%3d",u.getRowNumber(),u.getValue())}n.format("%n")}return n.toString()}}class wi{constructor(e,n,o,l){this.rowNumber=wi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==wi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}wi.BARCODE_ROW_UNKNOWN=-1;class vn{static initialize(){for(let e=0;e<Qe.SYMBOL_TABLE.length;e++){let n=Qe.SYMBOL_TABLE[e],o=n&1;for(let l=0;l<Qe.BARS_IN_MODULE;l++){let u=0;for(;(n&1)===o;)u+=1,n>>=1;o=n&1,vn.RATIOS_TABLE[e]||(vn.RATIOS_TABLE[e]=new Array(Qe.BARS_IN_MODULE)),vn.RATIOS_TABLE[e][Qe.BARS_IN_MODULE-l-1]=Math.fround(u/Qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=vn.getDecodedCodewordValue(vn.sampleBitCounts(e));return n!==-1?n:vn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=lt.sum(e),o=new Int32Array(Qe.BARS_IN_MODULE),l=0,u=0;for(let f=0;f<Qe.MODULES_IN_CODEWORD;f++){let g=n/(2*Qe.MODULES_IN_CODEWORD)+f*n/Qe.MODULES_IN_CODEWORD;u+e[l]<=g&&(u+=e[l],l++),o[l]++}return o}static getDecodedCodewordValue(e){let n=vn.getBitValue(e);return Qe.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let o=0;o<e.length;o++)for(let l=0;l<e[o];l++)n=n<<1|(o%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=lt.sum(e),o=new Array(Qe.BARS_IN_MODULE);if(n>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(e[f]/n);let l=_n.MAX_VALUE,u=-1;this.bSymbolTableReady||vn.initialize();for(let f=0;f<vn.RATIOS_TABLE.length;f++){let g=0,y=vn.RATIOS_TABLE[f];for(let v=0;v<Qe.BARS_IN_MODULE;v++){let b=Math.fround(y[v]-o[v]);if(g+=Math.fround(b*b),g>=l)break}g<l&&(l=g,u=Qe.SYMBOL_TABLE[f])}return u}}vn.bSymbolTableReady=!1,vn.RATIOS_TABLE=new Array(Qe.SYMBOL_TABLE.length).map(R=>new Array(Qe.BARS_IN_MODULE));class Ks{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ho{static parseLong(e,n=void 0){return parseInt(e,n)}}class Wr extends x{}Wr.kind="NullPointerException";class Go{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,o){if(e==null)throw new Wr;if(n<0||n>e.length||o<0||n+o>e.length||n+o<0)throw new B;if(o===0)return;for(let l=0;l<o;l++)this.write(e[n+l])}flush(){}close(){}}class Qs extends x{}class il extends Go{constructor(e=32){if(super(),this.count=0,e<0)throw new T("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let o=this.buf.length<<1;if(o-e<0&&(o=e),o<0){if(e<0)throw new Qs;o=V.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,o)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,o){if(n<0||n>e.length||o<0||n+o-e.length>0)throw new B;this.ensureCapacity(this.count+o),F.arraycopy(e,n,this.buf,this.count,o),this.count+=o}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Et;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Et||(Et={}));function ws(){if(typeof window<"u")return window.BigInt||null;if(typeof tu<"u")return tu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Cs;function on(R){if(typeof Cs>"u"&&(Cs=ws()),Cs===null)throw new Error("BigInt is not supported!");return Cs(R)}function zi(){let R=[];R[0]=on(1);let e=on(900);R[1]=e;for(let n=2;n<16;n++)R[n]=R[n-1]*e;return R}class oe{static decode(e,n){let o=new je(""),l=ne.ISO8859_1;o.enableDecoding(l);let u=1,f=e[u++],g=new Ks;for(;u<e[0];){switch(f){case oe.TEXT_COMPACTION_MODE_LATCH:u=oe.textCompaction(e,u,o);break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:u=oe.byteCompaction(f,e,l,u,o);break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[u++]);break;case oe.NUMERIC_COMPACTION_MODE_LATCH:u=oe.numericCompaction(e,u,o);break;case oe.ECI_CHARSET:ne.getCharacterSetECIByValue(e[u++]);break;case oe.ECI_GENERAL_PURPOSE:u+=2;break;case oe.ECI_USER_DEFINED:u++;break;case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=oe.decodeMacroBlock(e,u,g);break;case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:throw new q;default:u--,u=oe.textCompaction(e,u,o);break}if(u<e.length)f=e[u++];else throw q.getFormatInstance()}if(o.length()===0)throw q.getFormatInstance();let y=new et(null,o.toString(),null,n);return y.setOther(g),y}static decodeMacroBlock(e,n,o){if(n+oe.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw q.getFormatInstance();let l=new Int32Array(oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<oe.NUMBER_OF_SEQUENCE_CODEWORDS;g++,n++)l[g]=e[n];o.setSegmentIndex(V.parseInt(oe.decodeBase900toBase10(l,oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new je;n=oe.textCompaction(e,n,u),o.setFileId(u.toString());let f=-1;for(e[n]===oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=n+1);n<e[0];)switch(e[n]){case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new je;n=oe.textCompaction(e,n+1,g),o.setFileName(g.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new je;n=oe.textCompaction(e,n+1,y),o.setSender(y.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new je;n=oe.textCompaction(e,n+1,v),o.setAddressee(v.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new je;n=oe.numericCompaction(e,n+1,b),o.setSegmentCount(V.parseInt(b.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let M=new je;n=oe.numericCompaction(e,n+1,M),o.setTimestamp(Ho.parseLong(M.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new je;n=oe.numericCompaction(e,n+1,P),o.setChecksum(V.parseInt(P.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new je;n=oe.numericCompaction(e,n+1,U),o.setFileSize(Ho.parseLong(U.toString()));break;default:throw q.getFormatInstance()}break;case oe.MACRO_PDF417_TERMINATOR:n++,o.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(f!==-1){let g=n-f;o.isLastSegment()&&g--,o.setOptionalData(H.copyOfRange(e,f,f+g))}return n}static textCompaction(e,n,o){let l=new Int32Array((e[0]-n)*2),u=new Int32Array((e[0]-n)*2),f=0,g=!1;for(;n<e[0]&&!g;){let y=e[n++];if(y<oe.TEXT_COMPACTION_MODE_LATCH)l[f]=y/30,l[f+1]=y%30,f+=2;else switch(y){case oe.TEXT_COMPACTION_MODE_LATCH:l[f++]=oe.TEXT_COMPACTION_MODE_LATCH;break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,g=!0;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=e[n++],u[f]=y,f++;break}}return oe.decodeTextCompaction(l,u,f,o),n}static decodeTextCompaction(e,n,o,l){let u=Et.ALPHA,f=Et.ALPHA,g=0;for(;g<o;){let y=e[g],v="";switch(u){case Et.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case oe.LL:u=Et.LOWER;break;case oe.ML:u=Et.MIXED;break;case oe.PS:f=u,u=Et.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Et.ALPHA;break}break;case Et.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case oe.AS:f=u,u=Et.ALPHA_SHIFT;break;case oe.ML:u=Et.MIXED;break;case oe.PS:f=u,u=Et.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Et.ALPHA;break}break;case Et.MIXED:if(y<oe.PL)v=oe.MIXED_CHARS[y];else switch(y){case oe.PL:u=Et.PUNCT;break;case 26:v=" ";break;case oe.LL:u=Et.LOWER;break;case oe.AL:u=Et.ALPHA;break;case oe.PS:f=u,u=Et.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Et.ALPHA;break}break;case Et.PUNCT:if(y<oe.PAL)v=oe.PUNCT_CHARS[y];else switch(y){case oe.PAL:u=Et.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Et.ALPHA;break}break;case Et.ALPHA_SHIFT:if(u=f,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Et.ALPHA;break}break;case Et.PUNCT_SHIFT:if(u=f,y<oe.PAL)v=oe.PUNCT_CHARS[y];else switch(y){case oe.PAL:u=Et.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Et.ALPHA;break}break}v!==""&&l.append(v),g++}}static byteCompaction(e,n,o,l,u){let f=new il,g=0,y=0,v=!1;switch(e){case oe.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),M=n[l++];for(;l<n[0]&&!v;)switch(b[g++]=M,y=900*y+M,M=n[l++],M){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(g%5===0&&g>0){for(let P=0;P<6;++P)f.write(Number(on(y)>>on(8*(5-P))));y=0,g=0}break}l===n[0]&&M<oe.TEXT_COMPACTION_MODE_LATCH&&(b[g++]=M);for(let P=0;P<g;P++)f.write(b[P]);break;case oe.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!v;){let P=n[l++];if(P<oe.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+P;else switch(P){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(g%5===0&&g>0){for(let U=0;U<6;++U)f.write(Number(on(y)>>on(8*(5-U))));y=0,g=0}}break}return u.append(Ue.decode(f.toByteArray(),o)),l}static numericCompaction(e,n,o){let l=0,u=!1,f=new Int32Array(oe.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!u;){let g=e[n++];if(n===e[0]&&(u=!0),g<oe.TEXT_COMPACTION_MODE_LATCH)f[l]=g,l++;else switch(g){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,u=!0;break}(l%oe.MAX_NUMERIC_CODEWORDS===0||g===oe.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(o.append(oe.decodeBase900toBase10(f,l)),l=0)}return n}static decodeBase900toBase10(e,n){let o=on(0);for(let u=0;u<n;u++)o+=oe.EXP900[n-u-1]*on(e[u]);let l=o.toString();if(l.charAt(0)!=="1")throw new q;return l.substring(1)}}oe.TEXT_COMPACTION_MODE_LATCH=900,oe.BYTE_COMPACTION_MODE_LATCH=901,oe.NUMERIC_COMPACTION_MODE_LATCH=902,oe.BYTE_COMPACTION_MODE_LATCH_6=924,oe.ECI_USER_DEFINED=925,oe.ECI_GENERAL_PURPOSE=926,oe.ECI_CHARSET=927,oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,oe.MACRO_PDF417_TERMINATOR=922,oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,oe.MAX_NUMERIC_CODEWORDS=15,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,oe.PL=25,oe.LL=27,oe.AS=27,oe.ML=28,oe.AL=28,oe.PS=29,oe.PAL=29,oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",oe.EXP900=ws()?zi():[],oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rt{constructor(){}static decode(e,n,o,l,u,f,g){let y=new yi(e,n,o,l,u),v=null,b=null,M;for(let G=!0;;G=!1){if(n!=null&&(v=rt.getRowIndicatorColumn(e,y,n,!0,f,g)),l!=null&&(b=rt.getRowIndicatorColumn(e,y,l,!1,f,g)),M=rt.merge(v,b),M==null)throw Z.getNotFoundInstance();let X=M.getBoundingBox();if(G&&X!=null&&(X.getMinY()<y.getMinY()||X.getMaxY()>y.getMaxY()))y=X;else break}M.setBoundingBox(y);let P=M.getBarcodeColumnCount()+1;M.setDetectionResultColumn(0,v),M.setDetectionResultColumn(P,b);let U=v!=null;for(let G=1;G<=P;G++){let X=U?G:P-G;if(M.getDetectionResultColumn(X)!==void 0)continue;let $;X===0||X===P?$=new rl(y,X===0):$=new Rr(y),M.setDetectionResultColumn(X,$);let se=-1,we=se;for(let Ce=y.getMinY();Ce<=y.getMaxY();Ce++){if(se=rt.getStartColumn(M,X,Ce,U),se<0||se>y.getMaxX()){if(we===-1)continue;se=we}let me=rt.detectCodeword(e,y.getMinX(),y.getMaxX(),U,se,Ce,f,g);me!=null&&($.setCodeword(Ce,me),we=se,f=Math.min(f,me.getWidth()),g=Math.max(g,me.getWidth()))}}return rt.createDecoderResult(M)}static merge(e,n){if(e==null&&n==null)return null;let o=rt.getBarcodeMetadata(e,n);if(o==null)return null;let l=yi.merge(rt.adjustBoundingBox(e),rt.adjustBoundingBox(n));return new ys(o,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let o=rt.getMax(n),l=0;for(let g of n)if(l+=o-g,g>0)break;let u=e.getCodewords();for(let g=0;l>0&&u[g]==null;g++)l--;let f=0;for(let g=n.length-1;g>=0&&(f+=o-n[g],!(n[g]>0));g--);for(let g=u.length-1;f>0&&u[g]==null;g--)f--;return e.getBoundingBox().addMissingRows(l,f,e.isLeft())}static getMax(e){let n=-1;for(let o of e)n=Math.max(n,o);return n}static getBarcodeMetadata(e,n){let o;if(e==null||(o=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(e,n,o,l,u,f){let g=new rl(n,l);for(let y=0;y<2;y++){let v=y===0?1:-1,b=Math.trunc(Math.trunc(o.getX()));for(let M=Math.trunc(Math.trunc(o.getY()));M<=n.getMaxY()&&M>=n.getMinY();M+=v){let P=rt.detectCodeword(e,0,e.getWidth(),l,b,M,u,f);P!=null&&(g.setCodeword(M,P),l?b=P.getStartX():b=P.getEndX())}}return g}static adjustCodewordCount(e,n){let o=n[0][1],l=o.getValue(),u=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-rt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(u<1||u>Qe.MAX_CODEWORDS_IN_BARCODE)throw Z.getNotFoundInstance();o.setValue(u)}else l[0]!==u&&o.setValue(u)}static createDecoderResult(e){let n=rt.createBarcodeMatrix(e);rt.adjustCodewordCount(e,n);let o=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),u=[],f=new Array;for(let y=0;y<e.getBarcodeRowCount();y++)for(let v=0;v<e.getBarcodeColumnCount();v++){let b=n[y][v+1].getValue(),M=y*e.getBarcodeColumnCount()+v;b.length===0?o.push(M):b.length===1?l[M]=b[0]:(f.push(M),u.push(b))}let g=new Array(u.length);for(let y=0;y<g.length;y++)g[y]=u[y];return rt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,Qe.toIntArray(o),Qe.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(e,n,o,l,u){let f=new Int32Array(l.length),g=100;for(;g-- >0;){for(let y=0;y<f.length;y++)n[l[y]]=u[y][f[y]];try{return rt.decodeCodewords(n,e,o)}catch(y){if(!(y instanceof O))throw y}if(f.length===0)throw O.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<u[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let u=0;u<n[l].length;u++)n[l][u]=new ni;let o=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=n.length)continue;n[f][o].setValue(u.getValue())}}}o++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,o,l){let u=l?1:-1,f=null;if(rt.isValidBarcodeColumn(e,n-u)&&(f=e.getDetectionResultColumn(n-u).getCodeword(o)),f!=null)return l?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(n).getCodewordNearby(o),f!=null)return l?f.getStartX():f.getEndX();if(rt.isValidBarcodeColumn(e,n-u)&&(f=e.getDetectionResultColumn(n-u).getCodewordNearby(o)),f!=null)return l?f.getEndX():f.getStartX();let g=0;for(;rt.isValidBarcodeColumn(e,n-u);){n-=u;for(let y of e.getDetectionResultColumn(n).getCodewords())if(y!=null)return(l?y.getEndX():y.getStartX())+u*g*(y.getEndX()-y.getStartX());g++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,o,l,u,f,g,y){u=rt.adjustCodewordStartColumn(e,n,o,l,u,f);let v=rt.getModuleBitCount(e,n,o,l,u,f);if(v==null)return null;let b,M=lt.sum(v);if(l)b=u+M;else{for(let G=0;G<v.length/2;G++){let X=v[G];v[G]=v[v.length-1-G],v[v.length-1-G]=X}b=u,u=b-M}if(!rt.checkCodewordSkew(M,g,y))return null;let P=vn.getDecodedValue(v),U=Qe.getCodeword(P);return U===-1?null:new wi(u,b,rt.getCodewordBucketNumber(P),U)}static getModuleBitCount(e,n,o,l,u,f){let g=u,y=new Int32Array(8),v=0,b=l?1:-1,M=l;for(;(l?g<o:g>=n)&&v<y.length;)e.get(g,f)===M?(y[v]++,g+=b):(v++,M=!M);return v===y.length||g===(l?o:n)&&v===y.length-1?y:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,o,l,u,f){let g=u,y=l?-1:1;for(let v=0;v<2;v++){for(;(l?g>=n:g<o)&&l===e.get(g,f);){if(Math.abs(u-g)>rt.CODEWORD_SKEW_SIZE)return u;g+=y}y=-y,l=!l}return g}static checkCodewordSkew(e,n,o){return n-rt.CODEWORD_SKEW_SIZE<=e&&e<=o+rt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,o){if(e.length===0)throw q.getFormatInstance();let l=1<<n+1,u=rt.correctErrors(e,o,l);rt.verifyCodewordCount(e,l);let f=oe.decode(e,""+n);return f.setErrorsCorrected(u),f.setErasures(o.length),f}static correctErrors(e,n,o){if(n!=null&&n.length>o/2+rt.MAX_ERRORS||o<0||o>rt.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return rt.errorCorrection.decode(e,o,n)}static verifyCodewordCount(e,n){if(e.length<4)throw q.getFormatInstance();let o=e[0];if(o>e.length)throw q.getFormatInstance();if(o===0)if(n<e.length)e[0]=e.length-n;else throw q.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),o=0,l=n.length-1;for(;!((e&1)!==o&&(o=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return rt.getCodewordBucketNumber(rt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Vr;for(let o=0;o<e.length;o++){n.format("Row %2d: ",o);for(let l=0;l<e[o].length;l++){let u=e[o][l];u.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}n.format("%n")}return n.toString()}}rt.CODEWORD_SKEW_SIZE=2,rt.MAX_ERRORS=3,rt.MAX_EC_CODEWORDS=512,rt.errorCorrection=new Wo;class En{decode(e,n=null){let o=En.decode(e,n,!1);if(o==null||o.length===0||o[0]==null)throw Z.getNotFoundInstance();return o[0]}decodeMultiple(e,n=null){try{return En.decode(e,n,!0)}catch(o){throw o instanceof q||o instanceof O?Z.getNotFoundInstance():o}}static decode(e,n,o){const l=new Array,u=tt.detectMultiple(e,n,o);for(const f of u.getPoints()){const g=rt.decode(u.getBits(),f[4],f[5],f[6],f[7],En.getMinCodewordWidth(f),En.getMaxCodewordWidth(f)),y=new Be(g.getText(),g.getRawBytes(),void 0,f,ve.PDF_417);y.putMetadata(Ge.ERROR_CORRECTION_LEVEL,g.getECLevel());const v=g.getOther();v!=null&&y.putMetadata(Ge.PDF417_EXTRA_METADATA,v),l.push(y)}return l.map(f=>f)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?V.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(En.getMaxWidth(e[0],e[4]),En.getMaxWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.max(En.getMaxWidth(e[1],e[5]),En.getMaxWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(En.getMinWidth(e[0],e[4]),En.getMinWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.min(En.getMinWidth(e[1],e[5]),En.getMinWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Vi extends x{}Vi.kind="ReaderException";class $s{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!c(e)&&e.get(ue.TRY_HARDER)===!0,o=c(e)?null:e.get(ue.POSSIBLE_FORMATS),l=new Array;if(!c(o)){const u=o.some(f=>f===ve.UPC_A||f===ve.UPC_E||f===ve.EAN_13||f===ve.EAN_8||f===ve.CODABAR||f===ve.CODE_39||f===ve.CODE_93||f===ve.CODE_128||f===ve.ITF||f===ve.RSS_14||f===ve.RSS_EXPANDED);u&&!n&&l.push(new Bi(e,this.verbose)),o.includes(ve.QR_CODE)&&l.push(new On),o.includes(ve.DATA_MATRIX)&&l.push(new gr),o.includes(ve.AZTEC)&&l.push(new ct),o.includes(ve.PDF_417)&&l.push(new En),u&&n&&l.push(new Bi(e,this.verbose))}l.length===0&&(n||l.push(new Bi(e,this.verbose)),l.push(new On),l.push(new gr),l.push(new ct),l.push(new En),n&&l.push(new Bi(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Vi("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(o){if(o instanceof Vi)continue}throw new Z("No MultiFormat Readers were able to detect the code.")}}class vs extends Re{constructor(e=null,n=500){const o=new $s;o.setHints(e),super(o,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class qs extends Re{constructor(e=500){super(new En,e)}}class sl extends Re{constructor(e=500){super(new On,e)}}var Yo;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(Yo||(Yo={}));var dn=Yo;class Xo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Ht(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let o=n[n.length-1];const l=this.field;for(let u=n.length;u<=e;u++){const f=o.multiply(new Ht(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));n.push(f),o=f}}return n[e]}encode(e,n){if(n===0)throw new T("No error correction bytes");const o=e.length-n;if(o<=0)throw new T("No data bytes provided");const l=this.buildGenerator(n),u=new Int32Array(o);F.arraycopy(e,0,u,0,o);let f=new Ht(this.field,u);f=f.multiplyByMonomial(n,1);const y=f.divide(l)[1].getCoefficients(),v=n-y.length;for(let b=0;b<v;b++)e[o+b]=0;F.arraycopy(y,0,e,o+v,y.length)}}class zt{constructor(){}static applyMaskPenaltyRule1(e){return zt.applyMaskPenaltyRule1Internal(e,!0)+zt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let f=0;f<u-1;f++){const g=o[f];for(let y=0;y<l-1;y++){const v=g[y];v===g[y+1]&&v===o[f+1][y]&&v===o[f+1][y+1]&&n++}}return zt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let f=0;f<u;f++)for(let g=0;g<l;g++){const y=o[f];g+6<l&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(zt.isWhiteHorizontal(y,g-4,g)||zt.isWhiteHorizontal(y,g+7,g+11))&&n++,f+6<u&&o[f][g]===1&&o[f+1][g]===0&&o[f+2][g]===1&&o[f+3][g]===1&&o[f+4][g]===1&&o[f+5][g]===0&&o[f+6][g]===1&&(zt.isWhiteVertical(o,g,f-4,f)||zt.isWhiteVertical(o,g,f+7,f+11))&&n++}return n*zt.N3}static isWhiteHorizontal(e,n,o){n=Math.max(n,0),o=Math.min(o,e.length);for(let l=n;l<o;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,o,l){o=Math.max(o,0),l=Math.min(l,e.length);for(let u=o;u<l;u++)if(e[u][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let y=0;y<u;y++){const v=o[y];for(let b=0;b<l;b++)v[b]===1&&n++}const f=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-f)*10/f)*zt.N4}static getDataMaskBit(e,n,o){let l,u;switch(e){case 0:l=o+n&1;break;case 1:l=o&1;break;case 2:l=n%3;break;case 3:l=(o+n)%3;break;case 4:l=Math.floor(o/2)+Math.floor(n/3)&1;break;case 5:u=o*n,l=(u&1)+u%3;break;case 6:u=o*n,l=(u&1)+u%3&1;break;case 7:u=o*n,l=u%3+(o+n&1)&1;break;default:throw new T("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let o=0;const l=n?e.getHeight():e.getWidth(),u=n?e.getWidth():e.getHeight(),f=e.getArray();for(let g=0;g<l;g++){let y=0,v=-1;for(let b=0;b<u;b++){const M=n?f[g][b]:f[b][g];M===v?y++:(y>=5&&(o+=zt.N1+(y-5)),y=1,v=M)}y>=5&&(o+=zt.N1+(y-5))}return o}}zt.N1=3,zt.N2=3,zt.N3=40,zt.N4=10;class Js{constructor(e,n){this.width=e,this.height=n;const o=new Array(n);for(let l=0;l!==n;l++)o[l]=new Uint8Array(e);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,o){this.bytes[n][e]=o}setBoolean(e,n,o){this.bytes[n][e]=o?1:0}clear(e){for(const n of this.bytes)H.fill(n,e)}equals(e){if(!(e instanceof Js))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o],f=n.bytes[o];for(let g=0,y=this.width;g<y;++g)if(u[g]!==f[g])return!1}return!0}toString(){const e=new je;for(let n=0,o=this.height;n<o;++n){const l=this.bytes[n];for(let u=0,f=this.width;u<f;++u)switch(l[u]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Ci{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new je;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ci.NUM_MASK_PATTERNS}}Ci.NUM_MASK_PATTERNS=8;class Mt extends x{}Mt.kind="WriterException";class Ye{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,o,l,u){Ye.clearMatrix(u),Ye.embedBasicPatterns(o,u),Ye.embedTypeInfo(n,l,u),Ye.maybeEmbedVersionInfo(o,u),Ye.embedDataBits(e,l,u)}static embedBasicPatterns(e,n){Ye.embedPositionDetectionPatternsAndSeparators(n),Ye.embedDarkDotAtLeftBottomCorner(n),Ye.maybeEmbedPositionAdjustmentPatterns(e,n),Ye.embedTimingPatterns(n)}static embedTypeInfo(e,n,o){const l=new re;Ye.makeTypeInfoBits(e,n,l);for(let u=0,f=l.getSize();u<f;++u){const g=l.get(l.getSize()-1-u),y=Ye.TYPE_INFO_COORDINATES[u],v=y[0],b=y[1];if(o.setBoolean(v,b,g),u<8){const M=o.getWidth()-u-1;o.setBoolean(M,8,g)}else{const P=o.getHeight()-7+(u-8);o.setBoolean(8,P,g)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const o=new re;Ye.makeVersionInfoBits(e,o);let l=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const g=o.get(l);l--,n.setBoolean(u,n.getHeight()-11+f,g),n.setBoolean(n.getHeight()-11+f,u,g)}}static embedDataBits(e,n,o){let l=0,u=-1,f=o.getWidth()-1,g=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<o.getHeight();){for(let y=0;y<2;++y){const v=f-y;if(!Ye.isEmpty(o.get(v,g)))continue;let b;l<e.getSize()?(b=e.get(l),++l):b=!1,n!==255&&zt.getDataMaskBit(n,v,g)&&(b=!b),o.setBoolean(v,g,b)}g+=u}u=-u,g+=u,f-=2}if(l!==e.getSize())throw new Mt("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-V.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new T("0 polynomial");const o=Ye.findMSBSet(n);for(e<<=o-1;Ye.findMSBSet(e)>=o;)e^=n<<Ye.findMSBSet(e)-o;return e}static makeTypeInfoBits(e,n,o){if(!Ci.isValidMaskPattern(n))throw new Mt("Invalid mask pattern");const l=e.getBits()<<3|n;o.appendBits(l,5);const u=Ye.calculateBCHCode(l,Ye.TYPE_INFO_POLY);o.appendBits(u,10);const f=new re;if(f.appendBits(Ye.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Mt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const o=Ye.calculateBCHCode(e.getVersionNumber(),Ye.VERSION_INFO_POLY);if(n.appendBits(o,12),n.getSize()!==18)throw new Mt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const o=(n+1)%2;Ye.isEmpty(e.get(n,6))&&e.setNumber(n,6,o),Ye.isEmpty(e.get(6,n))&&e.setNumber(6,n,o)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Mt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,o){for(let l=0;l<8;++l){if(!Ye.isEmpty(o.get(e+l,n)))throw new Mt;o.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,o){for(let l=0;l<7;++l){if(!Ye.isEmpty(o.get(e,n+l)))throw new Mt;o.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,o){for(let l=0;l<5;++l){const u=Ye.POSITION_ADJUSTMENT_PATTERN[l];for(let f=0;f<5;++f)o.setNumber(e+f,n+l,u[f])}}static embedPositionDetectionPattern(e,n,o){for(let l=0;l<7;++l){const u=Ye.POSITION_DETECTION_PATTERN[l];for(let f=0;f<7;++f)o.setNumber(e+f,n+l,u[f])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Ye.POSITION_DETECTION_PATTERN[0].length;Ye.embedPositionDetectionPattern(0,0,e),Ye.embedPositionDetectionPattern(e.getWidth()-n,0,e),Ye.embedPositionDetectionPattern(0,e.getWidth()-n,e);const o=8;Ye.embedHorizontalSeparationPattern(0,o-1,e),Ye.embedHorizontalSeparationPattern(e.getWidth()-o,o-1,e),Ye.embedHorizontalSeparationPattern(0,e.getWidth()-o,e);const l=7;Ye.embedVerticalSeparationPattern(l,0,e),Ye.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Ye.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const o=e.getVersionNumber()-1,l=Ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,f=l.length;u!==f;u++){const g=l[u];if(g>=0)for(let y=0;y!==f;y++){const v=l[y];v>=0&&Ye.isEmpty(n.get(v,g))&&Ye.embedPositionAdjustmentPattern(v-2,g-2,n)}}}}Ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ye.VERSION_INFO_POLY=7973,Ye.TYPE_INFO_POLY=1335,Ye.TYPE_INFO_MASK_PATTERN=21522;class Lu{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(e){return zt.applyMaskPenaltyRule1(e)+zt.applyMaskPenaltyRule2(e)+zt.applyMaskPenaltyRule3(e)+zt.applyMaskPenaltyRule4(e)}static encode(e,n,o=null){let l=Dt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(dn.CHARACTER_SET)!==void 0;u&&(l=o.get(dn.CHARACTER_SET).toString());const f=this.chooseMode(e,l),g=new re;if(f===He.BYTE&&(u||Dt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Ce=ne.getCharacterSetECIByName(l);Ce!==void 0&&this.appendECI(Ce,g)}this.appendModeInfo(f,g);const y=new re;this.appendBytes(e,f,y,l);let v;if(o!==null&&o.get(dn.QR_VERSION)!==void 0){const Ce=Number.parseInt(o.get(dn.QR_VERSION).toString(),10);v=We.getVersionForNumber(Ce);const me=this.calculateBitsNeeded(f,g,y,v);if(!this.willFit(me,v,n))throw new Mt("Data too big for requested version")}else v=this.recommendVersion(n,f,g,y);const b=new re;b.appendBitArray(g);const M=f===He.BYTE?y.getSizeInBytes():e.length;this.appendLengthInfo(M,v,f,b),b.appendBitArray(y);const P=v.getECBlocksForLevel(n),U=v.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(U,b);const G=this.interleaveWithECBytes(b,v.getTotalCodewords(),U,P.getNumBlocks()),X=new Ci;X.setECLevel(n),X.setMode(f),X.setVersion(v);const $=v.getDimensionForVersion(),se=new Js($,$),we=this.chooseMaskPattern(G,n,v,se);return X.setMaskPattern(we),Ye.buildMatrix(G,n,v,we,se),X.setMatrix(se),X}static recommendVersion(e,n,o,l){const u=this.calculateBitsNeeded(n,o,l,We.getVersionForNumber(1)),f=this.chooseVersion(u,e),g=this.calculateBitsNeeded(n,o,l,f);return this.chooseVersion(g,e)}static calculateBitsNeeded(e,n,o,l){return n.getSize()+e.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(e){return e<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(ne.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return He.KANJI;let o=!1,l=!1;for(let u=0,f=e.length;u<f;++u){const g=e.charAt(u);if(Dt.isDigit(g))o=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)l=!0;else return He.BYTE}return l?He.ALPHANUMERIC:o?He.NUMERIC:He.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Ue.encode(e,ne.SJIS)}catch{return!1}const o=n.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const u=n[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(e,n,o,l){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<Ci.NUM_MASK_PATTERNS;g++){Ye.buildMatrix(e,n,o,g,l);let y=this.calculateMaskPenalty(l);y<u&&(u=y,f=g)}return f}static chooseVersion(e,n){for(let o=1;o<=40;o++){const l=We.getVersionForNumber(o);if(Dt.willFit(e,l,n))return l}throw new Mt("Data too big")}static willFit(e,n,o){const l=n.getTotalCodewords(),f=n.getECBlocksForLevel(o).getTotalECCodewords(),g=l-f,y=(e+7)/8;return g>=y}static terminateBits(e,n){const o=e*8;if(n.getSize()>o)throw new Mt("data bits cannot fit in the QR Code"+n.getSize()+" > "+o);for(let f=0;f<4&&n.getSize()<o;++f)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let f=l;f<8;f++)n.appendBit(!1);const u=e-n.getSizeInBytes();for(let f=0;f<u;++f)n.appendBits(f&1?17:236,8);if(n.getSize()!==o)throw new Mt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,o,l,u,f){if(l>=o)throw new Mt("Block ID too large");const g=e%o,y=o-g,v=Math.floor(e/o),b=v+1,M=Math.floor(n/o),P=M+1,U=v-M,G=b-P;if(U!==G)throw new Mt("EC bytes mismatch");if(o!==y+g)throw new Mt("RS blocks mismatch");if(e!==(M+U)*y+(P+G)*g)throw new Mt("Total bytes mismatch");l<y?(u[0]=M,f[0]=U):(u[0]=P,f[0]=G)}static interleaveWithECBytes(e,n,o,l){if(e.getSizeInBytes()!==o)throw new Mt("Number of bits and data bytes does not match");let u=0,f=0,g=0;const y=new Array;for(let b=0;b<l;++b){const M=new Int32Array(1),P=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(n,o,l,b,M,P);const U=M[0],G=new Uint8Array(U);e.toBytes(8*u,G,0,U);const X=Dt.generateECBytes(G,P[0]);y.push(new Lu(G,X)),f=Math.max(f,U),g=Math.max(g,X.length),u+=M[0]}if(o!==u)throw new Mt("Data bytes does not match offset");const v=new re;for(let b=0;b<f;++b)for(const M of y){const P=M.getDataBytes();b<P.length&&v.appendBits(P[b],8)}for(let b=0;b<g;++b)for(const M of y){const P=M.getErrorCorrectionBytes();b<P.length&&v.appendBits(P[b],8)}if(n!==v.getSizeInBytes())throw new Mt("Interleaving error: "+n+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(e,n){const o=e.length,l=new Int32Array(o+n);for(let f=0;f<o;f++)l[f]=e[f]&255;new Xo(it.QR_CODE_FIELD_256).encode(l,n);const u=new Uint8Array(n);for(let f=0;f<n;f++)u[f]=l[o+f];return u}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,o,l){const u=o.getCharacterCountBits(n);if(e>=1<<u)throw new Mt(e+" is bigger than "+((1<<u)-1));l.appendBits(e,u)}static appendBytes(e,n,o,l){switch(n){case He.NUMERIC:Dt.appendNumericBytes(e,o);break;case He.ALPHANUMERIC:Dt.appendAlphanumericBytes(e,o);break;case He.BYTE:Dt.append8BitBytes(e,o,l);break;case He.KANJI:Dt.appendKanjiBytes(e,o);break;default:throw new Mt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Dt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const o=e.length;let l=0;for(;l<o;){const u=Dt.getDigit(e.charAt(l));if(l+2<o){const f=Dt.getDigit(e.charAt(l+1)),g=Dt.getDigit(e.charAt(l+2));n.appendBits(u*100+f*10+g,10),l+=3}else if(l+1<o){const f=Dt.getDigit(e.charAt(l+1));n.appendBits(u*10+f,7),l+=2}else n.appendBits(u,4),l++}}static appendAlphanumericBytes(e,n){const o=e.length;let l=0;for(;l<o;){const u=Dt.getAlphanumericCode(e.charCodeAt(l));if(u===-1)throw new Mt;if(l+1<o){const f=Dt.getAlphanumericCode(e.charCodeAt(l+1));if(f===-1)throw new Mt;n.appendBits(u*45+f,11),l+=2}else n.appendBits(u,6),l++}}static append8BitBytes(e,n,o){let l;try{l=Ue.encode(e,o)}catch(u){throw new Mt(u)}for(let u=0,f=l.length;u!==f;u++){const g=l[u];n.appendBits(g,8)}}static appendKanjiBytes(e,n){let o;try{o=Ue.encode(e,ne.SJIS)}catch(u){throw new Mt(u)}const l=o.length;for(let u=0;u<l;u+=2){const f=o[u]&255,g=o[u+1]&255,y=f<<8&4294967295|g;let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),v===-1)throw new Mt("Invalid byte sequence");const b=(v>>8)*192+(v&255);n.appendBits(b,13)}}static appendECI(e,n){n.appendBits(He.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=ne.UTF8.getName();class vi{write(e,n,o,l=null){if(e.length===0)throw new T("Found empty contents");if(n<0||o<0)throw new T("Requested dimensions are too small: "+n+"x"+o);let u=Nt.L,f=vi.QUIET_ZONE_SIZE;l!==null&&(l.get(dn.ERROR_CORRECTION)!==void 0&&(u=Nt.fromString(l.get(dn.ERROR_CORRECTION).toString())),l.get(dn.MARGIN)!==void 0&&(f=Number.parseInt(l.get(dn.MARGIN).toString(),10)));const g=Dt.encode(e,u,l);return this.renderResult(g,n,o,f)}writeToDom(e,n,o,l,u=null){typeof e=="string"&&(e=document.querySelector(e));const f=this.write(n,o,l,u);e&&e.appendChild(f)}renderResult(e,n,o,l){const u=e.getMatrix();if(u===null)throw new Tn;const f=u.getWidth(),g=u.getHeight(),y=f+l*2,v=g+l*2,b=Math.max(n,y),M=Math.max(o,v),P=Math.min(Math.floor(b/y),Math.floor(M/v)),U=Math.floor((b-f*P)/2),G=Math.floor((M-g*P)/2),X=this.createSVGElement(b,M);for(let $=0,se=G;$<g;$++,se+=P)for(let we=0,Ce=U;we<f;we++,Ce+=P)if(u.get(we,$)===1){const me=this.createSvgRectElement(Ce,se,P,P);X.appendChild(me)}return X}createSVGElement(e,n){const o=document.createElementNS(vi.SVG_NS,"svg");return o.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width",n.toString()),o}createSvgRectElement(e,n,o,l){const u=document.createElementNS(vi.SVG_NS,"rect");return u.setAttributeNS(null,"x",e.toString()),u.setAttributeNS(null,"y",n.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}vi.QUIET_ZONE_SIZE=4,vi.SVG_NS="http://www.w3.org/2000/svg";class Wi{encode(e,n,o,l,u){if(e.length===0)throw new T("Found empty contents");if(n!==ve.QR_CODE)throw new T("Can only encode QR_CODE, but got "+n);if(o<0||l<0)throw new T(`Requested dimensions are too small: ${o}x${l}`);let f=Nt.L,g=Wi.QUIET_ZONE_SIZE;u!==null&&(u.get(dn.ERROR_CORRECTION)!==void 0&&(f=Nt.fromString(u.get(dn.ERROR_CORRECTION).toString())),u.get(dn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(dn.MARGIN).toString(),10)));const y=Dt.encode(e,f,u);return Wi.renderResult(y,o,l,g)}static renderResult(e,n,o,l){const u=e.getMatrix();if(u===null)throw new Tn;const f=u.getWidth(),g=u.getHeight(),y=f+l*2,v=g+l*2,b=Math.max(n,y),M=Math.max(o,v),P=Math.min(Math.floor(b/y),Math.floor(M/v)),U=Math.floor((b-f*P)/2),G=Math.floor((M-g*P)/2),X=new be(b,M);for(let $=0,se=G;$<g;$++,se+=P)for(let we=0,Ce=U;we<f;we++,Ce+=P)u.get(we,$)===1&&X.setRegion(Ce,se,P,P);return X}}Wi.QUIET_ZONE_SIZE=4;class ku{encode(e,n,o,l,u){let f;switch(n){case ve.QR_CODE:f=new Wi;break;default:throw new T("No encoder available for format "+n)}return f.encode(e,n,o,l,u)}}class Mr extends de{constructor(e,n,o,l,u,f,g,y){if(super(f,g),this.yuvData=e,this.dataWidth=n,this.dataHeight=o,this.left=l,this.top=u,l+f>n||u+g>o)throw new T("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,g)}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth();(n==null||n.length<o)&&(n=new Uint8ClampedArray(o));const l=(e+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,l,n,0,o),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const o=e*n,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return F.arraycopy(this.yuvData,u,l,0,o),l;for(let f=0;f<n;f++){const g=f*e;F.arraycopy(this.yuvData,u,l,g,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,o,l){return new Mr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,o,l,!1)}renderThumbnail(){const e=this.getWidth()/Mr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Mr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(e*n),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<n;f++){const g=f*e;for(let y=0;y<e;y++){const v=l[u+y*Mr.THUMBNAIL_SCALE_FACTOR]&255;o[g+y]=4278190080|v*65793}u+=this.dataWidth*Mr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Mr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Mr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const o=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<n;l++,u+=this.dataWidth){const f=u+e/2;for(let g=u,y=u+e-1;g<f;g++,y--){const v=o[g];o[g]=o[y],o[y]=v}}}invert(){return new Se(this)}}Mr.THUMBNAIL_SCALE_FACTOR=2;class Es extends de{constructor(e,n,o,l,u,f,g){if(super(n,o),this.dataWidth=l,this.dataHeight=u,this.left=f,this.top=g,e.BYTES_PER_ELEMENT===4){const y=n*o,v=new Uint8ClampedArray(y);for(let b=0;b<y;b++){const M=e[b],P=M>>16&255,U=M>>7&510,G=M&255;v[b]=(P+U+G)/4&255}this.luminances=v}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),u===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+o>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth();(n==null||n.length<o)&&(n=new Uint8ClampedArray(o));const l=(e+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,l,n,0,o),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const o=e*n,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return F.arraycopy(this.luminances,u,l,0,o),l;for(let f=0;f<n;f++){const g=f*e;F.arraycopy(this.luminances,u,l,g,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,o,l){return new Es(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Se(this)}}class ol extends ne{static forName(e){return this.getCharacterSetECIByName(e)}}class Zo{}Zo.ISO_8859_1=ne.ISO8859_1;class al{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Ko{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Bu{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Hi extends Bu{constructor(e,n,o){super(e),this.value=n,this.bitCount=o}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Hi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Hi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+V.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Qo extends Hi{constructor(e,n,o){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=o}appendTo(e,n){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):o===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+o],8)}addBinaryShift(e,n){return new Qo(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Fu(R,e,n){return new Qo(R,e,n)}function As(R,e,n){return new Hi(R,e,n)}const ju=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ri=0,Gi=1,bn=2,ll=3,xr=4,ul=new Hi(null,0,0),eo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function cl(R){for(let e of R)H.fill(e,-1);return R[ri][xr]=0,R[Gi][xr]=0,R[Gi][ri]=28,R[ll][xr]=0,R[bn][xr]=0,R[bn][ri]=15,R}const $o=cl(H.createInt32Array(6,6));class Pn{constructor(e,n,o,l){this.token=e,this.mode=n,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let o=this.bitCount,l=this.token;if(e!==this.mode){let f=eo[this.mode][e];l=As(l,f&65535,f>>16),o+=f>>16}let u=e===bn?4:5;return l=As(l,n,u),new Pn(l,e,0,o+u)}shiftAndAppend(e,n){let o=this.token,l=this.mode===bn?4:5;return o=As(o,$o[this.mode][e],l),o=As(o,n,5),new Pn(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,o=this.mode,l=this.bitCount;if(this.mode===xr||this.mode===bn){let g=eo[o][ri];n=As(n,g&65535,g>>16),l+=g>>16,o=ri}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Pn(n,o,this.binaryShiftByteCount+1,l+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(e+1)),f}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Fu(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Pn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(eo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Pn.calculateBinaryShiftCost(e)-Pn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let o=new re;for(const l of n)l.appendTo(o,e);return o}toString(){return Ne.format("%s bits=%d bytes=%d",ju[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Pn.INITIAL_STATE=new Pn(ul,ri,0,0);function Uu(R){const e=Ne.getCharCode(" "),n=Ne.getCharCode("."),o=Ne.getCharCode(",");R[ri][e]=1;const l=Ne.getCharCode("Z"),u=Ne.getCharCode("A");for(let P=u;P<=l;P++)R[ri][P]=P-u+2;R[Gi][e]=1;const f=Ne.getCharCode("z"),g=Ne.getCharCode("a");for(let P=g;P<=f;P++)R[Gi][P]=P-g+2;R[bn][e]=1;const y=Ne.getCharCode("9"),v=Ne.getCharCode("0");for(let P=v;P<=y;P++)R[bn][P]=P-v+2;R[bn][o]=12,R[bn][n]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<b.length;P++)R[ll][Ne.getCharCode(b[P])]=P;const M=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<M.length;P++)Ne.getCharCode(M[P])>0&&(R[xr][Ne.getCharCode(M[P])]=P);return R}const qo=Uu(H.createInt32Array(5,256));class Ss{constructor(e){this.text=e}encode(){const e=Ne.getCharCode(" "),n=Ne.getCharCode(`
`);let o=Ko.singletonList(Pn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ne.getCharCode("\r"):f=g===n?2:0;break;case Ne.getCharCode("."):f=g===e?3:0;break;case Ne.getCharCode(","):f=g===e?4:0;break;case Ne.getCharCode(":"):f=g===e?5:0;break;default:f=0}f>0?(o=Ss.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}return Ko.min(o,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const o=[];for(let l of e)this.updateStateForChar(l,n,o);return Ss.simplifyStates(o)}updateStateForChar(e,n,o){let l=this.text[n]&255,u=qo[e.getMode()][l]>0,f=null;for(let g=0;g<=xr;g++){let y=qo[g][l];if(y>0){if(f==null&&(f=e.endBinaryShift(n)),!u||g===e.getMode()||g===bn){const v=f.latchAndAppend(g,y);o.push(v)}if(!u&&$o[e.getMode()][g]>=0){const v=f.shiftAndAppend(g,y);o.push(v)}}}if(e.getBinaryShiftByteCount()>0||qo[e.getMode()][l]===0){let g=e.addBinaryShiftChar(n);o.push(g)}}static updateStateListForPair(e,n,o){const l=[];for(let u of e)this.updateStateForPair(u,n,o,l);return this.simplifyStates(l)}static updateStateForPair(e,n,o,l){let u=e.endBinaryShift(n);if(l.push(u.latchAndAppend(xr,o)),e.getMode()!==xr&&l.push(u.shiftAndAppend(xr,o)),o===3||o===4){let f=u.latchAndAppend(bn,16-o).latchAndAppend(bn,1);l.push(f)}if(e.getBinaryShiftByteCount()>0){let f=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(f)}}static simplifyStates(e){let n=[];for(const o of e){let l=!0;for(const u of n){if(u.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(u)&&(n=n.filter(f=>f!==u))}l&&n.push(o)}return n}}class mt{constructor(){}static encodeBytes(e){return mt.encode(e,mt.DEFAULT_EC_PERCENT,mt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,o){let l=new Ss(e).encode(),u=V.truncDivision(l.getSize()*n,100)+11,f=l.getSize()+u,g,y,v,b,M;if(o!==mt.DEFAULT_AZTEC_LAYERS){if(g=o<0,y=Math.abs(o),y>(g?mt.MAX_NB_BITS_COMPACT:mt.MAX_NB_BITS))throw new T(Ne.format("Illegal value %s for layers",o));v=mt.totalBitsInLayer(y,g),b=mt.WORD_SIZE[y];let me=v-v%b;if(M=mt.stuffBits(l,b),M.getSize()+u>me)throw new T("Data to large for user specified layer");if(g&&M.getSize()>b*64)throw new T("Data to large for user specified layer")}else{b=0,M=null;for(let me=0;;me++){if(me>mt.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(g=me<=3,y=g?me+1:me,v=mt.totalBitsInLayer(y,g),f>v)continue;(M==null||b!==mt.WORD_SIZE[y])&&(b=mt.WORD_SIZE[y],M=mt.stuffBits(l,b));let ft=v-v%b;if(!(g&&M.getSize()>b*64)&&M.getSize()+u<=ft)break}}let P=mt.generateCheckWords(M,v,b),U=M.getSize()/b,G=mt.generateModeMessage(g,y,U),X=(g?11:14)+y*4,$=new Int32Array(X),se;if(g){se=X;for(let me=0;me<$.length;me++)$[me]=me}else{se=X+1+2*V.truncDivision(V.truncDivision(X,2)-1,15);let me=V.truncDivision(X,2),ft=V.truncDivision(se,2);for(let nt=0;nt<me;nt++){let Hn=nt+V.truncDivision(nt,15);$[me-nt-1]=ft-Hn-1,$[me+nt]=ft+Hn+1}}let we=new be(se);for(let me=0,ft=0;me<y;me++){let nt=(y-me)*4+(g?9:12);for(let Hn=0;Hn<nt;Hn++){let yr=Hn*2;for(let hn=0;hn<2;hn++)P.get(ft+yr+hn)&&we.set($[me*2+hn],$[me*2+Hn]),P.get(ft+nt*2+yr+hn)&&we.set($[me*2+Hn],$[X-1-me*2-hn]),P.get(ft+nt*4+yr+hn)&&we.set($[X-1-me*2-hn],$[X-1-me*2-Hn]),P.get(ft+nt*6+yr+hn)&&we.set($[X-1-me*2-Hn],$[me*2+hn])}ft+=nt*8}if(mt.drawModeMessage(we,g,se,G),g)mt.drawBullsEye(we,V.truncDivision(se,2),5);else{mt.drawBullsEye(we,V.truncDivision(se,2),7);for(let me=0,ft=0;me<V.truncDivision(X,2)-1;me+=15,ft+=16)for(let nt=V.truncDivision(se,2)&1;nt<se;nt+=2)we.set(V.truncDivision(se,2)-ft,nt),we.set(V.truncDivision(se,2)+ft,nt),we.set(nt,V.truncDivision(se,2)-ft),we.set(nt,V.truncDivision(se,2)+ft)}let Ce=new al;return Ce.setCompact(g),Ce.setSize(se),Ce.setLayers(y),Ce.setCodeWords(U),Ce.setMatrix(we),Ce}static drawBullsEye(e,n,o){for(let l=0;l<o;l+=2)for(let u=n-l;u<=n+l;u++)e.set(u,n-l),e.set(u,n+l),e.set(n-l,u),e.set(n+l,u);e.set(n-o,n-o),e.set(n-o+1,n-o),e.set(n-o,n-o+1),e.set(n+o,n-o),e.set(n+o,n-o+1),e.set(n+o,n+o-1)}static generateModeMessage(e,n,o){let l=new re;return e?(l.appendBits(n-1,2),l.appendBits(o-1,6),l=mt.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(o-1,11),l=mt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,o,l){let u=V.truncDivision(o,2);if(n)for(let f=0;f<7;f++){let g=u-3+f;l.get(f)&&e.set(g,u-5),l.get(f+7)&&e.set(u+5,g),l.get(20-f)&&e.set(g,u+5),l.get(27-f)&&e.set(u-5,g)}else for(let f=0;f<10;f++){let g=u-5+f+V.truncDivision(f,5);l.get(f)&&e.set(g,u-7),l.get(f+10)&&e.set(u+7,g),l.get(29-f)&&e.set(g,u+7),l.get(39-f)&&e.set(u-7,g)}}static generateCheckWords(e,n,o){let l=e.getSize()/o,u=new Xo(mt.getGF(o)),f=V.truncDivision(n,o),g=mt.bitsToWords(e,o,f);u.encode(g,f-l);let y=n%o,v=new re;v.appendBits(0,y);for(const b of Array.from(g))v.appendBits(b,o);return v}static bitsToWords(e,n,o){let l=new Int32Array(o),u,f;for(u=0,f=e.getSize()/n;u<f;u++){let g=0;for(let y=0;y<n;y++)g|=e.get(u*n+y)?1<<n-y-1:0;l[u]=g}return l}static getGF(e){switch(e){case 4:return it.AZTEC_PARAM;case 6:return it.AZTEC_DATA_6;case 8:return it.AZTEC_DATA_8;case 10:return it.AZTEC_DATA_10;case 12:return it.AZTEC_DATA_12;default:throw new T("Unsupported word size "+e)}}static stuffBits(e,n){let o=new re,l=e.getSize(),u=(1<<n)-2;for(let f=0;f<l;f+=n){let g=0;for(let y=0;y<n;y++)(f+y>=l||e.get(f+y))&&(g|=1<<n-1-y);(g&u)===u?(o.appendBits(g&u,n),f--):g&u?o.appendBits(g,n):(o.appendBits(g|1,n),f--)}return o}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}mt.DEFAULT_EC_PERCENT=33,mt.DEFAULT_AZTEC_LAYERS=0,mt.MAX_NB_BITS=32,mt.MAX_NB_BITS_COMPACT=4,mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ts{encode(e,n,o,l){return this.encodeWithHints(e,n,o,l,null)}encodeWithHints(e,n,o,l,u){let f=Zo.ISO_8859_1,g=mt.DEFAULT_EC_PERCENT,y=mt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(dn.CHARACTER_SET)&&(f=ol.forName(u.get(dn.CHARACTER_SET).toString())),u.has(dn.ERROR_CORRECTION)&&(g=V.parseInt(u.get(dn.ERROR_CORRECTION).toString())),u.has(dn.AZTEC_LAYERS)&&(y=V.parseInt(u.get(dn.AZTEC_LAYERS).toString()))),Ts.encodeLayers(e,n,o,l,f,g,y)}static encodeLayers(e,n,o,l,u,f,g){if(n!==ve.AZTEC)throw new T("Can only encode AZTEC, but got "+n);let y=mt.encode(Ne.getBytes(e,u),f,g);return Ts.renderResult(y,o,l)}static renderResult(e,n,o){let l=e.getMatrix();if(l==null)throw new Tn;let u=l.getWidth(),f=l.getHeight(),g=Math.max(n,u),y=Math.max(o,f),v=Math.min(g/u,y/f),b=(g-u*v)/2,M=(y-f*v)/2,P=new be(g,y);for(let U=0,G=M;U<f;U++,G+=v)for(let X=0,$=b;X<u;X++,$+=v)l.get(X,U)&&P.setRegion($,G,v,v);return P}}s.AbstractExpandedDecoder=Bo,s.ArgumentException=S,s.ArithmeticException=Ur,s.AztecCode=al,s.AztecCodeReader=ct,s.AztecCodeWriter=Ts,s.AztecDecoder=xt,s.AztecDetector=ut,s.AztecDetectorResult=Tt,s.AztecEncoder=mt,s.AztecHighLevelEncoder=Ss,s.AztecPoint=Me,s.BarcodeFormat=ve,s.Binarizer=k,s.BinaryBitmap=N,s.BitArray=re,s.BitMatrix=be,s.BitSource=Uo,s.BrowserAztecCodeReader=Gt,s.BrowserBarcodeReader=Ja,s.BrowserCodeReader=Re,s.BrowserDatamatrixCodeReader=Pu,s.BrowserMultiFormatReader=vs,s.BrowserPDF417Reader=qs,s.BrowserQRCodeReader=sl,s.BrowserQRCodeSvgWriter=vi,s.CharacterSetECI=ne,s.ChecksumException=O,s.Code128Reader=Ae,s.Code39Reader=qt,s.DataMatrixDecodedBitStreamParser=pr,s.DataMatrixReader=gr,s.DecodeHintType=ue,s.DecoderResult=et,s.DefaultGridSampler=Bt,s.DetectorResult=Xe,s.EAN13Reader=rr,s.EncodeHintType=dn,s.Exception=x,s.FormatException=q,s.GenericGF=it,s.GenericGFPoly=Ht,s.GlobalHistogramBinarizer=Ie,s.GridSampler=Un,s.GridSamplerInstance=Ft,s.HTMLCanvasElementLuminanceSource=fe,s.HybridBinarizer=pe,s.ITFReader=vt,s.IllegalArgumentException=T,s.IllegalStateException=Tn,s.InvertedLuminanceSource=Se,s.LuminanceSource=de,s.MathUtils=lt,s.MultiFormatOneDReader=Bi,s.MultiFormatReader=$s,s.MultiFormatWriter=ku,s.NotFoundException=Z,s.OneDReader=Ve,s.PDF417DecodedBitStreamParser=oe,s.PDF417DecoderErrorCorrection=Wo,s.PDF417Reader=En,s.PDF417ResultMetadata=Ks,s.PerspectiveTransform=Ct,s.PlanarYUVLuminanceSource=Mr,s.QRCodeByteMatrix=Js,s.QRCodeDataMask=at,s.QRCodeDecodedBitStreamParser=Ut,s.QRCodeDecoderErrorCorrectionLevel=Nt,s.QRCodeDecoderFormatInformation=wn,s.QRCodeEncoder=Dt,s.QRCodeEncoderQRCode=Ci,s.QRCodeMaskUtil=zt,s.QRCodeMatrixUtil=Ye,s.QRCodeMode=He,s.QRCodeReader=On,s.QRCodeVersion=We,s.QRCodeWriter=Wi,s.RGBLuminanceSource=Es,s.RSS14Reader=Ot,s.RSSExpandedReader=he,s.ReaderException=Vi,s.ReedSolomonDecoder=Tr,s.ReedSolomonEncoder=Xo,s.ReedSolomonException=tr,s.Result=Be,s.ResultMetadataType=Ge,s.ResultPoint=Ee,s.StringUtils=Ne,s.UnsupportedOperationException=_e,s.VideoInputDevice=K,s.WhiteRectangleDetector=wt,s.WriterException=Mt,s.ZXingArrays=H,s.ZXingCharset=ol,s.ZXingInteger=V,s.ZXingStandardCharsets=Zo,s.ZXingStringBuilder=je,s.ZXingStringEncoding=Ue,s.ZXingSystem=F,s.createAbstractExpandedDecoder=$a,Object.defineProperty(s,"__esModule",{value:!0})})}(Ta,Ta.exports)),Ta.exports}var Zt=ew();const tw=Kf(Zt),nw=Xx({__proto__:null,default:tw},[Zt]);var l1=function(){function r(i,s,c){if(this.formatMap=new Map([[Pe.QR_CODE,Zt.BarcodeFormat.QR_CODE],[Pe.AZTEC,Zt.BarcodeFormat.AZTEC],[Pe.CODABAR,Zt.BarcodeFormat.CODABAR],[Pe.CODE_39,Zt.BarcodeFormat.CODE_39],[Pe.CODE_93,Zt.BarcodeFormat.CODE_93],[Pe.CODE_128,Zt.BarcodeFormat.CODE_128],[Pe.DATA_MATRIX,Zt.BarcodeFormat.DATA_MATRIX],[Pe.MAXICODE,Zt.BarcodeFormat.MAXICODE],[Pe.ITF,Zt.BarcodeFormat.ITF],[Pe.EAN_13,Zt.BarcodeFormat.EAN_13],[Pe.EAN_8,Zt.BarcodeFormat.EAN_8],[Pe.PDF_417,Zt.BarcodeFormat.PDF_417],[Pe.RSS_14,Zt.BarcodeFormat.RSS_14],[Pe.RSS_EXPANDED,Zt.BarcodeFormat.RSS_EXPANDED],[Pe.UPC_A,Zt.BarcodeFormat.UPC_A],[Pe.UPC_E,Zt.BarcodeFormat.UPC_E],[Pe.UPC_EAN_EXTENSION,Zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!nw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var h=this.createZXingFormats(i),p=new Map;p.set(Zt.DecodeHintType.POSSIBLE_FORMATS,h),p.set(Zt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return r.prototype.decodeAsync=function(i){var s=this;return new Promise(function(c,h){try{c(s.decode(i))}catch(p){h(p)}})},r.prototype.decode=function(i){var s=new Zt.MultiFormatReader(this.verbose,this.hints),c=new Zt.HTMLCanvasElementLuminanceSource(i),h=new Zt.BinaryBitmap(new Zt.HybridBinarizer(c)),p=s.decode(h);return{text:p.text,format:ag.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,c,h){i.set(s,c)}),i},r.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},r.prototype.createZXingFormats=function(i){for(var s=[],c=0,h=i;c<h.length;c++){var p=h[c];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return s},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),rw=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(T){w(T)}}function C(S){try{x(c.throw(S))}catch(T){w(T)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},iw=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},u1=function(){function r(i,s,c){if(this.formatMap=new Map([[Pe.QR_CODE,"qr_code"],[Pe.AZTEC,"aztec"],[Pe.CODABAR,"codabar"],[Pe.CODE_39,"code_39"],[Pe.CODE_93,"code_93"],[Pe.CODE_128,"code_128"],[Pe.DATA_MATRIX,"data_matrix"],[Pe.ITF,"itf"],[Pe.EAN_13,"ean_13"],[Pe.EAN_8,"ean_8"],[Pe.PDF_417,"pdf417"],[Pe.UPC_A,"upc_a"],[Pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var h=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},r.prototype.decodeAsync=function(i){return rw(this,void 0,void 0,function(){var s,c;return iw(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(i)];case 1:if(s=h.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:ag.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(i){for(var s=null,c=0,h=0,p=i;h<p.length;h++){var w=p[h],E=w.boundingBox.width*w.boundingBox.height;E>c&&(c=E,s=w)}if(!s)throw"No largest barcode found";return s},r.prototype.createBarcodeDetectorFormats=function(i){for(var s=[],c=0,h=i;c<h.length;c++){var p=h[c];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},r.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},r.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,c,h){i.set(s,c)}),i},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),c1=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(T){w(T)}}function C(S){try{x(c.throw(S))}catch(T){w(T)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},f1=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},sw=function(){function r(i,s,c,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&u1.isSupported()?(this.primaryDecoder=new u1(i,c,h),this.secondaryDecoder=new l1(i,c,h)):this.primaryDecoder=new l1(i,c,h)}return r.prototype.decodeAsync=function(i){return c1(this,void 0,void 0,function(){var s;return f1(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(i){return c1(this,void 0,void 0,function(){var s,c;return f1(this,function(h){switch(h.label){case 0:s=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,h.sent()];case 3:if(c=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(i){if(this.verbose){var s=performance.now()-i;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,s=0,c=this.executionResults;s<c.length;s++){var h=c[s];i+=h}var p=i/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),nd=function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])},r(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),mu=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(T){w(T)}}function C(S){try{x(c.throw(S))}catch(T){w(T)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},xu=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},fg=function(){function r(i,s){this.name=i,this.track=s}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(i){var s={};s[this.name]=i;var c={advanced:[s]};return this.track.applyConstraints(c)},r.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var s=i[this.name];return s}return null},r}(),ow=function(r){nd(i,r);function i(s,c){return r.call(this,s,c)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(s){var c={};c[this.name]=s;var h={advanced:[c]};return this.track.applyConstraints(h)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i}(fg),aw=function(r){nd(i,r);function i(s){return r.call(this,"zoom",s)||this}return i}(ow),lw=function(r){nd(i,r);function i(s){return r.call(this,"torch",s)||this}return i}(fg),uw=function(){function r(i){this.track=i}return r.prototype.zoomFeature=function(){return new aw(this.track)},r.prototype.torchFeature=function(){return new lw(this.track)},r}(),cw=function(){function r(i,s,c){this.isClosed=!1,this.parentElement=i,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return r.prototype.createVideoElement=function(i){var s=document.createElement("video");return s.style.width="".concat(i,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},r.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=i.surface.clientWidth,h=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(c,h),i.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(i,s,c,h){return mu(this,void 0,void 0,function(){var p,w;return xu(this,function(E){switch(E.label){case 0:return p=new r(i,s,h),c.aspectRatio?(w={aspectRatio:c.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(w)]):[3,2];case 1:E.sent(),E.label=2;case 2:return p.setupSurface(),[2,p]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(i){this.failIfClosed();var s=this,c=function(){setTimeout(i,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(i){return mu(this,void 0,void 0,function(){return xu(this,function(s){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(s,c){var h=i.mediaStream.getVideoTracks(),p=h.length,w=0;i.mediaStream.getVideoTracks().forEach(function(E){i.mediaStream.removeTrack(E),E.stop(),++w,w>=p&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),s())})})},r.prototype.getCapabilities=function(){return new uw(this.getFirstTrackOrFail())},r}(),fw=function(){function r(i){this.mediaStream=i}return r.prototype.render=function(i,s,c){return mu(this,void 0,void 0,function(){return xu(this,function(h){return[2,cw.create(i,this.mediaStream,s,c)]})})},r.create=function(i){return mu(this,void 0,void 0,function(){var s,c;return xu(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=h.sent(),[2,new r(c)]}})})},r}(),d1=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(T){w(T)}}function C(S){try{x(c.throw(S))}catch(T){w(T)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},h1=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},dw=function(){function r(){}return r.failIfNotSupported=function(){return d1(this,void 0,void 0,function(){return h1(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(i){return d1(this,void 0,void 0,function(){return h1(this,function(s){return[2,fw.create(i)]})})},r}(),hw=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(T){w(T)}}function C(S){try{x(c.throw(S))}catch(T){w(T)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},pw=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},gw=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var i=wo.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(i=wo.insecureContextCameraQueryError()),Promise.reject(i)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},r.getCamerasFromMediaDevices=function(){return hw(this,void 0,void 0,function(){var i,s,c,h,p,w,E;return pw(this,function(C){switch(C.label){case 0:return i=function(x){for(var S=x.getVideoTracks(),T=0,N=S;T<N.length;T++){var O=N[T];O.enabled=!1,O.stop(),x.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=C.sent(),h=[],p=0,w=c;p<w.length;p++)E=w[p],E.kind==="videoinput"&&h.push({id:E.deviceId,label:E.label});return i(s),[2,h]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,s){var c=function(p){for(var w=[],E=0,C=p;E<C.length;E++){var x=C[E];x.kind==="video"&&w.push({id:x.id,label:x.label})}i(w)},h=MediaStreamTrack;h.getSources(c)})},r}(),un;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(un||(un={}));var mw=function(){function r(){this.state=un.NOT_STARTED,this.onGoingTransactionNewState=un.UNKNOWN}return r.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},r.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=un.UNKNOWN,this.directTransition(i)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=un.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==un.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(i){switch(this.state){case un.UNKNOWN:throw"Transition from unknown is not allowed";case un.NOT_STARTED:this.failIfNewStateIs(i,[un.PAUSED]);break;case un.SCANNING:break;case un.PAUSED:break}},r.prototype.failIfNewStateIs=function(i,s){for(var c=0,h=s;c<h.length;c++){var p=h[c];if(i===p)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},r}(),xw=function(){function r(i){this.stateManager=i}return r.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},r.prototype.directTransition=function(i){this.stateManager.directTransition(i)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===un.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==un.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===un.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===un.PAUSED},r}(),yw=function(){function r(){}return r.create=function(){return new xw(new mw)},r}(),ww=function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])},r(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Er=function(r){ww(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i}($r),Cw=function(){function r(i,s){this.logger=s,this.fps=Er.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=Er.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?cg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!li(this.qrbox)},r.create=function(i,s){return new r(i,s)},r}(),p1=function(){function r(i,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new ug(this.verbose),this.qrcode=new sw(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=yw.create()}return r.prototype.start=function(i,s,c,h){var p=this;if(!i)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var w;h?w=h:w=this.verbose?this.logger.log:function(){};var E=Cw.create(s,this.logger);this.clearElement();var C=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=C,S=document.getElementById(this.elementId);S.clientWidth?S.clientWidth:Er.DEFAULT_WIDTH,S.style.position="relative",this.shouldScan=!0,this.element=S;var T=this,N=this.stateManagerProxy.startTransition(un.SCANNING);return new Promise(function(O,k){var F=x?E.videoConstraints:T.createVideoConstraints(i);if(!F){N.cancel(),k("videoConstraints should be defined");return}var B={};(!x||E.aspectRatio)&&(B.aspectRatio=E.aspectRatio);var z={onRenderSurfaceReady:function(H,V){T.setupUi(H,V,E),T.isScanning=!0,T.foreverScan(E,c,w)}};dw.failIfNotSupported().then(function(H){H.create(F).then(function(V){return V.render(p.element,B,z).then(function(re){T.renderedCamera=re,N.execute(),O(null)}).catch(function(re){N.cancel(),k(re)})}).catch(function(V){N.cancel(),k(wo.errorGettingUserMedia(V))})}).catch(function(H){N.cancel(),k(wo.cameraStreamingNotSupported())})})},r.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(un.PAUSED),this.showPausedState(),(li(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,s=function(){i.stateManagerProxy.directTransition(un.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(un.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(i.element){var p=document.getElementById(Er.SHADED_REGION_ELEMENT_ID);p&&i.element.removeChild(p)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),c(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),s.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(i,s){return this.scanFileV2(i,s).then(function(c){return c.decodedText})},r.prototype.scanFileV2=function(i,s){var c=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(li(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,p){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(i);var w=new Image;w.onload=function(){var E=w.width,C=w.height,x=document.getElementById(c.elementId),S=x.clientWidth?x.clientWidth:Er.DEFAULT_WIDTH,T=Math.max(x.clientHeight?x.clientHeight:C,Er.FILE_SCAN_MIN_HEIGHT),N=c.computeCanvasDrawConfig(E,C,S,T);if(s){var O=c.createCanvasElement(S,T,"qr-canvas-visible");O.style.display="inline-block",x.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=S,k.canvas.height=T,k.drawImage(w,0,0,E,C,N.x,N.y,N.width,N.height)}var F=Er.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(w.width,N.width),z=Math.max(w.height,N.height),H=B+2*F,V=z+2*F,re=c.createCanvasElement(H,V);x.appendChild(re);var le=re.getContext("2d");if(!le)throw"Unable to get 2d context from canvas";le.canvas.width=H,le.canvas.height=V,le.drawImage(w,0,0,E,C,F,F,B,z);try{c.qrcode.decodeRobustlyAsync(re).then(function(ue){h(s1.createFromQrcodeResult(ue))}).catch(p)}catch(ue){p("QR code parse error, error = ".concat(ue))}},w.onerror=p,w.onabort=p,w.onstalled=p,w.onsuspend=p,w.src=URL.createObjectURL(i)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return gw.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(i){if(i){if(!cg.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(i){var s=[Pe.QR_CODE,Pe.AZTEC,Pe.CODABAR,Pe.CODE_39,Pe.CODE_93,Pe.CODE_128,Pe.DATA_MATRIX,Pe.MAXICODE,Pe.ITF,Pe.EAN_13,Pe.EAN_8,Pe.PDF_417,Pe.RSS_14,Pe.RSS_EXPANDED,Pe.UPC_A,Pe.UPC_E,Pe.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return s;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],h=0,p=i.formatsToSupport;h<p.length;h++){var w=p[h];$y(w)?c.push(w):this.logger.warn("Invalid format: ".concat(w," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},r.prototype.getUseBarCodeDetectorIfSupported=function(i){if(li(i))return!0;if(!li(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(li(i.experimentalFeatures))return!0;var s=i.experimentalFeatures;return li(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(i,s,c){var h=this,p=c.qrbox;this.validateQrboxConfig(p);var w=this.toQrdimensions(i,s,p),E=function(x){if(x<Er.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Er.MIN_QR_BOX_SIZE,"px.")},C=function(x){return x>i&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=i),x};E(w.width),E(w.height),w.width=C(w.width)},r.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(i,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(i,s)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return c},r.prototype.setupUi=function(i,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(i,s,c);var h=li(c.qrbox)?{width:i,height:s}:c.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(i,s,h);p.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var w=c.isShadedBoxEnabled()&&p.height<=s,E={x:0,y:0,width:i,height:s},C=w?this.getShadedRegionBounds(i,s,p):E,x=this.createCanvasElement(C.width,C.height),S={willReadFrequently:!0},T=x.getContext("2d",S);T.canvas.width=C.width,T.canvas.height=C.height,this.element.append(x),w&&this.possiblyInsertShadingElement(this.element,i,s,p),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=T,this.canvasElement=x},r.prototype.createScannerPausedUiElement=function(i){var s=document.createElement("div");s.innerText=wo.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",i.appendChild(s),this.scannerPausedUiElement=s},r.prototype.scanContext=function(i,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return i(h.text,s1.createFromQrcodeResult(h)),c.possiblyUpdateShaders(!0),!0}).catch(function(h){c.possiblyUpdateShaders(!1);var p=wo.codeParseError(h);return s(p,lg.createFrom(p)),!1})},r.prototype.foreverScan=function(i,s,c){var h=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),w=p.videoWidth/p.clientWidth,E=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*w,x=this.qrRegion.height*E,S=this.qrRegion.x*w,T=this.qrRegion.y*E;this.context.drawImage(p,S,T,C,x,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(i,s,c)},h.getTimeoutFps(i.fps))};this.scanContext(s,c).then(function(O){!O&&i.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(s,c).finally(function(){N()})):N()}).catch(function(O){h.logger.logError("Error happend while scanning context",O),N()})}},r.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var s="facingMode",c="deviceId",h={user:!0,environment:!0},p="exact",w=function(k){if(k in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},E=Object.keys(i);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var C=Object.keys(i)[0];if(C!==s&&C!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(C===s){var x=i.facingMode;if(typeof x=="string"){if(w(x))return{facingMode:x}}else if(typeof x=="object")if(p in x){if(w(x["".concat(p)]))return{facingMode:{exact:x["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var S=typeof x;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var T=i.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(p in T)return{deviceId:{exact:T["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var N=typeof T;throw"Invalid type of 'deviceId' = ".concat(N)}}}var O=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},r.prototype.computeCanvasDrawConfig=function(i,s,c,h){if(i<=c&&s<=h){var p=(c-i)/2,w=(h-s)/2;return{x:p,y:w,width:i,height:s}}else{var E=i,C=s;return i>c&&(s=c/i*s,i=c),s>h&&(i=h/s*i,s=h),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(C)+" to ".concat(i,"X").concat(s,".")),this.computeCanvasDrawConfig(i,s,c,h)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},r.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=i?Er.BORDER_SHADER_MATCH_COLOR:Er.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(i,s,c){var h=i,p=s,w=document.createElement("canvas");return w.style.width="".concat(h,"px"),w.style.height="".concat(p,"px"),w.style.display="none",w.id=li(c)?"qr-canvas":c,w},r.prototype.getShadedRegionBounds=function(i,s,c){if(c.width>i||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},r.prototype.possiblyInsertShadingElement=function(i,s,c,h){if(!(s-h.width<1||c-h.height<1)){var p=document.createElement("div");p.style.position="absolute";var w=(s-h.width)/2,E=(c-h.height)/2;if(p.style.borderLeft="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(Er.SHADED_REGION_ELEMENT_ID),s-h.width<11||c-h.height<11)this.hasBorderShaders=!1;else{var C=5,x=40;this.insertShaderBorders(p,x,C,-C,null,0,!0),this.insertShaderBorders(p,x,C,-C,null,0,!1),this.insertShaderBorders(p,x,C,null,-C,0,!0),this.insertShaderBorders(p,x,C,null,-C,0,!1),this.insertShaderBorders(p,C,x+C,-C,null,-C,!0),this.insertShaderBorders(p,C,x+C,null,-C,-C,!0),this.insertShaderBorders(p,C,x+C,-C,null,-C,!1),this.insertShaderBorders(p,C,x+C,null,-C,-C,!1),this.hasBorderShaders=!0}i.append(p)}},r.prototype.insertShaderBorders=function(i,s,c,h,p,w,E){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=Er.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(s,"px"),C.style.height="".concat(c,"px"),h!==null&&(C.style.top="".concat(h,"px")),p!==null&&(C.style.bottom="".concat(p,"px")),E?C.style.left="".concat(w,"px"):C.style.right="".concat(w,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),i.appendChild(C)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(i){return 1e3/i},r}(),rd="data:image/svg+xml;base64,",vw=rd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Ew=rd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",g1=rd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Aw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",m1=function(){function r(){}return r.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},r}(),Sw=function(){function r(){this.data=m1.createDefault();var i=localStorage.getItem(r.LOCAL_STORAGE_KEY);i?this.data=JSON.parse(i):this.reset()}return r.prototype.hasCameraPermissions=function(){return this.data.hasPermission},r.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},r.prototype.setHasPermission=function(i){this.data.hasPermission=i,this.flush()},r.prototype.setLastUsedCameraId=function(i){this.data.lastUsedCameraId=i,this.flush()},r.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},r.prototype.reset=function(){this.data=m1.createDefault(),this.flush()},r.prototype.flush=function(){localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},r.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",r}(),Tw=function(){function r(){this.infoDiv=document.createElement("div")}return r.prototype.renderInto=function(i){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=o1.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var c=document.createElement("br"),h=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(h);var p=document.createElement("a");p.innerText=o1.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),i.appendChild(this.infoDiv)},r.prototype.show=function(){this.infoDiv.style.display="block"},r.prototype.hide=function(){this.infoDiv.style.display="none"},r}(),Iw=function(){function r(i,s){this.isShowingInfoIcon=!0,this.onTapIn=i,this.onTapOut=s,this.infoIcon=document.createElement("img")}return r.prototype.renderInto=function(i){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=g1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return s.onHoverIn()},this.infoIcon.onmouseout=function(c){return s.onHoverOut()},this.infoIcon.onclick=function(c){return s.onClick()},i.appendChild(this.infoIcon)},r.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},r.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},r.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Aw,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=g1,this.infoIcon.style.opacity="0.6")},r}(),bw=function(){function r(){var i=this;this.infoDiv=new Tw,this.infoIcon=new Iw(function(){i.infoDiv.show()},function(){i.infoDiv.hide()})}return r.prototype.renderInto=function(i){this.infoDiv.renderInto(i),this.infoIcon.renderInto(i)},r}(),Nw=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(T){w(T)}}function C(S){try{x(c.throw(S))}catch(T){w(T)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},Rw=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},x1=function(){function r(){}return r.hasPermissions=function(){return Nw(this,void 0,void 0,function(){var i,s,c,h;return Rw(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(i=p.sent(),s=0,c=i;s<c.length;s++)if(h=c[s],h.kind==="videoinput"&&h.label)return[2,!0];return[2,!1]}})})},r}(),as=function(){function r(i){this.supportedScanTypes=this.validateAndReturnScanTypes(i)}return r.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},r.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},r.prototype.isCameraScanRequired=function(){for(var i=0,s=this.supportedScanTypes;i<s.length;i++){var c=s[i];if(r.isCameraScanType(c))return!0}return!1},r.isCameraScanType=function(i){return i===cs.SCAN_TYPE_CAMERA},r.isFileScanType=function(i){return i===cs.SCAN_TYPE_FILE},r.prototype.validateAndReturnScanTypes=function(i){if(!i||i.length===0)return $r.DEFAULT_SUPPORTED_SCAN_TYPE;var s=$r.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(i.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var c=0,h=i;c<h.length;c++){var p=h[c];if(!$r.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return i},r}(),Sr=function(){function r(){}return r.ALL_ELEMENT_CLASS="html5-qrcode-element",r.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",r.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",r.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",r.TORCH_BUTTON_ID="html5-qrcode-button-torch",r.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",r.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",r.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",r.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",r.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",r.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",r}(),Oi=function(){function r(){}return r.createElement=function(i,s){var c=document.createElement(i);return c.id=s,c.classList.add(Sr.ALL_ELEMENT_CLASS),i==="button"&&c.setAttribute("type","button"),c},r}(),dg=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(T){w(T)}}function C(S){try{x(c.throw(S))}catch(T){w(T)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},hg=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},y1=function(){function r(i,s,c){this.isTorchOn=!1,this.torchCapability=i,this.buttonController=s,this.onTorchActionFailureCallback=c}return r.prototype.isTorchEnabled=function(){return this.isTorchOn},r.prototype.flipState=function(){return dg(this,void 0,void 0,function(){var i,s;return hg(this,function(c){switch(c.label){case 0:this.buttonController.disable(),i=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(i)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),i),[3,4];case 3:return s=c.sent(),this.propagateFailure(i,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},r.prototype.updateUiBasedOnLatestSettings=function(i,s){i===s?(this.buttonController.setText(s?_t.torchOffButton():_t.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},r.prototype.propagateFailure=function(i,s){var c=i?_t.torchOnFailedMessage():_t.torchOffFailedMessage();s&&(c+="; Error = "+s),this.onTorchActionFailureCallback(c)},r.prototype.reset=function(){this.isTorchOn=!1},r}(),Mw=function(){function r(i,s){this.onTorchActionFailureCallback=s,this.torchButton=Oi.createElement("button",Sr.TORCH_BUTTON_ID),this.torchController=new y1(i,this,s)}return r.prototype.render=function(i,s){var c=this;this.torchButton.innerText=_t.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var h=this;this.torchButton.addEventListener("click",function(p){return dg(c,void 0,void 0,function(){return hg(this,function(w){switch(w.label){case 0:return[4,h.torchController.flipState()];case 1:return w.sent(),h.torchController.isTorchEnabled()?(h.torchButton.classList.remove(Sr.TORCH_BUTTON_CLASS_TORCH_OFF),h.torchButton.classList.add(Sr.TORCH_BUTTON_CLASS_TORCH_ON)):(h.torchButton.classList.remove(Sr.TORCH_BUTTON_CLASS_TORCH_ON),h.torchButton.classList.add(Sr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),i.appendChild(this.torchButton)},r.prototype.updateTorchCapability=function(i){this.torchController=new y1(i,this,this.onTorchActionFailureCallback)},r.prototype.getTorchButton=function(){return this.torchButton},r.prototype.hide=function(){this.torchButton.style.display="none"},r.prototype.show=function(){this.torchButton.style.display="inline-block"},r.prototype.disable=function(){this.torchButton.disabled=!0},r.prototype.enable=function(){this.torchButton.disabled=!1},r.prototype.setText=function(i){this.torchButton.innerText=i},r.prototype.reset=function(){this.torchButton.innerText=_t.torchOnButton(),this.torchController.reset()},r.create=function(i,s,c,h){var p=new r(s,h);return p.render(i,c),p},r}(),_w=function(){function r(i,s,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",i.appendChild(this.fileBasedScanRegion);var h=document.createElement("label");h.setAttribute("for",this.getFileScanInputId()),h.style.display="inline-block",this.fileBasedScanRegion.appendChild(h),this.fileSelectionButton=Oi.createElement("button",Sr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){h.click()}),h.append(this.fileSelectionButton),this.fileScanInput=Oi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",h.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var C=E.target;if(!(C.files&&C.files.length===0)){var x=C.files,S=x[0],T=S.name;p.setImageNameToButton(T),c(S)}}});var w=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(w),this.fileBasedScanRegion.addEventListener("dragenter",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var C=E.dataTransfer;if(C){var x=C.files;if(!x||x.length===0)return;for(var S=!1,T=0;T<x.length;++T){var N=x.item(T);if(N){var O=/image.*/;if(N.type.match(O)){S=!0;var k=N.name;p.setImageNameToButton(k),c(N),w.innerText=_t.dragAndDropMessage();break}}}S||(w.innerText=_t.dragAndDropMessageOnlyImages())}})}return r.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},r.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},r.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},r.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},r.prototype.createFileBasedScanRegion=function(){var i=document.createElement("div");return i.style.textAlign="center",i.style.margin="auto",i.style.width="80%",i.style.maxWidth="600px",i.style.border=this.fileBasedScanRegionDefaultBorder(),i.style.padding="10px",i.style.marginBottom="10px",i},r.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},r.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},r.prototype.createDragAndDropMessage=function(){var i=document.createElement("div");return i.innerText=_t.dragAndDropMessage(),i.style.fontWeight="400",i},r.prototype.setImageNameToButton=function(i){var s=20;if(i.length>s){var c=i.substring(0,8),h=i.length,p=i.substring(h-8,h);i="".concat(c,"....").concat(p)}var w=_t.fileSelectionChooseAnother()+" - "+i;this.fileSelectionButton.innerText=w},r.prototype.setInitialValueToButton=function(){var i=_t.fileSelectionChooseImage()+" - "+_t.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=i},r.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},r.create=function(i,s,c){var h=new r(i,s,c);return h},r}(),Dw=function(){function r(i){this.selectElement=Oi.createElement("select",Sr.CAMERA_SELECTION_SELECT_ID),this.cameras=i,this.options=[]}return r.prototype.render=function(i){var s=document.createElement("span");s.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)s.style.display="none";else{var h=_t.selectCamera();s.innerText="".concat(h," (").concat(this.cameras.length,")  ")}for(var p=1,w=0,E=this.cameras;w<E.length;w++){var C=E[w],x=C.id,S=C.label==null?x:C.label;(!S||S==="")&&(S=[_t.anonymousCameraPrefix(),p++].join(" "));var T=document.createElement("option");T.value=x,T.innerText=S,this.options.push(T),this.selectElement.appendChild(T)}s.appendChild(this.selectElement),i.appendChild(s)},r.prototype.disable=function(){this.selectElement.disabled=!0},r.prototype.isDisabled=function(){return this.selectElement.disabled===!0},r.prototype.enable=function(){this.selectElement.disabled=!1},r.prototype.getValue=function(){return this.selectElement.value},r.prototype.hasValue=function(i){for(var s=0,c=this.options;s<c.length;s++){var h=c[s];if(h.value===i)return!0}return!1},r.prototype.setValue=function(i){if(!this.hasValue(i))throw new Error("".concat(i," is not present in the camera list."));this.selectElement.value=i},r.prototype.hasSingleItem=function(){return this.cameras.length===1},r.prototype.numCameras=function(){return this.cameras.length},r.create=function(i,s){var c=new r(s);return c.render(i),c},r}(),Ow=function(){function r(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Oi.createElement("input",Sr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return r.prototype.render=function(i,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",i.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=_t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var h=this;this.rangeInput.addEventListener("input",function(){return h.onValueChange()}),this.rangeInput.addEventListener("change",function(){return h.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},r.prototype.onValueChange=function(){var i=_t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},r.prototype.setValues=function(i,s,c,h){this.rangeInput.min=i.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=h.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},r.prototype.show=function(){this.zoomElementContainer.style.display="block"},r.prototype.hide=function(){this.zoomElementContainer.style.display="none"},r.prototype.setOnCameraZoomValueChangeCallback=function(i){this.onChangeCallback=i},r.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},r.create=function(i,s){var c=new r;return c.render(i,s),c},r}(),Ar;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ar||(Ar={}));function Pw(r){return{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}}function Lw(r,i){return{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:i}}var kw=function(){function r(i,s,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=i,this.config=this.createConfig(s),this.verbose=c===!0,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.scanTypeSelector=new as(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ug(this.verbose),this.persistedDataManager=new Sw,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return r.prototype.render=function(i,s){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,w){if(i)i(p,w);else{if(c.lastMatchFound===p)return;c.lastMatchFound=p,c.setHeaderMessage(_t.lastMatch(p),Ar.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,w){s&&s(p,w)};var h=document.getElementById(this.elementId);if(!h)throw"HTML Element with id=".concat(this.elementId," not found");h.innerHTML="",this.createBasicLayout(h),this.html5Qrcode=new p1(this.getScanRegionId(),Lw(this.config,this.verbose))},r.prototype.pause=function(i){(li(i)||i!==!0)&&(i=!1),this.getHtml5QrcodeOrFail().pause(i)},r.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},r.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},r.prototype.clear=function(){var i=this,s=function(){var c=document.getElementById(i.elementId);c&&(c.innerHTML="",i.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,h){if(!i.html5Qrcode){c();return}i.html5Qrcode.isScanning?i.html5Qrcode.stop().then(function(p){if(!i.html5Qrcode){c();return}i.html5Qrcode.clear(),s(),c()}).catch(function(p){i.verbose&&i.logger.logError("Unable to stop qrcode scanner",p),h(p)}):(i.html5Qrcode.clear(),s(),c())}):Promise.resolve()},r.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},r.prototype.applyVideoConstraints=function(i){return this.getHtml5QrcodeOrFail().applyVideoConstraints(i)},r.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},r.prototype.createConfig=function(i){return i?(i.fps||(i.fps=$r.SCAN_DEFAULT_FPS),i.rememberLastUsedCamera!==!$r.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(i.rememberLastUsedCamera=$r.DEFAULT_REMEMBER_LAST_CAMERA_USED),i.supportedScanTypes||(i.supportedScanTypes=$r.DEFAULT_SUPPORTED_SCAN_TYPE),i):{fps:$r.SCAN_DEFAULT_FPS,rememberLastUsedCamera:$r.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:$r.DEFAULT_SUPPORTED_SCAN_TYPE}},r.prototype.createBasicLayout=function(i){i.style.position="relative",i.style.padding="0px",i.style.border="1px solid silver",this.createHeader(i);var s=document.createElement("div"),c=this.getScanRegionId();s.id=c,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",i.appendChild(s),as.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var h=document.createElement("div"),p=this.getDashboardId();h.id=p,h.style.width="100%",i.appendChild(h),this.setupInitialDashboard(h)},r.prototype.resetBasicLayout=function(i){i.style.border="none"},r.prototype.setupInitialDashboard=function(i){this.createSection(i),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},r.prototype.createHeader=function(i){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",i.appendChild(s);var c=new bw;c.renderInto(s);var h=document.createElement("div");h.id=this.getHeaderMessageContainerId(),h.style.display="none",h.style.textAlign="center",h.style.fontSize="14px",h.style.padding="2px 10px",h.style.margin="4px",h.style.borderTop="1px solid #f6f6f6",s.appendChild(h)},r.prototype.createSection=function(i){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",i.appendChild(s)},r.prototype.createCameraListUi=function(i,s,c){var h=this;h.showHideScanTypeSwapLink(!1),h.setHeaderMessage(_t.cameraPermissionRequesting());var p=function(){c||h.createPermissionButton(i,s)};p1.getCameras().then(function(w){h.persistedDataManager.setHasPermission(!0),h.showHideScanTypeSwapLink(!0),h.resetHeaderMessage(),w&&w.length>0?(i.removeChild(s),h.renderCameraSelection(w)):(h.setHeaderMessage(_t.noCameraFound(),Ar.STATUS_WARNING),p())}).catch(function(w){h.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:p(),h.setHeaderMessage(w,Ar.STATUS_WARNING),h.showHideScanTypeSwapLink(!0)})},r.prototype.createPermissionButton=function(i,s){var c=this,h=Oi.createElement("button",this.getCameraPermissionButtonId());h.innerText=_t.cameraPermissionTitle(),h.addEventListener("click",function(){h.disabled=!0,c.createCameraListUi(i,s,h)}),s.appendChild(h)},r.prototype.createPermissionsUi=function(i,s){var c=this;if(as.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){x1.hasPermissions().then(function(h){h?c.createCameraListUi(i,s):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(i,s))}).catch(function(h){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(i,s)});return}this.createPermissionButton(i,s)},r.prototype.createSectionControlPanel=function(){var i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");i.appendChild(s);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=as.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(c);var h=document.createElement("div");h.style.textAlign="center",c.appendChild(h),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,h),this.renderFileScanUi(s)},r.prototype.renderFileScanUi=function(i){var s=as.isFileScanType(this.currentScanType),c=this,h=function(p){if(!c.html5Qrcode)throw"html5Qrcode not defined";as.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(_t.loadingImage()),c.html5Qrcode.scanFileV2(p,!0).then(function(w){c.resetHeaderMessage(),c.qrCodeSuccessCallback(w.decodedText,w)}).catch(function(w){c.setHeaderMessage(w,Ar.STATUS_WARNING),c.qrCodeErrorCallback(w,lg.createFrom(w))}))};this.fileSelectionUi=_w.create(i,s,h)},r.prototype.renderCameraSelection=function(i){var s=this,c=this,h=document.getElementById(this.getDashboardSectionCameraScanRegionId());h.style.textAlign="center";var p=Ow.create(h,!1),w=function(F){var B=F.zoomFeature();if(B.isSupported()){p.setOnCameraZoomValueChangeCallback(function(H){B.apply(H)});var z=1;s.config.defaultZoomValueIfSupported&&(z=s.config.defaultZoomValueIfSupported),z=qy(z,B.min(),B.max()),p.setValues(B.min(),B.max(),z,B.step()),p.show()}},E=Dw.create(h,i),C=document.createElement("span"),x=Oi.createElement("button",Sr.CAMERA_START_BUTTON_ID);x.innerText=_t.scanButtonStartScanningText(),C.appendChild(x);var S=Oi.createElement("button",Sr.CAMERA_STOP_BUTTON_ID);S.innerText=_t.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,C.appendChild(S);var T,N=function(F){if(!F.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(F.torchFeature()):T=Mw.create(C,F.torchFeature(),{display:"none",marginLeft:"5px"},function(B){c.setHeaderMessage(B,Ar.STATUS_WARNING)}),T.show()};h.appendChild(C);var O=function(F){F||(x.style.display="none"),x.innerText=_t.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,F&&(x.style.display="inline-block")};if(x.addEventListener("click",function(F){x.innerText=_t.scanButtonScanningStarting(),E.disable(),x.disabled=!0,x.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var B=E.getValue();c.persistedDataManager.setLastUsedCameraId(B),c.html5Qrcode.start(B,Pw(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(z){S.disabled=!1,S.style.display="inline-block",O(!1);var H=c.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&N(H),s.config.showZoomSliderIfSupported===!0&&w(H)}).catch(function(z){c.showHideScanTypeSwapLink(!0),E.enable(),O(!0),c.setHeaderMessage(z,Ar.STATUS_WARNING)})}),E.hasSingleItem()&&x.click(),S.addEventListener("click",function(F){if(!c.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,c.html5Qrcode.stop().then(function(B){s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),E.enable(),x.disabled=!1,S.style.display="none",x.style.display="inline-block",T&&(T.reset(),T.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(B){S.disabled=!1,c.setHeaderMessage(B,Ar.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var k=c.persistedDataManager.getLastUsedCameraId();E.hasValue(k)?(E.setValue(k),x.click()):c.persistedDataManager.resetLastUsedCameraId()}},r.prototype.createSectionSwap=function(){var i=this,s=_t.textIfCameraScanSelected(),c=_t.textIfFileScanSelected(),h=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var w=Oi.createElement("span",this.getDashboardSectionSwapLinkId());w.style.textDecoration="underline",w.style.cursor="pointer",w.innerText=as.isCameraScanType(this.currentScanType)?s:c,w.addEventListener("click",function(){if(!i.sectionSwapAllowed){i.verbose&&i.logger.logError("Section swap called when not allowed");return}i.resetHeaderMessage(),i.fileSelectionUi.resetValue(),i.sectionSwapAllowed=!1,as.isCameraScanType(i.currentScanType)?(i.clearScanRegion(),i.getCameraScanRegion().style.display="none",i.fileSelectionUi.show(),w.innerText=c,i.currentScanType=cs.SCAN_TYPE_FILE,i.insertFileScanImageToScanRegion()):(i.clearScanRegion(),i.getCameraScanRegion().style.display="block",i.fileSelectionUi.hide(),w.innerText=s,i.currentScanType=cs.SCAN_TYPE_CAMERA,i.insertCameraScanImageToScanRegion(),i.startCameraScanIfPermissionExistsOnSwap()),i.sectionSwapAllowed=!0}),p.appendChild(w),h.appendChild(p)},r.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var i=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){x1.hasPermissions().then(function(c){if(c){var h=document.getElementById(s.getCameraPermissionButtonId());if(!h)throw i.logger.logError("Permission button not found, fail;"),"Permission button not found";h.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(c){s.persistedDataManager.setHasPermission(!1)});return}},r.prototype.resetHeaderMessage=function(){var i=document.getElementById(this.getHeaderMessageContainerId());i.style.display="none"},r.prototype.setHeaderMessage=function(i,s){s||(s=Ar.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=i,c.style.display="block",s){case Ar.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case Ar.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case Ar.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},r.prototype.showHideScanTypeSwapLink=function(i){this.scanTypeSelector.hasMoreThanOneScanType()&&(i!==!0&&(i=!1),this.sectionSwapAllowed=i,this.getDashboardSectionSwapLink().style.display=i?"inline-block":"none")},r.prototype.insertCameraScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(i.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=vw,this.cameraScanImage.alt=_t.cameraScanAltText()},r.prototype.insertFileScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(i.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Ew,this.fileScanImage.alt=_t.fileScanAltText()},r.prototype.clearScanRegion=function(){var i=document.getElementById(this.getScanRegionId());i.innerHTML=""},r.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},r.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},r.prototype.getDashboardSectionSwapLinkId=function(){return Sr.SCAN_TYPE_CHANGE_ANCHOR_ID},r.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},r.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},r.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},r.prototype.getCameraPermissionButtonId=function(){return Sr.CAMERA_PERMISSION_BUTTON_ID},r.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},r.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},r.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},r}();const Bw=({user:r})=>{const i=qr();return D.jsx("div",{children:D.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",width:"94%",height:"10px",left:"3%"},children:r==null?D.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[D.jsx("button",{className:"login-button",onClick:()=>i("/login"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:D.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Login"})}),D.jsx("button",{className:"login-button",onClick:()=>i("/signup"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:D.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Sign up"})})]}):D.jsx("div",{children:D.jsx("button",{className:"login-button",onClick:()=>i("/logout"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:D.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Logout"})})})})})},id=L.createContext({});function sd(r){const i=L.useRef(null);return i.current===null&&(i.current=r()),i.current}const od=typeof window<"u",pg=od?L.useLayoutEffect:L.useEffect,Ru=L.createContext(null),ad=L.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class Fw extends L.Component{getSnapshotBeforeUpdate(i){const s=this.props.childRef.current;if(s&&i.isPresent&&!this.props.isPresent){const c=s.offsetParent,h=c instanceof HTMLElement&&c.offsetWidth||0,p=this.props.sizeRef.current;p.height=s.offsetHeight||0,p.width=s.offsetWidth||0,p.top=s.offsetTop,p.left=s.offsetLeft,p.right=h-p.width-p.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jw({children:r,isPresent:i,anchorX:s}){const c=L.useId(),h=L.useRef(null),p=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:w}=L.useContext(ad);return L.useInsertionEffect(()=>{const{width:E,height:C,top:x,left:S,right:T}=p.current;if(i||!h.current||!E||!C)return;const N=s==="left"?`left: ${S}`:`right: ${T}`;h.current.dataset.motionPopId=c;const O=document.createElement("style");return w&&(O.nonce=w),document.head.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${C}px !important;
            ${N}px !important;
            top: ${x}px !important;
          }
        `),()=>{document.head.removeChild(O)}},[i]),D.jsx(Fw,{isPresent:i,childRef:h,sizeRef:p,children:L.cloneElement(r,{ref:h})})}const Uw=({children:r,initial:i,isPresent:s,onExitComplete:c,custom:h,presenceAffectsLayout:p,mode:w,anchorX:E})=>{const C=sd(zw),x=L.useId(),S=L.useCallback(N=>{C.set(N,!0);for(const O of C.values())if(!O)return;c&&c()},[C,c]),T=L.useMemo(()=>({id:x,initial:i,isPresent:s,custom:h,onExitComplete:S,register:N=>(C.set(N,!1),()=>C.delete(N))}),p?[Math.random(),S]:[s,S]);return L.useMemo(()=>{C.forEach((N,O)=>C.set(O,!1))},[s]),L.useEffect(()=>{!s&&!C.size&&c&&c()},[s]),w==="popLayout"&&(r=D.jsx(jw,{isPresent:s,anchorX:E,children:r})),D.jsx(Ru.Provider,{value:T,children:r})};function zw(){return new Map}function gg(r=!0){const i=L.useContext(Ru);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:c,register:h}=i,p=L.useId();L.useEffect(()=>{if(r)return h(p)},[r]);const w=L.useCallback(()=>r&&c&&c(p),[p,c,r]);return!s&&c?[!1,w]:[!0]}const su=r=>r.key||"";function w1(r){const i=[];return L.Children.forEach(r,s=>{L.isValidElement(s)&&i.push(s)}),i}const C1=({children:r,custom:i,initial:s=!0,onExitComplete:c,presenceAffectsLayout:h=!0,mode:p="sync",propagate:w=!1,anchorX:E="left"})=>{const[C,x]=gg(w),S=L.useMemo(()=>w1(r),[r]),T=w&&!C?[]:S.map(su),N=L.useRef(!0),O=L.useRef(S),k=sd(()=>new Map),[F,B]=L.useState(S),[z,H]=L.useState(S);pg(()=>{N.current=!1,O.current=S;for(let le=0;le<z.length;le++){const ue=su(z[le]);T.includes(ue)?k.delete(ue):k.get(ue)!==!0&&k.set(ue,!1)}},[z,T.length,T.join("-")]);const V=[];if(S!==F){let le=[...S];for(let ue=0;ue<z.length;ue++){const q=z[ue],ce=su(q);T.includes(ce)||(le.splice(ue,0,q),V.push(q))}return p==="wait"&&V.length&&(le=V),H(w1(le)),B(S),null}const{forceRender:re}=L.useContext(id);return D.jsx(D.Fragment,{children:z.map(le=>{const ue=su(le),q=w&&!C?!1:S===z||T.includes(ue),ce=()=>{if(k.has(ue))k.set(ue,!0);else return;let ne=!0;k.forEach(_e=>{_e||(ne=!1)}),ne&&(re==null||re(),H(O.current),w&&(x==null||x()),c&&c())};return D.jsx(Uw,{isPresent:q,initial:!N.current||s?void 0:!1,custom:i,presenceAffectsLayout:h,mode:p,onExitComplete:q?void 0:ce,anchorX:E,children:le},ue)})})};function ld(r,i){r.indexOf(i)===-1&&r.push(i)}function ud(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}let mg=()=>{};const Vw={useManualTiming:!1};function cd(r){let i;return()=>(i===void 0&&(i=r()),i)}const jr=r=>r,Oa=(r,i,s)=>{const c=i-r;return c===0?1:(s-r)/c};class fd{constructor(){this.subscriptions=[]}add(i){return ld(this.subscriptions,i),()=>ud(this.subscriptions,i)}notify(i,s,c){const h=this.subscriptions.length;if(h)if(h===1)this.subscriptions[0](i,s,c);else for(let p=0;p<h;p++){const w=this.subscriptions[p];w&&w(i,s,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ui=r=>r*1e3,ci=r=>r/1e3;function xg(r,i){return i?r*(1e3/i):0}const Ww=cd(()=>window.ScrollTimeline!==void 0);class Hw{constructor(i){this.stop=()=>this.runAll("stop"),this.animations=i.filter(Boolean)}get finished(){return Promise.all(this.animations.map(i=>i.finished))}getAll(i){return this.animations[0][i]}setAll(i,s){for(let c=0;c<this.animations.length;c++)this.animations[c][i]=s}attachTimeline(i,s){const c=this.animations.map(h=>{if(Ww()&&h.attachTimeline)return h.attachTimeline(i);if(typeof s=="function")return s(h)});return()=>{c.forEach((h,p)=>{h&&h(),this.animations[p].stop()})}}get time(){return this.getAll("time")}set time(i){this.setAll("time",i)}get speed(){return this.getAll("speed")}set speed(i){this.setAll("speed",i)}get startTime(){return this.getAll("startTime")}get duration(){let i=0;for(let s=0;s<this.animations.length;s++)i=Math.max(i,this.animations[s].duration);return i}runAll(i){this.animations.forEach(s=>s[i]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Gw extends Hw{then(i,s){return this.finished.finally(i).then(()=>{})}}const v1={value:null},dd=r=>Array.isArray(r)&&typeof r[0]=="number",Yw={};function Xw(r,i){const s=cd(r);return()=>Yw[i]??s()}const Pa=Xw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yg=(r,i,s=10)=>{let c="";const h=Math.max(Math.round(i/s),2);for(let p=0;p<h;p++)c+=r(p/(h-1))+", ";return`linear(${c.substring(0,c.length-2)})`},Ia=([r,i,s,c])=>`cubic-bezier(${r}, ${i}, ${s}, ${c})`,Rf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ia([0,.65,.55,1]),circOut:Ia([.55,0,1,.45]),backIn:Ia([.31,.01,.66,-.59]),backOut:Ia([.33,1.53,.69,.99])};function wg(r,i){if(r)return typeof r=="function"&&Pa()?yg(r,i):dd(r)?Ia(r):Array.isArray(r)?r.map(s=>wg(s,i)||Rf.easeOut):Rf[r]}function Zw(r,i,s,{delay:c=0,duration:h=300,repeat:p=0,repeatType:w="loop",ease:E="easeInOut",times:C}={},x=void 0){const S={[i]:s};C&&(S.offset=C);const T=wg(E,h);return Array.isArray(T)&&(S.easing=T),r.animate(S,{delay:c,duration:h,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:p+1,direction:w==="reverse"?"alternate":"normal",pseudoElement:x})}function hd(r){return typeof r=="function"&&"applyToOptions"in r}function pd(r,i){return(r==null?void 0:r[i])??(r==null?void 0:r.default)??r}const yu=2e4;function gd(r){let i=0;const s=50;let c=r.next(i);for(;!c.done&&i<yu;)i+=s,c=r.next(i);return i>=yu?1/0:i}function Kw(r,i=100,s){const c=s({...r,keyframes:[0,i]}),h=Math.min(gd(c),yu);return{type:"keyframes",ease:p=>c.next(h*p).value/i,duration:ci(h)}}function Cg(r){return!!(typeof r=="function"&&Pa()||!r||typeof r=="string"&&(r in Rf||Pa())||dd(r)||Array.isArray(r)&&r.every(Cg))}function E1(r,i){r.timeline=i,r.onfinish=null}const ou=["read","resolveKeyframes","update","preRender","render","postRender"];function Qw(r,i){let s=new Set,c=new Set,h=!1,p=!1;const w=new WeakSet;let E={delta:0,timestamp:0,isProcessing:!1},C=0;function x(T){w.has(T)&&(S.schedule(T),r()),C++,T(E)}const S={schedule:(T,N=!1,O=!1)=>{const F=O&&h?s:c;return N&&w.add(T),F.has(T)||F.add(T),T},cancel:T=>{c.delete(T),w.delete(T)},process:T=>{if(E=T,h){p=!0;return}h=!0,[s,c]=[c,s],s.forEach(x),i&&v1.value&&v1.value.frameloop[i].push(C),C=0,s.clear(),h=!1,p&&(p=!1,S.process(T))}};return S}const $w=40;function vg(r,i){let s=!1,c=!0;const h={delta:0,timestamp:0,isProcessing:!1},p=()=>s=!0,w=ou.reduce((z,H)=>(z[H]=Qw(p,i?H:void 0),z),{}),{read:E,resolveKeyframes:C,update:x,preRender:S,render:T,postRender:N}=w,O=()=>{const z=performance.now();s=!1,h.delta=c?1e3/60:Math.max(Math.min(z-h.timestamp,$w),1),h.timestamp=z,h.isProcessing=!0,E.process(h),C.process(h),x.process(h),S.process(h),T.process(h),N.process(h),h.isProcessing=!1,s&&i&&(c=!1,r(O))},k=()=>{s=!0,c=!0,h.isProcessing||r(O)};return{schedule:ou.reduce((z,H)=>{const V=w[H];return z[H]=(re,le=!1,ue=!1)=>(s||k(),V.schedule(re,le,ue)),z},{}),cancel:z=>{for(let H=0;H<ou.length;H++)w[ou[H]].cancel(z)},state:h,steps:w}}const{schedule:Wt,cancel:fs,state:jn,steps:hf}=vg(typeof requestAnimationFrame<"u"?requestAnimationFrame:jr,!0),{schedule:md}=vg(queueMicrotask,!1);let du;function qw(){du=void 0}const fi={now:()=>(du===void 0&&fi.set(jn.isProcessing||Vw.useManualTiming?jn.timestamp:performance.now()),du),set:r=>{du=r,queueMicrotask(qw)}},Qr={x:!1,y:!1};function Eg(){return Qr.x||Qr.y}function Jw(r){return r==="x"||r==="y"?Qr[r]?null:(Qr[r]=!0,()=>{Qr[r]=!1}):Qr.x||Qr.y?null:(Qr.x=Qr.y=!0,()=>{Qr.x=Qr.y=!1})}function eC(r,i,s){if(r instanceof EventTarget)return[r];if(typeof r=="string"){const h=document.querySelectorAll(r);return h?Array.from(h):[]}return Array.from(r)}function Ag(r,i){const s=eC(r),c=new AbortController,h={passive:!0,...i,signal:c.signal};return[s,h,()=>c.abort()]}function A1(r){return!(r.pointerType==="touch"||Eg())}function tC(r,i,s={}){const[c,h,p]=Ag(r,s),w=E=>{if(!A1(E))return;const{target:C}=E,x=i(C,E);if(typeof x!="function"||!C)return;const S=T=>{A1(T)&&(x(T),C.removeEventListener("pointerleave",S))};C.addEventListener("pointerleave",S,h)};return c.forEach(E=>{E.addEventListener("pointerenter",w,h)}),p}const Sg=(r,i)=>i?r===i?!0:Sg(r,i.parentElement):!1,xd=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,nC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rC(r){return nC.has(r.tagName)||r.tabIndex!==-1}const ba=new WeakSet;function S1(r){return i=>{i.key==="Enter"&&r(i)}}function pf(r,i){r.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const iC=(r,i)=>{const s=r.currentTarget;if(!s)return;const c=S1(()=>{if(ba.has(s))return;pf(s,"down");const h=S1(()=>{pf(s,"up")}),p=()=>pf(s,"cancel");s.addEventListener("keyup",h,i),s.addEventListener("blur",p,i)});s.addEventListener("keydown",c,i),s.addEventListener("blur",()=>s.removeEventListener("keydown",c),i)};function T1(r){return xd(r)&&!Eg()}function sC(r,i,s={}){const[c,h,p]=Ag(r,s),w=E=>{const C=E.currentTarget;if(!T1(E)||ba.has(C))return;ba.add(C);const x=i(C,E),S=(O,k)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",N),!(!T1(O)||!ba.has(C))&&(ba.delete(C),typeof x=="function"&&x(O,{success:k}))},T=O=>{S(O,C===window||C===document||s.useGlobalTarget||Sg(C,O.target))},N=O=>{S(O,!1)};window.addEventListener("pointerup",T,h),window.addEventListener("pointercancel",N,h)};return c.forEach(E=>{(s.useGlobalTarget?window:E).addEventListener("pointerdown",w,h),E instanceof HTMLElement&&(E.addEventListener("focus",x=>iC(x,h)),!rC(E)&&!E.hasAttribute("tabindex")&&(E.tabIndex=0))}),p}const I1=30,oC=r=>!isNaN(parseFloat(r));class aC{constructor(i,s={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(c,h=!0)=>{const p=fi.now();this.updatedAt!==p&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(c),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),h&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.owner=s.owner}setCurrent(i){this.current=i,this.updatedAt=fi.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=oC(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,s){this.events[i]||(this.events[i]=new fd);const c=this.events[i].add(s);return i==="change"?()=>{c(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,s){this.passiveEffect=i,this.stopPassiveEffect=s}set(i,s=!0){!s||!this.passiveEffect?this.updateAndNotify(i,s):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,s,c){this.set(s),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-c}jump(i,s=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>I1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,I1);return xg(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(i){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=i(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(r,i){return new aC(r,i)}const Tg=L.createContext({strict:!1}),b1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bo={};for(const r in b1)bo[r]={isEnabled:i=>b1[r].some(s=>!!i[s])};function lC(r){for(const i in r)bo[i]={...bo[i],...r[i]}}const uC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wu(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||uC.has(r)}let Ig=r=>!wu(r);function cC(r){r&&(Ig=i=>i.startsWith("on")?!wu(i):r(i))}try{cC(require("@emotion/is-prop-valid").default)}catch{}function fC(r,i,s){const c={};for(const h in r)h==="values"&&typeof r.values=="object"||(Ig(h)||s===!0&&wu(h)||!i&&!wu(h)||r.draggable&&h.startsWith("onDrag"))&&(c[h]=r[h]);return c}function dC(r){if(typeof Proxy>"u")return r;const i=new Map,s=(...c)=>r(...c);return new Proxy(s,{get:(c,h)=>h==="create"?r:(i.has(h)||i.set(h,r(h)),i.get(h))})}const Mu=L.createContext({});function _u(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function ka(r){return typeof r=="string"||Array.isArray(r)}const yd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wd=["initial",...yd];function Du(r){return _u(r.animate)||wd.some(i=>ka(r[i]))}function bg(r){return!!(Du(r)||r.variants)}function hC(r,i){if(Du(r)){const{initial:s,animate:c}=r;return{initial:s===!1||ka(s)?s:void 0,animate:ka(c)?c:void 0}}return r.inherit!==!1?i:{}}function pC(r){const{initial:i,animate:s}=hC(r,L.useContext(Mu));return L.useMemo(()=>({initial:i,animate:s}),[N1(i),N1(s)])}function N1(r){return Array.isArray(r)?r.join(" "):r}const gC=Symbol.for("motionComponentSymbol");function Co(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function mC(r,i,s){return L.useCallback(c=>{c&&r.onMount&&r.onMount(c),i&&(c?i.mount(c):i.unmount()),s&&(typeof s=="function"?s(c):Co(s)&&(s.current=c))},[i])}const Cd=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xC="framerAppearId",Ng="data-"+Cd(xC),Rg=L.createContext({});function yC(r,i,s,c,h){var F,B;const{visualElement:p}=L.useContext(Mu),w=L.useContext(Tg),E=L.useContext(Ru),C=L.useContext(ad).reducedMotion,x=L.useRef(null);c=c||w.renderer,!x.current&&c&&(x.current=c(r,{visualState:i,parent:p,props:s,presenceContext:E,blockInitialAnimation:E?E.initial===!1:!1,reducedMotionConfig:C}));const S=x.current,T=L.useContext(Rg);S&&!S.projection&&h&&(S.type==="html"||S.type==="svg")&&wC(x.current,s,h,T);const N=L.useRef(!1);L.useInsertionEffect(()=>{S&&N.current&&S.update(s,E)});const O=s[Ng],k=L.useRef(!!O&&!((F=window.MotionHandoffIsComplete)!=null&&F.call(window,O))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,O)));return pg(()=>{S&&(N.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),md.render(S.render),k.current&&S.animationState&&S.animationState.animateChanges())}),L.useEffect(()=>{S&&(!k.current&&S.animationState&&S.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)==null||z.call(window,O)}),k.current=!1))}),S}function wC(r,i,s,c){const{layoutId:h,layout:p,drag:w,dragConstraints:E,layoutScroll:C,layoutRoot:x}=i;r.projection=new s(r.latestValues,i["data-framer-portal-id"]?void 0:Mg(r.parent)),r.projection.setOptions({layoutId:h,layout:p,alwaysMeasureLayout:!!w||E&&Co(E),visualElement:r,animationType:typeof p=="string"?p:"both",initialPromotionConfig:c,layoutScroll:C,layoutRoot:x})}function Mg(r){if(r)return r.options.allowProjection!==!1?r.projection:Mg(r.parent)}function CC({preloadedFeatures:r,createVisualElement:i,useRender:s,useVisualState:c,Component:h}){r&&lC(r);function p(E,C){let x;const S={...L.useContext(ad),...E,layoutId:vC(E)},{isStatic:T}=S,N=pC(E),O=c(E,T);if(!T&&od){EC();const k=AC(S);x=k.MeasureLayout,N.visualElement=yC(h,O,S,i,k.ProjectionNode)}return D.jsxs(Mu.Provider,{value:N,children:[x&&N.visualElement?D.jsx(x,{visualElement:N.visualElement,...S}):null,s(h,E,mC(O,N.visualElement,C),O,T,N.visualElement)]})}p.displayName=`motion.${typeof h=="string"?h:`create(${h.displayName??h.name??""})`}`;const w=L.forwardRef(p);return w[gC]=h,w}function vC({layoutId:r}){const i=L.useContext(id).id;return i&&r!==void 0?i+"-"+r:r}function EC(r,i){L.useContext(Tg).strict}function AC(r){const{drag:i,layout:s}=bo;if(!i&&!s)return{};const c={...i,...s};return{MeasureLayout:i!=null&&i.isEnabled(r)||s!=null&&s.isEnabled(r)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}const _g=r=>i=>typeof i=="string"&&i.startsWith(r),vd=_g("--"),SC=_g("var(--"),Ed=r=>SC(r)?TC.test(r.split("/*")[0].trim()):!1,TC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ba={};function IC(r){for(const i in r)Ba[i]=r[i],vd(i)&&(Ba[i].isCSSVariable=!0)}const _o=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(_o);function Dg(r,{layout:i,layoutId:s}){return Hs.has(r)||r.startsWith("origin")||(i||s!==void 0)&&(!!Ba[r]||r==="opacity")}const Qn=r=>!!(r&&r.getVelocity),Og=(r,i)=>i&&typeof r=="number"?i.transform(r):r,Li=(r,i,s)=>s>i?i:s<r?r:s,Do={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Fa={...Do,transform:r=>Li(0,1,r)},au={...Do,default:1},Ga=r=>({test:i=>typeof i=="string"&&i.endsWith(r)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${r}`}),ls=Ga("deg"),di=Ga("%"),$e=Ga("px"),bC=Ga("vh"),NC=Ga("vw"),R1={...di,parse:r=>di.parse(r)/100,transform:r=>di.transform(r*100)},RC={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e},MC={rotate:ls,rotateX:ls,rotateY:ls,rotateZ:ls,scale:au,scaleX:au,scaleY:au,scaleZ:au,skew:ls,skewX:ls,skewY:ls,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Fa,originX:R1,originY:R1,originZ:$e},M1={...Do,transform:Math.round},Ad={...RC,...MC,zIndex:M1,size:$e,fillOpacity:Fa,strokeOpacity:Fa,numOctaves:M1},_C={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DC=_o.length;function OC(r,i,s){let c="",h=!0;for(let p=0;p<DC;p++){const w=_o[p],E=r[w];if(E===void 0)continue;let C=!0;if(typeof E=="number"?C=E===(w.startsWith("scale")?1:0):C=parseFloat(E)===0,!C||s){const x=Og(E,Ad[w]);if(!C){h=!1;const S=_C[w]||w;c+=`${S}(${x}) `}s&&(i[w]=x)}}return c=c.trim(),s?c=s(i,h?"":c):h&&(c="none"),c}function Sd(r,i,s){const{style:c,vars:h,transformOrigin:p}=r;let w=!1,E=!1;for(const C in i){const x=i[C];if(Hs.has(C)){w=!0;continue}else if(vd(C)){h[C]=x;continue}else{const S=Og(x,Ad[C]);C.startsWith("origin")?(E=!0,p[C]=S):c[C]=S}}if(i.transform||(w||s?c.transform=OC(i,r.transform,s):c.transform&&(c.transform="none")),E){const{originX:C="50%",originY:x="50%",originZ:S=0}=p;c.transformOrigin=`${C} ${x} ${S}`}}const Td=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Pg(r,i,s){for(const c in i)!Qn(i[c])&&!Dg(c,s)&&(r[c]=i[c])}function PC({transformTemplate:r},i){return L.useMemo(()=>{const s=Td();return Sd(s,i,r),Object.assign({},s.vars,s.style)},[i])}function LC(r,i){const s=r.style||{},c={};return Pg(c,s,r),Object.assign(c,PC(r,i)),c}function kC(r,i){const s={},c=LC(r,i);return r.drag&&r.dragListener!==!1&&(s.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(s.tabIndex=0),s.style=c,s}const BC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Id(r){return typeof r!="string"||r.includes("-")?!1:!!(BC.indexOf(r)>-1||/[A-Z]/u.test(r))}const FC={offset:"stroke-dashoffset",array:"stroke-dasharray"},jC={offset:"strokeDashoffset",array:"strokeDasharray"};function UC(r,i,s=1,c=0,h=!0){r.pathLength=1;const p=h?FC:jC;r[p.offset]=$e.transform(-c);const w=$e.transform(i),E=$e.transform(s);r[p.array]=`${w} ${E}`}function _1(r,i,s){return typeof r=="string"?r:$e.transform(i+s*r)}function zC(r,i,s){const c=_1(i,r.x,r.width),h=_1(s,r.y,r.height);return`${c} ${h}`}function bd(r,{attrX:i,attrY:s,attrScale:c,originX:h,originY:p,pathLength:w,pathSpacing:E=1,pathOffset:C=0,...x},S,T){if(Sd(r,x,T),S){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:N,style:O,dimensions:k}=r;N.transform&&(k&&(O.transform=N.transform),delete N.transform),k&&(h!==void 0||p!==void 0||O.transform)&&(O.transformOrigin=zC(k,h!==void 0?h:.5,p!==void 0?p:.5)),i!==void 0&&(N.x=i),s!==void 0&&(N.y=s),c!==void 0&&(N.scale=c),w!==void 0&&UC(N,w,E,C,!1)}const Lg=()=>({...Td(),attrs:{}}),Nd=r=>typeof r=="string"&&r.toLowerCase()==="svg";function VC(r,i,s,c){const h=L.useMemo(()=>{const p=Lg();return bd(p,i,Nd(c),r.transformTemplate),{...p.attrs,style:{...p.style}}},[i]);if(r.style){const p={};Pg(p,r.style,r),h.style={...p,...h.style}}return h}function WC(r=!1){return(s,c,h,{latestValues:p},w)=>{const C=(Id(s)?VC:kC)(c,p,w,s),x=fC(c,typeof s=="string",r),S=s!==L.Fragment?{...x,...C,ref:h}:{},{children:T}=c,N=L.useMemo(()=>Qn(T)?T.get():T,[T]);return L.createElement(s,{...S,children:N})}}function D1(r){const i=[{},{}];return r==null||r.values.forEach((s,c)=>{i[0][c]=s.get(),i[1][c]=s.getVelocity()}),i}function Rd(r,i,s,c){if(typeof i=="function"){const[h,p]=D1(c);i=i(s!==void 0?s:r.custom,h,p)}if(typeof i=="string"&&(i=r.variants&&r.variants[i]),typeof i=="function"){const[h,p]=D1(c);i=i(s!==void 0?s:r.custom,h,p)}return i}const Mf=r=>Array.isArray(r),HC=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),GC=r=>Mf(r)?r[r.length-1]||0:r;function hu(r){const i=Qn(r)?r.get():r;return HC(i)?i.toValue():i}function YC({scrapeMotionValuesFromProps:r,createRenderState:i,onUpdate:s},c,h,p){const w={latestValues:XC(c,h,p,r),renderState:i()};return s&&(w.onMount=E=>s({props:c,current:E,...w}),w.onUpdate=E=>s(E)),w}const kg=r=>(i,s)=>{const c=L.useContext(Mu),h=L.useContext(Ru),p=()=>YC(r,i,c,h);return s?p():sd(p)};function XC(r,i,s,c){const h={},p=c(r,{});for(const N in p)h[N]=hu(p[N]);let{initial:w,animate:E}=r;const C=Du(r),x=bg(r);i&&x&&!C&&r.inherit!==!1&&(w===void 0&&(w=i.initial),E===void 0&&(E=i.animate));let S=s?s.initial===!1:!1;S=S||w===!1;const T=S?E:w;if(T&&typeof T!="boolean"&&!_u(T)){const N=Array.isArray(T)?T:[T];for(let O=0;O<N.length;O++){const k=Rd(r,N[O]);if(k){const{transitionEnd:F,transition:B,...z}=k;for(const H in z){let V=z[H];if(Array.isArray(V)){const re=S?V.length-1:0;V=V[re]}V!==null&&(h[H]=V)}for(const H in F)h[H]=F[H]}}}return h}function Md(r,i,s){var p;const{style:c}=r,h={};for(const w in c)(Qn(c[w])||i.style&&Qn(i.style[w])||Dg(w,r)||((p=s==null?void 0:s.getValue(w))==null?void 0:p.liveStyle)!==void 0)&&(h[w]=c[w]);return h}const ZC={useVisualState:kg({scrapeMotionValuesFromProps:Md,createRenderState:Td})};function Bg(r,i){try{i.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}function Fg(r,{style:i,vars:s},c,h){Object.assign(r.style,i,h&&h.getProjectionStyles(c));for(const p in s)r.style.setProperty(p,s[p])}const jg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ug(r,i,s,c){Fg(r,i,void 0,c);for(const h in i.attrs)r.setAttribute(jg.has(h)?h:Cd(h),i.attrs[h])}function zg(r,i,s){const c=Md(r,i,s);for(const h in r)if(Qn(r[h])||Qn(i[h])){const p=_o.indexOf(h)!==-1?"attr"+h.charAt(0).toUpperCase()+h.substring(1):h;c[p]=r[h]}return c}const O1=["x","y","width","height","cx","cy","r"],KC={useVisualState:kg({scrapeMotionValuesFromProps:zg,createRenderState:Lg,onUpdate:({props:r,prevProps:i,current:s,renderState:c,latestValues:h})=>{if(!s)return;let p=!!r.drag;if(!p){for(const E in h)if(Hs.has(E)){p=!0;break}}if(!p)return;let w=!i;if(i)for(let E=0;E<O1.length;E++){const C=O1[E];r[C]!==i[C]&&(w=!0)}w&&Wt.read(()=>{Bg(s,c),Wt.render(()=>{bd(c,h,Nd(s.tagName),r.transformTemplate),Ug(s,c)})})}})};function QC(r,i){return function(c,{forwardMotionProps:h}={forwardMotionProps:!1}){const w={...Id(c)?KC:ZC,preloadedFeatures:r,useRender:WC(h),createVisualElement:i,Component:c};return CC(w)}}function ja(r,i,s){const c=r.getProps();return Rd(c,i,s!==void 0?s:c.custom,r)}const Vg=new Set(["width","height","top","left","right","bottom",..._o]);function $C(r,i,s){r.hasValue(i)?r.getValue(i).set(s):r.addValue(i,La(s))}function qC(r,i){const s=ja(r,i);let{transitionEnd:c={},transition:h={},...p}=s||{};p={...p,...c};for(const w in p){const E=GC(p[w]);$C(r,w,E)}}function JC(r){return!!(Qn(r)&&r.add)}function _f(r,i){const s=r.getValue("willChange");if(JC(s))return s.add(i)}function Wg(r){return r.props[Ng]}const Hg=(r,i,s)=>(((1-3*s+3*i)*r+(3*s-6*i))*r+3*i)*r,ev=1e-7,tv=12;function nv(r,i,s,c,h){let p,w,E=0;do w=i+(s-i)/2,p=Hg(w,c,h)-r,p>0?s=w:i=w;while(Math.abs(p)>ev&&++E<tv);return w}function Ya(r,i,s,c){if(r===i&&s===c)return jr;const h=p=>nv(p,0,1,r,s);return p=>p===0||p===1?p:Hg(h(p),i,c)}const Gg=r=>i=>i<=.5?r(2*i)/2:(2-r(2*(1-i)))/2,Yg=r=>i=>1-r(1-i),Xg=Ya(.33,1.53,.69,.99),_d=Yg(Xg),Zg=Gg(_d),Kg=r=>(r*=2)<1?.5*_d(r):.5*(2-Math.pow(2,-10*(r-1))),Dd=r=>1-Math.sin(Math.acos(r)),Qg=Yg(Dd),$g=Gg(Dd),qg=r=>/^0[^.\s]+$/u.test(r);function rv(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||qg(r):!0}const Na=r=>Math.round(r*1e5)/1e5,Od=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iv(r){return r==null}const sv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Pd=(r,i)=>s=>!!(typeof s=="string"&&sv.test(s)&&s.startsWith(r)||i&&!iv(s)&&Object.prototype.hasOwnProperty.call(s,i)),Jg=(r,i,s)=>c=>{if(typeof c!="string")return c;const[h,p,w,E]=c.match(Od);return{[r]:parseFloat(h),[i]:parseFloat(p),[s]:parseFloat(w),alpha:E!==void 0?parseFloat(E):1}},ov=r=>Li(0,255,r),gf={...Do,transform:r=>Math.round(ov(r))},Us={test:Pd("rgb","red"),parse:Jg("red","green","blue"),transform:({red:r,green:i,blue:s,alpha:c=1})=>"rgba("+gf.transform(r)+", "+gf.transform(i)+", "+gf.transform(s)+", "+Na(Fa.transform(c))+")"};function av(r){let i="",s="",c="",h="";return r.length>5?(i=r.substring(1,3),s=r.substring(3,5),c=r.substring(5,7),h=r.substring(7,9)):(i=r.substring(1,2),s=r.substring(2,3),c=r.substring(3,4),h=r.substring(4,5),i+=i,s+=s,c+=c,h+=h),{red:parseInt(i,16),green:parseInt(s,16),blue:parseInt(c,16),alpha:h?parseInt(h,16)/255:1}}const Df={test:Pd("#"),parse:av,transform:Us.transform},vo={test:Pd("hsl","hue"),parse:Jg("hue","saturation","lightness"),transform:({hue:r,saturation:i,lightness:s,alpha:c=1})=>"hsla("+Math.round(r)+", "+di.transform(Na(i))+", "+di.transform(Na(s))+", "+Na(Fa.transform(c))+")"},Kn={test:r=>Us.test(r)||Df.test(r)||vo.test(r),parse:r=>Us.test(r)?Us.parse(r):vo.test(r)?vo.parse(r):Df.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Us.transform(r):vo.transform(r)},lv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uv(r){var i,s;return isNaN(r)&&typeof r=="string"&&(((i=r.match(Od))==null?void 0:i.length)||0)+(((s=r.match(lv))==null?void 0:s.length)||0)>0}const em="number",tm="color",cv="var",fv="var(",P1="${}",dv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ua(r){const i=r.toString(),s=[],c={color:[],number:[],var:[]},h=[];let p=0;const E=i.replace(dv,C=>(Kn.test(C)?(c.color.push(p),h.push(tm),s.push(Kn.parse(C))):C.startsWith(fv)?(c.var.push(p),h.push(cv),s.push(C)):(c.number.push(p),h.push(em),s.push(parseFloat(C))),++p,P1)).split(P1);return{values:s,split:E,indexes:c,types:h}}function nm(r){return Ua(r).values}function rm(r){const{split:i,types:s}=Ua(r),c=i.length;return h=>{let p="";for(let w=0;w<c;w++)if(p+=i[w],h[w]!==void 0){const E=s[w];E===em?p+=Na(h[w]):E===tm?p+=Kn.transform(h[w]):p+=h[w]}return p}}const hv=r=>typeof r=="number"?0:r;function pv(r){const i=nm(r);return rm(r)(i.map(hv))}const ds={test:uv,parse:nm,createTransformer:rm,getAnimatableNone:pv},gv=new Set(["brightness","contrast","saturate","opacity"]);function mv(r){const[i,s]=r.slice(0,-1).split("(");if(i==="drop-shadow")return r;const[c]=s.match(Od)||[];if(!c)return r;const h=s.replace(c,"");let p=gv.has(i)?1:0;return c!==s&&(p*=100),i+"("+p+h+")"}const xv=/\b([a-z-]*)\(.*?\)/gu,Of={...ds,getAnimatableNone:r=>{const i=r.match(xv);return i?i.map(mv).join(" "):r}},yv={...Ad,color:Kn,backgroundColor:Kn,outlineColor:Kn,fill:Kn,stroke:Kn,borderColor:Kn,borderTopColor:Kn,borderRightColor:Kn,borderBottomColor:Kn,borderLeftColor:Kn,filter:Of,WebkitFilter:Of},im=r=>yv[r];function sm(r,i){let s=im(r);return s!==Of&&(s=ds),s.getAnimatableNone?s.getAnimatableNone(i):void 0}const wv=new Set(["auto","none","0"]);function Cv(r,i,s){let c=0,h;for(;c<r.length&&!h;){const p=r[c];typeof p=="string"&&!wv.has(p)&&Ua(p).values.length&&(h=r[c]),c++}if(h&&s)for(const p of i)r[p]=sm(s,h)}const zs=r=>r*180/Math.PI,Pf=r=>{const i=zs(Math.atan2(r[1],r[0]));return Lf(i)},vv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Pf,rotateZ:Pf,skewX:r=>zs(Math.atan(r[1])),skewY:r=>zs(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Lf=r=>(r=r%360,r<0&&(r+=360),r),L1=Pf,k1=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),B1=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),Ev={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k1,scaleY:B1,scale:r=>(k1(r)+B1(r))/2,rotateX:r=>Lf(zs(Math.atan2(r[6],r[5]))),rotateY:r=>Lf(zs(Math.atan2(-r[2],r[0]))),rotateZ:L1,rotate:L1,skewX:r=>zs(Math.atan(r[4])),skewY:r=>zs(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function F1(r){return r.includes("scale")?1:0}function kf(r,i){if(!r||r==="none")return F1(i);const s=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let c,h;if(s)c=Ev,h=s;else{const E=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);c=vv,h=E}if(!h)return F1(i);const p=c[i],w=h[1].split(",").map(Sv);return typeof p=="function"?p(w):w[p]}const Av=(r,i)=>{const{transform:s="none"}=getComputedStyle(r);return kf(s,i)};function Sv(r){return parseFloat(r.trim())}const j1=r=>r===Do||r===$e,Tv=new Set(["x","y","z"]),Iv=_o.filter(r=>!Tv.has(r));function bv(r){const i=[];return Iv.forEach(s=>{const c=r.getValue(s);c!==void 0&&(i.push([s,c.get()]),c.set(s.startsWith("scale")?1:0))}),i}const No={width:({x:r},{paddingLeft:i="0",paddingRight:s="0"})=>r.max-r.min-parseFloat(i)-parseFloat(s),height:({y:r},{paddingTop:i="0",paddingBottom:s="0"})=>r.max-r.min-parseFloat(i)-parseFloat(s),top:(r,{top:i})=>parseFloat(i),left:(r,{left:i})=>parseFloat(i),bottom:({y:r},{top:i})=>parseFloat(i)+(r.max-r.min),right:({x:r},{left:i})=>parseFloat(i)+(r.max-r.min),x:(r,{transform:i})=>kf(i,"x"),y:(r,{transform:i})=>kf(i,"y")};No.translateX=No.x;No.translateY=No.y;const Vs=new Set;let Bf=!1,Ff=!1;function om(){if(Ff){const r=Array.from(Vs).filter(c=>c.needsMeasurement),i=new Set(r.map(c=>c.element)),s=new Map;i.forEach(c=>{const h=bv(c);h.length&&(s.set(c,h),c.render())}),r.forEach(c=>c.measureInitialState()),i.forEach(c=>{c.render();const h=s.get(c);h&&h.forEach(([p,w])=>{var E;(E=c.getValue(p))==null||E.set(w)})}),r.forEach(c=>c.measureEndState()),r.forEach(c=>{c.suspendedScrollY!==void 0&&window.scrollTo(0,c.suspendedScrollY)})}Ff=!1,Bf=!1,Vs.forEach(r=>r.complete()),Vs.clear()}function am(){Vs.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Ff=!0)})}function Nv(){am(),om()}class Ld{constructor(i,s,c,h,p,w=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=s,this.name=c,this.motionValue=h,this.element=p,this.isAsync=w}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vs.add(this),Bf||(Bf=!0,Wt.read(am),Wt.resolveKeyframes(om))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:s,element:c,motionValue:h}=this;for(let p=0;p<i.length;p++)if(i[p]===null)if(p===0){const w=h==null?void 0:h.get(),E=i[i.length-1];if(w!==void 0)i[0]=w;else if(c&&s){const C=c.readValue(s,E);C!=null&&(i[0]=C)}i[0]===void 0&&(i[0]=E),h&&w===void 0&&h.set(i[0])}else i[p]=i[p-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lm=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),Rv=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Mv(r){const i=Rv.exec(r);if(!i)return[,];const[,s,c,h]=i;return[`--${s??c}`,h]}function um(r,i,s=1){const[c,h]=Mv(r);if(!c)return;const p=window.getComputedStyle(i).getPropertyValue(c);if(p){const w=p.trim();return lm(w)?parseFloat(w):w}return Ed(h)?um(h,i,s+1):h}const cm=r=>i=>i.test(r),_v={test:r=>r==="auto",parse:r=>r},fm=[Do,$e,di,ls,NC,bC,_v],U1=r=>fm.find(cm(r));class dm extends Ld{constructor(i,s,c,h,p){super(i,s,c,h,p,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:s,name:c}=this;if(!s||!s.current)return;super.readKeyframes();for(let C=0;C<i.length;C++){let x=i[C];if(typeof x=="string"&&(x=x.trim(),Ed(x))){const S=um(x,s.current);S!==void 0&&(i[C]=S),C===i.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!Vg.has(c)||i.length!==2)return;const[h,p]=i,w=U1(h),E=U1(p);if(w!==E)if(j1(w)&&j1(E))for(let C=0;C<i.length;C++){const x=i[C];typeof x=="string"&&(i[C]=parseFloat(x))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:s}=this,c=[];for(let h=0;h<i.length;h++)rv(i[h])&&c.push(h);c.length&&Cv(i,c,s)}measureInitialState(){const{element:i,unresolvedKeyframes:s,name:c}=this;if(!i||!i.current)return;c==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=No[c](i.measureViewportBox(),window.getComputedStyle(i.current)),s[0]=this.measuredOrigin;const h=s[s.length-1];h!==void 0&&i.getValue(c,h).jump(h,!1)}measureEndState(){var E;const{element:i,name:s,unresolvedKeyframes:c}=this;if(!i||!i.current)return;const h=i.getValue(s);h&&h.jump(this.measuredOrigin,!1);const p=c.length-1,w=c[p];c[p]=No[s](i.measureViewportBox(),window.getComputedStyle(i.current)),w!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=w),(E=this.removedTransforms)!=null&&E.length&&this.removedTransforms.forEach(([C,x])=>{i.getValue(C).set(x)}),this.resolveNoneKeyframes()}}const z1=(r,i)=>i==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ds.test(r)||r==="0")&&!r.startsWith("url("));function Dv(r){const i=r[0];if(r.length===1)return!0;for(let s=0;s<r.length;s++)if(r[s]!==i)return!0}function Ov(r,i,s,c){const h=r[0];if(h===null)return!1;if(i==="display"||i==="visibility")return!0;const p=r[r.length-1],w=z1(h,i),E=z1(p,i);return!w||!E?!1:Dv(r)||(s==="spring"||hd(s))&&c}const Pv=r=>r!==null;function Ou(r,{repeat:i,repeatType:s="loop"},c){const h=r.filter(Pv),p=i&&s!=="loop"&&i%2===1?0:h.length-1;return!p||c===void 0?h[p]:c}const Lv=40;class hm{constructor({autoplay:i=!0,delay:s=0,type:c="keyframes",repeat:h=0,repeatDelay:p=0,repeatType:w="loop",...E}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=fi.now(),this.options={autoplay:i,delay:s,type:c,repeat:h,repeatDelay:p,repeatType:w,...E},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Lv?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Nv(),this._resolved}onKeyframesResolved(i,s){this.resolvedAt=fi.now(),this.hasAttemptedResolve=!0;const{name:c,type:h,velocity:p,delay:w,onComplete:E,onUpdate:C,isGenerator:x}=this.options;if(!x&&!Ov(i,c,h,p))if(w)this.options.duration=0;else{C&&C(Ou(i,this.options,s)),E&&E(),this.resolveFinishedPromise();return}const S=this.initPlayback(i,s);S!==!1&&(this._resolved={keyframes:i,finalKeyframe:s,...S},this.onPostResolved())}onPostResolved(){}then(i,s){return this.currentFinishedPromise.then(i,s)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}const nn=(r,i,s)=>r+(i-r)*s;function mf(r,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(i-r)*6*s:s<1/2?i:s<2/3?r+(i-r)*(2/3-s)*6:r}function kv({hue:r,saturation:i,lightness:s,alpha:c}){r/=360,i/=100,s/=100;let h=0,p=0,w=0;if(!i)h=p=w=s;else{const E=s<.5?s*(1+i):s+i-s*i,C=2*s-E;h=mf(C,E,r+1/3),p=mf(C,E,r),w=mf(C,E,r-1/3)}return{red:Math.round(h*255),green:Math.round(p*255),blue:Math.round(w*255),alpha:c}}function Cu(r,i){return s=>s>0?i:r}const xf=(r,i,s)=>{const c=r*r,h=s*(i*i-c)+c;return h<0?0:Math.sqrt(h)},Bv=[Df,Us,vo],Fv=r=>Bv.find(i=>i.test(r));function V1(r){const i=Fv(r);if(!i)return!1;let s=i.parse(r);return i===vo&&(s=kv(s)),s}const W1=(r,i)=>{const s=V1(r),c=V1(i);if(!s||!c)return Cu(r,i);const h={...s};return p=>(h.red=xf(s.red,c.red,p),h.green=xf(s.green,c.green,p),h.blue=xf(s.blue,c.blue,p),h.alpha=nn(s.alpha,c.alpha,p),Us.transform(h))},jv=(r,i)=>s=>i(r(s)),Xa=(...r)=>r.reduce(jv),jf=new Set(["none","hidden"]);function Uv(r,i){return jf.has(r)?s=>s<=0?r:i:s=>s>=1?i:r}function zv(r,i){return s=>nn(r,i,s)}function kd(r){return typeof r=="number"?zv:typeof r=="string"?Ed(r)?Cu:Kn.test(r)?W1:Hv:Array.isArray(r)?pm:typeof r=="object"?Kn.test(r)?W1:Vv:Cu}function pm(r,i){const s=[...r],c=s.length,h=r.map((p,w)=>kd(p)(p,i[w]));return p=>{for(let w=0;w<c;w++)s[w]=h[w](p);return s}}function Vv(r,i){const s={...r,...i},c={};for(const h in s)r[h]!==void 0&&i[h]!==void 0&&(c[h]=kd(r[h])(r[h],i[h]));return h=>{for(const p in c)s[p]=c[p](h);return s}}function Wv(r,i){const s=[],c={color:0,var:0,number:0};for(let h=0;h<i.values.length;h++){const p=i.types[h],w=r.indexes[p][c[p]],E=r.values[w]??0;s[h]=E,c[p]++}return s}const Hv=(r,i)=>{const s=ds.createTransformer(i),c=Ua(r),h=Ua(i);return c.indexes.var.length===h.indexes.var.length&&c.indexes.color.length===h.indexes.color.length&&c.indexes.number.length>=h.indexes.number.length?jf.has(r)&&!h.values.length||jf.has(i)&&!c.values.length?Uv(r,i):Xa(pm(Wv(c,h),h.values),s):Cu(r,i)};function gm(r,i,s){return typeof r=="number"&&typeof i=="number"&&typeof s=="number"?nn(r,i,s):kd(r)(r,i)}const Gv=5;function mm(r,i,s){const c=Math.max(i-Gv,0);return xg(s-r(c),i-c)}const cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},H1=.001;function Yv({duration:r=cn.duration,bounce:i=cn.bounce,velocity:s=cn.velocity,mass:c=cn.mass}){let h,p,w=1-i;w=Li(cn.minDamping,cn.maxDamping,w),r=Li(cn.minDuration,cn.maxDuration,ci(r)),w<1?(h=x=>{const S=x*w,T=S*r,N=S-s,O=Uf(x,w),k=Math.exp(-T);return H1-N/O*k},p=x=>{const T=x*w*r,N=T*s+s,O=Math.pow(w,2)*Math.pow(x,2)*r,k=Math.exp(-T),F=Uf(Math.pow(x,2),w);return(-h(x)+H1>0?-1:1)*((N-O)*k)/F}):(h=x=>{const S=Math.exp(-x*r),T=(x-s)*r+1;return-.001+S*T},p=x=>{const S=Math.exp(-x*r),T=(s-x)*(r*r);return S*T});const E=5/r,C=Zv(h,p,E);if(r=ui(r),isNaN(C))return{stiffness:cn.stiffness,damping:cn.damping,duration:r};{const x=Math.pow(C,2)*c;return{stiffness:x,damping:w*2*Math.sqrt(c*x),duration:r}}}const Xv=12;function Zv(r,i,s){let c=s;for(let h=1;h<Xv;h++)c=c-r(c)/i(c);return c}function Uf(r,i){return r*Math.sqrt(1-i*i)}const Kv=["duration","bounce"],Qv=["stiffness","damping","mass"];function G1(r,i){return i.some(s=>r[s]!==void 0)}function $v(r){let i={velocity:cn.velocity,stiffness:cn.stiffness,damping:cn.damping,mass:cn.mass,isResolvedFromDuration:!1,...r};if(!G1(r,Qv)&&G1(r,Kv))if(r.visualDuration){const s=r.visualDuration,c=2*Math.PI/(s*1.2),h=c*c,p=2*Li(.05,1,1-(r.bounce||0))*Math.sqrt(h);i={...i,mass:cn.mass,stiffness:h,damping:p}}else{const s=Yv(r);i={...i,...s,mass:cn.mass},i.isResolvedFromDuration=!0}return i}function vu(r=cn.visualDuration,i=cn.bounce){const s=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:i}:r;let{restSpeed:c,restDelta:h}=s;const p=s.keyframes[0],w=s.keyframes[s.keyframes.length-1],E={done:!1,value:p},{stiffness:C,damping:x,mass:S,duration:T,velocity:N,isResolvedFromDuration:O}=$v({...s,velocity:-ci(s.velocity||0)}),k=N||0,F=x/(2*Math.sqrt(C*S)),B=w-p,z=ci(Math.sqrt(C/S)),H=Math.abs(B)<5;c||(c=H?cn.restSpeed.granular:cn.restSpeed.default),h||(h=H?cn.restDelta.granular:cn.restDelta.default);let V;if(F<1){const le=Uf(z,F);V=ue=>{const q=Math.exp(-F*z*ue);return w-q*((k+F*z*B)/le*Math.sin(le*ue)+B*Math.cos(le*ue))}}else if(F===1)V=le=>w-Math.exp(-z*le)*(B+(k+z*B)*le);else{const le=z*Math.sqrt(F*F-1);V=ue=>{const q=Math.exp(-F*z*ue),ce=Math.min(le*ue,300);return w-q*((k+F*z*B)*Math.sinh(ce)+le*B*Math.cosh(ce))/le}}const re={calculatedDuration:O&&T||null,next:le=>{const ue=V(le);if(O)E.done=le>=T;else{let q=0;F<1&&(q=le===0?ui(k):mm(V,le,ue));const ce=Math.abs(q)<=c,ne=Math.abs(w-ue)<=h;E.done=ce&&ne}return E.value=E.done?w:ue,E},toString:()=>{const le=Math.min(gd(re),yu),ue=yg(q=>re.next(le*q).value,le,30);return le+"ms "+ue},toTransition:()=>{}};return re}vu.applyToOptions=r=>{const i=Kw(r,100,vu);return r.ease=Pa()?i.ease:"easeOut",r.duration=ui(i.duration),r.type="keyframes",r};function Y1({keyframes:r,velocity:i=0,power:s=.8,timeConstant:c=325,bounceDamping:h=10,bounceStiffness:p=500,modifyTarget:w,min:E,max:C,restDelta:x=.5,restSpeed:S}){const T=r[0],N={done:!1,value:T},O=ce=>E!==void 0&&ce<E||C!==void 0&&ce>C,k=ce=>E===void 0?C:C===void 0||Math.abs(E-ce)<Math.abs(C-ce)?E:C;let F=s*i;const B=T+F,z=w===void 0?B:w(B);z!==B&&(F=z-T);const H=ce=>-F*Math.exp(-ce/c),V=ce=>z+H(ce),re=ce=>{const ne=H(ce),_e=V(ce);N.done=Math.abs(ne)<=x,N.value=N.done?z:_e};let le,ue;const q=ce=>{O(N.value)&&(le=ce,ue=vu({keyframes:[N.value,k(N.value)],velocity:mm(V,ce,N.value),damping:h,stiffness:p,restDelta:x,restSpeed:S}))};return q(0),{calculatedDuration:null,next:ce=>{let ne=!1;return!ue&&le===void 0&&(ne=!0,re(ce),q(ce)),le!==void 0&&ce>=le?ue.next(ce-le):(!ne&&re(ce),N)}}}const qv=Ya(.42,0,1,1),Jv=Ya(0,0,.58,1),xm=Ya(.42,0,.58,1),eE=r=>Array.isArray(r)&&typeof r[0]!="number",tE={linear:jr,easeIn:qv,easeInOut:xm,easeOut:Jv,circIn:Dd,circInOut:$g,circOut:Qg,backIn:_d,backInOut:Zg,backOut:Xg,anticipate:Kg},X1=r=>{if(dd(r)){mg(r.length===4);const[i,s,c,h]=r;return Ya(i,s,c,h)}else if(typeof r=="string")return tE[r];return r};function nE(r,i,s){const c=[],h=s||gm,p=r.length-1;for(let w=0;w<p;w++){let E=h(r[w],r[w+1]);if(i){const C=Array.isArray(i)?i[w]||jr:i;E=Xa(C,E)}c.push(E)}return c}function rE(r,i,{clamp:s=!0,ease:c,mixer:h}={}){const p=r.length;if(mg(p===i.length),p===1)return()=>i[0];if(p===2&&i[0]===i[1])return()=>i[1];const w=r[0]===r[1];r[0]>r[p-1]&&(r=[...r].reverse(),i=[...i].reverse());const E=nE(i,c,h),C=E.length,x=S=>{if(w&&S<r[0])return i[0];let T=0;if(C>1)for(;T<r.length-2&&!(S<r[T+1]);T++);const N=Oa(r[T],r[T+1],S);return E[T](N)};return s?S=>x(Li(r[0],r[p-1],S)):x}function iE(r,i){const s=r[r.length-1];for(let c=1;c<=i;c++){const h=Oa(0,i,c);r.push(nn(s,1,h))}}function sE(r){const i=[0];return iE(i,r.length-1),i}function oE(r,i){return r.map(s=>s*i)}function aE(r,i){return r.map(()=>i||xm).splice(0,r.length-1)}function Eu({duration:r=300,keyframes:i,times:s,ease:c="easeInOut"}){const h=eE(c)?c.map(X1):X1(c),p={done:!1,value:i[0]},w=oE(s&&s.length===i.length?s:sE(i),r),E=rE(w,i,{ease:Array.isArray(h)?h:aE(i,h)});return{calculatedDuration:r,next:C=>(p.value=E(C),p.done=C>=r,p)}}const lE=r=>{const i=({timestamp:s})=>r(s);return{start:()=>Wt.update(i,!0),stop:()=>fs(i),now:()=>jn.isProcessing?jn.timestamp:fi.now()}},uE={decay:Y1,inertia:Y1,tween:Eu,keyframes:Eu,spring:vu},cE=r=>r/100;class Bd extends hm{constructor(i){super(i),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:C}=this.options;C&&C()};const{name:s,motionValue:c,element:h,keyframes:p}=this.options,w=(h==null?void 0:h.KeyframeResolver)||Ld,E=(C,x)=>this.onKeyframesResolved(C,x);this.resolver=new w(p,E,s,c,h),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(i){const{type:s="keyframes",repeat:c=0,repeatDelay:h=0,repeatType:p,velocity:w=0}=this.options,E=hd(s)?s:uE[s]||Eu;let C,x;E!==Eu&&typeof i[0]!="number"&&(C=Xa(cE,gm(i[0],i[1])),i=[0,100]);const S=E({...this.options,keyframes:i});p==="mirror"&&(x=E({...this.options,keyframes:[...i].reverse(),velocity:-w})),S.calculatedDuration===null&&(S.calculatedDuration=gd(S));const{calculatedDuration:T}=S,N=T+h,O=N*(c+1)-h;return{generator:S,mirroredGenerator:x,mapPercentToKeyframes:C,calculatedDuration:T,resolvedDuration:N,totalDuration:O}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,s=!1){const{resolved:c}=this;if(!c){const{keyframes:ce}=this.options;return{done:!0,value:ce[ce.length-1]}}const{finalKeyframe:h,generator:p,mirroredGenerator:w,mapPercentToKeyframes:E,keyframes:C,calculatedDuration:x,totalDuration:S,resolvedDuration:T}=c;if(this.startTime===null)return p.next(0);const{delay:N,repeat:O,repeatType:k,repeatDelay:F,onUpdate:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-S/this.speed,this.startTime)),s?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const z=this.currentTime-N*(this.speed>=0?1:-1),H=this.speed>=0?z<0:z>S;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=S);let V=this.currentTime,re=p;if(O){const ce=Math.min(this.currentTime,S)/T;let ne=Math.floor(ce),_e=ce%1;!_e&&ce>=1&&(_e=1),_e===1&&ne--,ne=Math.min(ne,O+1),!!(ne%2)&&(k==="reverse"?(_e=1-_e,F&&(_e-=F/T)):k==="mirror"&&(re=w)),V=Li(0,1,_e)*T}const le=H?{done:!1,value:C[0]}:re.next(V);E&&(le.value=E(le.value));let{done:ue}=le;!H&&x!==null&&(ue=this.speed>=0?this.currentTime>=S:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return q&&h!==void 0&&(le.value=Ou(C,this.options,h)),B&&B(le.value),q&&this.finish(),le}get duration(){const{resolved:i}=this;return i?ci(i.calculatedDuration):0}get time(){return ci(this.currentTime)}set time(i){i=ui(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const s=this.playbackSpeed!==i;this.playbackSpeed=i,s&&(this.time=ci(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=lE,onPlay:s,startTime:c}=this.options;this.driver||(this.driver=i(p=>this.tick(p))),s&&s();const h=this.driver.now();this.holdTime!==null?this.startTime=h-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=h):this.startTime=c??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}get finished(){return this.currentFinishedPromise}}const fE=new Set(["opacity","clipPath","filter","transform"]),dE=cd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Au=10,hE=2e4;function pE(r){return hd(r.type)||r.type==="spring"||!Cg(r.ease)}function gE(r,i){const s=new Bd({...i,keyframes:r,repeat:0,delay:0,isGenerator:!0});let c={done:!1,value:r[0]};const h=[];let p=0;for(;!c.done&&p<hE;)c=s.sample(p),h.push(c.value),p+=Au;return{times:void 0,keyframes:h,duration:p-Au,ease:"linear"}}const ym={anticipate:Kg,backInOut:Zg,circInOut:$g};function mE(r){return r in ym}class Z1 extends hm{constructor(i){super(i);const{name:s,motionValue:c,element:h,keyframes:p}=this.options;this.resolver=new dm(p,(w,E)=>this.onKeyframesResolved(w,E),s,c,h),this.resolver.scheduleResolve()}initPlayback(i,s){let{duration:c=300,times:h,ease:p,type:w,motionValue:E,name:C,startTime:x}=this.options;if(!E.owner||!E.owner.current)return!1;if(typeof p=="string"&&Pa()&&mE(p)&&(p=ym[p]),pE(this.options)){const{onComplete:T,onUpdate:N,motionValue:O,element:k,...F}=this.options,B=gE(i,F);i=B.keyframes,i.length===1&&(i[1]=i[0]),c=B.duration,h=B.times,p=B.ease,w="keyframes"}const S=Zw(E.owner.current,C,i,{...this.options,duration:c,times:h,ease:p});return S.startTime=x??this.calcStartTime(),this.pendingTimeline?(E1(S,this.pendingTimeline),this.pendingTimeline=void 0):S.onfinish=()=>{const{onComplete:T}=this.options;E.set(Ou(i,this.options,s)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:S,duration:c,times:h,type:w,ease:p,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:s}=i;return ci(s)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:s}=i;return ci(s.currentTime||0)}set time(i){const{resolved:s}=this;if(!s)return;const{animation:c}=s;c.currentTime=ui(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:s}=i;return s.playbackRate}get finished(){return this.resolved.animation.finished}set speed(i){const{resolved:s}=this;if(!s)return;const{animation:c}=s;c.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:s}=i;return s.playState}get startTime(){const{resolved:i}=this;if(!i)return null;const{animation:s}=i;return s.startTime}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:s}=this;if(!s)return jr;const{animation:c}=s;E1(c,i)}return jr}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:i}=this;if(!i)return;const{animation:s,keyframes:c,duration:h,type:p,ease:w,times:E}=i;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:x,onUpdate:S,onComplete:T,element:N,...O}=this.options,k=new Bd({...O,keyframes:c,duration:h,type:p,ease:w,times:E,isGenerator:!0}),F=ui(this.time);x.setWithVelocity(k.sample(F-Au).value,k.sample(F).value,Au)}const{onStop:C}=this.options;C&&C(),this.cancel()}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:s,name:c,repeatDelay:h,repeatType:p,damping:w,type:E}=i;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:C,transformTemplate:x}=s.owner.getProps();return dE()&&c&&fE.has(c)&&(c!=="transform"||!x)&&!C&&!h&&p!=="mirror"&&w!==0&&E!=="inertia"}}const xE={type:"spring",stiffness:500,damping:25,restSpeed:10},yE=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),wE={type:"keyframes",duration:.8},CE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vE=(r,{keyframes:i})=>i.length>2?wE:Hs.has(r)?r.startsWith("scale")?yE(i[1]):xE:CE;function EE({when:r,delay:i,delayChildren:s,staggerChildren:c,staggerDirection:h,repeat:p,repeatType:w,repeatDelay:E,from:C,elapsed:x,...S}){return!!Object.keys(S).length}const Fd=(r,i,s,c={},h,p)=>w=>{const E=pd(c,r)||{},C=E.delay||c.delay||0;let{elapsed:x=0}=c;x=x-ui(C);let S={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:i.getVelocity(),...E,delay:-x,onUpdate:N=>{i.set(N),E.onUpdate&&E.onUpdate(N)},onComplete:()=>{w(),E.onComplete&&E.onComplete()},name:r,motionValue:i,element:p?void 0:h};EE(E)||(S={...S,...vE(r,S)}),S.duration&&(S.duration=ui(S.duration)),S.repeatDelay&&(S.repeatDelay=ui(S.repeatDelay)),S.from!==void 0&&(S.keyframes[0]=S.from);let T=!1;if((S.type===!1||S.duration===0&&!S.repeatDelay)&&(S.duration=0,S.delay===0&&(T=!0)),S.allowFlatten=!E.type&&!E.ease,T&&!p&&i.get()!==void 0){const N=Ou(S.keyframes,E);if(N!==void 0)return Wt.update(()=>{S.onUpdate(N),S.onComplete()}),new Gw([])}return!p&&Z1.supports(S)?new Z1(S):new Bd(S)};function AE({protectedKeys:r,needsAnimating:i},s){const c=r.hasOwnProperty(s)&&i[s]!==!0;return i[s]=!1,c}function wm(r,i,{delay:s=0,transitionOverride:c,type:h}={}){let{transition:p=r.getDefaultTransition(),transitionEnd:w,...E}=i;c&&(p=c);const C=[],x=h&&r.animationState&&r.animationState.getState()[h];for(const S in E){const T=r.getValue(S,r.latestValues[S]??null),N=E[S];if(N===void 0||x&&AE(x,S))continue;const O={delay:s,...pd(p||{},S)};let k=!1;if(window.MotionHandoffAnimation){const B=Wg(r);if(B){const z=window.MotionHandoffAnimation(B,S,Wt);z!==null&&(O.startTime=z,k=!0)}}_f(r,S),T.start(Fd(S,T,N,r.shouldReduceMotion&&Vg.has(S)?{type:!1}:O,r,k));const F=T.animation;F&&C.push(F)}return w&&Promise.all(C).then(()=>{Wt.update(()=>{w&&qC(r,w)})}),C}function zf(r,i,s={}){var C;const c=ja(r,i,s.type==="exit"?(C=r.presenceContext)==null?void 0:C.custom:void 0);let{transition:h=r.getDefaultTransition()||{}}=c||{};s.transitionOverride&&(h=s.transitionOverride);const p=c?()=>Promise.all(wm(r,c,s)):()=>Promise.resolve(),w=r.variantChildren&&r.variantChildren.size?(x=0)=>{const{delayChildren:S=0,staggerChildren:T,staggerDirection:N}=h;return SE(r,i,S+x,T,N,s)}:()=>Promise.resolve(),{when:E}=h;if(E){const[x,S]=E==="beforeChildren"?[p,w]:[w,p];return x().then(()=>S())}else return Promise.all([p(),w(s.delay)])}function SE(r,i,s=0,c=0,h=1,p){const w=[],E=(r.variantChildren.size-1)*c,C=h===1?(x=0)=>x*c:(x=0)=>E-x*c;return Array.from(r.variantChildren).sort(TE).forEach((x,S)=>{x.notify("AnimationStart",i),w.push(zf(x,i,{...p,delay:s+C(S)}).then(()=>x.notify("AnimationComplete",i)))}),Promise.all(w)}function TE(r,i){return r.sortNodePosition(i)}function IE(r,i,s={}){r.notify("AnimationStart",i);let c;if(Array.isArray(i)){const h=i.map(p=>zf(r,p,s));c=Promise.all(h)}else if(typeof i=="string")c=zf(r,i,s);else{const h=typeof i=="function"?ja(r,i,s.custom):i;c=Promise.all(wm(r,h,s))}return c.then(()=>{r.notify("AnimationComplete",i)})}function Cm(r,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==r.length)return!1;for(let c=0;c<s;c++)if(i[c]!==r[c])return!1;return!0}const bE=wd.length;function vm(r){if(!r)return;if(!r.isControllingVariants){const s=r.parent?vm(r.parent)||{}:{};return r.props.initial!==void 0&&(s.initial=r.props.initial),s}const i={};for(let s=0;s<bE;s++){const c=wd[s],h=r.props[c];(ka(h)||h===!1)&&(i[c]=h)}return i}const NE=[...yd].reverse(),RE=yd.length;function ME(r){return i=>Promise.all(i.map(({animation:s,options:c})=>IE(r,s,c)))}function _E(r){let i=ME(r),s=K1(),c=!0;const h=C=>(x,S)=>{var N;const T=ja(r,S,C==="exit"?(N=r.presenceContext)==null?void 0:N.custom:void 0);if(T){const{transition:O,transitionEnd:k,...F}=T;x={...x,...F,...k}}return x};function p(C){i=C(r)}function w(C){const{props:x}=r,S=vm(r.parent)||{},T=[],N=new Set;let O={},k=1/0;for(let B=0;B<RE;B++){const z=NE[B],H=s[z],V=x[z]!==void 0?x[z]:S[z],re=ka(V),le=z===C?H.isActive:null;le===!1&&(k=B);let ue=V===S[z]&&V!==x[z]&&re;if(ue&&c&&r.manuallyAnimateOnMount&&(ue=!1),H.protectedKeys={...O},!H.isActive&&le===null||!V&&!H.prevProp||_u(V)||typeof V=="boolean")continue;const q=DE(H.prevProp,V);let ce=q||z===C&&H.isActive&&!ue&&re||B>k&&re,ne=!1;const _e=Array.isArray(V)?V:[V];let Ue=_e.reduce(h(z),{});le===!1&&(Ue={});const{prevResolvedValues:Ne={}}=H,je={...Ne,...Ue},be=pe=>{ce=!0,N.has(pe)&&(ne=!0,N.delete(pe)),H.needsAnimating[pe]=!0;const de=r.getValue(pe);de&&(de.liveStyle=!1)};for(const pe in je){const de=Ue[pe],Se=Ne[pe];if(O.hasOwnProperty(pe))continue;let fe=!1;Mf(de)&&Mf(Se)?fe=!Cm(de,Se):fe=de!==Se,fe?de!=null?be(pe):N.add(pe):de!==void 0&&N.has(pe)?be(pe):H.protectedKeys[pe]=!0}H.prevProp=V,H.prevResolvedValues=Ue,H.isActive&&(O={...O,...Ue}),c&&r.blockInitialAnimation&&(ce=!1),ce&&(!(ue&&q)||ne)&&T.push(..._e.map(pe=>({animation:pe,options:{type:z}})))}if(N.size){const B={};if(typeof x.initial!="boolean"){const z=ja(r,Array.isArray(x.initial)?x.initial[0]:x.initial);z&&z.transition&&(B.transition=z.transition)}N.forEach(z=>{const H=r.getBaseTarget(z),V=r.getValue(z);V&&(V.liveStyle=!0),B[z]=H??null}),T.push({animation:B})}let F=!!T.length;return c&&(x.initial===!1||x.initial===x.animate)&&!r.manuallyAnimateOnMount&&(F=!1),c=!1,F?i(T):Promise.resolve()}function E(C,x){var T;if(s[C].isActive===x)return Promise.resolve();(T=r.variantChildren)==null||T.forEach(N=>{var O;return(O=N.animationState)==null?void 0:O.setActive(C,x)}),s[C].isActive=x;const S=w(C);for(const N in s)s[N].protectedKeys={};return S}return{animateChanges:w,setActive:E,setAnimateFunction:p,getState:()=>s,reset:()=>{s=K1(),c=!0}}}function DE(r,i){return typeof i=="string"?i!==r:Array.isArray(i)?!Cm(i,r):!1}function Fs(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K1(){return{animate:Fs(!0),whileInView:Fs(),whileHover:Fs(),whileTap:Fs(),whileDrag:Fs(),whileFocus:Fs(),exit:Fs()}}class hs{constructor(i){this.isMounted=!1,this.node=i}update(){}}class OE extends hs{constructor(i){super(i),i.animationState||(i.animationState=_E(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();_u(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:s}=this.node.prevProps||{};i!==s&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let PE=0;class LE extends hs{constructor(){super(...arguments),this.id=PE++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:s}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===c)return;const h=this.node.animationState.setActive("exit",!i);s&&!i&&h.then(()=>{s(this.id)})}mount(){const{register:i,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const kE={animation:{Feature:OE},exit:{Feature:LE}};function za(r,i,s,c={passive:!0}){return r.addEventListener(i,s,c),()=>r.removeEventListener(i,s)}function Za(r){return{point:{x:r.pageX,y:r.pageY}}}const BE=r=>i=>xd(i)&&r(i,Za(i));function Ra(r,i,s,c){return za(r,i,BE(s),c)}function Em({top:r,left:i,right:s,bottom:c}){return{x:{min:i,max:s},y:{min:r,max:c}}}function FE({x:r,y:i}){return{top:i.min,right:r.max,bottom:i.max,left:r.min}}function jE(r,i){if(!i)return r;const s=i({x:r.left,y:r.top}),c=i({x:r.right,y:r.bottom});return{top:s.y,left:s.x,bottom:c.y,right:c.x}}const Am=1e-4,UE=1-Am,zE=1+Am,Sm=.01,VE=0-Sm,WE=0+Sm;function er(r){return r.max-r.min}function HE(r,i,s){return Math.abs(r-i)<=s}function Q1(r,i,s,c=.5){r.origin=c,r.originPoint=nn(i.min,i.max,r.origin),r.scale=er(s)/er(i),r.translate=nn(s.min,s.max,r.origin)-r.originPoint,(r.scale>=UE&&r.scale<=zE||isNaN(r.scale))&&(r.scale=1),(r.translate>=VE&&r.translate<=WE||isNaN(r.translate))&&(r.translate=0)}function Ma(r,i,s,c){Q1(r.x,i.x,s.x,c?c.originX:void 0),Q1(r.y,i.y,s.y,c?c.originY:void 0)}function $1(r,i,s){r.min=s.min+i.min,r.max=r.min+er(i)}function GE(r,i,s){$1(r.x,i.x,s.x),$1(r.y,i.y,s.y)}function q1(r,i,s){r.min=i.min-s.min,r.max=r.min+er(i)}function _a(r,i,s){q1(r.x,i.x,s.x),q1(r.y,i.y,s.y)}const J1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eo=()=>({x:J1(),y:J1()}),ep=()=>({min:0,max:0}),gn=()=>({x:ep(),y:ep()});function Fr(r){return[r("x"),r("y")]}function yf(r){return r===void 0||r===1}function Vf({scale:r,scaleX:i,scaleY:s}){return!yf(r)||!yf(i)||!yf(s)}function js(r){return Vf(r)||Tm(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function Tm(r){return tp(r.x)||tp(r.y)}function tp(r){return r&&r!=="0%"}function Su(r,i,s){const c=r-s,h=i*c;return s+h}function np(r,i,s,c,h){return h!==void 0&&(r=Su(r,h,c)),Su(r,s,c)+i}function Wf(r,i=0,s=1,c,h){r.min=np(r.min,i,s,c,h),r.max=np(r.max,i,s,c,h)}function Im(r,{x:i,y:s}){Wf(r.x,i.translate,i.scale,i.originPoint),Wf(r.y,s.translate,s.scale,s.originPoint)}const rp=.999999999999,ip=1.0000000000001;function YE(r,i,s,c=!1){const h=s.length;if(!h)return;i.x=i.y=1;let p,w;for(let E=0;E<h;E++){p=s[E],w=p.projectionDelta;const{visualElement:C}=p.options;C&&C.props.style&&C.props.style.display==="contents"||(c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&So(r,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),w&&(i.x*=w.x.scale,i.y*=w.y.scale,Im(r,w)),c&&js(p.latestValues)&&So(r,p.latestValues))}i.x<ip&&i.x>rp&&(i.x=1),i.y<ip&&i.y>rp&&(i.y=1)}function Ao(r,i){r.min=r.min+i,r.max=r.max+i}function sp(r,i,s,c,h=.5){const p=nn(r.min,r.max,h);Wf(r,i,s,p,c)}function So(r,i){sp(r.x,i.x,i.scaleX,i.scale,i.originX),sp(r.y,i.y,i.scaleY,i.scale,i.originY)}function bm(r,i){return Em(jE(r.getBoundingClientRect(),i))}function XE(r,i,s){const c=bm(r,s),{scroll:h}=i;return h&&(Ao(c.x,h.offset.x),Ao(c.y,h.offset.y)),c}const Nm=({current:r})=>r?r.ownerDocument.defaultView:null,op=(r,i)=>Math.abs(r-i);function ZE(r,i){const s=op(r.x,i.x),c=op(r.y,i.y);return Math.sqrt(s**2+c**2)}class Rm{constructor(i,s,{transformPagePoint:c,contextWindow:h,dragSnapToOrigin:p=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Cf(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,O=ZE(T.offset,{x:0,y:0})>=3;if(!N&&!O)return;const{point:k}=T,{timestamp:F}=jn;this.history.push({...k,timestamp:F});const{onStart:B,onMove:z}=this.handlers;N||(B&&B(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,T)},this.handlePointerMove=(T,N)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=wf(N,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(T,N)=>{this.end();const{onEnd:O,onSessionEnd:k,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Cf(T.type==="pointercancel"?this.lastMoveEventInfo:wf(N,this.transformPagePoint),this.history);this.startEvent&&O&&O(T,B),k&&k(T,B)},!xd(i))return;this.dragSnapToOrigin=p,this.handlers=s,this.transformPagePoint=c,this.contextWindow=h||window;const w=Za(i),E=wf(w,this.transformPagePoint),{point:C}=E,{timestamp:x}=jn;this.history=[{...C,timestamp:x}];const{onSessionStart:S}=s;S&&S(i,Cf(E,this.history)),this.removeListeners=Xa(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}}function wf(r,i){return i?{point:i(r.point)}:r}function ap(r,i){return{x:r.x-i.x,y:r.y-i.y}}function Cf({point:r},i){return{point:r,delta:ap(r,Mm(i)),offset:ap(r,KE(i)),velocity:QE(i,.1)}}function KE(r){return r[0]}function Mm(r){return r[r.length-1]}function QE(r,i){if(r.length<2)return{x:0,y:0};let s=r.length-1,c=null;const h=Mm(r);for(;s>=0&&(c=r[s],!(h.timestamp-c.timestamp>ui(i)));)s--;if(!c)return{x:0,y:0};const p=ci(h.timestamp-c.timestamp);if(p===0)return{x:0,y:0};const w={x:(h.x-c.x)/p,y:(h.y-c.y)/p};return w.x===1/0&&(w.x=0),w.y===1/0&&(w.y=0),w}function $E(r,{min:i,max:s},c){return i!==void 0&&r<i?r=c?nn(i,r,c.min):Math.max(r,i):s!==void 0&&r>s&&(r=c?nn(s,r,c.max):Math.min(r,s)),r}function lp(r,i,s){return{min:i!==void 0?r.min+i:void 0,max:s!==void 0?r.max+s-(r.max-r.min):void 0}}function qE(r,{top:i,left:s,bottom:c,right:h}){return{x:lp(r.x,s,h),y:lp(r.y,i,c)}}function up(r,i){let s=i.min-r.min,c=i.max-r.max;return i.max-i.min<r.max-r.min&&([s,c]=[c,s]),{min:s,max:c}}function JE(r,i){return{x:up(r.x,i.x),y:up(r.y,i.y)}}function e3(r,i){let s=.5;const c=er(r),h=er(i);return h>c?s=Oa(i.min,i.max-c,r.min):c>h&&(s=Oa(r.min,r.max-h,i.min)),Li(0,1,s)}function t3(r,i){const s={};return i.min!==void 0&&(s.min=i.min-r.min),i.max!==void 0&&(s.max=i.max-r.min),s}const Hf=.35;function n3(r=Hf){return r===!1?r=0:r===!0&&(r=Hf),{x:cp(r,"left","right"),y:cp(r,"top","bottom")}}function cp(r,i,s){return{min:fp(r,i),max:fp(r,s)}}function fp(r,i){return typeof r=="number"?r:r[i]||0}const r3=new WeakMap;class i3{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gn(),this.visualElement=i}start(i,{snapToCursor:s=!1}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const h=S=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Za(S).point)},p=(S,T)=>{const{drag:N,dragPropagation:O,onDragStart:k}=this.getProps();if(N&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jw(N),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fr(B=>{let z=this.getAxisMotionValue(B).get()||0;if(di.test(z)){const{projection:H}=this.visualElement;if(H&&H.layout){const V=H.layout.layoutBox[B];V&&(z=er(V)*(parseFloat(z)/100))}}this.originPoint[B]=z}),k&&Wt.postRender(()=>k(S,T)),_f(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},w=(S,T)=>{const{dragPropagation:N,dragDirectionLock:O,onDirectionLock:k,onDrag:F}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:B}=T;if(O&&this.currentDirection===null){this.currentDirection=s3(B),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",T.point,B),this.updateAxis("y",T.point,B),this.visualElement.render(),F&&F(S,T)},E=(S,T)=>this.stop(S,T),C=()=>Fr(S=>{var T;return this.getAnimationState(S)==="paused"&&((T=this.getAxisMotionValue(S).animation)==null?void 0:T.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new Rm(i,{onSessionStart:h,onStart:p,onMove:w,onSessionEnd:E,resumeAnimation:C},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:Nm(this.visualElement)})}stop(i,s){const c=this.isDragging;if(this.cancel(),!c)return;const{velocity:h}=s;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p&&Wt.postRender(()=>p(i,s))}cancel(){this.isDragging=!1;const{projection:i,animationState:s}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(i,s,c){const{drag:h}=this.getProps();if(!c||!lu(i,h,this.currentDirection))return;const p=this.getAxisMotionValue(i);let w=this.originPoint[i]+c[i];this.constraints&&this.constraints[i]&&(w=$E(w,this.constraints[i],this.elastic[i])),p.set(w)}resolveConstraints(){var p;const{dragConstraints:i,dragElastic:s}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(p=this.visualElement.projection)==null?void 0:p.layout,h=this.constraints;i&&Co(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&c?this.constraints=qE(c.layoutBox,i):this.constraints=!1,this.elastic=n3(s),h!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&Fr(w=>{this.constraints!==!1&&this.getAxisMotionValue(w)&&(this.constraints[w]=t3(c.layoutBox[w],this.constraints[w]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:s}=this.getProps();if(!i||!Co(i))return!1;const c=i.current,{projection:h}=this.visualElement;if(!h||!h.layout)return!1;const p=XE(c,h.root,this.visualElement.getTransformPagePoint());let w=JE(h.layout.layoutBox,p);if(s){const E=s(FE(w));this.hasMutatedConstraints=!!E,E&&(w=Em(E))}return w}startAnimation(i){const{drag:s,dragMomentum:c,dragElastic:h,dragTransition:p,dragSnapToOrigin:w,onDragTransitionEnd:E}=this.getProps(),C=this.constraints||{},x=Fr(S=>{if(!lu(S,s,this.currentDirection))return;let T=C&&C[S]||{};w&&(T={min:0,max:0});const N=h?200:1e6,O=h?40:1e7,k={type:"inertia",velocity:c?i[S]:0,bounceStiffness:N,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...p,...T};return this.startAxisValueAnimation(S,k)});return Promise.all(x).then(E)}startAxisValueAnimation(i,s){const c=this.getAxisMotionValue(i);return _f(this.visualElement,i),c.start(Fd(i,c,0,s,this.visualElement,!1))}stopAnimation(){Fr(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){Fr(i=>{var s;return(s=this.getAxisMotionValue(i).animation)==null?void 0:s.pause()})}getAnimationState(i){var s;return(s=this.getAxisMotionValue(i).animation)==null?void 0:s.state}getAxisMotionValue(i){const s=`_drag${i.toUpperCase()}`,c=this.visualElement.getProps(),h=c[s];return h||this.visualElement.getValue(i,(c.initial?c.initial[i]:void 0)||0)}snapToCursor(i){Fr(s=>{const{drag:c}=this.getProps();if(!lu(s,c,this.currentDirection))return;const{projection:h}=this.visualElement,p=this.getAxisMotionValue(s);if(h&&h.layout){const{min:w,max:E}=h.layout.layoutBox[s];p.set(i[s]-nn(w,E,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:s}=this.getProps(),{projection:c}=this.visualElement;if(!Co(s)||!c||!this.constraints)return;this.stopAnimation();const h={x:0,y:0};Fr(w=>{const E=this.getAxisMotionValue(w);if(E&&this.constraints!==!1){const C=E.get();h[w]=e3({min:C,max:C},this.constraints[w])}});const{transformTemplate:p}=this.visualElement.getProps();this.visualElement.current.style.transform=p?p({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),Fr(w=>{if(!lu(w,i,null))return;const E=this.getAxisMotionValue(w),{min:C,max:x}=this.constraints[w];E.set(nn(C,x,h[w]))})}addListeners(){if(!this.visualElement.current)return;r3.set(this.visualElement,this);const i=this.visualElement.current,s=Ra(i,"pointerdown",C=>{const{drag:x,dragListener:S=!0}=this.getProps();x&&S&&this.start(C)}),c=()=>{const{dragConstraints:C}=this.getProps();Co(C)&&C.current&&(this.constraints=this.resolveRefConstraints())},{projection:h}=this.visualElement,p=h.addEventListener("measure",c);h&&!h.layout&&(h.root&&h.root.updateScroll(),h.updateLayout()),Wt.read(c);const w=za(window,"resize",()=>this.scalePositionWithinConstraints()),E=h.addEventListener("didUpdate",({delta:C,hasLayoutChanged:x})=>{this.isDragging&&x&&(Fr(S=>{const T=this.getAxisMotionValue(S);T&&(this.originPoint[S]+=C[S].translate,T.set(T.get()+C[S].translate))}),this.visualElement.render())});return()=>{w(),s(),p(),E&&E()}}getProps(){const i=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:c=!1,dragPropagation:h=!1,dragConstraints:p=!1,dragElastic:w=Hf,dragMomentum:E=!0}=i;return{...i,drag:s,dragDirectionLock:c,dragPropagation:h,dragConstraints:p,dragElastic:w,dragMomentum:E}}}function lu(r,i,s){return(i===!0||i===r)&&(s===null||s===r)}function s3(r,i=10){let s=null;return Math.abs(r.y)>i?s="y":Math.abs(r.x)>i&&(s="x"),s}class o3 extends hs{constructor(i){super(i),this.removeGroupControls=jr,this.removeListeners=jr,this.controls=new i3(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jr}unmount(){this.removeGroupControls(),this.removeListeners()}}const dp=r=>(i,s)=>{r&&Wt.postRender(()=>r(i,s))};class a3 extends hs{constructor(){super(...arguments),this.removePointerDownListener=jr}onPointerDown(i){this.session=new Rm(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nm(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:s,onPan:c,onPanEnd:h}=this.node.getProps();return{onSessionStart:dp(i),onStart:dp(s),onMove:c,onEnd:(p,w)=>{delete this.session,h&&Wt.postRender(()=>h(p,w))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hp(r,i){return i.max===i.min?0:r/(i.max-i.min)*100}const Sa={correct:(r,i)=>{if(!i.target)return r;if(typeof r=="string")if($e.test(r))r=parseFloat(r);else return r;const s=hp(r,i.target.x),c=hp(r,i.target.y);return`${s}% ${c}%`}},l3={correct:(r,{treeScale:i,projectionDelta:s})=>{const c=r,h=ds.parse(r);if(h.length>5)return c;const p=ds.createTransformer(r),w=typeof h[0]!="number"?1:0,E=s.x.scale*i.x,C=s.y.scale*i.y;h[0+w]/=E,h[1+w]/=C;const x=nn(E,C,.5);return typeof h[2+w]=="number"&&(h[2+w]/=x),typeof h[3+w]=="number"&&(h[3+w]/=x),p(h)}};class u3 extends L.Component{componentDidMount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:c,layoutId:h}=this.props,{projection:p}=i;IC(c3),p&&(s.group&&s.group.add(p),c&&c.register&&h&&c.register(p),p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:s,visualElement:c,drag:h,isPresent:p}=this.props,w=c.projection;return w&&(w.isPresent=p,h||i.layoutDependency!==s||s===void 0||i.isPresent!==p?w.willUpdate():this.safeToRemove(),i.isPresent!==p&&(p?w.promote():w.relegate()||Wt.postRender(()=>{const E=w.getStack();(!E||!E.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),md.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:c}=this.props,{projection:h}=i;h&&(h.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(h),c&&c.deregister&&c.deregister(h))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function _m(r){const[i,s]=gg(),c=L.useContext(id);return D.jsx(u3,{...r,layoutGroup:c,switchLayoutGroup:L.useContext(Rg),isPresent:i,safeToRemove:s})}const c3={borderRadius:{...Sa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sa,borderTopRightRadius:Sa,borderBottomLeftRadius:Sa,borderBottomRightRadius:Sa,boxShadow:l3};function f3(r,i,s){const c=Qn(r)?r:La(r);return c.start(Fd("",c,i,s)),c.animation}function d3(r){return r instanceof SVGElement&&r.tagName!=="svg"}const h3=(r,i)=>r.depth-i.depth;class p3{constructor(){this.children=[],this.isDirty=!1}add(i){ld(this.children,i),this.isDirty=!0}remove(i){ud(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(h3),this.isDirty=!1,this.children.forEach(i)}}function g3(r,i){const s=fi.now(),c=({timestamp:h})=>{const p=h-s;p>=i&&(fs(c),r(p-i))};return Wt.read(c,!0),()=>fs(c)}const Dm=["TopLeft","TopRight","BottomLeft","BottomRight"],m3=Dm.length,pp=r=>typeof r=="string"?parseFloat(r):r,gp=r=>typeof r=="number"||$e.test(r);function x3(r,i,s,c,h,p){h?(r.opacity=nn(0,s.opacity!==void 0?s.opacity:1,y3(c)),r.opacityExit=nn(i.opacity!==void 0?i.opacity:1,0,w3(c))):p&&(r.opacity=nn(i.opacity!==void 0?i.opacity:1,s.opacity!==void 0?s.opacity:1,c));for(let w=0;w<m3;w++){const E=`border${Dm[w]}Radius`;let C=mp(i,E),x=mp(s,E);if(C===void 0&&x===void 0)continue;C||(C=0),x||(x=0),C===0||x===0||gp(C)===gp(x)?(r[E]=Math.max(nn(pp(C),pp(x),c),0),(di.test(x)||di.test(C))&&(r[E]+="%")):r[E]=x}(i.rotate||s.rotate)&&(r.rotate=nn(i.rotate||0,s.rotate||0,c))}function mp(r,i){return r[i]!==void 0?r[i]:r.borderRadius}const y3=Om(0,.5,Qg),w3=Om(.5,.95,jr);function Om(r,i,s){return c=>c<r?0:c>i?1:s(Oa(r,i,c))}function xp(r,i){r.min=i.min,r.max=i.max}function Br(r,i){xp(r.x,i.x),xp(r.y,i.y)}function yp(r,i){r.translate=i.translate,r.scale=i.scale,r.originPoint=i.originPoint,r.origin=i.origin}function wp(r,i,s,c,h){return r-=i,r=Su(r,1/s,c),h!==void 0&&(r=Su(r,1/h,c)),r}function C3(r,i=0,s=1,c=.5,h,p=r,w=r){if(di.test(i)&&(i=parseFloat(i),i=nn(w.min,w.max,i/100)-w.min),typeof i!="number")return;let E=nn(p.min,p.max,c);r===p&&(E-=i),r.min=wp(r.min,i,s,E,h),r.max=wp(r.max,i,s,E,h)}function Cp(r,i,[s,c,h],p,w){C3(r,i[s],i[c],i[h],i.scale,p,w)}const v3=["x","scaleX","originX"],E3=["y","scaleY","originY"];function vp(r,i,s,c){Cp(r.x,i,v3,s?s.x:void 0,c?c.x:void 0),Cp(r.y,i,E3,s?s.y:void 0,c?c.y:void 0)}function Ep(r){return r.translate===0&&r.scale===1}function Pm(r){return Ep(r.x)&&Ep(r.y)}function Ap(r,i){return r.min===i.min&&r.max===i.max}function A3(r,i){return Ap(r.x,i.x)&&Ap(r.y,i.y)}function Sp(r,i){return Math.round(r.min)===Math.round(i.min)&&Math.round(r.max)===Math.round(i.max)}function Lm(r,i){return Sp(r.x,i.x)&&Sp(r.y,i.y)}function Tp(r){return er(r.x)/er(r.y)}function Ip(r,i){return r.translate===i.translate&&r.scale===i.scale&&r.originPoint===i.originPoint}class S3{constructor(){this.members=[]}add(i){ld(this.members,i),i.scheduleRender()}remove(i){if(ud(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(i){const s=this.members.findIndex(h=>i===h);if(s===0)return!1;let c;for(let h=s;h>=0;h--){const p=this.members[h];if(p.isPresent!==!1){c=p;break}}return c?(this.promote(c),!0):!1}promote(i,s){const c=this.lead;if(i!==c&&(this.prevLead=c,this.lead=i,i.show(),c)){c.instance&&c.scheduleRender(),i.scheduleRender(),i.resumeFrom=c,s&&(i.resumeFrom.preserveOpacity=!0),c.snapshot&&(i.snapshot=c.snapshot,i.snapshot.latestValues=c.animationValues||c.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:h}=i.options;h===!1&&c.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:s,resumingFrom:c}=i;s.onExitComplete&&s.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T3(r,i,s){let c="";const h=r.x.translate/i.x,p=r.y.translate/i.y,w=(s==null?void 0:s.z)||0;if((h||p||w)&&(c=`translate3d(${h}px, ${p}px, ${w}px) `),(i.x!==1||i.y!==1)&&(c+=`scale(${1/i.x}, ${1/i.y}) `),s){const{transformPerspective:x,rotate:S,rotateX:T,rotateY:N,skewX:O,skewY:k}=s;x&&(c=`perspective(${x}px) ${c}`),S&&(c+=`rotate(${S}deg) `),T&&(c+=`rotateX(${T}deg) `),N&&(c+=`rotateY(${N}deg) `),O&&(c+=`skewX(${O}deg) `),k&&(c+=`skewY(${k}deg) `)}const E=r.x.scale*i.x,C=r.y.scale*i.y;return(E!==1||C!==1)&&(c+=`scale(${E}, ${C})`),c||"none"}const vf=["","X","Y","Z"],I3={visibility:"hidden"},bp=1e3;let b3=0;function Ef(r,i,s,c){const{latestValues:h}=i;h[r]&&(s[r]=h[r],i.setStaticValue(r,0),c&&(c[r]=0))}function km(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:i}=r.options;if(!i)return;const s=Wg(i);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:h,layoutId:p}=r.options;window.MotionCancelOptimisedAnimation(s,"transform",Wt,!(h||p))}const{parent:c}=r;c&&!c.hasCheckedOptimisedAppear&&km(c)}function Bm({attachResizeListener:r,defaultParent:i,measureScroll:s,checkIsScrollRoot:c,resetTransform:h}){return class{constructor(w={},E=i==null?void 0:i()){this.id=b3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(M3),this.nodes.forEach(L3),this.nodes.forEach(k3),this.nodes.forEach(_3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=w,this.root=E?E.root||E:this,this.path=E?[...E.path,E]:[],this.parent=E,this.depth=E?E.depth+1:0;for(let C=0;C<this.path.length;C++)this.path[C].shouldResetTransform=!0;this.root===this&&(this.nodes=new p3)}addEventListener(w,E){return this.eventHandlers.has(w)||this.eventHandlers.set(w,new fd),this.eventHandlers.get(w).add(E)}notifyListeners(w,...E){const C=this.eventHandlers.get(w);C&&C.notify(...E)}hasListeners(w){return this.eventHandlers.has(w)}mount(w,E=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=d3(w),this.instance=w;const{layoutId:C,layout:x,visualElement:S}=this.options;if(S&&!S.current&&S.mount(w),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),E&&(x||C)&&(this.isLayoutDirty=!0),r){let T;const N=()=>this.root.updateBlockedByResize=!1;r(w,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=g3(N,250),pu.hasAnimatedSinceResize&&(pu.hasAnimatedSinceResize=!1,this.nodes.forEach(Rp))})}C&&this.root.registerSharedNode(C,this),this.options.animate!==!1&&S&&(C||x)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:N,hasRelativeLayoutChanged:O,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const F=this.options.transition||S.getDefaultTransition()||z3,{onLayoutAnimationStart:B,onLayoutAnimationComplete:z}=S.getProps(),H=!this.targetLayout||!Lm(this.targetLayout,k),V=!N&&O;if(this.options.layoutRoot||this.resumeFrom||V||N&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,V);const re={...pd(F,"layout"),onPlay:B,onComplete:z};(S.shouldReduceMotion||this.options.layoutRoot)&&(re.delay=0,re.type=!1),this.startAnimation(re)}else N||Rp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const w=this.getStack();w&&w.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B3),this.animationId++)}getTransformTemplate(){const{visualElement:w}=this.options;return w&&w.getProps().transformTemplate}willUpdate(w=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&km(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const T=this.path[S];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:E,layout:C}=this.options;if(E===void 0&&!C)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),w&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Np);return}this.isUpdating||this.nodes.forEach(O3),this.isUpdating=!1,this.nodes.forEach(P3),this.nodes.forEach(N3),this.nodes.forEach(R3),this.clearAllSnapshots();const E=fi.now();jn.delta=Li(0,1e3/60,E-jn.timestamp),jn.timestamp=E,jn.isProcessing=!0,hf.update.process(jn),hf.preRender.process(jn),hf.render.process(jn),jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,md.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D3),this.sharedNodes.forEach(F3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let C=0;C<this.path.length;C++)this.path[C].updateScroll();const w=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:E}=this.options;E&&E.notify("LayoutMeasure",this.layout.layoutBox,w?w.layoutBox:void 0)}updateScroll(w="measure"){let E=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===w&&(E=!1),E){const C=c(this.instance);this.scroll={animationId:this.root.animationId,phase:w,isRoot:C,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:C}}}resetTransform(){if(!h)return;const w=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,E=this.projectionDelta&&!Pm(this.projectionDelta),C=this.getTransformTemplate(),x=C?C(this.latestValues,""):void 0,S=x!==this.prevTransformTemplateValue;w&&(E||js(this.latestValues)||S)&&(h(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(w=!0){const E=this.measurePageBox();let C=this.removeElementScroll(E);return w&&(C=this.removeTransform(C)),V3(C),{animationId:this.root.animationId,measuredBox:E,layoutBox:C,latestValues:{},source:this.id}}measurePageBox(){var x;const{visualElement:w}=this.options;if(!w)return gn();const E=w.measureViewportBox();if(!(((x=this.scroll)==null?void 0:x.wasRoot)||this.path.some(W3))){const{scroll:S}=this.root;S&&(Ao(E.x,S.offset.x),Ao(E.y,S.offset.y))}return E}removeElementScroll(w){var C;const E=gn();if(Br(E,w),(C=this.scroll)!=null&&C.wasRoot)return E;for(let x=0;x<this.path.length;x++){const S=this.path[x],{scroll:T,options:N}=S;S!==this.root&&T&&N.layoutScroll&&(T.wasRoot&&Br(E,w),Ao(E.x,T.offset.x),Ao(E.y,T.offset.y))}return E}applyTransform(w,E=!1){const C=gn();Br(C,w);for(let x=0;x<this.path.length;x++){const S=this.path[x];!E&&S.options.layoutScroll&&S.scroll&&S!==S.root&&So(C,{x:-S.scroll.offset.x,y:-S.scroll.offset.y}),js(S.latestValues)&&So(C,S.latestValues)}return js(this.latestValues)&&So(C,this.latestValues),C}removeTransform(w){const E=gn();Br(E,w);for(let C=0;C<this.path.length;C++){const x=this.path[C];if(!x.instance||!js(x.latestValues))continue;Vf(x.latestValues)&&x.updateSnapshot();const S=gn(),T=x.measurePageBox();Br(S,T),vp(E,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,S)}return js(this.latestValues)&&vp(E,this.latestValues),E}setTargetDelta(w){this.targetDelta=w,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(w){this.options={...this.options,...w,crossfade:w.crossfade!==void 0?w.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(w=!1){var N;const E=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=E.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=E.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=E.isSharedProjectionDirty);const C=!!this.resumingFrom||this!==E;if(!(w||C&&this.isSharedProjectionDirty||this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:S,layoutId:T}=this.options;if(!(!this.layout||!(S||T))){if(this.resolvedRelativeTargetAt=jn.timestamp,!this.targetDelta&&!this.relativeTarget){const O=this.getClosestProjectingParent();O&&O.layout&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),_a(this.relativeTargetOrigin,this.layout.layoutBox,O.layout.layoutBox),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gn(),this.targetWithTransforms=gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Br(this.target,this.layout.layoutBox),Im(this.target,this.targetDelta)):Br(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const O=this.getClosestProjectingParent();O&&!!O.resumingFrom==!!this.resumingFrom&&!O.options.layoutScroll&&O.target&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),_a(this.relativeTargetOrigin,this.target,O.target),Br(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vf(this.parent.latestValues)||Tm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const w=this.getLead(),E=!!this.resumingFrom||this!==w;let C=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(C=!1),E&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(C=!1),this.resolvedRelativeTargetAt===jn.timestamp&&(C=!1),C)return;const{layout:x,layoutId:S}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||S))return;Br(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,N=this.treeScale.y;YE(this.layoutCorrected,this.treeScale,this.path,E),w.layout&&!w.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(w.target=w.layout.layoutBox,w.targetWithTransforms=gn());const{target:O}=w;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yp(this.prevProjectionDelta.x,this.projectionDelta.x),yp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ma(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==N||!Ip(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ip(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(w=!0){var E;if((E=this.options.visualElement)==null||E.scheduleRender(),w){const C=this.getStack();C&&C.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Eo(),this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo()}setAnimationOrigin(w,E=!1){const C=this.snapshot,x=C?C.latestValues:{},S={...this.latestValues},T=Eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!E;const N=gn(),O=C?C.source:void 0,k=this.layout?this.layout.source:void 0,F=O!==k,B=this.getStack(),z=!B||B.members.length<=1,H=!!(F&&!z&&this.options.crossfade===!0&&!this.path.some(U3));this.animationProgress=0;let V;this.mixTargetDelta=re=>{const le=re/1e3;Mp(T.x,w.x,le),Mp(T.y,w.y,le),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_a(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j3(this.relativeTarget,this.relativeTargetOrigin,N,le),V&&A3(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=gn()),Br(V,this.relativeTarget)),F&&(this.animationValues=S,x3(S,x,this.latestValues,le,H,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=le},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(w){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{pu.hasAnimatedSinceResize=!0,this.currentAnimation=f3(0,bp,{...w,onUpdate:E=>{this.mixTargetDelta(E),w.onUpdate&&w.onUpdate(E)},onStop:()=>{},onComplete:()=>{w.onComplete&&w.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const w=this.getStack();w&&w.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const w=this.getLead();let{targetWithTransforms:E,target:C,layout:x,latestValues:S}=w;if(!(!E||!C||!x)){if(this!==w&&this.layout&&x&&Fm(this.options.animationType,this.layout.layoutBox,x.layoutBox)){C=this.target||gn();const T=er(this.layout.layoutBox.x);C.x.min=w.target.x.min,C.x.max=C.x.min+T;const N=er(this.layout.layoutBox.y);C.y.min=w.target.y.min,C.y.max=C.y.min+N}Br(E,C),So(E,S),Ma(this.projectionDeltaWithTransform,this.layoutCorrected,E,S)}}registerSharedNode(w,E){this.sharedNodes.has(w)||this.sharedNodes.set(w,new S3),this.sharedNodes.get(w).add(E);const x=E.options.initialPromotionConfig;E.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(E):void 0})}isLead(){const w=this.getStack();return w?w.lead===this:!0}getLead(){var E;const{layoutId:w}=this.options;return w?((E=this.getStack())==null?void 0:E.lead)||this:this}getPrevLead(){var E;const{layoutId:w}=this.options;return w?(E=this.getStack())==null?void 0:E.prevLead:void 0}getStack(){const{layoutId:w}=this.options;if(w)return this.root.sharedNodes.get(w)}promote({needsReset:w,transition:E,preserveFollowOpacity:C}={}){const x=this.getStack();x&&x.promote(this,C),w&&(this.projectionDelta=void 0,this.needsReset=!0),E&&this.setOptions({transition:E})}relegate(){const w=this.getStack();return w?w.relegate(this):!1}resetSkewAndRotation(){const{visualElement:w}=this.options;if(!w)return;let E=!1;const{latestValues:C}=w;if((C.z||C.rotate||C.rotateX||C.rotateY||C.rotateZ||C.skewX||C.skewY)&&(E=!0),!E)return;const x={};C.z&&Ef("z",w,x,this.animationValues);for(let S=0;S<vf.length;S++)Ef(`rotate${vf[S]}`,w,x,this.animationValues),Ef(`skew${vf[S]}`,w,x,this.animationValues);w.render();for(const S in x)w.setStaticValue(S,x[S]),this.animationValues&&(this.animationValues[S]=x[S]);w.scheduleRender()}getProjectionStyles(w){if(!this.instance||this.isSVG)return;if(!this.isVisible)return I3;const E={visibility:""},C=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,E.opacity="",E.pointerEvents=hu(w==null?void 0:w.pointerEvents)||"",E.transform=C?C(this.latestValues,""):"none",E;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=hu(w==null?void 0:w.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(O.transform=C?C({},""):"none",this.hasProjected=!1),O}const S=x.animationValues||x.latestValues;this.applyTransformsToTarget(),E.transform=T3(this.projectionDeltaWithTransform,this.treeScale,S),C&&(E.transform=C(S,E.transform));const{x:T,y:N}=this.projectionDelta;E.transformOrigin=`${T.origin*100}% ${N.origin*100}% 0`,x.animationValues?E.opacity=x===this?S.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:E.opacity=x===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const O in Ba){if(S[O]===void 0)continue;const{correct:k,applyTo:F,isCSSVariable:B}=Ba[O],z=E.transform==="none"?S[O]:k(S[O],x);if(F){const H=F.length;for(let V=0;V<H;V++)E[F[V]]=z}else B?this.options.visualElement.renderState.vars[O]=z:E[O]=z}return this.options.layoutId&&(E.pointerEvents=x===this?hu(w==null?void 0:w.pointerEvents)||"":"none"),E}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(w=>{var E;return(E=w.currentAnimation)==null?void 0:E.stop()}),this.root.nodes.forEach(Np),this.root.sharedNodes.clear()}}}function N3(r){r.updateLayout()}function R3(r){var s;const i=((s=r.resumeFrom)==null?void 0:s.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&i&&r.hasListeners("didUpdate")){const{layoutBox:c,measuredBox:h}=r.layout,{animationType:p}=r.options,w=i.source!==r.layout.source;p==="size"?Fr(T=>{const N=w?i.measuredBox[T]:i.layoutBox[T],O=er(N);N.min=c[T].min,N.max=N.min+O}):Fm(p,i.layoutBox,c)&&Fr(T=>{const N=w?i.measuredBox[T]:i.layoutBox[T],O=er(c[T]);N.max=N.min+O,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[T].max=r.relativeTarget[T].min+O)});const E=Eo();Ma(E,c,i.layoutBox);const C=Eo();w?Ma(C,r.applyTransform(h,!0),i.measuredBox):Ma(C,c,i.layoutBox);const x=!Pm(E);let S=!1;if(!r.resumeFrom){const T=r.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:N,layout:O}=T;if(N&&O){const k=gn();_a(k,i.layoutBox,N.layoutBox);const F=gn();_a(F,c,O.layoutBox),Lm(k,F)||(S=!0),T.options.layoutRoot&&(r.relativeTarget=F,r.relativeTargetOrigin=k,r.relativeParent=T)}}}r.notifyListeners("didUpdate",{layout:c,snapshot:i,delta:C,layoutDelta:E,hasLayoutChanged:x,hasRelativeLayoutChanged:S})}else if(r.isLead()){const{onExitComplete:c}=r.options;c&&c()}r.options.transition=void 0}function M3(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function _3(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function D3(r){r.clearSnapshot()}function Np(r){r.clearMeasurements()}function O3(r){r.isLayoutDirty=!1}function P3(r){const{visualElement:i}=r.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),r.resetTransform()}function Rp(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function L3(r){r.resolveTargetDelta()}function k3(r){r.calcProjection()}function B3(r){r.resetSkewAndRotation()}function F3(r){r.removeLeadSnapshot()}function Mp(r,i,s){r.translate=nn(i.translate,0,s),r.scale=nn(i.scale,1,s),r.origin=i.origin,r.originPoint=i.originPoint}function _p(r,i,s,c){r.min=nn(i.min,s.min,c),r.max=nn(i.max,s.max,c)}function j3(r,i,s,c){_p(r.x,i.x,s.x,c),_p(r.y,i.y,s.y,c)}function U3(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const z3={duration:.45,ease:[.4,0,.1,1]},Dp=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Op=Dp("applewebkit/")&&!Dp("chrome/")?Math.round:jr;function Pp(r){r.min=Op(r.min),r.max=Op(r.max)}function V3(r){Pp(r.x),Pp(r.y)}function Fm(r,i,s){return r==="position"||r==="preserve-aspect"&&!HE(Tp(i),Tp(s),.2)}function W3(r){var i;return r!==r.root&&((i=r.scroll)==null?void 0:i.wasRoot)}const H3=Bm({attachResizeListener:(r,i)=>za(r,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Af={current:void 0},jm=Bm({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Af.current){const r=new H3({});r.mount(window),r.setOptions({layoutScroll:!0}),Af.current=r}return Af.current},resetTransform:(r,i)=>{r.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),G3={pan:{Feature:a3},drag:{Feature:o3,ProjectionNode:jm,MeasureLayout:_m}};function Lp(r,i,s){const{props:c}=r;r.animationState&&c.whileHover&&r.animationState.setActive("whileHover",s==="Start");const h="onHover"+s,p=c[h];p&&Wt.postRender(()=>p(i,Za(i)))}class Y3 extends hs{mount(){const{current:i}=this.node;i&&(this.unmount=tC(i,(s,c)=>(Lp(this.node,c,"Start"),h=>Lp(this.node,h,"End"))))}unmount(){}}class X3 extends hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xa(za(this.node.current,"focus",()=>this.onFocus()),za(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kp(r,i,s){const{props:c}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&c.whileTap&&r.animationState.setActive("whileTap",s==="Start");const h="onTap"+(s==="End"?"":s),p=c[h];p&&Wt.postRender(()=>p(i,Za(i)))}class Z3 extends hs{mount(){const{current:i}=this.node;i&&(this.unmount=sC(i,(s,c)=>(kp(this.node,c,"Start"),(h,{success:p})=>kp(this.node,h,p?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gf=new WeakMap,Sf=new WeakMap,K3=r=>{const i=Gf.get(r.target);i&&i(r)},Q3=r=>{r.forEach(K3)};function $3({root:r,...i}){const s=r||document;Sf.has(s)||Sf.set(s,{});const c=Sf.get(s),h=JSON.stringify(i);return c[h]||(c[h]=new IntersectionObserver(Q3,{root:r,...i})),c[h]}function q3(r,i,s){const c=$3(i);return Gf.set(r,s),c.observe(r),()=>{Gf.delete(r),c.unobserve(r)}}const J3={some:0,all:1};class eA extends hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:s,margin:c,amount:h="some",once:p}=i,w={root:s?s.current:void 0,rootMargin:c,threshold:typeof h=="number"?h:J3[h]},E=C=>{const{isIntersecting:x}=C;if(this.isInView===x||(this.isInView=x,p&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:S,onViewportLeave:T}=this.node.getProps(),N=x?S:T;N&&N(C)};return q3(this.node.current,w,E)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:s}=this.node;["amount","margin","root"].some(tA(i,s))&&this.startObserver()}unmount(){}}function tA({viewport:r={}},{viewport:i={}}={}){return s=>r[s]!==i[s]}const nA={inView:{Feature:eA},tap:{Feature:Z3},focus:{Feature:X3},hover:{Feature:Y3}},rA={layout:{ProjectionNode:jm,MeasureLayout:_m}},Yf={current:null},Um={current:!1};function iA(){if(Um.current=!0,!!od)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),i=()=>Yf.current=r.matches;r.addListener(i),i()}else Yf.current=!1}const sA=[...fm,Kn,ds],oA=r=>sA.find(cm(r)),aA=new WeakMap;function lA(r,i,s){for(const c in i){const h=i[c],p=s[c];if(Qn(h))r.addValue(c,h);else if(Qn(p))r.addValue(c,La(h,{owner:r}));else if(p!==h)if(r.hasValue(c)){const w=r.getValue(c);w.liveStyle===!0?w.jump(h):w.hasAnimated||w.set(h)}else{const w=r.getStaticValue(c);r.addValue(c,La(w!==void 0?w:h,{owner:r}))}}for(const c in s)i[c]===void 0&&r.removeValue(c);return i}const Bp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uA{scrapeMotionValuesFromProps(i,s,c){return{}}constructor({parent:i,props:s,presenceContext:c,reducedMotionConfig:h,blockInitialAnimation:p,visualState:w},E={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ld,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const O=fi.now();this.renderScheduledAt<O&&(this.renderScheduledAt=O,Wt.render(this.render,!1,!0))};const{latestValues:C,renderState:x,onUpdate:S}=w;this.onUpdate=S,this.latestValues=C,this.baseTarget={...C},this.initialValues=s.initial?{...C}:{},this.renderState=x,this.parent=i,this.props=s,this.presenceContext=c,this.depth=i?i.depth+1:0,this.reducedMotionConfig=h,this.options=E,this.blockInitialAnimation=!!p,this.isControllingVariants=Du(s),this.isVariantNode=bg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:T,...N}=this.scrapeMotionValuesFromProps(s,{},this);for(const O in N){const k=N[O];C[O]!==void 0&&Qn(k)&&k.set(C[O],!1)}}mount(i){this.current=i,aA.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,c)=>this.bindToMotionValue(c,s)),Um.current||iA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(i,s){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const c=Hs.has(i);c&&this.onBindTransform&&this.onBindTransform();const h=s.on("change",E=>{this.latestValues[i]=E,this.props.onUpdate&&Wt.preRender(this.notifyUpdate),c&&this.projection&&(this.projection.isTransformDirty=!0)}),p=s.on("renderRequest",this.scheduleRender);let w;window.MotionCheckAppearSync&&(w=window.MotionCheckAppearSync(this,i,s)),this.valueSubscriptions.set(i,()=>{h(),p(),w&&w(),s.owner&&s.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in bo){const s=bo[i];if(!s)continue;const{isEnabled:c,Feature:h}=s;if(!this.features[i]&&h&&c(this.props)&&(this.features[i]=new h(this)),this.features[i]){const p=this.features[i];p.isMounted?p.update():(p.mount(),p.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gn()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,s){this.latestValues[i]=s}update(i,s){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let c=0;c<Bp.length;c++){const h=Bp[c];this.propEventSubscriptions[h]&&(this.propEventSubscriptions[h](),delete this.propEventSubscriptions[h]);const p="on"+h,w=i[p];w&&(this.propEventSubscriptions[h]=this.on(h,w))}this.prevMotionValues=lA(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(i),()=>s.variantChildren.delete(i)}addValue(i,s){const c=this.values.get(i);s!==c&&(c&&this.removeValue(i),this.bindToMotionValue(i,s),this.values.set(i,s),this.latestValues[i]=s.get())}removeValue(i){this.values.delete(i);const s=this.valueSubscriptions.get(i);s&&(s(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,s){if(this.props.values&&this.props.values[i])return this.props.values[i];let c=this.values.get(i);return c===void 0&&s!==void 0&&(c=La(s===null?void 0:s,{owner:this}),this.addValue(i,c)),c}readValue(i,s){let c=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return c!=null&&(typeof c=="string"&&(lm(c)||qg(c))?c=parseFloat(c):!oA(c)&&ds.test(s)&&(c=sm(i,s)),this.setBaseTarget(i,Qn(c)?c.get():c)),Qn(c)?c.get():c}setBaseTarget(i,s){this.baseTarget[i]=s}getBaseTarget(i){var p;const{initial:s}=this.props;let c;if(typeof s=="string"||typeof s=="object"){const w=Rd(this.props,s,(p=this.presenceContext)==null?void 0:p.custom);w&&(c=w[i])}if(s&&c!==void 0)return c;const h=this.getBaseTargetFromProps(this.props,i);return h!==void 0&&!Qn(h)?h:this.initialValues[i]!==void 0&&c===void 0?void 0:this.baseTarget[i]}on(i,s){return this.events[i]||(this.events[i]=new fd),this.events[i].add(s)}notify(i,...s){this.events[i]&&this.events[i].notify(...s)}}class zm extends uA{constructor(){super(...arguments),this.KeyframeResolver=dm}sortInstanceNodePosition(i,s){return i.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(i,s){return i.style?i.style[s]:void 0}removeValueFromRenderState(i,{vars:s,style:c}){delete s[i],delete c[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Qn(i)&&(this.childSubscription=i.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function cA(r){return window.getComputedStyle(r)}class fA extends zm{constructor(){super(...arguments),this.type="html",this.renderInstance=Fg}readValueFromInstance(i,s){if(Hs.has(s))return Av(i,s);{const c=cA(i),h=(vd(s)?c.getPropertyValue(s):c[s])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(i,{transformPagePoint:s}){return bm(i,s)}build(i,s,c){Sd(i,s,c.transformTemplate)}scrapeMotionValuesFromProps(i,s,c){return Md(i,s,c)}}class dA extends zm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Bg(this.current,this.renderState)}}getBaseTargetFromProps(i,s){return i[s]}readValueFromInstance(i,s){if(Hs.has(s)){const c=im(s);return c&&c.default||0}return s=jg.has(s)?s:Cd(s),i.getAttribute(s)}scrapeMotionValuesFromProps(i,s,c){return zg(i,s,c)}onBindTransform(){this.current&&!this.renderState.dimensions&&Wt.postRender(this.updateDimensions)}build(i,s,c){bd(i,s,this.isSVGTag,c.transformTemplate)}renderInstance(i,s,c,h){Ug(i,s,c,h)}mount(i){this.isSVGTag=Nd(i.tagName),super.mount(i)}}const hA=(r,i)=>Id(r)?new dA(i):new fA(i,{allowProjection:r!==L.Fragment}),pA=QC({...kE,...nA,...G3,...rA},hA),_i=dC(pA),gA=()=>{const{login:r,signup:i,user:s,logout:c,checkAuth:h}=L.useContext(pi),[p,w]=L.useState(""),[E,C]=L.useState(""),[x,S]=L.useState(""),[T,N]=L.useState(null),[O,k]=L.useState(null),[F,B]=L.useState(""),[z,H]=L.useState(0),[V,re]=L.useState({x:0,y:0}),[le,ue]=L.useState(1),[q,ce]=L.useState(null),[ne,_e]=L.useState(!1),[Ue,Ne]=L.useState(!1),[je,be]=L.useState({}),[Z,Ie]=L.useState({}),[pe,de]=L.useState(!1),[Se,fe]=L.useState(!1),[K,te]=L.useState(null),Re=qr(),Be=xi(),st=new URLSearchParams(Be.search),ve=st.get("redirect"),Je=st.get("code");L.useEffect(()=>{z===2&&x&&Lt(x)&&(de(!0),Ie(Xe=>({...Xe,displayName:!0})),be(Xe=>({...Xe,displayName:""})))},[z,x]);const Ge=Xe=>{const Tt=/^[a-z0-9]+$/;return Xe.length>=2&&Tt.test(Xe)},et=Xe=>Xe.length>=2,Lt=Xe=>Xe.length>=2,Ht=()=>{z<Ee.length-1&&(z===0&&!x&&(S(p),Ie(Xe=>({...Xe,displayName:!0})),be(Xe=>({...Xe,displayName:""}))),z===1&&x&&x.length>=2?de(!0):de(!1),H(Xe=>Xe+1))},Ur=()=>{if(z>0){const Xe=z-1;H(Xe);const Tt=Ee[Xe];if(Tt.validate){const wt=Tt.value;Tt.validate(wt)&&de(!0)}else de(!0)}},it=(Xe,Tt,wt)=>{wt(Xe.target.value);const Un=Xe.target.value;Tt(Un)?(Ie(Ct=>({...Ct,[Ee[z].id]:!0})),be(Ct=>({...Ct,[Ee[z].id]:""})),de(!0)):(Ie(Ct=>({...Ct,[Ee[z].id]:!1})),be(Ct=>({...Ct,[Ee[z].id]:"Must be at least 2 characters"})),de(!1))},tr=Xe=>{const Tt=Xe.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");w(Tt),Ge(Tt)?(Ie(wt=>({...wt,username:!0})),be(wt=>({...wt,username:""})),de(!0)):(Ie(wt=>({...wt,username:!1})),be(wt=>({...wt,username:"Must be at least 2 characters"})),de(!1))},Tn=Xe=>{it(Xe,et,C)},Tr=Xe=>{it(Xe,Lt,S)},kt=Xe=>{const Tt=Xe.target.files[0];if(Tt){const wt=new FileReader;wt.onload=Un=>{const Ct=new Image;Ct.onload=()=>{let Bt=Ct.width,Ft=Ct.height;const Me=1500;Bt>Ft&&Bt>Me?(Ft=Ft*Me/Bt,Bt=Me):Ft>Bt&&Ft>Me&&(Bt=Bt*Me/Ft,Ft=Me);const ut=document.createElement("canvas");ut.width=Bt,ut.height=Ft,ut.getContext("2d").drawImage(Ct,0,0,Bt,Ft);const Gt=ut.toDataURL("image/jpeg",.75);N(Tt),k(Gt),_e(!0),Ie(Ve=>({...Ve,image:!0})),be(Ve=>({...Ve,image:""})),de(!0)},Ct.src=Un.target.result},wt.readAsDataURL(Tt)}},xt=(Xe,Tt)=>{ce(Tt)},lt=async()=>{try{const Xe=await Wp(O,q);k(Xe),_e(!1)}catch(Xe){console.error("Error cropping the image:",Xe),B("Failed to crop image. Please try again.")}},_n=async Xe=>{if(Xe.preventDefault(),Ne(!0),B(""),!p||!E||!x){B("All fields are required"),Ne(!1);return}if(!T||!O){B("Your profile picture is required👆🏼"),Ne(!1);return}try{const wt=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:p,password:E})}),Un=await wt.json();if(Un.error==="Username already taken"){B("Username is taken"),Ne(!1);return}if(!wt.ok){B(Un.message||"Signup failed"),Ne(!1);return}r(Un),await h();const Ct=localStorage.getItem("access_token");if(!Ct)throw new Error("Authentication failed");let Bt=null;if(T)Bt=O,Bt=Bt.split(",")[1];else{const ct=await(await(await fetch("/assets/fakeprofile.png")).blob()).arrayBuffer();Bt=btoa(new Uint8Array(ct).reduce((Gt,Ve)=>Gt+String.fromCharCode(Ve),""))}if(!(await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${Ct}`,"Content-Type":"application/json"},body:JSON.stringify({name:x,image_data:Bt})})).ok)throw new Error("Failed to update profile");await h(),Re(ve==="lobby"?Je?`/lobby?code=${Je}`:"/?showLobbyModal=true":ve==="product-selection"?"/product-selection":"/")}catch(Tt){console.error("Error:",Tt),B("An error occurred. Please try again.")}Ne(!1)},Ee=[{id:"username",label:"Username",value:p,onChange:tr,type:"text",placeholder:"Enter a username",validate:Ge},{id:"password",label:"Password",value:E,onChange:Tn,type:"text",placeholder:"Create a password",validate:et},{id:"displayName",label:"Display Name (what people will see)",value:x,onChange:Tr,type:"text",placeholder:"Enter your preferred name",validate:Lt},{id:"image",label:"Upload a Selfie so people can find you",type:"file",onChange:kt,accept:"image/*"}];return D.jsxs("div",{className:"signup-container",children:[D.jsx("button",{onClick:()=>Re("/"),className:"homescreen-button",children:"Home"}),D.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),D.jsx("h3",{className:"signup-header",children:"Sign Up to Join"}),D.jsxs("p",{className:"login-link-text",children:["Already have an account? ",D.jsx("a",{href:"#",onClick:Xe=>{Xe.preventDefault(),Re("/login")},className:"login-link",children:"Login here"})]}),D.jsxs("div",{className:"step-form-container",children:[D.jsx("div",{className:"step-progress",children:Ee.map((Xe,Tt)=>D.jsx("div",{className:`progress-dot ${Tt===z?"active":""} ${Tt<z?"completed":""}`},Tt))}),D.jsxs("form",{onSubmit:_n,children:[D.jsx(C1,{mode:"wait",initial:!1,children:D.jsxs(_i.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{type:"spring",stiffness:500,damping:25,mass:.3},className:"step active",style:{willChange:"transform, opacity"},children:[D.jsx("div",{className:"step-content",children:D.jsxs(_i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[D.jsx("label",{className:"step-label",children:Ee[z].label}),D.jsx(_i.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.15,ease:"easeOut"},children:Ee[z].type==="file"?D.jsx("div",{className:"image-upload-container",children:ne?D.jsxs("div",{className:"cropper-container",children:[D.jsx("div",{className:"cropper-wrapper",children:D.jsx(Vp,{image:O,crop:V,zoom:le,aspect:1,onCropComplete:xt,onCropChange:re,onZoomChange:ue})}),D.jsxs("div",{className:"cropper-controls",children:[D.jsx("button",{type:"button",onClick:()=>{_e(!1),k(null),N(null)},className:"cancel-crop-button",children:"Cancel"}),D.jsx("button",{type:"button",onClick:lt,className:"save-crop-button",children:"Good"})]})]}):D.jsxs(D.Fragment,{children:[D.jsx("input",{type:"file",onChange:Ee[z].onChange,accept:Ee[z].accept,className:"step-input"}),O&&D.jsx("div",{children:D.jsx("img",{src:O,alt:"Profile preview",className:"profile-preview-image"})})]})}):D.jsx("input",{type:Ee[z].type,value:Ee[z].value,onChange:Ee[z].onChange,placeholder:Ee[z].placeholder,className:"step-input",autoFocus:!0})}),D.jsxs(C1,{mode:"wait",children:[je[Ee[z].id]&&D.jsx(_i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"step-error",children:je[Ee[z].id]}),Z[Ee[z].id]&&D.jsx(_i.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"step-success",children:"✓ Valid"})]})]})}),!ne&&D.jsxs("div",{className:"button-container",children:[z>0&&D.jsx(_i.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:Ur,className:"backz-button",children:"← Back"}),pe&&z<Ee.length-1&&D.jsx(_i.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:Ht,className:"nextz-button",children:"Next →"})]})]},z)}),F&&D.jsx(_i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"error-message",children:F}),z===Ee.length-1&&D.jsx(_i.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},type:"submit",className:"primary-button",disabled:Ue,children:Ue?"Loading...":"Complete Signup"})]})]})]})},mA=5e3,Vm=(r,i=null,s=null)=>{L.useEffect(()=>{const c=async()=>{try{const p=s?`${window.server_url}/display_lobby_metadata?lobby_code=${s}`:`${window.server_url}/display_lobby_metadata`,w=localStorage.getItem("access_token"),E=await fetch(p,{headers:{Authorization:`Bearer ${w}`,lobby_code:s}});if(!E.ok){console.error("Failed to fetch lobby metadata");return}const C=await E.json();r(C.player_count),i&&i(C.lobby_state)}catch(p){console.error("Error fetching lobby metadata:",p)}};c();const h=setInterval(c,mA);return()=>clearInterval(h)},[r,i,s])},xA=()=>{const[r,i]=L.useState(!1),[s,c]=L.useState(!1),[h,p]=L.useState(""),[w,E]=L.useState(""),[C,x]=L.useState(""),[S,T]=L.useState(null);og();const{user:N,userProfile:O,checkAuth:k,permissions:F}=L.useContext(pi),[B,z]=L.useState(null),[H,V]=L.useState(null),[re,le]=L.useState([]),[ue,q]=L.useState(!1),ce=qr();Vm(z,V);const[ne,_e]=L.useState(!1);L.useRef(null);const Ue=L.useRef(null),Ne=async()=>{if(N){q(!0);try{const fe=localStorage.getItem("access_token"),K=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${fe}`}});if(K.ok){const te=await K.json();console.log("User's active lobbies:",te),te&&te.lobbies&&Array.isArray(te.lobbies)?le(te.lobbies):le([])}else console.error("Failed to fetch user's active lobbies"),le([])}catch(fe){console.error("Error fetching user's active lobbies:",fe),le([])}finally{q(!1)}}};L.useEffect(()=>{N&&Ne()},[N]),L.useEffect(()=>{k()},[]),L.useEffect(()=>{if(new URLSearchParams(window.location.search).get("showLobbyModal")==="true"&&N){c(!0);const te=window.location.pathname;window.history.replaceState({},"",te)}},[N]);const je=fe=>{(F==="admin"||F==="organizer")&&ce(`/admin_lobby_view?code=${fe}`)},be=fe=>{fe.preventDefault();const te=new FormData(fe.target).get("name");if(!te||te.trim()===""){E("Please enter a lobby code");return}const Re=te.toLowerCase().replace(/[^a-z0-9]/g,"");if(Re===""){E("Lobby code must contain only letters and numbers");return}x(Re),c(!1),console.log(Re),p(Re),ce(`/lobby?code=${Re}`),p(""),E("")},Z=()=>{_e(!0),setTimeout(()=>{if(!document.getElementById("qr-reader")){console.error("QR reader element not found"),_e(!1);return}const K=new kw("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,disableFlip:!1,rememberLastUsedCamera:!0,showScanButton:!1,showStopButton:!1},!1);Ue.current=K,K.render(Ie,pe),setTimeout(()=>{const te=document.querySelectorAll("#qr-reader__dashboard button");if(te.length>0){const Re=te[te.length-1];Re.style.display="none"}},500)},100)},Ie=fe=>{de(),window.location.href=fe},pe=fe=>{fe&&fe.includes&&(fe.includes("No MultiFormat Readers")||fe.includes("No MultiFormat Readers")||fe.includes("No MultiFormat Readers"))&&console.warn(`QR code scanning error: ${fe}`)},de=()=>{_e(!1),Ue.current&&(Ue.current.clear(),Ue.current=null)},Se=()=>s?D.jsx("div",{className:"lobby-modal-overlay",children:D.jsxs("div",{className:"lobby-modal-container",children:[D.jsx("button",{onClick:()=>{c(!1),p(""),E(""),de()},className:"lobby-modal-close",children:"×"}),D.jsx("h2",{className:"lobby-modal-title",children:"Join Lobby"}),D.jsxs("form",{onSubmit:be,className:"lobby-form",children:[D.jsxs("div",{className:"lobby-input-container",children:[D.jsx("input",{type:"text",name:"name",placeholder:"Enter Lobby Code",className:"lobby-input",pattern:"[a-zA-Z0-9]+",title:"Only letters and numbers are allowed",required:!0}),w&&D.jsx("div",{className:"lobby-error-message",children:w})]}),D.jsx("button",{type:"submit",className:"lobby-submit-button",children:"Join"}),ne?D.jsxs("div",{className:"lobby-scan-container",children:[D.jsx("div",{id:"qr-reader",className:"lobby-scan-video"}),D.jsx("button",{type:"button",className:"lobby-scan-close",onClick:de,children:"Close Scanner"})]}):D.jsx("button",{type:"button",className:"lobby-scan-button",onClick:Z,children:"Scan"})]})]})}):null;return D.jsxs("div",{style:{position:"relative",height:"100vh",overflow:"hidden"},children:[D.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/assets/demo_app_home_video_cover.jpg",children:[D.jsx("source",{src:"/assets/demo_app_home_video_X2_small.mp4",type:"video/mp4"}),D.jsx("source",{src:"/assets/app_home_video_2.webm",type:"video/webm"}),D.jsx("img",{src:"/assets/demo_app_home_video_cover.jpg",alt:"Background fallback",style:{width:"100%",height:"100%",objectFit:"cover"}}),"Your browser does not support the video tag."]}),D.jsxs("div",{style:{position:"relative",zIndex:1,color:"white"},children:[D.jsx("div",{style:{position:"absolute",top:"-.5rem",left:"50%",transform:"translateX(-50%)"},children:D.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Logo",style:{width:"120px",height:"120px",objectFit:"contain"}})}),D.jsxs("div",{style:{marginTop:"10%",display:"flex",flexDirection:"column"},children:[D.jsx(Bw,{user:N}),N&&D.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",top:"-.8rem",right:"3%"},children:D.jsx("button",{style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},className:"login-button",onClick:()=>i(!0),children:D.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Profile"})})})]}),r&&D.jsx(I2,{onSubmit:fe=>{i(!1)},onClose:()=>i(!1),existingProfile:O}),D.jsx("div",{style:{position:"absolute",top:"5rem",left:"50%",transform:"translateX(-50%)",width:"90%",maxWidth:"1200px",textAlign:"center",marginBottom:"4rem",marginLeft:"auto",marginRight:"auto",zIndex:1},children:D.jsx("h2",{className:"welcome-header",style:{color:"#ffffff",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:"4px 4px 8px rgba(0,0,0,0.9)",margin:0},children:N&&O&&(F==="admin"||F==="organizer")?(()=>{const fe="Elevate your events",K=O?O.name.slice(0,15):"";return D.jsxs(D.Fragment,{children:[fe.split("").map((te,Re)=>D.jsx("span",{style:{"--i":Re+1,marginRight:te===" "?"0.5em":"1px"},children:te},`main-${Re}`)),D.jsx("br",{}),K&&K.split("").map((te,Re)=>D.jsx("span",{style:{"--i":Re+1,marginRight:te===" "?"0.5em":"1px"},children:te},`name-${Re}`))]})})():(N&&O?`Break the Ice ${O.name.slice(0,10)}`:"Break the Ice").split("").map((K,te)=>D.jsx("span",{style:{"--i":te+1,marginRight:K===" "?"0.5em":"1px"},children:K},te))})}),D.jsx("div",{style:{marginTop:"20rem",width:"94%",marginLeft:"auto",marginRight:"auto",display:"flex",flexDirection:"column",gap:"1rem"},children:D.jsx("div",{className:"event-item",style:{width:"50%",maxWidth:"400px",margin:"0 auto",padding:"10px 20px",borderRadius:"16px",marginBottom:"20px",cursor:"pointer",opacity:1,display:"flex",flexDirection:"column",alignItems:"center",":hover":{transform:"translateY(-5px)"}},children:D.jsxs("div",{style:{display:"flex",gap:"18px",flexDirection:"column"},children:[D.jsx("button",{className:`primary-button ${F!=="admin"&&F!=="organizer"?"join-lobby-button":""}`,onClick:()=>N?c(!0):ce("/signup?redirect=lobby"),disabled:B===null||H==="terminate",style:{opacity:1,cursor:B===null||H==="terminate"?"not-allowed":"pointer",padding:"12px 24px",backgroundColor:F!=="admin"&&F!=="organizer"?"transparent":"#144dff",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",margin:"0 auto",display:"block",position:"relative",zIndex:1,outline:F!=="admin"&&F!=="organizer"?"none":"1px solid rgba(58, 53, 53, 0.7)",":hover":{backgroundColor:F!=="admin"&&F!=="organizer"?"transparent":"#535bf2",transform:"scale(1.02)"}},children:D.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Join A Lobby"})}),F!=="admin"&&F!=="organizer"&&D.jsx("button",{className:"primary-button join-lobby-button",onClick:()=>window.location.href="https://www.meet-tx.com/become-an-organizer",style:{padding:"12px 24px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",margin:"0 auto",display:"block",position:"relative",zIndex:1,outline:"none",":hover":{transform:"scale(1.02)"}},children:D.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Become a Host"})}),(F==="admin"||F==="organizer")&&D.jsx("button",{className:`primary-button ${F==="admin"||F==="organizer"?"create-lobby-button":""}`,onClick:()=>ce("/create_lobby"),style:{padding:"12px 24px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",marginTop:"-5px",position:"relative",zIndex:1,":hover":{transform:"scale(1.02)"}},children:D.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Create Lobby"})})]})})}),(F==="admin"||F==="organizer")&&D.jsx("div",{className:"events-list",style:{marginTop:"2rem",width:"65%",height:"60%",marginLeft:"auto",marginRight:"auto",marginBottom:".5rem"},children:ue?D.jsx("div",{style:{textAlign:"center",color:"white"},children:D.jsx("p",{children:"Loading your lobbies..."})}):re.length>0?D.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem"},children:re.map((fe,K)=>D.jsxs("div",{className:"card",style:{width:"200px",background:"#ffffff",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.6)",border:"1px solid rgba(255, 255, 255, 0.5)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out",cursor:"pointer",padding:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},onClick:()=>je(fe),onMouseEnter:te=>{te.currentTarget.style.transform="translateY(-5px)",te.currentTarget.style.boxShadow="0 12px 40px rgba(0, 0, 0, 0.7)"},onMouseLeave:te=>{te.currentTarget.style.transform="translateY(0)",te.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.6)"},children:[D.jsx("div",{className:"glow-button",style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#144dff",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:fe&&fe.length>0?fe.charAt(0).toUpperCase():"?"}),D.jsxs("h3",{style:{margin:"0 0 0.5rem 0",color:"#2d3748",fontWeight:"600",fontSize:"1.1em",textAlign:"center"},children:["Lobby ",fe||"Unknown"]}),D.jsx("p",{style:{margin:"0",color:"#4299e1",fontWeight:"500",fontSize:"0.9em",textAlign:"center"},children:"Click to Control"})]},K))}):D.jsx("div",{style:{}})})]}),D.jsx(Se,{})]})};function yA(){const{pathname:r}=xi();return L.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const wA=()=>{const{login:r,signup:i,user:s,logout:c,checkAuth:h}=L.useContext(pi),[p,w]=L.useState(""),[E,C]=L.useState(""),[x,S]=L.useState(""),[T,N]=L.useState(""),[O,k]=L.useState(!0),[F,B]=L.useState({}),[z,H]=L.useState(!1),V=qr(),re=q=>{const ce=/^[a-z0-9]+$/;return q.length>=2&&ce.test(q)},le=q=>{const ce=q.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");w(ce),ce.length>0?H(!0):H(!1),re(ce)?B(ne=>({...ne,username:""})):B(ne=>({...ne,username:" "}))},ue=async q=>{if(q.preventDefault(),N(""),!re(p)){N("Please enter a valid username");return}try{const ce=O?"/login":"/signup",ne=await fetch(window.server_url+ce,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:p,password:E}),mode:"cors"});if(ne.ok){const _e=await ne.json();r(_e),h(),V("/")}else{const _e=await ne.json();N(_e.message||`${O?"Login":"Signup"} failed`)}}catch(ce){N("Network error occurred. Please try again."),console.error("Error:",ce)}};return D.jsxs("div",{className:"login-container",children:[D.jsx("button",{onClick:()=>V("/"),className:"homescreen-button",children:"Home"}),D.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),D.jsx("h1",{className:"login-header",children:"Login"}),D.jsxs("div",{className:"login-signup-form",children:[T&&D.jsx("div",{className:"error-message",children:T}),D.jsxs("form",{onSubmit:ue,children:[D.jsxs("div",{className:"form-group",children:[D.jsx("input",{type:"text",placeholder:"Username",className:"login-input",value:p,onChange:le,required:!0}),z&&D.jsx("div",{className:"step-success",children:"lowercase letters and numbers only"})]}),D.jsx("div",{className:"form-group",children:D.jsx("input",{type:"text",placeholder:"Password",className:"login-input",value:E,onChange:q=>C(q.target.value),required:!0})}),D.jsx("button",{type:"submit",className:"login-primary-button",children:"Login"})]})]})]})},CA=()=>{const r=qr(),{logout:i}=L.useContext(pi);return localStorage.removeItem("access_token"),L.useEffect(()=>{console.log("LogoutPage useEffect"),setTimeout(()=>{i(),r("/")},100)},[]),D.jsx("div",{children:"Logged out redirecting to homescreen"})};var vA=Object.defineProperty,Tu=Object.getOwnPropertySymbols,Wm=Object.prototype.hasOwnProperty,Hm=Object.prototype.propertyIsEnumerable,Fp=(r,i,s)=>i in r?vA(r,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[i]=s,Xf=(r,i)=>{for(var s in i||(i={}))Wm.call(i,s)&&Fp(r,s,i[s]);if(Tu)for(var s of Tu(i))Hm.call(i,s)&&Fp(r,s,i[s]);return r},Zf=(r,i)=>{var s={};for(var c in r)Wm.call(r,c)&&i.indexOf(c)<0&&(s[c]=r[c]);if(r!=null&&Tu)for(var c of Tu(r))i.indexOf(c)<0&&Hm.call(r,c)&&(s[c]=r[c]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ws;(r=>{const i=class gt{constructor(C,x,S,T){if(this.version=C,this.errorCorrectionLevel=x,this.modules=[],this.isFunction=[],C<gt.MIN_VERSION||C>gt.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=C*4+17;let N=[];for(let k=0;k<this.size;k++)N.push(!1);for(let k=0;k<this.size;k++)this.modules.push(N.slice()),this.isFunction.push(N.slice());this.drawFunctionPatterns();const O=this.addEccAndInterleave(S);if(this.drawCodewords(O),T==-1){let k=1e9;for(let F=0;F<8;F++){this.applyMask(F),this.drawFormatBits(F);const B=this.getPenaltyScore();B<k&&(T=F,k=B),this.applyMask(F)}}h(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(C,x){const S=r.QrSegment.makeSegments(C);return gt.encodeSegments(S,x)}static encodeBinary(C,x){const S=r.QrSegment.makeBytes(C);return gt.encodeSegments([S],x)}static encodeSegments(C,x,S=1,T=40,N=-1,O=!0){if(!(gt.MIN_VERSION<=S&&S<=T&&T<=gt.MAX_VERSION)||N<-1||N>7)throw new RangeError("Invalid value");let k,F;for(k=S;;k++){const V=gt.getNumDataCodewords(k,x)*8,re=w.getTotalBits(C,k);if(re<=V){F=re;break}if(k>=T)throw new RangeError("Data too long")}for(const V of[gt.Ecc.MEDIUM,gt.Ecc.QUARTILE,gt.Ecc.HIGH])O&&F<=gt.getNumDataCodewords(k,V)*8&&(x=V);let B=[];for(const V of C){s(V.mode.modeBits,4,B),s(V.numChars,V.mode.numCharCountBits(k),B);for(const re of V.getData())B.push(re)}h(B.length==F);const z=gt.getNumDataCodewords(k,x)*8;h(B.length<=z),s(0,Math.min(4,z-B.length),B),s(0,(8-B.length%8)%8,B),h(B.length%8==0);for(let V=236;B.length<z;V^=253)s(V,8,B);let H=[];for(;H.length*8<B.length;)H.push(0);return B.forEach((V,re)=>H[re>>>3]|=V<<7-(re&7)),new gt(k,x,H,N)}getModule(C,x){return 0<=C&&C<this.size&&0<=x&&x<this.size&&this.modules[x][C]}getModules(){return this.modules}drawFunctionPatterns(){for(let S=0;S<this.size;S++)this.setFunctionModule(6,S,S%2==0),this.setFunctionModule(S,6,S%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const C=this.getAlignmentPatternPositions(),x=C.length;for(let S=0;S<x;S++)for(let T=0;T<x;T++)S==0&&T==0||S==0&&T==x-1||S==x-1&&T==0||this.drawAlignmentPattern(C[S],C[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(C){const x=this.errorCorrectionLevel.formatBits<<3|C;let S=x;for(let N=0;N<10;N++)S=S<<1^(S>>>9)*1335;const T=(x<<10|S)^21522;h(T>>>15==0);for(let N=0;N<=5;N++)this.setFunctionModule(8,N,c(T,N));this.setFunctionModule(8,7,c(T,6)),this.setFunctionModule(8,8,c(T,7)),this.setFunctionModule(7,8,c(T,8));for(let N=9;N<15;N++)this.setFunctionModule(14-N,8,c(T,N));for(let N=0;N<8;N++)this.setFunctionModule(this.size-1-N,8,c(T,N));for(let N=8;N<15;N++)this.setFunctionModule(8,this.size-15+N,c(T,N));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let C=this.version;for(let S=0;S<12;S++)C=C<<1^(C>>>11)*7973;const x=this.version<<12|C;h(x>>>18==0);for(let S=0;S<18;S++){const T=c(x,S),N=this.size-11+S%3,O=Math.floor(S/3);this.setFunctionModule(N,O,T),this.setFunctionModule(O,N,T)}}drawFinderPattern(C,x){for(let S=-4;S<=4;S++)for(let T=-4;T<=4;T++){const N=Math.max(Math.abs(T),Math.abs(S)),O=C+T,k=x+S;0<=O&&O<this.size&&0<=k&&k<this.size&&this.setFunctionModule(O,k,N!=2&&N!=4)}}drawAlignmentPattern(C,x){for(let S=-2;S<=2;S++)for(let T=-2;T<=2;T++)this.setFunctionModule(C+T,x+S,Math.max(Math.abs(T),Math.abs(S))!=1)}setFunctionModule(C,x,S){this.modules[x][C]=S,this.isFunction[x][C]=!0}addEccAndInterleave(C){const x=this.version,S=this.errorCorrectionLevel;if(C.length!=gt.getNumDataCodewords(x,S))throw new RangeError("Invalid argument");const T=gt.NUM_ERROR_CORRECTION_BLOCKS[S.ordinal][x],N=gt.ECC_CODEWORDS_PER_BLOCK[S.ordinal][x],O=Math.floor(gt.getNumRawDataModules(x)/8),k=T-O%T,F=Math.floor(O/T);let B=[];const z=gt.reedSolomonComputeDivisor(N);for(let V=0,re=0;V<T;V++){let le=C.slice(re,re+F-N+(V<k?0:1));re+=le.length;const ue=gt.reedSolomonComputeRemainder(le,z);V<k&&le.push(0),B.push(le.concat(ue))}let H=[];for(let V=0;V<B[0].length;V++)B.forEach((re,le)=>{(V!=F-N||le>=k)&&H.push(re[V])});return h(H.length==O),H}drawCodewords(C){if(C.length!=Math.floor(gt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let x=0;for(let S=this.size-1;S>=1;S-=2){S==6&&(S=5);for(let T=0;T<this.size;T++)for(let N=0;N<2;N++){const O=S-N,F=(S+1&2)==0?this.size-1-T:T;!this.isFunction[F][O]&&x<C.length*8&&(this.modules[F][O]=c(C[x>>>3],7-(x&7)),x++)}}h(x==C.length*8)}applyMask(C){if(C<0||C>7)throw new RangeError("Mask value out of range");for(let x=0;x<this.size;x++)for(let S=0;S<this.size;S++){let T;switch(C){case 0:T=(S+x)%2==0;break;case 1:T=x%2==0;break;case 2:T=S%3==0;break;case 3:T=(S+x)%3==0;break;case 4:T=(Math.floor(S/3)+Math.floor(x/2))%2==0;break;case 5:T=S*x%2+S*x%3==0;break;case 6:T=(S*x%2+S*x%3)%2==0;break;case 7:T=((S+x)%2+S*x%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[x][S]&&T&&(this.modules[x][S]=!this.modules[x][S])}}getPenaltyScore(){let C=0;for(let N=0;N<this.size;N++){let O=!1,k=0,F=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[N][B]==O?(k++,k==5?C+=gt.PENALTY_N1:k>5&&C++):(this.finderPenaltyAddHistory(k,F),O||(C+=this.finderPenaltyCountPatterns(F)*gt.PENALTY_N3),O=this.modules[N][B],k=1);C+=this.finderPenaltyTerminateAndCount(O,k,F)*gt.PENALTY_N3}for(let N=0;N<this.size;N++){let O=!1,k=0,F=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[B][N]==O?(k++,k==5?C+=gt.PENALTY_N1:k>5&&C++):(this.finderPenaltyAddHistory(k,F),O||(C+=this.finderPenaltyCountPatterns(F)*gt.PENALTY_N3),O=this.modules[B][N],k=1);C+=this.finderPenaltyTerminateAndCount(O,k,F)*gt.PENALTY_N3}for(let N=0;N<this.size-1;N++)for(let O=0;O<this.size-1;O++){const k=this.modules[N][O];k==this.modules[N][O+1]&&k==this.modules[N+1][O]&&k==this.modules[N+1][O+1]&&(C+=gt.PENALTY_N2)}let x=0;for(const N of this.modules)x=N.reduce((O,k)=>O+(k?1:0),x);const S=this.size*this.size,T=Math.ceil(Math.abs(x*20-S*10)/S)-1;return h(0<=T&&T<=9),C+=T*gt.PENALTY_N4,h(0<=C&&C<=2568888),C}getAlignmentPatternPositions(){if(this.version==1)return[];{const C=Math.floor(this.version/7)+2,x=this.version==32?26:Math.ceil((this.version*4+4)/(C*2-2))*2;let S=[6];for(let T=this.size-7;S.length<C;T-=x)S.splice(1,0,T);return S}}static getNumRawDataModules(C){if(C<gt.MIN_VERSION||C>gt.MAX_VERSION)throw new RangeError("Version number out of range");let x=(16*C+128)*C+64;if(C>=2){const S=Math.floor(C/7)+2;x-=(25*S-10)*S-55,C>=7&&(x-=36)}return h(208<=x&&x<=29648),x}static getNumDataCodewords(C,x){return Math.floor(gt.getNumRawDataModules(C)/8)-gt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][C]*gt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][C]}static reedSolomonComputeDivisor(C){if(C<1||C>255)throw new RangeError("Degree out of range");let x=[];for(let T=0;T<C-1;T++)x.push(0);x.push(1);let S=1;for(let T=0;T<C;T++){for(let N=0;N<x.length;N++)x[N]=gt.reedSolomonMultiply(x[N],S),N+1<x.length&&(x[N]^=x[N+1]);S=gt.reedSolomonMultiply(S,2)}return x}static reedSolomonComputeRemainder(C,x){let S=x.map(T=>0);for(const T of C){const N=T^S.shift();S.push(0),x.forEach((O,k)=>S[k]^=gt.reedSolomonMultiply(O,N))}return S}static reedSolomonMultiply(C,x){if(C>>>8||x>>>8)throw new RangeError("Byte out of range");let S=0;for(let T=7;T>=0;T--)S=S<<1^(S>>>7)*285,S^=(x>>>T&1)*C;return h(S>>>8==0),S}finderPenaltyCountPatterns(C){const x=C[1];h(x<=this.size*3);const S=x>0&&C[2]==x&&C[3]==x*3&&C[4]==x&&C[5]==x;return(S&&C[0]>=x*4&&C[6]>=x?1:0)+(S&&C[6]>=x*4&&C[0]>=x?1:0)}finderPenaltyTerminateAndCount(C,x,S){return C&&(this.finderPenaltyAddHistory(x,S),x=0),x+=this.size,this.finderPenaltyAddHistory(x,S),this.finderPenaltyCountPatterns(S)}finderPenaltyAddHistory(C,x){x[0]==0&&(C+=this.size),x.pop(),x.unshift(C)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=i;function s(E,C,x){if(C<0||C>31||E>>>C)throw new RangeError("Value out of range");for(let S=C-1;S>=0;S--)x.push(E>>>S&1)}function c(E,C){return(E>>>C&1)!=0}function h(E){if(!E)throw new Error("Assertion error")}const p=class ln{constructor(C,x,S){if(this.mode=C,this.numChars=x,this.bitData=S,x<0)throw new RangeError("Invalid argument");this.bitData=S.slice()}static makeBytes(C){let x=[];for(const S of C)s(S,8,x);return new ln(ln.Mode.BYTE,C.length,x)}static makeNumeric(C){if(!ln.isNumeric(C))throw new RangeError("String contains non-numeric characters");let x=[];for(let S=0;S<C.length;){const T=Math.min(C.length-S,3);s(parseInt(C.substring(S,S+T),10),T*3+1,x),S+=T}return new ln(ln.Mode.NUMERIC,C.length,x)}static makeAlphanumeric(C){if(!ln.isAlphanumeric(C))throw new RangeError("String contains unencodable characters in alphanumeric mode");let x=[],S;for(S=0;S+2<=C.length;S+=2){let T=ln.ALPHANUMERIC_CHARSET.indexOf(C.charAt(S))*45;T+=ln.ALPHANUMERIC_CHARSET.indexOf(C.charAt(S+1)),s(T,11,x)}return S<C.length&&s(ln.ALPHANUMERIC_CHARSET.indexOf(C.charAt(S)),6,x),new ln(ln.Mode.ALPHANUMERIC,C.length,x)}static makeSegments(C){return C==""?[]:ln.isNumeric(C)?[ln.makeNumeric(C)]:ln.isAlphanumeric(C)?[ln.makeAlphanumeric(C)]:[ln.makeBytes(ln.toUtf8ByteArray(C))]}static makeEci(C){let x=[];if(C<0)throw new RangeError("ECI assignment value out of range");if(C<128)s(C,8,x);else if(C<16384)s(2,2,x),s(C,14,x);else if(C<1e6)s(6,3,x),s(C,21,x);else throw new RangeError("ECI assignment value out of range");return new ln(ln.Mode.ECI,0,x)}static isNumeric(C){return ln.NUMERIC_REGEX.test(C)}static isAlphanumeric(C){return ln.ALPHANUMERIC_REGEX.test(C)}getData(){return this.bitData.slice()}static getTotalBits(C,x){let S=0;for(const T of C){const N=T.mode.numCharCountBits(x);if(T.numChars>=1<<N)return 1/0;S+=4+N+T.bitData.length}return S}static toUtf8ByteArray(C){C=encodeURI(C);let x=[];for(let S=0;S<C.length;S++)C.charAt(S)!="%"?x.push(C.charCodeAt(S)):(x.push(parseInt(C.substring(S+1,S+3),16)),S+=2);return x}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let w=p;r.QrSegment=p})(Ws||(Ws={}));(r=>{(i=>{const s=class{constructor(h,p){this.ordinal=h,this.formatBits=p}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),i.Ecc=s})(r.QrCode||(r.QrCode={}))})(Ws||(Ws={}));(r=>{(i=>{const s=class{constructor(h,p){this.modeBits=h,this.numBitsCharCount=p}numCharCountBits(h){return this.numBitsCharCount[Math.floor((h+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),i.Mode=s})(r.QrSegment||(r.QrSegment={}))})(Ws||(Ws={}));var To=Ws;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var EA={L:To.QrCode.Ecc.LOW,M:To.QrCode.Ecc.MEDIUM,Q:To.QrCode.Ecc.QUARTILE,H:To.QrCode.Ecc.HIGH},Gm=128,Ym="L",Xm="#FFFFFF",Zm="#000000",Km=!1,Qm=1,AA=4,SA=0,TA=.1;function $m(r,i=0){const s=[];return r.forEach(function(c,h){let p=null;c.forEach(function(w,E){if(!w&&p!==null){s.push(`M${p+i} ${h+i}h${E-p}v1H${p+i}z`),p=null;return}if(E===c.length-1){if(!w)return;p===null?s.push(`M${E+i},${h+i} h1v1H${E+i}z`):s.push(`M${p+i},${h+i} h${E+1-p}v1H${p+i}z`);return}w&&p===null&&(p=E)})}),s.join("")}function qm(r,i){return r.slice().map((s,c)=>c<i.y||c>=i.y+i.h?s:s.map((h,p)=>p<i.x||p>=i.x+i.w?h:!1))}function IA(r,i,s,c){if(c==null)return null;const h=r.length+s*2,p=Math.floor(i*TA),w=h/i,E=(c.width||p)*w,C=(c.height||p)*w,x=c.x==null?r.length/2-E/2:c.x*w,S=c.y==null?r.length/2-C/2:c.y*w,T=c.opacity==null?1:c.opacity;let N=null;if(c.excavate){let k=Math.floor(x),F=Math.floor(S),B=Math.ceil(E+x-k),z=Math.ceil(C+S-F);N={x:k,y:F,w:B,h:z}}const O=c.crossOrigin;return{x,y:S,h:C,w:E,excavation:N,opacity:T,crossOrigin:O}}function bA(r,i){return i!=null?Math.max(Math.floor(i),0):r?AA:SA}function Jm({value:r,level:i,minVersion:s,includeMargin:c,marginSize:h,imageSettings:p,size:w,boostLevel:E}){let C=$t.useMemo(()=>{const k=(Array.isArray(r)?r:[r]).reduce((F,B)=>(F.push(...To.QrSegment.makeSegments(B)),F),[]);return To.QrCode.encodeSegments(k,EA[i],s,void 0,void 0,E)},[r,i,s,E]);const{cells:x,margin:S,numCells:T,calculatedImageSettings:N}=$t.useMemo(()=>{let O=C.getModules();const k=bA(c,h),F=O.length+k*2,B=IA(O,w,k,p);return{cells:O,margin:k,numCells:F,calculatedImageSettings:B}},[C,w,p,c,h]);return{qrcode:C,margin:S,cells:x,numCells:T,calculatedImageSettings:N}}var NA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),RA=$t.forwardRef(function(i,s){const c=i,{value:h,size:p=Gm,level:w=Ym,bgColor:E=Xm,fgColor:C=Zm,includeMargin:x=Km,minVersion:S=Qm,boostLevel:T,marginSize:N,imageSettings:O}=c,F=Zf(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:B}=F,z=Zf(F,["style"]),H=O==null?void 0:O.src,V=$t.useRef(null),re=$t.useRef(null),le=$t.useCallback(be=>{V.current=be,typeof s=="function"?s(be):s&&(s.current=be)},[s]),[ue,q]=$t.useState(!1),{margin:ce,cells:ne,numCells:_e,calculatedImageSettings:Ue}=Jm({value:h,level:w,minVersion:S,boostLevel:T,includeMargin:x,marginSize:N,imageSettings:O,size:p});$t.useEffect(()=>{if(V.current!=null){const be=V.current,Z=be.getContext("2d");if(!Z)return;let Ie=ne;const pe=re.current,de=Ue!=null&&pe!==null&&pe.complete&&pe.naturalHeight!==0&&pe.naturalWidth!==0;de&&Ue.excavation!=null&&(Ie=qm(ne,Ue.excavation));const Se=window.devicePixelRatio||1;be.height=be.width=p*Se;const fe=p/_e*Se;Z.scale(fe,fe),Z.fillStyle=E,Z.fillRect(0,0,_e,_e),Z.fillStyle=C,NA?Z.fill(new Path2D($m(Ie,ce))):ne.forEach(function(K,te){K.forEach(function(Re,Be){Re&&Z.fillRect(Be+ce,te+ce,1,1)})}),Ue&&(Z.globalAlpha=Ue.opacity),de&&Z.drawImage(pe,Ue.x+ce,Ue.y+ce,Ue.w,Ue.h)}}),$t.useEffect(()=>{q(!1)},[H]);const Ne=Xf({height:p,width:p},B);let je=null;return H!=null&&(je=$t.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{q(!0)},ref:re,crossOrigin:Ue==null?void 0:Ue.crossOrigin})),$t.createElement($t.Fragment,null,$t.createElement("canvas",Xf({style:Ne,height:p,width:p,ref:le,role:"img"},z)),je)});RA.displayName="QRCodeCanvas";var ex=$t.forwardRef(function(i,s){const c=i,{value:h,size:p=Gm,level:w=Ym,bgColor:E=Xm,fgColor:C=Zm,includeMargin:x=Km,minVersion:S=Qm,boostLevel:T,title:N,marginSize:O,imageSettings:k}=c,F=Zf(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:B,cells:z,numCells:H,calculatedImageSettings:V}=Jm({value:h,level:w,minVersion:S,boostLevel:T,includeMargin:x,marginSize:O,imageSettings:k,size:p});let re=z,le=null;k!=null&&V!=null&&(V.excavation!=null&&(re=qm(z,V.excavation)),le=$t.createElement("image",{href:k.src,height:V.h,width:V.w,x:V.x+B,y:V.y+B,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const ue=$m(re,B);return $t.createElement("svg",Xf({height:p,width:p,viewBox:`0 0 ${H} ${H}`,ref:s,role:"img"},F),!!N&&$t.createElement("title",null,N),$t.createElement("path",{fill:E,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),$t.createElement("path",{fill:C,d:ue,shapeRendering:"crispEdges"}),le)});ex.displayName="QRCodeSVG";const MA=({player:r})=>D.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"350px",height:"500px",margin:"0 auto",position:"relative"},children:r!=null&&r.image_data?D.jsxs("div",{style:{position:"relative",width:"350px",height:"450px"},children:[D.jsx("img",{src:`data:image/jpeg;base64,${r.image_data}`,alt:r.name,style:{width:"350px",height:"450px",objectFit:"cover",borderRadius:"50px",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",margin:"auto",display:"block"},onError:i=>{console.error("Image failed to load:",i),i.target.style.display="none"}}),D.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]}):D.jsxs("div",{style:{width:"350px",height:"450px",backgroundColor:"#f0f0f0",borderRadius:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:[D.jsx("p",{style:{marginBottom:"60px"},children:"No image available"}),D.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]})});var jp=typeof window>"u"?L.useEffect:L.useLayoutEffect,_A=({isPlaying:r,duration:i,startAt:s=0,updateInterval:c=0,onComplete:h,onUpdate:p})=>{let[w,E]=L.useState(s),C=L.useRef(0),x=L.useRef(s),S=L.useRef(s*-1e3),T=L.useRef(null),N=L.useRef(null),O=L.useRef(null),k=z=>{let H=z/1e3;if(N.current===null){N.current=H,T.current=requestAnimationFrame(k);return}let V=H-N.current,re=C.current+V;N.current=H,C.current=re;let le=x.current+(c===0?re:(re/c|0)*c),ue=x.current+re,q=typeof i=="number"&&ue>=i;E(q?i:le),q||(T.current=requestAnimationFrame(k))},F=()=>{T.current&&cancelAnimationFrame(T.current),O.current&&clearTimeout(O.current),N.current=null},B=L.useCallback(z=>{F(),C.current=0;let H=typeof z=="number"?z:s;x.current=H,E(H),r&&(T.current=requestAnimationFrame(k))},[r,s]);return jp(()=>{if(p==null||p(w),i&&w>=i){S.current+=i*1e3;let{shouldRepeat:z=!1,delay:H=0,newStartAt:V}=(h==null?void 0:h(S.current/1e3))||{};z&&(O.current=setTimeout(()=>B(V),H*1e3))}},[w,i]),jp(()=>(r&&(T.current=requestAnimationFrame(k)),F),[r,i,c]),{elapsedTime:w,reset:B}},DA=(r,i,s)=>{let c=r/2,h=i/2,p=c-h,w=2*p,E=s==="clockwise"?"1,0":"0,1",C=2*Math.PI*p;return{path:`m ${c},${h} a ${p},${p} 0 ${E} 0,${w} a ${p},${p} 0 ${E} 0,-${w}`,pathLength:C}},Up=(r,i)=>r===0||r===i?0:typeof i=="number"?r-i:0,OA=r=>({position:"relative",width:r,height:r}),PA={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},tx=(r,i,s,c,h)=>{if(c===0)return i;let p=(h?c-r:r)/c;return i+s*p},zp=r=>{var i,s;return(s=(i=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(c,h,p,w)=>`#${h}${h}${p}${p}${w}${w}`).substring(1).match(/.{2}/g))==null?void 0:i.map(c=>parseInt(c,16)))!=null?s:[]},LA=(r,i)=>{var s;let{colors:c,colorsTime:h,isSmoothColorTransition:p=!0}=r;if(typeof c=="string")return c;let w=(s=h==null?void 0:h.findIndex((N,O)=>N>=i&&i>=h[O+1]))!=null?s:-1;if(!h||w===-1)return c[0];if(!p)return c[w];let E=h[w]-i,C=h[w]-h[w+1],x=zp(c[w]),S=zp(c[w+1]),T=!!r.isGrowing;return`rgb(${x.map((N,O)=>tx(E,N,S[O]-N,C,T)|0).join(",")})`},kA=r=>{let{duration:i,initialRemainingTime:s,updateInterval:c,size:h=180,strokeWidth:p=12,trailStrokeWidth:w,isPlaying:E=!1,isGrowing:C=!1,rotation:x="clockwise",onComplete:S,onUpdate:T}=r,N=L.useRef(),O=Math.max(p,w??0),{path:k,pathLength:F}=DA(h,O,x),{elapsedTime:B}=_A({isPlaying:E,duration:i,startAt:Up(i,s),updateInterval:c,onUpdate:typeof T=="function"?H=>{let V=Math.ceil(i-H);V!==N.current&&(N.current=V,T(V))}:void 0,onComplete:typeof S=="function"?H=>{var V;let{shouldRepeat:re,delay:le,newInitialRemainingTime:ue}=(V=S(H))!=null?V:{};if(re)return{shouldRepeat:re,delay:le,newStartAt:Up(i,ue)}}:void 0}),z=i-B;return{elapsedTime:B,path:k,pathLength:F,remainingTime:Math.ceil(z),rotation:x,size:h,stroke:LA(r,z),strokeDashoffset:tx(B,0,F,i,C),strokeWidth:p}},jd=r=>{let{children:i,strokeLinecap:s,trailColor:c,trailStrokeWidth:h}=r,{path:p,pathLength:w,stroke:E,strokeDashoffset:C,remainingTime:x,elapsedTime:S,size:T,strokeWidth:N}=kA(r);return $t.createElement("div",{style:OA(T)},$t.createElement("svg",{viewBox:`0 0 ${T} ${T}`,width:T,height:T,xmlns:"http://www.w3.org/2000/svg"},$t.createElement("path",{d:p,fill:"none",stroke:c??"#d9d9d9",strokeWidth:h??N}),$t.createElement("path",{d:p,fill:"none",stroke:E,strokeLinecap:s??"round",strokeWidth:N,strokeDasharray:w,strokeDashoffset:C})),typeof i=="function"&&$t.createElement("div",{style:PA},i({remainingTime:x,elapsedTime:S,color:E})))};jd.displayName="CountdownCircleTimer";const BA=({onComplete:r})=>{const[i,s]=L.useState(5),[c,h]=L.useState(!1);return L.useEffect(()=>{const p=setInterval(()=>{h(!0),setTimeout(()=>{s(w=>w<=1?(clearInterval(p),r&&r(),0):w-1),h(!1)},500)},1500);return()=>clearInterval(p)},[r]),D.jsx("div",{className:"lobby-countdown-overlay",children:D.jsxs("div",{className:`lobby-countdown-container ${c?"pop-burst":""}`,children:[D.jsx("div",{className:"lobby-countdown-number",children:i}),D.jsx("div",{className:"lobby-countdown-text",children:i>0?"Get ready!":"Starting..."})]})})},FA=({onComplete:r,lobbyCode:i="this"})=>{const[s,c]=L.useState(0),[h,p]=L.useState(!1),[w,E]=L.useState(!1),[C,x]=L.useState([0]),[S,T]=L.useState(!1),N=L.useRef(null),O=L.useRef(null),k=[{image:"/assets/how_to_pt1_1.svg",duration:1500,animatedText:"Find your match using their profile picture!"},{image:"/assets/how_to_pt2_2.svg",duration:4e3,animatedText:"Raise the volume to find your next match, dont keep them waiting!"},{image:"/assets/how_to_pt3_3.svg",duration:4e3,animatedText:"Take a break so people dont get matched with you."}];return L.useEffect(()=>{const F=()=>{if(s>=k.length-1){clearInterval(N.current),r&&r();return}p(!0);const B=s+1;x([s,B]),O.current=setTimeout(()=>{T(!1),c(B),p(!1),setTimeout(()=>{x([B]),E(!0),k[B].animatedText&&T(!0)},500)},500)};return N.current=setInterval(F,k[s].duration),E(!0),s===0&&k[0].animatedText&&T(!0),()=>{N.current&&clearInterval(N.current),O.current&&clearTimeout(O.current)}},[s,k.length,r]),D.jsx("div",{className:"tutorial-overlay",children:D.jsxs("div",{className:"tutorial-container",children:[C.map(F=>D.jsxs("div",{className:`tutorial-slide ${F===s?"current":F<s?"previous":"next"}`,children:[F===s&&k[F].animatedText&&S&&D.jsx("div",{className:"animated-text pop-burst",children:k[F].animatedText}),D.jsx("div",{className:"tutorial-image-container",children:D.jsx("img",{src:k[F].image,alt:`Tutorial step ${F+1}`,className:"tutorial-image"})}),D.jsx("div",{className:`tutorial-text ${w&&F===s?"text-animate":""}`,children:k[F].text})]},F)),D.jsx("div",{className:"tutorial-progress",children:k.map((F,B)=>D.jsx("div",{className:`progress-dot ${B===s?"active":""}`},B))})]})})},uu=9,jA=5e3,UA=()=>{const[r,i]=L.useState("self"),{loadSound:s,seekTo:c,cancelSound:h,checkSound:p,soundEnabled:w,setSoundEnabled:E,isPlaying:C}=og(),[x,S]=L.useState("yonder"),T=qr(),{code:N}=ny(),[O,k]=L.useState(null);Vm(k,null,x);const{user:F,userProfile:B,checkAuth:z,permissions:H}=L.useContext(pi);L.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token"))try{F||await z()}catch(ct){console.error("Authentication error:",ct);const Ve=new URLSearchParams(window.location.search).get("code")||N;T(Ve?`/signup?redirect=lobby&code=${Ve}`:"/signup?redirect=lobby")}else{const Gt=new URLSearchParams(window.location.search).get("code")||N;T(Gt?`/signup?redirect=lobby&code=${Gt}`:"/signup?redirect=lobby")}})()},[T,N,z,F]),L.useEffect(()=>{(()=>{const ct=new URLSearchParams(window.location.search).get("code")||N;if(ct){S(ct);const Gt=`hasSeenTutorial_${ct}`,Ve=localStorage.getItem(Gt),Ae=!!localStorage.getItem("access_token");console.log("Tutorial check:",{codeParam:ct,lobbyTutorialKey:Gt,hasSeenLobbyTutorial:Ve,isAuthenticated:Ae}),!Ve&&Ae&&(Bt(!0),localStorage.setItem(Gt,"true"))}})()},[N]);const[V,re]=L.useState(null),[le,ue]=L.useState(null),[q,ce]=L.useState(null),[ne,_e]=L.useState(null),[Ue,Ne]=L.useState(null),je=L.useRef(!1),be=L.useRef(null),[Z,Ie]=L.useState(null),[pe,de]=L.useState(null),[Se,fe]=L.useState(null),[K,te]=L.useState(null),[Re,Be]=L.useState(!0),st=300,ve=L.useRef(0),[Je,Ge]=L.useState(null),[et,Lt]=L.useState(null),[Ht,Ur]=L.useState([]),[it,tr]=L.useState([]),[Tn,Tr]=L.useState(!document.hidden),kt=L.useRef("yonder");L.useEffect(()=>{kt.current=x},[x]);async function xt(Me,ut){const ct=localStorage.getItem("access_token"),Ve=await(await fetch(window.server_url+"/set_profile_info",{method:"POST",headers:{Authorization:`Bearer ${ct}`,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify({tags_work:Me,tags_desiring_work:ut})})).json();console.log("SET PROFILE INFO:",Ve)}async function lt(){try{const Me=localStorage.getItem("access_token");h(),(await fetch(window.server_url+"/disconnect_lobby",{headers:{Authorization:`Bearer ${Me}`,lobby_code:x}})).ok&&T("/")}catch(Me){console.error("Error disconnecting from lobby:",Me),T("/")}finally{h(),T("/"),console.log("finally")}}async function _n(){try{ve.current+=1,ve.current>5&&(ve.current=0,je.current=!1);const Me=localStorage.getItem("access_token"),ut=!document.hidden,ct=kt.current;if(console.log("lobby code fr:",ct),ct=="yonder"){console.log("lobby code is not set");return}const Gt=await fetch(`${window.server_url}/lobby?is_visible=${ut}`,{headers:{Authorization:`Bearer ${Me}`,is_visible_t_f:ut?"t":"f",lobby_code:ct}});if(Gt.ok){const Ve=await Gt.json();console.log("LOBBY PAIR DATA:",ct,Ve),Ve.status=="inactive"&&(h(),T("/")),ce(Ve.opponent_name),Ve.opponent_name==null&&re(null),i(Ve.custom_tags),Ie(Ve.lobby_state),te(Ve.round_duration);const Ae=typeof Ve.round_time_left=="number"&&!isNaN(Ve.round_time_left)?Ve.round_time_left:0;be.current=Ae,de(Math.floor(Ae));const qt=Math.floor(Ae/60),vt=Math.floor(Ae%60);fe(`${qt}:${vt.toString().padStart(2,"0")}`),Ne(Ve.table_number),Ve.player_tags!=null&&Ve.player_tags.tags_work!=null&&Ur(Ve.player_tags.tags_work),Ve.player_tags!=null&&Ve.player_tags.desiring_tags_work!=null&&tr(Ve.player_tags.desiring_tags_work),be.current!=null&&Ve.lobby_state=="active"&&be.current!=0&&(c(st-be.current),console.log("seeking to",st-be.current));const Rt=await fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${ct}`,{headers:{Authorization:`Bearer ${Me}`,lobby_code:ct}});if(Rt.ok){const nr=await Rt.json();k(nr.player_count)}if((q!=Ve.opponent_name||V==null)&&!je.current&&Ve.opponent_name!=null){je.current=!0,console.log("fetching profile");const nr=await fetch(window.server_url+"/paired_player_profile",{headers:{Authorization:`Bearer ${Me}`}});if(nr.ok){const Jr=await nr.json();re(Jr),console.log("profile fetched:",Jr.name)}else console.log("profile fetch failed");je.current=!1}}}catch(Me){console.error("Error fetching lobby data:",Me)}}L.useEffect(()=>{p()?E(!0):E(!1);const Me=setInterval(async()=>{_n()},jA);return()=>clearInterval(Me)},[]),L.useEffect(()=>{const Me=setTimeout(_n,1e3);return()=>clearTimeout(Me)},[Z,x]),L.useEffect(()=>{const Me=()=>{const ut=!document.hidden;ut&&!Tn&&(console.log("Page became visible - fetching latest data"),_n()),Tr(ut)};return document.addEventListener("visibilitychange",Me),()=>{document.removeEventListener("visibilitychange",Me)}},[Tn]);const Ee=()=>D.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:D.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",position:"relative",minWidth:"300px"},children:[D.jsx("button",{onClick:()=>Be(!1),style:{color:"#144fff",position:"absolute",right:"10px",top:"10px",border:"none",background:"none",fontSize:"12px",cursor:"pointer"},children:"X"}),D.jsx("h2",{style:{marginTop:"5px"},children:"The Sound is Important"}),D.jsx("p",{style:{color:"#144dff"},children:"You'll need this for the best experience."}),D.jsx("button",{onClick:()=>{s(),Be(!1)},style:{padding:"10px 20px",marginTop:"20px",backgroundColor:"#144dff",color:"#ffffff",border:"none",borderRadius:"14px",fontWeight:"bold",cursor:"pointer"},children:"Enable Sound"})]})}),Xe=(Me,ut)=>{Je==null&&Ge(Ht),et==null&&Lt(it),Me==="self"?Ge(ct=>ct.includes(ut)?ct.filter(Gt=>Gt!==ut):[...ct,ut]):Lt(ct=>ct.includes(ut)?ct.filter(Gt=>Gt!==ut):[...ct,ut])};L.useEffect(()=>{Je!=null&&et!=null&&xt(Je,et)},[Je,et]);const[Tt,wt]=L.useState(!1);L.useEffect(()=>{if(Z==="interrim")wt(!0);else if(Z==="active"){const Me=setTimeout(()=>{wt(!1)},1e3);return()=>clearTimeout(Me)}},[Z]);const Un=()=>{console.log("Lobby countdown animation completed")},[Ct,Bt]=L.useState(!1),Ft=()=>{Bt(!1)};return D.jsxs("div",{className:"lobby-container",children:[D.jsxs("div",{className:"lobby-content",children:[D.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0",marginTop:"-1.5rem"},children:D.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),(Z==="checkin"||Z==="active"&&!V||Z==="interrim")&&D.jsx("div",{className:"user-profile-container",children:D.jsxs("div",{className:"user-profile",children:[D.jsx("img",{src:B!=null&&B.image_data?`data:image/jpeg;base64,${B.image_data}`:"/assets/player_icon_trans.png",alt:"Your Profile",className:"user-profile-picture"}),D.jsx("div",{className:"user-profile-glow"})]})}),D.jsx("div",{className:"lobby-header",style:{marginTop:"-50px"},children:D.jsx("h2",{children:Z==="active"&&V?D.jsxs("span",{className:"lobby-pop-burst",children:["Go find ",V.name,"!"]}):Z==="checkin"?D.jsxs(D.Fragment,{children:["You're in ",B.name.slice(0,15),"!",D.jsx("br",{}),"Your host will start the experience."]}):Z==="active"&&!V?"You will be paired with someone in the next round.":Z==="interrim"?"Get ready for the next round!":Z==="terminated"?"This session has ended. Thank you for participating!":""})},Z),Z!=="checkin"&&D.jsx("div",{className:"time-left",style:{display:"flex",flexDirection:"column",alignItems:"center",background:"white",marginTop:"-2rem"},children:(Z==="active"||Z==="interrim")&&pe?D.jsxs(D.Fragment,{children:[D.jsx(jd,{isPlaying:Z==="active",duration:K||180,initialRemainingTime:pe||0,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>(_n(),{shouldRepeat:!1}),children:({remainingTime:Me})=>{const ut=typeof Me=="number"&&!isNaN(Me)?Me:0,ct=Math.floor(ut/60),Gt=Math.floor(ut%60);return D.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[ct,":",String(Gt).padStart(2,"0")]})}},`${Z}-${pe}`),D.jsx("span",{style:{fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff"},children:"round time left"}),D.jsx("div",{style:{height:"18px"}})]}):D.jsx("span",{className:"time-left-text"})}),D.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",margin:"0 auto"},children:Z==="active"||Z==="interrim"?V?D.jsx("div",{style:{marginTop:"-4.5rem",width:"100%",display:"flex",justifyContent:"center"},children:D.jsx(MA,{player:V})}):D.jsx(D.Fragment,{}):Z==="terminated"?D.jsx("div",{className:"status-message",children:D.jsxs("h2",{children:["This session has ended.",D.jsx("br",{}),"Thank you for participating!"]})}):null}),(Z==="checkin"||Z==="active"&&!V)&&O!==null&&D.jsx("div",{className:"player-count-container",children:D.jsxs("div",{className:"player-count-bubble",children:[D.jsx("div",{className:"player-count-icon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:D.jsx("img",{src:"/assets/players_display_icon.png",alt:"Players in lobby",className:"player-count-img",style:{width:"40px",height:"40px",objectFit:"contain"}})}),D.jsxs("div",{className:"player-count-text",children:[D.jsx("span",{className:"player-count-number",children:O}),D.jsxs("span",{className:"player-count-label",children:[""," in ",x," lobby"]})]})]})}),(Z==="checkin"||Z==="active"&&!V)&&D.jsx("div",{className:"lobby-profiles-container",children:D.jsx("div",{className:"lobby-profiles-grid",children:O>0?D.jsxs(D.Fragment,{children:[Array.from({length:Math.min(O,uu)}).map((Me,ut)=>D.jsxs("div",{className:`profile-icon-wrapper ${ut===Math.min(O,uu)-1?"pop-in":""}`,children:[D.jsx("img",{src:ut===0&&B!=null&&B.image_data?`data:image/jpeg;base64,${B.image_data}`:"/assets/player_icon_trans.png",alt:ut===0?"Your Profile":`Profile ${ut+1}`,className:"profile-icon",loading:"lazy"}),D.jsx("div",{className:"profile-icon-glow"})]},`profile-${ut}`)),O>uu&&D.jsx("div",{className:"profile-icon-wrapper more-profiles",children:D.jsxs("div",{className:"more-profiles-bubble",children:["+",O-uu]})})]}):D.jsx("div",{children:"No profiles to display"})})}),(Z==="checkin"||Z==="active")&&D.jsxs("div",{className:"selected-tags-container",children:[Je&&Je.length>0&&D.jsxs("div",{className:"tag-category",children:[D.jsx("h4",{children:"What I do:"}),D.jsx("div",{className:"tag-list",children:Je.map(Me=>D.jsx("span",{className:"tag-item",children:Me},`self-${Me}`))})]}),et&&et.length>0&&D.jsxs("div",{className:"tag-category",children:[D.jsx("h4",{children:"Looking for:"}),D.jsx("div",{className:"tag-list",children:et.map(Me=>D.jsx("span",{className:"tag-item",children:Me},`desiring-${Me}`))})]})]}),D.jsx("button",{className:"leave-lobby-button",onClick:lt,children:"Leave"}),D.jsx("button",{className:"how-to-tutorial-button",onClick:()=>Bt(!0),children:"Tutorial"}),H==="admin"&&D.jsx("button",{className:"admin-view-button",onClick:()=>T(`/admin_lobby_view?code=${x}`),children:"Manage"}),D.jsx("form",{onSubmit:Me=>{Me.preventDefault(),console.log("SELF TAGS:",Je),console.log("DESIRING TAGS:",et),Je!=null&&et!=null?xt(Je,et):xt(Ht,it),window.scrollTo({top:0,behavior:"smooth"})},children:D.jsxs("div",{className:"tags-section",children:[D.jsxs("div",{className:"tag-group",children:[D.jsx("div",{className:"bounce-wrapper",children:D.jsx("h3",{children:"Help us match you with the right people."})}),D.jsx("div",{className:"bounce-wrapper",children:D.jsx("h3",{children:"Who are you?"})}),D.jsx("div",{className:"tag-labels-container",children:Array.isArray(r)?r.map(Me=>D.jsxs("label",{className:"tag-label",children:[D.jsx("input",{type:"checkbox",checked:Je!=null?Je.includes(Me):Ht.includes(Me),onChange:()=>Xe("self",Me)}),Me]},`self-${Me}`)):null})]}),D.jsxs("div",{className:"tag-group",children:[D.jsx("div",{className:"bounce-wrapper",children:D.jsx("h3",{children:"Who do you want to meet?"})}),D.jsx("div",{className:"tag-labels-container",children:Array.isArray(r)?r.map(Me=>D.jsxs("label",{className:"tag-label",children:[D.jsx("input",{type:"checkbox",checked:et!=null?et.includes(Me):it.includes(Me),onChange:()=>Xe("desiring",Me)}),Me]},`desiring-${Me}`)):null})]})]})}),D.jsx("div",{className:"bottom-buttons",style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap",padding:"0 1rem"},children:D.jsx("button",{className:"secondary-button",onClick:s,children:w?"Sound On":"Sound Off"})})]}),w||!Re||Z=="checkin"||Z==null||C?null:D.jsx(Ee,{}),Tt&&D.jsx(BA,{onComplete:Un}),Ct&&D.jsx(FA,{onComplete:Ft,lobbyCode:x})]})},zA=({isOpen:r,onClose:i,onConfirm:s,userName:c})=>r?D.jsx("div",{className:"kick-modal",children:D.jsxs("div",{className:"kick-modal-content",children:[D.jsx("h2",{className:"kick-modal-title",children:"Kick User"}),D.jsxs("p",{className:"kick-modal-message",children:["Are you sure you want to kick ",c," from the lobby?"]}),D.jsxs("div",{className:"kick-modal-actions",children:[D.jsx("button",{onClick:s,className:"admin-button admin-button-danger",children:"Yes, Kick User"}),D.jsx("button",{onClick:i,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,VA=({isOpen:r,onClose:i,onConfirm:s})=>r?D.jsx("div",{className:"join-modal",children:D.jsxs("div",{className:"join-modal-content",children:[D.jsx("h2",{className:"join-modal-title",children:"Join Lobby"}),D.jsx("p",{className:"join-modal-message",children:"Are you sure you want to join? You will be paired up with your attendees."}),D.jsxs("div",{className:"join-modal-actions",children:[D.jsx("button",{onClick:s,className:"admin-button admin-button-join",children:"Yes, Join Lobby"}),D.jsx("button",{onClick:i,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,WA=()=>{const{user:r,userProfile:i,checkAuth:s,permissions:c}=L.useContext(pi),h=qr(),p=xi(),E=new URLSearchParams(p.search).get("code"),[C,x]=L.useState(E||"test");L.useEffect(()=>{E||(console.log("No lobby code found in URL, using default 'test' value"),(async()=>{try{const pe=localStorage.getItem("access_token"),de=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${pe}`}});if(de.ok){const Se=await de.json();if(console.log("Active lobbies response:",Se),Se&&Se.lobbies&&Se.lobbies.length>0){const fe=Se.lobbies[0];x(fe),window.history.replaceState({},"",`/admin_lobby_view?code=${fe}`)}}}catch(pe){console.error("Error fetching active lobby:",pe)}})())},[E]);const[S,T]=L.useState(!1),[N,O]=L.useState(null),[k,F]=L.useState(!1),[B,z]=L.useState(null),[H,V]=L.useState(null),[re,le]=L.useState(null),[ue,q]=L.useState(null),[ce,ne]=L.useState({});L.useEffect(()=>{if(s(),c!=="admin"&&c!=="organizer"){h("/");return}const Ie=async de=>{if(ce[de])return ce[de];try{const Se=await fetch(`${window.server_url}/pfp_small_icon?username=${encodeURIComponent(de)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(Se.ok){let fe=await Se.text();fe.startsWith('"')&&fe.endsWith('"')&&(fe=fe.slice(1,-1));const K=fe.startsWith("data:image")?fe:`data:image/jpeg;base64,${fe}`;return ne(te=>({...te,[de]:K})),K}return null}catch(Se){return console.error(`Error fetching profile picture for ${de}:`,Se),null}},pe=setInterval(async()=>{try{const de=await fetch(window.server_url+"/admin_lobby_data",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:C}});if(de.ok){const Se=await de.json();if(console.log("Admin lobby data:",C,Se),Se&&Se.unpaired_players){const fe=await Promise.all(Se.unpaired_players.map(async te=>{const Re=await Ie(te.username);return{...te,pfp_data:Re}})),K=await Promise.all((Se.pairs_data||[]).map(async te=>{const Re=await Ie(te[0].username),Be=await Ie(te[1].username);return[{...te[0],pfp_data:Re},{...te[1],pfp_data:Be}]}));V(fe),z(K),le(Se.round_time_left),q(Se.lobby_state)}else console.error("Invalid lobby data structure:",Se),V([]),z([])}else console.error("Failed to fetch admin lobby data:",de.status)}catch(de){console.error("Error fetching admin lobby data:",de)}},1e3);return()=>clearInterval(pe)},[ce]);const _e=Ie=>{O(Ie),T(!0)},Ue=()=>{T(!1),O(null)},Ne=()=>{N&&fetch(window.server_url+"/kick_user",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({username:N.username,lobby_code:C})}).then(Ie=>{Ie.ok?console.log(`User ${N.name} kicked successfully`):console.error(`Failed to kick user ${N.name}`)}).catch(Ie=>{console.error("Error kicking user:",Ie)}).finally(()=>{Ue()})},je=()=>{F(!0)},be=()=>{F(!1)},Z=()=>{h(`/lobby?code=${C}`),be()};return D.jsxs("div",{className:"admin-lobby-container",children:[D.jsxs("div",{className:"admin-lobby-header",children:[D.jsxs("h1",{className:"admin-lobby-title",children:[r," Admin View"]}),D.jsx("div",{children:D.jsxs("h3",{children:["Lobby code: ",C]})}),D.jsxs("div",{className:"admin-lobby-actions",children:[D.jsx("button",{onClick:()=>h("/"),className:"admin-button admin-button-primary",children:"←Home"}),D.jsx("button",{onClick:je,className:"admin-button admin-button-join",children:"Join Lobby"})]})]}),D.jsxs("div",{className:"admin-lobby-timer-container",children:[(ue==="active"||ue==="interrim")&&re?D.jsxs("div",{className:"admin-lobby-timer",children:[D.jsx(jd,{isPlaying:ue==="active",duration:300,initialRemainingTime:re,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>({shouldRepeat:!1}),children:({remainingTime:Ie})=>D.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[Math.ceil(Ie),"s"]})},`${ue}-${Math.floor(re)}`),D.jsx("span",{style:{fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff"},children:"round time left"})]}):null,D.jsxs("div",{className:"admin-lobby-qr",children:[D.jsx(ex,{value:`${window.location.origin}/lobby?code=${C}`,size:130,level:"H",includeMargin:!0,bgColor:"#ffffff",fgColor:"#144dff"}),D.jsx("span",{className:"qr-label",children:"Scan to join lobby"})]})]}),D.jsxs("div",{className:"admin-lobby-actions",children:[D.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to start the rounds?")&&fetch(window.server_url+"/start_rounds",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:C}})},className:"admin-button admin-button-primary",style:{backgroundColor:"#28a745"},children:"Start"}),D.jsx("button",{onClick:async()=>{window.confirm("Are you sure you want to terminate the rounds?")&&((await fetch(window.server_url+"/terminate_lobby",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:C}})).ok?(console.log("Lobby terminated successfully"),h("/")):console.error("Failed to terminate lobby"))},className:"admin-button admin-button-danger",children:"End"})]}),D.jsx("div",{className:"admin-lobby-stats",children:D.jsxs("div",{className:"stat-card",children:[D.jsx("div",{className:"stat-title",children:"Total Players"}),D.jsx("div",{className:"stat-value",children:((H==null?void 0:H.length)||0)+((B==null?void 0:B.length)*2||0)}),D.jsx("div",{className:"stat-title",children:"Paired Players"}),D.jsx("div",{className:"stat-value",children:(B==null?void 0:B.length)*2||0}),D.jsx("div",{className:"stat-title",children:"Unpaired Players"}),D.jsx("div",{className:"stat-value",children:(H==null?void 0:H.length)||0})]})}),B&&D.jsx("div",{className:"admin-lobby-players",children:D.jsxs("div",{className:"player-section",children:[D.jsxs("div",{className:"section-header",children:["Paired Players: ",(B==null?void 0:B.length)*2||0]}),D.jsx("div",{className:"player-grid",children:B.map((Ie,pe)=>D.jsxs("div",{className:"paired-player-card",children:[D.jsxs("div",{className:"paired-player",onClick:()=>_e(Ie[0]),children:[D.jsx("img",{src:Ie[0].pfp_data,alt:Ie[0].name,className:"paired-player-avatar"}),D.jsx("h3",{className:"paired-player-name",children:Ie[0].name})]}),D.jsxs("div",{className:"paired-player",onClick:()=>_e(Ie[1]),children:[D.jsx("img",{src:Ie[1].pfp_data,alt:Ie[1].name,className:"paired-player-avatar"}),D.jsx("h3",{className:"paired-player-name",children:Ie[1].name})]})]},pe))})]})}),H&&D.jsx("div",{className:"admin-lobby-players",children:D.jsxs("div",{className:"player-section",children:[D.jsxs("div",{className:"section-header",children:["Unpaired Players: ",(H==null?void 0:H.length)||0]}),D.jsx("div",{className:"player-grid",children:H.map((Ie,pe)=>D.jsxs("div",{className:"player-card",onClick:()=>_e(Ie),children:[D.jsx("img",{src:Ie.pfp_data,alt:Ie.name,className:"player-avatar"}),D.jsx("h3",{className:"player-name",children:Ie.name})]},pe))})]})}),D.jsx(VA,{isOpen:k,onClose:be,onConfirm:Z}),D.jsx(zA,{isOpen:S,onClose:Ue,onConfirm:Ne,userName:(N==null?void 0:N.name)||"this user"})]})},HA=()=>{const r=qr(),{user:i}=L.useContext(pi),s=()=>{window.location.href="https://reunio.app/become-an-organizer"};return D.jsxs("div",{className:"product-selection-container",children:[D.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[D.jsx("source",{src:"/assets/purchase_plan_video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),D.jsxs("div",{className:"product-selection-content",children:[D.jsx("div",{className:"product-selection-header",children:D.jsx("h1",{children:"Product Selection"})}),D.jsxs("div",{className:"plans-section",children:[D.jsx("h2",{children:"Available Plans"}),D.jsxs("div",{className:"plan-card",children:[D.jsx("h3",{children:"Organizer Plan"}),D.jsxs("div",{className:"plan-description",children:[D.jsx("p",{children:"Create experiences for your community with our beta plan."}),D.jsxs("ul",{children:[D.jsx("li",{children:"Create unlimited experiences"}),D.jsx("li",{children:"Access to organizer dashboard"}),D.jsx("li",{children:"Priority customer support"})]})]}),D.jsx("button",{className:"purchase-button",onClick:s,children:"Contact Us"})]})]}),D.jsx("button",{className:"back-button",onClick:()=>r("/"),children:"Home"})]})]})},GA=()=>{const{user:r,userProfile:i,checkAuth:s,permissions:c}=L.useContext(pi),[h,p]=L.useState(""),[w,E]=L.useState(""),[C,x]=L.useState(!1),[S,T]=L.useState(""),[N,O]=L.useState(!1),[k,F]=L.useState([]),[B,z]=L.useState(""),[H,V]=L.useState("5"),[re,le]=L.useState("0"),ue=qr(),q=L.useRef(null);L.useEffect(()=>{window.scrollTo(0,0),r&&(p(r),E(r)),q.current&&q.current.focus()},[r]);const ce=be=>{const Z=/^[a-z0-9]+$/;return be.length>=2&&Z.test(be)},ne=be=>{const Z=be.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");E(Z),O(!0),setTimeout(()=>{O(!1)},500)},_e=()=>{B.trim()&&!k.includes(B.trim())&&(F([...k,B.trim()]),z(""))},Ue=be=>{F(k.filter(Z=>Z!==be))},Ne=be=>{be.key==="Enter"&&B.trim()&&(be.preventDefault(),_e())},je=async be=>{if(be.preventDefault(),!ce(w)){T("Lobby code must be at least 2 characters long and contain only lowercase letters and numbers");return}x(!0),T("");const Z=parseInt(H)*60+parseInt(re);try{const Ie=await fetch(window.server_url+"/create_lobby",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({lobby_code:w,custom_tags:k,lobby_duration:Z})});if(Ie.ok)console.log("Lobby created successfully"),console.log(await Ie.json()),ue(`/admin_lobby_view?code=${w}`);else{const pe=await Ie.json();T(pe.message||"Failed to create lobby"),console.error("Failed to create lobby")}}catch(Ie){T("An error occurred while creating the lobby"),console.error("Error creating lobby:",Ie)}finally{x(!1)}};return D.jsx("div",{className:"create-lobby-background",children:D.jsxs("div",{className:"create-lobby-container",children:[D.jsx("h1",{className:"create-lobby-title",children:"Create a New Lobby"}),D.jsxs("form",{onSubmit:je,className:"create-lobby-form",children:[D.jsxs("div",{className:"form-group",children:[D.jsx("label",{htmlFor:"lobbyCode",children:"Lobby Code"}),D.jsx("input",{ref:q,type:"text",id:"lobbyCode",value:w,onChange:ne,placeholder:"Enter lobby code (lowercase letters and numbers only)",required:!0,className:`form-input ${N?"typing":""}`,autoComplete:"off"}),D.jsx("div",{className:"input-hint",children:"lowercase letters and numbers only"})]}),D.jsxs("div",{className:"form-group",children:[D.jsx("label",{children:"Round Duration"}),D.jsxs("div",{className:"duration-input-container",children:[D.jsxs("div",{className:"duration-input-group",children:[D.jsx("input",{type:"number",id:"minutes",value:H,onChange:be=>{const Z=be.target.value;(Z===""||parseInt(Z)>0&&parseInt(Z)<=5)&&V(Z)},min:"1",max:"5",placeholder:"1-5",className:"form-input duration-input",autoComplete:"off"}),D.jsx("label",{htmlFor:"minutes",className:"duration-label",children:"Minutes"})]}),D.jsxs("div",{className:"duration-input-group",children:[D.jsx("input",{type:"number",id:"seconds",value:re,onChange:be=>{const Z=be.target.value;(Z===""||parseInt(Z)>=0&&parseInt(Z)<=59)&&le(Z)},min:"0",max:"59",placeholder:"0-59",className:"form-input duration-input",autoComplete:"off"}),D.jsx("label",{htmlFor:"seconds",className:"duration-label",children:"Seconds"})]})]})]}),D.jsxs("div",{className:"form-group",children:[D.jsx("label",{htmlFor:"tagInput",children:"Matchmaking Tags"}),D.jsxs("div",{className:"tag-input-container",children:[D.jsx("input",{type:"text",id:"tagInput",value:B,onChange:be=>z(be.target.value),onKeyDown:Ne,placeholder:"Add tags (press + to add)",className:"form-input",autoComplete:"off"}),D.jsx("button",{type:"button",onClick:_e,className:"tag-add-button",children:"+"})]}),k.length>0&&D.jsx("div",{className:"tag-list",children:k.map((be,Z)=>D.jsxs("div",{className:"tag-item",children:[be,D.jsx("button",{type:"button",onClick:()=>Ue(be),className:"tag-remove-button",children:"×"})]},Z))}),D.jsx("div",{className:"input-hint",children:"If you want to match people based on role/interests"})]}),S&&D.jsx("div",{className:"error-message",children:S}),D.jsxs("div",{className:"button-group",children:[D.jsx("button",{type:"button",className:"back-button",onClick:()=>ue(-1),children:"← Back"}),D.jsx("button",{type:"submit",className:"submit-button",disabled:C,children:C?"Creating...":"Create Lobby"})]})]})]})})};n2.createRoot(document.getElementById("root")).render(D.jsx(L.StrictMode,{children:D.jsx(r2,{children:D.jsxs(zy,{basename:"/",children:[D.jsx(yA,{}),D.jsxs(xy,{children:[D.jsx(Di,{path:"/",element:D.jsx(xA,{})}),D.jsx(Di,{path:"/login",element:D.jsx(wA,{})}),D.jsx(Di,{path:"/signup",element:D.jsx(gA,{})}),D.jsx(Di,{path:"/logout",element:D.jsx(CA,{})}),D.jsx(Di,{path:"/lobby",element:D.jsx(UA,{})}),D.jsx(Di,{path:"/admin_lobby_view",element:D.jsx(WA,{})}),D.jsx(Di,{path:"/create_lobby",element:D.jsx(GA,{})}),D.jsx(Di,{path:"/product-selection",element:D.jsx(HA,{})})]})]})})}));
