function Xx(r,i){for(var s=0;s<i.length;s++){const c=i[s];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in r)){const p=Object.getOwnPropertyDescriptor(c,h);p&&Object.defineProperty(r,h,p.get?p:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const w of p.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&c(w)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jc={exports:{}},wa={},ef={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function Zx(){if(_0)return ft;_0=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),w=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.iterator;function N(X){return X===null||typeof X!="object"?null:(X=I&&X[I]||X["@@iterator"],typeof X=="function"?X:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function F(X,ne,Ne){this.props=X,this.context=ne,this.refs=B,this.updater=Ne||O}F.prototype.isReactComponent={},F.prototype.setState=function(X,ne){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ne,"setState")},F.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function z(){}z.prototype=F.prototype;function H(X,ne,Ne){this.props=X,this.context=ne,this.refs=B,this.updater=Ne||O}var V=H.prototype=new z;V.constructor=H,k(V,F.prototype),V.isPureReactComponent=!0;var te=Array.isArray,le=Object.prototype.hasOwnProperty,ce={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function ue(X,ne,Ne){var Fe,it={},Ae=null,dt=null;if(ne!=null)for(Fe in ne.ref!==void 0&&(dt=ne.ref),ne.key!==void 0&&(Ae=""+ne.key),ne)le.call(ne,Fe)&&!$.hasOwnProperty(Fe)&&(it[Fe]=ne[Fe]);var He=arguments.length-2;if(He===1)it.children=Ne;else if(1<He){for(var gt=Array(He),zt=0;zt<He;zt++)gt[zt]=arguments[zt+2];it.children=gt}if(X&&X.defaultProps)for(Fe in He=X.defaultProps,He)it[Fe]===void 0&&(it[Fe]=He[Fe]);return{$$typeof:r,type:X,key:Ae,ref:dt,props:it,_owner:ce.current}}function ee(X,ne){return{$$typeof:r,type:X.type,key:ne,ref:X.ref,props:X.props,_owner:X._owner}}function Oe(X){return typeof X=="object"&&X!==null&&X.$$typeof===r}function Be(X){var ne={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Ne){return ne[Ne]})}var Ie=/\/+/g;function be(X,ne){return typeof X=="object"&&X!==null&&X.key!=null?Be(""+X.key):ne.toString(36)}function Ve(X,ne,Ne,Fe,it){var Ae=typeof X;(Ae==="undefined"||Ae==="boolean")&&(X=null);var dt=!1;if(X===null)dt=!0;else switch(Ae){case"string":case"number":dt=!0;break;case"object":switch(X.$$typeof){case r:case i:dt=!0}}if(dt)return dt=X,it=it(dt),X=Fe===""?"."+be(dt,0):Fe,te(it)?(Ne="",X!=null&&(Ne=X.replace(Ie,"$&/")+"/"),Ve(it,ne,Ne,"",function(zt){return zt})):it!=null&&(Oe(it)&&(it=ee(it,Ne+(!it.key||dt&&dt.key===it.key?"":(""+it.key).replace(Ie,"$&/")+"/")+X)),ne.push(it)),1;if(dt=0,Fe=Fe===""?".":Fe+":",te(X))for(var He=0;He<X.length;He++){Ae=X[He];var gt=Fe+be(Ae,He);dt+=Ve(Ae,ne,Ne,gt,it)}else if(gt=N(X),typeof gt=="function")for(X=gt.call(X),He=0;!(Ae=X.next()).done;)Ae=Ae.value,gt=Fe+be(Ae,He++),dt+=Ve(Ae,ne,Ne,gt,it);else if(Ae==="object")throw ne=String(X),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.");return dt}function re(X,ne,Ne){if(X==null)return X;var Fe=[],it=0;return Ve(X,Fe,"","",function(Ae){return ne.call(Ne,Ae,it++)}),Fe}function Me(X){if(X._status===-1){var ne=X._result;ne=ne(),ne.then(function(Ne){(X._status===0||X._status===-1)&&(X._status=1,X._result=Ne)},function(Ne){(X._status===0||X._status===-1)&&(X._status=2,X._result=Ne)}),X._status===-1&&(X._status=0,X._result=ne)}if(X._status===1)return X._result.default;throw X._result}var me={current:null},de={transition:null},Ee={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:de,ReactCurrentOwner:ce};function fe(){throw Error("act(...) is not supported in production builds of React.")}return ft.Children={map:re,forEach:function(X,ne,Ne){re(X,function(){ne.apply(this,arguments)},Ne)},count:function(X){var ne=0;return re(X,function(){ne++}),ne},toArray:function(X){return re(X,function(ne){return ne})||[]},only:function(X){if(!Oe(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},ft.Component=F,ft.Fragment=s,ft.Profiler=h,ft.PureComponent=H,ft.StrictMode=c,ft.Suspense=C,ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ee,ft.act=fe,ft.cloneElement=function(X,ne,Ne){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var Fe=k({},X.props),it=X.key,Ae=X.ref,dt=X._owner;if(ne!=null){if(ne.ref!==void 0&&(Ae=ne.ref,dt=ce.current),ne.key!==void 0&&(it=""+ne.key),X.type&&X.type.defaultProps)var He=X.type.defaultProps;for(gt in ne)le.call(ne,gt)&&!$.hasOwnProperty(gt)&&(Fe[gt]=ne[gt]===void 0&&He!==void 0?He[gt]:ne[gt])}var gt=arguments.length-2;if(gt===1)Fe.children=Ne;else if(1<gt){He=Array(gt);for(var zt=0;zt<gt;zt++)He[zt]=arguments[zt+2];Fe.children=He}return{$$typeof:r,type:X.type,key:it,ref:Ae,props:Fe,_owner:dt}},ft.createContext=function(X){return X={$$typeof:w,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:p,_context:X},X.Consumer=X},ft.createElement=ue,ft.createFactory=function(X){var ne=ue.bind(null,X);return ne.type=X,ne},ft.createRef=function(){return{current:null}},ft.forwardRef=function(X){return{$$typeof:E,render:X}},ft.isValidElement=Oe,ft.lazy=function(X){return{$$typeof:S,_payload:{_status:-1,_result:X},_init:Me}},ft.memo=function(X,ne){return{$$typeof:x,type:X,compare:ne===void 0?null:ne}},ft.startTransition=function(X){var ne=de.transition;de.transition={};try{X()}finally{de.transition=ne}},ft.unstable_act=fe,ft.useCallback=function(X,ne){return me.current.useCallback(X,ne)},ft.useContext=function(X){return me.current.useContext(X)},ft.useDebugValue=function(){},ft.useDeferredValue=function(X){return me.current.useDeferredValue(X)},ft.useEffect=function(X,ne){return me.current.useEffect(X,ne)},ft.useId=function(){return me.current.useId()},ft.useImperativeHandle=function(X,ne,Ne){return me.current.useImperativeHandle(X,ne,Ne)},ft.useInsertionEffect=function(X,ne){return me.current.useInsertionEffect(X,ne)},ft.useLayoutEffect=function(X,ne){return me.current.useLayoutEffect(X,ne)},ft.useMemo=function(X,ne){return me.current.useMemo(X,ne)},ft.useReducer=function(X,ne,Ne){return me.current.useReducer(X,ne,Ne)},ft.useRef=function(X){return me.current.useRef(X)},ft.useState=function(X){return me.current.useState(X)},ft.useSyncExternalStore=function(X,ne,Ne){return me.current.useSyncExternalStore(X,ne,Ne)},ft.useTransition=function(){return me.current.useTransition()},ft.version="18.3.1",ft}var D0;function Kf(){return D0||(D0=1,ef.exports=Zx()),ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function Kx(){if(O0)return wa;O0=1;var r=Kf(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function w(E,C,x){var S,I={},N=null,O=null;x!==void 0&&(N=""+x),C.key!==void 0&&(N=""+C.key),C.ref!==void 0&&(O=C.ref);for(S in C)c.call(C,S)&&!p.hasOwnProperty(S)&&(I[S]=C[S]);if(E&&E.defaultProps)for(S in C=E.defaultProps,C)I[S]===void 0&&(I[S]=C[S]);return{$$typeof:i,type:E,key:N,ref:O,props:I,_owner:h.current}}return wa.Fragment=s,wa.jsx=w,wa.jsxs=w,wa}var P0;function Qx(){return P0||(P0=1,Jc.exports=Kx()),Jc.exports}var P=Qx(),L=Kf();const Kt=Zf(L);var nu={},tf={exports:{}},ur={},nf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function $x(){return L0||(L0=1,function(r){function i(de,Ee){var fe=de.length;de.push(Ee);e:for(;0<fe;){var X=fe-1>>>1,ne=de[X];if(0<h(ne,Ee))de[X]=Ee,de[fe]=ne,fe=X;else break e}}function s(de){return de.length===0?null:de[0]}function c(de){if(de.length===0)return null;var Ee=de[0],fe=de.pop();if(fe!==Ee){de[0]=fe;e:for(var X=0,ne=de.length,Ne=ne>>>1;X<Ne;){var Fe=2*(X+1)-1,it=de[Fe],Ae=Fe+1,dt=de[Ae];if(0>h(it,fe))Ae<ne&&0>h(dt,it)?(de[X]=dt,de[Ae]=fe,X=Ae):(de[X]=it,de[Fe]=fe,X=Fe);else if(Ae<ne&&0>h(dt,fe))de[X]=dt,de[Ae]=fe,X=Ae;else break e}}return Ee}function h(de,Ee){var fe=de.sortIndex-Ee.sortIndex;return fe!==0?fe:de.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;r.unstable_now=function(){return p.now()}}else{var w=Date,E=w.now();r.unstable_now=function(){return w.now()-E}}var C=[],x=[],S=1,I=null,N=3,O=!1,k=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(de){for(var Ee=s(x);Ee!==null;){if(Ee.callback===null)c(x);else if(Ee.startTime<=de)c(x),Ee.sortIndex=Ee.expirationTime,i(C,Ee);else break;Ee=s(x)}}function te(de){if(B=!1,V(de),!k)if(s(C)!==null)k=!0,Me(le);else{var Ee=s(x);Ee!==null&&me(te,Ee.startTime-de)}}function le(de,Ee){k=!1,B&&(B=!1,z(ue),ue=-1),O=!0;var fe=N;try{for(V(Ee),I=s(C);I!==null&&(!(I.expirationTime>Ee)||de&&!Be());){var X=I.callback;if(typeof X=="function"){I.callback=null,N=I.priorityLevel;var ne=X(I.expirationTime<=Ee);Ee=r.unstable_now(),typeof ne=="function"?I.callback=ne:I===s(C)&&c(C),V(Ee)}else c(C);I=s(C)}if(I!==null)var Ne=!0;else{var Fe=s(x);Fe!==null&&me(te,Fe.startTime-Ee),Ne=!1}return Ne}finally{I=null,N=fe,O=!1}}var ce=!1,$=null,ue=-1,ee=5,Oe=-1;function Be(){return!(r.unstable_now()-Oe<ee)}function Ie(){if($!==null){var de=r.unstable_now();Oe=de;var Ee=!0;try{Ee=$(!0,de)}finally{Ee?be():(ce=!1,$=null)}}else ce=!1}var be;if(typeof H=="function")be=function(){H(Ie)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,re=Ve.port2;Ve.port1.onmessage=Ie,be=function(){re.postMessage(null)}}else be=function(){F(Ie,0)};function Me(de){$=de,ce||(ce=!0,be())}function me(de,Ee){ue=F(function(){de(r.unstable_now())},Ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(de){de.callback=null},r.unstable_continueExecution=function(){k||O||(k=!0,Me(le))},r.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<de?Math.floor(1e3/de):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return s(C)},r.unstable_next=function(de){switch(N){case 1:case 2:case 3:var Ee=3;break;default:Ee=N}var fe=N;N=Ee;try{return de()}finally{N=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(de,Ee){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var fe=N;N=de;try{return Ee()}finally{N=fe}},r.unstable_scheduleCallback=function(de,Ee,fe){var X=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?X+fe:X):fe=X,de){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=fe+ne,de={id:S++,callback:Ee,priorityLevel:de,startTime:fe,expirationTime:ne,sortIndex:-1},fe>X?(de.sortIndex=fe,i(x,de),s(C)===null&&de===s(x)&&(B?(z(ue),ue=-1):B=!0,me(te,fe-X))):(de.sortIndex=ne,i(C,de),k||O||(k=!0,Me(le))),de},r.unstable_shouldYield=Be,r.unstable_wrapCallback=function(de){var Ee=N;return function(){var fe=N;N=Ee;try{return de.apply(this,arguments)}finally{N=fe}}}}(rf)),rf}var k0;function qx(){return k0||(k0=1,nf.exports=$x()),nf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function Jx(){if(B0)return ur;B0=1;var r=Kf(),i=qx();function s(t){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+t,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,h={};function p(t,a){w(t,a),w(t+"Capture",a)}function w(t,a){for(h[t]=a,t=0;t<a.length;t++)c.add(a[t])}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},I={};function N(t){return C.call(I,t)?!0:C.call(S,t)?!1:x.test(t)?I[t]=!0:(S[t]=!0,!1)}function O(t,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,a,d,m){if(a===null||typeof a>"u"||O(t,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function B(t,a,d,m,A,T,_){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=A,this.mustUseProperty=d,this.propertyName=t,this.type=a,this.sanitizeURL=T,this.removeEmptyString=_}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){F[t]=new B(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var a=t[0];F[a]=new B(a,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){F[t]=new B(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){F[t]=new B(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){F[t]=new B(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){F[t]=new B(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){F[t]=new B(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){F[t]=new B(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){F[t]=new B(t,5,!1,t.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function H(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var a=t.replace(z,H);F[a]=new B(a,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var a=t.replace(z,H);F[a]=new B(a,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var a=t.replace(z,H);F[a]=new B(a,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){F[t]=new B(t,1,!1,t.toLowerCase(),null,!1,!1)}),F.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){F[t]=new B(t,1,!1,t.toLowerCase(),null,!0,!0)});function V(t,a,d,m){var A=F.hasOwnProperty(a)?F[a]:null;(A!==null?A.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,d,A,m)&&(d=null),m||A===null?N(a)&&(d===null?t.removeAttribute(a):t.setAttribute(a,""+d)):A.mustUseProperty?t[A.propertyName]=d===null?A.type===3?!1:"":d:(a=A.attributeName,m=A.attributeNamespace,d===null?t.removeAttribute(a):(A=A.type,d=A===3||A===4&&d===!0?"":""+d,m?t.setAttributeNS(m,a,d):t.setAttribute(a,d))))}var te=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,le=Symbol.for("react.element"),ce=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),Oe=Symbol.for("react.provider"),Be=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),de=Symbol.iterator;function Ee(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,X;function ne(t){if(X===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);X=a&&a[1]||""}return`
`+X+t}var Ne=!1;function Fe(t,a){if(!t||Ne)return"";Ne=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ae){var m=ae}Reflect.construct(t,[],a)}else{try{a.call()}catch(ae){m=ae}t.call(a.prototype)}else{try{throw Error()}catch(ae){m=ae}t()}}catch(ae){if(ae&&m&&typeof ae.stack=="string"){for(var A=ae.stack.split(`
`),T=m.stack.split(`
`),_=A.length-1,W=T.length-1;1<=_&&0<=W&&A[_]!==T[W];)W--;for(;1<=_&&0<=W;_--,W--)if(A[_]!==T[W]){if(_!==1||W!==1)do if(_--,W--,0>W||A[_]!==T[W]){var Y=`
`+A[_].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=_&&0<=W);break}}}finally{Ne=!1,Error.prepareStackTrace=d}return(t=t?t.displayName||t.name:"")?ne(t):""}function it(t){switch(t.tag){case 5:return ne(t.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return t=Fe(t.type,!1),t;case 11:return t=Fe(t.type.render,!1),t;case 1:return t=Fe(t.type,!0),t;default:return""}}function Ae(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ce:return"Portal";case ee:return"Profiler";case ue:return"StrictMode";case be:return"Suspense";case Ve:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Be:return(t.displayName||"Context")+".Consumer";case Oe:return(t._context.displayName||"Context")+".Provider";case Ie:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case re:return a=t.displayName||null,a!==null?a:Ae(t.type)||"Memo";case Me:a=t._payload,t=t._init;try{return Ae(t(a))}catch{}}return null}function dt(t){var a=t.type;switch(t.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=a.render,t=t.displayName||t.name||"",a.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(a);case 8:return a===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gt(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zt(t){var a=gt(t)?"checked":"value",d=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),m=""+t[a];if(!t.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,T=d.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return A.call(this)},set:function(_){m=""+_,T.call(this,_)}}),Object.defineProperty(t,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(_){m=""+_},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Yt(t){t._valueTracker||(t._valueTracker=zt(t))}function cr(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return t&&(m=gt(t)?t.checked?"true":"false":t.value),t=m,t!==d?(a.setValue(t),!0):!1}function at(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rn(t,a){var d=a.checked;return fe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??t._wrapperState.initialChecked})}function Mn(t,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=He(a.value!=null?a.value:d),t._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function fr(t,a){a=a.checked,a!=null&&V(t,"checked",a,!1)}function Vt(t,a){fr(t,a);var d=He(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&t.value===""||t.value!=d)&&(t.value=""+d):t.value!==""+d&&(t.value=""+d);else if(m==="submit"||m==="reset"){t.removeAttribute("value");return}a.hasOwnProperty("value")?lt(t,a.type,d):a.hasOwnProperty("defaultValue")&&lt(t,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(t.defaultChecked=!!a.defaultChecked)}function yt(t,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+t._wrapperState.initialValue,d||a===t.value||(t.value=a),t.defaultValue=a}d=t.name,d!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,d!==""&&(t.name=d)}function lt(t,a,d){(a!=="number"||at(t.ownerDocument)!==t)&&(d==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+d&&(t.defaultValue=""+d))}var er=Array.isArray;function Ce(t,a,d,m){if(t=t.options,a){a={};for(var A=0;A<d.length;A++)a["$"+d[A]]=!0;for(d=0;d<t.length;d++)A=a.hasOwnProperty("$"+t[d].value),t[d].selected!==A&&(t[d].selected=A),A&&m&&(t[d].defaultSelected=!0)}else{for(d=""+He(d),a=null,A=0;A<t.length;A++){if(t[A].value===d){t[A].selected=!0,m&&(t[A].defaultSelected=!0);return}a!==null||t[A].disabled||(a=t[A])}a!==null&&(a.selected=!0)}}function Ke(t,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return fe({},a,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Re(t,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(s(92));if(er(d)){if(1<d.length)throw Error(s(93));d=d[0]}a=d}a==null&&(a=""),d=a}t._wrapperState={initialValue:He(d)}}function Ge(t,a){var d=He(a.value),m=He(a.defaultValue);d!=null&&(d=""+d,d!==t.value&&(t.value=d),a.defaultValue==null&&t.defaultValue!==d&&(t.defaultValue=d)),m!=null&&(t.defaultValue=""+m)}function wt(t){var a=t.textContent;a===t._wrapperState.initialValue&&a!==""&&a!==null&&(t.value=a)}function $e(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(t,a){return t==null||t==="http://www.w3.org/1999/xhtml"?$e(a):t==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var It,Et=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,A){MSApp.execUnsafeLocalFunction(function(){return t(a,d,m,A)})}:t}(function(t,a){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=a;else{for(It=It||document.createElement("div"),It.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=It.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;a.firstChild;)t.appendChild(a.firstChild)}});function jn(t,a){if(a){var d=t.firstChild;if(d&&d===t.lastChild&&d.nodeType===3){d.nodeValue=a;return}}t.textContent=a}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(t){ds.forEach(function(a){a=a+t.charAt(0).toUpperCase()+t.substring(1),mn[a]=mn[t]})});function Rt(t,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||mn.hasOwnProperty(t)&&mn[t]?(""+a).trim():a+"px"}function Te(t,a){t=t.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,A=Rt(d,a[d],m);d==="float"&&(d="cssFloat"),m?t.setProperty(d,A):t[d]=A}}var ln=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function St(t,a){if(a){if(ln[t]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function Lt(t,a){if(t.indexOf("-")===-1)return typeof a.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function hs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gs=null,ct=null,tr=null;function Oo(t){if(t=ia(t)){if(typeof Gs!="function")throw Error(s(280));var a=t.stateNode;a&&(a=ml(a),Gs(t.stateNode,t.type,a))}}function Po(t){ct?tr?tr.push(t):tr=[t]:ct=t}function nr(){if(ct){var t=ct,a=tr;if(tr=ct=null,Oo(t),a)for(t=0;t<a.length;t++)Oo(a[t])}}function Ys(t,a){return t(a)}function xn(){}var $r=!1;function ps(t,a,d){if($r)return t(a,d);$r=!0;try{return Ys(t,a,d)}finally{$r=!1,(ct!==null||tr!==null)&&(xn(),nr())}}function Un(t,a){var d=t.stateNode;if(d===null)return null;var m=ml(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(t=t.type,m=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!m;break e;default:t=!1}if(t)return null;if(d&&typeof d!="function")throw Error(s(231,a,typeof d));return d}var Lo=!1;if(E)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Lo=!1}function ko(t,a,d,m,A,T,_,W,Y){var ae=Array.prototype.slice.call(arguments,3);try{a.apply(d,ae)}catch(xe){this.onError(xe)}}var pn=!1,Tr=null,_n=!1,_e=null,Pi={onError:function(t){pn=!0,Tr=t}};function Bo(t,a,d,m,A,T,_,W,Y){pn=!1,Tr=null,ko.apply(Pi,arguments)}function zn(t,a,d,m,A,T,_,W,Y){if(Bo.apply(this,arguments),pn){if(pn){var ae=Tr;pn=!1,Tr=null}else throw Error(s(198));_n||(_n=!0,_e=ae)}}function rr(t){var a=t,d=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,a.flags&4098&&(d=a.return),t=a.return;while(t)}return a.tag===3?d:null}function gs(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function ms(t){if(rr(t)!==t)throw Error(s(188))}function Ir(t){var a=t.alternate;if(!a){if(a=rr(t),a===null)throw Error(s(188));return a!==t?null:t}for(var d=t,m=a;;){var A=d.return;if(A===null)break;var T=A.alternate;if(T===null){if(m=A.return,m!==null){d=m;continue}break}if(A.child===T.child){for(T=A.child;T;){if(T===d)return ms(A),t;if(T===m)return ms(A),a;T=T.sibling}throw Error(s(188))}if(d.return!==m.return)d=A,m=T;else{for(var _=!1,W=A.child;W;){if(W===d){_=!0,d=A,m=T;break}if(W===m){_=!0,m=A,d=T;break}W=W.sibling}if(!_){for(W=T.child;W;){if(W===d){_=!0,d=T,m=A;break}if(W===m){_=!0,m=T,d=A;break}W=W.sibling}if(!_)throw Error(s(189))}}if(d.alternate!==m)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?t:a}function Ka(t){return t=Ir(t),t!==null?Qa(t):null}function Qa(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var a=Qa(t);if(a!==null)return a;t=t.sibling}return null}var hr=i.unstable_scheduleCallback,Sn=i.unstable_cancelCallback,kt=i.unstable_shouldYield,$a=i.unstable_requestPaint,bt=i.unstable_now,Fo=i.unstable_getCurrentPriorityLevel,he=i.unstable_ImmediatePriority,qa=i.unstable_UserBlockingPriority,Ot=i.unstable_NormalPriority,Li=i.unstable_LowPriority,Ja=i.unstable_IdlePriority,xt=null,st=null;function ht(t){if(st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(xt,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:un,jo=Math.log,Uo=Math.LN2;function un(t){return t>>>=0,t===0?32:31-(jo(t)/Uo|0)|0}var pr=64,Xs=4194304;function Pt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gr(t,a){var d=t.pendingLanes;if(d===0)return 0;var m=0,A=t.suspendedLanes,T=t.pingedLanes,_=d&268435455;if(_!==0){var W=_&~A;W!==0?m=Pt(W):(T&=_,T!==0&&(m=Pt(T)))}else _=d&~A,_!==0?m=Pt(_):T!==0&&(m=Pt(T));if(m===0)return 0;if(a!==0&&a!==m&&!(a&A)&&(A=m&-m,T=a&-a,A>=T||A===16&&(T&4194240)!==0))return a;if(m&4&&(m|=d&16),a=t.entangledLanes,a!==0)for(t=t.entanglements,a&=m;0<a;)d=31-Qn(a),A=1<<d,m|=t[d],a&=~A;return m}function Ou(t,a){switch(t){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ki(t,a){for(var d=t.suspendedLanes,m=t.pingedLanes,A=t.expirationTimes,T=t.pendingLanes;0<T;){var _=31-Qn(T),W=1<<_,Y=A[_];Y===-1?(!(W&d)||W&m)&&(A[_]=Ou(W,a)):Y<=a&&(t.expiredLanes|=W),T&=~W}}function Nt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yn(){var t=pr;return pr<<=1,!(pr&4194240)&&(pr=64),t}function q(t){for(var a=[],d=0;31>d;d++)a.push(t);return a}function j(t,a,d){t.pendingLanes|=a,a!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,a=31-Qn(a),t[a]=d}function ze(t,a){var d=t.pendingLanes&~a;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=a,t.mutableReadLanes&=a,t.entangledLanes&=a,a=t.entanglements;var m=t.eventTimes;for(t=t.expirationTimes;0<d;){var A=31-Qn(d),T=1<<A;a[A]=0,m[A]=-1,t[A]=-1,d&=~T}}function tn(t,a){var d=t.entangledLanes|=a;for(t=t.entanglements;d;){var m=31-Qn(d),A=1<<m;A&a|t[m]&a&&(t[m]|=a),d&=~A}}var ot=0;function el(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zs,Vn,We,Bt,zo,Vo=!1,Bi=[],mr=null,br=null,qr=null,Xt=new Map,jr=new Map,Dn=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tl(t,a){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Xt.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(a.pointerId)}}function tt(t,a,d,m,A,T){return t===null||t.nativeEvent!==T?(t={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[A]},a!==null&&(a=ia(a),a!==null&&Vn(a)),t):(t.eventSystemFlags|=m,a=t.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),t)}function wn(t,a,d,m,A){switch(a){case"focusin":return mr=tt(mr,t,a,d,m,A),!0;case"dragenter":return br=tt(br,t,a,d,m,A),!0;case"mouseover":return qr=tt(qr,t,a,d,m,A),!0;case"pointerover":var T=A.pointerId;return Xt.set(T,tt(Xt.get(T)||null,t,a,d,m,A)),!0;case"gotpointercapture":return T=A.pointerId,jr.set(T,tt(jr.get(T)||null,t,a,d,m,A)),!0}return!1}function nl(t){var a=Is(t.target);if(a!==null){var d=rr(a);if(d!==null){if(a=d.tag,a===13){if(a=gs(d),a!==null){t.blockedOn=a,zo(t.priority,function(){We(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){t.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fi(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var d=Ks(t.domEventName,t.eventSystemFlags,a[0],t.nativeEvent);if(d===null){d=t.nativeEvent;var m=new d.constructor(d.type,d);pi=m,d.target.dispatchEvent(m),pi=null}else return a=ia(d),a!==null&&Vn(a),t.blockedOn=d,!1;a.shift()}return!0}function Wo(t,a,d){Fi(t)&&d.delete(a)}function gi(){Vo=!1,mr!==null&&Fi(mr)&&(mr=null),br!==null&&Fi(br)&&(br=null),qr!==null&&Fi(qr)&&(qr=null),Xt.forEach(Wo),jr.forEach(Wo)}function xs(t,a){t.blockedOn===a&&(t.blockedOn=null,Vo||(Vo=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gi)))}function Ur(t){function a(A){return xs(A,t)}if(0<Bi.length){xs(Bi[0],t);for(var d=1;d<Bi.length;d++){var m=Bi[d];m.blockedOn===t&&(m.blockedOn=null)}}for(mr!==null&&xs(mr,t),br!==null&&xs(br,t),qr!==null&&xs(qr,t),Xt.forEach(a),jr.forEach(a),d=0;d<Dn.length;d++)m=Dn[d],m.blockedOn===t&&(m.blockedOn=null);for(;0<Dn.length&&(d=Dn[0],d.blockedOn===null);)nl(d),d.blockedOn===null&&Dn.shift()}var Nr=te.ReactCurrentBatchConfig,Jr=!0;function rl(t,a,d,m){var A=ot,T=Nr.transition;Nr.transition=null;try{ot=1,mi(t,a,d,m)}finally{ot=A,Nr.transition=T}}function ys(t,a,d,m){var A=ot,T=Nr.transition;Nr.transition=null;try{ot=4,mi(t,a,d,m)}finally{ot=A,Nr.transition=T}}function mi(t,a,d,m){if(Jr){var A=Ks(t,a,d,m);if(A===null)Wu(t,a,m,Cn,d),tl(t,m);else if(wn(A,t,a,d,m))m.stopPropagation();else if(tl(t,m),a&4&&-1<Qe.indexOf(t)){for(;A!==null;){var T=ia(A);if(T!==null&&Zs(T),T=Ks(t,a,d,m),T===null&&Wu(t,a,m,Cn,d),T===A)break;A=T}A!==null&&m.stopPropagation()}else Wu(t,a,m,null,d)}}var Cn=null;function Ks(t,a,d,m){if(Cn=null,t=hs(m),t=Is(t),t!==null)if(a=rr(t),a===null)t=null;else if(d=a.tag,d===13){if(t=gs(a),t!==null)return t;t=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null);return Cn=t,null}function Ho(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fo()){case he:return 1;case qa:return 4;case Ot:case Li:return 16;case Ja:return 536870912;default:return 16}default:return 16}}var zr=null,Go=null,Qs=null;function il(){if(Qs)return Qs;var t,a=Go,d=a.length,m,A="value"in zr?zr.value:zr.textContent,T=A.length;for(t=0;t<d&&a[t]===A[t];t++);var _=d-t;for(m=1;m<=_&&a[d-m]===A[T-m];m++);return Qs=A.slice(t,1<m?1-m:void 0)}function Ct(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function ws(){return!0}function Cs(){return!1}function nn(t){function a(d,m,A,T,_){this._reactName=d,this._targetInst=A,this.type=m,this.nativeEvent=T,this.target=_,this.currentTarget=null;for(var W in t)t.hasOwnProperty(W)&&(d=t[W],this[W]=d?d(T):T[W]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ws:Cs,this.isPropagationStopped=Cs,this}return fe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),a}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oe=nn(ji),rt=fe({},ji,{view:0,detail:0}),vn=nn(rt),Ui,$s,vs,qs=fe({},rt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vs&&(vs&&t.type==="mousemove"?(Ui=t.screenX-vs.screenX,$s=t.screenY-vs.screenY):$s=Ui=0,vs=t),Ui)},movementY:function(t){return"movementY"in t?t.movementY:$s}}),sl=nn(qs),Yo=fe({},qs,{dataTransfer:0}),cn=nn(Yo),Xo=fe({},rt,{relatedTarget:0}),Ft=nn(Xo),Js=fe({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),xi=nn(Js),Mt=fe({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ye=nn(Mt),Pu=fe({},ji,{data:0}),Dt=nn(Pu),yi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rr(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Lu[t])?!!a[t]:!1}function Es(){return Rr}var ol=fe({},rt,{key:function(t){if(t.key){var a=yi[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Ct(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(t){return t.type==="keypress"?Ct(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ct(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zo=nn(ol),al=fe({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ko=nn(al),ku=fe({},rt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),Vi=nn(ku),Qo=fe({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=nn(Qo),As=fe({},qs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fu=nn(As),ei=[9,13,27,32],Wi=E&&"CompositionEvent"in window,Tn=null;E&&"documentMode"in document&&(Tn=document.documentMode);var ll=E&&"TextEvent"in window&&!Tn,xr=E&&(!Wi||Tn&&8<Tn&&11>=Tn),ul=" ",eo=!1;function cl(t,a){switch(t){case"keyup":return ei.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var On=!1;function ju(t,a){switch(t){case"compositionend":return $o(a);case"keypress":return a.which!==32?null:(eo=!0,ul);case"textInput":return t=a.data,t===ul&&eo?null:t;default:return null}}function qo(t,a){if(On)return t==="compositionend"||!Wi&&cl(t,a)?(t=il(),Qs=Go=zr=null,On=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xr&&a.locale!=="ko"?null:a.data;default:return null}}var Ss={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Ss[t.type]:a==="textarea"}function Ts(t,a,d,m){Po(m),a=hl(a,"onChange"),0<a.length&&(d=new oe("onChange","change",null,d,m),t.push({event:d,listeners:a}))}var R=null,e=null;function n(t){Xd(t,0)}function o(t){var a=ro(t);if(cr(a))return t}function l(t,a){if(t==="change")return a}var u=!1;if(E){var f;if(E){var g="oninput"in document;if(!g){var y=document.createElement("div");y.setAttribute("oninput","return;"),g=typeof y.oninput=="function"}f=g}else f=!1;u=f&&(!document.documentMode||9<document.documentMode)}function v(){R&&(R.detachEvent("onpropertychange",b),e=R=null)}function b(t){if(t.propertyName==="value"&&o(e)){var a=[];Ts(a,e,t,hs(t)),ps(n,a)}}function M(t,a,d){t==="focusin"?(v(),R=a,e=d,R.attachEvent("onpropertychange",b)):t==="focusout"&&v()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return o(e)}function U(t,a){if(t==="click")return o(a)}function G(t,a){if(t==="input"||t==="change")return o(a)}function Z(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Q=typeof Object.is=="function"?Object.is:Z;function se(t,a){if(Q(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var d=Object.keys(t),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var A=d[m];if(!C.call(a,A)||!Q(t[A],a[A]))return!1}return!0}function we(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ve(t,a){var d=we(t);t=0;for(var m;d;){if(d.nodeType===3){if(m=t+d.textContent.length,t<=a&&m>=a)return{node:d,offset:a-t};t=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=we(d)}}function ge(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?ge(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function ut(){for(var t=window,a=at();a instanceof t.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)t=a.contentWindow;else break;a=at(t.document)}return a}function nt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}function Wn(t){var a=ut(),d=t.focusedElem,m=t.selectionRange;if(a!==d&&d&&d.ownerDocument&&ge(d.ownerDocument.documentElement,d)){if(m!==null&&nt(d)){if(a=m.start,t=m.end,t===void 0&&(t=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(t,d.value.length);else if(t=(a=d.ownerDocument||document)&&a.defaultView||window,t.getSelection){t=t.getSelection();var A=d.textContent.length,T=Math.min(m.start,A);m=m.end===void 0?T:Math.min(m.end,A),!t.extend&&T>m&&(A=m,m=T,T=A),A=ve(d,T);var _=ve(d,m);A&&_&&(t.rangeCount!==1||t.anchorNode!==A.node||t.anchorOffset!==A.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(a=a.createRange(),a.setStart(A.node,A.offset),t.removeAllRanges(),T>m?(t.addRange(a),t.extend(_.node,_.offset)):(a.setEnd(_.node,_.offset),t.addRange(a)))}}for(a=[],t=d;t=t.parentNode;)t.nodeType===1&&a.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)t=a[d],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yr=E&&"documentMode"in document&&11>=document.documentMode,fn=null,Tt=null,Qt=null,Pn=!1;function wi(t,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Pn||fn==null||fn!==at(m)||(m=fn,"selectionStart"in m&&nt(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Qt&&se(Qt,m)||(Qt=m,m=hl(Tt,"onSelect"),0<m.length&&(a=new oe("onSelect","select",null,a,d),t.push({event:a,listeners:m}),a.target=fn)))}function Vr(t,a){var d={};return d[t.toLowerCase()]=a.toLowerCase(),d["Webkit"+t]="webkit"+a,d["Moz"+t]="moz"+a,d}var Hi={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionend:Vr("Transition","TransitionEnd")},Jo={},jd={};E&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function fl(t){if(Jo[t])return Jo[t];if(!Hi[t])return t;var a=Hi[t],d;for(d in a)if(a.hasOwnProperty(d)&&d in jd)return Jo[t]=a[d];return t}var Ud=fl("animationend"),zd=fl("animationiteration"),Vd=fl("animationstart"),Wd=fl("transitionend"),Hd=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(t,a){Hd.set(t,a),p(a,[t])}for(var Uu=0;Uu<Gd.length;Uu++){var zu=Gd[Uu],nx=zu.toLowerCase(),rx=zu[0].toUpperCase()+zu.slice(1);Gi(nx,"on"+rx)}Gi(Ud,"onAnimationEnd"),Gi(zd,"onAnimationIteration"),Gi(Vd,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Wd,"onTransitionEnd"),w("onMouseEnter",["mouseout","mouseover"]),w("onMouseLeave",["mouseout","mouseover"]),w("onPointerEnter",["pointerout","pointerover"]),w("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function Yd(t,a,d){var m=t.type||"unknown-event";t.currentTarget=d,zn(m,a,void 0,t),t.currentTarget=null}function Xd(t,a){a=(a&4)!==0;for(var d=0;d<t.length;d++){var m=t[d],A=m.event;m=m.listeners;e:{var T=void 0;if(a)for(var _=m.length-1;0<=_;_--){var W=m[_],Y=W.instance,ae=W.currentTarget;if(W=W.listener,Y!==T&&A.isPropagationStopped())break e;Yd(A,W,ae),T=Y}else for(_=0;_<m.length;_++){if(W=m[_],Y=W.instance,ae=W.currentTarget,W=W.listener,Y!==T&&A.isPropagationStopped())break e;Yd(A,W,ae),T=Y}}}if(_n)throw t=_e,_n=!1,_e=null,t}function Wt(t,a){var d=a[Ku];d===void 0&&(d=a[Ku]=new Set);var m=t+"__bubble";d.has(m)||(Zd(a,t,2,!1),d.add(m))}function Vu(t,a,d){var m=0;a&&(m|=4),Zd(d,t,m,a)}var dl="_reactListening"+Math.random().toString(36).slice(2);function ta(t){if(!t[dl]){t[dl]=!0,c.forEach(function(d){d!=="selectionchange"&&(ix.has(d)||Vu(d,!1,t),Vu(d,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[dl]||(a[dl]=!0,Vu("selectionchange",!1,a))}}function Zd(t,a,d,m){switch(Ho(a)){case 1:var A=rl;break;case 4:A=ys;break;default:A=mi}d=A.bind(null,a,d,t),A=void 0,!Lo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),m?A!==void 0?t.addEventListener(a,d,{capture:!0,passive:A}):t.addEventListener(a,d,!0):A!==void 0?t.addEventListener(a,d,{passive:A}):t.addEventListener(a,d,!1)}function Wu(t,a,d,m,A){var T=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var _=m.tag;if(_===3||_===4){var W=m.stateNode.containerInfo;if(W===A||W.nodeType===8&&W.parentNode===A)break;if(_===4)for(_=m.return;_!==null;){var Y=_.tag;if((Y===3||Y===4)&&(Y=_.stateNode.containerInfo,Y===A||Y.nodeType===8&&Y.parentNode===A))return;_=_.return}for(;W!==null;){if(_=Is(W),_===null)return;if(Y=_.tag,Y===5||Y===6){m=T=_;continue e}W=W.parentNode}}m=m.return}ps(function(){var ae=T,xe=hs(d),ye=[];e:{var pe=Hd.get(t);if(pe!==void 0){var De=oe,ke=t;switch(t){case"keypress":if(Ct(d)===0)break e;case"keydown":case"keyup":De=Zo;break;case"focusin":ke="focus",De=Ft;break;case"focusout":ke="blur",De=Ft;break;case"beforeblur":case"afterblur":De=Ft;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=Vi;break;case Ud:case zd:case Vd:De=xi;break;case Wd:De=Bu;break;case"scroll":De=vn;break;case"wheel":De=Fu;break;case"copy":case"cut":case"paste":De=Ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Ko}var je=(a&4)!==0,dn=!je&&t==="scroll",J=je?pe!==null?pe+"Capture":null:pe;je=[];for(var K=ae,ie;K!==null;){ie=K;var Se=ie.stateNode;if(ie.tag===5&&Se!==null&&(ie=Se,J!==null&&(Se=Un(K,J),Se!=null&&je.push(na(K,Se,ie)))),dn)break;K=K.return}0<je.length&&(pe=new De(pe,ke,null,d,xe),ye.push({event:pe,listeners:je}))}}if(!(a&7)){e:{if(pe=t==="mouseover"||t==="pointerover",De=t==="mouseout"||t==="pointerout",pe&&d!==pi&&(ke=d.relatedTarget||d.fromElement)&&(Is(ke)||ke[Ci]))break e;if((De||pe)&&(pe=xe.window===xe?xe:(pe=xe.ownerDocument)?pe.defaultView||pe.parentWindow:window,De?(ke=d.relatedTarget||d.toElement,De=ae,ke=ke?Is(ke):null,ke!==null&&(dn=rr(ke),ke!==dn||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(De=null,ke=ae),De!==ke)){if(je=sl,Se="onMouseLeave",J="onMouseEnter",K="mouse",(t==="pointerout"||t==="pointerover")&&(je=Ko,Se="onPointerLeave",J="onPointerEnter",K="pointer"),dn=De==null?pe:ro(De),ie=ke==null?pe:ro(ke),pe=new je(Se,K+"leave",De,d,xe),pe.target=dn,pe.relatedTarget=ie,Se=null,Is(xe)===ae&&(je=new je(J,K+"enter",ke,d,xe),je.target=ie,je.relatedTarget=dn,Se=je),dn=Se,De&&ke)t:{for(je=De,J=ke,K=0,ie=je;ie;ie=to(ie))K++;for(ie=0,Se=J;Se;Se=to(Se))ie++;for(;0<K-ie;)je=to(je),K--;for(;0<ie-K;)J=to(J),ie--;for(;K--;){if(je===J||J!==null&&je===J.alternate)break t;je=to(je),J=to(J)}je=null}else je=null;De!==null&&Kd(ye,pe,De,je,!1),ke!==null&&dn!==null&&Kd(ye,dn,ke,je,!0)}}e:{if(pe=ae?ro(ae):window,De=pe.nodeName&&pe.nodeName.toLowerCase(),De==="select"||De==="input"&&pe.type==="file")var Ue=l;else if(mt(pe))if(u)Ue=G;else{Ue=D;var Xe=M}else(De=pe.nodeName)&&De.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Ue=U);if(Ue&&(Ue=Ue(t,ae))){Ts(ye,Ue,d,xe);break e}Xe&&Xe(t,pe,ae),t==="focusout"&&(Xe=pe._wrapperState)&&Xe.controlled&&pe.type==="number"&&lt(pe,"number",pe.value)}switch(Xe=ae?ro(ae):window,t){case"focusin":(mt(Xe)||Xe.contentEditable==="true")&&(fn=Xe,Tt=ae,Qt=null);break;case"focusout":Qt=Tt=fn=null;break;case"mousedown":Pn=!0;break;case"contextmenu":case"mouseup":case"dragend":Pn=!1,wi(ye,d,xe);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":wi(ye,d,xe)}var Ze;if(Wi)e:{switch(t){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else On?cl(t,d)&&(et="onCompositionEnd"):t==="keydown"&&d.keyCode===229&&(et="onCompositionStart");et&&(xr&&d.locale!=="ko"&&(On||et!=="onCompositionStart"?et==="onCompositionEnd"&&On&&(Ze=il()):(zr=xe,Go="value"in zr?zr.value:zr.textContent,On=!0)),Xe=hl(ae,et),0<Xe.length&&(et=new Dt(et,t,null,d,xe),ye.push({event:et,listeners:Xe}),Ze?et.data=Ze:(Ze=$o(d),Ze!==null&&(et.data=Ze)))),(Ze=ll?ju(t,d):qo(t,d))&&(ae=hl(ae,"onBeforeInput"),0<ae.length&&(xe=new Dt("onBeforeInput","beforeinput",null,d,xe),ye.push({event:xe,listeners:ae}),xe.data=Ze))}Xd(ye,a)})}function na(t,a,d){return{instance:t,listener:a,currentTarget:d}}function hl(t,a){for(var d=a+"Capture",m=[];t!==null;){var A=t,T=A.stateNode;A.tag===5&&T!==null&&(A=T,T=Un(t,d),T!=null&&m.unshift(na(t,T,A)),T=Un(t,a),T!=null&&m.push(na(t,T,A))),t=t.return}return m}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Kd(t,a,d,m,A){for(var T=a._reactName,_=[];d!==null&&d!==m;){var W=d,Y=W.alternate,ae=W.stateNode;if(Y!==null&&Y===m)break;W.tag===5&&ae!==null&&(W=ae,A?(Y=Un(d,T),Y!=null&&_.unshift(na(d,Y,W))):A||(Y=Un(d,T),Y!=null&&_.push(na(d,Y,W)))),d=d.return}_.length!==0&&t.push({event:a,listeners:_})}var sx=/\r\n?/g,ox=/\u0000|\uFFFD/g;function Qd(t){return(typeof t=="string"?t:""+t).replace(sx,`
`).replace(ox,"")}function pl(t,a,d){if(a=Qd(a),Qd(t)!==a&&d)throw Error(s(425))}function gl(){}var Hu=null,Gu=null;function Yu(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,ax=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,lx=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(t){return $d.resolve(null).then(t).catch(ux)}:Xu;function ux(t){setTimeout(function(){throw t})}function Zu(t,a){var d=a,m=0;do{var A=d.nextSibling;if(t.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"){if(m===0){t.removeChild(A),Ur(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=A}while(d);Ur(a)}function Yi(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return t}function qd(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var d=t.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return t;a--}else d==="/$"&&a++}t=t.previousSibling}return null}var no=Math.random().toString(36).slice(2),ti="__reactFiber$"+no,ra="__reactProps$"+no,Ci="__reactContainer$"+no,Ku="__reactEvents$"+no,cx="__reactListeners$"+no,fx="__reactHandles$"+no;function Is(t){var a=t[ti];if(a)return a;for(var d=t.parentNode;d;){if(a=d[Ci]||d[ti]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(t=qd(t);t!==null;){if(d=t[ti])return d;t=qd(t)}return a}t=d,d=t.parentNode}return null}function ia(t){return t=t[ti]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function ml(t){return t[ra]||null}var Qu=[],io=-1;function Xi(t){return{current:t}}function Ht(t){0>io||(t.current=Qu[io],Qu[io]=null,io--)}function jt(t,a){io++,Qu[io]=t.current,t.current=a}var Zi={},Hn=Xi(Zi),ir=Xi(!1),bs=Zi;function so(t,a){var d=t.type.contextTypes;if(!d)return Zi;var m=t.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var A={},T;for(T in d)A[T]=a[T];return m&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=A),A}function sr(t){return t=t.childContextTypes,t!=null}function xl(){Ht(ir),Ht(Hn)}function Jd(t,a,d){if(Hn.current!==Zi)throw Error(s(168));jt(Hn,a),jt(ir,d)}function eh(t,a,d){var m=t.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var A in m)if(!(A in a))throw Error(s(108,dt(t)||"Unknown",A));return fe({},d,m)}function yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,bs=Hn.current,jt(Hn,t),jt(ir,ir.current),!0}function th(t,a,d){var m=t.stateNode;if(!m)throw Error(s(169));d?(t=eh(t,a,bs),m.__reactInternalMemoizedMergedChildContext=t,Ht(ir),Ht(Hn),jt(Hn,t)):Ht(ir),jt(ir,d)}var vi=null,wl=!1,$u=!1;function nh(t){vi===null?vi=[t]:vi.push(t)}function dx(t){wl=!0,nh(t)}function Ki(){if(!$u&&vi!==null){$u=!0;var t=0,a=ot;try{var d=vi;for(ot=1;t<d.length;t++){var m=d[t];do m=m(!0);while(m!==null)}vi=null,wl=!1}catch(A){throw vi!==null&&(vi=vi.slice(t+1)),hr(he,Ki),A}finally{ot=a,$u=!1}}return null}var oo=[],ao=0,Cl=null,vl=0,Mr=[],_r=0,Ns=null,Ei=1,Ai="";function Rs(t,a){oo[ao++]=vl,oo[ao++]=Cl,Cl=t,vl=a}function rh(t,a,d){Mr[_r++]=Ei,Mr[_r++]=Ai,Mr[_r++]=Ns,Ns=t;var m=Ei;t=Ai;var A=32-Qn(m)-1;m&=~(1<<A),d+=1;var T=32-Qn(a)+A;if(30<T){var _=A-A%5;T=(m&(1<<_)-1).toString(32),m>>=_,A-=_,Ei=1<<32-Qn(a)+A|d<<A|m,Ai=T+t}else Ei=1<<T|d<<A|m,Ai=t}function qu(t){t.return!==null&&(Rs(t,1),rh(t,1,0))}function Ju(t){for(;t===Cl;)Cl=oo[--ao],oo[ao]=null,vl=oo[--ao],oo[ao]=null;for(;t===Ns;)Ns=Mr[--_r],Mr[_r]=null,Ai=Mr[--_r],Mr[_r]=null,Ei=Mr[--_r],Mr[_r]=null}var wr=null,Cr=null,Zt=!1,Wr=null;function ih(t,a){var d=Lr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=t,a=t.deletions,a===null?(t.deletions=[d],t.flags|=16):a.push(d)}function sh(t,a){switch(t.tag){case 5:var d=t.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(t.stateNode=a,wr=t,Cr=Yi(a.firstChild),!0):!1;case 6:return a=t.pendingProps===""||a.nodeType!==3?null:a,a!==null?(t.stateNode=a,wr=t,Cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Ns!==null?{id:Ei,overflow:Ai}:null,t.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=Lr(18,null,null,0),d.stateNode=a,d.return=t,t.child=d,wr=t,Cr=null,!0):!1;default:return!1}}function ec(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tc(t){if(Zt){var a=Cr;if(a){var d=a;if(!sh(t,a)){if(ec(t))throw Error(s(418));a=Yi(d.nextSibling);var m=wr;a&&sh(t,a)?ih(m,d):(t.flags=t.flags&-4097|2,Zt=!1,wr=t)}}else{if(ec(t))throw Error(s(418));t.flags=t.flags&-4097|2,Zt=!1,wr=t}}}function oh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function El(t){if(t!==wr)return!1;if(!Zt)return oh(t),Zt=!0,!1;var a;if((a=t.tag!==3)&&!(a=t.tag!==5)&&(a=t.type,a=a!=="head"&&a!=="body"&&!Yu(t.type,t.memoizedProps)),a&&(a=Cr)){if(ec(t))throw ah(),Error(s(418));for(;a;)ih(t,a),a=Yi(a.nextSibling)}if(oh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8){var d=t.data;if(d==="/$"){if(a===0){Cr=Yi(t.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}t=t.nextSibling}Cr=null}}else Cr=wr?Yi(t.stateNode.nextSibling):null;return!0}function ah(){for(var t=Cr;t;)t=Yi(t.nextSibling)}function lo(){Cr=wr=null,Zt=!1}function nc(t){Wr===null?Wr=[t]:Wr.push(t)}var hx=te.ReactCurrentBatchConfig;function sa(t,a,d){if(t=d.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(s(309));var m=d.stateNode}if(!m)throw Error(s(147,t));var A=m,T=""+t;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(_){var W=A.refs;_===null?delete W[T]:W[T]=_},a._stringRef=T,a)}if(typeof t!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,t))}return t}function Al(t,a){throw t=Object.prototype.toString.call(a),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t))}function lh(t){var a=t._init;return a(t._payload)}function uh(t){function a(J,K){if(t){var ie=J.deletions;ie===null?(J.deletions=[K],J.flags|=16):ie.push(K)}}function d(J,K){if(!t)return null;for(;K!==null;)a(J,K),K=K.sibling;return null}function m(J,K){for(J=new Map;K!==null;)K.key!==null?J.set(K.key,K):J.set(K.index,K),K=K.sibling;return J}function A(J,K){return J=rs(J,K),J.index=0,J.sibling=null,J}function T(J,K,ie){return J.index=ie,t?(ie=J.alternate,ie!==null?(ie=ie.index,ie<K?(J.flags|=2,K):ie):(J.flags|=2,K)):(J.flags|=1048576,K)}function _(J){return t&&J.alternate===null&&(J.flags|=2),J}function W(J,K,ie,Se){return K===null||K.tag!==6?(K=Xc(ie,J.mode,Se),K.return=J,K):(K=A(K,ie),K.return=J,K)}function Y(J,K,ie,Se){var Ue=ie.type;return Ue===$?xe(J,K,ie.props.children,Se,ie.key):K!==null&&(K.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Me&&lh(Ue)===K.type)?(Se=A(K,ie.props),Se.ref=sa(J,K,ie),Se.return=J,Se):(Se=Xl(ie.type,ie.key,ie.props,null,J.mode,Se),Se.ref=sa(J,K,ie),Se.return=J,Se)}function ae(J,K,ie,Se){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=Zc(ie,J.mode,Se),K.return=J,K):(K=A(K,ie.children||[]),K.return=J,K)}function xe(J,K,ie,Se,Ue){return K===null||K.tag!==7?(K=Bs(ie,J.mode,Se,Ue),K.return=J,K):(K=A(K,ie),K.return=J,K)}function ye(J,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Xc(""+K,J.mode,ie),K.return=J,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case le:return ie=Xl(K.type,K.key,K.props,null,J.mode,ie),ie.ref=sa(J,null,K),ie.return=J,ie;case ce:return K=Zc(K,J.mode,ie),K.return=J,K;case Me:var Se=K._init;return ye(J,Se(K._payload),ie)}if(er(K)||Ee(K))return K=Bs(K,J.mode,ie,null),K.return=J,K;Al(J,K)}return null}function pe(J,K,ie,Se){var Ue=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ue!==null?null:W(J,K,""+ie,Se);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case le:return ie.key===Ue?Y(J,K,ie,Se):null;case ce:return ie.key===Ue?ae(J,K,ie,Se):null;case Me:return Ue=ie._init,pe(J,K,Ue(ie._payload),Se)}if(er(ie)||Ee(ie))return Ue!==null?null:xe(J,K,ie,Se,null);Al(J,ie)}return null}function De(J,K,ie,Se,Ue){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return J=J.get(ie)||null,W(K,J,""+Se,Ue);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case le:return J=J.get(Se.key===null?ie:Se.key)||null,Y(K,J,Se,Ue);case ce:return J=J.get(Se.key===null?ie:Se.key)||null,ae(K,J,Se,Ue);case Me:var Xe=Se._init;return De(J,K,ie,Xe(Se._payload),Ue)}if(er(Se)||Ee(Se))return J=J.get(ie)||null,xe(K,J,Se,Ue,null);Al(K,Se)}return null}function ke(J,K,ie,Se){for(var Ue=null,Xe=null,Ze=K,et=K=0,Nn=null;Ze!==null&&et<ie.length;et++){Ze.index>et?(Nn=Ze,Ze=null):Nn=Ze.sibling;var At=pe(J,Ze,ie[et],Se);if(At===null){Ze===null&&(Ze=Nn);break}t&&Ze&&At.alternate===null&&a(J,Ze),K=T(At,K,et),Xe===null?Ue=At:Xe.sibling=At,Xe=At,Ze=Nn}if(et===ie.length)return d(J,Ze),Zt&&Rs(J,et),Ue;if(Ze===null){for(;et<ie.length;et++)Ze=ye(J,ie[et],Se),Ze!==null&&(K=T(Ze,K,et),Xe===null?Ue=Ze:Xe.sibling=Ze,Xe=Ze);return Zt&&Rs(J,et),Ue}for(Ze=m(J,Ze);et<ie.length;et++)Nn=De(Ze,J,et,ie[et],Se),Nn!==null&&(t&&Nn.alternate!==null&&Ze.delete(Nn.key===null?et:Nn.key),K=T(Nn,K,et),Xe===null?Ue=Nn:Xe.sibling=Nn,Xe=Nn);return t&&Ze.forEach(function(is){return a(J,is)}),Zt&&Rs(J,et),Ue}function je(J,K,ie,Se){var Ue=Ee(ie);if(typeof Ue!="function")throw Error(s(150));if(ie=Ue.call(ie),ie==null)throw Error(s(151));for(var Xe=Ue=null,Ze=K,et=K=0,Nn=null,At=ie.next();Ze!==null&&!At.done;et++,At=ie.next()){Ze.index>et?(Nn=Ze,Ze=null):Nn=Ze.sibling;var is=pe(J,Ze,At.value,Se);if(is===null){Ze===null&&(Ze=Nn);break}t&&Ze&&is.alternate===null&&a(J,Ze),K=T(is,K,et),Xe===null?Ue=is:Xe.sibling=is,Xe=is,Ze=Nn}if(At.done)return d(J,Ze),Zt&&Rs(J,et),Ue;if(Ze===null){for(;!At.done;et++,At=ie.next())At=ye(J,At.value,Se),At!==null&&(K=T(At,K,et),Xe===null?Ue=At:Xe.sibling=At,Xe=At);return Zt&&Rs(J,et),Ue}for(Ze=m(J,Ze);!At.done;et++,At=ie.next())At=De(Ze,J,et,At.value,Se),At!==null&&(t&&At.alternate!==null&&Ze.delete(At.key===null?et:At.key),K=T(At,K,et),Xe===null?Ue=At:Xe.sibling=At,Xe=At);return t&&Ze.forEach(function(Yx){return a(J,Yx)}),Zt&&Rs(J,et),Ue}function dn(J,K,ie,Se){if(typeof ie=="object"&&ie!==null&&ie.type===$&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case le:e:{for(var Ue=ie.key,Xe=K;Xe!==null;){if(Xe.key===Ue){if(Ue=ie.type,Ue===$){if(Xe.tag===7){d(J,Xe.sibling),K=A(Xe,ie.props.children),K.return=J,J=K;break e}}else if(Xe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===Me&&lh(Ue)===Xe.type){d(J,Xe.sibling),K=A(Xe,ie.props),K.ref=sa(J,Xe,ie),K.return=J,J=K;break e}d(J,Xe);break}else a(J,Xe);Xe=Xe.sibling}ie.type===$?(K=Bs(ie.props.children,J.mode,Se,ie.key),K.return=J,J=K):(Se=Xl(ie.type,ie.key,ie.props,null,J.mode,Se),Se.ref=sa(J,K,ie),Se.return=J,J=Se)}return _(J);case ce:e:{for(Xe=ie.key;K!==null;){if(K.key===Xe)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){d(J,K.sibling),K=A(K,ie.children||[]),K.return=J,J=K;break e}else{d(J,K);break}else a(J,K);K=K.sibling}K=Zc(ie,J.mode,Se),K.return=J,J=K}return _(J);case Me:return Xe=ie._init,dn(J,K,Xe(ie._payload),Se)}if(er(ie))return ke(J,K,ie,Se);if(Ee(ie))return je(J,K,ie,Se);Al(J,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,K!==null&&K.tag===6?(d(J,K.sibling),K=A(K,ie),K.return=J,J=K):(d(J,K),K=Xc(ie,J.mode,Se),K.return=J,J=K),_(J)):d(J,K)}return dn}var uo=uh(!0),ch=uh(!1),Sl=Xi(null),Tl=null,co=null,rc=null;function ic(){rc=co=Tl=null}function sc(t){var a=Sl.current;Ht(Sl),t._currentValue=a}function oc(t,a,d){for(;t!==null;){var m=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),t===d)break;t=t.return}}function fo(t,a){Tl=t,rc=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&a&&(or=!0),t.firstContext=null)}function Dr(t){var a=t._currentValue;if(rc!==t)if(t={context:t,memoizedValue:a,next:null},co===null){if(Tl===null)throw Error(s(308));co=t,Tl.dependencies={lanes:0,firstContext:t}}else co=co.next=t;return a}var Ms=null;function ac(t){Ms===null?Ms=[t]:Ms.push(t)}function fh(t,a,d,m){var A=a.interleaved;return A===null?(d.next=d,ac(a)):(d.next=A.next,A.next=d),a.interleaved=d,Si(t,m)}function Si(t,a){t.lanes|=a;var d=t.alternate;for(d!==null&&(d.lanes|=a),d=t,t=t.return;t!==null;)t.childLanes|=a,d=t.alternate,d!==null&&(d.childLanes|=a),d=t,t=t.return;return d.tag===3?d.stateNode:null}var Qi=!1;function lc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dh(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ti(t,a){return{eventTime:t,lane:a,tag:0,payload:null,callback:null,next:null}}function $i(t,a,d){var m=t.updateQueue;if(m===null)return null;if(m=m.shared,vt&2){var A=m.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),m.pending=a,Si(t,d)}return A=m.interleaved,A===null?(a.next=a,ac(m)):(a.next=A.next,A.next=a),m.interleaved=a,Si(t,d)}function Il(t,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=t.pendingLanes,d|=m,a.lanes=d,tn(t,d)}}function hh(t,a){var d=t.updateQueue,m=t.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var A=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var _={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?A=T=_:T=T.next=_,d=d.next}while(d!==null);T===null?A=T=a:T=T.next=a}else A=T=a;d={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:T,shared:m.shared,effects:m.effects},t.updateQueue=d;return}t=d.lastBaseUpdate,t===null?d.firstBaseUpdate=a:t.next=a,d.lastBaseUpdate=a}function bl(t,a,d,m){var A=t.updateQueue;Qi=!1;var T=A.firstBaseUpdate,_=A.lastBaseUpdate,W=A.shared.pending;if(W!==null){A.shared.pending=null;var Y=W,ae=Y.next;Y.next=null,_===null?T=ae:_.next=ae,_=Y;var xe=t.alternate;xe!==null&&(xe=xe.updateQueue,W=xe.lastBaseUpdate,W!==_&&(W===null?xe.firstBaseUpdate=ae:W.next=ae,xe.lastBaseUpdate=Y))}if(T!==null){var ye=A.baseState;_=0,xe=ae=Y=null,W=T;do{var pe=W.lane,De=W.eventTime;if((m&pe)===pe){xe!==null&&(xe=xe.next={eventTime:De,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var ke=t,je=W;switch(pe=a,De=d,je.tag){case 1:if(ke=je.payload,typeof ke=="function"){ye=ke.call(De,ye,pe);break e}ye=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=je.payload,pe=typeof ke=="function"?ke.call(De,ye,pe):ke,pe==null)break e;ye=fe({},ye,pe);break e;case 2:Qi=!0}}W.callback!==null&&W.lane!==0&&(t.flags|=64,pe=A.effects,pe===null?A.effects=[W]:pe.push(W))}else De={eventTime:De,lane:pe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},xe===null?(ae=xe=De,Y=ye):xe=xe.next=De,_|=pe;if(W=W.next,W===null){if(W=A.shared.pending,W===null)break;pe=W,W=pe.next,pe.next=null,A.lastBaseUpdate=pe,A.shared.pending=null}}while(!0);if(xe===null&&(Y=ye),A.baseState=Y,A.firstBaseUpdate=ae,A.lastBaseUpdate=xe,a=A.shared.interleaved,a!==null){A=a;do _|=A.lane,A=A.next;while(A!==a)}else T===null&&(A.shared.lanes=0);Os|=_,t.lanes=_,t.memoizedState=ye}}function ph(t,a,d){if(t=a.effects,a.effects=null,t!==null)for(a=0;a<t.length;a++){var m=t[a],A=m.callback;if(A!==null){if(m.callback=null,m=d,typeof A!="function")throw Error(s(191,A));A.call(m)}}}var oa={},ni=Xi(oa),aa=Xi(oa),la=Xi(oa);function _s(t){if(t===oa)throw Error(s(174));return t}function uc(t,a){switch(jt(la,a),jt(aa,t),jt(ni,oa),t=a.nodeType,t){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Je(null,"");break;default:t=t===8?a.parentNode:a,a=t.namespaceURI||null,t=t.tagName,a=Je(a,t)}Ht(ni),jt(ni,a)}function ho(){Ht(ni),Ht(aa),Ht(la)}function gh(t){_s(la.current);var a=_s(ni.current),d=Je(a,t.type);a!==d&&(jt(aa,t),jt(ni,d))}function cc(t){aa.current===t&&(Ht(ni),Ht(aa))}var $t=Xi(0);function Nl(t){for(var a=t;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var fc=[];function dc(){for(var t=0;t<fc.length;t++)fc[t]._workInProgressVersionPrimary=null;fc.length=0}var Rl=te.ReactCurrentDispatcher,hc=te.ReactCurrentBatchConfig,Ds=0,qt=null,En=null,In=null,Ml=!1,ua=!1,ca=0,px=0;function Gn(){throw Error(s(321))}function pc(t,a){if(a===null)return!1;for(var d=0;d<a.length&&d<t.length;d++)if(!Q(t[d],a[d]))return!1;return!0}function gc(t,a,d,m,A,T){if(Ds=T,qt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Rl.current=t===null||t.memoizedState===null?yx:wx,t=d(m,A),ua){T=0;do{if(ua=!1,ca=0,25<=T)throw Error(s(301));T+=1,In=En=null,a.updateQueue=null,Rl.current=Cx,t=d(m,A)}while(ua)}if(Rl.current=Ol,a=En!==null&&En.next!==null,Ds=0,In=En=qt=null,Ml=!1,a)throw Error(s(300));return t}function mc(){var t=ca!==0;return ca=0,t}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?qt.memoizedState=In=t:In=In.next=t,In}function Or(){if(En===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var a=In===null?qt.memoizedState:In.next;if(a!==null)In=a,En=t;else{if(t===null)throw Error(s(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},In===null?qt.memoizedState=In=t:In=In.next=t}return In}function fa(t,a){return typeof a=="function"?a(t):a}function xc(t){var a=Or(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=t;var m=En,A=m.baseQueue,T=d.pending;if(T!==null){if(A!==null){var _=A.next;A.next=T.next,T.next=_}m.baseQueue=A=T,d.pending=null}if(A!==null){T=A.next,m=m.baseState;var W=_=null,Y=null,ae=T;do{var xe=ae.lane;if((Ds&xe)===xe)Y!==null&&(Y=Y.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),m=ae.hasEagerState?ae.eagerState:t(m,ae.action);else{var ye={lane:xe,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Y===null?(W=Y=ye,_=m):Y=Y.next=ye,qt.lanes|=xe,Os|=xe}ae=ae.next}while(ae!==null&&ae!==T);Y===null?_=m:Y.next=W,Q(m,a.memoizedState)||(or=!0),a.memoizedState=m,a.baseState=_,a.baseQueue=Y,d.lastRenderedState=m}if(t=d.interleaved,t!==null){A=t;do T=A.lane,qt.lanes|=T,Os|=T,A=A.next;while(A!==t)}else A===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function yc(t){var a=Or(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=t;var m=d.dispatch,A=d.pending,T=a.memoizedState;if(A!==null){d.pending=null;var _=A=A.next;do T=t(T,_.action),_=_.next;while(_!==A);Q(T,a.memoizedState)||(or=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),d.lastRenderedState=T}return[T,m]}function mh(){}function xh(t,a){var d=qt,m=Or(),A=a(),T=!Q(m.memoizedState,A);if(T&&(m.memoizedState=A,or=!0),m=m.queue,wc(Ch.bind(null,d,m,t),[t]),m.getSnapshot!==a||T||In!==null&&In.memoizedState.tag&1){if(d.flags|=2048,da(9,wh.bind(null,d,m,A,a),void 0,null),bn===null)throw Error(s(349));Ds&30||yh(d,a,A)}return A}function yh(t,a,d){t.flags|=16384,t={getSnapshot:a,value:d},a=qt.updateQueue,a===null?(a={lastEffect:null,stores:null},qt.updateQueue=a,a.stores=[t]):(d=a.stores,d===null?a.stores=[t]:d.push(t))}function wh(t,a,d,m){a.value=d,a.getSnapshot=m,vh(a)&&Eh(t)}function Ch(t,a,d){return d(function(){vh(a)&&Eh(t)})}function vh(t){var a=t.getSnapshot;t=t.value;try{var d=a();return!Q(t,d)}catch{return!0}}function Eh(t){var a=Si(t,1);a!==null&&Xr(a,t,1,-1)}function Ah(t){var a=ri();return typeof t=="function"&&(t=t()),a.memoizedState=a.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},a.queue=t,t=t.dispatch=xx.bind(null,qt,t),[a.memoizedState,t]}function da(t,a,d,m){return t={tag:t,create:a,destroy:d,deps:m,next:null},a=qt.updateQueue,a===null?(a={lastEffect:null,stores:null},qt.updateQueue=a,a.lastEffect=t.next=t):(d=a.lastEffect,d===null?a.lastEffect=t.next=t:(m=d.next,d.next=t,t.next=m,a.lastEffect=t)),t}function Sh(){return Or().memoizedState}function _l(t,a,d,m){var A=ri();qt.flags|=t,A.memoizedState=da(1|a,d,void 0,m===void 0?null:m)}function Dl(t,a,d,m){var A=Or();m=m===void 0?null:m;var T=void 0;if(En!==null){var _=En.memoizedState;if(T=_.destroy,m!==null&&pc(m,_.deps)){A.memoizedState=da(a,d,T,m);return}}qt.flags|=t,A.memoizedState=da(1|a,d,T,m)}function Th(t,a){return _l(8390656,8,t,a)}function wc(t,a){return Dl(2048,8,t,a)}function Ih(t,a){return Dl(4,2,t,a)}function bh(t,a){return Dl(4,4,t,a)}function Nh(t,a){if(typeof a=="function")return t=t(),a(t),function(){a(null)};if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Rh(t,a,d){return d=d!=null?d.concat([t]):null,Dl(4,4,Nh.bind(null,a,t),d)}function Cc(){}function Mh(t,a){var d=Or();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&pc(a,m[1])?m[0]:(d.memoizedState=[t,a],t)}function _h(t,a){var d=Or();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&pc(a,m[1])?m[0]:(t=t(),d.memoizedState=[t,a],t)}function Dh(t,a,d){return Ds&21?(Q(d,a)||(d=yn(),qt.lanes|=d,Os|=d,t.baseState=!0),a):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=d)}function gx(t,a){var d=ot;ot=d!==0&&4>d?d:4,t(!0);var m=hc.transition;hc.transition={};try{t(!1),a()}finally{ot=d,hc.transition=m}}function Oh(){return Or().memoizedState}function mx(t,a,d){var m=ts(t);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Ph(t))Lh(a,d);else if(d=fh(t,a,d,m),d!==null){var A=qn();Xr(d,t,m,A),kh(d,a,m)}}function xx(t,a,d){var m=ts(t),A={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ph(t))Lh(a,A);else{var T=t.alternate;if(t.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var _=a.lastRenderedState,W=T(_,d);if(A.hasEagerState=!0,A.eagerState=W,Q(W,_)){var Y=a.interleaved;Y===null?(A.next=A,ac(a)):(A.next=Y.next,Y.next=A),a.interleaved=A;return}}catch{}finally{}d=fh(t,a,A,m),d!==null&&(A=qn(),Xr(d,t,m,A),kh(d,a,m))}}function Ph(t){var a=t.alternate;return t===qt||a!==null&&a===qt}function Lh(t,a){ua=Ml=!0;var d=t.pending;d===null?a.next=a:(a.next=d.next,d.next=a),t.pending=a}function kh(t,a,d){if(d&4194240){var m=a.lanes;m&=t.pendingLanes,d|=m,a.lanes=d,tn(t,d)}}var Ol={readContext:Dr,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},yx={readContext:Dr,useCallback:function(t,a){return ri().memoizedState=[t,a===void 0?null:a],t},useContext:Dr,useEffect:Th,useImperativeHandle:function(t,a,d){return d=d!=null?d.concat([t]):null,_l(4194308,4,Nh.bind(null,a,t),d)},useLayoutEffect:function(t,a){return _l(4194308,4,t,a)},useInsertionEffect:function(t,a){return _l(4,2,t,a)},useMemo:function(t,a){var d=ri();return a=a===void 0?null:a,t=t(),d.memoizedState=[t,a],t},useReducer:function(t,a,d){var m=ri();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},m.queue=t,t=t.dispatch=mx.bind(null,qt,t),[m.memoizedState,t]},useRef:function(t){var a=ri();return t={current:t},a.memoizedState=t},useState:Ah,useDebugValue:Cc,useDeferredValue:function(t){return ri().memoizedState=t},useTransition:function(){var t=Ah(!1),a=t[0];return t=gx.bind(null,t[1]),ri().memoizedState=t,[a,t]},useMutableSource:function(){},useSyncExternalStore:function(t,a,d){var m=qt,A=ri();if(Zt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=a(),bn===null)throw Error(s(349));Ds&30||yh(m,a,d)}A.memoizedState=d;var T={value:d,getSnapshot:a};return A.queue=T,Th(Ch.bind(null,m,T,t),[t]),m.flags|=2048,da(9,wh.bind(null,m,T,d,a),void 0,null),d},useId:function(){var t=ri(),a=bn.identifierPrefix;if(Zt){var d=Ai,m=Ei;d=(m&~(1<<32-Qn(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=ca++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=px++,a=":"+a+"r"+d.toString(32)+":";return t.memoizedState=a},unstable_isNewReconciler:!1},wx={readContext:Dr,useCallback:Mh,useContext:Dr,useEffect:wc,useImperativeHandle:Rh,useInsertionEffect:Ih,useLayoutEffect:bh,useMemo:_h,useReducer:xc,useRef:Sh,useState:function(){return xc(fa)},useDebugValue:Cc,useDeferredValue:function(t){var a=Or();return Dh(a,En.memoizedState,t)},useTransition:function(){var t=xc(fa)[0],a=Or().memoizedState;return[t,a]},useMutableSource:mh,useSyncExternalStore:xh,useId:Oh,unstable_isNewReconciler:!1},Cx={readContext:Dr,useCallback:Mh,useContext:Dr,useEffect:wc,useImperativeHandle:Rh,useInsertionEffect:Ih,useLayoutEffect:bh,useMemo:_h,useReducer:yc,useRef:Sh,useState:function(){return yc(fa)},useDebugValue:Cc,useDeferredValue:function(t){var a=Or();return En===null?a.memoizedState=t:Dh(a,En.memoizedState,t)},useTransition:function(){var t=yc(fa)[0],a=Or().memoizedState;return[t,a]},useMutableSource:mh,useSyncExternalStore:xh,useId:Oh,unstable_isNewReconciler:!1};function Hr(t,a){if(t&&t.defaultProps){a=fe({},a),t=t.defaultProps;for(var d in t)a[d]===void 0&&(a[d]=t[d]);return a}return a}function vc(t,a,d,m){a=t.memoizedState,d=d(m,a),d=d==null?a:fe({},a,d),t.memoizedState=d,t.lanes===0&&(t.updateQueue.baseState=d)}var Pl={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,a,d){t=t._reactInternals;var m=qn(),A=ts(t),T=Ti(m,A);T.payload=a,d!=null&&(T.callback=d),a=$i(t,T,A),a!==null&&(Xr(a,t,A,m),Il(a,t,A))},enqueueReplaceState:function(t,a,d){t=t._reactInternals;var m=qn(),A=ts(t),T=Ti(m,A);T.tag=1,T.payload=a,d!=null&&(T.callback=d),a=$i(t,T,A),a!==null&&(Xr(a,t,A,m),Il(a,t,A))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var d=qn(),m=ts(t),A=Ti(d,m);A.tag=2,a!=null&&(A.callback=a),a=$i(t,A,m),a!==null&&(Xr(a,t,m,d),Il(a,t,m))}};function Bh(t,a,d,m,A,T,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(m,T,_):a.prototype&&a.prototype.isPureReactComponent?!se(d,m)||!se(A,T):!0}function Fh(t,a,d){var m=!1,A=Zi,T=a.contextType;return typeof T=="object"&&T!==null?T=Dr(T):(A=sr(a)?bs:Hn.current,m=a.contextTypes,T=(m=m!=null)?so(t,A):Zi),a=new a(d,T),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Pl,t.stateNode=a,a._reactInternals=t,m&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=A,t.__reactInternalMemoizedMaskedChildContext=T),a}function jh(t,a,d,m){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==t&&Pl.enqueueReplaceState(a,a.state,null)}function Ec(t,a,d,m){var A=t.stateNode;A.props=d,A.state=t.memoizedState,A.refs={},lc(t);var T=a.contextType;typeof T=="object"&&T!==null?A.context=Dr(T):(T=sr(a)?bs:Hn.current,A.context=so(t,T)),A.state=t.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(vc(t,a,T,d),A.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(a=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),a!==A.state&&Pl.enqueueReplaceState(A,A.state,null),bl(t,d,A,m),A.state=t.memoizedState),typeof A.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,a){try{var d="",m=a;do d+=it(m),m=m.return;while(m);var A=d}catch(T){A=`
Error generating stack: `+T.message+`
`+T.stack}return{value:t,source:a,stack:A,digest:null}}function Ac(t,a,d){return{value:t,source:null,stack:d??null,digest:a??null}}function Sc(t,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var vx=typeof WeakMap=="function"?WeakMap:Map;function Uh(t,a,d){d=Ti(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){zl||(zl=!0,jc=m),Sc(t,a)},d}function zh(t,a,d){d=Ti(-1,d),d.tag=3;var m=t.type.getDerivedStateFromError;if(typeof m=="function"){var A=a.value;d.payload=function(){return m(A)},d.callback=function(){Sc(t,a)}}var T=t.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){Sc(t,a),typeof m!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})}),d}function Vh(t,a,d){var m=t.pingCache;if(m===null){m=t.pingCache=new vx;var A=new Set;m.set(a,A)}else A=m.get(a),A===void 0&&(A=new Set,m.set(a,A));A.has(d)||(A.add(d),t=Lx.bind(null,t,a,d),a.then(t,t))}function Wh(t){do{var a;if((a=t.tag===13)&&(a=t.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return t;t=t.return}while(t!==null);return null}function Hh(t,a,d,m,A){return t.mode&1?(t.flags|=65536,t.lanes=A,t):(t===a?t.flags|=65536:(t.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Ti(-1,1),a.tag=2,$i(d,a,1))),d.lanes|=1),t)}var Ex=te.ReactCurrentOwner,or=!1;function $n(t,a,d,m){a.child=t===null?ch(a,null,d,m):uo(a,t.child,d,m)}function Gh(t,a,d,m,A){d=d.render;var T=a.ref;return fo(a,A),m=gc(t,a,d,m,T,A),d=mc(),t!==null&&!or?(a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~A,Ii(t,a,A)):(Zt&&d&&qu(a),a.flags|=1,$n(t,a,m,A),a.child)}function Yh(t,a,d,m,A){if(t===null){var T=d.type;return typeof T=="function"&&!Yc(T)&&T.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=T,Xh(t,a,T,m,A)):(t=Xl(d.type,null,m,a,a.mode,A),t.ref=a.ref,t.return=a,a.child=t)}if(T=t.child,!(t.lanes&A)){var _=T.memoizedProps;if(d=d.compare,d=d!==null?d:se,d(_,m)&&t.ref===a.ref)return Ii(t,a,A)}return a.flags|=1,t=rs(T,m),t.ref=a.ref,t.return=a,a.child=t}function Xh(t,a,d,m,A){if(t!==null){var T=t.memoizedProps;if(se(T,m)&&t.ref===a.ref)if(or=!1,a.pendingProps=m=T,(t.lanes&A)!==0)t.flags&131072&&(or=!0);else return a.lanes=t.lanes,Ii(t,a,A)}return Tc(t,a,d,m,A)}function Zh(t,a,d){var m=a.pendingProps,A=m.children,T=t!==null?t.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(mo,vr),vr|=d;else{if(!(d&1073741824))return t=T!==null?T.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:t,cachePool:null,transitions:null},a.updateQueue=null,jt(mo,vr),vr|=t,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=T!==null?T.baseLanes:d,jt(mo,vr),vr|=m}else T!==null?(m=T.baseLanes|d,a.memoizedState=null):m=d,jt(mo,vr),vr|=m;return $n(t,a,A,d),a.child}function Kh(t,a){var d=a.ref;(t===null&&d!==null||t!==null&&t.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function Tc(t,a,d,m,A){var T=sr(d)?bs:Hn.current;return T=so(a,T),fo(a,A),d=gc(t,a,d,m,T,A),m=mc(),t!==null&&!or?(a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~A,Ii(t,a,A)):(Zt&&m&&qu(a),a.flags|=1,$n(t,a,d,A),a.child)}function Qh(t,a,d,m,A){if(sr(d)){var T=!0;yl(a)}else T=!1;if(fo(a,A),a.stateNode===null)kl(t,a),Fh(a,d,m),Ec(a,d,m,A),m=!0;else if(t===null){var _=a.stateNode,W=a.memoizedProps;_.props=W;var Y=_.context,ae=d.contextType;typeof ae=="object"&&ae!==null?ae=Dr(ae):(ae=sr(d)?bs:Hn.current,ae=so(a,ae));var xe=d.getDerivedStateFromProps,ye=typeof xe=="function"||typeof _.getSnapshotBeforeUpdate=="function";ye||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(W!==m||Y!==ae)&&jh(a,_,m,ae),Qi=!1;var pe=a.memoizedState;_.state=pe,bl(a,m,_,A),Y=a.memoizedState,W!==m||pe!==Y||ir.current||Qi?(typeof xe=="function"&&(vc(a,d,xe,m),Y=a.memoizedState),(W=Qi||Bh(a,d,W,m,pe,Y,ae))?(ye||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=Y),_.props=m,_.state=Y,_.context=ae,m=W):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{_=a.stateNode,dh(t,a),W=a.memoizedProps,ae=a.type===a.elementType?W:Hr(a.type,W),_.props=ae,ye=a.pendingProps,pe=_.context,Y=d.contextType,typeof Y=="object"&&Y!==null?Y=Dr(Y):(Y=sr(d)?bs:Hn.current,Y=so(a,Y));var De=d.getDerivedStateFromProps;(xe=typeof De=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(W!==ye||pe!==Y)&&jh(a,_,m,Y),Qi=!1,pe=a.memoizedState,_.state=pe,bl(a,m,_,A);var ke=a.memoizedState;W!==ye||pe!==ke||ir.current||Qi?(typeof De=="function"&&(vc(a,d,De,m),ke=a.memoizedState),(ae=Qi||Bh(a,d,ae,m,pe,ke,Y)||!1)?(xe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(m,ke,Y),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(m,ke,Y)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||W===t.memoizedProps&&pe===t.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||W===t.memoizedProps&&pe===t.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=ke),_.props=m,_.state=ke,_.context=Y,m=ae):(typeof _.componentDidUpdate!="function"||W===t.memoizedProps&&pe===t.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||W===t.memoizedProps&&pe===t.memoizedState||(a.flags|=1024),m=!1)}return Ic(t,a,d,m,T,A)}function Ic(t,a,d,m,A,T){Kh(t,a);var _=(a.flags&128)!==0;if(!m&&!_)return A&&th(a,d,!1),Ii(t,a,T);m=a.stateNode,Ex.current=a;var W=_&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,t!==null&&_?(a.child=uo(a,t.child,null,T),a.child=uo(a,null,W,T)):$n(t,a,W,T),a.memoizedState=m.state,A&&th(a,d,!0),a.child}function $h(t){var a=t.stateNode;a.pendingContext?Jd(t,a.pendingContext,a.pendingContext!==a.context):a.context&&Jd(t,a.context,!1),uc(t,a.containerInfo)}function qh(t,a,d,m,A){return lo(),nc(A),a.flags|=256,$n(t,a,d,m),a.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function Nc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jh(t,a,d){var m=a.pendingProps,A=$t.current,T=!1,_=(a.flags&128)!==0,W;if((W=_)||(W=t!==null&&t.memoizedState===null?!1:(A&2)!==0),W?(T=!0,a.flags&=-129):(t===null||t.memoizedState!==null)&&(A|=1),jt($t,A&1),t===null)return tc(a),t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(a.mode&1?t.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(_=m.children,t=m.fallback,T?(m=a.mode,T=a.child,_={mode:"hidden",children:_},!(m&1)&&T!==null?(T.childLanes=0,T.pendingProps=_):T=Zl(_,m,0,null),t=Bs(t,m,d,null),T.return=a,t.return=a,T.sibling=t,a.child=T,a.child.memoizedState=Nc(d),a.memoizedState=bc,t):Rc(a,_));if(A=t.memoizedState,A!==null&&(W=A.dehydrated,W!==null))return Ax(t,a,_,m,W,A,d);if(T){T=m.fallback,_=a.mode,A=t.child,W=A.sibling;var Y={mode:"hidden",children:m.children};return!(_&1)&&a.child!==A?(m=a.child,m.childLanes=0,m.pendingProps=Y,a.deletions=null):(m=rs(A,Y),m.subtreeFlags=A.subtreeFlags&14680064),W!==null?T=rs(W,T):(T=Bs(T,_,d,null),T.flags|=2),T.return=a,m.return=a,m.sibling=T,a.child=m,m=T,T=a.child,_=t.child.memoizedState,_=_===null?Nc(d):{baseLanes:_.baseLanes|d,cachePool:null,transitions:_.transitions},T.memoizedState=_,T.childLanes=t.childLanes&~d,a.memoizedState=bc,m}return T=t.child,t=T.sibling,m=rs(T,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=d),m.return=a,m.sibling=null,t!==null&&(d=a.deletions,d===null?(a.deletions=[t],a.flags|=16):d.push(t)),a.child=m,a.memoizedState=null,m}function Rc(t,a){return a=Zl({mode:"visible",children:a},t.mode,0,null),a.return=t,t.child=a}function Ll(t,a,d,m){return m!==null&&nc(m),uo(a,t.child,null,d),t=Rc(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Ax(t,a,d,m,A,T,_){if(d)return a.flags&256?(a.flags&=-257,m=Ac(Error(s(422))),Ll(t,a,_,m)):a.memoizedState!==null?(a.child=t.child,a.flags|=128,null):(T=m.fallback,A=a.mode,m=Zl({mode:"visible",children:m.children},A,0,null),T=Bs(T,A,_,null),T.flags|=2,m.return=a,T.return=a,m.sibling=T,a.child=m,a.mode&1&&uo(a,t.child,null,_),a.child.memoizedState=Nc(_),a.memoizedState=bc,T);if(!(a.mode&1))return Ll(t,a,_,null);if(A.data==="$!"){if(m=A.nextSibling&&A.nextSibling.dataset,m)var W=m.dgst;return m=W,T=Error(s(419)),m=Ac(T,m,void 0),Ll(t,a,_,m)}if(W=(_&t.childLanes)!==0,or||W){if(m=bn,m!==null){switch(_&-_){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(m.suspendedLanes|_)?0:A,A!==0&&A!==T.retryLane&&(T.retryLane=A,Si(t,A),Xr(m,t,A,-1))}return Gc(),m=Ac(Error(s(421))),Ll(t,a,_,m)}return A.data==="$?"?(a.flags|=128,a.child=t.child,a=kx.bind(null,t),A._reactRetry=a,null):(t=T.treeContext,Cr=Yi(A.nextSibling),wr=a,Zt=!0,Wr=null,t!==null&&(Mr[_r++]=Ei,Mr[_r++]=Ai,Mr[_r++]=Ns,Ei=t.id,Ai=t.overflow,Ns=a),a=Rc(a,m.children),a.flags|=4096,a)}function e0(t,a,d){t.lanes|=a;var m=t.alternate;m!==null&&(m.lanes|=a),oc(t.return,a,d)}function Mc(t,a,d,m,A){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:A}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=A)}function t0(t,a,d){var m=a.pendingProps,A=m.revealOrder,T=m.tail;if($n(t,a,m.children,d),m=$t.current,m&2)m=m&1|2,a.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e0(t,d,a);else if(t.tag===19)e0(t,d,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}m&=1}if(jt($t,m),!(a.mode&1))a.memoizedState=null;else switch(A){case"forwards":for(d=a.child,A=null;d!==null;)t=d.alternate,t!==null&&Nl(t)===null&&(A=d),d=d.sibling;d=A,d===null?(A=a.child,a.child=null):(A=d.sibling,d.sibling=null),Mc(a,!1,A,d,T);break;case"backwards":for(d=null,A=a.child,a.child=null;A!==null;){if(t=A.alternate,t!==null&&Nl(t)===null){a.child=A;break}t=A.sibling,A.sibling=d,d=A,A=t}Mc(a,!0,d,null,T);break;case"together":Mc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function kl(t,a){!(a.mode&1)&&t!==null&&(t.alternate=null,a.alternate=null,a.flags|=2)}function Ii(t,a,d){if(t!==null&&(a.dependencies=t.dependencies),Os|=a.lanes,!(d&a.childLanes))return null;if(t!==null&&a.child!==t.child)throw Error(s(153));if(a.child!==null){for(t=a.child,d=rs(t,t.pendingProps),a.child=d,d.return=a;t.sibling!==null;)t=t.sibling,d=d.sibling=rs(t,t.pendingProps),d.return=a;d.sibling=null}return a.child}function Sx(t,a,d){switch(a.tag){case 3:$h(a),lo();break;case 5:gh(a);break;case 1:sr(a.type)&&yl(a);break;case 4:uc(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,A=a.memoizedProps.value;jt(Sl,m._currentValue),m._currentValue=A;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(jt($t,$t.current&1),a.flags|=128,null):d&a.child.childLanes?Jh(t,a,d):(jt($t,$t.current&1),t=Ii(t,a,d),t!==null?t.sibling:null);jt($t,$t.current&1);break;case 19:if(m=(d&a.childLanes)!==0,t.flags&128){if(m)return t0(t,a,d);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),jt($t,$t.current),m)break;return null;case 22:case 23:return a.lanes=0,Zh(t,a,d)}return Ii(t,a,d)}var n0,_c,r0,i0;n0=function(t,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},_c=function(){},r0=function(t,a,d,m){var A=t.memoizedProps;if(A!==m){t=a.stateNode,_s(ni.current);var T=null;switch(d){case"input":A=Rn(t,A),m=Rn(t,m),T=[];break;case"select":A=fe({},A,{value:void 0}),m=fe({},m,{value:void 0}),T=[];break;case"textarea":A=Ke(t,A),m=Ke(t,m),T=[];break;default:typeof A.onClick!="function"&&typeof m.onClick=="function"&&(t.onclick=gl)}St(d,m);var _;d=null;for(ae in A)if(!m.hasOwnProperty(ae)&&A.hasOwnProperty(ae)&&A[ae]!=null)if(ae==="style"){var W=A[ae];for(_ in W)W.hasOwnProperty(_)&&(d||(d={}),d[_]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(h.hasOwnProperty(ae)?T||(T=[]):(T=T||[]).push(ae,null));for(ae in m){var Y=m[ae];if(W=A!=null?A[ae]:void 0,m.hasOwnProperty(ae)&&Y!==W&&(Y!=null||W!=null))if(ae==="style")if(W){for(_ in W)!W.hasOwnProperty(_)||Y&&Y.hasOwnProperty(_)||(d||(d={}),d[_]="");for(_ in Y)Y.hasOwnProperty(_)&&W[_]!==Y[_]&&(d||(d={}),d[_]=Y[_])}else d||(T||(T=[]),T.push(ae,d)),d=Y;else ae==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(T=T||[]).push(ae,Y)):ae==="children"?typeof Y!="string"&&typeof Y!="number"||(T=T||[]).push(ae,""+Y):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(h.hasOwnProperty(ae)?(Y!=null&&ae==="onScroll"&&Wt("scroll",t),T||W===Y||(T=[])):(T=T||[]).push(ae,Y))}d&&(T=T||[]).push("style",d);var ae=T;(a.updateQueue=ae)&&(a.flags|=4)}},i0=function(t,a,d,m){d!==m&&(a.flags|=4)};function ha(t,a){if(!Zt)switch(t.tailMode){case"hidden":a=t.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?t.tail=null:d.sibling=null;break;case"collapsed":d=t.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:m.sibling=null}}function Yn(t){var a=t.alternate!==null&&t.alternate.child===t.child,d=0,m=0;if(a)for(var A=t.child;A!==null;)d|=A.lanes|A.childLanes,m|=A.subtreeFlags&14680064,m|=A.flags&14680064,A.return=t,A=A.sibling;else for(A=t.child;A!==null;)d|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=t,A=A.sibling;return t.subtreeFlags|=m,t.childLanes=d,a}function Tx(t,a,d){var m=a.pendingProps;switch(Ju(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(a),null;case 1:return sr(a.type)&&xl(),Yn(a),null;case 3:return m=a.stateNode,ho(),Ht(ir),Ht(Hn),dc(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(t===null||t.child===null)&&(El(a)?a.flags|=4:t===null||t.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Wr!==null&&(Vc(Wr),Wr=null))),_c(t,a),Yn(a),null;case 5:cc(a);var A=_s(la.current);if(d=a.type,t!==null&&a.stateNode!=null)r0(t,a,d,m,A),t.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(s(166));return Yn(a),null}if(t=_s(ni.current),El(a)){m=a.stateNode,d=a.type;var T=a.memoizedProps;switch(m[ti]=a,m[ra]=T,t=(a.mode&1)!==0,d){case"dialog":Wt("cancel",m),Wt("close",m);break;case"iframe":case"object":case"embed":Wt("load",m);break;case"video":case"audio":for(A=0;A<ea.length;A++)Wt(ea[A],m);break;case"source":Wt("error",m);break;case"img":case"image":case"link":Wt("error",m),Wt("load",m);break;case"details":Wt("toggle",m);break;case"input":Mn(m,T),Wt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!T.multiple},Wt("invalid",m);break;case"textarea":Re(m,T),Wt("invalid",m)}St(d,T),A=null;for(var _ in T)if(T.hasOwnProperty(_)){var W=T[_];_==="children"?typeof W=="string"?m.textContent!==W&&(T.suppressHydrationWarning!==!0&&pl(m.textContent,W,t),A=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(T.suppressHydrationWarning!==!0&&pl(m.textContent,W,t),A=["children",""+W]):h.hasOwnProperty(_)&&W!=null&&_==="onScroll"&&Wt("scroll",m)}switch(d){case"input":Yt(m),yt(m,T,!0);break;case"textarea":Yt(m),wt(m);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(m.onclick=gl)}m=A,a.updateQueue=m,m!==null&&(a.flags|=4)}else{_=A.nodeType===9?A:A.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$e(d)),t==="http://www.w3.org/1999/xhtml"?d==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof m.is=="string"?t=_.createElement(d,{is:m.is}):(t=_.createElement(d),d==="select"&&(_=t,m.multiple?_.multiple=!0:m.size&&(_.size=m.size))):t=_.createElementNS(t,d),t[ti]=a,t[ra]=m,n0(t,a,!1,!1),a.stateNode=t;e:{switch(_=Lt(d,m),d){case"dialog":Wt("cancel",t),Wt("close",t),A=m;break;case"iframe":case"object":case"embed":Wt("load",t),A=m;break;case"video":case"audio":for(A=0;A<ea.length;A++)Wt(ea[A],t);A=m;break;case"source":Wt("error",t),A=m;break;case"img":case"image":case"link":Wt("error",t),Wt("load",t),A=m;break;case"details":Wt("toggle",t),A=m;break;case"input":Mn(t,m),A=Rn(t,m),Wt("invalid",t);break;case"option":A=m;break;case"select":t._wrapperState={wasMultiple:!!m.multiple},A=fe({},m,{value:void 0}),Wt("invalid",t);break;case"textarea":Re(t,m),A=Ke(t,m),Wt("invalid",t);break;default:A=m}St(d,A),W=A;for(T in W)if(W.hasOwnProperty(T)){var Y=W[T];T==="style"?Te(t,Y):T==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Et(t,Y)):T==="children"?typeof Y=="string"?(d!=="textarea"||Y!=="")&&jn(t,Y):typeof Y=="number"&&jn(t,""+Y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(h.hasOwnProperty(T)?Y!=null&&T==="onScroll"&&Wt("scroll",t):Y!=null&&V(t,T,Y,_))}switch(d){case"input":Yt(t),yt(t,m,!1);break;case"textarea":Yt(t),wt(t);break;case"option":m.value!=null&&t.setAttribute("value",""+He(m.value));break;case"select":t.multiple=!!m.multiple,T=m.value,T!=null?Ce(t,!!m.multiple,T,!1):m.defaultValue!=null&&Ce(t,!!m.multiple,m.defaultValue,!0);break;default:typeof A.onClick=="function"&&(t.onclick=gl)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Yn(a),null;case 6:if(t&&a.stateNode!=null)i0(t,a,t.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(s(166));if(d=_s(la.current),_s(ni.current),El(a)){if(m=a.stateNode,d=a.memoizedProps,m[ti]=a,(T=m.nodeValue!==d)&&(t=wr,t!==null))switch(t.tag){case 3:pl(m.nodeValue,d,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(m.nodeValue,d,(t.mode&1)!==0)}T&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[ti]=a,a.stateNode=m}return Yn(a),null;case 13:if(Ht($t),m=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zt&&Cr!==null&&a.mode&1&&!(a.flags&128))ah(),lo(),a.flags|=98560,T=!1;else if(T=El(a),m!==null&&m.dehydrated!==null){if(t===null){if(!T)throw Error(s(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(s(317));T[ti]=a}else lo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Yn(a),T=!1}else Wr!==null&&(Vc(Wr),Wr=null),T=!0;if(!T)return a.flags&65536?a:null}return a.flags&128?(a.lanes=d,a):(m=m!==null,m!==(t!==null&&t.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(t===null||$t.current&1?An===0&&(An=3):Gc())),a.updateQueue!==null&&(a.flags|=4),Yn(a),null);case 4:return ho(),_c(t,a),t===null&&ta(a.stateNode.containerInfo),Yn(a),null;case 10:return sc(a.type._context),Yn(a),null;case 17:return sr(a.type)&&xl(),Yn(a),null;case 19:if(Ht($t),T=a.memoizedState,T===null)return Yn(a),null;if(m=(a.flags&128)!==0,_=T.rendering,_===null)if(m)ha(T,!1);else{if(An!==0||t!==null&&t.flags&128)for(t=a.child;t!==null;){if(_=Nl(t),_!==null){for(a.flags|=128,ha(T,!1),m=_.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)T=d,t=m,T.flags&=14680066,_=T.alternate,_===null?(T.childLanes=0,T.lanes=t,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=_.childLanes,T.lanes=_.lanes,T.child=_.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=_.memoizedProps,T.memoizedState=_.memoizedState,T.updateQueue=_.updateQueue,T.type=_.type,t=_.dependencies,T.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),d=d.sibling;return jt($t,$t.current&1|2),a.child}t=t.sibling}T.tail!==null&&bt()>xo&&(a.flags|=128,m=!0,ha(T,!1),a.lanes=4194304)}else{if(!m)if(t=Nl(_),t!==null){if(a.flags|=128,m=!0,d=t.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),ha(T,!0),T.tail===null&&T.tailMode==="hidden"&&!_.alternate&&!Zt)return Yn(a),null}else 2*bt()-T.renderingStartTime>xo&&d!==1073741824&&(a.flags|=128,m=!0,ha(T,!1),a.lanes=4194304);T.isBackwards?(_.sibling=a.child,a.child=_):(d=T.last,d!==null?d.sibling=_:a.child=_,T.last=_)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=bt(),a.sibling=null,d=$t.current,jt($t,m?d&1|2:d&1),a):(Yn(a),null);case 22:case 23:return Hc(),m=a.memoizedState!==null,t!==null&&t.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?vr&1073741824&&(Yn(a),a.subtreeFlags&6&&(a.flags|=8192)):Yn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function Ix(t,a){switch(Ju(a),a.tag){case 1:return sr(a.type)&&xl(),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ho(),Ht(ir),Ht(Hn),dc(),t=a.flags,t&65536&&!(t&128)?(a.flags=t&-65537|128,a):null;case 5:return cc(a),null;case 13:if(Ht($t),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(s(340));lo()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return Ht($t),null;case 4:return ho(),null;case 10:return sc(a.type._context),null;case 22:case 23:return Hc(),null;case 24:return null;default:return null}}var Bl=!1,Xn=!1,bx=typeof WeakSet=="function"?WeakSet:Set,Le=null;function go(t,a){var d=t.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){rn(t,a,m)}else d.current=null}function Dc(t,a,d){try{d()}catch(m){rn(t,a,m)}}var s0=!1;function Nx(t,a){if(Hu=Jr,t=ut(),nt(t)){if("selectionStart"in t)var d={start:t.selectionStart,end:t.selectionEnd};else e:{d=(d=t.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var A=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var _=0,W=-1,Y=-1,ae=0,xe=0,ye=t,pe=null;t:for(;;){for(var De;ye!==d||A!==0&&ye.nodeType!==3||(W=_+A),ye!==T||m!==0&&ye.nodeType!==3||(Y=_+m),ye.nodeType===3&&(_+=ye.nodeValue.length),(De=ye.firstChild)!==null;)pe=ye,ye=De;for(;;){if(ye===t)break t;if(pe===d&&++ae===A&&(W=_),pe===T&&++xe===m&&(Y=_),(De=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=De}d=W===-1||Y===-1?null:{start:W,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(Gu={focusedElem:t,selectionRange:d},Jr=!1,Le=a;Le!==null;)if(a=Le,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,Le=t;else for(;Le!==null;){a=Le;try{var ke=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var je=ke.memoizedProps,dn=ke.memoizedState,J=a.stateNode,K=J.getSnapshotBeforeUpdate(a.elementType===a.type?je:Hr(a.type,je),dn);J.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Se){rn(a,a.return,Se)}if(t=a.sibling,t!==null){t.return=a.return,Le=t;break}Le=a.return}return ke=s0,s0=!1,ke}function pa(t,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var A=m=m.next;do{if((A.tag&t)===t){var T=A.destroy;A.destroy=void 0,T!==void 0&&Dc(a,d,T)}A=A.next}while(A!==m)}}function Fl(t,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&t)===t){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function Oc(t){var a=t.ref;if(a!==null){var d=t.stateNode;switch(t.tag){case 5:t=d;break;default:t=d}typeof a=="function"?a(t):a.current=t}}function o0(t){var a=t.alternate;a!==null&&(t.alternate=null,o0(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&(delete a[ti],delete a[ra],delete a[Ku],delete a[cx],delete a[fx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a0(t){return t.tag===5||t.tag===3||t.tag===4}function l0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pc(t,a,d){var m=t.tag;if(m===5||m===6)t=t.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(t,a):d.insertBefore(t,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(t,d)):(a=d,a.appendChild(t)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=gl));else if(m!==4&&(t=t.child,t!==null))for(Pc(t,a,d),t=t.sibling;t!==null;)Pc(t,a,d),t=t.sibling}function Lc(t,a,d){var m=t.tag;if(m===5||m===6)t=t.stateNode,a?d.insertBefore(t,a):d.appendChild(t);else if(m!==4&&(t=t.child,t!==null))for(Lc(t,a,d),t=t.sibling;t!==null;)Lc(t,a,d),t=t.sibling}var Ln=null,Gr=!1;function qi(t,a,d){for(d=d.child;d!==null;)u0(t,a,d),d=d.sibling}function u0(t,a,d){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(xt,d)}catch{}switch(d.tag){case 5:Xn||go(d,a);case 6:var m=Ln,A=Gr;Ln=null,qi(t,a,d),Ln=m,Gr=A,Ln!==null&&(Gr?(t=Ln,d=d.stateNode,t.nodeType===8?t.parentNode.removeChild(d):t.removeChild(d)):Ln.removeChild(d.stateNode));break;case 18:Ln!==null&&(Gr?(t=Ln,d=d.stateNode,t.nodeType===8?Zu(t.parentNode,d):t.nodeType===1&&Zu(t,d),Ur(t)):Zu(Ln,d.stateNode));break;case 4:m=Ln,A=Gr,Ln=d.stateNode.containerInfo,Gr=!0,qi(t,a,d),Ln=m,Gr=A;break;case 0:case 11:case 14:case 15:if(!Xn&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){A=m=m.next;do{var T=A,_=T.destroy;T=T.tag,_!==void 0&&(T&2||T&4)&&Dc(d,a,_),A=A.next}while(A!==m)}qi(t,a,d);break;case 1:if(!Xn&&(go(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(W){rn(d,a,W)}qi(t,a,d);break;case 21:qi(t,a,d);break;case 22:d.mode&1?(Xn=(m=Xn)||d.memoizedState!==null,qi(t,a,d),Xn=m):qi(t,a,d);break;default:qi(t,a,d)}}function c0(t){var a=t.updateQueue;if(a!==null){t.updateQueue=null;var d=t.stateNode;d===null&&(d=t.stateNode=new bx),a.forEach(function(m){var A=Bx.bind(null,t,m);d.has(m)||(d.add(m),m.then(A,A))})}}function Yr(t,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var A=d[m];try{var T=t,_=a,W=_;e:for(;W!==null;){switch(W.tag){case 5:Ln=W.stateNode,Gr=!1;break e;case 3:Ln=W.stateNode.containerInfo,Gr=!0;break e;case 4:Ln=W.stateNode.containerInfo,Gr=!0;break e}W=W.return}if(Ln===null)throw Error(s(160));u0(T,_,A),Ln=null,Gr=!1;var Y=A.alternate;Y!==null&&(Y.return=null),A.return=null}catch(ae){rn(A,a,ae)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)f0(a,t),a=a.sibling}function f0(t,a){var d=t.alternate,m=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yr(a,t),ii(t),m&4){try{pa(3,t,t.return),Fl(3,t)}catch(je){rn(t,t.return,je)}try{pa(5,t,t.return)}catch(je){rn(t,t.return,je)}}break;case 1:Yr(a,t),ii(t),m&512&&d!==null&&go(d,d.return);break;case 5:if(Yr(a,t),ii(t),m&512&&d!==null&&go(d,d.return),t.flags&32){var A=t.stateNode;try{jn(A,"")}catch(je){rn(t,t.return,je)}}if(m&4&&(A=t.stateNode,A!=null)){var T=t.memoizedProps,_=d!==null?d.memoizedProps:T,W=t.type,Y=t.updateQueue;if(t.updateQueue=null,Y!==null)try{W==="input"&&T.type==="radio"&&T.name!=null&&fr(A,T),Lt(W,_);var ae=Lt(W,T);for(_=0;_<Y.length;_+=2){var xe=Y[_],ye=Y[_+1];xe==="style"?Te(A,ye):xe==="dangerouslySetInnerHTML"?Et(A,ye):xe==="children"?jn(A,ye):V(A,xe,ye,ae)}switch(W){case"input":Vt(A,T);break;case"textarea":Ge(A,T);break;case"select":var pe=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!T.multiple;var De=T.value;De!=null?Ce(A,!!T.multiple,De,!1):pe!==!!T.multiple&&(T.defaultValue!=null?Ce(A,!!T.multiple,T.defaultValue,!0):Ce(A,!!T.multiple,T.multiple?[]:"",!1))}A[ra]=T}catch(je){rn(t,t.return,je)}}break;case 6:if(Yr(a,t),ii(t),m&4){if(t.stateNode===null)throw Error(s(162));A=t.stateNode,T=t.memoizedProps;try{A.nodeValue=T}catch(je){rn(t,t.return,je)}}break;case 3:if(Yr(a,t),ii(t),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Ur(a.containerInfo)}catch(je){rn(t,t.return,je)}break;case 4:Yr(a,t),ii(t);break;case 13:Yr(a,t),ii(t),A=t.child,A.flags&8192&&(T=A.memoizedState!==null,A.stateNode.isHidden=T,!T||A.alternate!==null&&A.alternate.memoizedState!==null||(Fc=bt())),m&4&&c0(t);break;case 22:if(xe=d!==null&&d.memoizedState!==null,t.mode&1?(Xn=(ae=Xn)||xe,Yr(a,t),Xn=ae):Yr(a,t),ii(t),m&8192){if(ae=t.memoizedState!==null,(t.stateNode.isHidden=ae)&&!xe&&t.mode&1)for(Le=t,xe=t.child;xe!==null;){for(ye=Le=xe;Le!==null;){switch(pe=Le,De=pe.child,pe.tag){case 0:case 11:case 14:case 15:pa(4,pe,pe.return);break;case 1:go(pe,pe.return);var ke=pe.stateNode;if(typeof ke.componentWillUnmount=="function"){m=pe,d=pe.return;try{a=m,ke.props=a.memoizedProps,ke.state=a.memoizedState,ke.componentWillUnmount()}catch(je){rn(m,d,je)}}break;case 5:go(pe,pe.return);break;case 22:if(pe.memoizedState!==null){p0(ye);continue}}De!==null?(De.return=pe,Le=De):p0(ye)}xe=xe.sibling}e:for(xe=null,ye=t;;){if(ye.tag===5){if(xe===null){xe=ye;try{A=ye.stateNode,ae?(T=A.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(W=ye.stateNode,Y=ye.memoizedProps.style,_=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=Rt("display",_))}catch(je){rn(t,t.return,je)}}}else if(ye.tag===6){if(xe===null)try{ye.stateNode.nodeValue=ae?"":ye.memoizedProps}catch(je){rn(t,t.return,je)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===t)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===t)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===t)break e;xe===ye&&(xe=null),ye=ye.return}xe===ye&&(xe=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Yr(a,t),ii(t),m&4&&c0(t);break;case 21:break;default:Yr(a,t),ii(t)}}function ii(t){var a=t.flags;if(a&2){try{e:{for(var d=t.return;d!==null;){if(a0(d)){var m=d;break e}d=d.return}throw Error(s(160))}switch(m.tag){case 5:var A=m.stateNode;m.flags&32&&(jn(A,""),m.flags&=-33);var T=l0(t);Lc(t,T,A);break;case 3:case 4:var _=m.stateNode.containerInfo,W=l0(t);Pc(t,W,_);break;default:throw Error(s(161))}}catch(Y){rn(t,t.return,Y)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Rx(t,a,d){Le=t,d0(t)}function d0(t,a,d){for(var m=(t.mode&1)!==0;Le!==null;){var A=Le,T=A.child;if(A.tag===22&&m){var _=A.memoizedState!==null||Bl;if(!_){var W=A.alternate,Y=W!==null&&W.memoizedState!==null||Xn;W=Bl;var ae=Xn;if(Bl=_,(Xn=Y)&&!ae)for(Le=A;Le!==null;)_=Le,Y=_.child,_.tag===22&&_.memoizedState!==null?g0(A):Y!==null?(Y.return=_,Le=Y):g0(A);for(;T!==null;)Le=T,d0(T),T=T.sibling;Le=A,Bl=W,Xn=ae}h0(t)}else A.subtreeFlags&8772&&T!==null?(T.return=A,Le=T):h0(t)}}function h0(t){for(;Le!==null;){var a=Le;if(a.flags&8772){var d=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Xn||Fl(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Xn)if(d===null)m.componentDidMount();else{var A=a.elementType===a.type?d.memoizedProps:Hr(a.type,d.memoizedProps);m.componentDidUpdate(A,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&ph(a,T,m);break;case 3:var _=a.updateQueue;if(_!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}ph(a,_,d)}break;case 5:var W=a.stateNode;if(d===null&&a.flags&4){d=W;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&d.focus();break;case"img":Y.src&&(d.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ae=a.alternate;if(ae!==null){var xe=ae.memoizedState;if(xe!==null){var ye=xe.dehydrated;ye!==null&&Ur(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Xn||a.flags&512&&Oc(a)}catch(pe){rn(a,a.return,pe)}}if(a===t){Le=null;break}if(d=a.sibling,d!==null){d.return=a.return,Le=d;break}Le=a.return}}function p0(t){for(;Le!==null;){var a=Le;if(a===t){Le=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Le=d;break}Le=a.return}}function g0(t){for(;Le!==null;){var a=Le;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Fl(4,a)}catch(Y){rn(a,d,Y)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var A=a.return;try{m.componentDidMount()}catch(Y){rn(a,A,Y)}}var T=a.return;try{Oc(a)}catch(Y){rn(a,T,Y)}break;case 5:var _=a.return;try{Oc(a)}catch(Y){rn(a,_,Y)}}}catch(Y){rn(a,a.return,Y)}if(a===t){Le=null;break}var W=a.sibling;if(W!==null){W.return=a.return,Le=W;break}Le=a.return}}var Mx=Math.ceil,jl=te.ReactCurrentDispatcher,kc=te.ReactCurrentOwner,Pr=te.ReactCurrentBatchConfig,vt=0,bn=null,gn=null,kn=0,vr=0,mo=Xi(0),An=0,ga=null,Os=0,Ul=0,Bc=0,ma=null,ar=null,Fc=0,xo=1/0,bi=null,zl=!1,jc=null,Ji=null,Vl=!1,es=null,Wl=0,xa=0,Uc=null,Hl=-1,Gl=0;function qn(){return vt&6?bt():Hl!==-1?Hl:Hl=bt()}function ts(t){return t.mode&1?vt&2&&kn!==0?kn&-kn:hx.transition!==null?(Gl===0&&(Gl=yn()),Gl):(t=ot,t!==0||(t=window.event,t=t===void 0?16:Ho(t.type)),t):1}function Xr(t,a,d,m){if(50<xa)throw xa=0,Uc=null,Error(s(185));j(t,d,m),(!(vt&2)||t!==bn)&&(t===bn&&(!(vt&2)&&(Ul|=d),An===4&&ns(t,kn)),lr(t,m),d===1&&vt===0&&!(a.mode&1)&&(xo=bt()+500,wl&&Ki()))}function lr(t,a){var d=t.callbackNode;ki(t,a);var m=gr(t,t===bn?kn:0);if(m===0)d!==null&&Sn(d),t.callbackNode=null,t.callbackPriority=0;else if(a=m&-m,t.callbackPriority!==a){if(d!=null&&Sn(d),a===1)t.tag===0?dx(x0.bind(null,t)):nh(x0.bind(null,t)),lx(function(){!(vt&6)&&Ki()}),d=null;else{switch(el(m)){case 1:d=he;break;case 4:d=qa;break;case 16:d=Ot;break;case 536870912:d=Ja;break;default:d=Ot}d=T0(d,m0.bind(null,t))}t.callbackPriority=a,t.callbackNode=d}}function m0(t,a){if(Hl=-1,Gl=0,vt&6)throw Error(s(327));var d=t.callbackNode;if(yo()&&t.callbackNode!==d)return null;var m=gr(t,t===bn?kn:0);if(m===0)return null;if(m&30||m&t.expiredLanes||a)a=Yl(t,m);else{a=m;var A=vt;vt|=2;var T=w0();(bn!==t||kn!==a)&&(bi=null,xo=bt()+500,Ls(t,a));do try{Ox();break}catch(W){y0(t,W)}while(!0);ic(),jl.current=T,vt=A,gn!==null?a=0:(bn=null,kn=0,a=An)}if(a!==0){if(a===2&&(A=Nt(t),A!==0&&(m=A,a=zc(t,A))),a===1)throw d=ga,Ls(t,0),ns(t,m),lr(t,bt()),d;if(a===6)ns(t,m);else{if(A=t.current.alternate,!(m&30)&&!_x(A)&&(a=Yl(t,m),a===2&&(T=Nt(t),T!==0&&(m=T,a=zc(t,T))),a===1))throw d=ga,Ls(t,0),ns(t,m),lr(t,bt()),d;switch(t.finishedWork=A,t.finishedLanes=m,a){case 0:case 1:throw Error(s(345));case 2:ks(t,ar,bi);break;case 3:if(ns(t,m),(m&130023424)===m&&(a=Fc+500-bt(),10<a)){if(gr(t,0)!==0)break;if(A=t.suspendedLanes,(A&m)!==m){qn(),t.pingedLanes|=t.suspendedLanes&A;break}t.timeoutHandle=Xu(ks.bind(null,t,ar,bi),a);break}ks(t,ar,bi);break;case 4:if(ns(t,m),(m&4194240)===m)break;for(a=t.eventTimes,A=-1;0<m;){var _=31-Qn(m);T=1<<_,_=a[_],_>A&&(A=_),m&=~T}if(m=A,m=bt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Mx(m/1960))-m,10<m){t.timeoutHandle=Xu(ks.bind(null,t,ar,bi),m);break}ks(t,ar,bi);break;case 5:ks(t,ar,bi);break;default:throw Error(s(329))}}}return lr(t,bt()),t.callbackNode===d?m0.bind(null,t):null}function zc(t,a){var d=ma;return t.current.memoizedState.isDehydrated&&(Ls(t,a).flags|=256),t=Yl(t,a),t!==2&&(a=ar,ar=d,a!==null&&Vc(a)),t}function Vc(t){ar===null?ar=t:ar.push.apply(ar,t)}function _x(t){for(var a=t;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var A=d[m],T=A.getSnapshot;A=A.value;try{if(!Q(T(),A))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ns(t,a){for(a&=~Bc,a&=~Ul,t.suspendedLanes|=a,t.pingedLanes&=~a,t=t.expirationTimes;0<a;){var d=31-Qn(a),m=1<<d;t[d]=-1,a&=~m}}function x0(t){if(vt&6)throw Error(s(327));yo();var a=gr(t,0);if(!(a&1))return lr(t,bt()),null;var d=Yl(t,a);if(t.tag!==0&&d===2){var m=Nt(t);m!==0&&(a=m,d=zc(t,m))}if(d===1)throw d=ga,Ls(t,0),ns(t,a),lr(t,bt()),d;if(d===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=a,ks(t,ar,bi),lr(t,bt()),null}function Wc(t,a){var d=vt;vt|=1;try{return t(a)}finally{vt=d,vt===0&&(xo=bt()+500,wl&&Ki())}}function Ps(t){es!==null&&es.tag===0&&!(vt&6)&&yo();var a=vt;vt|=1;var d=Pr.transition,m=ot;try{if(Pr.transition=null,ot=1,t)return t()}finally{ot=m,Pr.transition=d,vt=a,!(vt&6)&&Ki()}}function Hc(){vr=mo.current,Ht(mo)}function Ls(t,a){t.finishedWork=null,t.finishedLanes=0;var d=t.timeoutHandle;if(d!==-1&&(t.timeoutHandle=-1,ax(d)),gn!==null)for(d=gn.return;d!==null;){var m=d;switch(Ju(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&xl();break;case 3:ho(),Ht(ir),Ht(Hn),dc();break;case 5:cc(m);break;case 4:ho();break;case 13:Ht($t);break;case 19:Ht($t);break;case 10:sc(m.type._context);break;case 22:case 23:Hc()}d=d.return}if(bn=t,gn=t=rs(t.current,null),kn=vr=a,An=0,ga=null,Bc=Ul=Os=0,ar=ma=null,Ms!==null){for(a=0;a<Ms.length;a++)if(d=Ms[a],m=d.interleaved,m!==null){d.interleaved=null;var A=m.next,T=d.pending;if(T!==null){var _=T.next;T.next=A,m.next=_}d.pending=m}Ms=null}return t}function y0(t,a){do{var d=gn;try{if(ic(),Rl.current=Ol,Ml){for(var m=qt.memoizedState;m!==null;){var A=m.queue;A!==null&&(A.pending=null),m=m.next}Ml=!1}if(Ds=0,In=En=qt=null,ua=!1,ca=0,kc.current=null,d===null||d.return===null){An=1,ga=a,gn=null;break}e:{var T=t,_=d.return,W=d,Y=a;if(a=kn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ae=Y,xe=W,ye=xe.tag;if(!(xe.mode&1)&&(ye===0||ye===11||ye===15)){var pe=xe.alternate;pe?(xe.updateQueue=pe.updateQueue,xe.memoizedState=pe.memoizedState,xe.lanes=pe.lanes):(xe.updateQueue=null,xe.memoizedState=null)}var De=Wh(_);if(De!==null){De.flags&=-257,Hh(De,_,W,T,a),De.mode&1&&Vh(T,ae,a),a=De,Y=ae;var ke=a.updateQueue;if(ke===null){var je=new Set;je.add(Y),a.updateQueue=je}else ke.add(Y);break e}else{if(!(a&1)){Vh(T,ae,a),Gc();break e}Y=Error(s(426))}}else if(Zt&&W.mode&1){var dn=Wh(_);if(dn!==null){!(dn.flags&65536)&&(dn.flags|=256),Hh(dn,_,W,T,a),nc(po(Y,W));break e}}T=Y=po(Y,W),An!==4&&(An=2),ma===null?ma=[T]:ma.push(T),T=_;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var J=Uh(T,Y,a);hh(T,J);break e;case 1:W=Y;var K=T.type,ie=T.stateNode;if(!(T.flags&128)&&(typeof K.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Ji===null||!Ji.has(ie)))){T.flags|=65536,a&=-a,T.lanes|=a;var Se=zh(T,W,a);hh(T,Se);break e}}T=T.return}while(T!==null)}v0(d)}catch(Ue){a=Ue,gn===d&&d!==null&&(gn=d=d.return);continue}break}while(!0)}function w0(){var t=jl.current;return jl.current=Ol,t===null?Ol:t}function Gc(){(An===0||An===3||An===2)&&(An=4),bn===null||!(Os&268435455)&&!(Ul&268435455)||ns(bn,kn)}function Yl(t,a){var d=vt;vt|=2;var m=w0();(bn!==t||kn!==a)&&(bi=null,Ls(t,a));do try{Dx();break}catch(A){y0(t,A)}while(!0);if(ic(),vt=d,jl.current=m,gn!==null)throw Error(s(261));return bn=null,kn=0,An}function Dx(){for(;gn!==null;)C0(gn)}function Ox(){for(;gn!==null&&!kt();)C0(gn)}function C0(t){var a=S0(t.alternate,t,vr);t.memoizedProps=t.pendingProps,a===null?v0(t):gn=a,kc.current=null}function v0(t){var a=t;do{var d=a.alternate;if(t=a.return,a.flags&32768){if(d=Ix(d,a),d!==null){d.flags&=32767,gn=d;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{An=6,gn=null;return}}else if(d=Tx(d,a,vr),d!==null){gn=d;return}if(a=a.sibling,a!==null){gn=a;return}gn=a=t}while(a!==null);An===0&&(An=5)}function ks(t,a,d){var m=ot,A=Pr.transition;try{Pr.transition=null,ot=1,Px(t,a,d,m)}finally{Pr.transition=A,ot=m}return null}function Px(t,a,d,m){do yo();while(es!==null);if(vt&6)throw Error(s(327));d=t.finishedWork;var A=t.finishedLanes;if(d===null)return null;if(t.finishedWork=null,t.finishedLanes=0,d===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var T=d.lanes|d.childLanes;if(ze(t,T),t===bn&&(gn=bn=null,kn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||Vl||(Vl=!0,T0(Ot,function(){return yo(),null})),T=(d.flags&15990)!==0,d.subtreeFlags&15990||T){T=Pr.transition,Pr.transition=null;var _=ot;ot=1;var W=vt;vt|=4,kc.current=null,Nx(t,d),f0(d,t),Wn(Gu),Jr=!!Hu,Gu=Hu=null,t.current=d,Rx(d),$a(),vt=W,ot=_,Pr.transition=T}else t.current=d;if(Vl&&(Vl=!1,es=t,Wl=A),T=t.pendingLanes,T===0&&(Ji=null),ht(d.stateNode),lr(t,bt()),a!==null)for(m=t.onRecoverableError,d=0;d<a.length;d++)A=a[d],m(A.value,{componentStack:A.stack,digest:A.digest});if(zl)throw zl=!1,t=jc,jc=null,t;return Wl&1&&t.tag!==0&&yo(),T=t.pendingLanes,T&1?t===Uc?xa++:(xa=0,Uc=t):xa=0,Ki(),null}function yo(){if(es!==null){var t=el(Wl),a=Pr.transition,d=ot;try{if(Pr.transition=null,ot=16>t?16:t,es===null)var m=!1;else{if(t=es,es=null,Wl=0,vt&6)throw Error(s(331));var A=vt;for(vt|=4,Le=t.current;Le!==null;){var T=Le,_=T.child;if(Le.flags&16){var W=T.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var ae=W[Y];for(Le=ae;Le!==null;){var xe=Le;switch(xe.tag){case 0:case 11:case 15:pa(8,xe,T)}var ye=xe.child;if(ye!==null)ye.return=xe,Le=ye;else for(;Le!==null;){xe=Le;var pe=xe.sibling,De=xe.return;if(o0(xe),xe===ae){Le=null;break}if(pe!==null){pe.return=De,Le=pe;break}Le=De}}}var ke=T.alternate;if(ke!==null){var je=ke.child;if(je!==null){ke.child=null;do{var dn=je.sibling;je.sibling=null,je=dn}while(je!==null)}}Le=T}}if(T.subtreeFlags&2064&&_!==null)_.return=T,Le=_;else e:for(;Le!==null;){if(T=Le,T.flags&2048)switch(T.tag){case 0:case 11:case 15:pa(9,T,T.return)}var J=T.sibling;if(J!==null){J.return=T.return,Le=J;break e}Le=T.return}}var K=t.current;for(Le=K;Le!==null;){_=Le;var ie=_.child;if(_.subtreeFlags&2064&&ie!==null)ie.return=_,Le=ie;else e:for(_=K;Le!==null;){if(W=Le,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Fl(9,W)}}catch(Ue){rn(W,W.return,Ue)}if(W===_){Le=null;break e}var Se=W.sibling;if(Se!==null){Se.return=W.return,Le=Se;break e}Le=W.return}}if(vt=A,Ki(),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(xt,t)}catch{}m=!0}return m}finally{ot=d,Pr.transition=a}}return!1}function E0(t,a,d){a=po(d,a),a=Uh(t,a,1),t=$i(t,a,1),a=qn(),t!==null&&(j(t,1,a),lr(t,a))}function rn(t,a,d){if(t.tag===3)E0(t,t,d);else for(;a!==null;){if(a.tag===3){E0(a,t,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ji===null||!Ji.has(m))){t=po(d,t),t=zh(a,t,1),a=$i(a,t,1),t=qn(),a!==null&&(j(a,1,t),lr(a,t));break}}a=a.return}}function Lx(t,a,d){var m=t.pingCache;m!==null&&m.delete(a),a=qn(),t.pingedLanes|=t.suspendedLanes&d,bn===t&&(kn&d)===d&&(An===4||An===3&&(kn&130023424)===kn&&500>bt()-Fc?Ls(t,0):Bc|=d),lr(t,a)}function A0(t,a){a===0&&(t.mode&1?(a=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):a=1);var d=qn();t=Si(t,a),t!==null&&(j(t,a,d),lr(t,d))}function kx(t){var a=t.memoizedState,d=0;a!==null&&(d=a.retryLane),A0(t,d)}function Bx(t,a){var d=0;switch(t.tag){case 13:var m=t.stateNode,A=t.memoizedState;A!==null&&(d=A.retryLane);break;case 19:m=t.stateNode;break;default:throw Error(s(314))}m!==null&&m.delete(a),A0(t,d)}var S0;S0=function(t,a,d){if(t!==null)if(t.memoizedProps!==a.pendingProps||ir.current)or=!0;else{if(!(t.lanes&d)&&!(a.flags&128))return or=!1,Sx(t,a,d);or=!!(t.flags&131072)}else or=!1,Zt&&a.flags&1048576&&rh(a,vl,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;kl(t,a),t=a.pendingProps;var A=so(a,Hn.current);fo(a,d),A=gc(null,a,m,t,A,d);var T=mc();return a.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,sr(m)?(T=!0,yl(a)):T=!1,a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,lc(a),A.updater=Pl,a.stateNode=A,A._reactInternals=a,Ec(a,m,t,d),a=Ic(null,a,m,!0,T,d)):(a.tag=0,Zt&&T&&qu(a),$n(null,a,A,d),a=a.child),a;case 16:m=a.elementType;e:{switch(kl(t,a),t=a.pendingProps,A=m._init,m=A(m._payload),a.type=m,A=a.tag=jx(m),t=Hr(m,t),A){case 0:a=Tc(null,a,m,t,d);break e;case 1:a=Qh(null,a,m,t,d);break e;case 11:a=Gh(null,a,m,t,d);break e;case 14:a=Yh(null,a,m,Hr(m.type,t),d);break e}throw Error(s(306,m,""))}return a;case 0:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Hr(m,A),Tc(t,a,m,A,d);case 1:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Hr(m,A),Qh(t,a,m,A,d);case 3:e:{if($h(a),t===null)throw Error(s(387));m=a.pendingProps,T=a.memoizedState,A=T.element,dh(t,a),bl(a,m,null,d);var _=a.memoizedState;if(m=_.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){A=po(Error(s(423)),a),a=qh(t,a,m,d,A);break e}else if(m!==A){A=po(Error(s(424)),a),a=qh(t,a,m,d,A);break e}else for(Cr=Yi(a.stateNode.containerInfo.firstChild),wr=a,Zt=!0,Wr=null,d=ch(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(lo(),m===A){a=Ii(t,a,d);break e}$n(t,a,m,d)}a=a.child}return a;case 5:return gh(a),t===null&&tc(a),m=a.type,A=a.pendingProps,T=t!==null?t.memoizedProps:null,_=A.children,Yu(m,A)?_=null:T!==null&&Yu(m,T)&&(a.flags|=32),Kh(t,a),$n(t,a,_,d),a.child;case 6:return t===null&&tc(a),null;case 13:return Jh(t,a,d);case 4:return uc(a,a.stateNode.containerInfo),m=a.pendingProps,t===null?a.child=uo(a,null,m,d):$n(t,a,m,d),a.child;case 11:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Hr(m,A),Gh(t,a,m,A,d);case 7:return $n(t,a,a.pendingProps,d),a.child;case 8:return $n(t,a,a.pendingProps.children,d),a.child;case 12:return $n(t,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,A=a.pendingProps,T=a.memoizedProps,_=A.value,jt(Sl,m._currentValue),m._currentValue=_,T!==null)if(Q(T.value,_)){if(T.children===A.children&&!ir.current){a=Ii(t,a,d);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var W=T.dependencies;if(W!==null){_=T.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===m){if(T.tag===1){Y=Ti(-1,d&-d),Y.tag=2;var ae=T.updateQueue;if(ae!==null){ae=ae.shared;var xe=ae.pending;xe===null?Y.next=Y:(Y.next=xe.next,xe.next=Y),ae.pending=Y}}T.lanes|=d,Y=T.alternate,Y!==null&&(Y.lanes|=d),oc(T.return,d,a),W.lanes|=d;break}Y=Y.next}}else if(T.tag===10)_=T.type===a.type?null:T.child;else if(T.tag===18){if(_=T.return,_===null)throw Error(s(341));_.lanes|=d,W=_.alternate,W!==null&&(W.lanes|=d),oc(_,d,a),_=T.sibling}else _=T.child;if(_!==null)_.return=T;else for(_=T;_!==null;){if(_===a){_=null;break}if(T=_.sibling,T!==null){T.return=_.return,_=T;break}_=_.return}T=_}$n(t,a,A.children,d),a=a.child}return a;case 9:return A=a.type,m=a.pendingProps.children,fo(a,d),A=Dr(A),m=m(A),a.flags|=1,$n(t,a,m,d),a.child;case 14:return m=a.type,A=Hr(m,a.pendingProps),A=Hr(m.type,A),Yh(t,a,m,A,d);case 15:return Xh(t,a,a.type,a.pendingProps,d);case 17:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Hr(m,A),kl(t,a),a.tag=1,sr(m)?(t=!0,yl(a)):t=!1,fo(a,d),Fh(a,m,A),Ec(a,m,A,d),Ic(null,a,m,!0,t,d);case 19:return t0(t,a,d);case 22:return Zh(t,a,d)}throw Error(s(156,a.tag))};function T0(t,a){return hr(t,a)}function Fx(t,a,d,m){this.tag=t,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,a,d,m){return new Fx(t,a,d,m)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jx(t){if(typeof t=="function")return Yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ie)return 11;if(t===re)return 14}return 2}function rs(t,a){var d=t.alternate;return d===null?(d=Lr(t.tag,a,t.key,t.mode),d.elementType=t.elementType,d.type=t.type,d.stateNode=t.stateNode,d.alternate=t,t.alternate=d):(d.pendingProps=a,d.type=t.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=t.flags&14680064,d.childLanes=t.childLanes,d.lanes=t.lanes,d.child=t.child,d.memoizedProps=t.memoizedProps,d.memoizedState=t.memoizedState,d.updateQueue=t.updateQueue,a=t.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=t.sibling,d.index=t.index,d.ref=t.ref,d}function Xl(t,a,d,m,A,T){var _=2;if(m=t,typeof t=="function")Yc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case $:return Bs(d.children,A,T,a);case ue:_=8,A|=8;break;case ee:return t=Lr(12,d,a,A|2),t.elementType=ee,t.lanes=T,t;case be:return t=Lr(13,d,a,A),t.elementType=be,t.lanes=T,t;case Ve:return t=Lr(19,d,a,A),t.elementType=Ve,t.lanes=T,t;case me:return Zl(d,A,T,a);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Oe:_=10;break e;case Be:_=9;break e;case Ie:_=11;break e;case re:_=14;break e;case Me:_=16,m=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return a=Lr(_,d,a,A),a.elementType=t,a.type=m,a.lanes=T,a}function Bs(t,a,d,m){return t=Lr(7,t,m,a),t.lanes=d,t}function Zl(t,a,d,m){return t=Lr(22,t,m,a),t.elementType=me,t.lanes=d,t.stateNode={isHidden:!1},t}function Xc(t,a,d){return t=Lr(6,t,null,a),t.lanes=d,t}function Zc(t,a,d){return a=Lr(4,t.children!==null?t.children:[],t.key,a),a.lanes=d,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}function Ux(t,a,d,m,A){this.tag=a,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=q(0),this.expirationTimes=q(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=q(0),this.identifierPrefix=m,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Kc(t,a,d,m,A,T,_,W,Y){return t=new Ux(t,a,d,W,Y),a===1?(a=1,T===!0&&(a|=8)):a=0,T=Lr(3,null,null,a),t.current=T,T.stateNode=t,T.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},lc(T),t}function zx(t,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:m==null?null:""+m,children:t,containerInfo:a,implementation:d}}function I0(t){if(!t)return Zi;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(s(170));var a=t;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(sr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(t.tag===1){var d=t.type;if(sr(d))return eh(t,d,a)}return a}function b0(t,a,d,m,A,T,_,W,Y){return t=Kc(d,m,!0,t,A,T,_,W,Y),t.context=I0(null),d=t.current,m=qn(),A=ts(d),T=Ti(m,A),T.callback=a??null,$i(d,T,A),t.current.lanes=A,j(t,A,m),lr(t,m),t}function Kl(t,a,d,m){var A=a.current,T=qn(),_=ts(A);return d=I0(d),a.context===null?a.context=d:a.pendingContext=d,a=Ti(T,_),a.payload={element:t},m=m===void 0?null:m,m!==null&&(a.callback=m),t=$i(A,a,_),t!==null&&(Xr(t,A,_,T),Il(t,A,_)),_}function Ql(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N0(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var d=t.retryLane;t.retryLane=d!==0&&d<a?d:a}}function Qc(t,a){N0(t,a),(t=t.alternate)&&N0(t,a)}function Vx(){return null}var R0=typeof reportError=="function"?reportError:function(t){console.error(t)};function $c(t){this._internalRoot=t}$l.prototype.render=$c.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(s(409));Kl(t,a,null,null)},$l.prototype.unmount=$c.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;Ps(function(){Kl(null,t,null,null)}),a[Ci]=null}};function $l(t){this._internalRoot=t}$l.prototype.unstable_scheduleHydration=function(t){if(t){var a=Bt();t={blockedOn:null,target:t,priority:a};for(var d=0;d<Dn.length&&a!==0&&a<Dn[d].priority;d++);Dn.splice(d,0,t),d===0&&nl(t)}};function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ql(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function M0(){}function Wx(t,a,d,m,A){if(A){if(typeof m=="function"){var T=m;m=function(){var ae=Ql(_);T.call(ae)}}var _=b0(a,m,t,0,null,!1,!1,"",M0);return t._reactRootContainer=_,t[Ci]=_.current,ta(t.nodeType===8?t.parentNode:t),Ps(),_}for(;A=t.lastChild;)t.removeChild(A);if(typeof m=="function"){var W=m;m=function(){var ae=Ql(Y);W.call(ae)}}var Y=Kc(t,0,!1,null,null,!1,!1,"",M0);return t._reactRootContainer=Y,t[Ci]=Y.current,ta(t.nodeType===8?t.parentNode:t),Ps(function(){Kl(a,Y,d,m)}),Y}function Jl(t,a,d,m,A){var T=d._reactRootContainer;if(T){var _=T;if(typeof A=="function"){var W=A;A=function(){var Y=Ql(_);W.call(Y)}}Kl(a,_,t,A)}else _=Wx(d,a,t,A,m);return Ql(_)}Zs=function(t){switch(t.tag){case 3:var a=t.stateNode;if(a.current.memoizedState.isDehydrated){var d=Pt(a.pendingLanes);d!==0&&(tn(a,d|1),lr(a,bt()),!(vt&6)&&(xo=bt()+500,Ki()))}break;case 13:Ps(function(){var m=Si(t,1);if(m!==null){var A=qn();Xr(m,t,1,A)}}),Qc(t,1)}},Vn=function(t){if(t.tag===13){var a=Si(t,134217728);if(a!==null){var d=qn();Xr(a,t,134217728,d)}Qc(t,134217728)}},We=function(t){if(t.tag===13){var a=ts(t),d=Si(t,a);if(d!==null){var m=qn();Xr(d,t,a,m)}Qc(t,a)}},Bt=function(){return ot},zo=function(t,a){var d=ot;try{return ot=t,a()}finally{ot=d}},Gs=function(t,a,d){switch(a){case"input":if(Vt(t,d),a=d.name,d.type==="radio"&&a!=null){for(d=t;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==t&&m.form===t.form){var A=ml(m);if(!A)throw Error(s(90));cr(m),Vt(m,A)}}}break;case"textarea":Ge(t,d);break;case"select":a=d.value,a!=null&&Ce(t,!!d.multiple,a,!1)}},Ys=Wc,xn=Ps;var Hx={usingClientEntryPoint:!1,Events:[ia,ro,ml,Po,nr,Wc]},ya={findFiberByHostInstance:Is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Gx={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ka(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||Vx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{xt=eu.inject(Gx),st=eu}catch{}}return ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx,ur.createPortal=function(t,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(a))throw Error(s(200));return zx(t,a,null,d)},ur.createRoot=function(t,a){if(!qc(t))throw Error(s(299));var d=!1,m="",A=R0;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=Kc(t,1,!1,null,null,d,!1,m,A),t[Ci]=a.current,ta(t.nodeType===8?t.parentNode:t),new $c(a)},ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=Ka(a),t=t===null?null:t.stateNode,t},ur.flushSync=function(t){return Ps(t)},ur.hydrate=function(t,a,d){if(!ql(a))throw Error(s(200));return Jl(null,t,a,!0,d)},ur.hydrateRoot=function(t,a,d){if(!qc(t))throw Error(s(405));var m=d!=null&&d.hydratedSources||null,A=!1,T="",_=R0;if(d!=null&&(d.unstable_strictMode===!0&&(A=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&(_=d.onRecoverableError)),a=b0(a,null,t,1,d??null,A,!1,T,_),t[Ci]=a.current,ta(t),m)for(t=0;t<m.length;t++)d=m[t],A=d._getVersion,A=A(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,A]:a.mutableSourceEagerHydrationData.push(d,A);return new $l(a)},ur.render=function(t,a,d){if(!ql(a))throw Error(s(200));return Jl(null,t,a,!1,d)},ur.unmountComponentAtNode=function(t){if(!ql(t))throw Error(s(40));return t._reactRootContainer?(Ps(function(){Jl(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1},ur.unstable_batchedUpdates=Wc,ur.unstable_renderSubtreeIntoContainer=function(t,a,d,m){if(!ql(d))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return Jl(t,a,d,!1,m)},ur.version="18.3.1-next-f1338f8080-20240426",ur}var F0;function e2(){if(F0)return tf.exports;F0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),tf.exports=Jx(),tf.exports}var j0;function t2(){if(j0)return nu;j0=1;var r=e2();return nu.createRoot=r.createRoot,nu.hydrateRoot=r.hydrateRoot,nu}var n2=t2();const fi=L.createContext(null),r2=({children:r})=>{const[i,s]=L.useState(null),[c,h]=L.useState(null),[p,w]=L.useState(null),[E,C]=L.useState(null),[x,S]=L.useState(!1),[I,N]=L.useState(null),O=async()=>{const z=localStorage.getItem("access_token");if(z)try{const H=await fetch(window.server_url+"/load_user",{headers:{Authorization:`Bearer ${z}`}});if(H.ok){S(!0);const V=await H.json();console.log("USER DATA:",V),s(V.username),h(V.profile),N(V.permissions),console.log("PERMISSIONS:",V.permissions)}else console.log("TOKEN INVALID"),localStorage.removeItem("token"),s(null),h(null),w(null),C(null),S(!1)}catch(H){console.log("ERROR:",H)}};L.useEffect(()=>{O()},[]);const k=z=>{s(z.username),w(z.access_token),C(z.refresh_token),N(z.permissions),console.log("PRE SAVE USERNAME:",z.username),localStorage.setItem("user",z.username),localStorage.setItem("access_token",z.access_token),localStorage.setItem("refresh_token",z.refresh_token)},B=async(z,H)=>{const V=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:z,password:H})});if(V.ok){const te=await V.json();console.log("SIGNED UP, userData:",te)}},F=()=>{s(null),h(null),w(null),C(null),S(!1)};return P.jsx(fi.Provider,{value:{user:i,login:k,signup:B,logout:F,userProfile:c,checkAuth:O,permissions:I},children:r})};var Sf=function(r,i){return Sf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])},Sf(r,i)};function i2(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Sf(r,i);function s(){this.constructor=r}r.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}var Bn=function(){return Bn=Object.assign||function(i){for(var s,c=1,h=arguments.length;c<h;c++){s=arguments[c];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(i[p]=s[p])}return i},Bn.apply(this,arguments)};var sf,U0;function s2(){if(U0)return sf;U0=1;var r=!1,i,s,c,h,p,w,E,C,x,S,I,N,O,k,B;function F(){if(!r){r=!0;var H=navigator.userAgent,V=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(H),te=/(Mac OS X)|(Windows)|(Linux)/.exec(H);if(N=/\b(iPhone|iP[ao]d)/.exec(H),O=/\b(iP[ao]d)/.exec(H),S=/Android/i.exec(H),k=/FBAN\/\w+;/i.exec(H),B=/Mobile/i.exec(H),I=!!/Win64/.exec(H),V){i=V[1]?parseFloat(V[1]):V[5]?parseFloat(V[5]):NaN,i&&document&&document.documentMode&&(i=document.documentMode);var le=/(?:Trident\/(\d+.\d+))/.exec(H);w=le?parseFloat(le[1])+4:i,s=V[2]?parseFloat(V[2]):NaN,c=V[3]?parseFloat(V[3]):NaN,h=V[4]?parseFloat(V[4]):NaN,h?(V=/(?:Chrome\/(\d+\.\d+))/.exec(H),p=V&&V[1]?parseFloat(V[1]):NaN):p=NaN}else i=s=c=p=h=NaN;if(te){if(te[1]){var ce=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(H);E=ce?parseFloat(ce[1].replace("_",".")):!0}else E=!1;C=!!te[2],x=!!te[3]}else E=C=x=!1}}var z={ie:function(){return F()||i},ieCompatibilityMode:function(){return F()||w>i},ie64:function(){return z.ie()&&I},firefox:function(){return F()||s},opera:function(){return F()||c},webkit:function(){return F()||h},safari:function(){return z.webkit()},chrome:function(){return F()||p},windows:function(){return F()||C},osx:function(){return F()||E},linux:function(){return F()||x},iphone:function(){return F()||N},mobile:function(){return F()||N||O||S||B},nativeApp:function(){return F()||k},android:function(){return F()||S},ipad:function(){return F()||O}};return sf=z,sf}var of,z0;function o2(){if(z0)return of;z0=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return of=i,of}var af,V0;function a2(){if(V0)return af;V0=1;var r=o2(),i;r.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function s(c,h){if(!r.canUseDOM||h&&!("addEventListener"in document))return!1;var p="on"+c,w=p in document;if(!w){var E=document.createElement("div");E.setAttribute(p,"return;"),w=typeof E[p]=="function"}return!w&&i&&c==="wheel"&&(w=document.implementation.hasFeature("Events.wheel","3.0")),w}return af=s,af}var lf,W0;function l2(){if(W0)return lf;W0=1;var r=s2(),i=a2(),s=10,c=40,h=800;function p(w){var E=0,C=0,x=0,S=0;return"detail"in w&&(C=w.detail),"wheelDelta"in w&&(C=-w.wheelDelta/120),"wheelDeltaY"in w&&(C=-w.wheelDeltaY/120),"wheelDeltaX"in w&&(E=-w.wheelDeltaX/120),"axis"in w&&w.axis===w.HORIZONTAL_AXIS&&(E=C,C=0),x=E*s,S=C*s,"deltaY"in w&&(S=w.deltaY),"deltaX"in w&&(x=w.deltaX),(x||S)&&w.deltaMode&&(w.deltaMode==1?(x*=c,S*=c):(x*=h,S*=h)),x&&!E&&(E=x<1?-1:1),S&&!C&&(C=S<1?-1:1),{spinX:E,spinY:C,pixelX:x,pixelY:S}}return p.getEventType=function(){return r.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},lf=p,lf}var uf,H0;function u2(){return H0||(H0=1,uf=l2()),uf}var c2=u2();const f2=Zf(c2);function d2(r,i,s,c,h,p){p===void 0&&(p=0);var w=Io(r,i,p),E=w.width,C=w.height,x=Math.min(E,s),S=Math.min(C,c);return x>S*h?{width:S*h,height:S}:{width:x,height:x/h}}function h2(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function Ca(r,i,s,c,h){h===void 0&&(h=0);var p=Io(i.width,i.height,h),w=p.width,E=p.height;return{x:G0(r.x,w,s.width,c),y:G0(r.y,E,s.height,c)}}function G0(r,i,s,c){var h=i*c/2-s/2;return Tu(r,-h,h)}function Y0(r,i){return Math.sqrt(Math.pow(r.y-i.y,2)+Math.pow(r.x-i.x,2))}function X0(r,i){return Math.atan2(i.y-r.y,i.x-r.x)*180/Math.PI}function p2(r,i,s,c,h,p,w){p===void 0&&(p=0),w===void 0&&(w=!0);var E=w?g2:m2,C=Io(i.width,i.height,p),x=Io(i.naturalWidth,i.naturalHeight,p),S={x:E(100,((C.width-s.width/h)/2-r.x/h)/C.width*100),y:E(100,((C.height-s.height/h)/2-r.y/h)/C.height*100),width:E(100,s.width/C.width*100/h),height:E(100,s.height/C.height*100/h)},I=Math.round(E(x.width,S.width*x.width/100)),N=Math.round(E(x.height,S.height*x.height/100)),O=x.width>=x.height*c,k=O?{width:Math.round(N*c),height:N}:{width:I,height:Math.round(I/c)},B=Bn(Bn({},k),{x:Math.round(E(x.width-k.width,S.x*x.width/100)),y:Math.round(E(x.height-k.height,S.y*x.height/100))});return{croppedAreaPercentages:S,croppedAreaPixels:B}}function g2(r,i){return Math.min(r,Math.max(0,i))}function m2(r,i){return i}function x2(r,i,s,c,h,p){var w=Io(i.width,i.height,s),E=Tu(c.width/w.width*(100/r.width),h,p),C={x:E*w.width/2-c.width/2-w.width*E*(r.x/100),y:E*w.height/2-c.height/2-w.height*E*(r.y/100)};return{crop:C,zoom:E}}function y2(r,i,s){var c=h2(i);return s.height>s.width?s.height/(r.height*c):s.width/(r.width*c)}function w2(r,i,s,c,h,p){s===void 0&&(s=0);var w=Io(i.naturalWidth,i.naturalHeight,s),E=Tu(y2(r,i,c),h,p),C=c.height>c.width?c.height/r.height:c.width/r.width,x={x:((w.width-r.width)/2-r.x)*C,y:((w.height-r.height)/2-r.y)*C};return{crop:x,zoom:E}}function Z0(r,i){return{x:(i.x+r.x)/2,y:(i.y+r.y)/2}}function C2(r){return r*Math.PI/180}function Io(r,i,s){var c=C2(s);return{width:Math.abs(Math.cos(c)*r)+Math.abs(Math.sin(c)*i),height:Math.abs(Math.sin(c)*r)+Math.abs(Math.cos(c)*i)}}function Tu(r,i,s){return Math.min(Math.max(r,i),s)}function ru(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return r.filter(function(s){return typeof s=="string"&&s.length>0}).join(" ").trim()}var v2=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,E2=1,A2=3,S2=1,Vp=function(r){i2(i,r);function i(){var s=r!==null&&r.apply(this,arguments)||this;return s.imageRef=L.createRef(),s.videoRef=L.createRef(),s.containerPosition={x:0,y:0},s.containerRef=null,s.styleRef=null,s.containerRect=null,s.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},s.dragStartPosition={x:0,y:0},s.dragStartCrop={x:0,y:0},s.gestureZoomStart=0,s.gestureRotationStart=0,s.isTouching=!1,s.lastPinchDistance=0,s.lastPinchRotation=0,s.rafDragTimeout=null,s.rafPinchTimeout=null,s.wheelTimer=null,s.currentDoc=typeof document<"u"?document:null,s.currentWindow=typeof window<"u"?window:null,s.resizeObserver=null,s.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},s.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!s.containerRef)){var c=!0;s.resizeObserver=new window.ResizeObserver(function(h){if(c){c=!1;return}s.computeSizes()}),s.resizeObserver.observe(s.containerRef)}},s.preventZoomSafari=function(c){return c.preventDefault()},s.cleanEvents=function(){s.currentDoc&&(s.currentDoc.removeEventListener("mousemove",s.onMouseMove),s.currentDoc.removeEventListener("mouseup",s.onDragStopped),s.currentDoc.removeEventListener("touchmove",s.onTouchMove),s.currentDoc.removeEventListener("touchend",s.onDragStopped),s.currentDoc.removeEventListener("gesturemove",s.onGestureMove),s.currentDoc.removeEventListener("gestureend",s.onGestureEnd),s.currentDoc.removeEventListener("scroll",s.onScroll))},s.clearScrollEvent=function(){s.containerRef&&s.containerRef.removeEventListener("wheel",s.onWheel),s.wheelTimer&&clearTimeout(s.wheelTimer)},s.onMediaLoad=function(){var c=s.computeSizes();c&&(s.emitCropData(),s.setInitialCrop(c)),s.props.onMediaLoaded&&s.props.onMediaLoaded(s.mediaSize)},s.setInitialCrop=function(c){if(s.props.initialCroppedAreaPercentages){var h=x2(s.props.initialCroppedAreaPercentages,s.mediaSize,s.props.rotation,c,s.props.minZoom,s.props.maxZoom),p=h.crop,w=h.zoom;s.props.onCropChange(p),s.props.onZoomChange&&s.props.onZoomChange(w)}else if(s.props.initialCroppedAreaPixels){var E=w2(s.props.initialCroppedAreaPixels,s.mediaSize,s.props.rotation,c,s.props.minZoom,s.props.maxZoom),p=E.crop,w=E.zoom;s.props.onCropChange(p),s.props.onZoomChange&&s.props.onZoomChange(w)}},s.computeSizes=function(){var c,h,p,w,E,C,x=s.imageRef.current||s.videoRef.current;if(x&&s.containerRef){s.containerRect=s.containerRef.getBoundingClientRect(),s.saveContainerPosition();var S=s.containerRect.width/s.containerRect.height,I=((c=s.imageRef.current)===null||c===void 0?void 0:c.naturalWidth)||((h=s.videoRef.current)===null||h===void 0?void 0:h.videoWidth)||0,N=((p=s.imageRef.current)===null||p===void 0?void 0:p.naturalHeight)||((w=s.videoRef.current)===null||w===void 0?void 0:w.videoHeight)||0,O=x.offsetWidth<I||x.offsetHeight<N,k=I/N,B=void 0;if(O)switch(s.state.mediaObjectFit){default:case"contain":B=S>k?{width:s.containerRect.height*k,height:s.containerRect.height}:{width:s.containerRect.width,height:s.containerRect.width/k};break;case"horizontal-cover":B={width:s.containerRect.width,height:s.containerRect.width/k};break;case"vertical-cover":B={width:s.containerRect.height*k,height:s.containerRect.height};break}else B={width:x.offsetWidth,height:x.offsetHeight};s.mediaSize=Bn(Bn({},B),{naturalWidth:I,naturalHeight:N}),s.props.setMediaSize&&s.props.setMediaSize(s.mediaSize);var F=s.props.cropSize?s.props.cropSize:d2(s.mediaSize.width,s.mediaSize.height,s.containerRect.width,s.containerRect.height,s.props.aspect,s.props.rotation);return(((E=s.state.cropSize)===null||E===void 0?void 0:E.height)!==F.height||((C=s.state.cropSize)===null||C===void 0?void 0:C.width)!==F.width)&&s.props.onCropSizeChange&&s.props.onCropSizeChange(F),s.setState({cropSize:F},s.recomputeCropPosition),s.props.setCropSize&&s.props.setCropSize(F),F}},s.saveContainerPosition=function(){if(s.containerRef){var c=s.containerRef.getBoundingClientRect();s.containerPosition={x:c.left,y:c.top}}},s.onMouseDown=function(c){s.currentDoc&&(c.preventDefault(),s.currentDoc.addEventListener("mousemove",s.onMouseMove),s.currentDoc.addEventListener("mouseup",s.onDragStopped),s.saveContainerPosition(),s.onDragStart(i.getMousePoint(c)))},s.onMouseMove=function(c){return s.onDrag(i.getMousePoint(c))},s.onScroll=function(c){s.currentDoc&&(c.preventDefault(),s.saveContainerPosition())},s.onTouchStart=function(c){s.currentDoc&&(s.isTouching=!0,!(s.props.onTouchRequest&&!s.props.onTouchRequest(c))&&(s.currentDoc.addEventListener("touchmove",s.onTouchMove,{passive:!1}),s.currentDoc.addEventListener("touchend",s.onDragStopped),s.saveContainerPosition(),c.touches.length===2?s.onPinchStart(c):c.touches.length===1&&s.onDragStart(i.getTouchPoint(c.touches[0]))))},s.onTouchMove=function(c){c.preventDefault(),c.touches.length===2?s.onPinchMove(c):c.touches.length===1&&s.onDrag(i.getTouchPoint(c.touches[0]))},s.onGestureStart=function(c){s.currentDoc&&(c.preventDefault(),s.currentDoc.addEventListener("gesturechange",s.onGestureMove),s.currentDoc.addEventListener("gestureend",s.onGestureEnd),s.gestureZoomStart=s.props.zoom,s.gestureRotationStart=s.props.rotation)},s.onGestureMove=function(c){if(c.preventDefault(),!s.isTouching){var h=i.getMousePoint(c),p=s.gestureZoomStart-1+c.scale;if(s.setNewZoom(p,h,{shouldUpdatePosition:!0}),s.props.onRotationChange){var w=s.gestureRotationStart+c.rotation;s.props.onRotationChange(w)}}},s.onGestureEnd=function(c){s.cleanEvents()},s.onDragStart=function(c){var h,p,w=c.x,E=c.y;s.dragStartPosition={x:w,y:E},s.dragStartCrop=Bn({},s.props.crop),(p=(h=s.props).onInteractionStart)===null||p===void 0||p.call(h)},s.onDrag=function(c){var h=c.x,p=c.y;s.currentWindow&&(s.rafDragTimeout&&s.currentWindow.cancelAnimationFrame(s.rafDragTimeout),s.rafDragTimeout=s.currentWindow.requestAnimationFrame(function(){if(s.state.cropSize&&!(h===void 0||p===void 0)){var w=h-s.dragStartPosition.x,E=p-s.dragStartPosition.y,C={x:s.dragStartCrop.x+w,y:s.dragStartCrop.y+E},x=s.props.restrictPosition?Ca(C,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):C;s.props.onCropChange(x)}}))},s.onDragStopped=function(){var c,h;s.isTouching=!1,s.cleanEvents(),s.emitCropData(),(h=(c=s.props).onInteractionEnd)===null||h===void 0||h.call(c)},s.onWheel=function(c){if(s.currentWindow&&!(s.props.onWheelRequest&&!s.props.onWheelRequest(c))){c.preventDefault();var h=i.getMousePoint(c),p=f2(c).pixelY,w=s.props.zoom-p*s.props.zoomSpeed/200;s.setNewZoom(w,h,{shouldUpdatePosition:!0}),s.state.hasWheelJustStarted||s.setState({hasWheelJustStarted:!0},function(){var E,C;return(C=(E=s.props).onInteractionStart)===null||C===void 0?void 0:C.call(E)}),s.wheelTimer&&clearTimeout(s.wheelTimer),s.wheelTimer=s.currentWindow.setTimeout(function(){return s.setState({hasWheelJustStarted:!1},function(){var E,C;return(C=(E=s.props).onInteractionEnd)===null||C===void 0?void 0:C.call(E)})},250)}},s.getPointOnContainer=function(c,h){var p=c.x,w=c.y;if(!s.containerRect)throw new Error("The Cropper is not mounted");return{x:s.containerRect.width/2-(p-h.x),y:s.containerRect.height/2-(w-h.y)}},s.getPointOnMedia=function(c){var h=c.x,p=c.y,w=s.props,E=w.crop,C=w.zoom;return{x:(h+E.x)/C,y:(p+E.y)/C}},s.setNewZoom=function(c,h,p){var w=p===void 0?{}:p,E=w.shouldUpdatePosition,C=E===void 0?!0:E;if(!(!s.state.cropSize||!s.props.onZoomChange)){var x=Tu(c,s.props.minZoom,s.props.maxZoom);if(C){var S=s.getPointOnContainer(h,s.containerPosition),I=s.getPointOnMedia(S),N={x:I.x*x-S.x,y:I.y*x-S.y},O=s.props.restrictPosition?Ca(N,s.mediaSize,s.state.cropSize,x,s.props.rotation):N;s.props.onCropChange(O)}s.props.onZoomChange(x)}},s.getCropData=function(){if(!s.state.cropSize)return null;var c=s.props.restrictPosition?Ca(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;return p2(c,s.mediaSize,s.state.cropSize,s.getAspect(),s.props.zoom,s.props.rotation,s.props.restrictPosition)},s.emitCropData=function(){var c=s.getCropData();if(c){var h=c.croppedAreaPercentages,p=c.croppedAreaPixels;s.props.onCropComplete&&s.props.onCropComplete(h,p),s.props.onCropAreaChange&&s.props.onCropAreaChange(h,p)}},s.emitCropAreaChange=function(){var c=s.getCropData();if(c){var h=c.croppedAreaPercentages,p=c.croppedAreaPixels;s.props.onCropAreaChange&&s.props.onCropAreaChange(h,p)}},s.recomputeCropPosition=function(){if(s.state.cropSize){var c=s.props.restrictPosition?Ca(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;s.props.onCropChange(c),s.emitCropData()}},s.onKeyDown=function(c){var h=s.props,p=h.crop,w=h.onCropChange,E=h.keyboardStep,C=h.zoom,x=h.rotation,S=E;if(s.state.cropSize){c.shiftKey&&(S*=.2);var I=Bn({},p);switch(c.key){case"ArrowUp":I.y-=S,c.preventDefault();break;case"ArrowDown":I.y+=S,c.preventDefault();break;case"ArrowLeft":I.x-=S,c.preventDefault();break;case"ArrowRight":I.x+=S,c.preventDefault();break;default:return}s.props.restrictPosition&&(I=Ca(I,s.mediaSize,s.state.cropSize,C,x)),w(I)}},s}return i.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=v2,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},i.prototype.componentWillUnmount=function(){var s,c;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(s=this.resizeObserver)===null||s===void 0||s.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((c=this.styleRef.parentNode)===null||c===void 0||c.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},i.prototype.componentDidUpdate=function(s){var c,h,p,w,E,C,x,S,I;s.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):s.aspect!==this.props.aspect?this.computeSizes():s.objectFit!==this.props.objectFit?this.computeSizes():s.zoom!==this.props.zoom?this.recomputeCropPosition():((c=s.cropSize)===null||c===void 0?void 0:c.height)!==((h=this.props.cropSize)===null||h===void 0?void 0:h.height)||((p=s.cropSize)===null||p===void 0?void 0:p.width)!==((w=this.props.cropSize)===null||w===void 0?void 0:w.width)?this.computeSizes():(((E=s.crop)===null||E===void 0?void 0:E.x)!==((C=this.props.crop)===null||C===void 0?void 0:C.x)||((x=s.crop)===null||x===void 0?void 0:x.y)!==((S=this.props.crop)===null||S===void 0?void 0:S.y))&&this.emitCropAreaChange(),s.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),s.video!==this.props.video&&((I=this.videoRef.current)===null||I===void 0||I.load());var N=this.getObjectFit();N!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:N},this.computeSizes)},i.prototype.getAspect=function(){var s=this.props,c=s.cropSize,h=s.aspect;return c?c.width/c.height:h},i.prototype.getObjectFit=function(){var s,c,h,p;if(this.props.objectFit==="cover"){var w=this.imageRef.current||this.videoRef.current;if(w&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var E=this.containerRect.width/this.containerRect.height,C=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((c=this.videoRef.current)===null||c===void 0?void 0:c.videoWidth)||0,x=((h=this.imageRef.current)===null||h===void 0?void 0:h.naturalHeight)||((p=this.videoRef.current)===null||p===void 0?void 0:p.videoHeight)||0,S=C/x;return S<E?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},i.prototype.onPinchStart=function(s){var c=i.getTouchPoint(s.touches[0]),h=i.getTouchPoint(s.touches[1]);this.lastPinchDistance=Y0(c,h),this.lastPinchRotation=X0(c,h),this.onDragStart(Z0(c,h))},i.prototype.onPinchMove=function(s){var c=this;if(!(!this.currentDoc||!this.currentWindow)){var h=i.getTouchPoint(s.touches[0]),p=i.getTouchPoint(s.touches[1]),w=Z0(h,p);this.onDrag(w),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var E=Y0(h,p),C=c.props.zoom*(E/c.lastPinchDistance);c.setNewZoom(C,w,{shouldUpdatePosition:!1}),c.lastPinchDistance=E;var x=X0(h,p),S=c.props.rotation+(x-c.lastPinchRotation);c.props.onRotationChange&&c.props.onRotationChange(S),c.lastPinchRotation=x})}},i.prototype.render=function(){var s=this,c,h=this.props,p=h.image,w=h.video,E=h.mediaProps,C=h.transform,x=h.crop,S=x.x,I=x.y,N=h.rotation,O=h.zoom,k=h.cropShape,B=h.showGrid,F=h.style,z=F.containerStyle,H=F.cropAreaStyle,V=F.mediaStyle,te=h.classes,le=te.containerClassName,ce=te.cropAreaClassName,$=te.mediaClassName,ue=(c=this.state.mediaObjectFit)!==null&&c!==void 0?c:this.getObjectFit();return L.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Oe){return s.containerRef=Oe},"data-testid":"container",style:z,className:ru("reactEasyCrop_Container",le)},p?L.createElement("img",Bn({alt:"",className:ru("reactEasyCrop_Image",ue==="contain"&&"reactEasyCrop_Contain",ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",$)},E,{src:p,ref:this.imageRef,style:Bn(Bn({},V),{transform:C||"translate(".concat(S,"px, ").concat(I,"px) rotate(").concat(N,"deg) scale(").concat(O,")")}),onLoad:this.onMediaLoad})):w&&L.createElement("video",Bn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ru("reactEasyCrop_Video",ue==="contain"&&"reactEasyCrop_Contain",ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",$)},E,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Bn(Bn({},V),{transform:C||"translate(".concat(S,"px, ").concat(I,"px) rotate(").concat(N,"deg) scale(").concat(O,")")}),controls:!1}),(Array.isArray(w)?w:[{src:w}]).map(function(ee){return L.createElement("source",Bn({key:ee.src},ee))})),this.state.cropSize&&L.createElement("div",{style:Bn(Bn({},H),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:ru("reactEasyCrop_CropArea",k==="round"&&"reactEasyCrop_CropAreaRound",B&&"reactEasyCrop_CropAreaGrid",ce)}))},i.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:A2,minZoom:E2,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:S2},i.getMousePoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},i.getTouchPoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},i}(L.Component),va={},K0;function T2(){return K0||(K0=1,va.createCanvas=function(r,i){return Object.assign(document.createElement("canvas"),{width:r,height:i})},va.createImageData=function(r,i,s){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(r);case 2:return new ImageData(r,i);default:return new ImageData(r,i,s)}},va.loadImage=function(r,i){return new Promise(function(s,c){const h=Object.assign(document.createElement("img"),i);function p(){h.onload=null,h.onerror=null}h.onload=function(){p(),s(h)},h.onerror=function(){p(),c(new Error('Failed to load the image "'+r+'"'))},h.src=r})}),va}T2();async function Wp(r,i){return console.log("Image source being cropped:",r),new Promise((s,c)=>{const h=new Image;h.onload=()=>{const p=document.createElement("canvas"),w=p.getContext("2d");p.width=i.width,p.height=i.height,w.drawImage(h,i.x,i.y,i.width,i.height,0,0,i.width,i.height);try{const E=p.toDataURL("image/jpeg");s(E)}catch{c(new Error("Error converting canvas to base64"))}},h.onerror=p=>c(new Error(`Image load error: ${p.message}`)),h.src=r})}const I2=({onSubmit:r,onClose:i,existingProfile:s})=>{const{user:c,userProfile:h,checkAuth:p}=L.useContext(fi),[w,E]=L.useState({name:(h==null?void 0:h.name)||"",image:null,imagePreview:h!=null&&h.image_data?`data:image/jpeg;base64,${h.image_data}`:"/assets/fakeprofile.png",croppedImage:null}),[C,x]=L.useState({x:0,y:0}),[S,I]=L.useState(1),[N,O]=L.useState(null),[k,B]=L.useState(!1),[F,z]=L.useState(!1),H=le=>{const ce=le.target.files[0];if(ce){const $=new FileReader;$.onload=ue=>{E(ee=>({...ee,image:ce,imagePreview:ue.target.result})),B(!0)},$.readAsDataURL(ce)}},V=(le,ce)=>{console.log("Cropped Area Pixels:",ce),O(ce)};async function te(le){le.preventDefault();let ce;if(w.croppedImage)ce=w.croppedImage.split(",")[1];else if(w.image instanceof File){const ee=await w.image.arrayBuffer();ce=btoa(new Uint8Array(ee).reduce((Oe,Be)=>Oe+String.fromCharCode(Be),""))}else if(h!=null&&h.image_data)ce=h.image_data;else{console.error("No valid image provided");return}const $={name:w.name,image_data:ce};console.log("Image data (first 100 chars):",ce.substring(0,100));const ue=localStorage.getItem("access_token");try{const ee=await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify($)});if(!ee.ok)throw new Error("Failed to update profile");const Oe=await ee.json();await p(),console.log("Profile updated successfully:",Oe),i()}catch(ee){console.error("Error updating profile:",ee)}}return P.jsx("div",{className:"profile-creation-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:P.jsxs("div",{className:"profile-creation-modal",style:{width:"70%",maxWidth:"500px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"2rem",boxShadow:"0 10px 30px rgba(20,77,255,0.15)",position:"relative",border:"1px solid rgba(20,77,255,0.1)"},children:[P.jsx("button",{onClick:i,style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"#144dff",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:"×"}),P.jsx("h2",{style:{fontSize:"clamp(1.8rem, 6vw, 2.5rem)",color:"#144dff",textAlign:"center",marginBottom:"2rem",fontWeight:"600"},children:"Your Profile"}),P.jsxs("form",{onSubmit:te,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[P.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[P.jsx("label",{style:{color:"#144dff",fontWeight:"500",fontSize:"1rem"},children:"Your Name"}),P.jsx("input",{type:"text",value:w.name,onChange:le=>E({...w,name:le.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #e0e0e0",fontSize:"0.9rem",transition:"all 0.3s ease",backgroundColor:"rgba(255,255,255,0.9)","&:focus":{borderColor:"#144dff",outline:"none",boxShadow:"0 0 0 3px rgba(20,77,255,0.1)"}}})]}),!k&&P.jsx("div",{style:{width:"250px",height:"250px",margin:"0 auto",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:P.jsx("img",{src:w.croppedImage?w.croppedImage:w.imagePreview?w.imagePreview:h!=null&&h.image_data?`data:image/jpeg;base64,${h.image_data}`:"/assets/fakeprofile.png",alt:"Profile preview",style:{width:"100%",height:"100%",objectFit:"cover"}})}),P.jsxs("div",{style:{textAlign:"center"},children:[P.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:H,style:{display:"none"}}),P.jsx("label",{htmlFor:"image-upload",style:{padding:"0.8rem 1.2rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",borderRadius:"25px",cursor:"pointer",display:"inline-block",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Upload New Image"})]}),k&&P.jsxs("div",{style:{width:"100%",maxWidth:"300px",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.2rem"},children:[P.jsx("div",{style:{position:"relative",width:"250px",height:"250px",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)"},children:P.jsx(Vp,{image:w.imagePreview,crop:C,zoom:S,aspect:1,onCropComplete:V,onCropChange:x,onZoomChange:I})}),P.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[P.jsx("button",{type:"button",onClick:()=>{B(!1),w.croppedImage||E(le=>({...le,imagePreview:null}))},style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"2px solid #144dff",background:"white",color:"#144dff",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease","&:hover":{background:"rgba(20,77,255,0.1)"}},children:"Cancel"}),P.jsx("button",{type:"button",onClick:async()=>{try{const le=await Wp(w.imagePreview,N);E(ce=>({...ce,croppedImage:le,imagePreview:le})),B(!1),z(!0),setTimeout(()=>z(!1),1e4)}catch(le){console.error("Error cropping image:",le)}},className:`save-profile-button ${F?"glow-bounce":""}`,style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"none",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(20,77,255,0.2)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Cropped Image"})]})]}),P.jsx("button",{type:"submit",className:`save-profile-button ${F?"glow-bounce":""}`,style:{padding:"1rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Profile"})]})]})})};var Ea={},Q0;function b2(){if(Q0)return Ea;Q0=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.parse=w,Ea.serialize=x;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,p=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function w(N,O){const k=new p,B=N.length;if(B<2)return k;const F=(O==null?void 0:O.decode)||S;let z=0;do{const H=N.indexOf("=",z);if(H===-1)break;const V=N.indexOf(";",z),te=V===-1?B:V;if(H>te){z=N.lastIndexOf(";",H-1)+1;continue}const le=E(N,z,H),ce=C(N,H,le),$=N.slice(le,ce);if(k[$]===void 0){let ue=E(N,H+1,te),ee=C(N,te,ue);const Oe=F(N.slice(ue,ee));k[$]=Oe}z=te+1}while(z<B);return k}function E(N,O,k){do{const B=N.charCodeAt(O);if(B!==32&&B!==9)return O}while(++O<k);return k}function C(N,O,k){for(;O>k;){const B=N.charCodeAt(--O);if(B!==32&&B!==9)return O+1}return k}function x(N,O,k){const B=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(N))throw new TypeError(`argument name is invalid: ${N}`);const F=B(O);if(!i.test(F))throw new TypeError(`argument val is invalid: ${O}`);let z=N+"="+F;if(!k)return z;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);z+="; Max-Age="+k.maxAge}if(k.domain){if(!s.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);z+="; Domain="+k.domain}if(k.path){if(!c.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);z+="; Path="+k.path}if(k.expires){if(!I(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);z+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(z+="; HttpOnly"),k.secure&&(z+="; Secure"),k.partitioned&&(z+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return z}function S(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function I(N){return h.call(N)==="[object Date]"}return Ea}b2();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $0="popstate";function N2(r={}){function i(c,h){let{pathname:p,search:w,hash:E}=c.location;return Tf("",{pathname:p,search:w,hash:E},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(c,h){return typeof h=="string"?h:Da(h)}return M2(i,s,null,r)}function en(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function ci(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function R2(){return Math.random().toString(36).substring(2,10)}function q0(r,i){return{usr:r.state,key:r.key,idx:i}}function Tf(r,i,s=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?Ro(i):i,state:s,key:i&&i.key||c||R2()}}function Da({pathname:r="/",search:i="",hash:s=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ro(r){let i={};if(r){let s=r.indexOf("#");s>=0&&(i.hash=r.substring(s),r=r.substring(0,s));let c=r.indexOf("?");c>=0&&(i.search=r.substring(c),r=r.substring(0,c)),r&&(i.pathname=r)}return i}function M2(r,i,s,c={}){let{window:h=document.defaultView,v5Compat:p=!1}=c,w=h.history,E="POP",C=null,x=S();x==null&&(x=0,w.replaceState({...w.state,idx:x},""));function S(){return(w.state||{idx:null}).idx}function I(){E="POP";let F=S(),z=F==null?null:F-x;x=F,C&&C({action:E,location:B.location,delta:z})}function N(F,z){E="PUSH";let H=Tf(B.location,F,z);x=S()+1;let V=q0(H,x),te=B.createHref(H);try{w.pushState(V,"",te)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;h.location.assign(te)}p&&C&&C({action:E,location:B.location,delta:1})}function O(F,z){E="REPLACE";let H=Tf(B.location,F,z);x=S();let V=q0(H,x),te=B.createHref(H);w.replaceState(V,"",te),p&&C&&C({action:E,location:B.location,delta:0})}function k(F){let z=h.location.origin!=="null"?h.location.origin:h.location.href,H=typeof F=="string"?F:Da(F);return H=H.replace(/ $/,"%20"),en(z,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,z)}let B={get action(){return E},get location(){return r(h,w)},listen(F){if(C)throw new Error("A history only accepts one active listener");return h.addEventListener($0,I),C=F,()=>{h.removeEventListener($0,I),C=null}},createHref(F){return i(h,F)},createURL:k,encodeLocation(F){let z=k(F);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:O,go(F){return w.go(F)}};return B}function Hp(r,i,s="/"){return _2(r,i,s,!1)}function _2(r,i,s,c){let h=typeof i=="string"?Ro(i):i,p=as(h.pathname||"/",s);if(p==null)return null;let w=Gp(r);D2(w);let E=null;for(let C=0;E==null&&C<w.length;++C){let x=W2(p);E=z2(w[C],x,c)}return E}function Gp(r,i=[],s=[],c=""){let h=(p,w,E)=>{let C={relativePath:E===void 0?p.path||"":E,caseSensitive:p.caseSensitive===!0,childrenIndex:w,route:p};C.relativePath.startsWith("/")&&(en(C.relativePath.startsWith(c),`Absolute route path "${C.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),C.relativePath=C.relativePath.slice(c.length));let x=_i([c,C.relativePath]),S=s.concat(C);p.children&&p.children.length>0&&(en(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Gp(p.children,i,S,x)),!(p.path==null&&!p.index)&&i.push({path:x,score:j2(x,p.index),routesMeta:S})};return r.forEach((p,w)=>{var E;if(p.path===""||!((E=p.path)!=null&&E.includes("?")))h(p,w);else for(let C of Yp(p.path))h(p,w,C)}),i}function Yp(r){let i=r.split("/");if(i.length===0)return[];let[s,...c]=i,h=s.endsWith("?"),p=s.replace(/\?$/,"");if(c.length===0)return h?[p,""]:[p];let w=Yp(c.join("/")),E=[];return E.push(...w.map(C=>C===""?p:[p,C].join("/"))),h&&E.push(...w),E.map(C=>r.startsWith("/")&&C===""?"/":C)}function D2(r){r.sort((i,s)=>i.score!==s.score?s.score-i.score:U2(i.routesMeta.map(c=>c.childrenIndex),s.routesMeta.map(c=>c.childrenIndex)))}var O2=/^:[\w-]+$/,P2=3,L2=2,k2=1,B2=10,F2=-2,J0=r=>r==="*";function j2(r,i){let s=r.split("/"),c=s.length;return s.some(J0)&&(c+=F2),i&&(c+=L2),s.filter(h=>!J0(h)).reduce((h,p)=>h+(O2.test(p)?P2:p===""?k2:B2),c)}function U2(r,i){return r.length===i.length&&r.slice(0,-1).every((c,h)=>c===i[h])?r[r.length-1]-i[i.length-1]:0}function z2(r,i,s=!1){let{routesMeta:c}=r,h={},p="/",w=[];for(let E=0;E<c.length;++E){let C=c[E],x=E===c.length-1,S=p==="/"?i:i.slice(p.length)||"/",I=pu({path:C.relativePath,caseSensitive:C.caseSensitive,end:x},S),N=C.route;if(!I&&x&&s&&!c[c.length-1].route.index&&(I=pu({path:C.relativePath,caseSensitive:C.caseSensitive,end:!1},S)),!I)return null;Object.assign(h,I.params),w.push({params:h,pathname:_i([p,I.pathname]),pathnameBase:X2(_i([p,I.pathnameBase])),route:N}),I.pathnameBase!=="/"&&(p=_i([p,I.pathnameBase]))}return w}function pu(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,c]=V2(r.path,r.caseSensitive,r.end),h=i.match(s);if(!h)return null;let p=h[0],w=p.replace(/(.)\/+$/,"$1"),E=h.slice(1);return{params:c.reduce((x,{paramName:S,isOptional:I},N)=>{if(S==="*"){let k=E[N]||"";w=p.slice(0,p.length-k.length).replace(/(.)\/+$/,"$1")}const O=E[N];return I&&!O?x[S]=void 0:x[S]=(O||"").replace(/%2F/g,"/"),x},{}),pathname:p,pathnameBase:w,pattern:r}}function V2(r,i=!1,s=!0){ci(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],h="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(w,E,C)=>(c.push({paramName:E,isOptional:C!=null}),C?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(c.push({paramName:"*"}),h+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":r!==""&&r!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,i?void 0:"i"),c]}function W2(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return ci(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function as(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,c=r.charAt(s);return c&&c!=="/"?null:r.slice(s)||"/"}function H2(r,i="/"){let{pathname:s,search:c="",hash:h=""}=typeof r=="string"?Ro(r):r;return{pathname:s?s.startsWith("/")?s:G2(s,i):i,search:Z2(c),hash:K2(h)}}function G2(r,i){let s=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function cf(r,i,s,c){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y2(r){return r.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function Xp(r){let i=Y2(r);return i.map((s,c)=>c===i.length-1?s.pathname:s.pathnameBase)}function Zp(r,i,s,c=!1){let h;typeof r=="string"?h=Ro(r):(h={...r},en(!h.pathname||!h.pathname.includes("?"),cf("?","pathname","search",h)),en(!h.pathname||!h.pathname.includes("#"),cf("#","pathname","hash",h)),en(!h.search||!h.search.includes("#"),cf("#","search","hash",h)));let p=r===""||h.pathname==="",w=p?"/":h.pathname,E;if(w==null)E=s;else{let I=i.length-1;if(!c&&w.startsWith("..")){let N=w.split("/");for(;N[0]==="..";)N.shift(),I-=1;h.pathname=N.join("/")}E=I>=0?i[I]:"/"}let C=H2(h,E),x=w&&w!=="/"&&w.endsWith("/"),S=(p||w===".")&&s.endsWith("/");return!C.pathname.endsWith("/")&&(x||S)&&(C.pathname+="/"),C}var _i=r=>r.join("/").replace(/\/\/+/g,"/"),X2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Z2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,K2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Q2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Kp=["POST","PUT","PATCH","DELETE"];new Set(Kp);var $2=["GET",...Kp];new Set($2);var Mo=L.createContext(null);Mo.displayName="DataRouter";var Iu=L.createContext(null);Iu.displayName="DataRouterState";var Qp=L.createContext({isTransitioning:!1});Qp.displayName="ViewTransition";var q2=L.createContext(new Map);q2.displayName="Fetchers";var J2=L.createContext(null);J2.displayName="Await";var di=L.createContext(null);di.displayName="Navigation";var Va=L.createContext(null);Va.displayName="Location";var hi=L.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Qf=L.createContext(null);Qf.displayName="RouteError";function ey(r,{relative:i}={}){en(Wa(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:c}=L.useContext(di),{hash:h,pathname:p,search:w}=Ha(r,{relative:i}),E=p;return s!=="/"&&(E=p==="/"?s:_i([s,p])),c.createHref({pathname:E,search:w,hash:h})}function Wa(){return L.useContext(Va)!=null}function Oi(){return en(Wa(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Va).location}var $p="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qp(r){L.useContext(di).static||L.useLayoutEffect(r)}function Qr(){let{isDataRoute:r}=L.useContext(hi);return r?py():ty()}function ty(){en(Wa(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Mo),{basename:i,navigator:s}=L.useContext(di),{matches:c}=L.useContext(hi),{pathname:h}=Oi(),p=JSON.stringify(Xp(c)),w=L.useRef(!1);return qp(()=>{w.current=!0}),L.useCallback((C,x={})=>{if(ci(w.current,$p),!w.current)return;if(typeof C=="number"){s.go(C);return}let S=Zp(C,JSON.parse(p),h,x.relative==="path");r==null&&i!=="/"&&(S.pathname=S.pathname==="/"?i:_i([i,S.pathname])),(x.replace?s.replace:s.push)(S,x.state,x)},[i,s,p,h,r])}L.createContext(null);function ny(){let{matches:r}=L.useContext(hi),i=r[r.length-1];return i?i.params:{}}function Ha(r,{relative:i}={}){let{matches:s}=L.useContext(hi),{pathname:c}=Oi(),h=JSON.stringify(Xp(s));return L.useMemo(()=>Zp(r,JSON.parse(h),c,i==="path"),[r,h,c,i])}function ry(r,i){return Jp(r,i)}function Jp(r,i,s,c){var z;en(Wa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=L.useContext(di),{matches:p}=L.useContext(hi),w=p[p.length-1],E=w?w.params:{},C=w?w.pathname:"/",x=w?w.pathnameBase:"/",S=w&&w.route;{let H=S&&S.path||"";eg(C,!S||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${C}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let I=Oi(),N;if(i){let H=typeof i=="string"?Ro(i):i;en(x==="/"||((z=H.pathname)==null?void 0:z.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${H.pathname}" was given in the \`location\` prop.`),N=H}else N=I;let O=N.pathname||"/",k=O;if(x!=="/"){let H=x.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=Hp(r,{pathname:k});ci(S||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ci(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=ly(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},E,H.params),pathname:_i([x,h.encodeLocation?h.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?x:_i([x,h.encodeLocation?h.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),p,s,c);return i&&F?L.createElement(Va.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function iy(){let r=hy(),i=Q2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:c},p={padding:"2px 4px",backgroundColor:c},w=null;return console.error("Error handled by React Router default ErrorBoundary:",r),w=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:p},"ErrorBoundary")," or"," ",L.createElement("code",{style:p},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},i),s?L.createElement("pre",{style:h},s):null,w)}var sy=L.createElement(iy,null),oy=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?L.createElement(hi.Provider,{value:this.props.routeContext},L.createElement(Qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ay({routeContext:r,match:i,children:s}){let c=L.useContext(Mo);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),L.createElement(hi.Provider,{value:r},s)}function ly(r,i=[],s=null,c=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let h=r,p=s==null?void 0:s.errors;if(p!=null){let C=h.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);en(C>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,C+1))}let w=!1,E=-1;if(s)for(let C=0;C<h.length;C++){let x=h[C];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(E=C),x.route.id){let{loaderData:S,errors:I}=s,N=x.route.loader&&!S.hasOwnProperty(x.route.id)&&(!I||I[x.route.id]===void 0);if(x.route.lazy||N){w=!0,E>=0?h=h.slice(0,E+1):h=[h[0]];break}}}return h.reduceRight((C,x,S)=>{let I,N=!1,O=null,k=null;s&&(I=p&&x.route.id?p[x.route.id]:void 0,O=x.route.errorElement||sy,w&&(E<0&&S===0?(eg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):E===S&&(N=!0,k=x.route.hydrateFallbackElement||null)));let B=i.concat(h.slice(0,S+1)),F=()=>{let z;return I?z=O:N?z=k:x.route.Component?z=L.createElement(x.route.Component,null):x.route.element?z=x.route.element:z=C,L.createElement(ay,{match:x,routeContext:{outlet:C,matches:B,isDataRoute:s!=null},children:z})};return s&&(x.route.ErrorBoundary||x.route.errorElement||S===0)?L.createElement(oy,{location:s.location,revalidation:s.revalidation,component:O,error:I,children:F(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):F()},null)}function $f(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uy(r){let i=L.useContext(Mo);return en(i,$f(r)),i}function cy(r){let i=L.useContext(Iu);return en(i,$f(r)),i}function fy(r){let i=L.useContext(hi);return en(i,$f(r)),i}function qf(r){let i=fy(r),s=i.matches[i.matches.length-1];return en(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function dy(){return qf("useRouteId")}function hy(){var c;let r=L.useContext(Qf),i=cy("useRouteError"),s=qf("useRouteError");return r!==void 0?r:(c=i.errors)==null?void 0:c[s]}function py(){let{router:r}=uy("useNavigate"),i=qf("useNavigate"),s=L.useRef(!1);return qp(()=>{s.current=!0}),L.useCallback(async(h,p={})=>{ci(s.current,$p),s.current&&(typeof h=="number"?r.navigate(h):await r.navigate(h,{fromRouteId:i,...p}))},[r,i])}var e1={};function eg(r,i,s){!i&&!e1[r]&&(e1[r]=!0,ci(!1,s))}L.memo(gy);function gy({routes:r,future:i,state:s}){return Jp(r,void 0,s,i)}function Ri(r){en(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function my({basename:r="/",children:i=null,location:s,navigationType:c="POP",navigator:h,static:p=!1}){en(!Wa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let w=r.replace(/^\/*/,"/"),E=L.useMemo(()=>({basename:w,navigator:h,static:p,future:{}}),[w,h,p]);typeof s=="string"&&(s=Ro(s));let{pathname:C="/",search:x="",hash:S="",state:I=null,key:N="default"}=s,O=L.useMemo(()=>{let k=as(C,w);return k==null?null:{location:{pathname:k,search:x,hash:S,state:I,key:N},navigationType:c}},[w,C,x,S,I,N,c]);return ci(O!=null,`<Router basename="${w}"> is not able to match the URL "${C}${x}${S}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:L.createElement(di.Provider,{value:E},L.createElement(Va.Provider,{children:i,value:O}))}function xy({children:r,location:i}){return ry(If(r),i)}function If(r,i=[]){let s=[];return L.Children.forEach(r,(c,h)=>{if(!L.isValidElement(c))return;let p=[...i,h];if(c.type===L.Fragment){s.push.apply(s,If(c.props.children,p));return}en(c.type===Ri,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),en(!c.props.index||!c.props.children,"An index route cannot have child routes.");let w={id:c.props.id||p.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(w.children=If(c.props.children,p)),s.push(w)}),s}var uu="get",cu="application/x-www-form-urlencoded";function bu(r){return r!=null&&typeof r.tagName=="string"}function yy(r){return bu(r)&&r.tagName.toLowerCase()==="button"}function wy(r){return bu(r)&&r.tagName.toLowerCase()==="form"}function Cy(r){return bu(r)&&r.tagName.toLowerCase()==="input"}function vy(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ey(r,i){return r.button===0&&(!i||i==="_self")&&!vy(r)}var iu=null;function Ay(){if(iu===null)try{new FormData(document.createElement("form"),0),iu=!1}catch{iu=!0}return iu}var Sy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ff(r){return r!=null&&!Sy.has(r)?(ci(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cu}"`),null):r}function Ty(r,i){let s,c,h,p,w;if(wy(r)){let E=r.getAttribute("action");c=E?as(E,i):null,s=r.getAttribute("method")||uu,h=ff(r.getAttribute("enctype"))||cu,p=new FormData(r)}else if(yy(r)||Cy(r)&&(r.type==="submit"||r.type==="image")){let E=r.form;if(E==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let C=r.getAttribute("formaction")||E.getAttribute("action");if(c=C?as(C,i):null,s=r.getAttribute("formmethod")||E.getAttribute("method")||uu,h=ff(r.getAttribute("formenctype"))||ff(E.getAttribute("enctype"))||cu,p=new FormData(E,r),!Ay()){let{name:x,type:S,value:I}=r;if(S==="image"){let N=x?`${x}.`:"";p.append(`${N}x`,"0"),p.append(`${N}y`,"0")}else x&&p.append(x,I)}}else{if(bu(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=uu,c=null,h=cu,w=r}return p&&h==="text/plain"&&(w=p,p=void 0),{action:c,method:s.toLowerCase(),encType:h,formData:p,body:w}}function Jf(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}async function Iy(r,i){if(r.id in i)return i[r.id];try{let s=await import(r.module);return i[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function by(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ny(r,i,s){let c=await Promise.all(r.map(async h=>{let p=i.routes[h.route.id];if(p){let w=await Iy(p,s);return w.links?w.links():[]}return[]}));return Dy(c.flat(1).filter(by).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function t1(r,i,s,c,h,p){let w=(C,x)=>s[x]?C.route.id!==s[x].route.id:!0,E=(C,x)=>{var S;return s[x].pathname!==C.pathname||((S=s[x].route.path)==null?void 0:S.endsWith("*"))&&s[x].params["*"]!==C.params["*"]};return p==="assets"?i.filter((C,x)=>w(C,x)||E(C,x)):p==="data"?i.filter((C,x)=>{var I;let S=c.routes[C.route.id];if(!S||!S.hasLoader)return!1;if(w(C,x)||E(C,x))return!0;if(C.route.shouldRevalidate){let N=C.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((I=s[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:C.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Ry(r,i){return My(r.map(s=>{let c=i.routes[s.route.id];if(!c)return[];let h=[c.module];return c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function My(r){return[...new Set(r)]}function _y(r){let i={},s=Object.keys(r).sort();for(let c of s)i[c]=r[c];return i}function Dy(r,i){let s=new Set;return new Set(i),r.reduce((c,h)=>{let p=JSON.stringify(_y(h));return s.has(p)||(s.add(p),c.push({key:p,link:h})),c},[])}function Oy(r){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Py(){let r=L.useContext(Mo);return Jf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ly(){let r=L.useContext(Iu);return Jf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ed=L.createContext(void 0);ed.displayName="FrameworkContext";function tg(){let r=L.useContext(ed);return Jf(r,"You must render this element inside a <HydratedRouter> element"),r}function ky(r,i){let s=L.useContext(ed),[c,h]=L.useState(!1),[p,w]=L.useState(!1),{onFocus:E,onBlur:C,onMouseEnter:x,onMouseLeave:S,onTouchStart:I}=i,N=L.useRef(null);L.useEffect(()=>{if(r==="render"&&w(!0),r==="viewport"){let B=z=>{z.forEach(H=>{w(H.isIntersecting)})},F=new IntersectionObserver(B,{threshold:.5});return N.current&&F.observe(N.current),()=>{F.disconnect()}}},[r]),L.useEffect(()=>{if(c){let B=setTimeout(()=>{w(!0)},100);return()=>{clearTimeout(B)}}},[c]);let O=()=>{h(!0)},k=()=>{h(!1),w(!1)};return s?r!=="intent"?[p,N,{}]:[p,N,{onFocus:Aa(E,O),onBlur:Aa(C,k),onMouseEnter:Aa(x,O),onMouseLeave:Aa(S,k),onTouchStart:Aa(I,O)}]:[!1,N,{}]}function Aa(r,i){return s=>{r&&r(s),s.defaultPrevented||i(s)}}function By({page:r,...i}){let{router:s}=Py(),c=L.useMemo(()=>Hp(s.routes,r,s.basename),[s.routes,r,s.basename]);return c?L.createElement(jy,{page:r,matches:c,...i}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function Fy(r){let{manifest:i,routeModules:s}=tg(),[c,h]=L.useState([]);return L.useEffect(()=>{let p=!1;return Ny(r,i,s).then(w=>{p||h(w)}),()=>{p=!0}},[r,i,s]),c}function jy({page:r,matches:i,...s}){let c=Oi(),{manifest:h,routeModules:p}=tg(),{loaderData:w,matches:E}=Ly(),C=L.useMemo(()=>t1(r,i,E,h,c,"data"),[r,i,E,h,c]),x=L.useMemo(()=>t1(r,i,E,h,c,"assets"),[r,i,E,h,c]),S=L.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let O=new Set,k=!1;if(i.forEach(F=>{var H;let z=h.routes[F.route.id];!z||!z.hasLoader||(!C.some(V=>V.route.id===F.route.id)&&F.route.id in w&&((H=p[F.route.id])!=null&&H.shouldRevalidate)||z.hasClientLoader?k=!0:O.add(F.route.id))}),O.size===0)return[];let B=Oy(r);return k&&O.size>0&&B.searchParams.set("_routes",i.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[B.pathname+B.search]},[w,c,h,C,i,r,p]),I=L.useMemo(()=>Ry(x,h),[x,h]),N=Fy(x);return L.createElement(L.Fragment,null,S.map(O=>L.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...s})),I.map(O=>L.createElement("link",{key:O,rel:"modulepreload",href:O,...s})),N.map(({key:O,link:k})=>L.createElement("link",{key:O,...k})))}function Uy(...r){return i=>{r.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var ng=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ng&&(window.__reactRouterVersion="7.0.2")}catch{}function zy({basename:r,children:i,window:s}){let c=L.useRef();c.current==null&&(c.current=N2({window:s,v5Compat:!0}));let h=c.current,[p,w]=L.useState({action:h.action,location:h.location}),E=L.useCallback(C=>{L.startTransition(()=>w(C))},[w]);return L.useLayoutEffect(()=>h.listen(E),[h,E]),L.createElement(my,{basename:r,children:i,location:p.location,navigationType:p.action,navigator:h})}var rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ig=L.forwardRef(function({onClick:i,discover:s="render",prefetch:c="none",relative:h,reloadDocument:p,replace:w,state:E,target:C,to:x,preventScrollReset:S,viewTransition:I,...N},O){let{basename:k}=L.useContext(di),B=typeof x=="string"&&rg.test(x),F,z=!1;if(typeof x=="string"&&B&&(F=x,ng))try{let ee=new URL(window.location.href),Oe=x.startsWith("//")?new URL(ee.protocol+x):new URL(x),Be=as(Oe.pathname,k);Oe.origin===ee.origin&&Be!=null?x=Be+Oe.search+Oe.hash:z=!0}catch{ci(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=ey(x,{relative:h}),[V,te,le]=ky(c,N),ce=Gy(x,{replace:w,state:E,target:C,preventScrollReset:S,relative:h,viewTransition:I});function $(ee){i&&i(ee),ee.defaultPrevented||ce(ee)}let ue=L.createElement("a",{...N,...le,href:F||H,onClick:z||p?i:$,ref:Uy(O,te),target:C,"data-discover":!B&&s==="render"?"true":void 0});return V&&!B?L.createElement(L.Fragment,null,ue,L.createElement(By,{page:H})):ue});ig.displayName="Link";var Vy=L.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:c="",end:h=!1,style:p,to:w,viewTransition:E,children:C,...x},S){let I=Ha(w,{relative:x.relative}),N=Oi(),O=L.useContext(Iu),{navigator:k,basename:B}=L.useContext(di),F=O!=null&&Qy(I)&&E===!0,z=k.encodeLocation?k.encodeLocation(I).pathname:I.pathname,H=N.pathname,V=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;s||(H=H.toLowerCase(),V=V?V.toLowerCase():null,z=z.toLowerCase()),V&&B&&(V=as(V,B)||V);const te=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let le=H===z||!h&&H.startsWith(z)&&H.charAt(te)==="/",ce=V!=null&&(V===z||!h&&V.startsWith(z)&&V.charAt(z.length)==="/"),$={isActive:le,isPending:ce,isTransitioning:F},ue=le?i:void 0,ee;typeof c=="function"?ee=c($):ee=[c,le?"active":null,ce?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let Oe=typeof p=="function"?p($):p;return L.createElement(ig,{...x,"aria-current":ue,className:ee,ref:S,style:Oe,to:w,viewTransition:E},typeof C=="function"?C($):C)});Vy.displayName="NavLink";var Wy=L.forwardRef(({discover:r="render",fetcherKey:i,navigate:s,reloadDocument:c,replace:h,state:p,method:w=uu,action:E,onSubmit:C,relative:x,preventScrollReset:S,viewTransition:I,...N},O)=>{let k=Zy(),B=Ky(E,{relative:x}),F=w.toLowerCase()==="get"?"get":"post",z=typeof E=="string"&&rg.test(E),H=V=>{if(C&&C(V),V.defaultPrevented)return;V.preventDefault();let te=V.nativeEvent.submitter,le=(te==null?void 0:te.getAttribute("formmethod"))||w;k(te||V.currentTarget,{fetcherKey:i,method:le,navigate:s,replace:h,state:p,relative:x,preventScrollReset:S,viewTransition:I})};return L.createElement("form",{ref:O,method:F,action:B,onSubmit:c?C:H,...N,"data-discover":!z&&r==="render"?"true":void 0})});Wy.displayName="Form";function Hy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sg(r){let i=L.useContext(Mo);return en(i,Hy(r)),i}function Gy(r,{target:i,replace:s,state:c,preventScrollReset:h,relative:p,viewTransition:w}={}){let E=Qr(),C=Oi(),x=Ha(r,{relative:p});return L.useCallback(S=>{if(Ey(S,i)){S.preventDefault();let I=s!==void 0?s:Da(C)===Da(x);E(r,{replace:I,state:c,preventScrollReset:h,relative:p,viewTransition:w})}},[C,E,x,s,c,i,r,h,p,w])}var Yy=0,Xy=()=>`__${String(++Yy)}__`;function Zy(){let{router:r}=sg("useSubmit"),{basename:i}=L.useContext(di),s=dy();return L.useCallback(async(c,h={})=>{let{action:p,method:w,encType:E,formData:C,body:x}=Ty(c,i);if(h.navigate===!1){let S=h.fetcherKey||Xy();await r.fetch(S,s,h.action||p,{preventScrollReset:h.preventScrollReset,formData:C,body:x,formMethod:h.method||w,formEncType:h.encType||E,flushSync:h.flushSync})}else await r.navigate(h.action||p,{preventScrollReset:h.preventScrollReset,formData:C,body:x,formMethod:h.method||w,formEncType:h.encType||E,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[r,i,s])}function Ky(r,{relative:i}={}){let{basename:s}=L.useContext(di),c=L.useContext(hi);en(c,"useFormAction must be used inside a RouteContext");let[h]=c.matches.slice(-1),p={...Ha(r||".",{relative:i})},w=Oi();if(r==null){p.search=w.search;let E=new URLSearchParams(p.search),C=E.getAll("index");if(C.some(S=>S==="")){E.delete("index"),C.filter(I=>I).forEach(I=>E.append("index",I));let S=E.toString();p.search=S?`?${S}`:""}}return(!r||r===".")&&h.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(p.pathname=p.pathname==="/"?s:_i([s,p.pathname])),Da(p)}function Qy(r,i={}){let s=L.useContext(Qp);en(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=sg("useViewTransitionState"),h=Ha(r,{relative:i.relative});if(!s.isTransitioning)return!1;let p=as(s.currentLocation.pathname,c)||s.currentLocation.pathname,w=as(s.nextLocation.pathname,c)||s.nextLocation.pathname;return pu(h.pathname,w)!=null||pu(h.pathname,p)!=null}new TextEncoder;function og(){const r="./assets",i="/sounds/banger.mp3",s=Qr(),c=L.useRef(new Audio(r+i)),[h,p]=L.useState(!1),[w,E]=L.useState(!1),[C,x]=L.useState(null),[S,I]=L.useState(!1),[N,O]=L.useState(!1);L.useEffect(()=>{const V=c.current,te=()=>{V.pause(),V.currentTime=0,E(!1),z(),s("/")};return V.addEventListener("ended",te),()=>V.removeEventListener("ended",te)},[N]);function k(){x(null),c.current.load(),c.current.play().then(()=>{c.current.pause(),c.current.currentTime=0,p(!0),E(!0),I(!0),F()}).catch(V=>{console.error("Error loading audio:",V),x("Failed to load audio. Please check the file path and format."),I(!1)})}function B(){return!!(c.current&&!c.current.paused)}function F(){c.current.paused?c.current.play().catch(V=>{console.error("Error playing audio:",V),x("Failed to play audio. Please try again.")}):c.current.currentTime=0}function z(){c.current&&(c.current.pause(),c.current.currentTime=0,c.current.src="",c.current=null)}function H(V){c.current.currentTime=V}return{audioRef:c,error:C,playSound:F,loadSound:k,seekTo:H,cancelSound:z,checkSound:B,soundEnabled:S,setSoundEnabled:I,isPlaying:w}}var Pe;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var n1=new Map([[Pe.QR_CODE,"QR_CODE"],[Pe.AZTEC,"AZTEC"],[Pe.CODABAR,"CODABAR"],[Pe.CODE_39,"CODE_39"],[Pe.CODE_93,"CODE_93"],[Pe.CODE_128,"CODE_128"],[Pe.DATA_MATRIX,"DATA_MATRIX"],[Pe.MAXICODE,"MAXICODE"],[Pe.ITF,"ITF"],[Pe.EAN_13,"EAN_13"],[Pe.EAN_8,"EAN_8"],[Pe.PDF_417,"PDF_417"],[Pe.RSS_14,"RSS_14"],[Pe.RSS_EXPANDED,"RSS_EXPANDED"],[Pe.UPC_A,"UPC_A"],[Pe.UPC_E,"UPC_E"],[Pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),r1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(r1||(r1={}));function $y(r){return Object.values(Pe).includes(r)}var ls;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ls||(ls={}));var Kr=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[ls.SCAN_TYPE_CAMERA,ls.SCAN_TYPE_FILE],r}(),ag=function(){function r(i,s){this.format=i,this.formatName=s}return r.prototype.toString=function(){return this.formatName},r.create=function(i){if(!n1.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new r(i,n1.get(i))},r}(),i1=function(){function r(){}return r.createFromText=function(i){var s={text:i};return{decodedText:i,result:s}},r.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},r}(),bf;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(bf||(bf={}));var lg=function(){function r(){}return r.createFrom=function(i){return{errorMessage:i,type:bf.UNKWOWN_ERROR}},r}(),ug=function(){function r(i){this.verbose=i}return r.prototype.log=function(i){this.verbose&&console.log(i)},r.prototype.warn=function(i){this.verbose&&console.warn(i)},r.prototype.logError=function(i,s){(this.verbose||s===!0)&&console.error(i)},r.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},r}();function si(r){return typeof r>"u"||r===null}function qy(r,i,s){return r>s?s:r<i?i:r}var wo=function(){function r(){}return r.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},r.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},r.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},r.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},r.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},r.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},r.scannerPaused=function(){return"Scanner paused"},r}(),_t=function(){function r(){}return r.scanningStatus=function(){return"Scanning"},r.idleStatus=function(){return"Idle"},r.errorStatus=function(){return"Error"},r.permissionStatus=function(){return"Permission"},r.noCameraFoundErrorStatus=function(){return"No Cameras"},r.lastMatch=function(i){return"Last Match: ".concat(i)},r.codeScannerTitle=function(){return"Code Scanner"},r.cameraPermissionTitle=function(){return"Request Camera Permissions"},r.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},r.noCameraFound=function(){return"No camera found"},r.scanButtonStopScanningText=function(){return"Stop Scanning"},r.scanButtonStartScanningText=function(){return"Start Scanning"},r.torchOnButton=function(){return"Switch On Torch"},r.torchOffButton=function(){return"Switch Off Torch"},r.torchOnFailedMessage=function(){return"Failed to turn on torch"},r.torchOffFailedMessage=function(){return"Failed to turn off torch"},r.scanButtonScanningStarting=function(){return"Launching Camera..."},r.textIfCameraScanSelected=function(){return"Scan an Image File"},r.textIfFileScanSelected=function(){return"Scan using camera directly"},r.selectCamera=function(){return"Select Camera"},r.fileSelectionChooseImage=function(){return"Choose Image"},r.fileSelectionChooseAnother=function(){return"Choose Another"},r.fileSelectionNoImageSelected=function(){return"No image choosen"},r.anonymousCameraPrefix=function(){return"Anonymous Camera"},r.dragAndDropMessage=function(){return"Or drop an image to scan"},r.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},r.zoom=function(){return"zoom"},r.loadingImage=function(){return"Loading image..."},r.cameraScanAltText=function(){return"Camera based scan"},r.fileScanAltText=function(){return"Fule based scan"},r}(),s1=function(){function r(){}return r.poweredBy=function(){return"Powered by "},r.reportIssues=function(){return"Report issues"},r}(),cg=function(){function r(){}return r.isMediaStreamConstraintsValid=function(i,s){if(typeof i!="object"){var c=typeof i;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(h),w=Object.keys(i),E=0,C=w;E<C.length;E++){var x=C[E];if(p.has(x))return s.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},r}(),Ta={exports:{}},Jy=Ta.exports,o1;function ew(){return o1||(o1=1,function(r,i){(function(s,c){c(i)})(Jy,function(s){function c(R){return R==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,e){R.__proto__=e}||function(R,e){for(var n in e)e.hasOwnProperty(n)&&(R[n]=e[n])};function p(R,e){h(R,e);function n(){this.constructor=R}R.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function w(R,e){var n=Object.setPrototypeOf;n?n(R,e):R.__proto__=e}function E(R,e){e===void 0&&(e=R.constructor);var n=Error.captureStackTrace;n&&n(R,e)}var C=function(R){p(e,R);function e(n){var o=this.constructor,l=R.call(this,n)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),w(l,o.prototype),E(l),l}return e}(Error);class x extends C{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class S extends x{}S.kind="ArgumentException";class I extends x{}I.kind="IllegalArgumentException";class N{constructor(e){if(this.binarizer=e,e===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,o,l){const u=this.binarizer.getLuminanceSource().crop(e,n,o,l);return new N(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends x{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class k{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(e,n,o,l,u){for(;u--;)o[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class F extends x{}F.kind="IndexOutOfBoundsException";class z extends F{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}z.kind="ArrayIndexOutOfBoundsException";class H{static fill(e,n){for(let o=0,l=e.length;o<l;o++)e[o]=n}static fillWithin(e,n,o,l){H.rangeCheck(e.length,n,o);for(let u=n;u<o;u++)e[u]=l}static rangeCheck(e,n,o){if(n>o)throw new I("fromIndex("+n+") > toIndex("+o+")");if(n<0)throw new z(n);if(o>e)throw new z(o)}static asList(...e){return e}static create(e,n,o){return Array.from({length:e}).map(u=>Array.from({length:n}).fill(o))}static createInt32Array(e,n,o){return Array.from({length:e}).map(u=>Int32Array.from({length:n}).fill(o))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let o=0,l=e.length;o<l;o++)if(e[o]!==n[o])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const o of e)n=31*n+o;return n}static fillUint8Array(e,n){for(let o=0;o!==e.length;o++)e[o]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const o=new Uint8Array(n);return o.set(e),o}return e.slice(0,n)}static copyOfRange(e,n,o){const l=o-n,u=new Int32Array(l);return B.arraycopy(e,n,u,0,l),u}static binarySearch(e,n,o){o===void 0&&(o=H.numberComparator);let l=0,u=e.length-1;for(;l<=u;){const f=u+l>>1,g=o(n,e[f]);if(g>0)l=f+1;else if(g<0)u=f-1;else return f}return-l-1}static numberComparator(e,n){return e-n}}class V{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let o=31;return n=e<<16,n!==0&&(o-=16,e=n),n=e<<8,n!==0&&(o-=8,e=n),n=e<<4,n!==0&&(o-=4,e=n),n=e<<2,n!==0&&(o-=2,e=n),o-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class te{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=te.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=te.makeArray(e);B.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const o=this.bits;let l=Math.floor(e/32),u=o[l];u&=~((1<<(e&31))-1);const f=o.length;for(;u===0;){if(++l===f)return n;u=o[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>n?n:g}getNextUnset(e){const n=this.size;if(e>=n)return n;const o=this.bits;let l=Math.floor(e/32),u=~o[l];u&=~((1<<(e&31))-1);const f=o.length;for(;u===0;){if(++l===f)return n;u=~o[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>n?n:g}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new I;if(n===e)return;n--;const o=Math.floor(e/32),l=Math.floor(n/32),u=this.bits;for(let f=o;f<=l;f++){const g=f>o?0:e&31,v=(2<<(f<l?31:n&31))-(1<<g);u[f]|=v}}clear(){const e=this.bits.length,n=this.bits;for(let o=0;o<e;o++)n[o]=0}isRange(e,n,o){if(n<e||e<0||n>this.size)throw new I;if(n===e)return!0;n--;const l=Math.floor(e/32),u=Math.floor(n/32),f=this.bits;for(let g=l;g<=u;g++){const y=g>l?0:e&31,b=(2<<(g<u?31:n&31))-(1<<y)&4294967295;if((f[g]&b)!==(o?b:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let o=n;o>0;o--)this.appendBit((e>>o-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let o=0;o<n;o++)this.appendBit(e.get(o))}xor(e){if(this.size!==e.size)throw new I("Sizes don't match");const n=this.bits;for(let o=0,l=n.length;o<l;o++)n[o]^=e.bits[o]}toBytes(e,n,o,l){for(let u=0;u<l;u++){let f=0;for(let g=0;g<8;g++)this.get(e)&&(f|=1<<7-g),e++;n[o+u]=f}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),o=n+1,l=this.bits;for(let u=0;u<o;u++){let f=l[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,e[n-u]=f}if(this.size!==o*32){const u=o*32-this.size;let f=e[0]>>>u;for(let g=1;g<o;g++){const y=e[g];f|=y<<32-u,e[g-1]=f,f=y>>>u}e[o-1]=f}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof te))return!1;const n=e;return this.size===n.size&&H.equals(this.bits,n.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let e="";for(let n=0,o=this.size;n<o;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new te(this.size,this.bits.slice())}}var le;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(le||(le={}));var ce=le;class $ extends x{static getFormatInstance(){return new $}}$.kind="FormatException";var ue;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(ue||(ue={}));class ee{constructor(e,n,o,...l){this.valueIdentifier=e,this.name=o,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,ee.VALUE_IDENTIFIER_TO_ECI.set(e,this),ee.NAME_TO_ECI.set(o,this);const u=this.values;for(let f=0,g=u.length;f!==g;f++){const y=u[f];ee.VALUES_TO_ECI.set(y,this)}for(const f of l)ee.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new $("incorect value");const n=ee.VALUES_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}static getCharacterSetECIByName(e){const n=ee.NAME_TO_ECI.get(e);if(n===void 0)throw new $("incorect value");return n}equals(e){if(!(e instanceof ee))return!1;const n=e;return this.getName()===n.getName()}}ee.VALUE_IDENTIFIER_TO_ECI=new Map,ee.VALUES_TO_ECI=new Map,ee.NAME_TO_ECI=new Map,ee.Cp437=new ee(ue.Cp437,Int32Array.from([0,2]),"Cp437"),ee.ISO8859_1=new ee(ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ee.ISO8859_2=new ee(ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ee.ISO8859_3=new ee(ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ee.ISO8859_4=new ee(ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ee.ISO8859_5=new ee(ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ee.ISO8859_6=new ee(ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ee.ISO8859_7=new ee(ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ee.ISO8859_8=new ee(ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ee.ISO8859_9=new ee(ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ee.ISO8859_10=new ee(ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ee.ISO8859_11=new ee(ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ee.ISO8859_13=new ee(ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ee.ISO8859_14=new ee(ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ee.ISO8859_15=new ee(ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ee.ISO8859_16=new ee(ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ee.SJIS=new ee(ue.SJIS,20,"SJIS","Shift_JIS"),ee.Cp1250=new ee(ue.Cp1250,21,"Cp1250","windows-1250"),ee.Cp1251=new ee(ue.Cp1251,22,"Cp1251","windows-1251"),ee.Cp1252=new ee(ue.Cp1252,23,"Cp1252","windows-1252"),ee.Cp1256=new ee(ue.Cp1256,24,"Cp1256","windows-1256"),ee.UnicodeBigUnmarked=new ee(ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ee.UTF8=new ee(ue.UTF8,26,"UTF8","UTF-8"),ee.ASCII=new ee(ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ee.Big5=new ee(ue.Big5,28,"Big5"),ee.GB18030=new ee(ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ee.EUC_KR=new ee(ue.EUC_KR,30,"EUC_KR","EUC-KR");class Oe extends x{}Oe.kind="UnsupportedOperationException";class Be{static decode(e,n){const o=this.encodingName(n);return this.customDecoder?this.customDecoder(e,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(e,o):new TextDecoder(o).decode(e)}static shouldDecodeOnFallback(e){return!Be.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const o=this.encodingName(n);return this.customEncoder?this.customEncoder(e,o):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ee?e:ee.getCharacterSetECIByName(e)}static decodeFallback(e,n){const o=this.encodingCharacterSet(n);if(Be.isDecodeFallbackSupported(o)){let l="";for(let u=0,f=e.length;u<f;u++){let g=e[u].toString(16);g.length<2&&(g="0"+g),l+="%"+g}return decodeURIComponent(l)}if(o.equals(ee.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Oe(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ee.UTF8)||e.equals(ee.ISO8859_1)||e.equals(ee.ASCII)}static encodeFallback(e){const o=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let u=0;u<o.length;u++)l.push(o[u].charCodeAt(0));return new Uint8Array(l)}}class Ie{static castAsNonUtf8Char(e,n=null){const o=n?n.getName():this.ISO88591;return Be.decode(new Uint8Array([e]),o)}static guessEncoding(e,n){if(n!=null&&n.get(ce.CHARACTER_SET)!==void 0)return n.get(ce.CHARACTER_SET).toString();const o=e.length;let l=!0,u=!0,f=!0,g=0,y=0,v=0,b=0,M=0,D=0,U=0,G=0,Z=0,Q=0,se=0;const we=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ve=0;ve<o&&(l||u||f);ve++){const ge=e[ve]&255;f&&(g>0?ge&128?g--:f=!1:ge&128&&(ge&64?(g++,ge&32?(g++,ge&16?(g++,ge&8?f=!1:b++):v++):y++):f=!1)),l&&(ge>127&&ge<160?l=!1:ge>159&&(ge<192||ge===215||ge===247)&&se++),u&&(M>0?ge<64||ge===127||ge>252?u=!1:M--:ge===128||ge===160||ge>239?u=!1:ge>160&&ge<224?(D++,G=0,U++,U>Z&&(Z=U)):ge>127?(M++,U=0,G++,G>Q&&(Q=G)):(U=0,G=0))}return f&&g>0&&(f=!1),u&&M>0&&(u=!1),f&&(we||y+v+b>0)?Ie.UTF8:u&&(Ie.ASSUME_SHIFT_JIS||Z>=3||Q>=3)?Ie.SHIFT_JIS:l&&u?Z===2&&D===2||se*10>=o?Ie.SHIFT_JIS:Ie.ISO88591:l?Ie.ISO88591:u?Ie.SHIFT_JIS:f?Ie.UTF8:Ie.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let o=-1;function l(f,g,y,v,b,M){if(f==="%%")return"%";if(n[++o]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=n[o];break;case"c":U=n[o][0];break;case"f":U=parseFloat(n[o]).toFixed(f);break;case"p":U=parseFloat(n[o]).toPrecision(f);break;case"e":U=parseFloat(n[o]).toExponential(f);break;case"x":U=parseInt(n[o]).toString(D||16);break;case"d":U=parseFloat(parseInt(n[o],D||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(D);let G=parseInt(y),Z=y&&y[0]+""=="0"?"0":" ";for(;U.length<G;)U=g!==void 0?U+Z:Z+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}static getBytes(e,n){return Be.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Ie.SHIFT_JIS=ee.SJIS.getName(),Ie.GB2312="GB2312",Ie.ISO88591=ee.ISO8859_1.getName(),Ie.EUC_JP="EUC_JP",Ie.UTF8=ee.UTF8.getName(),Ie.PLATFORM_DEFAULT_ENCODING=Ie.UTF8,Ie.ASSUME_SHIFT_JIS=!1;class be{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ie.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,o){for(let l=n;n<n+o;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class Ve{constructor(e,n,o,l){if(this.width=e,this.height=n,this.rowSize=o,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new I("Both dimensions must be greater than 0");o==null&&(o=Math.floor((e+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,o=e[0].length,l=new Ve(o,n);for(let u=0;u<n;u++){const f=e[u];for(let g=0;g<o;g++)f[g]&&l.set(g,u)}return l}static parseFromString(e,n,o){if(e===null)throw new I("stringRepresentation cannot be null");const l=new Array(e.length);let u=0,f=0,g=-1,y=0,v=0;for(;v<e.length;)if(e.charAt(v)===`
`||e.charAt(v)==="\r"){if(u>f){if(g===-1)g=u-f;else if(u-f!==g)throw new I("row lengths do not match");f=u,y++}v++}else if(e.substring(v,v+n.length)===n)v+=n.length,l[u]=!0,u++;else if(e.substring(v,v+o.length)===o)v+=o.length,l[u]=!1,u++;else throw new I("illegal character encountered: "+e.substring(v));if(u>f){if(g===-1)g=u-f;else if(u-f!==g)throw new I("row lengths do not match");y++}const b=new Ve(g,y);for(let M=0;M<u;M++)l[M]&&b.set(Math.floor(M%g),Math.floor(M/g));return b}get(e,n){const o=n*this.rowSize+Math.floor(e/32);return(this.bits[o]>>>(e&31)&1)!==0}set(e,n){const o=n*this.rowSize+Math.floor(e/32);this.bits[o]|=1<<(e&31)&4294967295}unset(e,n){const o=n*this.rowSize+Math.floor(e/32);this.bits[o]&=~(1<<(e&31)&4294967295)}flip(e,n){const o=n*this.rowSize+Math.floor(e/32);this.bits[o]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new I("input matrix dimensions do not match");const n=new te(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let u=0,f=this.height;u<f;u++){const g=u*o,y=e.getRow(u,n).getBitArray();for(let v=0;v<o;v++)l[g+v]^=y[v]}}clear(){const e=this.bits,n=e.length;for(let o=0;o<n;o++)e[o]=0}setRegion(e,n,o,l){if(n<0||e<0)throw new I("Left and top must be nonnegative");if(l<1||o<1)throw new I("Height and width must be at least 1");const u=e+o,f=n+l;if(f>this.height||u>this.width)throw new I("The region must fit inside the matrix");const g=this.rowSize,y=this.bits;for(let v=n;v<f;v++){const b=v*g;for(let M=e;M<u;M++)y[b+Math.floor(M/32)]|=1<<(M&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new te(this.width):n.clear();const o=this.rowSize,l=this.bits,u=e*o;for(let f=0;f<o;f++)n.setBulk(f*32,l[u+f]);return n}setRow(e,n){B.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let o=new te(e),l=new te(e);for(let u=0,f=Math.floor((n+1)/2);u<f;u++)o=this.getRow(u,o),l=this.getRow(n-1-u,l),o.reverse(),l.reverse(),this.setRow(u,l),this.setRow(n-1-u,o)}getEnclosingRectangle(){const e=this.width,n=this.height,o=this.rowSize,l=this.bits;let u=e,f=n,g=-1,y=-1;for(let v=0;v<n;v++)for(let b=0;b<o;b++){const M=l[v*o+b];if(M!==0){if(v<f&&(f=v),v>y&&(y=v),b*32<u){let D=0;for(;!(M<<31-D&4294967295);)D++;b*32+D<u&&(u=b*32+D)}if(b*32+31>g){let D=31;for(;!(M>>>D);)D--;b*32+D>g&&(g=b*32+D)}}}return g<u||y<f?null:Int32Array.from([u,f,g-u+1,y-f+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let o=0;for(;o<n.length&&n[o]===0;)o++;if(o===n.length)return null;const l=o/e;let u=o%e*32;const f=n[o];let g=0;for(;!(f<<31-g&4294967295);)g++;return u+=g,Int32Array.from([u,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let o=n.length-1;for(;o>=0&&n[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/e);let u=Math.floor(o%e)*32;const f=n[o];let g=31;for(;!(f>>>g);)g--;return u+=g,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Ve))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&H.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+H.hashCode(this.bits),e}toString(e="X ",n="  ",o=`
`){return this.buildToString(e,n,o)}buildToString(e,n,o){let l=new be;for(let u=0,f=this.height;u<f;u++){for(let g=0,y=this.width;g<y;g++)l.append(this.get(g,u)?e:n);l.append(o)}return l.toString()}clone(){return new Ve(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends x{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class Me extends k{constructor(e){super(e),this.luminances=Me.EMPTY,this.buckets=new Int32Array(Me.LUMINANCE_BUCKETS)}getBlackRow(e,n){const o=this.getLuminanceSource(),l=o.getWidth();n==null||n.getSize()<l?n=new te(l):n.clear(),this.initArrays(l);const u=o.getRow(e,this.luminances),f=this.buckets;for(let y=0;y<l;y++)f[(u[y]&255)>>Me.LUMINANCE_SHIFT]++;const g=Me.estimateBlackPoint(f);if(l<3)for(let y=0;y<l;y++)(u[y]&255)<g&&n.set(y);else{let y=u[0]&255,v=u[1]&255;for(let b=1;b<l-1;b++){const M=u[b+1]&255;(v*4-y-M)/2<g&&n.set(b),y=v,v=M}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),o=e.getHeight(),l=new Ve(n,o);this.initArrays(n);const u=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(o*y/5),b=e.getRow(v,this.luminances),M=Math.floor(n*4/5);for(let D=Math.floor(n/5);D<M;D++){const U=b[D]&255;u[U>>Me.LUMINANCE_SHIFT]++}}const f=Me.estimateBlackPoint(u),g=e.getMatrix();for(let y=0;y<o;y++){const v=y*n;for(let b=0;b<n;b++)(g[v+b]&255)<f&&l.set(b,y)}return l}createBinarizer(e){return new Me(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let o=0;o<Me.LUMINANCE_BUCKETS;o++)n[o]=0}static estimateBlackPoint(e){const n=e.length;let o=0,l=0,u=0;for(let b=0;b<n;b++)e[b]>u&&(l=b,u=e[b]),e[b]>o&&(o=e[b]);let f=0,g=0;for(let b=0;b<n;b++){const M=b-l,D=e[b]*M*M;D>g&&(f=b,g=D)}if(l>f){const b=l;l=f,f=b}if(f-l<=n/16)throw new re;let y=f-1,v=-1;for(let b=f-1;b>l;b--){const M=b-l,D=M*M*(f-b)*(o-e[b]);D>v&&(y=b,v=D)}return y<<Me.LUMINANCE_SHIFT}}Me.LUMINANCE_BITS=5,Me.LUMINANCE_SHIFT=8-Me.LUMINANCE_BITS,Me.LUMINANCE_BUCKETS=1<<Me.LUMINANCE_BITS,Me.EMPTY=Uint8ClampedArray.from([0]);class me extends Me{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),o=e.getHeight();if(n>=me.MINIMUM_DIMENSION&&o>=me.MINIMUM_DIMENSION){const l=e.getMatrix();let u=n>>me.BLOCK_SIZE_POWER;n&me.BLOCK_SIZE_MASK&&u++;let f=o>>me.BLOCK_SIZE_POWER;o&me.BLOCK_SIZE_MASK&&f++;const g=me.calculateBlackPoints(l,u,f,n,o),y=new Ve(n,o);me.calculateThresholdForBlock(l,u,f,n,o,g,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new me(e)}static calculateThresholdForBlock(e,n,o,l,u,f,g){const y=u-me.BLOCK_SIZE,v=l-me.BLOCK_SIZE;for(let b=0;b<o;b++){let M=b<<me.BLOCK_SIZE_POWER;M>y&&(M=y);const D=me.cap(b,2,o-3);for(let U=0;U<n;U++){let G=U<<me.BLOCK_SIZE_POWER;G>v&&(G=v);const Z=me.cap(U,2,n-3);let Q=0;for(let we=-2;we<=2;we++){const ve=f[D+we];Q+=ve[Z-2]+ve[Z-1]+ve[Z]+ve[Z+1]+ve[Z+2]}const se=Q/25;me.thresholdBlock(e,G,M,se,l,g)}}}static cap(e,n,o){return e<n?n:e>o?o:e}static thresholdBlock(e,n,o,l,u,f){for(let g=0,y=o*u+n;g<me.BLOCK_SIZE;g++,y+=u)for(let v=0;v<me.BLOCK_SIZE;v++)(e[y+v]&255)<=l&&f.set(n+v,o+g)}static calculateBlackPoints(e,n,o,l,u){const f=u-me.BLOCK_SIZE,g=l-me.BLOCK_SIZE,y=new Array(o);for(let v=0;v<o;v++){y[v]=new Int32Array(n);let b=v<<me.BLOCK_SIZE_POWER;b>f&&(b=f);for(let M=0;M<n;M++){let D=M<<me.BLOCK_SIZE_POWER;D>g&&(D=g);let U=0,G=255,Z=0;for(let se=0,we=b*l+D;se<me.BLOCK_SIZE;se++,we+=l){for(let ve=0;ve<me.BLOCK_SIZE;ve++){const ge=e[we+ve]&255;U+=ge,ge<G&&(G=ge),ge>Z&&(Z=ge)}if(Z-G>me.MIN_DYNAMIC_RANGE)for(se++,we+=l;se<me.BLOCK_SIZE;se++,we+=l)for(let ve=0;ve<me.BLOCK_SIZE;ve++)U+=e[we+ve]&255}let Q=U>>me.BLOCK_SIZE_POWER*2;if(Z-G<=me.MIN_DYNAMIC_RANGE&&(Q=G/2,v>0&&M>0)){const se=(y[v-1][M]+2*y[v][M-1]+y[v-1][M-1])/4;G<se&&(Q=se)}y[v][M]=Q}}return y}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class de{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,o,l){throw new Oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Oe("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new be;for(let o=0;o<this.height;o++){const l=this.getRow(o,e);for(let u=0;u<this.width;u++){const f=l[u]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",n.append(g)}n.append(`
`)}return n.toString()}}class Ee extends de{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const o=this.delegate.getRow(e,n),l=this.getWidth();for(let u=0;u<l;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(n);for(let l=0;l<n;l++)o[l]=255-(e[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,o,l){return new Ee(this.delegate.crop(e,n,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ee(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ee(this.delegate.rotateCounterClockwise45())}}class fe extends de{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return fe.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,o){const l=new Uint8ClampedArray(n*o);for(let u=0,f=0,g=e.length;u<g;u+=4,f++){let y;if(e[u+3]===0)y=255;else{const b=e[u],M=e[u+1],D=e[u+2];y=306*b+601*M+117*D+512>>10}l[f]=y}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const o=this.getWidth(),l=e*o;return n===null?n=this.buffer.slice(l,l+o):(n.length<o&&(n=new Uint8ClampedArray(o)),n.set(this.buffer.slice(l,l+o))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,o,l){return super.crop(e,n,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),o=n.getContext("2d"),l=e*fe.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*f),y=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*f);return n.width=g,n.height=y,o.translate(g/2,y/2),o.rotate(l),o.drawImage(this.canvas,u/-2,f/-2),this.buffer=fe.makeBufferFromCanvasImageData(n),this}invert(){return new Ee(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class X{constructor(e,n,o){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ne=(globalThis||tu||self||window||void 0)&&(globalThis||tu||self||window||void 0).__awaiter||function(R,e,n,o){function l(u){return u instanceof n?u:new n(function(f){f(u)})}return new(n||(n=Promise))(function(u,f){function g(b){try{v(o.next(b))}catch(M){f(M)}}function y(b){try{v(o.throw(b))}catch(M){f(M)}}function v(b){b.done?u(b.value):l(b.value).then(g,y)}v((o=o.apply(R,e||[])).next())})};class Ne{constructor(e,n=500,o){this.reader=e,this.timeBetweenScansMillis=n,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const o of e){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const u=o.deviceId||o.id,f=o.label||`Video device ${n.length+1}`,g=o.groupId,y={deviceId:u,label:f,kind:l,groupId:g};n.push(y)}return n})}getVideoInputDevices(){return ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new X(n.deviceId,n.label))})}findDeviceById(e){return ne(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(o=>o.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return ne(this,void 0,void 0,function*(){this.reset();let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return ne(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(o,n)})}decodeOnceFromStream(e,n){return ne(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(e,n,o){return ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,o)})}decodeFromVideoDevice(e,n,o){return ne(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,n,o)})}decodeFromConstraints(e,n,o){return ne(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,o)})}decodeFromStream(e,n,o){return ne(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return ne(this,void 0,void 0,function*(){const o=this.prepareVideoElement(n);return this.addVideoSource(o,e),this.videoElement=o,this.stream=e,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(e){return new Promise((n,o)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const o=document.getElementById(e);if(!o)throw new S(`element with id '${e}' not found`);if(o.nodeName.toLowerCase()!==n.toLowerCase())throw new S(`element with id '${e}' must be an ${n} element`);return o}decodeFromImage(e,n){if(!e&&!n)throw new S("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,o){if(e===void 0&&n===void 0)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,o):this.decodeFromVideoElementContinuously(e,o)}decodeFromImageElement(e){if(!e)throw new S("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let o;return this.isImageLoaded(n)?o=this.decodeOnce(n,!1,!0):o=this._decodeOnLoadImage(n),o}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const o=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(o,n)}_decodeFromVideoElementSetup(e){if(!e)throw new S("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const o=this._decodeOnLoadImage(n);return n.src=e,o}decodeFromVideoUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),o=this.decodeFromVideoElement(n);return n.src=e,o}decodeFromVideoUrlContinuously(e,n){if(!e)throw new S("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,n);return o.src=e,l}_decodeOnLoadImage(e){return new Promise((n,o)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,o),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,o=!0){this._stopAsyncDecode=!1;const l=(u,f)=>{if(this._stopAsyncDecode){f(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(e);u(g)}catch(g){const y=n&&g instanceof re,b=(g instanceof O||g instanceof $)&&o;if(y||b)return setTimeout(l,this._timeBetweenDecodingAttempts,u,f);f(g)}};return new Promise((u,f)=>l(u,f))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){n(null,l);const u=l instanceof O||l instanceof $,f=l instanceof re;(u||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,o){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,o=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),o=new fe(n),l=new me(o);return new N(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let o,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(o=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(o=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=o+"px",n.style.height=l+"px",n.width=o,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Fe{constructor(e,n,o=n==null?0:8*n.length,l,u,f=B.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=o,this.resultPoints=l,this.format=u,this.timestamp=f,this.text=e,this.rawBytes=n,o==null?this.numBits=n==null?0:8*n.length:this.numBits=o,this.resultPoints=l,this.format=u,this.resultMetadata=null,f==null?this.timestamp=B.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const o=new Array(n.length+e.length);B.arraycopy(n,0,o,0,n.length),B.arraycopy(e,0,o,n.length,e.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var Ae=it,dt;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dt||(dt={}));var He=dt;class gt{constructor(e,n,o,l,u=-1,f=-1){this.rawBytes=e,this.text=n,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class zt{exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Yt{constructor(e,n){if(n.length===0)throw new I;this.field=e;const o=n.length;if(o>1&&n[0]===0){let l=1;for(;l<o&&n[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),B.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let o;if(e===1){o=0;for(let f=0,g=n.length;f!==g;f++){const y=n[f];o=zt.addOrSubtract(o,y)}return o}o=n[0];const l=n.length,u=this.field;for(let f=1;f<l;f++)o=zt.addOrSubtract(u.multiply(e,o),n[f]);return o}addOrSubtract(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,o=e.coefficients;if(n.length>o.length){const f=n;n=o,o=f}let l=new Int32Array(o.length);const u=o.length-n.length;B.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=zt.addOrSubtract(n[f-u],o[f]);return new Yt(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,o=n.length,l=e.coefficients,u=l.length,f=new Int32Array(o+u-1),g=this.field;for(let y=0;y<o;y++){const v=n[y];for(let b=0;b<u;b++)f[y+b]=zt.addOrSubtract(f[y+b],g.multiply(v,l[b]))}return new Yt(g,f)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,o=this.field,l=new Int32Array(n),u=this.coefficients;for(let f=0;f<n;f++)l[f]=o.multiply(u[f],e);return new Yt(o,l)}multiplyByMonomial(e,n){if(e<0)throw new I;if(n===0)return this.field.getZero();const o=this.coefficients,l=o.length,u=new Int32Array(l+e),f=this.field;for(let g=0;g<l;g++)u[g]=f.multiply(o[g],n);return new Yt(f,u)}divide(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new I("Divide by 0");const n=this.field;let o=n.getZero(),l=this;const u=e.getCoefficient(e.getDegree()),f=n.inverse(u);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const g=l.getDegree()-e.getDegree(),y=n.multiply(l.getCoefficient(l.getDegree()),f),v=e.multiplyByMonomial(g,y),b=n.buildMonomial(g,y);o=o.addOrSubtract(b),l=l.addOrSubtract(v)}return[o,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let o=this.getCoefficient(n);if(o!==0){if(o<0?(e+=" - ",o=-o):e.length>0&&(e+=" + "),n===0||o!==1){const l=this.field.log(o);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class cr extends x{}cr.kind="ArithmeticException";class at extends zt{constructor(e,n,o){super(),this.primitive=e,this.size=n,this.generatorBase=o;const l=new Int32Array(n);let u=1;for(let g=0;g<n;g++)l[g]=u,u*=2,u>=n&&(u^=e,u&=n-1);this.expTable=l;const f=new Int32Array(n);for(let g=0;g<n-1;g++)f[l[g]]=g;this.logTable=f,this.zero=new Yt(this,Int32Array.from([0])),this.one=new Yt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new I;if(n===0)return this.zero;const o=new Int32Array(e+1);return o[0]=n,new Yt(this,o)}inverse(e){if(e===0)throw new cr;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}at.AZTEC_DATA_12=new at(4201,4096,1),at.AZTEC_DATA_10=new at(1033,1024,1),at.AZTEC_DATA_6=new at(67,64,1),at.AZTEC_PARAM=new at(19,16,1),at.QR_CODE_FIELD_256=new at(285,256,0),at.DATA_MATRIX_FIELD_256=new at(301,256,1),at.AZTEC_DATA_8=at.DATA_MATRIX_FIELD_256,at.MAXICODE_FIELD_64=at.AZTEC_DATA_6;class Rn extends x{}Rn.kind="ReedSolomonException";class Mn extends x{}Mn.kind="IllegalStateException";class fr{constructor(e){this.field=e}decode(e,n){const o=this.field,l=new Yt(o,e),u=new Int32Array(n);let f=!0;for(let U=0;U<n;U++){const G=l.evaluateAt(o.exp(U+o.getGeneratorBase()));u[u.length-1-U]=G,G!==0&&(f=!1)}if(f)return;const g=new Yt(o,u),y=this.runEuclideanAlgorithm(o.buildMonomial(n,1),g,n),v=y[0],b=y[1],M=this.findErrorLocations(v),D=this.findErrorMagnitudes(b,M);for(let U=0;U<M.length;U++){const G=e.length-1-o.log(M[U]);if(G<0)throw new Rn("Bad error location");e[G]=at.addOrSubtract(e[G],D[U])}}runEuclideanAlgorithm(e,n,o){if(e.getDegree()<n.getDegree()){const U=e;e=n,n=U}const l=this.field;let u=e,f=n,g=l.getZero(),y=l.getOne();for(;f.getDegree()>=(o/2|0);){let U=u,G=g;if(u=f,g=y,u.isZero())throw new Rn("r_{i-1} was zero");f=U;let Z=l.getZero();const Q=u.getCoefficient(u.getDegree()),se=l.inverse(Q);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const we=f.getDegree()-u.getDegree(),ve=l.multiply(f.getCoefficient(f.getDegree()),se);Z=Z.addOrSubtract(l.buildMonomial(we,ve)),f=f.addOrSubtract(u.multiplyByMonomial(we,ve))}if(y=Z.multiply(g).addOrSubtract(G),f.getDegree()>=u.getDegree())throw new Mn("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(v===0)throw new Rn("sigmaTilde(0) was zero");const b=l.inverse(v),M=y.multiplyScalar(b),D=f.multiplyScalar(b);return[M,D]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const o=new Int32Array(n);let l=0;const u=this.field;for(let f=1;f<u.getSize()&&l<n;f++)e.evaluateAt(f)===0&&(o[l]=u.inverse(f),l++);if(l!==n)throw new Rn("Error locator degree does not match number of roots");return o}findErrorMagnitudes(e,n){const o=n.length,l=new Int32Array(o),u=this.field;for(let f=0;f<o;f++){const g=u.inverse(n[f]);let y=1;for(let v=0;v<o;v++)if(f!==v){const b=u.multiply(n[v],g),M=b&1?b&-2:b|1;y=u.multiply(y,M)}l[f]=u.multiply(e.evaluateAt(g),u.inverse(y)),u.getGeneratorBase()!==0&&(l[f]=u.multiply(l[f],g))}return l}}var Vt;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(Vt||(Vt={}));class yt{decode(e){this.ddata=e;let n=e.getBits(),o=this.extractBits(n),l=this.correctBits(o),u=yt.convertBoolArrayToByteArray(l),f=yt.getEncodedData(l),g=new gt(u,f,null,null);return g.setNumBits(l.length),g}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,o=Vt.UPPER,l=Vt.UPPER,u="",f=0;for(;f<n;)if(l===Vt.BINARY){if(n-f<5)break;let g=yt.readCode(e,f,5);if(f+=5,g===0){if(n-f<11)break;g=yt.readCode(e,f,11)+31,f+=11}for(let y=0;y<g;y++){if(n-f<8){f=n;break}const v=yt.readCode(e,f,8);u+=Ie.castAsNonUtf8Char(v),f+=8}l=o}else{let g=l===Vt.DIGIT?4:5;if(n-f<g)break;let y=yt.readCode(e,f,g);f+=g;let v=yt.getCharacter(l,y);v.startsWith("CTRL_")?(o=l,l=yt.getTable(v.charAt(5)),v.charAt(6)==="L"&&(o=l)):(u+=v,l=o)}return u}static getTable(e){switch(e){case"L":return Vt.LOWER;case"P":return Vt.PUNCT;case"M":return Vt.MIXED;case"D":return Vt.DIGIT;case"B":return Vt.BINARY;case"U":default:return Vt.UPPER}}static getCharacter(e,n){switch(e){case Vt.UPPER:return yt.UPPER_TABLE[n];case Vt.LOWER:return yt.LOWER_TABLE[n];case Vt.MIXED:return yt.MIXED_TABLE[n];case Vt.PUNCT:return yt.PUNCT_TABLE[n];case Vt.DIGIT:return yt.DIGIT_TABLE[n];default:throw new Mn("Bad table")}}correctBits(e){let n,o;this.ddata.getNbLayers()<=2?(o=6,n=at.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,n=at.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,n=at.AZTEC_DATA_10):(o=12,n=at.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=e.length/o;if(u<l)throw new $;let f=e.length%o,g=new Int32Array(u);for(let D=0;D<u;D++,f+=o)g[D]=yt.readCode(e,f,o);try{new fr(n).decode(g,u-l)}catch(D){throw new $(D)}let y=(1<<o)-1,v=0;for(let D=0;D<l;D++){let U=g[D];if(U===0||U===y)throw new $;(U===1||U===y-1)&&v++}let b=new Array(l*o-v),M=0;for(let D=0;D<l;D++){let U=g[D];if(U===1||U===y-1)b.fill(U>1,M,M+o-1),M+=o-1;else for(let G=o-1;G>=0;--G)b[M++]=(U&1<<G)!==0}return b}extractBits(e){let n=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(n?11:14)+o*4,u=new Int32Array(l),f=new Array(this.totalBitsInLayer(o,n));if(n)for(let g=0;g<u.length;g++)u[g]=g;else{let g=l+1+2*V.truncDivision(V.truncDivision(l,2)-1,15),y=l/2,v=V.truncDivision(g,2);for(let b=0;b<y;b++){let M=b+V.truncDivision(b,15);u[y-b-1]=v-M-1,u[y+b]=v+M+1}}for(let g=0,y=0;g<o;g++){let v=(o-g)*4+(n?9:12),b=g*2,M=l-1-b;for(let D=0;D<v;D++){let U=D*2;for(let G=0;G<2;G++)f[y+U+G]=e.get(u[b+G],u[b+D]),f[y+2*v+U+G]=e.get(u[b+D],u[M-G]),f[y+4*v+U+G]=e.get(u[M-G],u[M-D]),f[y+6*v+U+G]=e.get(u[M-D],u[b+G])}y+=v*8}return f}static readCode(e,n,o){let l=0;for(let u=n;u<n+o;u++)l<<=1,e[u]&&(l|=1);return l}static readByte(e,n){let o=e.length-n;return o>=8?yt.readCode(e,n,8):yt.readCode(e,n,o)<<8-o}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let o=0;o<n.length;o++)n[o]=yt.readByte(e,8*o);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}yt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],yt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],yt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],yt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],yt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,o,l){const u=e-o,f=n-l;return Math.sqrt(u*u+f*f)}static sum(e){let n=0;for(let o=0,l=e.length;o!==l;o++){const u=e[o];n+=u}return n}}class er{static floatToIntBits(e){return e}}er.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Ce){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*er.floatToIntBits(this.x)+er.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),o=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let u,f,g;if(o>=n&&o>=l?(f=e[0],u=e[1],g=e[2]):l>=o&&l>=n?(f=e[1],u=e[0],g=e[2]):(f=e[2],u=e[0],g=e[1]),this.crossProductZ(u,f,g)<0){const y=u;u=g,g=y}e[0]=u,e[1]=f,e[2]=g}static distance(e,n){return lt.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,o){const l=n.x,u=n.y;return(o.x-l)*(e.y-u)-(o.y-u)*(e.x-l)}}class Ke{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class Re extends Ke{constructor(e,n,o,l,u){super(e,n),this.compact=o,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ge{constructor(e,n,o,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Ge.INIT_SIZE),o==null&&(o=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const u=n/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let e=this.leftInit,n=this.rightInit,o=this.upInit,l=this.downInit,u=!1,f=!0,g=!1,y=!1,v=!1,b=!1,M=!1;const D=this.width,U=this.height;for(;f;){f=!1;let G=!0;for(;(G||!y)&&n<D;)G=this.containsBlackPoint(o,l,n,!1),G?(n++,f=!0,y=!0):y||n++;if(n>=D){u=!0;break}let Z=!0;for(;(Z||!v)&&l<U;)Z=this.containsBlackPoint(e,n,l,!0),Z?(l++,f=!0,v=!0):v||l++;if(l>=U){u=!0;break}let Q=!0;for(;(Q||!b)&&e>=0;)Q=this.containsBlackPoint(o,l,e,!1),Q?(e--,f=!0,b=!0):b||e--;if(e<0){u=!0;break}let se=!0;for(;(se||!M)&&o>=0;)se=this.containsBlackPoint(e,n,o,!0),se?(o--,f=!0,M=!0):M||o--;if(o<0){u=!0;break}f&&(g=!0)}if(!u&&g){const G=n-e;let Z=null;for(let ve=1;Z===null&&ve<G;ve++)Z=this.getBlackPointOnSegment(e,l-ve,e+ve,l);if(Z==null)throw new re;let Q=null;for(let ve=1;Q===null&&ve<G;ve++)Q=this.getBlackPointOnSegment(e,o+ve,e+ve,o);if(Q==null)throw new re;let se=null;for(let ve=1;se===null&&ve<G;ve++)se=this.getBlackPointOnSegment(n,o+ve,n-ve,o);if(se==null)throw new re;let we=null;for(let ve=1;we===null&&ve<G;ve++)we=this.getBlackPointOnSegment(n,l-ve,n-ve,l);if(we==null)throw new re;return this.centerEdges(we,Z,se,Q)}else throw new re}getBlackPointOnSegment(e,n,o,l){const u=lt.round(lt.distance(e,n,o,l)),f=(o-e)/u,g=(l-n)/u,y=this.image;for(let v=0;v<u;v++){const b=lt.round(e+v*f),M=lt.round(n+v*g);if(y.get(b,M))return new Ce(b,M)}return null}centerEdges(e,n,o,l){const u=e.getX(),f=e.getY(),g=n.getX(),y=n.getY(),v=o.getX(),b=o.getY(),M=l.getX(),D=l.getY(),U=Ge.CORR;return u<this.width/2?[new Ce(M-U,D+U),new Ce(g+U,y+U),new Ce(v-U,b-U),new Ce(u+U,f-U)]:[new Ce(M+U,D+U),new Ce(g+U,y-U),new Ce(v-U,b+U),new Ce(u-U,f-U)]}containsBlackPoint(e,n,o,l){const u=this.image;if(l){for(let f=e;f<=n;f++)if(u.get(f,o))return!0}else for(let f=e;f<=n;f++)if(u.get(o,f))return!0;return!1}}Ge.INIT_SIZE=10,Ge.CORR=1;class wt{static checkAndNudgePoints(e,n){const o=e.getWidth(),l=e.getHeight();let u=!0;for(let f=0;f<n.length&&u;f+=2){const g=Math.floor(n[f]),y=Math.floor(n[f+1]);if(g<-1||g>o||y<-1||y>l)throw new re;u=!1,g===-1?(n[f]=0,u=!0):g===o&&(n[f]=o-1,u=!0),y===-1?(n[f+1]=0,u=!0):y===l&&(n[f+1]=l-1,u=!0)}u=!0;for(let f=n.length-2;f>=0&&u;f-=2){const g=Math.floor(n[f]),y=Math.floor(n[f+1]);if(g<-1||g>o||y<-1||y>l)throw new re;u=!1,g===-1?(n[f]=0,u=!0):g===o&&(n[f]=o-1,u=!0),y===-1?(n[f+1]=0,u=!0):y===l&&(n[f+1]=l-1,u=!0)}}}class $e{constructor(e,n,o,l,u,f,g,y,v){this.a11=e,this.a21=n,this.a31=o,this.a12=l,this.a22=u,this.a32=f,this.a13=g,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(e,n,o,l,u,f,g,y,v,b,M,D,U,G,Z,Q){const se=$e.quadrilateralToSquare(e,n,o,l,u,f,g,y);return $e.squareToQuadrilateral(v,b,M,D,U,G,Z,Q).times(se)}transformPoints(e){const n=e.length,o=this.a11,l=this.a12,u=this.a13,f=this.a21,g=this.a22,y=this.a23,v=this.a31,b=this.a32,M=this.a33;for(let D=0;D<n;D+=2){const U=e[D],G=e[D+1],Z=u*U+y*G+M;e[D]=(o*U+f*G+v)/Z,e[D+1]=(l*U+g*G+b)/Z}}transformPointsWithValues(e,n){const o=this.a11,l=this.a12,u=this.a13,f=this.a21,g=this.a22,y=this.a23,v=this.a31,b=this.a32,M=this.a33,D=e.length;for(let U=0;U<D;U++){const G=e[U],Z=n[U],Q=u*G+y*Z+M;e[U]=(o*G+f*Z+v)/Q,n[U]=(l*G+g*Z+b)/Q}}static squareToQuadrilateral(e,n,o,l,u,f,g,y){const v=e-o+u-g,b=n-l+f-y;if(v===0&&b===0)return new $e(o-e,u-o,e,l-n,f-l,n,0,0,1);{const M=o-u,D=g-u,U=l-f,G=y-f,Z=M*G-D*U,Q=(v*G-D*b)/Z,se=(M*b-v*U)/Z;return new $e(o-e+Q*o,g-e+se*g,e,l-n+Q*l,y-n+se*y,n,Q,se,1)}}static quadrilateralToSquare(e,n,o,l,u,f,g,y){return $e.squareToQuadrilateral(e,n,o,l,u,f,g,y).buildAdjoint()}buildAdjoint(){return new $e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new $e(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Je extends wt{sampleGrid(e,n,o,l,u,f,g,y,v,b,M,D,U,G,Z,Q,se,we,ve){const ge=$e.quadrilateralToQuadrilateral(l,u,f,g,y,v,b,M,D,U,G,Z,Q,se,we,ve);return this.sampleGridWithTransform(e,n,o,ge)}sampleGridWithTransform(e,n,o,l){if(n<=0||o<=0)throw new re;const u=new Ve(n,o),f=new Float32Array(2*n);for(let g=0;g<o;g++){const y=f.length,v=g+.5;for(let b=0;b<y;b+=2)f[b]=b/2+.5,f[b+1]=v;l.transformPoints(f),wt.checkAndNudgePoints(e,f);try{for(let b=0;b<y;b+=2)e.get(Math.floor(f[b]),Math.floor(f[b+1]))&&u.set(b/2,g)}catch{throw new re}}return u}}class It{static setGridSampler(e){It.gridSampler=e}static getInstance(){return It.gridSampler}}It.gridSampler=new Je;class Et{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class jn{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),o=this.getBullsEyeCorners(n);if(e){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new Re(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new re;let n=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(o,n);let l=0;for(let f=0;f<4;f++){let g=o[(this.shift+f)%4];this.compact?(l<<=7,l+=g>>1&127):(l<<=10,l+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(e,n){let o=0;e.forEach((l,u,f)=>{let g=(l>>n-2<<1)+(l&1);o=(o<<3)+g}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(V.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new re}getCorrectedParameterData(e,n){let o,l;n?(o=7,l=2):(o=10,l=4);let u=o-l,f=new Int32Array(o);for(let y=o-1;y>=0;--y)f[y]=e&15,e>>=4;try{new fr(at.AZTEC_PARAM).decode(f,u)}catch{throw new re}let g=0;for(let y=0;y<l;y++)g=(g<<4)+f[y];return g}getBullsEyeCorners(e){let n=e,o=e,l=e,u=e,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let M=this.getFirstDifferent(n,f,1,-1),D=this.getFirstDifferent(o,f,1,1),U=this.getFirstDifferent(l,f,-1,1),G=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let Z=this.distancePoint(G,M)*this.nbCenterLayers/(this.distancePoint(u,n)*(this.nbCenterLayers+2));if(Z<.75||Z>1.25||!this.isWhiteOrBlackRectangle(M,D,U,G))break}n=M,o=D,l=U,u=G,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let g=new Ce(n.getX()+.5,n.getY()-.5),y=new Ce(o.getX()+.5,o.getY()+.5),v=new Ce(l.getX()-.5,l.getY()+.5),b=new Ce(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,y,v,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,o,l;try{let g=new Ge(this.image).detect();e=g[0],n=g[1],o=g[2],l=g[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;e=this.getFirstDifferent(new Et(y+7,v-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Et(y+7,v+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Et(y-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Et(y-7,v-7),!1,-1,-1).toResultPoint()}let u=lt.round((e.getX()+l.getX()+n.getX()+o.getX())/4),f=lt.round((e.getY()+l.getY()+n.getY()+o.getY())/4);try{let g=new Ge(this.image,15,u,f).detect();e=g[0],n=g[1],o=g[2],l=g[3]}catch{e=this.getFirstDifferent(new Et(u+7,f-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Et(u+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Et(u-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Et(u-7,f-7),!1,-1,-1).toResultPoint()}return u=lt.round((e.getX()+l.getX()+n.getX()+o.getX())/4),f=lt.round((e.getY()+l.getY()+n.getY()+o.getY())/4),new Et(u,f)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,o,l,u){let f=It.getInstance(),g=this.getDimension(),y=g/2-this.nbCenterLayers,v=g/2+this.nbCenterLayers;return f.sampleGrid(e,g,g,y,y,v,y,v,v,y,v,n.getX(),n.getY(),o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(e,n,o){let l=0,u=this.distanceResultPoint(e,n),f=u/o,g=e.getX(),y=e.getY(),v=f*(n.getX()-e.getX())/u,b=f*(n.getY()-e.getY())/u;for(let M=0;M<o;M++)this.image.get(lt.round(g+M*v),lt.round(y+M*b))&&(l|=1<<o-M-1);return l}isWhiteOrBlackRectangle(e,n,o,l){let u=3;e=new Et(e.getX()-u,e.getY()+u),n=new Et(n.getX()-u,n.getY()-u),o=new Et(o.getX()+u,o.getY()-u),l=new Et(l.getX()+u,l.getY()+u);let f=this.getColor(l,e);if(f===0)return!1;let g=this.getColor(e,n);return g!==f||(g=this.getColor(n,o),g!==f)?!1:(g=this.getColor(o,l),g===f)}getColor(e,n){let o=this.distancePoint(e,n),l=(n.getX()-e.getX())/o,u=(n.getY()-e.getY())/o,f=0,g=e.getX(),y=e.getY(),v=this.image.get(e.getX(),e.getY()),b=Math.ceil(o);for(let D=0;D<b;D++)g+=l,y+=u,this.image.get(lt.round(g),lt.round(y))!==v&&f++;let M=f/o;return M>.1&&M<.9?0:M<=.1===v?1:-1}getFirstDifferent(e,n,o,l){let u=e.getX()+o,f=e.getY()+l;for(;this.isValid(u,f)&&this.image.get(u,f)===n;)u+=o,f+=l;for(u-=o,f-=l;this.isValid(u,f)&&this.image.get(u,f)===n;)u+=o;for(u-=o;this.isValid(u,f)&&this.image.get(u,f)===n;)f+=l;return f-=l,new Et(u,f)}expandSquare(e,n,o){let l=o/(2*n),u=e[0].getX()-e[2].getX(),f=e[0].getY()-e[2].getY(),g=(e[0].getX()+e[2].getX())/2,y=(e[0].getY()+e[2].getY())/2,v=new Ce(g+l*u,y+l*f),b=new Ce(g-l*u,y-l*f);u=e[1].getX()-e[3].getX(),f=e[1].getY()-e[3].getY(),g=(e[1].getX()+e[3].getX())/2,y=(e[1].getY()+e[3].getY())/2;let M=new Ce(g+l*u,y+l*f),D=new Ce(g-l*u,y-l*f);return[v,M,b,D]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=lt.round(e.getX()),o=lt.round(e.getY());return this.isValid(n,o)}distancePoint(e,n){return lt.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return lt.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class mn{decode(e,n=null){let o=null,l=new jn(e.getBlackMatrix()),u=null,f=null;try{let b=l.detectMirror(!1);u=b.getPoints(),this.reportFoundResultPoints(n,u),f=new yt().decode(b)}catch(b){o=b}if(f==null)try{let b=l.detectMirror(!0);u=b.getPoints(),this.reportFoundResultPoints(n,u),f=new yt().decode(b)}catch(b){throw o??b}let g=new Fe(f.getText(),f.getRawBytes(),f.getNumBits(),u,Ae.AZTEC,B.currentTimeMillis()),y=f.getByteSegments();y!=null&&g.putMetadata(He.BYTE_SEGMENTS,y);let v=f.getECLevel();return v!=null&&g.putMetadata(He.ERROR_CORRECTION_LEVEL,v),g}reportFoundResultPoints(e,n){if(e!=null){let o=e.get(ce.NEED_RESULT_POINT_CALLBACK);o!=null&&n.forEach((l,u,f)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class ds extends Ne{constructor(e=500){super(new mn,e)}}class Rt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(ce.TRY_HARDER)===!0&&e.isRotateSupported()){const u=e.rotateCounterClockwise(),f=this.doDecode(u,n),g=f.getResultMetadata();let y=270;g!==null&&g.get(He.ORIENTATION)===!0&&(y=y+g.get(He.ORIENTATION)%360),f.putMetadata(He.ORIENTATION,y);const v=f.getResultPoints();if(v!==null){const b=u.getHeight();for(let M=0;M<v.length;M++)v[M]=new Ce(b-v[M].getY()-1,v[M].getX())}return f}else throw new re}}reset(){}doDecode(e,n){const o=e.getWidth(),l=e.getHeight();let u=new te(o);const f=n&&n.get(ce.TRY_HARDER)===!0,g=Math.max(1,l>>(f?8:5));let y;f?y=l:y=15;const v=Math.trunc(l/2);for(let b=0;b<y;b++){const M=Math.trunc((b+1)/2),D=(b&1)===0,U=v+g*(D?M:-M);if(U<0||U>=l)break;try{u=e.getBlackRow(U,u)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(u.reverse(),n&&n.get(ce.NEED_RESULT_POINT_CALLBACK)===!0)){const Z=new Map;n.forEach((Q,se)=>Z.set(se,Q)),Z.delete(ce.NEED_RESULT_POINT_CALLBACK),n=Z}try{const Z=this.decodeRow(U,u,n);if(G===1){Z.putMetadata(He.ORIENTATION,180);const Q=Z.getResultPoints();Q!==null&&(Q[0]=new Ce(o-Q[0].getX()-1,Q[0].getY()),Q[1]=new Ce(o-Q[1].getX()-1,Q[1].getY()))}return Z}catch{}}}throw new re}static recordPattern(e,n,o){const l=o.length;for(let v=0;v<l;v++)o[v]=0;const u=e.getSize();if(n>=u)throw new re;let f=!e.get(n),g=0,y=n;for(;y<u;){if(e.get(y)!==f)o[g]++;else{if(++g===l)break;o[g]=1,f=!f}y++}if(!(g===l||g===l-1&&y===u))throw new re}static recordPatternInReverse(e,n,o){let l=o.length,u=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==u&&(l--,u=!u);if(l>=0)throw new re;Rt.recordPattern(e,n+1,o)}static patternMatchVariance(e,n,o){const l=e.length;let u=0,f=0;for(let v=0;v<l;v++)u+=e[v],f+=n[v];if(u<f)return Number.POSITIVE_INFINITY;const g=u/f;o*=g;let y=0;for(let v=0;v<l;v++){const b=e[v],M=n[v]*g,D=b>M?b-M:M-b;if(D>o)return Number.POSITIVE_INFINITY;y+=D}return y/u}}class Te extends Rt{static findStartPattern(e){const n=e.getSize(),o=e.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),f=o,g=!1;const y=6;for(let v=o;v<n;v++)if(e.get(v)!==g)u[l]++;else{if(l===y-1){let b=Te.MAX_AVG_VARIANCE,M=-1;for(let D=Te.CODE_START_A;D<=Te.CODE_START_C;D++){const U=Rt.patternMatchVariance(u,Te.CODE_PATTERNS[D],Te.MAX_INDIVIDUAL_VARIANCE);U<b&&(b=U,M=D)}if(M>=0&&e.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,M]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,g=!g}throw new re}static decodeCode(e,n,o){Rt.recordPattern(e,o,n);let l=Te.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<Te.CODE_PATTERNS.length;f++){const g=Te.CODE_PATTERNS[f],y=this.patternMatchVariance(n,g,Te.MAX_INDIVIDUAL_VARIANCE);y<l&&(l=y,u=f)}if(u>=0)return u;throw new re}decodeRow(e,n,o){const l=o&&o.get(ce.ASSUME_GS1)===!0,u=Te.findStartPattern(n),f=u[2];let g=0;const y=new Uint8Array(20);y[g++]=f;let v;switch(f){case Te.CODE_START_A:v=Te.CODE_CODE_A;break;case Te.CODE_START_B:v=Te.CODE_CODE_B;break;case Te.CODE_START_C:v=Te.CODE_CODE_C;break;default:throw new $}let b=!1,M=!1,D="",U=u[0],G=u[1];const Z=Int32Array.from([0,0,0,0,0,0]);let Q=0,se=0,we=f,ve=0,ge=!0,ut=!1,nt=!1;for(;!b;){const Vr=M;switch(M=!1,Q=se,se=Te.decodeCode(n,Z,G),y[g++]=se,se!==Te.CODE_STOP&&(ge=!0),se!==Te.CODE_STOP&&(ve++,we+=ve*se),U=G,G+=Z.reduce((Hi,Jo)=>Hi+Jo,0),se){case Te.CODE_START_A:case Te.CODE_START_B:case Te.CODE_START_C:throw new $}switch(v){case Te.CODE_CODE_A:if(se<64)nt===ut?D+=String.fromCharCode(32+se):D+=String.fromCharCode(32+se+128),nt=!1;else if(se<96)nt===ut?D+=String.fromCharCode(se-64):D+=String.fromCharCode(se+64),nt=!1;else switch(se!==Te.CODE_STOP&&(ge=!1),se){case Te.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_A:!ut&&nt?(ut=!0,nt=!1):ut&&nt?(ut=!1,nt=!1):nt=!0;break;case Te.CODE_SHIFT:M=!0,v=Te.CODE_CODE_B;break;case Te.CODE_CODE_B:v=Te.CODE_CODE_B;break;case Te.CODE_CODE_C:v=Te.CODE_CODE_C;break;case Te.CODE_STOP:b=!0;break}break;case Te.CODE_CODE_B:if(se<96)nt===ut?D+=String.fromCharCode(32+se):D+=String.fromCharCode(32+se+128),nt=!1;else switch(se!==Te.CODE_STOP&&(ge=!1),se){case Te.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_B:!ut&&nt?(ut=!0,nt=!1):ut&&nt?(ut=!1,nt=!1):nt=!0;break;case Te.CODE_SHIFT:M=!0,v=Te.CODE_CODE_A;break;case Te.CODE_CODE_A:v=Te.CODE_CODE_A;break;case Te.CODE_CODE_C:v=Te.CODE_CODE_C;break;case Te.CODE_STOP:b=!0;break}break;case Te.CODE_CODE_C:if(se<100)se<10&&(D+="0"),D+=se;else switch(se!==Te.CODE_STOP&&(ge=!1),se){case Te.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Te.CODE_CODE_A:v=Te.CODE_CODE_A;break;case Te.CODE_CODE_B:v=Te.CODE_CODE_B;break;case Te.CODE_STOP:b=!0;break}break}Vr&&(v=v===Te.CODE_CODE_A?Te.CODE_CODE_B:Te.CODE_CODE_A)}const Wn=G-U;if(G=n.getNextUnset(G),!n.isRange(G,Math.min(n.getSize(),G+(G-U)/2),!1))throw new re;if(we-=ve*Q,we%103!==Q)throw new O;const yr=D.length;if(yr===0)throw new re;yr>0&&ge&&(v===Te.CODE_CODE_C?D=D.substring(0,yr-2):D=D.substring(0,yr-1));const fn=(u[1]+u[0])/2,Tt=U+Wn/2,Qt=y.length,Pn=new Uint8Array(Qt);for(let Vr=0;Vr<Qt;Vr++)Pn[Vr]=y[Vr];const wi=[new Ce(fn,e),new Ce(Tt,e)];return new Fe(D,Pn,0,wi,Ae.CODE_128,new Date().getTime())}}Te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Te.MAX_AVG_VARIANCE=.25,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.CODE_SHIFT=98,Te.CODE_CODE_C=99,Te.CODE_CODE_B=100,Te.CODE_CODE_A=101,Te.CODE_FNC_1=102,Te.CODE_FNC_2=97,Te.CODE_FNC_3=96,Te.CODE_FNC_4_A=101,Te.CODE_FNC_4_B=100,Te.CODE_START_A=103,Te.CODE_START_B=104,Te.CODE_START_C=105,Te.CODE_STOP=106;class ln extends Rt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=ln.findAsteriskPattern(n,l),f=n.getNextSet(u[1]),g=n.getSize(),y,v;do{ln.recordPattern(n,f,l);let Z=ln.toNarrowWidePattern(l);if(Z<0)throw new re;y=ln.patternToChar(Z),this.decodeRowResult+=y,v=f;for(let Q of l)f+=Q;f=n.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let Z of l)b+=Z;let M=f-v-b;if(f!==g&&M*2<b)throw new re;if(this.usingCheckDigit){let Z=this.decodeRowResult.length-1,Q=0;for(let se=0;se<Z;se++)Q+=ln.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(se));if(this.decodeRowResult.charAt(Z)!==ln.ALPHABET_STRING.charAt(Q%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,Z)}if(this.decodeRowResult.length===0)throw new re;let D;this.extendedMode?D=ln.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let U=(u[1]+u[0])/2,G=v+b/2;return new Fe(D,null,0,[new Ce(U,e),new Ce(G,e)],Ae.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let o=e.getSize(),l=e.getNextSet(0),u=0,f=l,g=!1,y=n.length;for(let v=l;v<o;v++)if(e.get(v)!==g)n[u]++;else{if(u===y-1){if(this.toNarrowWidePattern(n)===ln.ASTERISK_ENCODING&&e.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=n[0]+n[1],n.copyWithin(0,2,2+u-1),n[u-1]=0,n[u]=0,u--}else u++;n[u]=1,g=!g}throw new re}static toNarrowWidePattern(e){let n=e.length,o=0,l;do{let u=2147483647;for(let y of e)y<u&&y>o&&(u=y);o=u,l=0;let f=0,g=0;for(let y=0;y<n;y++){let v=e[y];v>o&&(g|=1<<n-1-y,l++,f+=v)}if(l===3){for(let y=0;y<n&&l>0;y++){let v=e[y];if(v>o&&(l--,v*2>=f))return-1}return g}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<ln.CHARACTER_ENCODINGS.length;n++)if(ln.CHARACTER_ENCODINGS[n]===e)return ln.ALPHABET_STRING.charAt(n);if(e===ln.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(e){let n=e.length,o="";for(let l=0;l<n;l++){let u=e.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=e.charAt(l+1),g="\0";switch(u){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new $;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new $;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new $;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new $;break}o+=g,l++}else o+=u}return o}}ln.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ln.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ln.ASTERISK_ENCODING=148;class St extends Rt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,o){let l=this.decodeStart(n),u=this.decodeEnd(n),f=new be;St.decodeMiddle(n,l[1],u[0],f);let g=f.toString(),y=null;o!=null&&(y=o.get(ce.ALLOWED_LENGTHS)),y==null&&(y=St.DEFAULT_ALLOWED_LENGTHS);let v=g.length,b=!1,M=0;for(let G of y){if(v===G){b=!0;break}G>M&&(M=G)}if(!b&&v>M&&(b=!0),!b)throw new $;const D=[new Ce(l[1],e),new Ce(u[0],e)];return new Fe(g,null,0,D,Ae.ITF,new Date().getTime())}static decodeMiddle(e,n,o,l){let u=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),f.fill(0),g.fill(0);n<o;){Rt.recordPattern(e,n,u);for(let v=0;v<5;v++){let b=2*v;f[v]=u[b],g[v]=u[b+1]}let y=St.decodeDigit(f);l.append(y.toString()),y=this.decodeDigit(g),l.append(y.toString()),u.forEach(function(v){n+=v})}}decodeStart(e){let n=St.skipWhiteSpace(e),o=St.findGuardPattern(e,n,St.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(e,o[0]),o}validateQuietZone(e,n){let o=this.narrowLineWidth*10;o=o<n?o:n;for(let l=n-1;o>0&&l>=0&&!e.get(l);l--)o--;if(o!==0)throw new re}static skipWhiteSpace(e){const n=e.getSize(),o=e.getNextSet(0);if(o===n)throw new re;return o}decodeEnd(e){e.reverse();try{let n=St.skipWhiteSpace(e),o;try{o=St.findGuardPattern(e,n,St.END_PATTERN_REVERSED[0])}catch(u){u instanceof re&&(o=St.findGuardPattern(e,n,St.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,o[0]);let l=o[0];return o[0]=e.getSize()-o[1],o[1]=e.getSize()-l,o}finally{e.reverse()}}static findGuardPattern(e,n,o){let l=o.length,u=new Int32Array(l),f=e.getSize(),g=!1,y=0,v=n;u.fill(0);for(let b=n;b<f;b++)if(e.get(b)!==g)u[y]++;else{if(y===l-1){if(Rt.patternMatchVariance(u,o,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return[v,b];v+=u[0]+u[1],B.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,g=!g}throw new re}static decodeDigit(e){let n=St.MAX_AVG_VARIANCE,o=-1,l=St.PATTERNS.length;for(let u=0;u<l;u++){let f=St.PATTERNS[u],g=Rt.patternMatchVariance(e,f,St.MAX_INDIVIDUAL_VARIANCE);g<n?(n=g,o=u):g===n&&(o=-1)}if(o>=0)return o%10;throw new re}}St.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],St.MAX_AVG_VARIANCE=.38,St.MAX_INDIVIDUAL_VARIANCE=.5,St.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],St.START_PATTERN=Int32Array.from([1,1,1,1]),St.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Lt extends Rt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,o,l=0,u=Int32Array.from([0,0,0]);for(;!n;){u=Int32Array.from([0,0,0]),o=Lt.findGuardPattern(e,l,!1,this.START_END_PATTERN,u);let f=o[0];l=o[1];let g=f-(l-f);g>=0&&(n=e.isRange(g,f,!1))}return o}static checkChecksum(e){return Lt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let o=parseInt(e.charAt(n-1),10);return Lt.getStandardUPCEANChecksum(e.substring(0,n-1))===o}static getStandardUPCEANChecksum(e){let n=e.length,o=0;for(let l=n-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new $;o+=u}o*=3;for(let l=n-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new $;o+=u}return(1e3-o)%10}static decodeEnd(e,n){return Lt.findGuardPattern(e,n,!1,Lt.START_END_PATTERN,new Int32Array(Lt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,o,l){return this.findGuardPattern(e,n,o,l,new Int32Array(l.length))}static findGuardPattern(e,n,o,l,u){let f=e.getSize();n=o?e.getNextUnset(n):e.getNextSet(n);let g=0,y=n,v=l.length,b=o;for(let M=n;M<f;M++)if(e.get(M)!==b)u[g]++;else{if(g===v-1){if(Rt.patternMatchVariance(u,l,Lt.MAX_INDIVIDUAL_VARIANCE)<Lt.MAX_AVG_VARIANCE)return Int32Array.from([y,M]);y+=u[0]+u[1];let D=u.slice(2,u.length-1);for(let U=0;U<g-1;U++)u[U]=D[U];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,b=!b}throw new re}static decodeDigit(e,n,o,l){this.recordPattern(e,o,n);let u=this.MAX_AVG_VARIANCE,f=-1,g=l.length;for(let y=0;y<g;y++){let v=l[y],b=Rt.patternMatchVariance(n,v,Lt.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,f=y)}if(f>=0)return f;throw new re}}Lt.MAX_AVG_VARIANCE=.48,Lt.MAX_INDIVIDUAL_VARIANCE=.7,Lt.START_END_PATTERN=Int32Array.from([1,1,1]),Lt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Lt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Lt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class pi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(n,o,l),f=l.toString(),g=pi.parseExtensionString(f),y=[new Ce((o[0]+o[1])/2,e),new Ce(u,e)],v=new Fe(f,null,0,y,Ae.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(e,n,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=n[1],g=0;for(let v=0;v<5&&f<u;v++){let b=Lt.decodeDigit(e,l,f,Lt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<4-v),v!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==5)throw new re;let y=this.determineCheckDigit(g);if(pi.extensionChecksum(o.toString())!==y)throw new re;return f}static extensionChecksum(e){let n=e.length,o=0;for(let l=n-2;l>=0;l-=2)o+=e.charAt(l).charCodeAt(0)-48;o*=3;for(let l=n-1;l>=0;l-=2)o+=e.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new re}static parseExtensionString(e){if(e.length!==5)return null;let n=pi.parseExtension5String(e);return n==null?null:new Map([[He.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let o=parseInt(e.substring(1)),l=(o/100).toString(),u=o%100,f=u<10?"0"+u:u.toString();return n+l+"."+f}}class hs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(n,o,l),f=l.toString(),g=hs.parseExtensionString(f),y=[new Ce((o[0]+o[1])/2,e),new Ce(u,e)],v=new Fe(f,null,0,y,Ae.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&v.putAllMetadata(g),v}decodeMiddle(e,n,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=n[1],g=0;for(let y=0;y<2&&f<u;y++){let v=Lt.decodeDigit(e,l,f,Lt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+v%10);for(let b of l)f+=b;v>=10&&(g|=1<<1-y),y!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==2)throw new re;if(parseInt(o.toString())%4!==g)throw new re;return f}static parseExtensionString(e){return e.length!==2?null:new Map([[He.ISSUE_NUMBER,parseInt(e)]])}}class Gs{static decodeRow(e,n,o){let l=Lt.findGuardPattern(n,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new pi().decodeRow(e,n,l)}catch{return new hs().decodeRow(e,n,l)}}}Gs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ct extends Lt{constructor(){super(),this.decodeRowStringBuffer="",ct.L_AND_G_PATTERNS=ct.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=ct.L_PATTERNS[e-10],o=new Int32Array(n.length);for(let l=0;l<n.length;l++)o[l]=n[n.length-l-1];ct.L_AND_G_PATTERNS[e]=o}}decodeRow(e,n,o){let l=ct.findStartGuardPattern(n),u=o==null?null:o.get(ce.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ge=new Ce((l[0]+l[1])/2,e);u.foundPossibleResultPoint(ge)}let f=this.decodeMiddle(n,l,this.decodeRowStringBuffer),g=f.rowOffset,y=f.resultString;if(u!=null){const ge=new Ce(g,e);u.foundPossibleResultPoint(ge)}let v=this.decodeEnd(n,g);if(u!=null){const ge=new Ce((v[0]+v[1])/2,e);u.foundPossibleResultPoint(ge)}let b=v[1],M=b+(b-v[0]);if(M>=n.getSize()||!n.isRange(b,M,!1))throw new re;let D=y.toString();if(D.length<8)throw new $;if(!ct.checkChecksum(D))throw new O;let U=(l[1]+l[0])/2,G=(v[1]+v[0])/2,Z=this.getBarcodeFormat(),Q=[new Ce(U,e),new Ce(G,e)],se=new Fe(D,null,0,Q,Z,new Date().getTime()),we=0;try{let ge=Gs.decodeRow(e,n,v[1]);se.putMetadata(He.UPC_EAN_EXTENSION,ge.getText()),se.putAllMetadata(ge.getResultMetadata()),se.addResultPoints(ge.getResultPoints()),we=ge.getText().length}catch{}let ve=o==null?null:o.get(ce.ALLOWED_EAN_EXTENSIONS);if(ve!=null){let ge=!1;for(let ut in ve)if(we.toString()===ut){ge=!0;break}if(!ge)throw new re}return se}decodeEnd(e,n){return ct.findGuardPattern(e,n,!1,ct.START_END_PATTERN,new Int32Array(ct.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ct.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let o=parseInt(e.charAt(n-1),10);return ct.getStandardUPCEANChecksum(e.substring(0,n-1))===o}static getStandardUPCEANChecksum(e){let n=e.length,o=0;for(let l=n-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new $;o+=u}o*=3;for(let l=n-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new $;o+=u}return(1e3-o)%10}}class tr extends ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=n[1],g=0;for(let v=0;v<6&&f<u;v++){let b=ct.decodeDigit(e,l,f,ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<5-v)}o=tr.determineFirstDigit(o,g),f=ct.findGuardPattern(e,f,!0,ct.MIDDLE_PATTERN,new Int32Array(ct.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<u;v++){let b=ct.decodeDigit(e,l,f,ct.L_PATTERNS);o+=String.fromCharCode(48+b);for(let M of l)f+=M}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return Ae.EAN_13}static determineFirstDigit(e,n){for(let o=0;o<10;o++)if(n===this.FIRST_DIGIT_ENCODINGS[o])return e=String.fromCharCode(48+o)+e,e;throw new re}}tr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Oo extends ct{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=n[1];for(let y=0;y<4&&f<u;y++){let v=ct.decodeDigit(e,l,f,ct.L_PATTERNS);o+=String.fromCharCode(48+v);for(let b of l)f+=b}f=ct.findGuardPattern(e,f,!0,ct.MIDDLE_PATTERN,new Int32Array(ct.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<u;y++){let v=ct.decodeDigit(e,l,f,ct.L_PATTERNS);o+=String.fromCharCode(48+v);for(let b of l)f+=b}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return Ae.EAN_8}}class Po extends ct{constructor(){super(...arguments),this.ean13Reader=new tr}getBarcodeFormat(){return Ae.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,o))}decodeMiddle(e,n,o){return this.ean13Reader.decodeMiddle(e,n,o)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let o=new Fe(n.substring(1),null,null,e.getResultPoints(),Ae.UPC_A);return e.getResultMetadata()!=null&&o.putAllMetadata(e.getResultMetadata()),o}else throw new re}reset(){this.ean13Reader.reset()}}class nr extends ct{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,o){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=e.getSize();let f=n[1],g=0;for(let v=0;v<6&&f<u;v++){const b=nr.decodeDigit(e,l,f,nr.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<5-v)}let y=nr.determineNumSysAndCheckDigit(o,g);return{rowOffset:f,resultString:y}}decodeEnd(e,n){return nr.findGuardPatternWithoutCounters(e,n,!0,nr.MIDDLE_END_PATTERN)}checkChecksum(e){return ct.checkChecksum(nr.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let u=String.fromCharCode(48+o),f=String.fromCharCode(48+l);return u+e+f}throw re.getNotFoundInstance()}getBarcodeFormat(){return Ae.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new be;o.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:o.appendChars(n,0,2),o.append(l),o.append("0000"),o.appendChars(n,2,3);break;case 3:o.appendChars(n,0,3),o.append("00000"),o.appendChars(n,3,2);break;case 4:o.appendChars(n,0,4),o.append("00000"),o.append(n[4]);break;default:o.appendChars(n,0,5),o.append("0000"),o.append(l);break}return e.length>=8&&o.append(e.charAt(7)),o.toString()}}nr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),nr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ys extends Rt{constructor(e){super();let n=e==null?null:e.get(ce.POSSIBLE_FORMATS),o=[];c(n)?(o.push(new tr),o.push(new Po),o.push(new Oo),o.push(new nr)):(n.indexOf(Ae.EAN_13)>-1&&o.push(new tr),n.indexOf(Ae.UPC_A)>-1&&o.push(new Po),n.indexOf(Ae.EAN_8)>-1&&o.push(new Oo),n.indexOf(Ae.UPC_E)>-1&&o.push(new nr)),this.readers=o}decodeRow(e,n,o){for(let l of this.readers)try{const u=l.decodeRow(e,n,o),f=u.getBarcodeFormat()===Ae.EAN_13&&u.getText().charAt(0)==="0",g=o==null?null:o.get(ce.POSSIBLE_FORMATS),y=g==null||g.includes(Ae.UPC_A);if(f&&y){const v=u.getRawBytes(),b=new Fe(u.getText().substring(1),v,v?v.length:null,u.getResultPoints(),Ae.UPC_A);return b.putAllMetadata(u.getResultMetadata()),b}return u}catch{}throw new re}reset(){for(let e of this.readers)e.reset()}}class xn extends Rt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let o=0;o<n.length;o++)if(Rt.patternMatchVariance(e,n[o],xn.MAX_INDIVIDUAL_VARIANCE)<xn.MAX_AVG_VARIANCE)return o;throw new re}static count(e){return lt.sum(new Int32Array(e))}static increment(e,n){let o=0,l=n[0];for(let u=1;u<e.length;u++)n[u]>l&&(l=n[u],o=u);e[o]++}static decrement(e,n){let o=0,l=n[0];for(let u=1;u<e.length;u++)n[u]<l&&(l=n[u],o=u);e[o]--}static isFinderPattern(e){let n=e[0]+e[1],o=n+e[2]+e[3],l=n/o;if(l>=xn.MIN_FINDER_PATTERN_RATIO&&l<=xn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of e)g>f&&(f=g),g<u&&(u=g);return f<10*u}return!1}}xn.MAX_AVG_VARIANCE=.2,xn.MAX_INDIVIDUAL_VARIANCE=.45,xn.MIN_FINDER_PATTERN_RATIO=9.5/12,xn.MAX_FINDER_PATTERN_RATIO=12.5/14;class $r{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof $r))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ps{constructor(e,n,o,l,u){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ce(o,u)),this.resultPoints.push(new Ce(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ps))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class Un{constructor(){}static getRSSvalue(e,n,o){let l=0;for(let y of e)l+=y;let u=0,f=0,g=e.length;for(let y=0;y<g-1;y++){let v;for(v=1,f|=1<<y;v<e[y];v++,f&=~(1<<y)){let b=Un.combins(l-v-1,g-y-2);if(o&&f===0&&l-v-(g-y-1)>=g-y-1&&(b-=Un.combins(l-v-(g-y),g-y-2)),g-y-1>1){let M=0;for(let D=l-v-(g-y-2);D>n;D--)M+=Un.combins(l-v-D-1,g-y-3);b-=M*(g-1-y)}else l-v>n&&b--;u+=b}l-=v}return u}static combins(e,n){let o,l;e-n>n?(l=n,o=e-n):(l=e-n,o=n);let u=1,f=1;for(let g=e;g>o;g--)u*=g,f<=l&&(u/=f,f++);for(;f<=l;)u/=f,f++;return u}}class Lo{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let o=12*n,l=new te(o),u=0,g=e[0].getRightChar().getValue();for(let y=11;y>=0;--y)g&1<<y&&l.set(u),u++;for(let y=1;y<e.length;++y){let v=e[y],b=v.getLeftChar().getValue();for(let M=11;M>=0;--M)b&1<<M&&l.set(u),u++;if(v.getRightChar()!=null){let M=v.getRightChar().getValue();for(let D=11;D>=0;--D)M&1<<D&&l.set(u),u++}}return l}}class dr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ko{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class pn extends ko{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===pn.FNC1}}pn.FNC1="$";class Tr extends ko{constructor(e,n,o){super(e),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class _n extends ko{constructor(e,n,o){if(super(e),n<0||n>10||o<0||o>10)throw new $;this.firstDigit=n,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===_n.FNC1}isSecondDigitFNC1(){return this.secondDigit===_n.FNC1}isAnyFNC1(){return this.firstDigit===_n.FNC1||this.secondDigit===_n.FNC1}}_n.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new re;let n=e.substring(0,2);for(let u of _e.TWO_DIGIT_DATA_LENGTH)if(u[0]===n)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,u[2],e):_e.processFixedAI(2,u[1],e);if(e.length<3)throw new re;let o=e.substring(0,3);for(let u of _e.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,u[2],e):_e.processFixedAI(3,u[1],e);for(let u of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],e):_e.processFixedAI(4,u[1],e);if(e.length<4)throw new re;let l=e.substring(0,4);for(let u of _e.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,u[2],e):_e.processFixedAI(4,u[1],e);throw new re}static processFixedAI(e,n,o){if(o.length<e)throw new re;let l=o.substring(0,e);if(o.length<e+n)throw new re;let u=o.substring(e,e+n),f=o.substring(e+n),g="("+l+")"+u,y=_e.parseFieldsInGeneralPurpose(f);return y==null?g:g+y}static processVariableAI(e,n,o){let l=o.substring(0,e),u;o.length<e+n?u=o.length:u=e+n;let f=o.substring(e,u),g=o.substring(u),y="("+l+")"+f,v=_e.parseFieldsInGeneralPurpose(g);return v==null?y:y+v}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class Pi{constructor(e){this.buffer=new be,this.information=e}decodeAllCodes(e,n){let o=n,l=null;do{let u=this.decodeGeneralPurposeField(o,l),f=_e.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&e.append(f),u.isRemaining()?l=""+u.getRemainingValue():l=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(e,4);return u===0?new _n(this.information.getSize(),_n.FNC1,_n.FNC1):new _n(this.information.getSize(),u-1,_n.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),o=(n-8)/11,l=(n-8)%11;return new _n(e+7,o,l)}extractNumericValueFromBitArray(e,n){return Pi.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,o){let l=0;for(let u=0;u<o;++u)e.get(n+u)&&(l|=1<<o-u-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Tr(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Tr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let o=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(o!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new Tr(this.current.getPosition(),this.buffer.toString()):n=new Tr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new dr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new Tr(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new dr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Tr(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new dr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new Tr(this.current.getPosition(),this.buffer.toString());return new dr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new dr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new pn(e+5,pn.FNC1);if(n>=5&&n<15)return new pn(e+5,"0"+(n-5));let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<90)return new pn(e+7,""+(o+1));if(o>=90&&o<116)return new pn(e+7,""+(o+7));let l=this.extractNumericValueFromBitArray(e,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new $}return new pn(e+8,u)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,6);return o>=16&&o<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new pn(e+5,pn.FNC1);if(n>=5&&n<15)return new pn(e+5,"0"+(n-5));let o=this.extractNumericValueFromBitArray(e,6);if(o>=32&&o<58)return new pn(e+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Mn("Decoding invalid alphanumeric value: "+o)}return new pn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class Bo{constructor(e){this.information=e,this.generalDecoder=new Pi(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class zn extends Bo{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let o=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,o)}encodeCompressedGtinWithoutAI(e,n,o){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);u/100===0&&e.append("0"),u/10===0&&e.append("0"),e.append(u)}zn.appendCheckDigit(e,o)}static appendCheckDigit(e,n){let o=0;for(let l=0;l<13;l++){let u=e.charAt(l+n).charCodeAt(0)-48;o+=l&1?u:3*u}o=10-o%10,o===10&&(o=0),e.append(o)}}zn.GTIN_SIZE=40;class rr extends zn{constructor(e){super(e)}parseInformation(){let e=new be;e.append("(01)");let n=e.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(rr.HEADER_SIZE,4);return e.append(o),this.encodeCompressedGtinWithoutAI(e,rr.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,rr.HEADER_SIZE+44)}}rr.HEADER_SIZE=4;class gs extends Bo{constructor(e){super(e)}parseInformation(){let e=new be;return this.getGeneralDecoder().decodeAllCodes(e,gs.HEADER_SIZE)}}gs.HEADER_SIZE=5;class ms extends zn{constructor(e){super(e)}encodeCompressedWeight(e,n,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,o);this.addWeightCode(e,l);let u=this.checkWeight(l),f=1e5;for(let g=0;g<5;++g)u/f===0&&e.append("0"),f/=10;e.append(u)}}class Ir extends ms{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Ir.HEADER_SIZE+ms.GTIN_SIZE+Ir.WEIGHT_SIZE)throw new re;let e=new be;return this.encodeCompressedGtin(e,Ir.HEADER_SIZE),this.encodeCompressedWeight(e,Ir.HEADER_SIZE+ms.GTIN_SIZE,Ir.WEIGHT_SIZE),e.toString()}}Ir.HEADER_SIZE=5,Ir.WEIGHT_SIZE=15;class Ka extends Ir{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Qa extends Ir{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class hr extends zn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<hr.HEADER_SIZE+zn.GTIN_SIZE)throw new re;let e=new be;this.encodeCompressedGtin(e,hr.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(hr.HEADER_SIZE+zn.GTIN_SIZE,hr.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(hr.HEADER_SIZE+zn.GTIN_SIZE+hr.LAST_DIGIT_SIZE,null);return e.append(o.getNewString()),e.toString()}}hr.HEADER_SIZE=8,hr.LAST_DIGIT_SIZE=2;class Sn extends zn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Sn.HEADER_SIZE+zn.GTIN_SIZE)throw new re;let e=new be;this.encodeCompressedGtin(e,Sn.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+zn.GTIN_SIZE,Sn.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Sn.HEADER_SIZE+zn.GTIN_SIZE+Sn.LAST_DIGIT_SIZE,Sn.FIRST_THREE_DIGITS_SIZE);o/100==0&&e.append("0"),o/10==0&&e.append("0"),e.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Sn.HEADER_SIZE+zn.GTIN_SIZE+Sn.LAST_DIGIT_SIZE+Sn.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Sn.HEADER_SIZE=8,Sn.LAST_DIGIT_SIZE=2,Sn.FIRST_THREE_DIGITS_SIZE=10;class kt extends ms{constructor(e,n,o){super(e),this.dateCode=o,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=kt.HEADER_SIZE+kt.GTIN_SIZE+kt.WEIGHT_SIZE+kt.DATE_SIZE)throw new re;let e=new be;return this.encodeCompressedGtin(e,kt.HEADER_SIZE),this.encodeCompressedWeight(e,kt.HEADER_SIZE+kt.GTIN_SIZE,kt.WEIGHT_SIZE),this.encodeCompressedDate(e,kt.HEADER_SIZE+kt.GTIN_SIZE+kt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(n,kt.DATE_SIZE);if(o==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=o%32;o/=32;let u=o%12+1;o/=12;let f=o;f/10==0&&e.append("0"),e.append(f),u/10==0&&e.append("0"),e.append(u),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}kt.HEADER_SIZE=8,kt.WEIGHT_SIZE=20,kt.DATE_SIZE=16;function $a(R){try{if(R.get(1))return new rr(R);if(!R.get(2))return new gs(R);switch(Pi.extractNumericValueFromBitArray(R,1,4)){case 4:return new Ka(R);case 5:return new Qa(R)}switch(Pi.extractNumericValueFromBitArray(R,1,5)){case 12:return new hr(R);case 13:return new Sn(R)}switch(Pi.extractNumericValueFromBitArray(R,1,7)){case 56:return new kt(R,"310","11");case 57:return new kt(R,"320","11");case 58:return new kt(R,"310","13");case 59:return new kt(R,"320","13");case 60:return new kt(R,"310","15");case 61:return new kt(R,"320","15");case 62:return new kt(R,"310","17");case 63:return new kt(R,"320","17")}}catch(e){throw console.log(e),new Mn("unknown decoder: "+R)}}class bt{constructor(e,n,o,l){this.leftchar=e,this.rightchar=n,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof bt?bt.equalsOrNull(e.leftchar,n.leftchar)&&bt.equalsOrNull(e.rightchar,n.rightchar)&&bt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:bt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Fo{constructor(e,n,o){this.pairs=e,this.rowNumber=n,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Fo?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let o;return e.forEach((l,u)=>{n.forEach(f=>{l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class he extends xn{constructor(e){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,o){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(u){if(u instanceof re){if(!this.pairs.length)throw new re;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new re}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let o=n;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let f of e)this.pairs.push(f.getPairs());if(this.pairs.push(l.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(e);u.push(l);try{return this.checkRows(u,o+1)}catch(f){this.verbose&&console.log(f)}}throw new re}static isValidSequence(e){for(let n of he.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let o=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){o=!1;break}if(o)return!0}return!1}storeRow(e,n){let o=0,l=!1,u=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>e){u=f.isEquivalent(this.pairs);break}l=f.isEquivalent(this.pairs),o++}u||l||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Fo(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let o of n)if(o.getPairs().length!==e.length){for(let l of o.getPairs())for(let u of e)if(bt.equals(l,u))break}}static isPartialRow(e,n){for(let o of n){let l=!0;for(let u of e){let f=!1;for(let g of o.getPairs())if(u.equals(g)){f=!0;break}if(!f){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Lo.buildBitArray(e),l=$a(n).parseInformation(),u=e[0].getFinderPattern().getResultPoints(),f=e[e.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],f[0],f[1]];return new Fe(l,null,null,g,Ae.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),o=e.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let y=this.pairs.get(g);l+=y.getLeftChar().getChecksumPortion(),u++;let v=y.getRightChar();v!=null&&(l+=v.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==n.getValue()}static getNextSecondBar(e,n){let o;return e.get(n)?(o=e.getNextUnset(n),o=e.getNextSet(o)):(o=e.getNextSet(n),o=e.getNextUnset(o)),o}retrieveNextPair(e,n,o){let l=n.length%2==0;this.startFromEven&&(l=!l);let u,f=!0,g=-1;do this.findNextPair(e,n,g),u=this.parseFoundFinderPattern(e,o,l),u==null?g=he.getNextSecondBar(e,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(e,u,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new re;let v;try{v=this.decodeDataCharacter(e,u,l,!1)}catch(b){v=null,this.verbose&&console.log(b)}return new bt(y,v,u,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f;o>=0?f=o:this.isEmptyPair(n)?f=0:f=n[n.length-1].getFinderPattern().getStartEnd()[1];let g=n.length%2!=0;this.startFromEven&&(g=!g);let y=!1;for(;f<u&&(y=!e.get(f),!!y);)f++;let v=0,b=f;for(let M=f;M<u;M++)if(e.get(M)!=y)l[v]++;else{if(v==3){if(g&&he.reverseCounters(l),he.isFinderPattern(l)){this.startEnd[0]=b,this.startEnd[1]=M;return}g&&he.reverseCounters(l),b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,y=!y}throw new re}static reverseCounters(e){let n=e.length;for(let o=0;o<n/2;++o){let l=e[o];e[o]=e[n-o-1],e[n-o-1]=l}}parseFoundFinderPattern(e,n,o){let l,u,f;if(o){let v=this.startEnd[0]-1;for(;v>=0&&!e.get(v);)v--;v++,l=this.startEnd[0]-v,u=v,f=this.startEnd[1]}else u=this.startEnd[0],f=e.getNextUnset(this.startEnd[1]+1),l=f-this.startEnd[1];let g=this.getDecodeFinderCounters();B.arraycopy(g,0,g,1,g.length-1),g[0]=l;let y;try{y=this.parseFinderValue(g,he.FINDER_PATTERNS)}catch{return null}return new ps(y,[u,f],u,f,n)}decodeDataCharacter(e,n,o,l){let u=this.getDataCharacterCounters();for(let Tt=0;Tt<u.length;Tt++)u[Tt]=0;if(l)he.recordPatternInReverse(e,n.getStartEnd()[0],u);else{he.recordPattern(e,n.getStartEnd()[1],u);for(let Tt=0,Qt=u.length-1;Tt<Qt;Tt++,Qt--){let Pn=u[Tt];u[Tt]=u[Qt],u[Qt]=Pn}}let f=17,g=lt.sum(new Int32Array(u))/f,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new re;let v=this.getOddCounts(),b=this.getEvenCounts(),M=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Tt=0;Tt<u.length;Tt++){let Qt=1*u[Tt]/g,Pn=Qt+.5;if(Pn<1){if(Qt<.3)throw new re;Pn=1}else if(Pn>8){if(Qt>8.7)throw new re;Pn=8}let wi=Tt/2;Tt&1?(b[wi]=Pn,D[wi]=Qt-Pn):(v[wi]=Pn,M[wi]=Qt-Pn)}this.adjustOddEvenCounts(f);let U=4*n.getValue()+(o?0:2)+(l?0:1)-1,G=0,Z=0;for(let Tt=v.length-1;Tt>=0;Tt--){if(he.isNotA1left(n,o,l)){let Qt=he.WEIGHTS[U][2*Tt];Z+=v[Tt]*Qt}G+=v[Tt]}let Q=0;for(let Tt=b.length-1;Tt>=0;Tt--)if(he.isNotA1left(n,o,l)){let Qt=he.WEIGHTS[U][2*Tt+1];Q+=b[Tt]*Qt}let se=Z+Q;if(G&1||G>13||G<4)throw new re;let we=(13-G)/2,ve=he.SYMBOL_WIDEST[we],ge=9-ve,ut=Un.getRSSvalue(v,ve,!0),nt=Un.getRSSvalue(b,ge,!1),Wn=he.EVEN_TOTAL_SUBSET[we],yr=he.GSUM[we],fn=ut*Wn+nt+yr;return new $r(fn,se)}static isNotA1left(e,n,o){return!(e.getValue()==0&&n&&o)}adjustOddEvenCounts(e){let n=lt.sum(new Int32Array(this.getOddCounts())),o=lt.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;n>13?u=!0:n<4&&(l=!0);let f=!1,g=!1;o>13?g=!0:o<4&&(f=!0);let y=n+o-e,v=(n&1)==1,b=(o&1)==0;if(y==1)if(v){if(b)throw new re;u=!0}else{if(!b)throw new re;g=!0}else if(y==-1)if(v){if(b)throw new re;l=!0}else{if(!b)throw new re;f=!0}else if(y==0){if(v){if(!b)throw new re;n<o?(l=!0,g=!0):(u=!0,f=!0)}else if(b)throw new re}else throw new re;if(l){if(u)throw new re;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new re;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class qa extends $r{constructor(e,n,o){super(e,n),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ot extends xn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,o){const l=this.decodePair(n,!1,e,o);Ot.addOrTally(this.possibleLeftPairs,l),n.reverse();let u=this.decodePair(n,!0,e,o);Ot.addOrTally(this.possibleRightPairs,u),n.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Ot.checkChecksum(f,g))return Ot.constructResult(f,g)}throw new re}static addOrTally(e,n){if(n==null)return;let o=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),o=!0;break}o||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let o=4537077*e.getValue()+n.getValue(),l=new String(o).toString(),u=new be;for(let v=13-l.length;v>0;v--)u.append("0");u.append(l);let f=0;for(let v=0;v<13;v++){let b=u.charAt(v).charCodeAt(0)-48;f+=v&1?b:3*b}f=10-f%10,f===10&&(f=0),u.append(f.toString());let g=e.getFinderPattern().getResultPoints(),y=n.getFinderPattern().getResultPoints();return new Fe(u.toString(),null,0,[g[0],g[1],y[0],y[1]],Ae.RSS_14,new Date().getTime())}static checkChecksum(e,n){let o=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(e,n,o,l){try{let u=this.findFinderPattern(e,n),f=this.parseFoundFinderPattern(e,o,n,u),g=l==null?null:l.get(ce.NEED_RESULT_POINT_CALLBACK);if(g!=null){let b=(u[0]+u[1])/2;n&&(b=e.getSize()-1-b),g.foundPossibleResultPoint(new Ce(b,o))}let y=this.decodeDataCharacter(e,f,!0),v=this.decodeDataCharacter(e,f,!1);return new qa(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(e,n,o){let l=this.getDataCharacterCounters();for(let Q=0;Q<l.length;Q++)l[Q]=0;if(o)Rt.recordPatternInReverse(e,n.getStartEnd()[0],l);else{Rt.recordPattern(e,n.getStartEnd()[1]+1,l);for(let Q=0,se=l.length-1;Q<se;Q++,se--){let we=l[Q];l[Q]=l[se],l[se]=we}}let u=o?16:15,f=lt.sum(new Int32Array(l))/u,g=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let Q=0;Q<l.length;Q++){let se=l[Q]/f,we=Math.floor(se+.5);we<1?we=1:we>8&&(we=8);let ve=Math.floor(Q/2);Q&1?(y[ve]=we,b[ve]=se-we):(g[ve]=we,v[ve]=se-we)}this.adjustOddEvenCounts(o,u);let M=0,D=0;for(let Q=g.length-1;Q>=0;Q--)D*=9,D+=g[Q],M+=g[Q];let U=0,G=0;for(let Q=y.length-1;Q>=0;Q--)U*=9,U+=y[Q],G+=y[Q];let Z=D+3*U;if(o){if(M&1||M>12||M<4)throw new re;let Q=(12-M)/2,se=Ot.OUTSIDE_ODD_WIDEST[Q],we=9-se,ve=Un.getRSSvalue(g,se,!1),ge=Un.getRSSvalue(y,we,!0),ut=Ot.OUTSIDE_EVEN_TOTAL_SUBSET[Q],nt=Ot.OUTSIDE_GSUM[Q];return new $r(ve*ut+ge+nt,Z)}else{if(G&1||G>10||G<4)throw new re;let Q=(10-G)/2,se=Ot.INSIDE_ODD_WIDEST[Q],we=9-se,ve=Un.getRSSvalue(g,se,!0),ge=Un.getRSSvalue(y,we,!1),ut=Ot.INSIDE_ODD_TOTAL_SUBSET[Q],nt=Ot.INSIDE_GSUM[Q];return new $r(ge*ut+ve+nt,Z)}}findFinderPattern(e,n){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),u=!1,f=0;for(;f<l&&(u=!e.get(f),n!==u);)f++;let g=0,y=f;for(let v=f;v<l;v++)if(e.get(v)!==u)o[g]++;else{if(g===3){if(xn.isFinderPattern(o))return[y,v];y+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,u=!u}throw new re}parseFoundFinderPattern(e,n,o,l){let u=e.get(l[0]),f=l[0]-1;for(;f>=0&&u!==e.get(f);)f--;f++;const g=l[0]-f,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);B.arraycopy(y,0,v,1,y.length-1),v[0]=g;const b=this.parseFinderValue(v,Ot.FINDER_PATTERNS);let M=f,D=l[1];return o&&(M=e.getSize()-1-M,D=e.getSize()-1-D),new ps(b,[f,l[1]],M,D,n)}adjustOddEvenCounts(e,n){let o=lt.sum(new Int32Array(this.getOddCounts())),l=lt.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,g=!1,y=!1;e?(o>12?f=!0:o<4&&(u=!0),l>12?y=!0:l<4&&(g=!0)):(o>11?f=!0:o<5&&(u=!0),l>10?y=!0:l<4&&(g=!0));let v=o+l-n,b=(o&1)===(e?1:0),M=(l&1)===1;if(v===1)if(b){if(M)throw new re;f=!0}else{if(!M)throw new re;y=!0}else if(v===-1)if(b){if(M)throw new re;u=!0}else{if(!M)throw new re;g=!0}else if(v===0){if(b){if(!M)throw new re;o<l?(u=!0,y=!0):(f=!0,g=!0)}else if(M)throw new re}else throw new re;if(u){if(f)throw new re;xn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&xn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new re;xn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&xn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ot.OUTSIDE_GSUM=[0,161,961,2015,2715],Ot.INSIDE_GSUM=[0,336,1036,1516],Ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ot.INSIDE_ODD_WIDEST=[2,4,6,8],Ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Li extends Rt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const o=e?e.get(ce.POSSIBLE_FORMATS):null,l=e&&e.get(ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(Ae.EAN_13)||o.includes(Ae.UPC_A)||o.includes(Ae.EAN_8)||o.includes(Ae.UPC_E))&&this.readers.push(new Ys(e)),o.includes(Ae.CODE_39)&&this.readers.push(new ln(l)),o.includes(Ae.CODE_128)&&this.readers.push(new Te),o.includes(Ae.ITF)&&this.readers.push(new St),o.includes(Ae.RSS_14)&&this.readers.push(new Ot),o.includes(Ae.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new Ys(e)),this.readers.push(new ln),this.readers.push(new Ys(e)),this.readers.push(new Te),this.readers.push(new St),this.readers.push(new Ot),this.readers.push(new he(this.verbose)))}decodeRow(e,n,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,o)}catch{}throw new re}reset(){this.readers.forEach(e=>e.reset())}}class Ja extends Ne{constructor(e=500,n){super(new Li(n),e,n)}}class xt{constructor(e,n,o){this.ecCodewords=e,this.ecBlocks=[n],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class st{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,n,o,l,u,f){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=f;let g=0;const y=f.getECCodewords(),v=f.getECBlocks();for(let b of v)g+=b.getCount()*(b.getDataCodewords()+y);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new $;for(let o of ht.VERSIONS)if(o.symbolSizeRows===e&&o.symbolSizeColumns===n)return o;throw new $}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new xt(5,new st(1,3))),new ht(2,12,12,10,10,new xt(7,new st(1,5))),new ht(3,14,14,12,12,new xt(10,new st(1,8))),new ht(4,16,16,14,14,new xt(12,new st(1,12))),new ht(5,18,18,16,16,new xt(14,new st(1,18))),new ht(6,20,20,18,18,new xt(18,new st(1,22))),new ht(7,22,22,20,20,new xt(20,new st(1,30))),new ht(8,24,24,22,22,new xt(24,new st(1,36))),new ht(9,26,26,24,24,new xt(28,new st(1,44))),new ht(10,32,32,14,14,new xt(36,new st(1,62))),new ht(11,36,36,16,16,new xt(42,new st(1,86))),new ht(12,40,40,18,18,new xt(48,new st(1,114))),new ht(13,44,44,20,20,new xt(56,new st(1,144))),new ht(14,48,48,22,22,new xt(68,new st(1,174))),new ht(15,52,52,24,24,new xt(42,new st(2,102))),new ht(16,64,64,14,14,new xt(56,new st(2,140))),new ht(17,72,72,16,16,new xt(36,new st(4,92))),new ht(18,80,80,18,18,new xt(48,new st(4,114))),new ht(19,88,88,20,20,new xt(56,new st(4,144))),new ht(20,96,96,22,22,new xt(68,new st(4,174))),new ht(21,104,104,24,24,new xt(56,new st(6,136))),new ht(22,120,120,18,18,new xt(68,new st(6,175))),new ht(23,132,132,20,20,new xt(62,new st(8,163))),new ht(24,144,144,22,22,new xt(62,new st(8,156),new st(2,155))),new ht(25,8,18,6,16,new xt(7,new st(1,5))),new ht(26,8,32,6,14,new xt(11,new st(1,10))),new ht(27,12,26,10,24,new xt(14,new st(1,16))),new ht(28,12,36,10,16,new xt(18,new st(1,22))),new ht(29,16,36,14,16,new xt(24,new st(1,32))),new ht(30,16,48,14,22,new xt(28,new st(1,49)))]}}ht.VERSIONS=ht.buildVersions();class Qn{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new $;this.version=Qn.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Ve(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),o=e.getWidth();return ht.getVersionForDimensions(n,o)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,o=4,l=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,y=!1,v=!1,b=!1;do if(o===u&&l===0&&!g)e[n++]=this.readCorner1(u,f)&255,o-=2,l+=2,g=!0;else if(o===u-2&&l===0&&f&3&&!y)e[n++]=this.readCorner2(u,f)&255,o-=2,l+=2,y=!0;else if(o===u+4&&l===2&&!(f&7)&&!v)e[n++]=this.readCorner3(u,f)&255,o-=2,l+=2,v=!0;else if(o===u-2&&l===0&&(f&7)===4&&!b)e[n++]=this.readCorner4(u,f)&255,o-=2,l+=2,b=!0;else{do o<u&&l>=0&&!this.readMappingMatrix.get(l,o)&&(e[n++]=this.readUtah(o,l,u,f)&255),o-=2,l+=2;while(o>=0&&l<f);o+=1,l+=3;do o>=0&&l<f&&!this.readMappingMatrix.get(l,o)&&(e[n++]=this.readUtah(o,l,u,f)&255),o+=2,l-=2;while(o<u&&l>=0);o+=3,l+=1}while(o<u||l<f);if(n!==this.version.getTotalCodewords())throw new $;return e}readModule(e,n,o,l){return e<0&&(e+=o,n+=4-(o+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,o,l){let u=0;return this.readModule(e-2,n-2,o,l)&&(u|=1),u<<=1,this.readModule(e-2,n-1,o,l)&&(u|=1),u<<=1,this.readModule(e-1,n-2,o,l)&&(u|=1),u<<=1,this.readModule(e-1,n-1,o,l)&&(u|=1),u<<=1,this.readModule(e-1,n,o,l)&&(u|=1),u<<=1,this.readModule(e,n-2,o,l)&&(u|=1),u<<=1,this.readModule(e,n-1,o,l)&&(u|=1),u<<=1,this.readModule(e,n,o,l)&&(u|=1),u}readCorner1(e,n){let o=0;return this.readModule(e-1,0,e,n)&&(o|=1),o<<=1,this.readModule(e-1,1,e,n)&&(o|=1),o<<=1,this.readModule(e-1,2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-1,e,n)&&(o|=1),o<<=1,this.readModule(1,n-1,e,n)&&(o|=1),o<<=1,this.readModule(2,n-1,e,n)&&(o|=1),o<<=1,this.readModule(3,n-1,e,n)&&(o|=1),o}readCorner2(e,n){let o=0;return this.readModule(e-3,0,e,n)&&(o|=1),o<<=1,this.readModule(e-2,0,e,n)&&(o|=1),o<<=1,this.readModule(e-1,0,e,n)&&(o|=1),o<<=1,this.readModule(0,n-4,e,n)&&(o|=1),o<<=1,this.readModule(0,n-3,e,n)&&(o|=1),o<<=1,this.readModule(0,n-2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-1,e,n)&&(o|=1),o<<=1,this.readModule(1,n-1,e,n)&&(o|=1),o}readCorner3(e,n){let o=0;return this.readModule(e-1,0,e,n)&&(o|=1),o<<=1,this.readModule(e-1,n-1,e,n)&&(o|=1),o<<=1,this.readModule(0,n-3,e,n)&&(o|=1),o<<=1,this.readModule(0,n-2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-1,e,n)&&(o|=1),o<<=1,this.readModule(1,n-3,e,n)&&(o|=1),o<<=1,this.readModule(1,n-2,e,n)&&(o|=1),o<<=1,this.readModule(1,n-1,e,n)&&(o|=1),o}readCorner4(e,n){let o=0;return this.readModule(e-3,0,e,n)&&(o|=1),o<<=1,this.readModule(e-2,0,e,n)&&(o|=1),o<<=1,this.readModule(e-1,0,e,n)&&(o|=1),o<<=1,this.readModule(0,n-2,e,n)&&(o|=1),o<<=1,this.readModule(0,n-1,e,n)&&(o|=1),o<<=1,this.readModule(1,n-1,e,n)&&(o|=1),o<<=1,this.readModule(2,n-1,e,n)&&(o|=1),o<<=1,this.readModule(3,n-1,e,n)&&(o|=1),o}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new I("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=n/l|0,g=o/u|0,y=f*l,v=g*u,b=new Ve(v,y);for(let M=0;M<f;++M){const D=M*l;for(let U=0;U<g;++U){const G=U*u;for(let Z=0;Z<l;++Z){const Q=M*(l+2)+1+Z,se=D+Z;for(let we=0;we<u;++we){const ve=U*(u+2)+1+we;if(e.get(ve,Q)){const ge=G+we;b.set(ge,se)}}}}}return b}}class jo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const o=n.getECBlocks();let l=0;const u=o.getECBlocks();for(let Z of u)l+=Z.getCount();const f=new Array(l);let g=0;for(let Z of u)for(let Q=0;Q<Z.getCount();Q++){const se=Z.getDataCodewords(),we=o.getECCodewords()+se;f[g++]=new jo(se,new Uint8Array(we))}const v=f[0].codewords.length-o.getECCodewords(),b=v-1;let M=0;for(let Z=0;Z<b;Z++)for(let Q=0;Q<g;Q++)f[Q].codewords[Z]=e[M++];const D=n.getVersionNumber()===24,U=D?8:g;for(let Z=0;Z<U;Z++)f[Z].codewords[v-1]=e[M++];const G=f[0].codewords.length;for(let Z=v;Z<G;Z++)for(let Q=0;Q<g;Q++){const se=D?(Q+8)%g:Q,we=D&&se>7?Z-1:Z;f[se].codewords[we]=e[M++]}if(M!==e.length)throw new I;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Uo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new I(""+e);let n=0,o=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(o>0){const f=8-o,g=e<f?e:f,y=f-g,v=255>>8-g<<y;n=(u[l]&v)>>y,e-=g,o+=g,o===8&&(o=0,l++)}if(e>0){for(;e>=8;)n=n<<8|u[l]&255,l++,e-=8;if(e>0){const f=8-e,g=255>>f<<f;n=n<<e|(u[l]&g)>>f,o+=e}}return this.bitOffset=o,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var un;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(un||(un={}));class pr{static decode(e){const n=new Uo(e),o=new be,l=new be,u=new Array;let f=un.ASCII_ENCODE;do if(f===un.ASCII_ENCODE)f=this.decodeAsciiSegment(n,o,l);else{switch(f){case un.C40_ENCODE:this.decodeC40Segment(n,o);break;case un.TEXT_ENCODE:this.decodeTextSegment(n,o);break;case un.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,o);break;case un.EDIFACT_ENCODE:this.decodeEdifactSegment(n,o);break;case un.BASE256_ENCODE:this.decodeBase256Segment(n,o,u);break;default:throw new $}f=un.ASCII_ENCODE}while(f!==un.PAD_ENCODE&&n.available()>0);return l.length()>0&&o.append(l.toString()),new gt(e,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(e,n,o){let l=!1;do{let u=e.readBits(8);if(u===0)throw new $;if(u<=128)return l&&(u+=128),n.append(String.fromCharCode(u-1)),un.ASCII_ENCODE;if(u===129)return un.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&n.append("0"),n.append(""+f)}else switch(u){case 230:return un.C40_ENCODE;case 231:return un.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),o.insert(0,"");break;case 237:n.append("[)>06"),o.insert(0,"");break;case 238:return un.ANSIX12_ENCODE;case 239:return un.TEXT_ENCODE;case 240:return un.EDIFACT_ENCODE;case 241:break;default:if(u!==254||e.available()!==0)throw new $;break}}while(e.available()>0);return un.ASCII_ENCODE}static decodeC40Segment(e,n){let o=!1;const l=[];let u=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),l);for(let g=0;g<3;g++){const y=l[g];switch(u){case 0:if(y<3)u=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v)}else throw new $;break;case 1:o?(n.append(String.fromCharCode(y+128)),o=!1):n.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v)}else switch(y){case 27:n.append("");break;case 30:o=!0;break;default:throw new $}u=0;break;case 3:o?(n.append(String.fromCharCode(y+224)),o=!1):n.append(String.fromCharCode(y+96)),u=0;break;default:throw new $}}}while(e.available()>0)}static decodeTextSegment(e,n){let o=!1,l=[],u=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),l);for(let g=0;g<3;g++){const y=l[g];switch(u){case 0:if(y<3)u=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v)}else throw new $;break;case 1:o?(n.append(String.fromCharCode(y+128)),o=!1):n.append(String.fromCharCode(y)),u=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v)}else switch(y){case 27:n.append("");break;case 30:o=!0;break;default:throw new $}u=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[y];o?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),o=!1):n.append(v),u=0}else throw new $;break;default:throw new $}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const o=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(f){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(f<14)n.append(String.fromCharCode(f+44));else if(f<40)n.append(String.fromCharCode(f+51));else throw new $;break}}}while(e.available()>0)}static parseTwoBytes(e,n,o){let l=(e<<8)+n-1,u=Math.floor(l/1600);o[0]=u,l-=u*1600,u=Math.floor(l/40),o[1]=u,o[2]=l-u*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let o=0;o<4;o++){let l=e.readBits(6);if(l===31){const u=8-e.getBitOffset();u!==8&&e.readBits(u);return}l&32||(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,o){let l=1+e.getByteOffset();const u=this.unrandomize255State(e.readBits(8),l++);let f;if(u===0?f=e.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(e.readBits(8),l++),f<0)throw new $;const g=new Uint8Array(f);for(let y=0;y<f;y++){if(e.available()<8)throw new $;g[y]=this.unrandomize255State(e.readBits(8),l++)}o.push(g);try{n.append(Be.decode(g,Ie.ISO88591))}catch(y){throw new Mn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(e,n){const o=149*n%255+1,l=e-o;return l>=0?l:l+256}}pr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pr.TEXT_SHIFT2_SET_CHARS=pr.C40_SHIFT2_SET_CHARS,pr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Xs{constructor(){this.rsDecoder=new fr(at.DATA_MATRIX_FIELD_256)}decode(e){const n=new Qn(e),o=n.getVersion(),l=n.readCodewords(),u=jo.getDataBlocks(l,o);let f=0;for(let v of u)f+=v.getNumDataCodewords();const g=new Uint8Array(f),y=u.length;for(let v=0;v<y;v++){const b=u[v],M=b.getCodewords(),D=b.getNumDataCodewords();this.correctErrors(M,D);for(let U=0;U<D;U++)g[U*y+v]=M[U]}return pr.decode(g)}correctErrors(e,n){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-n)}catch{throw new O}for(let l=0;l<n;l++)e[l]=o[l]}}class Pt{constructor(e){this.image=e,this.rectangleDetector=new Ge(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new re;n=this.shiftToModuleCenter(n);const o=n[0],l=n[1],u=n[2],f=n[3];let g=this.transitionsBetween(o,f)+1,y=this.transitionsBetween(u,f)+1;(g&1)===1&&(g+=1),(y&1)===1&&(y+=1),4*g<7*y&&4*y<7*g&&(g=y=Math.max(g,y));let v=Pt.sampleGrid(this.image,o,l,u,f,g,y);return new Ke(v,[o,l,u,f])}static shiftPoint(e,n,o){let l=(n.getX()-e.getX())/(o+1),u=(n.getY()-e.getY())/(o+1);return new Ce(e.getX()+l,e.getY()+u)}static moveAway(e,n,o){let l=e.getX(),u=e.getY();return l<n?l-=1:l+=1,u<o?u-=1:u+=1,new Ce(l,u)}detectSolid1(e){let n=e[0],o=e[1],l=e[3],u=e[2],f=this.transitionsBetween(n,o),g=this.transitionsBetween(o,l),y=this.transitionsBetween(l,u),v=this.transitionsBetween(u,n),b=f,M=[u,n,o,l];return b>g&&(b=g,M[0]=n,M[1]=o,M[2]=l,M[3]=u),b>y&&(b=y,M[0]=o,M[1]=l,M[2]=u,M[3]=n),b>v&&(M[0]=l,M[1]=u,M[2]=n,M[3]=o),M}detectSolid2(e){let n=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(n,u),g=Pt.shiftPoint(o,l,(f+1)*4),y=Pt.shiftPoint(l,o,(f+1)*4),v=this.transitionsBetween(g,n),b=this.transitionsBetween(y,u);return v<b?(e[0]=n,e[1]=o,e[2]=l,e[3]=u):(e[0]=o,e[1]=l,e[2]=u,e[3]=n),e}correctTopRight(e){let n=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(n,u),g=this.transitionsBetween(o,u),y=Pt.shiftPoint(n,o,(g+1)*4),v=Pt.shiftPoint(l,o,(f+1)*4);f=this.transitionsBetween(y,u),g=this.transitionsBetween(v,u);let b=new Ce(u.getX()+(l.getX()-o.getX())/(f+1),u.getY()+(l.getY()-o.getY())/(f+1)),M=new Ce(u.getX()+(n.getX()-o.getX())/(g+1),u.getY()+(n.getY()-o.getY())/(g+1));if(!this.isValid(b))return this.isValid(M)?M:null;if(!this.isValid(M))return b;let D=this.transitionsBetween(y,b)+this.transitionsBetween(v,b),U=this.transitionsBetween(y,M)+this.transitionsBetween(v,M);return D>U?b:M}shiftToModuleCenter(e){let n=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(n,u)+1,g=this.transitionsBetween(l,u)+1,y=Pt.shiftPoint(n,o,g*4),v=Pt.shiftPoint(l,o,f*4);f=this.transitionsBetween(y,u)+1,g=this.transitionsBetween(v,u)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let b=(n.getX()+o.getX()+l.getX()+u.getX())/4,M=(n.getY()+o.getY()+l.getY()+u.getY())/4;n=Pt.moveAway(n,b,M),o=Pt.moveAway(o,b,M),l=Pt.moveAway(l,b,M),u=Pt.moveAway(u,b,M);let D,U;return y=Pt.shiftPoint(n,o,g*4),y=Pt.shiftPoint(y,u,f*4),D=Pt.shiftPoint(o,n,g*4),D=Pt.shiftPoint(D,l,f*4),v=Pt.shiftPoint(l,u,g*4),v=Pt.shiftPoint(v,o,f*4),U=Pt.shiftPoint(u,l,g*4),U=Pt.shiftPoint(U,n,f*4),[y,D,v,U]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,o,l,u,f,g){return It.getInstance().sampleGrid(e,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,n.getX(),n.getY(),u.getX(),u.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(e,n){let o=Math.trunc(e.getX()),l=Math.trunc(e.getY()),u=Math.trunc(n.getX()),f=Math.trunc(n.getY()),g=Math.abs(f-l)>Math.abs(u-o);if(g){let Z=o;o=l,l=Z,Z=u,u=f,f=Z}let y=Math.abs(u-o),v=Math.abs(f-l),b=-y/2,M=l<f?1:-1,D=o<u?1:-1,U=0,G=this.image.get(g?l:o,g?o:l);for(let Z=o,Q=l;Z!==u;Z+=D){let se=this.image.get(g?Q:Z,g?Z:Q);if(se!==G&&(U++,G=se),b+=v,b>0){if(Q===f)break;Q+=M,b-=y}}return U}}class gr{constructor(){this.decoder=new Xs}decode(e,n=null){let o,l;if(n!=null&&n.has(ce.PURE_BARCODE)){const v=gr.extractPureBits(e.getBlackMatrix());o=this.decoder.decode(v),l=gr.NO_POINTS}else{const v=new Pt(e.getBlackMatrix()).detect();o=this.decoder.decode(v.getBits()),l=v.getPoints()}const u=o.getRawBytes(),f=new Fe(o.getText(),u,8*u.length,l,Ae.DATA_MATRIX,B.currentTimeMillis()),g=o.getByteSegments();g!=null&&f.putMetadata(He.BYTE_SEGMENTS,g);const y=o.getECLevel();return y!=null&&f.putMetadata(He.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(n==null||o==null)throw new re;const l=this.moduleSize(n,e);let u=n[1];const f=o[1];let g=n[0];const v=(o[0]-g+1)/l,b=(f-u+1)/l;if(v<=0||b<=0)throw new re;const M=l/2;u+=M,g+=M;const D=new Ve(v,b);for(let U=0;U<b;U++){const G=u+U*l;for(let Z=0;Z<v;Z++)e.get(g+Z*l,G)&&D.set(Z,U)}return D}static moduleSize(e,n){const o=n.getWidth();let l=e[0];const u=e[1];for(;l<o&&n.get(l,u);)l++;if(l===o)throw new re;const f=l-e[0];if(f===0)throw new re;return f}}gr.NO_POINTS=[];class Ou extends Ne{constructor(e=500){super(new gr,e)}}var ki;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(ki||(ki={}));class Nt{constructor(e,n,o){this.value=e,this.stringValue=n,this.bits=o,Nt.FOR_BITS.set(o,this),Nt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Nt.L;case"M":return Nt.M;case"Q":return Nt.Q;case"H":return Nt.H;default:throw new S(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Nt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=Nt.FOR_BITS.size)throw new I;return Nt.FOR_BITS.get(e)}}Nt.FOR_BITS=new Map,Nt.FOR_VALUE=new Map,Nt.L=new Nt(ki.L,"L",1),Nt.M=new Nt(ki.M,"M",0),Nt.Q=new Nt(ki.Q,"Q",3),Nt.H=new Nt(ki.H,"H",2);class yn{constructor(e){this.errorCorrectionLevel=Nt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return V.bitCount(e^n)}static decodeFormatInformation(e,n){const o=yn.doDecodeFormatInformation(e,n);return o!==null?o:yn.doDecodeFormatInformation(e^yn.FORMAT_INFO_MASK_QR,n^yn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let o=Number.MAX_SAFE_INTEGER,l=0;for(const u of yn.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===e||f===n)return new yn(u[1]);let g=yn.numBitsDiffering(e,f);g<o&&(l=u[1],o=g),e!==n&&(g=yn.numBitsDiffering(n,f),g<o&&(l=u[1],o=g))}return o<=3?new yn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof yn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}yn.FORMAT_INFO_MASK_QR=21522,yn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class q{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const o of n)e+=o.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ze{constructor(e,n,...o){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=o;let l=0;const u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const g of f)l+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new $;try{return this.getVersionForNumber((e-17)/4)}catch{throw new $}}static getVersionForNumber(e){if(e<1||e>40)throw new I;return ze.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<ze.VERSION_DECODE_INFO.length;l++){const u=ze.VERSION_DECODE_INFO[l];if(u===e)return ze.getVersionForNumber(l+7);const f=yn.numBitsDiffering(e,u);f<n&&(o=l+7,n=f)}return n<=3?ze.getVersionForNumber(o):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new Ve(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const u=this.alignmentPatternCenters[l]-2;for(let f=0;f<o;f++)l===0&&(f===0||f===o-1)||l===o-1&&f===0||n.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}ze.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ze.VERSIONS=[new ze(1,new Int32Array(0),new q(7,new j(1,19)),new q(10,new j(1,16)),new q(13,new j(1,13)),new q(17,new j(1,9))),new ze(2,Int32Array.from([6,18]),new q(10,new j(1,34)),new q(16,new j(1,28)),new q(22,new j(1,22)),new q(28,new j(1,16))),new ze(3,Int32Array.from([6,22]),new q(15,new j(1,55)),new q(26,new j(1,44)),new q(18,new j(2,17)),new q(22,new j(2,13))),new ze(4,Int32Array.from([6,26]),new q(20,new j(1,80)),new q(18,new j(2,32)),new q(26,new j(2,24)),new q(16,new j(4,9))),new ze(5,Int32Array.from([6,30]),new q(26,new j(1,108)),new q(24,new j(2,43)),new q(18,new j(2,15),new j(2,16)),new q(22,new j(2,11),new j(2,12))),new ze(6,Int32Array.from([6,34]),new q(18,new j(2,68)),new q(16,new j(4,27)),new q(24,new j(4,19)),new q(28,new j(4,15))),new ze(7,Int32Array.from([6,22,38]),new q(20,new j(2,78)),new q(18,new j(4,31)),new q(18,new j(2,14),new j(4,15)),new q(26,new j(4,13),new j(1,14))),new ze(8,Int32Array.from([6,24,42]),new q(24,new j(2,97)),new q(22,new j(2,38),new j(2,39)),new q(22,new j(4,18),new j(2,19)),new q(26,new j(4,14),new j(2,15))),new ze(9,Int32Array.from([6,26,46]),new q(30,new j(2,116)),new q(22,new j(3,36),new j(2,37)),new q(20,new j(4,16),new j(4,17)),new q(24,new j(4,12),new j(4,13))),new ze(10,Int32Array.from([6,28,50]),new q(18,new j(2,68),new j(2,69)),new q(26,new j(4,43),new j(1,44)),new q(24,new j(6,19),new j(2,20)),new q(28,new j(6,15),new j(2,16))),new ze(11,Int32Array.from([6,30,54]),new q(20,new j(4,81)),new q(30,new j(1,50),new j(4,51)),new q(28,new j(4,22),new j(4,23)),new q(24,new j(3,12),new j(8,13))),new ze(12,Int32Array.from([6,32,58]),new q(24,new j(2,92),new j(2,93)),new q(22,new j(6,36),new j(2,37)),new q(26,new j(4,20),new j(6,21)),new q(28,new j(7,14),new j(4,15))),new ze(13,Int32Array.from([6,34,62]),new q(26,new j(4,107)),new q(22,new j(8,37),new j(1,38)),new q(24,new j(8,20),new j(4,21)),new q(22,new j(12,11),new j(4,12))),new ze(14,Int32Array.from([6,26,46,66]),new q(30,new j(3,115),new j(1,116)),new q(24,new j(4,40),new j(5,41)),new q(20,new j(11,16),new j(5,17)),new q(24,new j(11,12),new j(5,13))),new ze(15,Int32Array.from([6,26,48,70]),new q(22,new j(5,87),new j(1,88)),new q(24,new j(5,41),new j(5,42)),new q(30,new j(5,24),new j(7,25)),new q(24,new j(11,12),new j(7,13))),new ze(16,Int32Array.from([6,26,50,74]),new q(24,new j(5,98),new j(1,99)),new q(28,new j(7,45),new j(3,46)),new q(24,new j(15,19),new j(2,20)),new q(30,new j(3,15),new j(13,16))),new ze(17,Int32Array.from([6,30,54,78]),new q(28,new j(1,107),new j(5,108)),new q(28,new j(10,46),new j(1,47)),new q(28,new j(1,22),new j(15,23)),new q(28,new j(2,14),new j(17,15))),new ze(18,Int32Array.from([6,30,56,82]),new q(30,new j(5,120),new j(1,121)),new q(26,new j(9,43),new j(4,44)),new q(28,new j(17,22),new j(1,23)),new q(28,new j(2,14),new j(19,15))),new ze(19,Int32Array.from([6,30,58,86]),new q(28,new j(3,113),new j(4,114)),new q(26,new j(3,44),new j(11,45)),new q(26,new j(17,21),new j(4,22)),new q(26,new j(9,13),new j(16,14))),new ze(20,Int32Array.from([6,34,62,90]),new q(28,new j(3,107),new j(5,108)),new q(26,new j(3,41),new j(13,42)),new q(30,new j(15,24),new j(5,25)),new q(28,new j(15,15),new j(10,16))),new ze(21,Int32Array.from([6,28,50,72,94]),new q(28,new j(4,116),new j(4,117)),new q(26,new j(17,42)),new q(28,new j(17,22),new j(6,23)),new q(30,new j(19,16),new j(6,17))),new ze(22,Int32Array.from([6,26,50,74,98]),new q(28,new j(2,111),new j(7,112)),new q(28,new j(17,46)),new q(30,new j(7,24),new j(16,25)),new q(24,new j(34,13))),new ze(23,Int32Array.from([6,30,54,78,102]),new q(30,new j(4,121),new j(5,122)),new q(28,new j(4,47),new j(14,48)),new q(30,new j(11,24),new j(14,25)),new q(30,new j(16,15),new j(14,16))),new ze(24,Int32Array.from([6,28,54,80,106]),new q(30,new j(6,117),new j(4,118)),new q(28,new j(6,45),new j(14,46)),new q(30,new j(11,24),new j(16,25)),new q(30,new j(30,16),new j(2,17))),new ze(25,Int32Array.from([6,32,58,84,110]),new q(26,new j(8,106),new j(4,107)),new q(28,new j(8,47),new j(13,48)),new q(30,new j(7,24),new j(22,25)),new q(30,new j(22,15),new j(13,16))),new ze(26,Int32Array.from([6,30,58,86,114]),new q(28,new j(10,114),new j(2,115)),new q(28,new j(19,46),new j(4,47)),new q(28,new j(28,22),new j(6,23)),new q(30,new j(33,16),new j(4,17))),new ze(27,Int32Array.from([6,34,62,90,118]),new q(30,new j(8,122),new j(4,123)),new q(28,new j(22,45),new j(3,46)),new q(30,new j(8,23),new j(26,24)),new q(30,new j(12,15),new j(28,16))),new ze(28,Int32Array.from([6,26,50,74,98,122]),new q(30,new j(3,117),new j(10,118)),new q(28,new j(3,45),new j(23,46)),new q(30,new j(4,24),new j(31,25)),new q(30,new j(11,15),new j(31,16))),new ze(29,Int32Array.from([6,30,54,78,102,126]),new q(30,new j(7,116),new j(7,117)),new q(28,new j(21,45),new j(7,46)),new q(30,new j(1,23),new j(37,24)),new q(30,new j(19,15),new j(26,16))),new ze(30,Int32Array.from([6,26,52,78,104,130]),new q(30,new j(5,115),new j(10,116)),new q(28,new j(19,47),new j(10,48)),new q(30,new j(15,24),new j(25,25)),new q(30,new j(23,15),new j(25,16))),new ze(31,Int32Array.from([6,30,56,82,108,134]),new q(30,new j(13,115),new j(3,116)),new q(28,new j(2,46),new j(29,47)),new q(30,new j(42,24),new j(1,25)),new q(30,new j(23,15),new j(28,16))),new ze(32,Int32Array.from([6,34,60,86,112,138]),new q(30,new j(17,115)),new q(28,new j(10,46),new j(23,47)),new q(30,new j(10,24),new j(35,25)),new q(30,new j(19,15),new j(35,16))),new ze(33,Int32Array.from([6,30,58,86,114,142]),new q(30,new j(17,115),new j(1,116)),new q(28,new j(14,46),new j(21,47)),new q(30,new j(29,24),new j(19,25)),new q(30,new j(11,15),new j(46,16))),new ze(34,Int32Array.from([6,34,62,90,118,146]),new q(30,new j(13,115),new j(6,116)),new q(28,new j(14,46),new j(23,47)),new q(30,new j(44,24),new j(7,25)),new q(30,new j(59,16),new j(1,17))),new ze(35,Int32Array.from([6,30,54,78,102,126,150]),new q(30,new j(12,121),new j(7,122)),new q(28,new j(12,47),new j(26,48)),new q(30,new j(39,24),new j(14,25)),new q(30,new j(22,15),new j(41,16))),new ze(36,Int32Array.from([6,24,50,76,102,128,154]),new q(30,new j(6,121),new j(14,122)),new q(28,new j(6,47),new j(34,48)),new q(30,new j(46,24),new j(10,25)),new q(30,new j(2,15),new j(64,16))),new ze(37,Int32Array.from([6,28,54,80,106,132,158]),new q(30,new j(17,122),new j(4,123)),new q(28,new j(29,46),new j(14,47)),new q(30,new j(49,24),new j(10,25)),new q(30,new j(24,15),new j(46,16))),new ze(38,Int32Array.from([6,32,58,84,110,136,162]),new q(30,new j(4,122),new j(18,123)),new q(28,new j(13,46),new j(32,47)),new q(30,new j(48,24),new j(14,25)),new q(30,new j(42,15),new j(32,16))),new ze(39,Int32Array.from([6,26,54,82,110,138,166]),new q(30,new j(20,117),new j(4,118)),new q(28,new j(40,47),new j(7,48)),new q(30,new j(43,24),new j(22,25)),new q(30,new j(10,15),new j(67,16))),new ze(40,Int32Array.from([6,30,58,86,114,142,170]),new q(30,new j(19,118),new j(6,119)),new q(28,new j(18,47),new j(31,48)),new q(30,new j(34,24),new j(34,25)),new q(30,new j(20,15),new j(61,16)))];var tn;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(tn||(tn={}));class ot{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let o=0;o<n;o++)for(let l=0;l<n;l++)this.isMasked(o,l)&&e.flip(l,o)}}ot.values=new Map([[tn.DATA_MASK_000,new ot(tn.DATA_MASK_000,(R,e)=>(R+e&1)===0)],[tn.DATA_MASK_001,new ot(tn.DATA_MASK_001,(R,e)=>(R&1)===0)],[tn.DATA_MASK_010,new ot(tn.DATA_MASK_010,(R,e)=>e%3===0)],[tn.DATA_MASK_011,new ot(tn.DATA_MASK_011,(R,e)=>(R+e)%3===0)],[tn.DATA_MASK_100,new ot(tn.DATA_MASK_100,(R,e)=>(Math.floor(R/2)+Math.floor(e/3)&1)===0)],[tn.DATA_MASK_101,new ot(tn.DATA_MASK_101,(R,e)=>R*e%6===0)],[tn.DATA_MASK_110,new ot(tn.DATA_MASK_110,(R,e)=>R*e%6<3)],[tn.DATA_MASK_111,new ot(tn.DATA_MASK_111,(R,e)=>(R+e+R*e%3&1)===0)]]);class el{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new $;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let u=0;u<6;u++)e=this.copyBit(u,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let u=5;u>=0;u--)e=this.copyBit(8,u,e);const n=this.bitMatrix.getHeight();let o=0;const l=n-7;for(let u=n-1;u>=l;u--)o=this.copyBit(8,u,o);for(let u=n-8;u<n;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=yn.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new $}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return ze.getVersionForNumber(n);let o=0;const l=e-11;for(let f=5;f>=0;f--)for(let g=e-9;g>=l;g--)o=this.copyBit(g,f,o);let u=ze.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;o=0;for(let f=5;f>=0;f--)for(let g=e-9;g>=l;g--)o=this.copyBit(f,g,o);if(u=ze.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new $}copyBit(e,n,o){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?o<<1|1:o<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),o=ot.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const u=n.buildFunctionPattern();let f=!0;const g=new Uint8Array(n.getTotalCodewords());let y=0,v=0,b=0;for(let M=l-1;M>0;M-=2){M===6&&M--;for(let D=0;D<l;D++){const U=f?l-1-D:D;for(let G=0;G<2;G++)u.get(M-G,U)||(b++,v<<=1,this.bitMatrix.get(M-G,U)&&(v|=1),b===8&&(g[y++]=v,b=0,v=0))}f=!f}if(y!==n.getTotalCodewords())throw new $;return g}remask(){if(this.parsedFormatInfo===null)return;const e=ot.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,o=e.getWidth();n<o;n++)for(let l=n+1,u=e.getHeight();l<u;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class Zs{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,o){if(e.length!==n.getTotalCodewords())throw new I;const l=n.getECBlocksForLevel(o);let u=0;const f=l.getECBlocks();for(const G of f)u+=G.getCount();const g=new Array(u);let y=0;for(const G of f)for(let Z=0;Z<G.getCount();Z++){const Q=G.getDataCodewords(),se=l.getECCodewordsPerBlock()+Q;g[y++]=new Zs(Q,new Uint8Array(se))}const v=g[0].codewords.length;let b=g.length-1;for(;b>=0&&g[b].codewords.length!==v;)b--;b++;const M=v-l.getECCodewordsPerBlock();let D=0;for(let G=0;G<M;G++)for(let Z=0;Z<y;Z++)g[Z].codewords[G]=e[D++];for(let G=b;G<y;G++)g[G].codewords[M]=e[D++];const U=g[0].codewords.length;for(let G=M;G<U;G++)for(let Z=0;Z<y;Z++){const Q=Z<b?G:G+1;g[Z].codewords[Q]=e[D++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Vn;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(Vn||(Vn={}));class We{constructor(e,n,o,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=o,this.bits=l,We.FOR_BITS.set(l,this),We.FOR_VALUE.set(e,this)}static forBits(e){const n=We.FOR_BITS.get(e);if(n===void 0)throw new I;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let o;return n<=9?o=0:n<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof We))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(Vn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(Vn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(Vn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(Vn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(Vn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(Vn.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(Vn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(Vn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(Vn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(Vn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Bt{static decode(e,n,o,l){const u=new Uo(e);let f=new be;const g=new Array;let y=-1,v=-1;try{let b=null,M=!1,D;do{if(u.available()<4)D=We.TERMINATOR;else{const U=u.readBits(4);D=We.forBits(U)}switch(D){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:M=!0;break;case We.STRUCTURED_APPEND:if(u.available()<16)throw new $;y=u.readBits(8),v=u.readBits(8);break;case We.ECI:const U=Bt.parseECIValue(u);if(b=ee.getCharacterSetECIByValue(U),b===null)throw new $;break;case We.HANZI:const G=u.readBits(4),Z=u.readBits(D.getCharacterCountBits(n));G===Bt.GB2312_SUBSET&&Bt.decodeHanziSegment(u,f,Z);break;default:const Q=u.readBits(D.getCharacterCountBits(n));switch(D){case We.NUMERIC:Bt.decodeNumericSegment(u,f,Q);break;case We.ALPHANUMERIC:Bt.decodeAlphanumericSegment(u,f,Q,M);break;case We.BYTE:Bt.decodeByteSegment(u,f,Q,b,g,l);break;case We.KANJI:Bt.decodeKanjiSegment(u,f,Q);break;default:throw new $}break}}while(D!==We.TERMINATOR)}catch{throw new $}return new gt(e,f.toString(),g.length===0?null:g,o===null?null:o.toString(),y,v)}static decodeHanziSegment(e,n,o){if(o*13>e.available())throw new $;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=e.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,l[u]=g>>8&255,l[u+1]=g&255,u+=2,o--}try{n.append(Be.decode(l,Ie.GB2312))}catch(f){throw new $(f)}}static decodeKanjiSegment(e,n,o){if(o*13>e.available())throw new $;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=e.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,l[u]=g>>8,l[u+1]=g,u+=2,o--}try{n.append(Be.decode(l,Ie.SHIFT_JIS))}catch(f){throw new $(f)}}static decodeByteSegment(e,n,o,l,u,f){if(8*o>e.available())throw new $;const g=new Uint8Array(o);for(let v=0;v<o;v++)g[v]=e.readBits(8);let y;l===null?y=Ie.guessEncoding(g,f):y=l.getName();try{n.append(Be.decode(g,y))}catch(v){throw new $(v)}u.push(g)}static toAlphaNumericChar(e){if(e>=Bt.ALPHANUMERIC_CHARS.length)throw new $;return Bt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,o,l){const u=n.length();for(;o>1;){if(e.available()<11)throw new $;const f=e.readBits(11);n.append(Bt.toAlphaNumericChar(Math.floor(f/45))),n.append(Bt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(e.available()<6)throw new $;n.append(Bt.toAlphaNumericChar(e.readBits(6)))}if(l)for(let f=u;f<n.length();f++)n.charAt(f)==="%"&&(f<n.length()-1&&n.charAt(f+1)==="%"?n.deleteCharAt(f+1):n.setCharAt(f,""))}static decodeNumericSegment(e,n,o){for(;o>=3;){if(e.available()<10)throw new $;const l=e.readBits(10);if(l>=1e3)throw new $;n.append(Bt.toAlphaNumericChar(Math.floor(l/100))),n.append(Bt.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(Bt.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(e.available()<7)throw new $;const l=e.readBits(7);if(l>=100)throw new $;n.append(Bt.toAlphaNumericChar(Math.floor(l/10))),n.append(Bt.toAlphaNumericChar(l%10))}else if(o===1){if(e.available()<4)throw new $;const l=e.readBits(4);if(l>=10)throw new $;n.append(Bt.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const o=e.readBits(8);return(n&63)<<8&4294967295|o}if((n&224)===192){const o=e.readBits(16);return(n&31)<<16&4294967295|o}throw new $}}Bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Bt.GB2312_SUBSET=1;class zo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Vo{constructor(){this.rsDecoder=new fr(at.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(Ve.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const o=new el(e);let l=null;try{return this.decodeBitMatrixParser(o,n)}catch(u){l=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,n);return u.setOther(new zo(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(e,n){const o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),f=Zs.getDataBlocks(u,o,l);let g=0;for(const b of f)g+=b.getNumDataCodewords();const y=new Uint8Array(g);let v=0;for(const b of f){const M=b.getCodewords(),D=b.getNumDataCodewords();this.correctErrors(M,D);for(let U=0;U<D;U++)y[v++]=M[U]}return Bt.decode(y,o,l,n)}correctErrors(e,n){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-n)}catch{throw new O}for(let l=0;l<n;l++)e[l]=o[l]}}class Bi extends Ce{constructor(e,n,o){super(e,n),this.estimatedModuleSize=o}aboutEquals(e,n,o){if(Math.abs(n-this.getY())<=e&&Math.abs(o-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,o){const l=(this.getX()+n)/2,u=(this.getY()+e)/2,f=(this.estimatedModuleSize+o)/2;return new Bi(l,u,f)}}class mr{constructor(e,n,o,l,u,f,g){this.image=e,this.startX=n,this.startY=o,this.width=l,this.height=u,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,o=this.width,l=e+o,u=this.startY+n/2,f=new Int32Array(3),g=this.image;for(let y=0;y<n;y++){const v=u+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let b=e;for(;b<l&&!g.get(b,v);)b++;let M=0;for(;b<l;){if(g.get(b,v))if(M===1)f[1]++;else if(M===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,b);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,M=1}else f[++M]++;else M===1&&M++,f[M]++;b++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,l);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,o=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=o)return!1;return!0}crossCheckVertical(e,n,o,l){const u=this.image,f=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let y=e;for(;y>=0&&u.get(n,y)&&g[1]<=o;)g[1]++,y--;if(y<0||g[1]>o)return NaN;for(;y>=0&&!u.get(n,y)&&g[0]<=o;)g[0]++,y--;if(g[0]>o)return NaN;for(y=e+1;y<f&&u.get(n,y)&&g[1]<=o;)g[1]++,y++;if(y===f||g[1]>o)return NaN;for(;y<f&&!u.get(n,y)&&g[2]<=o;)g[2]++,y++;if(g[2]>o)return NaN;const v=g[0]+g[1]+g[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(g)?mr.centerFromEnd(g,y):NaN}handlePossibleCenter(e,n,o){const l=e[0]+e[1]+e[2],u=mr.centerFromEnd(e,o),f=this.crossCheckVertical(n,u,2*e[1],l);if(!isNaN(f)){const g=(e[0]+e[1]+e[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(g,f,u))return v.combineEstimate(f,u,g);const y=new Bi(u,f,g);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class br extends Ce{constructor(e,n,o,l){super(e,n),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,o){if(Math.abs(n-this.getY())<=e&&Math.abs(o-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,o){const l=this.count+1,u=(this.count*this.getX()+n)/l,f=(this.count*this.getY()+e)/l,g=(this.count*this.estimatedModuleSize+o)/l;return new br(u,f,g,l)}}class qr{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Xt{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(ce.TRY_HARDER)!==void 0,o=e!=null&&e.get(ce.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),f=l.getWidth();let g=Math.floor(3*u/(4*Xt.MAX_MODULES));(g<Xt.MIN_SKIP||n)&&(g=Xt.MIN_SKIP);let y=!1;const v=new Int32Array(5);for(let M=g-1;M<u&&!y;M+=g){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let U=0;U<f;U++)if(l.get(U,M))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(Xt.foundPatternCross(v)){if(this.handlePossibleCenter(v,M,U,o)===!0)if(g=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const Z=this.findRowSkip();Z>v[2]&&(M+=Z-v[2]-g,U=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;Xt.foundPatternCross(v)&&this.handlePossibleCenter(v,M,f,o)===!0&&(g=v[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Ce.orderBestPatterns(b),new qr(b)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let u=0;u<5;u++){const f=e[u];if(f===0)return!1;n+=f}if(n<7)return!1;const o=n/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,o,l){const u=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;e>=f&&n>=f&&g.get(n-f,e-f);)u[2]++,f++;if(e<f||n<f)return!1;for(;e>=f&&n>=f&&!g.get(n-f,e-f)&&u[1]<=o;)u[1]++,f++;if(e<f||n<f||u[1]>o)return!1;for(;e>=f&&n>=f&&g.get(n-f,e-f)&&u[0]<=o;)u[0]++,f++;if(u[0]>o)return!1;const y=g.getHeight(),v=g.getWidth();for(f=1;e+f<y&&n+f<v&&g.get(n+f,e+f);)u[2]++,f++;if(e+f>=y||n+f>=v)return!1;for(;e+f<y&&n+f<v&&!g.get(n+f,e+f)&&u[3]<o;)u[3]++,f++;if(e+f>=y||n+f>=v||u[3]>=o)return!1;for(;e+f<y&&n+f<v&&g.get(n+f,e+f)&&u[4]<o;)u[4]++,f++;if(u[4]>=o)return!1;const b=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(b-l)<2*l&&Xt.foundPatternCross(u)}crossCheckVertical(e,n,o,l){const u=this.image,f=u.getHeight(),g=this.getCrossCheckStateCount();let y=e;for(;y>=0&&u.get(n,y);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(n,y)&&g[1]<=o;)g[1]++,y--;if(y<0||g[1]>o)return NaN;for(;y>=0&&u.get(n,y)&&g[0]<=o;)g[0]++,y--;if(g[0]>o)return NaN;for(y=e+1;y<f&&u.get(n,y);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(n,y)&&g[3]<o;)g[3]++,y++;if(y===f||g[3]>=o)return NaN;for(;y<f&&u.get(n,y)&&g[4]<o;)g[4]++,y++;if(g[4]>=o)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-l)>=2*l?NaN:Xt.foundPatternCross(g)?Xt.centerFromEnd(g,y):NaN}crossCheckHorizontal(e,n,o,l){const u=this.image,f=u.getWidth(),g=this.getCrossCheckStateCount();let y=e;for(;y>=0&&u.get(y,n);)g[2]++,y--;if(y<0)return NaN;for(;y>=0&&!u.get(y,n)&&g[1]<=o;)g[1]++,y--;if(y<0||g[1]>o)return NaN;for(;y>=0&&u.get(y,n)&&g[0]<=o;)g[0]++,y--;if(g[0]>o)return NaN;for(y=e+1;y<f&&u.get(y,n);)g[2]++,y++;if(y===f)return NaN;for(;y<f&&!u.get(y,n)&&g[3]<o;)g[3]++,y++;if(y===f||g[3]>=o)return NaN;for(;y<f&&u.get(y,n)&&g[4]<o;)g[4]++,y++;if(g[4]>=o)return NaN;const v=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(v-l)>=l?NaN:Xt.foundPatternCross(g)?Xt.centerFromEnd(g,y):NaN}handlePossibleCenter(e,n,o,l){const u=e[0]+e[1]+e[2]+e[3]+e[4];let f=Xt.centerFromEnd(e,o),g=this.crossCheckVertical(n,Math.floor(f),e[2],u);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),e[2],u),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),e[2],u)))){const y=u/7;let v=!1;const b=this.possibleCenters;for(let M=0,D=b.length;M<D;M++){const U=b[M];if(U.aboutEquals(y,g,f)){b[M]=U.combineEstimate(g,f,y),v=!0;break}}if(!v){const M=new br(f,g,y);b.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const o of this.possibleCenters)if(o.getCount()>=Xt.CENTER_QUORUM)if(n==null)n=o;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-o.getX())-Math.abs(n.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Xt.CENTER_QUORUM&&(e++,n+=f.getEstimatedModuleSize());if(e<3)return!1;const l=n/o;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-l);return u<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new re;const n=this.possibleCenters;let o;if(e>3){let l=0,u=0;for(const y of this.possibleCenters){const v=y.getEstimatedModuleSize();l+=v,u+=v*v}o=l/e;let f=Math.sqrt(u/e-o*o);n.sort((y,v)=>{const b=Math.abs(v.getEstimatedModuleSize()-o),M=Math.abs(y.getEstimatedModuleSize()-o);return b<M?-1:b>M?1:0});const g=Math.max(.2*o,f);for(let y=0;y<n.length&&n.length>3;y++){const v=n[y];Math.abs(v.getEstimatedModuleSize()-o)>g&&(n.splice(y,1),y--)}}if(n.length>3){let l=0;for(const u of n)l+=u.getEstimatedModuleSize();o=l/n.length,n.sort((u,f)=>{if(f.getCount()===u.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-o),y=Math.abs(u.getEstimatedModuleSize()-o);return g<y?1:g>y?-1:0}else return f.getCount()-u.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}Xt.CENTER_QUORUM=2,Xt.MIN_SKIP=3,Xt.MAX_MODULES=57;class jr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(ce.NEED_RESULT_POINT_CALLBACK);const o=new Xt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(o)}processFinderPatternInfo(e){const n=e.getTopLeft(),o=e.getTopRight(),l=e.getBottomLeft(),u=this.calculateModuleSize(n,o,l);if(u<1)throw new re("No pattern found in proccess finder.");const f=jr.computeDimension(n,o,l,u),g=ze.getProvisionalVersionForDimension(f),y=g.getDimensionForVersion()-7;let v=null;if(g.getAlignmentPatternCenters().length>0){const U=o.getX()-n.getX()+l.getX(),G=o.getY()-n.getY()+l.getY(),Z=1-3/y,Q=Math.floor(n.getX()+Z*(U-n.getX())),se=Math.floor(n.getY()+Z*(G-n.getY()));for(let we=4;we<=16;we<<=1)try{v=this.findAlignmentInRegion(u,Q,se,we);break}catch(ve){if(!(ve instanceof re))throw ve}}const b=jr.createTransform(n,o,l,v,f),M=jr.sampleGrid(this.image,b,f);let D;return v===null?D=[l,n,o]:D=[l,n,o,v],new Ke(M,D)}static createTransform(e,n,o,l,u){const f=u-3.5;let g,y,v,b;return l!==null?(g=l.getX(),y=l.getY(),v=f-3,b=v):(g=n.getX()-e.getX()+o.getX(),y=n.getY()-e.getY()+o.getY(),v=f,b=f),$e.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,b,3.5,f,e.getX(),e.getY(),n.getX(),n.getY(),g,y,o.getX(),o.getY())}static sampleGrid(e,n,o){return It.getInstance().sampleGridWithTransform(e,o,o,n)}static computeDimension(e,n,o,l){const u=lt.round(Ce.distance(e,n)/l),f=lt.round(Ce.distance(e,o)/l);let g=Math.floor((u+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new re("Dimensions could be not found.")}return g}calculateModuleSize(e,n,o){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,o))/2}calculateModuleSizeOneWay(e,n){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,o,l){let u=this.sizeOfBlackWhiteBlackRun(e,n,o,l),f=1,g=e-(o-e);g<0?(f=e/(e-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-e)/(g-e),g=this.image.getWidth()-1);let y=Math.floor(n-(l-n)*f);return f=1,y<0?(f=n/(n-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-n)/(y-n),y=this.image.getHeight()-1),g=Math.floor(e+(g-e)*f),u+=this.sizeOfBlackWhiteBlackRun(e,n,g,y),u-1}sizeOfBlackWhiteBlackRun(e,n,o,l){const u=Math.abs(l-n)>Math.abs(o-e);if(u){let U=e;e=n,n=U,U=o,o=l,l=U}const f=Math.abs(o-e),g=Math.abs(l-n);let y=-f/2;const v=e<o?1:-1,b=n<l?1:-1;let M=0;const D=o+v;for(let U=e,G=n;U!==D;U+=v){const Z=u?G:U,Q=u?U:G;if(M===1===this.image.get(Z,Q)){if(M===2)return lt.distance(U,G,e,n);M++}if(y+=g,y>0){if(G===l)break;G+=b,y-=f}}return M===2?lt.distance(o+v,l,e,n):NaN}findAlignmentInRegion(e,n,o,l){const u=Math.floor(l*e),f=Math.max(0,n-u),g=Math.min(this.image.getWidth()-1,n+u);if(g-f<e*3)throw new re("Alignment top exceeds estimated module size.");const y=Math.max(0,o-u),v=Math.min(this.image.getHeight()-1,o+u);if(v-y<e*3)throw new re("Alignment bottom exceeds estimated module size.");return new mr(this.image,f,y,g-f,v-y,e,this.resultPointCallback).find()}}class Dn{constructor(){this.decoder=new Vo}getDecoder(){return this.decoder}decode(e,n){let o,l;if(n!=null&&n.get(ce.PURE_BARCODE)!==void 0){const y=Dn.extractPureBits(e.getBlackMatrix());o=this.decoder.decodeBitMatrix(y,n),l=Dn.NO_POINTS}else{const y=new jr(e.getBlackMatrix()).detect(n);o=this.decoder.decodeBitMatrix(y.getBits(),n),l=y.getPoints()}o.getOther()instanceof zo&&o.getOther().applyMirroredCorrection(l);const u=new Fe(o.getText(),o.getRawBytes(),void 0,l,Ae.QR_CODE,void 0),f=o.getByteSegments();f!==null&&u.putMetadata(He.BYTE_SEGMENTS,f);const g=o.getECLevel();return g!==null&&u.putMetadata(He.ERROR_CORRECTION_LEVEL,g),o.hasStructuredAppend()&&(u.putMetadata(He.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(He.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(n===null||o===null)throw new re;const l=this.moduleSize(n,e);let u=n[1],f=o[1],g=n[0],y=o[0];if(g>=y||u>=f)throw new re;if(f-u!==y-g&&(y=g+(f-u),y>=e.getWidth()))throw new re;const v=Math.round((y-g+1)/l),b=Math.round((f-u+1)/l);if(v<=0||b<=0)throw new re;if(b!==v)throw new re;const M=Math.floor(l/2);u+=M,g+=M;const D=g+Math.floor((v-1)*l)-y;if(D>0){if(D>M)throw new re;g-=D}const U=u+Math.floor((b-1)*l)-f;if(U>0){if(U>M)throw new re;u-=U}const G=new Ve(v,b);for(let Z=0;Z<b;Z++){const Q=u+Math.floor(Z*l);for(let se=0;se<v;se++)e.get(g+Math.floor(se*l),Q)&&G.set(se,Z)}return G}static moduleSize(e,n){const o=n.getHeight(),l=n.getWidth();let u=e[0],f=e[1],g=!0,y=0;for(;u<l&&f<o;){if(g!==n.get(u,f)){if(++y===5)break;g=!g}u++,f++}if(u===l||f===o)throw new re;return(u-e[0])/7}}Dn.NO_POINTS=new Array;class Qe{PDF417Common(){}static getBitCountSum(e){return lt.sum(e)}static toIntArray(e){if(e==null||!e.length)return Qe.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let o=0;for(const l of e)n[o++]=l;return n}static getCodeword(e){const n=H.binarySearch(Qe.SYMBOL_TABLE,e&262143);return n<0?-1:(Qe.CODEWORD_TABLE[n]-1)%Qe.NUMBER_OF_CODEWORDS}}Qe.NUMBER_OF_CODEWORDS=929,Qe.MAX_CODEWORDS_IN_BARCODE=Qe.NUMBER_OF_CODEWORDS-1,Qe.MIN_ROWS_IN_BARCODE=3,Qe.MAX_ROWS_IN_BARCODE=90,Qe.MODULES_IN_CODEWORD=17,Qe.MODULES_IN_STOP_PATTERN=18,Qe.BARS_IN_MODULE=8,Qe.EMPTY_INT_ARRAY=new Int32Array([]),Qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class tl{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class tt{static detectMultiple(e,n,o){let l=e.getBlackMatrix(),u=tt.detect(o,l);return u.length||(l=l.clone(),l.rotate180(),u=tt.detect(o,l)),new tl(l,u)}static detect(e,n){const o=new Array;let l=0,u=0,f=!1;for(;l<n.getHeight();){const g=tt.findVertices(n,l,u);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,u=0;for(const y of o)y[1]!=null&&(l=Math.trunc(Math.max(l,y[1].getY()))),y[3]!=null&&(l=Math.max(l,Math.trunc(y[3].getY())));l+=tt.ROW_STEP;continue}if(f=!0,o.push(g),!e)break;g[2]!=null?(u=Math.trunc(g[2].getX()),l=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY()))}return o}static findVertices(e,n,o){const l=e.getHeight(),u=e.getWidth(),f=new Array(8);return tt.copyToResult(f,tt.findRowsWithPattern(e,l,u,n,o,tt.START_PATTERN),tt.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),n=Math.trunc(f[4].getY())),tt.copyToResult(f,tt.findRowsWithPattern(e,l,u,n,o,tt.STOP_PATTERN),tt.INDEXES_STOP_PATTERN),f}static copyToResult(e,n,o){for(let l=0;l<o.length;l++)e[o[l]]=n[l]}static findRowsWithPattern(e,n,o,l,u,f){const g=new Array(4);let y=!1;const v=new Int32Array(f.length);for(;l<n;l+=tt.ROW_STEP){let M=tt.findGuardPattern(e,u,l,o,!1,f,v);if(M!=null){for(;l>0;){const D=tt.findGuardPattern(e,u,--l,o,!1,f,v);if(D!=null)M=D;else{l++;break}}g[0]=new Ce(M[0],l),g[1]=new Ce(M[1],l),y=!0;break}}let b=l+1;if(y){let M=0,D=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;b<n;b++){const U=tt.findGuardPattern(e,D[0],b,o,!1,f,v);if(U!=null&&Math.abs(D[0]-U[0])<tt.MAX_PATTERN_DRIFT&&Math.abs(D[1]-U[1])<tt.MAX_PATTERN_DRIFT)D=U,M=0;else{if(M>tt.SKIPPED_ROW_COUNT_MAX)break;M++}}b-=M+1,g[2]=new Ce(D[0],b),g[3]=new Ce(D[1],b)}return b-l<tt.BARCODE_MIN_HEIGHT&&H.fill(g,null),g}static findGuardPattern(e,n,o,l,u,f,g){H.fillWithin(g,0,g.length,0);let y=n,v=0;for(;e.get(y,o)&&y>0&&v++<tt.MAX_PIXEL_DRIFT;)y--;let b=y,M=0,D=f.length;for(let U=u;b<l;b++)if(e.get(b,o)!==U)g[M]++;else{if(M===D-1){if(tt.patternMatchVariance(g,f,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return new Int32Array([y,b]);y+=g[0]+g[1],B.arraycopy(g,2,g,0,M-1),g[M-1]=0,g[M]=0,M--}else M++;g[M]=1,U=!U}return M===D-1&&tt.patternMatchVariance(g,f,tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE?new Int32Array([y,b-1]):null}static patternMatchVariance(e,n,o){let l=e.length,u=0,f=0;for(let v=0;v<l;v++)u+=e[v],f+=n[v];if(u<f)return 1/0;let g=u/f;o*=g;let y=0;for(let v=0;v<l;v++){let b=e[v],M=n[v]*g,D=b>M?b-M:M-b;if(D>o)return 1/0;y+=D}return y/u}}tt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),tt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),tt.MAX_AVG_VARIANCE=.42,tt.MAX_INDIVIDUAL_VARIANCE=.8,tt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),tt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),tt.MAX_PIXEL_DRIFT=3,tt.MAX_PATTERN_DRIFT=5,tt.SKIPPED_ROW_COUNT_MAX=25,tt.ROW_STEP=5,tt.BARCODE_MIN_HEIGHT=10;class wn{constructor(e,n){if(n.length===0)throw new I;this.field=e;let o=n.length;if(o>1&&n[0]===0){let l=1;for(;l<o&&n[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),B.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let n=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,o=e.coefficients;if(n.length>o.length){let f=n;n=o,o=f}let l=new Int32Array(o.length),u=o.length-n.length;B.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=this.field.add(n[f-u],o[f]);return new wn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof wn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new wn(this.field,new Int32Array([0]));let n=this.coefficients,o=n.length,l=e.coefficients,u=l.length,f=new Int32Array(o+u-1);for(let g=0;g<o;g++){let y=n[g];for(let v=0;v<u;v++)f[g+v]=this.field.add(f[g+v],this.field.multiply(y,l[v]))}return new wn(this.field,f)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let o=0;o<e;o++)n[o]=this.field.subtract(0,this.coefficients[o]);return new wn(this.field,n)}multiplyScalar(e){if(e===0)return new wn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,o=new Int32Array(n);for(let l=0;l<n;l++)o[l]=this.field.multiply(this.coefficients[l],e);return new wn(this.field,o)}multiplyByMonomial(e,n){if(e<0)throw new I;if(n===0)return new wn(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+e);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],n);return new wn(this.field,l)}toString(){let e=new be;for(let n=this.getDegree();n>=0;n--){let o=this.getCoefficient(n);o!==0&&(o<0?(e.append(" - "),o=-o):e.length()>0&&e.append(" + "),(n===0||o!==1)&&e.append(o),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class nl{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}inverse(e){if(e===0)throw new cr;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Fi extends nl{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let o=1;for(let l=0;l<e;l++)this.expTable[l]=o,o=o*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new wn(this,new Int32Array([0])),this.one=new wn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new I;if(n===0)return this.zero;let o=new Int32Array(e+1);return o[0]=n,new wn(this,o)}}Fi.PDF417_GF=new Fi(Qe.NUMBER_OF_CODEWORDS,3);class Wo{constructor(){this.field=Fi.PDF417_GF}decode(e,n,o){let l=new wn(this.field,e),u=new Int32Array(n),f=!1;for(let G=n;G>0;G--){let Z=l.evaluateAt(this.field.exp(G));u[n-G]=Z,Z!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(o!=null)for(const G of o){let Z=this.field.exp(e.length-1-G),Q=new wn(this.field,new Int32Array([this.field.subtract(0,Z),1]));g=g.multiply(Q)}let y=new wn(this.field,u),v=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),y,n),b=v[0],M=v[1],D=this.findErrorLocations(b),U=this.findErrorMagnitudes(M,b,D);for(let G=0;G<D.length;G++){let Z=e.length-1-this.field.log(D[G]);if(Z<0)throw O.getChecksumInstance();e[Z]=this.field.subtract(e[Z],U[G])}return D.length}runEuclideanAlgorithm(e,n,o){if(e.getDegree()<n.getDegree()){let D=e;e=n,n=D}let l=e,u=n,f=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let D=l,U=f;if(l=u,f=g,l.isZero())throw O.getChecksumInstance();u=D;let G=this.field.getZero(),Z=l.getCoefficient(l.getDegree()),Q=this.field.inverse(Z);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let se=u.getDegree()-l.getDegree(),we=this.field.multiply(u.getCoefficient(u.getDegree()),Q);G=G.add(this.field.buildMonomial(se,we)),u=u.subtract(l.multiplyByMonomial(se,we))}g=G.multiply(f).subtract(U).negative()}let y=g.getCoefficient(0);if(y===0)throw O.getChecksumInstance();let v=this.field.inverse(y),b=g.multiply(v),M=u.multiply(v);return[b,M]}findErrorLocations(e){let n=e.getDegree(),o=new Int32Array(n),l=0;for(let u=1;u<this.field.getSize()&&l<n;u++)e.evaluateAt(u)===0&&(o[l]=this.field.inverse(u),l++);if(l!==n)throw O.getChecksumInstance();return o}findErrorMagnitudes(e,n,o){let l=n.getDegree(),u=new Int32Array(l);for(let v=1;v<=l;v++)u[l-v]=this.field.multiply(v,n.getCoefficient(v));let f=new wn(this.field,u),g=o.length,y=new Int32Array(g);for(let v=0;v<g;v++){let b=this.field.inverse(o[v]),M=this.field.subtract(0,e.evaluateAt(b)),D=this.field.inverse(f.evaluateAt(b));y[v]=this.field.multiply(M,D)}return y}}class gi{constructor(e,n,o,l,u){e instanceof gi?this.constructor_2(e):this.constructor_1(e,n,o,l,u)}constructor_1(e,n,o,l,u){const f=n==null||o==null,g=l==null||u==null;if(f&&g)throw new re;f?(n=new Ce(0,l.getY()),o=new Ce(0,u.getY())):g&&(l=new Ce(e.getWidth()-1,n.getY()),u=new Ce(e.getWidth()-1,o.getY())),this.image=e,this.topLeft=n,this.bottomLeft=o,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(n.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new gi(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,o){let l=this.topLeft,u=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(e>0){let y=o?this.topLeft:this.topRight,v=Math.trunc(y.getY()-e);v<0&&(v=0);let b=new Ce(y.getX(),v);o?l=b:f=b}if(n>0){let y=o?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let b=new Ce(y.getX(),v);o?u=b:g=b}return new gi(this.image,l,u,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class xs{constructor(e,n,o,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=o,this.rowCount=n+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ur{constructor(){this.buffer=""}static form(e,n){let o=-1;function l(f,g,y,v,b,M){if(f==="%%")return"%";if(n[++o]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=n[o];break;case"c":U=n[o][0];break;case"f":U=parseFloat(n[o]).toFixed(f);break;case"p":U=parseFloat(n[o]).toPrecision(f);break;case"e":U=parseFloat(n[o]).toExponential(f);break;case"x":U=parseInt(n[o]).toString(D||16);break;case"d":U=parseFloat(parseInt(n[o],D||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(D);let G=parseInt(y),Z=y&&y[0]+""=="0"?"0":" ";for(;U.length<G;)U=g!==void 0?U+Z:Z+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}format(e,...n){this.buffer+=Ur.form(e,n)}toString(){return this.buffer}}class Nr{constructor(e){this.boundingBox=new gi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let o=1;o<Nr.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(e)-o;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+o,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Ur;let n=0;for(const o of this.codewords){if(o==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,o.getRowNumber(),o.getValue())}return e.toString()}}Nr.MAX_NEARBY_DISTANCE=5;class Jr{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[o,l]of this.values.entries()){const u={getKey:()=>o,getValue:()=>l};u.getValue()>e?(e=u.getValue(),n=[],n.push(u.getKey())):u.getValue()===e&&n.push(u.getKey())}return Qe.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class rl extends Nr{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),y=-1,v=1,b=0;for(let M=f;M<g;M++){if(n[M]==null)continue;let D=n[M],U=D.getRowNumber()-y;if(U===0)b++;else if(U===1)v=Math.max(v,b),b=1,y=D.getRowNumber();else if(U<0||D.getRowNumber()>=e.getRowCount()||U>M)n[M]=null;else{let G;v>2?G=(v-2)*U:G=U;let Z=G>=M;for(let Q=1;Q<=G&&!Z;Q++)Z=n[M-Q]!=null;Z?n[M]=null:(y=D.getRowNumber(),b=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),o=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.getCodewords(),y=-1;for(let v=u;v<f;v++){if(g[v]==null)continue;let b=g[v];b.setRowNumberAsRowIndicatorColumn();let M=b.getRowNumber()-y;M===0||(M===1?y=b.getRowNumber():b.getRowNumber()>=e.getRowCount()?g[v]=null:y=b.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new Jr,o=new Jr,l=new Jr,u=new Jr;for(let g of e){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let y=g.getValue()%30,v=g.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:o.setValue(y*3+1);break;case 1:u.setValue(y/3),l.setValue(y%3);break;case 2:n.setValue(y+1);break}}if(n.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||n.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<Qe.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>Qe.MAX_ROWS_IN_BARCODE)return null;let f=new xs(n.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(e,f),f}removeIncorrectCodewords(e,n){for(let o=0;o<e.length;o++){let l=e[o];if(e[o]==null)continue;let u=l.getValue()%30,f=l.getRowNumber();if(f>n.getRowCount()){e[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==n.getRowCountUpperPart()&&(e[o]=null);break;case 1:(Math.trunc(u/3)!==n.getErrorCorrectionLevel()||u%3!==n.getRowCountLowerPart())&&(e[o]=null);break;case 2:u+1!==n.getColumnCount()&&(e[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ys{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Qe.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let o=this.detectionResultColumns[n].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,o))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<e.length;o++)if(e[o]!=null&&n[o]!=null&&e[o].getRowNumber()===n[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[o];u!=null&&(u.setRowNumber(e[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<n.length;o++){if(n[o]==null)continue;let l=n[o].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[o];g!=null&&(u=ys.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let o=0;o<n.length;o++){if(n[o]==null)continue;let l=n[o].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[o];g!=null&&(u=ys.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(e)?(o.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,o){if(!this.detectionResultColumns[e-1])return;let l=o[n],u=this.detectionResultColumns[e-1].getCodewords(),f=u;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());let g=new Array(14);g[2]=u[n],g[3]=f[n],n>0&&(g[0]=o[n-1],g[4]=u[n-1],g[5]=f[n-1]),n>1&&(g[8]=o[n-2],g[10]=u[n-2],g[11]=f[n-2]),n<o.length-1&&(g[1]=o[n+1],g[6]=u[n+1],g[7]=f[n+1]),n<o.length-2&&(g[9]=o[n+2],g[12]=u[n+2],g[13]=f[n+2]);for(let y of g)if(ys.adjustRowNumber(l,y))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Ur;for(let o=0;o<e.getCodewords().length;o++){n.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[o];if(u==null){n.format("    |   ");continue}n.format(" %3d|%3d",u.getRowNumber(),u.getValue())}n.format("%n")}return n.toString()}}class mi{constructor(e,n,o,l){this.rowNumber=mi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==mi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}mi.BARCODE_ROW_UNKNOWN=-1;class Cn{static initialize(){for(let e=0;e<Qe.SYMBOL_TABLE.length;e++){let n=Qe.SYMBOL_TABLE[e],o=n&1;for(let l=0;l<Qe.BARS_IN_MODULE;l++){let u=0;for(;(n&1)===o;)u+=1,n>>=1;o=n&1,Cn.RATIOS_TABLE[e]||(Cn.RATIOS_TABLE[e]=new Array(Qe.BARS_IN_MODULE)),Cn.RATIOS_TABLE[e][Qe.BARS_IN_MODULE-l-1]=Math.fround(u/Qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Cn.getDecodedCodewordValue(Cn.sampleBitCounts(e));return n!==-1?n:Cn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=lt.sum(e),o=new Int32Array(Qe.BARS_IN_MODULE),l=0,u=0;for(let f=0;f<Qe.MODULES_IN_CODEWORD;f++){let g=n/(2*Qe.MODULES_IN_CODEWORD)+f*n/Qe.MODULES_IN_CODEWORD;u+e[l]<=g&&(u+=e[l],l++),o[l]++}return o}static getDecodedCodewordValue(e){let n=Cn.getBitValue(e);return Qe.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let o=0;o<e.length;o++)for(let l=0;l<e[o];l++)n=n<<1|(o%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=lt.sum(e),o=new Array(Qe.BARS_IN_MODULE);if(n>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(e[f]/n);let l=er.MAX_VALUE,u=-1;this.bSymbolTableReady||Cn.initialize();for(let f=0;f<Cn.RATIOS_TABLE.length;f++){let g=0,y=Cn.RATIOS_TABLE[f];for(let v=0;v<Qe.BARS_IN_MODULE;v++){let b=Math.fround(y[v]-o[v]);if(g+=Math.fround(b*b),g>=l)break}g<l&&(l=g,u=Qe.SYMBOL_TABLE[f])}return u}}Cn.bSymbolTableReady=!1,Cn.RATIOS_TABLE=new Array(Qe.SYMBOL_TABLE.length).map(R=>new Array(Qe.BARS_IN_MODULE));class Ks{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ho{static parseLong(e,n=void 0){return parseInt(e,n)}}class zr extends x{}zr.kind="NullPointerException";class Go{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,o){if(e==null)throw new zr;if(n<0||n>e.length||o<0||n+o>e.length||n+o<0)throw new F;if(o===0)return;for(let l=0;l<o;l++)this.write(e[n+l])}flush(){}close(){}}class Qs extends x{}class il extends Go{constructor(e=32){if(super(),this.count=0,e<0)throw new I("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let o=this.buf.length<<1;if(o-e<0&&(o=e),o<0){if(e<0)throw new Qs;o=V.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,o)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,o){if(n<0||n>e.length||o<0||n+o-e.length>0)throw new F;this.ensureCapacity(this.count+o),B.arraycopy(e,n,this.buf,this.count,o),this.count+=o}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ct;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function ws(){if(typeof window<"u")return window.BigInt||null;if(typeof tu<"u")return tu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Cs;function nn(R){if(typeof Cs>"u"&&(Cs=ws()),Cs===null)throw new Error("BigInt is not supported!");return Cs(R)}function ji(){let R=[];R[0]=nn(1);let e=nn(900);R[1]=e;for(let n=2;n<16;n++)R[n]=R[n-1]*e;return R}class oe{static decode(e,n){let o=new be(""),l=ee.ISO8859_1;o.enableDecoding(l);let u=1,f=e[u++],g=new Ks;for(;u<e[0];){switch(f){case oe.TEXT_COMPACTION_MODE_LATCH:u=oe.textCompaction(e,u,o);break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:u=oe.byteCompaction(f,e,l,u,o);break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[u++]);break;case oe.NUMERIC_COMPACTION_MODE_LATCH:u=oe.numericCompaction(e,u,o);break;case oe.ECI_CHARSET:ee.getCharacterSetECIByValue(e[u++]);break;case oe.ECI_GENERAL_PURPOSE:u+=2;break;case oe.ECI_USER_DEFINED:u++;break;case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=oe.decodeMacroBlock(e,u,g);break;case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:throw new $;default:u--,u=oe.textCompaction(e,u,o);break}if(u<e.length)f=e[u++];else throw $.getFormatInstance()}if(o.length()===0)throw $.getFormatInstance();let y=new gt(null,o.toString(),null,n);return y.setOther(g),y}static decodeMacroBlock(e,n,o){if(n+oe.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw $.getFormatInstance();let l=new Int32Array(oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<oe.NUMBER_OF_SEQUENCE_CODEWORDS;g++,n++)l[g]=e[n];o.setSegmentIndex(V.parseInt(oe.decodeBase900toBase10(l,oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new be;n=oe.textCompaction(e,n,u),o.setFileId(u.toString());let f=-1;for(e[n]===oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=n+1);n<e[0];)switch(e[n]){case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new be;n=oe.textCompaction(e,n+1,g),o.setFileName(g.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new be;n=oe.textCompaction(e,n+1,y),o.setSender(y.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new be;n=oe.textCompaction(e,n+1,v),o.setAddressee(v.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new be;n=oe.numericCompaction(e,n+1,b),o.setSegmentCount(V.parseInt(b.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let M=new be;n=oe.numericCompaction(e,n+1,M),o.setTimestamp(Ho.parseLong(M.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new be;n=oe.numericCompaction(e,n+1,D),o.setChecksum(V.parseInt(D.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new be;n=oe.numericCompaction(e,n+1,U),o.setFileSize(Ho.parseLong(U.toString()));break;default:throw $.getFormatInstance()}break;case oe.MACRO_PDF417_TERMINATOR:n++,o.setLastSegment(!0);break;default:throw $.getFormatInstance()}if(f!==-1){let g=n-f;o.isLastSegment()&&g--,o.setOptionalData(H.copyOfRange(e,f,f+g))}return n}static textCompaction(e,n,o){let l=new Int32Array((e[0]-n)*2),u=new Int32Array((e[0]-n)*2),f=0,g=!1;for(;n<e[0]&&!g;){let y=e[n++];if(y<oe.TEXT_COMPACTION_MODE_LATCH)l[f]=y/30,l[f+1]=y%30,f+=2;else switch(y){case oe.TEXT_COMPACTION_MODE_LATCH:l[f++]=oe.TEXT_COMPACTION_MODE_LATCH;break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,g=!0;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=e[n++],u[f]=y,f++;break}}return oe.decodeTextCompaction(l,u,f,o),n}static decodeTextCompaction(e,n,o,l){let u=Ct.ALPHA,f=Ct.ALPHA,g=0;for(;g<o;){let y=e[g],v="";switch(u){case Ct.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case oe.LL:u=Ct.LOWER;break;case oe.ML:u=Ct.MIXED;break;case oe.PS:f=u,u=Ct.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case oe.AS:f=u,u=Ct.ALPHA_SHIFT;break;case oe.ML:u=Ct.MIXED;break;case oe.PS:f=u,u=Ct.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.MIXED:if(y<oe.PL)v=oe.MIXED_CHARS[y];else switch(y){case oe.PL:u=Ct.PUNCT;break;case 26:v=" ";break;case oe.LL:u=Ct.LOWER;break;case oe.AL:u=Ct.ALPHA;break;case oe.PS:f=u,u=Ct.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.PUNCT:if(y<oe.PAL)v=oe.PUNCT_CHARS[y];else switch(y){case oe.PAL:u=Ct.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(u=f,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(u=f,y<oe.PAL)v=oe.PUNCT_CHARS[y];else switch(y){case oe.PAL:u=Ct.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[g]);break;case oe.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break}v!==""&&l.append(v),g++}}static byteCompaction(e,n,o,l,u){let f=new il,g=0,y=0,v=!1;switch(e){case oe.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),M=n[l++];for(;l<n[0]&&!v;)switch(b[g++]=M,y=900*y+M,M=n[l++],M){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(g%5===0&&g>0){for(let D=0;D<6;++D)f.write(Number(nn(y)>>nn(8*(5-D))));y=0,g=0}break}l===n[0]&&M<oe.TEXT_COMPACTION_MODE_LATCH&&(b[g++]=M);for(let D=0;D<g;D++)f.write(b[D]);break;case oe.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!v;){let D=n[l++];if(D<oe.TEXT_COMPACTION_MODE_LATCH)g++,y=900*y+D;else switch(D){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(g%5===0&&g>0){for(let U=0;U<6;++U)f.write(Number(nn(y)>>nn(8*(5-U))));y=0,g=0}}break}return u.append(Be.decode(f.toByteArray(),o)),l}static numericCompaction(e,n,o){let l=0,u=!1,f=new Int32Array(oe.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!u;){let g=e[n++];if(n===e[0]&&(u=!0),g<oe.TEXT_COMPACTION_MODE_LATCH)f[l]=g,l++;else switch(g){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,u=!0;break}(l%oe.MAX_NUMERIC_CODEWORDS===0||g===oe.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(o.append(oe.decodeBase900toBase10(f,l)),l=0)}return n}static decodeBase900toBase10(e,n){let o=nn(0);for(let u=0;u<n;u++)o+=oe.EXP900[n-u-1]*nn(e[u]);let l=o.toString();if(l.charAt(0)!=="1")throw new $;return l.substring(1)}}oe.TEXT_COMPACTION_MODE_LATCH=900,oe.BYTE_COMPACTION_MODE_LATCH=901,oe.NUMERIC_COMPACTION_MODE_LATCH=902,oe.BYTE_COMPACTION_MODE_LATCH_6=924,oe.ECI_USER_DEFINED=925,oe.ECI_GENERAL_PURPOSE=926,oe.ECI_CHARSET=927,oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,oe.MACRO_PDF417_TERMINATOR=922,oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,oe.MAX_NUMERIC_CODEWORDS=15,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,oe.PL=25,oe.LL=27,oe.AS=27,oe.ML=28,oe.AL=28,oe.PS=29,oe.PAL=29,oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",oe.EXP900=ws()?ji():[],oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rt{constructor(){}static decode(e,n,o,l,u,f,g){let y=new gi(e,n,o,l,u),v=null,b=null,M;for(let G=!0;;G=!1){if(n!=null&&(v=rt.getRowIndicatorColumn(e,y,n,!0,f,g)),l!=null&&(b=rt.getRowIndicatorColumn(e,y,l,!1,f,g)),M=rt.merge(v,b),M==null)throw re.getNotFoundInstance();let Z=M.getBoundingBox();if(G&&Z!=null&&(Z.getMinY()<y.getMinY()||Z.getMaxY()>y.getMaxY()))y=Z;else break}M.setBoundingBox(y);let D=M.getBarcodeColumnCount()+1;M.setDetectionResultColumn(0,v),M.setDetectionResultColumn(D,b);let U=v!=null;for(let G=1;G<=D;G++){let Z=U?G:D-G;if(M.getDetectionResultColumn(Z)!==void 0)continue;let Q;Z===0||Z===D?Q=new rl(y,Z===0):Q=new Nr(y),M.setDetectionResultColumn(Z,Q);let se=-1,we=se;for(let ve=y.getMinY();ve<=y.getMaxY();ve++){if(se=rt.getStartColumn(M,Z,ve,U),se<0||se>y.getMaxX()){if(we===-1)continue;se=we}let ge=rt.detectCodeword(e,y.getMinX(),y.getMaxX(),U,se,ve,f,g);ge!=null&&(Q.setCodeword(ve,ge),we=se,f=Math.min(f,ge.getWidth()),g=Math.max(g,ge.getWidth()))}}return rt.createDecoderResult(M)}static merge(e,n){if(e==null&&n==null)return null;let o=rt.getBarcodeMetadata(e,n);if(o==null)return null;let l=gi.merge(rt.adjustBoundingBox(e),rt.adjustBoundingBox(n));return new ys(o,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let o=rt.getMax(n),l=0;for(let g of n)if(l+=o-g,g>0)break;let u=e.getCodewords();for(let g=0;l>0&&u[g]==null;g++)l--;let f=0;for(let g=n.length-1;g>=0&&(f+=o-n[g],!(n[g]>0));g--);for(let g=u.length-1;f>0&&u[g]==null;g--)f--;return e.getBoundingBox().addMissingRows(l,f,e.isLeft())}static getMax(e){let n=-1;for(let o of e)n=Math.max(n,o);return n}static getBarcodeMetadata(e,n){let o;if(e==null||(o=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(e,n,o,l,u,f){let g=new rl(n,l);for(let y=0;y<2;y++){let v=y===0?1:-1,b=Math.trunc(Math.trunc(o.getX()));for(let M=Math.trunc(Math.trunc(o.getY()));M<=n.getMaxY()&&M>=n.getMinY();M+=v){let D=rt.detectCodeword(e,0,e.getWidth(),l,b,M,u,f);D!=null&&(g.setCodeword(M,D),l?b=D.getStartX():b=D.getEndX())}}return g}static adjustCodewordCount(e,n){let o=n[0][1],l=o.getValue(),u=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-rt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(u<1||u>Qe.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();o.setValue(u)}else l[0]!==u&&o.setValue(u)}static createDecoderResult(e){let n=rt.createBarcodeMatrix(e);rt.adjustCodewordCount(e,n);let o=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),u=[],f=new Array;for(let y=0;y<e.getBarcodeRowCount();y++)for(let v=0;v<e.getBarcodeColumnCount();v++){let b=n[y][v+1].getValue(),M=y*e.getBarcodeColumnCount()+v;b.length===0?o.push(M):b.length===1?l[M]=b[0]:(f.push(M),u.push(b))}let g=new Array(u.length);for(let y=0;y<g.length;y++)g[y]=u[y];return rt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,Qe.toIntArray(o),Qe.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(e,n,o,l,u){let f=new Int32Array(l.length),g=100;for(;g-- >0;){for(let y=0;y<f.length;y++)n[l[y]]=u[y][f[y]];try{return rt.decodeCodewords(n,e,o)}catch(y){if(!(y instanceof O))throw y}if(f.length===0)throw O.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<u[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let u=0;u<n[l].length;u++)n[l][u]=new Jr;let o=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=n.length)continue;n[f][o].setValue(u.getValue())}}}o++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,o,l){let u=l?1:-1,f=null;if(rt.isValidBarcodeColumn(e,n-u)&&(f=e.getDetectionResultColumn(n-u).getCodeword(o)),f!=null)return l?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(n).getCodewordNearby(o),f!=null)return l?f.getStartX():f.getEndX();if(rt.isValidBarcodeColumn(e,n-u)&&(f=e.getDetectionResultColumn(n-u).getCodewordNearby(o)),f!=null)return l?f.getEndX():f.getStartX();let g=0;for(;rt.isValidBarcodeColumn(e,n-u);){n-=u;for(let y of e.getDetectionResultColumn(n).getCodewords())if(y!=null)return(l?y.getEndX():y.getStartX())+u*g*(y.getEndX()-y.getStartX());g++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,o,l,u,f,g,y){u=rt.adjustCodewordStartColumn(e,n,o,l,u,f);let v=rt.getModuleBitCount(e,n,o,l,u,f);if(v==null)return null;let b,M=lt.sum(v);if(l)b=u+M;else{for(let G=0;G<v.length/2;G++){let Z=v[G];v[G]=v[v.length-1-G],v[v.length-1-G]=Z}b=u,u=b-M}if(!rt.checkCodewordSkew(M,g,y))return null;let D=Cn.getDecodedValue(v),U=Qe.getCodeword(D);return U===-1?null:new mi(u,b,rt.getCodewordBucketNumber(D),U)}static getModuleBitCount(e,n,o,l,u,f){let g=u,y=new Int32Array(8),v=0,b=l?1:-1,M=l;for(;(l?g<o:g>=n)&&v<y.length;)e.get(g,f)===M?(y[v]++,g+=b):(v++,M=!M);return v===y.length||g===(l?o:n)&&v===y.length-1?y:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,o,l,u,f){let g=u,y=l?-1:1;for(let v=0;v<2;v++){for(;(l?g>=n:g<o)&&l===e.get(g,f);){if(Math.abs(u-g)>rt.CODEWORD_SKEW_SIZE)return u;g+=y}y=-y,l=!l}return g}static checkCodewordSkew(e,n,o){return n-rt.CODEWORD_SKEW_SIZE<=e&&e<=o+rt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,o){if(e.length===0)throw $.getFormatInstance();let l=1<<n+1,u=rt.correctErrors(e,o,l);rt.verifyCodewordCount(e,l);let f=oe.decode(e,""+n);return f.setErrorsCorrected(u),f.setErasures(o.length),f}static correctErrors(e,n,o){if(n!=null&&n.length>o/2+rt.MAX_ERRORS||o<0||o>rt.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return rt.errorCorrection.decode(e,o,n)}static verifyCodewordCount(e,n){if(e.length<4)throw $.getFormatInstance();let o=e[0];if(o>e.length)throw $.getFormatInstance();if(o===0)if(n<e.length)e[0]=e.length-n;else throw $.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),o=0,l=n.length-1;for(;!((e&1)!==o&&(o=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return rt.getCodewordBucketNumber(rt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Ur;for(let o=0;o<e.length;o++){n.format("Row %2d: ",o);for(let l=0;l<e[o].length;l++){let u=e[o][l];u.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}n.format("%n")}return n.toString()}}rt.CODEWORD_SKEW_SIZE=2,rt.MAX_ERRORS=3,rt.MAX_EC_CODEWORDS=512,rt.errorCorrection=new Wo;class vn{decode(e,n=null){let o=vn.decode(e,n,!1);if(o==null||o.length===0||o[0]==null)throw re.getNotFoundInstance();return o[0]}decodeMultiple(e,n=null){try{return vn.decode(e,n,!0)}catch(o){throw o instanceof $||o instanceof O?re.getNotFoundInstance():o}}static decode(e,n,o){const l=new Array,u=tt.detectMultiple(e,n,o);for(const f of u.getPoints()){const g=rt.decode(u.getBits(),f[4],f[5],f[6],f[7],vn.getMinCodewordWidth(f),vn.getMaxCodewordWidth(f)),y=new Fe(g.getText(),g.getRawBytes(),void 0,f,Ae.PDF_417);y.putMetadata(He.ERROR_CORRECTION_LEVEL,g.getECLevel());const v=g.getOther();v!=null&&y.putMetadata(He.PDF417_EXTRA_METADATA,v),l.push(y)}return l.map(f=>f)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?V.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(vn.getMaxWidth(e[0],e[4]),vn.getMaxWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.max(vn.getMaxWidth(e[1],e[5]),vn.getMaxWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(vn.getMinWidth(e[0],e[4]),vn.getMinWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.min(vn.getMinWidth(e[1],e[5]),vn.getMinWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ui extends x{}Ui.kind="ReaderException";class $s{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!c(e)&&e.get(ce.TRY_HARDER)===!0,o=c(e)?null:e.get(ce.POSSIBLE_FORMATS),l=new Array;if(!c(o)){const u=o.some(f=>f===Ae.UPC_A||f===Ae.UPC_E||f===Ae.EAN_13||f===Ae.EAN_8||f===Ae.CODABAR||f===Ae.CODE_39||f===Ae.CODE_93||f===Ae.CODE_128||f===Ae.ITF||f===Ae.RSS_14||f===Ae.RSS_EXPANDED);u&&!n&&l.push(new Li(e,this.verbose)),o.includes(Ae.QR_CODE)&&l.push(new Dn),o.includes(Ae.DATA_MATRIX)&&l.push(new gr),o.includes(Ae.AZTEC)&&l.push(new mn),o.includes(Ae.PDF_417)&&l.push(new vn),u&&n&&l.push(new Li(e,this.verbose))}l.length===0&&(n||l.push(new Li(e,this.verbose)),l.push(new Dn),l.push(new gr),l.push(new mn),l.push(new vn),n&&l.push(new Li(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Ui("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(o){if(o instanceof Ui)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class vs extends Ne{constructor(e=null,n=500){const o=new $s;o.setHints(e),super(o,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class qs extends Ne{constructor(e=500){super(new vn,e)}}class sl extends Ne{constructor(e=500){super(new Dn,e)}}var Yo;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(Yo||(Yo={}));var cn=Yo;class Xo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Yt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let o=n[n.length-1];const l=this.field;for(let u=n.length;u<=e;u++){const f=o.multiply(new Yt(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));n.push(f),o=f}}return n[e]}encode(e,n){if(n===0)throw new I("No error correction bytes");const o=e.length-n;if(o<=0)throw new I("No data bytes provided");const l=this.buildGenerator(n),u=new Int32Array(o);B.arraycopy(e,0,u,0,o);let f=new Yt(this.field,u);f=f.multiplyByMonomial(n,1);const y=f.divide(l)[1].getCoefficients(),v=n-y.length;for(let b=0;b<v;b++)e[o+b]=0;B.arraycopy(y,0,e,o+v,y.length)}}class Ft{constructor(){}static applyMaskPenaltyRule1(e){return Ft.applyMaskPenaltyRule1Internal(e,!0)+Ft.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let f=0;f<u-1;f++){const g=o[f];for(let y=0;y<l-1;y++){const v=g[y];v===g[y+1]&&v===o[f+1][y]&&v===o[f+1][y+1]&&n++}}return Ft.N2*n}static applyMaskPenaltyRule3(e){let n=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let f=0;f<u;f++)for(let g=0;g<l;g++){const y=o[f];g+6<l&&y[g]===1&&y[g+1]===0&&y[g+2]===1&&y[g+3]===1&&y[g+4]===1&&y[g+5]===0&&y[g+6]===1&&(Ft.isWhiteHorizontal(y,g-4,g)||Ft.isWhiteHorizontal(y,g+7,g+11))&&n++,f+6<u&&o[f][g]===1&&o[f+1][g]===0&&o[f+2][g]===1&&o[f+3][g]===1&&o[f+4][g]===1&&o[f+5][g]===0&&o[f+6][g]===1&&(Ft.isWhiteVertical(o,g,f-4,f)||Ft.isWhiteVertical(o,g,f+7,f+11))&&n++}return n*Ft.N3}static isWhiteHorizontal(e,n,o){n=Math.max(n,0),o=Math.min(o,e.length);for(let l=n;l<o;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,o,l){o=Math.max(o,0),l=Math.min(l,e.length);for(let u=o;u<l;u++)if(e[u][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let y=0;y<u;y++){const v=o[y];for(let b=0;b<l;b++)v[b]===1&&n++}const f=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-f)*10/f)*Ft.N4}static getDataMaskBit(e,n,o){let l,u;switch(e){case 0:l=o+n&1;break;case 1:l=o&1;break;case 2:l=n%3;break;case 3:l=(o+n)%3;break;case 4:l=Math.floor(o/2)+Math.floor(n/3)&1;break;case 5:u=o*n,l=(u&1)+u%3;break;case 6:u=o*n,l=(u&1)+u%3&1;break;case 7:u=o*n,l=u%3+(o+n&1)&1;break;default:throw new I("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let o=0;const l=n?e.getHeight():e.getWidth(),u=n?e.getWidth():e.getHeight(),f=e.getArray();for(let g=0;g<l;g++){let y=0,v=-1;for(let b=0;b<u;b++){const M=n?f[g][b]:f[b][g];M===v?y++:(y>=5&&(o+=Ft.N1+(y-5)),y=1,v=M)}y>=5&&(o+=Ft.N1+(y-5))}return o}}Ft.N1=3,Ft.N2=3,Ft.N3=40,Ft.N4=10;class Js{constructor(e,n){this.width=e,this.height=n;const o=new Array(n);for(let l=0;l!==n;l++)o[l]=new Uint8Array(e);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,o){this.bytes[n][e]=o}setBoolean(e,n,o){this.bytes[n][e]=o?1:0}clear(e){for(const n of this.bytes)H.fill(n,e)}equals(e){if(!(e instanceof Js))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o],f=n.bytes[o];for(let g=0,y=this.width;g<y;++g)if(u[g]!==f[g])return!1}return!0}toString(){const e=new be;for(let n=0,o=this.height;n<o;++n){const l=this.bytes[n];for(let u=0,f=this.width;u<f;++u)switch(l[u]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new be;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<xi.NUM_MASK_PATTERNS}}xi.NUM_MASK_PATTERNS=8;class Mt extends x{}Mt.kind="WriterException";class Ye{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,o,l,u){Ye.clearMatrix(u),Ye.embedBasicPatterns(o,u),Ye.embedTypeInfo(n,l,u),Ye.maybeEmbedVersionInfo(o,u),Ye.embedDataBits(e,l,u)}static embedBasicPatterns(e,n){Ye.embedPositionDetectionPatternsAndSeparators(n),Ye.embedDarkDotAtLeftBottomCorner(n),Ye.maybeEmbedPositionAdjustmentPatterns(e,n),Ye.embedTimingPatterns(n)}static embedTypeInfo(e,n,o){const l=new te;Ye.makeTypeInfoBits(e,n,l);for(let u=0,f=l.getSize();u<f;++u){const g=l.get(l.getSize()-1-u),y=Ye.TYPE_INFO_COORDINATES[u],v=y[0],b=y[1];if(o.setBoolean(v,b,g),u<8){const M=o.getWidth()-u-1;o.setBoolean(M,8,g)}else{const D=o.getHeight()-7+(u-8);o.setBoolean(8,D,g)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const o=new te;Ye.makeVersionInfoBits(e,o);let l=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const g=o.get(l);l--,n.setBoolean(u,n.getHeight()-11+f,g),n.setBoolean(n.getHeight()-11+f,u,g)}}static embedDataBits(e,n,o){let l=0,u=-1,f=o.getWidth()-1,g=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<o.getHeight();){for(let y=0;y<2;++y){const v=f-y;if(!Ye.isEmpty(o.get(v,g)))continue;let b;l<e.getSize()?(b=e.get(l),++l):b=!1,n!==255&&Ft.getDataMaskBit(n,v,g)&&(b=!b),o.setBoolean(v,g,b)}g+=u}u=-u,g+=u,f-=2}if(l!==e.getSize())throw new Mt("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-V.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new I("0 polynomial");const o=Ye.findMSBSet(n);for(e<<=o-1;Ye.findMSBSet(e)>=o;)e^=n<<Ye.findMSBSet(e)-o;return e}static makeTypeInfoBits(e,n,o){if(!xi.isValidMaskPattern(n))throw new Mt("Invalid mask pattern");const l=e.getBits()<<3|n;o.appendBits(l,5);const u=Ye.calculateBCHCode(l,Ye.TYPE_INFO_POLY);o.appendBits(u,10);const f=new te;if(f.appendBits(Ye.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Mt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const o=Ye.calculateBCHCode(e.getVersionNumber(),Ye.VERSION_INFO_POLY);if(n.appendBits(o,12),n.getSize()!==18)throw new Mt("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const o=(n+1)%2;Ye.isEmpty(e.get(n,6))&&e.setNumber(n,6,o),Ye.isEmpty(e.get(6,n))&&e.setNumber(6,n,o)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Mt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,o){for(let l=0;l<8;++l){if(!Ye.isEmpty(o.get(e+l,n)))throw new Mt;o.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,o){for(let l=0;l<7;++l){if(!Ye.isEmpty(o.get(e,n+l)))throw new Mt;o.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,o){for(let l=0;l<5;++l){const u=Ye.POSITION_ADJUSTMENT_PATTERN[l];for(let f=0;f<5;++f)o.setNumber(e+f,n+l,u[f])}}static embedPositionDetectionPattern(e,n,o){for(let l=0;l<7;++l){const u=Ye.POSITION_DETECTION_PATTERN[l];for(let f=0;f<7;++f)o.setNumber(e+f,n+l,u[f])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Ye.POSITION_DETECTION_PATTERN[0].length;Ye.embedPositionDetectionPattern(0,0,e),Ye.embedPositionDetectionPattern(e.getWidth()-n,0,e),Ye.embedPositionDetectionPattern(0,e.getWidth()-n,e);const o=8;Ye.embedHorizontalSeparationPattern(0,o-1,e),Ye.embedHorizontalSeparationPattern(e.getWidth()-o,o-1,e),Ye.embedHorizontalSeparationPattern(0,e.getWidth()-o,e);const l=7;Ye.embedVerticalSeparationPattern(l,0,e),Ye.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Ye.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const o=e.getVersionNumber()-1,l=Ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,f=l.length;u!==f;u++){const g=l[u];if(g>=0)for(let y=0;y!==f;y++){const v=l[y];v>=0&&Ye.isEmpty(n.get(v,g))&&Ye.embedPositionAdjustmentPattern(v-2,g-2,n)}}}}Ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ye.VERSION_INFO_POLY=7973,Ye.TYPE_INFO_POLY=1335,Ye.TYPE_INFO_MASK_PATTERN=21522;class Pu{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(e){return Ft.applyMaskPenaltyRule1(e)+Ft.applyMaskPenaltyRule2(e)+Ft.applyMaskPenaltyRule3(e)+Ft.applyMaskPenaltyRule4(e)}static encode(e,n,o=null){let l=Dt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(cn.CHARACTER_SET)!==void 0;u&&(l=o.get(cn.CHARACTER_SET).toString());const f=this.chooseMode(e,l),g=new te;if(f===We.BYTE&&(u||Dt.DEFAULT_BYTE_MODE_ENCODING!==l)){const ve=ee.getCharacterSetECIByName(l);ve!==void 0&&this.appendECI(ve,g)}this.appendModeInfo(f,g);const y=new te;this.appendBytes(e,f,y,l);let v;if(o!==null&&o.get(cn.QR_VERSION)!==void 0){const ve=Number.parseInt(o.get(cn.QR_VERSION).toString(),10);v=ze.getVersionForNumber(ve);const ge=this.calculateBitsNeeded(f,g,y,v);if(!this.willFit(ge,v,n))throw new Mt("Data too big for requested version")}else v=this.recommendVersion(n,f,g,y);const b=new te;b.appendBitArray(g);const M=f===We.BYTE?y.getSizeInBytes():e.length;this.appendLengthInfo(M,v,f,b),b.appendBitArray(y);const D=v.getECBlocksForLevel(n),U=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(U,b);const G=this.interleaveWithECBytes(b,v.getTotalCodewords(),U,D.getNumBlocks()),Z=new xi;Z.setECLevel(n),Z.setMode(f),Z.setVersion(v);const Q=v.getDimensionForVersion(),se=new Js(Q,Q),we=this.chooseMaskPattern(G,n,v,se);return Z.setMaskPattern(we),Ye.buildMatrix(G,n,v,we,se),Z.setMatrix(se),Z}static recommendVersion(e,n,o,l){const u=this.calculateBitsNeeded(n,o,l,ze.getVersionForNumber(1)),f=this.chooseVersion(u,e),g=this.calculateBitsNeeded(n,o,l,f);return this.chooseVersion(g,e)}static calculateBitsNeeded(e,n,o,l){return n.getSize()+e.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(e){return e<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(ee.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return We.KANJI;let o=!1,l=!1;for(let u=0,f=e.length;u<f;++u){const g=e.charAt(u);if(Dt.isDigit(g))o=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)l=!0;else return We.BYTE}return l?We.ALPHANUMERIC:o?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Be.encode(e,ee.SJIS)}catch{return!1}const o=n.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const u=n[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(e,n,o,l){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<xi.NUM_MASK_PATTERNS;g++){Ye.buildMatrix(e,n,o,g,l);let y=this.calculateMaskPenalty(l);y<u&&(u=y,f=g)}return f}static chooseVersion(e,n){for(let o=1;o<=40;o++){const l=ze.getVersionForNumber(o);if(Dt.willFit(e,l,n))return l}throw new Mt("Data too big")}static willFit(e,n,o){const l=n.getTotalCodewords(),f=n.getECBlocksForLevel(o).getTotalECCodewords(),g=l-f,y=(e+7)/8;return g>=y}static terminateBits(e,n){const o=e*8;if(n.getSize()>o)throw new Mt("data bits cannot fit in the QR Code"+n.getSize()+" > "+o);for(let f=0;f<4&&n.getSize()<o;++f)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let f=l;f<8;f++)n.appendBit(!1);const u=e-n.getSizeInBytes();for(let f=0;f<u;++f)n.appendBits(f&1?17:236,8);if(n.getSize()!==o)throw new Mt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,o,l,u,f){if(l>=o)throw new Mt("Block ID too large");const g=e%o,y=o-g,v=Math.floor(e/o),b=v+1,M=Math.floor(n/o),D=M+1,U=v-M,G=b-D;if(U!==G)throw new Mt("EC bytes mismatch");if(o!==y+g)throw new Mt("RS blocks mismatch");if(e!==(M+U)*y+(D+G)*g)throw new Mt("Total bytes mismatch");l<y?(u[0]=M,f[0]=U):(u[0]=D,f[0]=G)}static interleaveWithECBytes(e,n,o,l){if(e.getSizeInBytes()!==o)throw new Mt("Number of bits and data bytes does not match");let u=0,f=0,g=0;const y=new Array;for(let b=0;b<l;++b){const M=new Int32Array(1),D=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(n,o,l,b,M,D);const U=M[0],G=new Uint8Array(U);e.toBytes(8*u,G,0,U);const Z=Dt.generateECBytes(G,D[0]);y.push(new Pu(G,Z)),f=Math.max(f,U),g=Math.max(g,Z.length),u+=M[0]}if(o!==u)throw new Mt("Data bytes does not match offset");const v=new te;for(let b=0;b<f;++b)for(const M of y){const D=M.getDataBytes();b<D.length&&v.appendBits(D[b],8)}for(let b=0;b<g;++b)for(const M of y){const D=M.getErrorCorrectionBytes();b<D.length&&v.appendBits(D[b],8)}if(n!==v.getSizeInBytes())throw new Mt("Interleaving error: "+n+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(e,n){const o=e.length,l=new Int32Array(o+n);for(let f=0;f<o;f++)l[f]=e[f]&255;new Xo(at.QR_CODE_FIELD_256).encode(l,n);const u=new Uint8Array(n);for(let f=0;f<n;f++)u[f]=l[o+f];return u}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,o,l){const u=o.getCharacterCountBits(n);if(e>=1<<u)throw new Mt(e+" is bigger than "+((1<<u)-1));l.appendBits(e,u)}static appendBytes(e,n,o,l){switch(n){case We.NUMERIC:Dt.appendNumericBytes(e,o);break;case We.ALPHANUMERIC:Dt.appendAlphanumericBytes(e,o);break;case We.BYTE:Dt.append8BitBytes(e,o,l);break;case We.KANJI:Dt.appendKanjiBytes(e,o);break;default:throw new Mt("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Dt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const o=e.length;let l=0;for(;l<o;){const u=Dt.getDigit(e.charAt(l));if(l+2<o){const f=Dt.getDigit(e.charAt(l+1)),g=Dt.getDigit(e.charAt(l+2));n.appendBits(u*100+f*10+g,10),l+=3}else if(l+1<o){const f=Dt.getDigit(e.charAt(l+1));n.appendBits(u*10+f,7),l+=2}else n.appendBits(u,4),l++}}static appendAlphanumericBytes(e,n){const o=e.length;let l=0;for(;l<o;){const u=Dt.getAlphanumericCode(e.charCodeAt(l));if(u===-1)throw new Mt;if(l+1<o){const f=Dt.getAlphanumericCode(e.charCodeAt(l+1));if(f===-1)throw new Mt;n.appendBits(u*45+f,11),l+=2}else n.appendBits(u,6),l++}}static append8BitBytes(e,n,o){let l;try{l=Be.encode(e,o)}catch(u){throw new Mt(u)}for(let u=0,f=l.length;u!==f;u++){const g=l[u];n.appendBits(g,8)}}static appendKanjiBytes(e,n){let o;try{o=Be.encode(e,ee.SJIS)}catch(u){throw new Mt(u)}const l=o.length;for(let u=0;u<l;u+=2){const f=o[u]&255,g=o[u+1]&255,y=f<<8&4294967295|g;let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),v===-1)throw new Mt("Invalid byte sequence");const b=(v>>8)*192+(v&255);n.appendBits(b,13)}}static appendECI(e,n){n.appendBits(We.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=ee.UTF8.getName();class yi{write(e,n,o,l=null){if(e.length===0)throw new I("Found empty contents");if(n<0||o<0)throw new I("Requested dimensions are too small: "+n+"x"+o);let u=Nt.L,f=yi.QUIET_ZONE_SIZE;l!==null&&(l.get(cn.ERROR_CORRECTION)!==void 0&&(u=Nt.fromString(l.get(cn.ERROR_CORRECTION).toString())),l.get(cn.MARGIN)!==void 0&&(f=Number.parseInt(l.get(cn.MARGIN).toString(),10)));const g=Dt.encode(e,u,l);return this.renderResult(g,n,o,f)}writeToDom(e,n,o,l,u=null){typeof e=="string"&&(e=document.querySelector(e));const f=this.write(n,o,l,u);e&&e.appendChild(f)}renderResult(e,n,o,l){const u=e.getMatrix();if(u===null)throw new Mn;const f=u.getWidth(),g=u.getHeight(),y=f+l*2,v=g+l*2,b=Math.max(n,y),M=Math.max(o,v),D=Math.min(Math.floor(b/y),Math.floor(M/v)),U=Math.floor((b-f*D)/2),G=Math.floor((M-g*D)/2),Z=this.createSVGElement(b,M);for(let Q=0,se=G;Q<g;Q++,se+=D)for(let we=0,ve=U;we<f;we++,ve+=D)if(u.get(we,Q)===1){const ge=this.createSvgRectElement(ve,se,D,D);Z.appendChild(ge)}return Z}createSVGElement(e,n){const o=document.createElementNS(yi.SVG_NS,"svg");return o.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width",n.toString()),o}createSvgRectElement(e,n,o,l){const u=document.createElementNS(yi.SVG_NS,"rect");return u.setAttributeNS(null,"x",e.toString()),u.setAttributeNS(null,"y",n.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}yi.QUIET_ZONE_SIZE=4,yi.SVG_NS="http://www.w3.org/2000/svg";class zi{encode(e,n,o,l,u){if(e.length===0)throw new I("Found empty contents");if(n!==Ae.QR_CODE)throw new I("Can only encode QR_CODE, but got "+n);if(o<0||l<0)throw new I(`Requested dimensions are too small: ${o}x${l}`);let f=Nt.L,g=zi.QUIET_ZONE_SIZE;u!==null&&(u.get(cn.ERROR_CORRECTION)!==void 0&&(f=Nt.fromString(u.get(cn.ERROR_CORRECTION).toString())),u.get(cn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(cn.MARGIN).toString(),10)));const y=Dt.encode(e,f,u);return zi.renderResult(y,o,l,g)}static renderResult(e,n,o,l){const u=e.getMatrix();if(u===null)throw new Mn;const f=u.getWidth(),g=u.getHeight(),y=f+l*2,v=g+l*2,b=Math.max(n,y),M=Math.max(o,v),D=Math.min(Math.floor(b/y),Math.floor(M/v)),U=Math.floor((b-f*D)/2),G=Math.floor((M-g*D)/2),Z=new Ve(b,M);for(let Q=0,se=G;Q<g;Q++,se+=D)for(let we=0,ve=U;we<f;we++,ve+=D)u.get(we,Q)===1&&Z.setRegion(ve,se,D,D);return Z}}zi.QUIET_ZONE_SIZE=4;class Lu{encode(e,n,o,l,u){let f;switch(n){case Ae.QR_CODE:f=new zi;break;default:throw new I("No encoder available for format "+n)}return f.encode(e,n,o,l,u)}}class Rr extends de{constructor(e,n,o,l,u,f,g,y){if(super(f,g),this.yuvData=e,this.dataWidth=n,this.dataHeight=o,this.left=l,this.top=u,l+f>n||u+g>o)throw new I("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,g)}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const o=this.getWidth();(n==null||n.length<o)&&(n=new Uint8ClampedArray(o));const l=(e+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,l,n,0,o),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const o=e*n,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return B.arraycopy(this.yuvData,u,l,0,o),l;for(let f=0;f<n;f++){const g=f*e;B.arraycopy(this.yuvData,u,l,g,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,o,l){return new Rr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,o,l,!1)}renderThumbnail(){const e=this.getWidth()/Rr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Rr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(e*n),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<n;f++){const g=f*e;for(let y=0;y<e;y++){const v=l[u+y*Rr.THUMBNAIL_SCALE_FACTOR]&255;o[g+y]=4278190080|v*65793}u+=this.dataWidth*Rr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Rr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Rr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const o=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<n;l++,u+=this.dataWidth){const f=u+e/2;for(let g=u,y=u+e-1;g<f;g++,y--){const v=o[g];o[g]=o[y],o[y]=v}}}invert(){return new Ee(this)}}Rr.THUMBNAIL_SCALE_FACTOR=2;class Es extends de{constructor(e,n,o,l,u,f,g){if(super(n,o),this.dataWidth=l,this.dataHeight=u,this.left=f,this.top=g,e.BYTES_PER_ELEMENT===4){const y=n*o,v=new Uint8ClampedArray(y);for(let b=0;b<y;b++){const M=e[b],D=M>>16&255,U=M>>7&510,G=M&255;v[b]=(D+U+G)/4&255}this.luminances=v}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),u===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+o>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const o=this.getWidth();(n==null||n.length<o)&&(n=new Uint8ClampedArray(o));const l=(e+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,l,n,0,o),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const o=e*n,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return B.arraycopy(this.luminances,u,l,0,o),l;for(let f=0;f<n;f++){const g=f*e;B.arraycopy(this.luminances,u,l,g,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,o,l){return new Es(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Ee(this)}}class ol extends ee{static forName(e){return this.getCharacterSetECIByName(e)}}class Zo{}Zo.ISO_8859_1=ee.ISO8859_1;class al{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Ko{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class ku{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Vi extends ku{constructor(e,n,o){super(e),this.value=n,this.bitCount=o}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Vi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Vi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+V.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Qo extends Vi{constructor(e,n,o){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=o}appendTo(e,n){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):o===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+o],8)}addBinaryShift(e,n){return new Qo(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Bu(R,e,n){return new Qo(R,e,n)}function As(R,e,n){return new Vi(R,e,n)}const Fu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ei=0,Wi=1,Tn=2,ll=3,xr=4,ul=new Vi(null,0,0),eo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function cl(R){for(let e of R)H.fill(e,-1);return R[ei][xr]=0,R[Wi][xr]=0,R[Wi][ei]=28,R[ll][xr]=0,R[Tn][xr]=0,R[Tn][ei]=15,R}const $o=cl(H.createInt32Array(6,6));class On{constructor(e,n,o,l){this.token=e,this.mode=n,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let o=this.bitCount,l=this.token;if(e!==this.mode){let f=eo[this.mode][e];l=As(l,f&65535,f>>16),o+=f>>16}let u=e===Tn?4:5;return l=As(l,n,u),new On(l,e,0,o+u)}shiftAndAppend(e,n){let o=this.token,l=this.mode===Tn?4:5;return o=As(o,$o[this.mode][e],l),o=As(o,n,5),new On(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,o=this.mode,l=this.bitCount;if(this.mode===xr||this.mode===Tn){let g=eo[o][ei];n=As(n,g&65535,g>>16),l+=g>>16,o=ei}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new On(n,o,this.binaryShiftByteCount+1,l+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(e+1)),f}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Bu(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new On(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(eo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=On.calculateBinaryShiftCost(e)-On.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let o=new te;for(const l of n)l.appendTo(o,e);return o}toString(){return Ie.format("%s bits=%d bytes=%d",Fu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}On.INITIAL_STATE=new On(ul,ei,0,0);function ju(R){const e=Ie.getCharCode(" "),n=Ie.getCharCode("."),o=Ie.getCharCode(",");R[ei][e]=1;const l=Ie.getCharCode("Z"),u=Ie.getCharCode("A");for(let D=u;D<=l;D++)R[ei][D]=D-u+2;R[Wi][e]=1;const f=Ie.getCharCode("z"),g=Ie.getCharCode("a");for(let D=g;D<=f;D++)R[Wi][D]=D-g+2;R[Tn][e]=1;const y=Ie.getCharCode("9"),v=Ie.getCharCode("0");for(let D=v;D<=y;D++)R[Tn][D]=D-v+2;R[Tn][o]=12,R[Tn][n]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<b.length;D++)R[ll][Ie.getCharCode(b[D])]=D;const M=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<M.length;D++)Ie.getCharCode(M[D])>0&&(R[xr][Ie.getCharCode(M[D])]=D);return R}const qo=ju(H.createInt32Array(5,256));class Ss{constructor(e){this.text=e}encode(){const e=Ie.getCharCode(" "),n=Ie.getCharCode(`
`);let o=Ko.singletonList(On.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ie.getCharCode("\r"):f=g===n?2:0;break;case Ie.getCharCode("."):f=g===e?3:0;break;case Ie.getCharCode(","):f=g===e?4:0;break;case Ie.getCharCode(":"):f=g===e?5:0;break;default:f=0}f>0?(o=Ss.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}return Ko.min(o,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const o=[];for(let l of e)this.updateStateForChar(l,n,o);return Ss.simplifyStates(o)}updateStateForChar(e,n,o){let l=this.text[n]&255,u=qo[e.getMode()][l]>0,f=null;for(let g=0;g<=xr;g++){let y=qo[g][l];if(y>0){if(f==null&&(f=e.endBinaryShift(n)),!u||g===e.getMode()||g===Tn){const v=f.latchAndAppend(g,y);o.push(v)}if(!u&&$o[e.getMode()][g]>=0){const v=f.shiftAndAppend(g,y);o.push(v)}}}if(e.getBinaryShiftByteCount()>0||qo[e.getMode()][l]===0){let g=e.addBinaryShiftChar(n);o.push(g)}}static updateStateListForPair(e,n,o){const l=[];for(let u of e)this.updateStateForPair(u,n,o,l);return this.simplifyStates(l)}static updateStateForPair(e,n,o,l){let u=e.endBinaryShift(n);if(l.push(u.latchAndAppend(xr,o)),e.getMode()!==xr&&l.push(u.shiftAndAppend(xr,o)),o===3||o===4){let f=u.latchAndAppend(Tn,16-o).latchAndAppend(Tn,1);l.push(f)}if(e.getBinaryShiftByteCount()>0){let f=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(f)}}static simplifyStates(e){let n=[];for(const o of e){let l=!0;for(const u of n){if(u.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(u)&&(n=n.filter(f=>f!==u))}l&&n.push(o)}return n}}class mt{constructor(){}static encodeBytes(e){return mt.encode(e,mt.DEFAULT_EC_PERCENT,mt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,o){let l=new Ss(e).encode(),u=V.truncDivision(l.getSize()*n,100)+11,f=l.getSize()+u,g,y,v,b,M;if(o!==mt.DEFAULT_AZTEC_LAYERS){if(g=o<0,y=Math.abs(o),y>(g?mt.MAX_NB_BITS_COMPACT:mt.MAX_NB_BITS))throw new I(Ie.format("Illegal value %s for layers",o));v=mt.totalBitsInLayer(y,g),b=mt.WORD_SIZE[y];let ge=v-v%b;if(M=mt.stuffBits(l,b),M.getSize()+u>ge)throw new I("Data to large for user specified layer");if(g&&M.getSize()>b*64)throw new I("Data to large for user specified layer")}else{b=0,M=null;for(let ge=0;;ge++){if(ge>mt.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(g=ge<=3,y=g?ge+1:ge,v=mt.totalBitsInLayer(y,g),f>v)continue;(M==null||b!==mt.WORD_SIZE[y])&&(b=mt.WORD_SIZE[y],M=mt.stuffBits(l,b));let ut=v-v%b;if(!(g&&M.getSize()>b*64)&&M.getSize()+u<=ut)break}}let D=mt.generateCheckWords(M,v,b),U=M.getSize()/b,G=mt.generateModeMessage(g,y,U),Z=(g?11:14)+y*4,Q=new Int32Array(Z),se;if(g){se=Z;for(let ge=0;ge<Q.length;ge++)Q[ge]=ge}else{se=Z+1+2*V.truncDivision(V.truncDivision(Z,2)-1,15);let ge=V.truncDivision(Z,2),ut=V.truncDivision(se,2);for(let nt=0;nt<ge;nt++){let Wn=nt+V.truncDivision(nt,15);Q[ge-nt-1]=ut-Wn-1,Q[ge+nt]=ut+Wn+1}}let we=new Ve(se);for(let ge=0,ut=0;ge<y;ge++){let nt=(y-ge)*4+(g?9:12);for(let Wn=0;Wn<nt;Wn++){let yr=Wn*2;for(let fn=0;fn<2;fn++)D.get(ut+yr+fn)&&we.set(Q[ge*2+fn],Q[ge*2+Wn]),D.get(ut+nt*2+yr+fn)&&we.set(Q[ge*2+Wn],Q[Z-1-ge*2-fn]),D.get(ut+nt*4+yr+fn)&&we.set(Q[Z-1-ge*2-fn],Q[Z-1-ge*2-Wn]),D.get(ut+nt*6+yr+fn)&&we.set(Q[Z-1-ge*2-Wn],Q[ge*2+fn])}ut+=nt*8}if(mt.drawModeMessage(we,g,se,G),g)mt.drawBullsEye(we,V.truncDivision(se,2),5);else{mt.drawBullsEye(we,V.truncDivision(se,2),7);for(let ge=0,ut=0;ge<V.truncDivision(Z,2)-1;ge+=15,ut+=16)for(let nt=V.truncDivision(se,2)&1;nt<se;nt+=2)we.set(V.truncDivision(se,2)-ut,nt),we.set(V.truncDivision(se,2)+ut,nt),we.set(nt,V.truncDivision(se,2)-ut),we.set(nt,V.truncDivision(se,2)+ut)}let ve=new al;return ve.setCompact(g),ve.setSize(se),ve.setLayers(y),ve.setCodeWords(U),ve.setMatrix(we),ve}static drawBullsEye(e,n,o){for(let l=0;l<o;l+=2)for(let u=n-l;u<=n+l;u++)e.set(u,n-l),e.set(u,n+l),e.set(n-l,u),e.set(n+l,u);e.set(n-o,n-o),e.set(n-o+1,n-o),e.set(n-o,n-o+1),e.set(n+o,n-o),e.set(n+o,n-o+1),e.set(n+o,n+o-1)}static generateModeMessage(e,n,o){let l=new te;return e?(l.appendBits(n-1,2),l.appendBits(o-1,6),l=mt.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(o-1,11),l=mt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,o,l){let u=V.truncDivision(o,2);if(n)for(let f=0;f<7;f++){let g=u-3+f;l.get(f)&&e.set(g,u-5),l.get(f+7)&&e.set(u+5,g),l.get(20-f)&&e.set(g,u+5),l.get(27-f)&&e.set(u-5,g)}else for(let f=0;f<10;f++){let g=u-5+f+V.truncDivision(f,5);l.get(f)&&e.set(g,u-7),l.get(f+10)&&e.set(u+7,g),l.get(29-f)&&e.set(g,u+7),l.get(39-f)&&e.set(u-7,g)}}static generateCheckWords(e,n,o){let l=e.getSize()/o,u=new Xo(mt.getGF(o)),f=V.truncDivision(n,o),g=mt.bitsToWords(e,o,f);u.encode(g,f-l);let y=n%o,v=new te;v.appendBits(0,y);for(const b of Array.from(g))v.appendBits(b,o);return v}static bitsToWords(e,n,o){let l=new Int32Array(o),u,f;for(u=0,f=e.getSize()/n;u<f;u++){let g=0;for(let y=0;y<n;y++)g|=e.get(u*n+y)?1<<n-y-1:0;l[u]=g}return l}static getGF(e){switch(e){case 4:return at.AZTEC_PARAM;case 6:return at.AZTEC_DATA_6;case 8:return at.AZTEC_DATA_8;case 10:return at.AZTEC_DATA_10;case 12:return at.AZTEC_DATA_12;default:throw new I("Unsupported word size "+e)}}static stuffBits(e,n){let o=new te,l=e.getSize(),u=(1<<n)-2;for(let f=0;f<l;f+=n){let g=0;for(let y=0;y<n;y++)(f+y>=l||e.get(f+y))&&(g|=1<<n-1-y);(g&u)===u?(o.appendBits(g&u,n),f--):g&u?o.appendBits(g,n):(o.appendBits(g|1,n),f--)}return o}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}mt.DEFAULT_EC_PERCENT=33,mt.DEFAULT_AZTEC_LAYERS=0,mt.MAX_NB_BITS=32,mt.MAX_NB_BITS_COMPACT=4,mt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ts{encode(e,n,o,l){return this.encodeWithHints(e,n,o,l,null)}encodeWithHints(e,n,o,l,u){let f=Zo.ISO_8859_1,g=mt.DEFAULT_EC_PERCENT,y=mt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(cn.CHARACTER_SET)&&(f=ol.forName(u.get(cn.CHARACTER_SET).toString())),u.has(cn.ERROR_CORRECTION)&&(g=V.parseInt(u.get(cn.ERROR_CORRECTION).toString())),u.has(cn.AZTEC_LAYERS)&&(y=V.parseInt(u.get(cn.AZTEC_LAYERS).toString()))),Ts.encodeLayers(e,n,o,l,f,g,y)}static encodeLayers(e,n,o,l,u,f,g){if(n!==Ae.AZTEC)throw new I("Can only encode AZTEC, but got "+n);let y=mt.encode(Ie.getBytes(e,u),f,g);return Ts.renderResult(y,o,l)}static renderResult(e,n,o){let l=e.getMatrix();if(l==null)throw new Mn;let u=l.getWidth(),f=l.getHeight(),g=Math.max(n,u),y=Math.max(o,f),v=Math.min(g/u,y/f),b=(g-u*v)/2,M=(y-f*v)/2,D=new Ve(g,y);for(let U=0,G=M;U<f;U++,G+=v)for(let Z=0,Q=b;Z<u;Z++,Q+=v)l.get(Z,U)&&D.setRegion(Q,G,v,v);return D}}s.AbstractExpandedDecoder=Bo,s.ArgumentException=S,s.ArithmeticException=cr,s.AztecCode=al,s.AztecCodeReader=mn,s.AztecCodeWriter=Ts,s.AztecDecoder=yt,s.AztecDetector=jn,s.AztecDetectorResult=Re,s.AztecEncoder=mt,s.AztecHighLevelEncoder=Ss,s.AztecPoint=Et,s.BarcodeFormat=Ae,s.Binarizer=k,s.BinaryBitmap=N,s.BitArray=te,s.BitMatrix=Ve,s.BitSource=Uo,s.BrowserAztecCodeReader=ds,s.BrowserBarcodeReader=Ja,s.BrowserCodeReader=Ne,s.BrowserDatamatrixCodeReader=Ou,s.BrowserMultiFormatReader=vs,s.BrowserPDF417Reader=qs,s.BrowserQRCodeReader=sl,s.BrowserQRCodeSvgWriter=yi,s.CharacterSetECI=ee,s.ChecksumException=O,s.Code128Reader=Te,s.Code39Reader=ln,s.DataMatrixDecodedBitStreamParser=pr,s.DataMatrixReader=gr,s.DecodeHintType=ce,s.DecoderResult=gt,s.DefaultGridSampler=Je,s.DetectorResult=Ke,s.EAN13Reader=tr,s.EncodeHintType=cn,s.Exception=x,s.FormatException=$,s.GenericGF=at,s.GenericGFPoly=Yt,s.GlobalHistogramBinarizer=Me,s.GridSampler=wt,s.GridSamplerInstance=It,s.HTMLCanvasElementLuminanceSource=fe,s.HybridBinarizer=me,s.ITFReader=St,s.IllegalArgumentException=I,s.IllegalStateException=Mn,s.InvertedLuminanceSource=Ee,s.LuminanceSource=de,s.MathUtils=lt,s.MultiFormatOneDReader=Li,s.MultiFormatReader=$s,s.MultiFormatWriter=Lu,s.NotFoundException=re,s.OneDReader=Rt,s.PDF417DecodedBitStreamParser=oe,s.PDF417DecoderErrorCorrection=Wo,s.PDF417Reader=vn,s.PDF417ResultMetadata=Ks,s.PerspectiveTransform=$e,s.PlanarYUVLuminanceSource=Rr,s.QRCodeByteMatrix=Js,s.QRCodeDataMask=ot,s.QRCodeDecodedBitStreamParser=Bt,s.QRCodeDecoderErrorCorrectionLevel=Nt,s.QRCodeDecoderFormatInformation=yn,s.QRCodeEncoder=Dt,s.QRCodeEncoderQRCode=xi,s.QRCodeMaskUtil=Ft,s.QRCodeMatrixUtil=Ye,s.QRCodeMode=We,s.QRCodeReader=Dn,s.QRCodeVersion=ze,s.QRCodeWriter=zi,s.RGBLuminanceSource=Es,s.RSS14Reader=Ot,s.RSSExpandedReader=he,s.ReaderException=Ui,s.ReedSolomonDecoder=fr,s.ReedSolomonEncoder=Xo,s.ReedSolomonException=Rn,s.Result=Fe,s.ResultMetadataType=He,s.ResultPoint=Ce,s.StringUtils=Ie,s.UnsupportedOperationException=Oe,s.VideoInputDevice=X,s.WhiteRectangleDetector=Ge,s.WriterException=Mt,s.ZXingArrays=H,s.ZXingCharset=ol,s.ZXingInteger=V,s.ZXingStandardCharsets=Zo,s.ZXingStringBuilder=be,s.ZXingStringEncoding=Be,s.ZXingSystem=B,s.createAbstractExpandedDecoder=$a,Object.defineProperty(s,"__esModule",{value:!0})})}(Ta,Ta.exports)),Ta.exports}var Gt=ew();const tw=Zf(Gt),nw=Xx({__proto__:null,default:tw},[Gt]);var a1=function(){function r(i,s,c){if(this.formatMap=new Map([[Pe.QR_CODE,Gt.BarcodeFormat.QR_CODE],[Pe.AZTEC,Gt.BarcodeFormat.AZTEC],[Pe.CODABAR,Gt.BarcodeFormat.CODABAR],[Pe.CODE_39,Gt.BarcodeFormat.CODE_39],[Pe.CODE_93,Gt.BarcodeFormat.CODE_93],[Pe.CODE_128,Gt.BarcodeFormat.CODE_128],[Pe.DATA_MATRIX,Gt.BarcodeFormat.DATA_MATRIX],[Pe.MAXICODE,Gt.BarcodeFormat.MAXICODE],[Pe.ITF,Gt.BarcodeFormat.ITF],[Pe.EAN_13,Gt.BarcodeFormat.EAN_13],[Pe.EAN_8,Gt.BarcodeFormat.EAN_8],[Pe.PDF_417,Gt.BarcodeFormat.PDF_417],[Pe.RSS_14,Gt.BarcodeFormat.RSS_14],[Pe.RSS_EXPANDED,Gt.BarcodeFormat.RSS_EXPANDED],[Pe.UPC_A,Gt.BarcodeFormat.UPC_A],[Pe.UPC_E,Gt.BarcodeFormat.UPC_E],[Pe.UPC_EAN_EXTENSION,Gt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!nw)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var h=this.createZXingFormats(i),p=new Map;p.set(Gt.DecodeHintType.POSSIBLE_FORMATS,h),p.set(Gt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return r.prototype.decodeAsync=function(i){var s=this;return new Promise(function(c,h){try{c(s.decode(i))}catch(p){h(p)}})},r.prototype.decode=function(i){var s=new Gt.MultiFormatReader(this.verbose,this.hints),c=new Gt.HTMLCanvasElementLuminanceSource(i),h=new Gt.BinaryBitmap(new Gt.HybridBinarizer(c)),p=s.decode(h);return{text:p.text,format:ag.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},r.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,c,h){i.set(s,c)}),i},r.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},r.prototype.createZXingFormats=function(i){for(var s=[],c=0,h=i;c<h.length;c++){var p=h[c];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return s},r.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},r}(),rw=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(I){w(I)}}function C(S){try{x(c.throw(S))}catch(I){w(I)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},iw=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},l1=function(){function r(i,s,c){if(this.formatMap=new Map([[Pe.QR_CODE,"qr_code"],[Pe.AZTEC,"aztec"],[Pe.CODABAR,"codabar"],[Pe.CODE_39,"code_39"],[Pe.CODE_93,"code_93"],[Pe.CODE_128,"code_128"],[Pe.DATA_MATRIX,"data_matrix"],[Pe.ITF,"itf"],[Pe.EAN_13,"ean_13"],[Pe.EAN_8,"ean_8"],[Pe.PDF_417,"pdf417"],[Pe.UPC_A,"upc_a"],[Pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!r.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var h=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return r.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},r.prototype.decodeAsync=function(i){return rw(this,void 0,void 0,function(){var s,c;return iw(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(i)];case 1:if(s=h.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:ag.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},r.prototype.selectLargestBarcode=function(i){for(var s=null,c=0,h=0,p=i;h<p.length;h++){var w=p[h],E=w.boundingBox.width*w.boundingBox.height;E>c&&(c=E,s=w)}if(!s)throw"No largest barcode found";return s},r.prototype.createBarcodeDetectorFormats=function(i){for(var s=[],c=0,h=i;c<h.length;c++){var p=h[c];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},r.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},r.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,c,h){i.set(s,c)}),i},r.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},r}(),u1=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(I){w(I)}}function C(S){try{x(c.throw(S))}catch(I){w(I)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},c1=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},sw=function(){function r(i,s,c,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&l1.isSupported()?(this.primaryDecoder=new l1(i,c,h),this.secondaryDecoder=new a1(i,c,h)):this.primaryDecoder=new a1(i,c,h)}return r.prototype.decodeAsync=function(i){return u1(this,void 0,void 0,function(){var s;return c1(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},r.prototype.decodeRobustlyAsync=function(i){return u1(this,void 0,void 0,function(){var s,c;return c1(this,function(h){switch(h.label){case 0:s=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,h.sent()];case 3:if(c=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},r.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},r.prototype.possiblyLogPerformance=function(i){if(this.verbose){var s=performance.now()-i;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},r.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,s=0,c=this.executionResults;s<c.length;s++){var h=c[s];i+=h}var p=i/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},r}(),td=function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])},r(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),gu=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(I){w(I)}}function C(S){try{x(c.throw(S))}catch(I){w(I)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},mu=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},fg=function(){function r(i,s){this.name=i,this.track=s}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(i){var s={};s[this.name]=i;var c={advanced:[s]};return this.track.applyConstraints(c)},r.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var s=i[this.name];return s}return null},r}(),ow=function(r){td(i,r);function i(s,c){return r.call(this,s,c)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(s){var c={};c[this.name]=s;var h={advanced:[c]};return this.track.applyConstraints(h)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i}(fg),aw=function(r){td(i,r);function i(s){return r.call(this,"zoom",s)||this}return i}(ow),lw=function(r){td(i,r);function i(s){return r.call(this,"torch",s)||this}return i}(fg),uw=function(){function r(i){this.track=i}return r.prototype.zoomFeature=function(){return new aw(this.track)},r.prototype.torchFeature=function(){return new lw(this.track)},r}(),cw=function(){function r(i,s,c){this.isClosed=!1,this.parentElement=i,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return r.prototype.createVideoElement=function(i){var s=document.createElement("video");return s.style.width="".concat(i,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},r.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=i.surface.clientWidth,h=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(c,h),i.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},r.create=function(i,s,c,h){return gu(this,void 0,void 0,function(){var p,w;return mu(this,function(E){switch(E.label){case 0:return p=new r(i,s,h),c.aspectRatio?(w={aspectRatio:c.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(w)]):[3,2];case 1:E.sent(),E.label=2;case 2:return p.setupSurface(),[2,p]}})})},r.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},r.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},r.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},r.prototype.resume=function(i){this.failIfClosed();var s=this,c=function(){setTimeout(i,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},r.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},r.prototype.getSurface=function(){return this.failIfClosed(),this.surface},r.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},r.prototype.applyVideoConstraints=function(i){return gu(this,void 0,void 0,function(){return mu(this,function(s){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},r.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(s,c){var h=i.mediaStream.getVideoTracks(),p=h.length,w=0;i.mediaStream.getVideoTracks().forEach(function(E){i.mediaStream.removeTrack(E),E.stop(),++w,w>=p&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),s())})})},r.prototype.getCapabilities=function(){return new uw(this.getFirstTrackOrFail())},r}(),fw=function(){function r(i){this.mediaStream=i}return r.prototype.render=function(i,s,c){return gu(this,void 0,void 0,function(){return mu(this,function(h){return[2,cw.create(i,this.mediaStream,s,c)]})})},r.create=function(i){return gu(this,void 0,void 0,function(){var s,c;return mu(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=h.sent(),[2,new r(c)]}})})},r}(),f1=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(I){w(I)}}function C(S){try{x(c.throw(S))}catch(I){w(I)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},d1=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},dw=function(){function r(){}return r.failIfNotSupported=function(){return f1(this,void 0,void 0,function(){return d1(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new r]})})},r.prototype.create=function(i){return f1(this,void 0,void 0,function(){return d1(this,function(s){return[2,fw.create(i)]})})},r}(),hw=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(I){w(I)}}function C(S){try{x(c.throw(S))}catch(I){w(I)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},pw=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},gw=function(){function r(){}return r.retrieve=function(){if(navigator.mediaDevices)return r.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?r.getCamerasFromMediaStreamTrack():r.rejectWithError()},r.rejectWithError=function(){var i=wo.unableToQuerySupportedDevices();return r.isHttpsOrLocalhost()||(i=wo.insecureContextCameraQueryError()),Promise.reject(i)},r.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},r.getCamerasFromMediaDevices=function(){return hw(this,void 0,void 0,function(){var i,s,c,h,p,w,E;return pw(this,function(C){switch(C.label){case 0:return i=function(x){for(var S=x.getVideoTracks(),I=0,N=S;I<N.length;I++){var O=N[I];O.enabled=!1,O.stop(),x.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=C.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=C.sent(),h=[],p=0,w=c;p<w.length;p++)E=w[p],E.kind==="videoinput"&&h.push({id:E.deviceId,label:E.label});return i(s),[2,h]}})})},r.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,s){var c=function(p){for(var w=[],E=0,C=p;E<C.length;E++){var x=C[E];x.kind==="video"&&w.push({id:x.id,label:x.label})}i(w)},h=MediaStreamTrack;h.getSources(c)})},r}(),on;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(on||(on={}));var mw=function(){function r(){this.state=on.NOT_STARTED,this.onGoingTransactionNewState=on.UNKNOWN}return r.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},r.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},r.prototype.execute=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=on.UNKNOWN,this.directTransition(i)},r.prototype.cancel=function(){if(this.onGoingTransactionNewState===on.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=on.UNKNOWN},r.prototype.getState=function(){return this.state},r.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==on.UNKNOWN)throw"Cannot transition to a new state, already under transition"},r.prototype.validateTransition=function(i){switch(this.state){case on.UNKNOWN:throw"Transition from unknown is not allowed";case on.NOT_STARTED:this.failIfNewStateIs(i,[on.PAUSED]);break;case on.SCANNING:break;case on.PAUSED:break}},r.prototype.failIfNewStateIs=function(i,s){for(var c=0,h=s;c<h.length;c++){var p=h[c];if(i===p)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},r}(),xw=function(){function r(i){this.stateManager=i}return r.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},r.prototype.directTransition=function(i){this.stateManager.directTransition(i)},r.prototype.getState=function(){return this.stateManager.getState()},r.prototype.canScanFile=function(){return this.stateManager.getState()===on.NOT_STARTED},r.prototype.isScanning=function(){return this.stateManager.getState()!==on.NOT_STARTED},r.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===on.SCANNING},r.prototype.isPaused=function(){return this.stateManager.getState()===on.PAUSED},r}(),yw=function(){function r(){}return r.create=function(){return new xw(new mw)},r}(),ww=function(){var r=function(i,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])},r(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),Er=function(r){ww(i,r);function i(){return r!==null&&r.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i}(Kr),Cw=function(){function r(i,s){this.logger=s,this.fps=Er.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=Er.DEFAULT_DISABLE_FLIP}return r.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?cg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},r.prototype.isShadedBoxEnabled=function(){return!si(this.qrbox)},r.create=function(i,s){return new r(i,s)},r}(),h1=function(){function r(i,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new ug(this.verbose),this.qrcode=new sw(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=yw.create()}return r.prototype.start=function(i,s,c,h){var p=this;if(!i)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var w;h?w=h:w=this.verbose?this.logger.log:function(){};var E=Cw.create(s,this.logger);this.clearElement();var C=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?C=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=C,S=document.getElementById(this.elementId);S.clientWidth?S.clientWidth:Er.DEFAULT_WIDTH,S.style.position="relative",this.shouldScan=!0,this.element=S;var I=this,N=this.stateManagerProxy.startTransition(on.SCANNING);return new Promise(function(O,k){var B=x?E.videoConstraints:I.createVideoConstraints(i);if(!B){N.cancel(),k("videoConstraints should be defined");return}var F={};(!x||E.aspectRatio)&&(F.aspectRatio=E.aspectRatio);var z={onRenderSurfaceReady:function(H,V){I.setupUi(H,V,E),I.isScanning=!0,I.foreverScan(E,c,w)}};dw.failIfNotSupported().then(function(H){H.create(B).then(function(V){return V.render(p.element,F,z).then(function(te){I.renderedCamera=te,N.execute(),O(null)}).catch(function(te){N.cancel(),k(te)})}).catch(function(V){N.cancel(),k(wo.errorGettingUserMedia(V))})}).catch(function(H){N.cancel(),k(wo.cameraStreamingNotSupported())})})},r.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(on.PAUSED),this.showPausedState(),(si(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},r.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,s=function(){i.stateManagerProxy.directTransition(on.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},r.prototype.getState=function(){return this.stateManagerProxy.getState()},r.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(on.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(i.element){var p=document.getElementById(Er.SHADED_REGION_ELEMENT_ID);p&&i.element.removeChild(p)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),c(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),s.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},r.prototype.scanFile=function(i,s){return this.scanFileV2(i,s).then(function(c){return c.decodedText})},r.prototype.scanFileV2=function(i,s){var c=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(si(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,p){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(i);var w=new Image;w.onload=function(){var E=w.width,C=w.height,x=document.getElementById(c.elementId),S=x.clientWidth?x.clientWidth:Er.DEFAULT_WIDTH,I=Math.max(x.clientHeight?x.clientHeight:C,Er.FILE_SCAN_MIN_HEIGHT),N=c.computeCanvasDrawConfig(E,C,S,I);if(s){var O=c.createCanvasElement(S,I,"qr-canvas-visible");O.style.display="inline-block",x.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=S,k.canvas.height=I,k.drawImage(w,0,0,E,C,N.x,N.y,N.width,N.height)}var B=Er.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(w.width,N.width),z=Math.max(w.height,N.height),H=F+2*B,V=z+2*B,te=c.createCanvasElement(H,V);x.appendChild(te);var le=te.getContext("2d");if(!le)throw"Unable to get 2d context from canvas";le.canvas.width=H,le.canvas.height=V,le.drawImage(w,0,0,E,C,B,B,F,z);try{c.qrcode.decodeRobustlyAsync(te).then(function(ce){h(i1.createFromQrcodeResult(ce))}).catch(p)}catch(ce){p("QR code parse error, error = ".concat(ce))}},w.onerror=p,w.onabort=p,w.onstalled=p,w.onsuspend=p,w.src=URL.createObjectURL(i)})},r.prototype.clear=function(){this.clearElement()},r.getCameras=function(){return gw.retrieve()},r.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},r.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},r.prototype.applyVideoConstraints=function(i){if(i){if(!cg.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},r.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},r.prototype.getSupportedFormats=function(i){var s=[Pe.QR_CODE,Pe.AZTEC,Pe.CODABAR,Pe.CODE_39,Pe.CODE_93,Pe.CODE_128,Pe.DATA_MATRIX,Pe.MAXICODE,Pe.ITF,Pe.EAN_13,Pe.EAN_8,Pe.PDF_417,Pe.RSS_14,Pe.RSS_EXPANDED,Pe.UPC_A,Pe.UPC_E,Pe.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return s;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],h=0,p=i.formatsToSupport;h<p.length;h++){var w=p[h];$y(w)?c.push(w):this.logger.warn("Invalid format: ".concat(w," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},r.prototype.getUseBarCodeDetectorIfSupported=function(i){if(si(i))return!0;if(!si(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(si(i.experimentalFeatures))return!0;var s=i.experimentalFeatures;return si(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},r.prototype.validateQrboxSize=function(i,s,c){var h=this,p=c.qrbox;this.validateQrboxConfig(p);var w=this.toQrdimensions(i,s,p),E=function(x){if(x<Er.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Er.MIN_QR_BOX_SIZE,"px.")},C=function(x){return x>i&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=i),x};E(w.width),E(w.height),w.width=C(w.width)},r.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},r.prototype.toQrdimensions=function(i,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(i,s)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return c},r.prototype.setupUi=function(i,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(i,s,c);var h=si(c.qrbox)?{width:i,height:s}:c.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(i,s,h);p.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var w=c.isShadedBoxEnabled()&&p.height<=s,E={x:0,y:0,width:i,height:s},C=w?this.getShadedRegionBounds(i,s,p):E,x=this.createCanvasElement(C.width,C.height),S={willReadFrequently:!0},I=x.getContext("2d",S);I.canvas.width=C.width,I.canvas.height=C.height,this.element.append(x),w&&this.possiblyInsertShadingElement(this.element,i,s,p),this.createScannerPausedUiElement(this.element),this.qrRegion=C,this.context=I,this.canvasElement=x},r.prototype.createScannerPausedUiElement=function(i){var s=document.createElement("div");s.innerText=wo.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",i.appendChild(s),this.scannerPausedUiElement=s},r.prototype.scanContext=function(i,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return i(h.text,i1.createFromQrcodeResult(h)),c.possiblyUpdateShaders(!0),!0}).catch(function(h){c.possiblyUpdateShaders(!1);var p=wo.codeParseError(h);return s(p,lg.createFrom(p)),!1})},r.prototype.foreverScan=function(i,s,c){var h=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),w=p.videoWidth/p.clientWidth,E=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var C=this.qrRegion.width*w,x=this.qrRegion.height*E,S=this.qrRegion.x*w,I=this.qrRegion.y*E;this.context.drawImage(p,S,I,C,x,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(i,s,c)},h.getTimeoutFps(i.fps))};this.scanContext(s,c).then(function(O){!O&&i.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(s,c).finally(function(){N()})):N()}).catch(function(O){h.logger.logError("Error happend while scanning context",O),N()})}},r.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var s="facingMode",c="deviceId",h={user:!0,environment:!0},p="exact",w=function(k){if(k in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},E=Object.keys(i);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var C=Object.keys(i)[0];if(C!==s&&C!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(C===s){var x=i.facingMode;if(typeof x=="string"){if(w(x))return{facingMode:x}}else if(typeof x=="object")if(p in x){if(w(x["".concat(p)]))return{facingMode:{exact:x["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var S=typeof x;throw"Invalid type of 'facingMode' = ".concat(S)}}else{var I=i.deviceId;if(typeof I=="string")return{deviceId:I};if(typeof I=="object"){if(p in I)return{deviceId:{exact:I["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var N=typeof I;throw"Invalid type of 'deviceId' = ".concat(N)}}}var O=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},r.prototype.computeCanvasDrawConfig=function(i,s,c,h){if(i<=c&&s<=h){var p=(c-i)/2,w=(h-s)/2;return{x:p,y:w,width:i,height:s}}else{var E=i,C=s;return i>c&&(s=c/i*s,i=c),s>h&&(i=h/s*i,s=h),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(C)+" to ".concat(i,"X").concat(s,".")),this.computeCanvasDrawConfig(i,s,c,h)}},r.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},r.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=i?Er.BORDER_SHADER_MATCH_COLOR:Er.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},r.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},r.prototype.createCanvasElement=function(i,s,c){var h=i,p=s,w=document.createElement("canvas");return w.style.width="".concat(h,"px"),w.style.height="".concat(p,"px"),w.style.display="none",w.id=si(c)?"qr-canvas":c,w},r.prototype.getShadedRegionBounds=function(i,s,c){if(c.width>i||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},r.prototype.possiblyInsertShadingElement=function(i,s,c,h){if(!(s-h.width<1||c-h.height<1)){var p=document.createElement("div");p.style.position="absolute";var w=(s-h.width)/2,E=(c-h.height)/2;if(p.style.borderLeft="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(w,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(Er.SHADED_REGION_ELEMENT_ID),s-h.width<11||c-h.height<11)this.hasBorderShaders=!1;else{var C=5,x=40;this.insertShaderBorders(p,x,C,-C,null,0,!0),this.insertShaderBorders(p,x,C,-C,null,0,!1),this.insertShaderBorders(p,x,C,null,-C,0,!0),this.insertShaderBorders(p,x,C,null,-C,0,!1),this.insertShaderBorders(p,C,x+C,-C,null,-C,!0),this.insertShaderBorders(p,C,x+C,null,-C,-C,!0),this.insertShaderBorders(p,C,x+C,-C,null,-C,!1),this.insertShaderBorders(p,C,x+C,null,-C,-C,!1),this.hasBorderShaders=!0}i.append(p)}},r.prototype.insertShaderBorders=function(i,s,c,h,p,w,E){var C=document.createElement("div");C.style.position="absolute",C.style.backgroundColor=Er.BORDER_SHADER_DEFAULT_COLOR,C.style.width="".concat(s,"px"),C.style.height="".concat(c,"px"),h!==null&&(C.style.top="".concat(h,"px")),p!==null&&(C.style.bottom="".concat(p,"px")),E?C.style.left="".concat(w,"px"):C.style.right="".concat(w,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(C),i.appendChild(C)},r.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},r.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},r.prototype.getTimeoutFps=function(i){return 1e3/i},r}(),nd="data:image/svg+xml;base64,",vw=nd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Ew=nd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",p1=nd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Aw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",g1=function(){function r(){}return r.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},r}(),Sw=function(){function r(){this.data=g1.createDefault();var i=localStorage.getItem(r.LOCAL_STORAGE_KEY);i?this.data=JSON.parse(i):this.reset()}return r.prototype.hasCameraPermissions=function(){return this.data.hasPermission},r.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},r.prototype.setHasPermission=function(i){this.data.hasPermission=i,this.flush()},r.prototype.setLastUsedCameraId=function(i){this.data.lastUsedCameraId=i,this.flush()},r.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},r.prototype.reset=function(){this.data=g1.createDefault(),this.flush()},r.prototype.flush=function(){localStorage.setItem(r.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},r.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",r}(),Tw=function(){function r(){this.infoDiv=document.createElement("div")}return r.prototype.renderInto=function(i){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=s1.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var c=document.createElement("br"),h=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(h);var p=document.createElement("a");p.innerText=s1.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),i.appendChild(this.infoDiv)},r.prototype.show=function(){this.infoDiv.style.display="block"},r.prototype.hide=function(){this.infoDiv.style.display="none"},r}(),Iw=function(){function r(i,s){this.isShowingInfoIcon=!0,this.onTapIn=i,this.onTapOut=s,this.infoIcon=document.createElement("img")}return r.prototype.renderInto=function(i){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=p1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return s.onHoverIn()},this.infoIcon.onmouseout=function(c){return s.onHoverOut()},this.infoIcon.onclick=function(c){return s.onClick()},i.appendChild(this.infoIcon)},r.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},r.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},r.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Aw,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=p1,this.infoIcon.style.opacity="0.6")},r}(),bw=function(){function r(){var i=this;this.infoDiv=new Tw,this.infoIcon=new Iw(function(){i.infoDiv.show()},function(){i.infoDiv.hide()})}return r.prototype.renderInto=function(i){this.infoDiv.renderInto(i),this.infoIcon.renderInto(i)},r}(),Nw=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(I){w(I)}}function C(S){try{x(c.throw(S))}catch(I){w(I)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},Rw=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},m1=function(){function r(){}return r.hasPermissions=function(){return Nw(this,void 0,void 0,function(){var i,s,c,h;return Rw(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(i=p.sent(),s=0,c=i;s<c.length;s++)if(h=c[s],h.kind==="videoinput"&&h.label)return[2,!0];return[2,!1]}})})},r}(),ss=function(){function r(i){this.supportedScanTypes=this.validateAndReturnScanTypes(i)}return r.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},r.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},r.prototype.isCameraScanRequired=function(){for(var i=0,s=this.supportedScanTypes;i<s.length;i++){var c=s[i];if(r.isCameraScanType(c))return!0}return!1},r.isCameraScanType=function(i){return i===ls.SCAN_TYPE_CAMERA},r.isFileScanType=function(i){return i===ls.SCAN_TYPE_FILE},r.prototype.validateAndReturnScanTypes=function(i){if(!i||i.length===0)return Kr.DEFAULT_SUPPORTED_SCAN_TYPE;var s=Kr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(i.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var c=0,h=i;c<h.length;c++){var p=h[c];if(!Kr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return i},r}(),Sr=function(){function r(){}return r.ALL_ELEMENT_CLASS="html5-qrcode-element",r.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",r.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",r.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",r.TORCH_BUTTON_ID="html5-qrcode-button-torch",r.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",r.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",r.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",r.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",r.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",r.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",r}(),Mi=function(){function r(){}return r.createElement=function(i,s){var c=document.createElement(i);return c.id=s,c.classList.add(Sr.ALL_ELEMENT_CLASS),i==="button"&&c.setAttribute("type","button"),c},r}(),dg=function(r,i,s,c){function h(p){return p instanceof s?p:new s(function(w){w(p)})}return new(s||(s=Promise))(function(p,w){function E(S){try{x(c.next(S))}catch(I){w(I)}}function C(S){try{x(c.throw(S))}catch(I){w(I)}}function x(S){S.done?p(S.value):h(S.value).then(E,C)}x((c=c.apply(r,i||[])).next())})},hg=function(r,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,w;return w={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function E(x){return function(S){return C([x,S])}}function C(x){if(c)throw new TypeError("Generator is already executing.");for(;w&&(w=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(r,s)}catch(S){x=[6,S],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},x1=function(){function r(i,s,c){this.isTorchOn=!1,this.torchCapability=i,this.buttonController=s,this.onTorchActionFailureCallback=c}return r.prototype.isTorchEnabled=function(){return this.isTorchOn},r.prototype.flipState=function(){return dg(this,void 0,void 0,function(){var i,s;return hg(this,function(c){switch(c.label){case 0:this.buttonController.disable(),i=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(i)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),i),[3,4];case 3:return s=c.sent(),this.propagateFailure(i,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},r.prototype.updateUiBasedOnLatestSettings=function(i,s){i===s?(this.buttonController.setText(s?_t.torchOffButton():_t.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},r.prototype.propagateFailure=function(i,s){var c=i?_t.torchOnFailedMessage():_t.torchOffFailedMessage();s&&(c+="; Error = "+s),this.onTorchActionFailureCallback(c)},r.prototype.reset=function(){this.isTorchOn=!1},r}(),Mw=function(){function r(i,s){this.onTorchActionFailureCallback=s,this.torchButton=Mi.createElement("button",Sr.TORCH_BUTTON_ID),this.torchController=new x1(i,this,s)}return r.prototype.render=function(i,s){var c=this;this.torchButton.innerText=_t.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var h=this;this.torchButton.addEventListener("click",function(p){return dg(c,void 0,void 0,function(){return hg(this,function(w){switch(w.label){case 0:return[4,h.torchController.flipState()];case 1:return w.sent(),h.torchController.isTorchEnabled()?(h.torchButton.classList.remove(Sr.TORCH_BUTTON_CLASS_TORCH_OFF),h.torchButton.classList.add(Sr.TORCH_BUTTON_CLASS_TORCH_ON)):(h.torchButton.classList.remove(Sr.TORCH_BUTTON_CLASS_TORCH_ON),h.torchButton.classList.add(Sr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),i.appendChild(this.torchButton)},r.prototype.updateTorchCapability=function(i){this.torchController=new x1(i,this,this.onTorchActionFailureCallback)},r.prototype.getTorchButton=function(){return this.torchButton},r.prototype.hide=function(){this.torchButton.style.display="none"},r.prototype.show=function(){this.torchButton.style.display="inline-block"},r.prototype.disable=function(){this.torchButton.disabled=!0},r.prototype.enable=function(){this.torchButton.disabled=!1},r.prototype.setText=function(i){this.torchButton.innerText=i},r.prototype.reset=function(){this.torchButton.innerText=_t.torchOnButton(),this.torchController.reset()},r.create=function(i,s,c,h){var p=new r(s,h);return p.render(i,c),p},r}(),_w=function(){function r(i,s,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",i.appendChild(this.fileBasedScanRegion);var h=document.createElement("label");h.setAttribute("for",this.getFileScanInputId()),h.style.display="inline-block",this.fileBasedScanRegion.appendChild(h),this.fileSelectionButton=Mi.createElement("button",Sr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){h.click()}),h.append(this.fileSelectionButton),this.fileScanInput=Mi.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",h.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var C=E.target;if(!(C.files&&C.files.length===0)){var x=C.files,S=x[0],I=S.name;p.setImageNameToButton(I),c(S)}}});var w=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(w),this.fileBasedScanRegion.addEventListener("dragenter",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var C=E.dataTransfer;if(C){var x=C.files;if(!x||x.length===0)return;for(var S=!1,I=0;I<x.length;++I){var N=x.item(I);if(N){var O=/image.*/;if(N.type.match(O)){S=!0;var k=N.name;p.setImageNameToButton(k),c(N),w.innerText=_t.dragAndDropMessage();break}}}S||(w.innerText=_t.dragAndDropMessageOnlyImages())}})}return r.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},r.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},r.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},r.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},r.prototype.createFileBasedScanRegion=function(){var i=document.createElement("div");return i.style.textAlign="center",i.style.margin="auto",i.style.width="80%",i.style.maxWidth="600px",i.style.border=this.fileBasedScanRegionDefaultBorder(),i.style.padding="10px",i.style.marginBottom="10px",i},r.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},r.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},r.prototype.createDragAndDropMessage=function(){var i=document.createElement("div");return i.innerText=_t.dragAndDropMessage(),i.style.fontWeight="400",i},r.prototype.setImageNameToButton=function(i){var s=20;if(i.length>s){var c=i.substring(0,8),h=i.length,p=i.substring(h-8,h);i="".concat(c,"....").concat(p)}var w=_t.fileSelectionChooseAnother()+" - "+i;this.fileSelectionButton.innerText=w},r.prototype.setInitialValueToButton=function(){var i=_t.fileSelectionChooseImage()+" - "+_t.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=i},r.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},r.create=function(i,s,c){var h=new r(i,s,c);return h},r}(),Dw=function(){function r(i){this.selectElement=Mi.createElement("select",Sr.CAMERA_SELECTION_SELECT_ID),this.cameras=i,this.options=[]}return r.prototype.render=function(i){var s=document.createElement("span");s.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)s.style.display="none";else{var h=_t.selectCamera();s.innerText="".concat(h," (").concat(this.cameras.length,")  ")}for(var p=1,w=0,E=this.cameras;w<E.length;w++){var C=E[w],x=C.id,S=C.label==null?x:C.label;(!S||S==="")&&(S=[_t.anonymousCameraPrefix(),p++].join(" "));var I=document.createElement("option");I.value=x,I.innerText=S,this.options.push(I),this.selectElement.appendChild(I)}s.appendChild(this.selectElement),i.appendChild(s)},r.prototype.disable=function(){this.selectElement.disabled=!0},r.prototype.isDisabled=function(){return this.selectElement.disabled===!0},r.prototype.enable=function(){this.selectElement.disabled=!1},r.prototype.getValue=function(){return this.selectElement.value},r.prototype.hasValue=function(i){for(var s=0,c=this.options;s<c.length;s++){var h=c[s];if(h.value===i)return!0}return!1},r.prototype.setValue=function(i){if(!this.hasValue(i))throw new Error("".concat(i," is not present in the camera list."));this.selectElement.value=i},r.prototype.hasSingleItem=function(){return this.cameras.length===1},r.prototype.numCameras=function(){return this.cameras.length},r.create=function(i,s){var c=new r(s);return c.render(i),c},r}(),Ow=function(){function r(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Mi.createElement("input",Sr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return r.prototype.render=function(i,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",i.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=_t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var h=this;this.rangeInput.addEventListener("input",function(){return h.onValueChange()}),this.rangeInput.addEventListener("change",function(){return h.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},r.prototype.onValueChange=function(){var i=_t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},r.prototype.setValues=function(i,s,c,h){this.rangeInput.min=i.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=h.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},r.prototype.show=function(){this.zoomElementContainer.style.display="block"},r.prototype.hide=function(){this.zoomElementContainer.style.display="none"},r.prototype.setOnCameraZoomValueChangeCallback=function(i){this.onChangeCallback=i},r.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},r.create=function(i,s){var c=new r;return c.render(i,s),c},r}(),Ar;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ar||(Ar={}));function Pw(r){return{fps:r.fps,qrbox:r.qrbox,aspectRatio:r.aspectRatio,disableFlip:r.disableFlip,videoConstraints:r.videoConstraints}}function Lw(r,i){return{formatsToSupport:r.formatsToSupport,useBarCodeDetectorIfSupported:r.useBarCodeDetectorIfSupported,experimentalFeatures:r.experimentalFeatures,verbose:i}}var kw=function(){function r(i,s,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=i,this.config=this.createConfig(s),this.verbose=c===!0,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.scanTypeSelector=new ss(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new ug(this.verbose),this.persistedDataManager=new Sw,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return r.prototype.render=function(i,s){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,w){if(i)i(p,w);else{if(c.lastMatchFound===p)return;c.lastMatchFound=p,c.setHeaderMessage(_t.lastMatch(p),Ar.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,w){s&&s(p,w)};var h=document.getElementById(this.elementId);if(!h)throw"HTML Element with id=".concat(this.elementId," not found");h.innerHTML="",this.createBasicLayout(h),this.html5Qrcode=new h1(this.getScanRegionId(),Lw(this.config,this.verbose))},r.prototype.pause=function(i){(si(i)||i!==!0)&&(i=!1),this.getHtml5QrcodeOrFail().pause(i)},r.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},r.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},r.prototype.clear=function(){var i=this,s=function(){var c=document.getElementById(i.elementId);c&&(c.innerHTML="",i.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,h){if(!i.html5Qrcode){c();return}i.html5Qrcode.isScanning?i.html5Qrcode.stop().then(function(p){if(!i.html5Qrcode){c();return}i.html5Qrcode.clear(),s(),c()}).catch(function(p){i.verbose&&i.logger.logError("Unable to stop qrcode scanner",p),h(p)}):(i.html5Qrcode.clear(),s(),c())}):Promise.resolve()},r.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},r.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},r.prototype.applyVideoConstraints=function(i){return this.getHtml5QrcodeOrFail().applyVideoConstraints(i)},r.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},r.prototype.createConfig=function(i){return i?(i.fps||(i.fps=Kr.SCAN_DEFAULT_FPS),i.rememberLastUsedCamera!==!Kr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(i.rememberLastUsedCamera=Kr.DEFAULT_REMEMBER_LAST_CAMERA_USED),i.supportedScanTypes||(i.supportedScanTypes=Kr.DEFAULT_SUPPORTED_SCAN_TYPE),i):{fps:Kr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Kr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Kr.DEFAULT_SUPPORTED_SCAN_TYPE}},r.prototype.createBasicLayout=function(i){i.style.position="relative",i.style.padding="0px",i.style.border="1px solid silver",this.createHeader(i);var s=document.createElement("div"),c=this.getScanRegionId();s.id=c,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",i.appendChild(s),ss.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var h=document.createElement("div"),p=this.getDashboardId();h.id=p,h.style.width="100%",i.appendChild(h),this.setupInitialDashboard(h)},r.prototype.resetBasicLayout=function(i){i.style.border="none"},r.prototype.setupInitialDashboard=function(i){this.createSection(i),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},r.prototype.createHeader=function(i){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",i.appendChild(s);var c=new bw;c.renderInto(s);var h=document.createElement("div");h.id=this.getHeaderMessageContainerId(),h.style.display="none",h.style.textAlign="center",h.style.fontSize="14px",h.style.padding="2px 10px",h.style.margin="4px",h.style.borderTop="1px solid #f6f6f6",s.appendChild(h)},r.prototype.createSection=function(i){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",i.appendChild(s)},r.prototype.createCameraListUi=function(i,s,c){var h=this;h.showHideScanTypeSwapLink(!1),h.setHeaderMessage(_t.cameraPermissionRequesting());var p=function(){c||h.createPermissionButton(i,s)};h1.getCameras().then(function(w){h.persistedDataManager.setHasPermission(!0),h.showHideScanTypeSwapLink(!0),h.resetHeaderMessage(),w&&w.length>0?(i.removeChild(s),h.renderCameraSelection(w)):(h.setHeaderMessage(_t.noCameraFound(),Ar.STATUS_WARNING),p())}).catch(function(w){h.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:p(),h.setHeaderMessage(w,Ar.STATUS_WARNING),h.showHideScanTypeSwapLink(!0)})},r.prototype.createPermissionButton=function(i,s){var c=this,h=Mi.createElement("button",this.getCameraPermissionButtonId());h.innerText=_t.cameraPermissionTitle(),h.addEventListener("click",function(){h.disabled=!0,c.createCameraListUi(i,s,h)}),s.appendChild(h)},r.prototype.createPermissionsUi=function(i,s){var c=this;if(ss.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){m1.hasPermissions().then(function(h){h?c.createCameraListUi(i,s):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(i,s))}).catch(function(h){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(i,s)});return}this.createPermissionButton(i,s)},r.prototype.createSectionControlPanel=function(){var i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");i.appendChild(s);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=ss.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(c);var h=document.createElement("div");h.style.textAlign="center",c.appendChild(h),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,h),this.renderFileScanUi(s)},r.prototype.renderFileScanUi=function(i){var s=ss.isFileScanType(this.currentScanType),c=this,h=function(p){if(!c.html5Qrcode)throw"html5Qrcode not defined";ss.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(_t.loadingImage()),c.html5Qrcode.scanFileV2(p,!0).then(function(w){c.resetHeaderMessage(),c.qrCodeSuccessCallback(w.decodedText,w)}).catch(function(w){c.setHeaderMessage(w,Ar.STATUS_WARNING),c.qrCodeErrorCallback(w,lg.createFrom(w))}))};this.fileSelectionUi=_w.create(i,s,h)},r.prototype.renderCameraSelection=function(i){var s=this,c=this,h=document.getElementById(this.getDashboardSectionCameraScanRegionId());h.style.textAlign="center";var p=Ow.create(h,!1),w=function(B){var F=B.zoomFeature();if(F.isSupported()){p.setOnCameraZoomValueChangeCallback(function(H){F.apply(H)});var z=1;s.config.defaultZoomValueIfSupported&&(z=s.config.defaultZoomValueIfSupported),z=qy(z,F.min(),F.max()),p.setValues(F.min(),F.max(),z,F.step()),p.show()}},E=Dw.create(h,i),C=document.createElement("span"),x=Mi.createElement("button",Sr.CAMERA_START_BUTTON_ID);x.innerText=_t.scanButtonStartScanningText(),C.appendChild(x);var S=Mi.createElement("button",Sr.CAMERA_STOP_BUTTON_ID);S.innerText=_t.scanButtonStopScanningText(),S.style.display="none",S.disabled=!0,C.appendChild(S);var I,N=function(B){if(!B.torchFeature().isSupported()){I&&I.hide();return}I?I.updateTorchCapability(B.torchFeature()):I=Mw.create(C,B.torchFeature(),{display:"none",marginLeft:"5px"},function(F){c.setHeaderMessage(F,Ar.STATUS_WARNING)}),I.show()};h.appendChild(C);var O=function(B){B||(x.style.display="none"),x.innerText=_t.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,B&&(x.style.display="inline-block")};if(x.addEventListener("click",function(B){x.innerText=_t.scanButtonScanningStarting(),E.disable(),x.disabled=!0,x.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var F=E.getValue();c.persistedDataManager.setLastUsedCameraId(F),c.html5Qrcode.start(F,Pw(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(z){S.disabled=!1,S.style.display="inline-block",O(!1);var H=c.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&N(H),s.config.showZoomSliderIfSupported===!0&&w(H)}).catch(function(z){c.showHideScanTypeSwapLink(!0),E.enable(),O(!0),c.setHeaderMessage(z,Ar.STATUS_WARNING)})}),E.hasSingleItem()&&x.click(),S.addEventListener("click",function(B){if(!c.html5Qrcode)throw"html5Qrcode not defined";S.disabled=!0,c.html5Qrcode.stop().then(function(F){s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),E.enable(),x.disabled=!1,S.style.display="none",x.style.display="inline-block",I&&(I.reset(),I.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(F){S.disabled=!1,c.setHeaderMessage(F,Ar.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var k=c.persistedDataManager.getLastUsedCameraId();E.hasValue(k)?(E.setValue(k),x.click()):c.persistedDataManager.resetLastUsedCameraId()}},r.prototype.createSectionSwap=function(){var i=this,s=_t.textIfCameraScanSelected(),c=_t.textIfFileScanSelected(),h=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var w=Mi.createElement("span",this.getDashboardSectionSwapLinkId());w.style.textDecoration="underline",w.style.cursor="pointer",w.innerText=ss.isCameraScanType(this.currentScanType)?s:c,w.addEventListener("click",function(){if(!i.sectionSwapAllowed){i.verbose&&i.logger.logError("Section swap called when not allowed");return}i.resetHeaderMessage(),i.fileSelectionUi.resetValue(),i.sectionSwapAllowed=!1,ss.isCameraScanType(i.currentScanType)?(i.clearScanRegion(),i.getCameraScanRegion().style.display="none",i.fileSelectionUi.show(),w.innerText=c,i.currentScanType=ls.SCAN_TYPE_FILE,i.insertFileScanImageToScanRegion()):(i.clearScanRegion(),i.getCameraScanRegion().style.display="block",i.fileSelectionUi.hide(),w.innerText=s,i.currentScanType=ls.SCAN_TYPE_CAMERA,i.insertCameraScanImageToScanRegion(),i.startCameraScanIfPermissionExistsOnSwap()),i.sectionSwapAllowed=!0}),p.appendChild(w),h.appendChild(p)},r.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var i=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){m1.hasPermissions().then(function(c){if(c){var h=document.getElementById(s.getCameraPermissionButtonId());if(!h)throw i.logger.logError("Permission button not found, fail;"),"Permission button not found";h.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(c){s.persistedDataManager.setHasPermission(!1)});return}},r.prototype.resetHeaderMessage=function(){var i=document.getElementById(this.getHeaderMessageContainerId());i.style.display="none"},r.prototype.setHeaderMessage=function(i,s){s||(s=Ar.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=i,c.style.display="block",s){case Ar.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case Ar.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case Ar.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},r.prototype.showHideScanTypeSwapLink=function(i){this.scanTypeSelector.hasMoreThanOneScanType()&&(i!==!0&&(i=!1),this.sectionSwapAllowed=i,this.getDashboardSectionSwapLink().style.display=i?"inline-block":"none")},r.prototype.insertCameraScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(i.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=vw,this.cameraScanImage.alt=_t.cameraScanAltText()},r.prototype.insertFileScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(i.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Ew,this.fileScanImage.alt=_t.fileScanAltText()},r.prototype.clearScanRegion=function(){var i=document.getElementById(this.getScanRegionId());i.innerHTML=""},r.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},r.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},r.prototype.getDashboardSectionSwapLinkId=function(){return Sr.SCAN_TYPE_CHANGE_ANCHOR_ID},r.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},r.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},r.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},r.prototype.getCameraPermissionButtonId=function(){return Sr.CAMERA_PERMISSION_BUTTON_ID},r.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},r.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},r.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},r}();const Bw=({user:r})=>{const i=Qr();return P.jsx("div",{children:P.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",top:"1.5rem",width:"94%",height:"10px",left:"3%"},children:r==null?P.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[P.jsx("button",{className:"login-button",onClick:()=>i("/login"),style:{borderRadius:"14px",boxShadow:"0 0 10px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(58, 53, 53, 0.9)",fontWeight:"700",fontSize:"1.2rem"},children:P.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.7)",color:"inherit"},children:"Login"})}),P.jsx("button",{className:"login-button",onClick:()=>i("/signup"),style:{borderRadius:"14px",boxShadow:"0 0 10px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(58, 53, 53, 0.9)",fontWeight:"700",fontSize:"1.2rem",alignSelf:"center"},children:P.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.7)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.7)",color:"inherit"},children:"Signup"})})]}):P.jsx("div",{children:P.jsx("button",{className:"login-button",onClick:()=>i("/logout"),style:{borderRadius:"14px",boxShadow:"0 0 10px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(58, 53, 53, 0.9)",fontWeight:"700",fontSize:"1.2rem"},children:P.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.7)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.7)",color:"inherit"},children:"Logout"})})})})})},rd=L.createContext({});function id(r){const i=L.useRef(null);return i.current===null&&(i.current=r()),i.current}const sd=typeof window<"u",pg=sd?L.useLayoutEffect:L.useEffect,Nu=L.createContext(null),od=L.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class Fw extends L.Component{getSnapshotBeforeUpdate(i){const s=this.props.childRef.current;if(s&&i.isPresent&&!this.props.isPresent){const c=s.offsetParent,h=c instanceof HTMLElement&&c.offsetWidth||0,p=this.props.sizeRef.current;p.height=s.offsetHeight||0,p.width=s.offsetWidth||0,p.top=s.offsetTop,p.left=s.offsetLeft,p.right=h-p.width-p.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jw({children:r,isPresent:i,anchorX:s}){const c=L.useId(),h=L.useRef(null),p=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:w}=L.useContext(od);return L.useInsertionEffect(()=>{const{width:E,height:C,top:x,left:S,right:I}=p.current;if(i||!h.current||!E||!C)return;const N=s==="left"?`left: ${S}`:`right: ${I}`;h.current.dataset.motionPopId=c;const O=document.createElement("style");return w&&(O.nonce=w),document.head.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${C}px !important;
            ${N}px !important;
            top: ${x}px !important;
          }
        `),()=>{document.head.removeChild(O)}},[i]),P.jsx(Fw,{isPresent:i,childRef:h,sizeRef:p,children:L.cloneElement(r,{ref:h})})}const Uw=({children:r,initial:i,isPresent:s,onExitComplete:c,custom:h,presenceAffectsLayout:p,mode:w,anchorX:E})=>{const C=id(zw),x=L.useId(),S=L.useCallback(N=>{C.set(N,!0);for(const O of C.values())if(!O)return;c&&c()},[C,c]),I=L.useMemo(()=>({id:x,initial:i,isPresent:s,custom:h,onExitComplete:S,register:N=>(C.set(N,!1),()=>C.delete(N))}),p?[Math.random(),S]:[s,S]);return L.useMemo(()=>{C.forEach((N,O)=>C.set(O,!1))},[s]),L.useEffect(()=>{!s&&!C.size&&c&&c()},[s]),w==="popLayout"&&(r=P.jsx(jw,{isPresent:s,anchorX:E,children:r})),P.jsx(Nu.Provider,{value:I,children:r})};function zw(){return new Map}function gg(r=!0){const i=L.useContext(Nu);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:c,register:h}=i,p=L.useId();L.useEffect(()=>{if(r)return h(p)},[r]);const w=L.useCallback(()=>r&&c&&c(p),[p,c,r]);return!s&&c?[!1,w]:[!0]}const su=r=>r.key||"";function y1(r){const i=[];return L.Children.forEach(r,s=>{L.isValidElement(s)&&i.push(s)}),i}const w1=({children:r,custom:i,initial:s=!0,onExitComplete:c,presenceAffectsLayout:h=!0,mode:p="sync",propagate:w=!1,anchorX:E="left"})=>{const[C,x]=gg(w),S=L.useMemo(()=>y1(r),[r]),I=w&&!C?[]:S.map(su),N=L.useRef(!0),O=L.useRef(S),k=id(()=>new Map),[B,F]=L.useState(S),[z,H]=L.useState(S);pg(()=>{N.current=!1,O.current=S;for(let le=0;le<z.length;le++){const ce=su(z[le]);I.includes(ce)?k.delete(ce):k.get(ce)!==!0&&k.set(ce,!1)}},[z,I.length,I.join("-")]);const V=[];if(S!==B){let le=[...S];for(let ce=0;ce<z.length;ce++){const $=z[ce],ue=su($);I.includes(ue)||(le.splice(ce,0,$),V.push($))}return p==="wait"&&V.length&&(le=V),H(y1(le)),F(S),null}const{forceRender:te}=L.useContext(rd);return P.jsx(P.Fragment,{children:z.map(le=>{const ce=su(le),$=w&&!C?!1:S===z||I.includes(ce),ue=()=>{if(k.has(ce))k.set(ce,!0);else return;let ee=!0;k.forEach(Oe=>{Oe||(ee=!1)}),ee&&(te==null||te(),H(O.current),w&&(x==null||x()),c&&c())};return P.jsx(Uw,{isPresent:$,initial:!N.current||s?void 0:!1,custom:i,presenceAffectsLayout:h,mode:p,onExitComplete:$?void 0:ue,anchorX:E,children:le},ce)})})};function ad(r,i){r.indexOf(i)===-1&&r.push(i)}function ld(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}let mg=()=>{};const Vw={useManualTiming:!1};function ud(r){let i;return()=>(i===void 0&&(i=r()),i)}const Fr=r=>r,Oa=(r,i,s)=>{const c=i-r;return c===0?1:(s-r)/c};class cd{constructor(){this.subscriptions=[]}add(i){return ad(this.subscriptions,i),()=>ld(this.subscriptions,i)}notify(i,s,c){const h=this.subscriptions.length;if(h)if(h===1)this.subscriptions[0](i,s,c);else for(let p=0;p<h;p++){const w=this.subscriptions[p];w&&w(i,s,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const oi=r=>r*1e3,ai=r=>r/1e3;function xg(r,i){return i?r*(1e3/i):0}const Ww=ud(()=>window.ScrollTimeline!==void 0);class Hw{constructor(i){this.stop=()=>this.runAll("stop"),this.animations=i.filter(Boolean)}get finished(){return Promise.all(this.animations.map(i=>i.finished))}getAll(i){return this.animations[0][i]}setAll(i,s){for(let c=0;c<this.animations.length;c++)this.animations[c][i]=s}attachTimeline(i,s){const c=this.animations.map(h=>{if(Ww()&&h.attachTimeline)return h.attachTimeline(i);if(typeof s=="function")return s(h)});return()=>{c.forEach((h,p)=>{h&&h(),this.animations[p].stop()})}}get time(){return this.getAll("time")}set time(i){this.setAll("time",i)}get speed(){return this.getAll("speed")}set speed(i){this.setAll("speed",i)}get startTime(){return this.getAll("startTime")}get duration(){let i=0;for(let s=0;s<this.animations.length;s++)i=Math.max(i,this.animations[s].duration);return i}runAll(i){this.animations.forEach(s=>s[i]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Gw extends Hw{then(i,s){return this.finished.finally(i).then(()=>{})}}const C1={value:null},fd=r=>Array.isArray(r)&&typeof r[0]=="number",Yw={};function Xw(r,i){const s=ud(r);return()=>Yw[i]??s()}const Pa=Xw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yg=(r,i,s=10)=>{let c="";const h=Math.max(Math.round(i/s),2);for(let p=0;p<h;p++)c+=r(p/(h-1))+", ";return`linear(${c.substring(0,c.length-2)})`},Ia=([r,i,s,c])=>`cubic-bezier(${r}, ${i}, ${s}, ${c})`,Nf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ia([0,.65,.55,1]),circOut:Ia([.55,0,1,.45]),backIn:Ia([.31,.01,.66,-.59]),backOut:Ia([.33,1.53,.69,.99])};function wg(r,i){if(r)return typeof r=="function"&&Pa()?yg(r,i):fd(r)?Ia(r):Array.isArray(r)?r.map(s=>wg(s,i)||Nf.easeOut):Nf[r]}function Zw(r,i,s,{delay:c=0,duration:h=300,repeat:p=0,repeatType:w="loop",ease:E="easeInOut",times:C}={},x=void 0){const S={[i]:s};C&&(S.offset=C);const I=wg(E,h);return Array.isArray(I)&&(S.easing=I),r.animate(S,{delay:c,duration:h,easing:Array.isArray(I)?"linear":I,fill:"both",iterations:p+1,direction:w==="reverse"?"alternate":"normal",pseudoElement:x})}function dd(r){return typeof r=="function"&&"applyToOptions"in r}function hd(r,i){return(r==null?void 0:r[i])??(r==null?void 0:r.default)??r}const xu=2e4;function pd(r){let i=0;const s=50;let c=r.next(i);for(;!c.done&&i<xu;)i+=s,c=r.next(i);return i>=xu?1/0:i}function Kw(r,i=100,s){const c=s({...r,keyframes:[0,i]}),h=Math.min(pd(c),xu);return{type:"keyframes",ease:p=>c.next(h*p).value/i,duration:ai(h)}}function Cg(r){return!!(typeof r=="function"&&Pa()||!r||typeof r=="string"&&(r in Nf||Pa())||fd(r)||Array.isArray(r)&&r.every(Cg))}function v1(r,i){r.timeline=i,r.onfinish=null}const ou=["read","resolveKeyframes","update","preRender","render","postRender"];function Qw(r,i){let s=new Set,c=new Set,h=!1,p=!1;const w=new WeakSet;let E={delta:0,timestamp:0,isProcessing:!1},C=0;function x(I){w.has(I)&&(S.schedule(I),r()),C++,I(E)}const S={schedule:(I,N=!1,O=!1)=>{const B=O&&h?s:c;return N&&w.add(I),B.has(I)||B.add(I),I},cancel:I=>{c.delete(I),w.delete(I)},process:I=>{if(E=I,h){p=!0;return}h=!0,[s,c]=[c,s],s.forEach(x),i&&C1.value&&C1.value.frameloop[i].push(C),C=0,s.clear(),h=!1,p&&(p=!1,S.process(I))}};return S}const $w=40;function vg(r,i){let s=!1,c=!0;const h={delta:0,timestamp:0,isProcessing:!1},p=()=>s=!0,w=ou.reduce((z,H)=>(z[H]=Qw(p,i?H:void 0),z),{}),{read:E,resolveKeyframes:C,update:x,preRender:S,render:I,postRender:N}=w,O=()=>{const z=performance.now();s=!1,h.delta=c?1e3/60:Math.max(Math.min(z-h.timestamp,$w),1),h.timestamp=z,h.isProcessing=!0,E.process(h),C.process(h),x.process(h),S.process(h),I.process(h),N.process(h),h.isProcessing=!1,s&&i&&(c=!1,r(O))},k=()=>{s=!0,c=!0,h.isProcessing||r(O)};return{schedule:ou.reduce((z,H)=>{const V=w[H];return z[H]=(te,le=!1,ce=!1)=>(s||k(),V.schedule(te,le,ce)),z},{}),cancel:z=>{for(let H=0;H<ou.length;H++)w[ou[H]].cancel(z)},state:h,steps:w}}const{schedule:Ut,cancel:us,state:Fn,steps:df}=vg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fr,!0),{schedule:gd}=vg(queueMicrotask,!1);let fu;function qw(){fu=void 0}const li={now:()=>(fu===void 0&&li.set(Fn.isProcessing||Vw.useManualTiming?Fn.timestamp:performance.now()),fu),set:r=>{fu=r,queueMicrotask(qw)}},Zr={x:!1,y:!1};function Eg(){return Zr.x||Zr.y}function Jw(r){return r==="x"||r==="y"?Zr[r]?null:(Zr[r]=!0,()=>{Zr[r]=!1}):Zr.x||Zr.y?null:(Zr.x=Zr.y=!0,()=>{Zr.x=Zr.y=!1})}function eC(r,i,s){if(r instanceof EventTarget)return[r];if(typeof r=="string"){const h=document.querySelectorAll(r);return h?Array.from(h):[]}return Array.from(r)}function Ag(r,i){const s=eC(r),c=new AbortController,h={passive:!0,...i,signal:c.signal};return[s,h,()=>c.abort()]}function E1(r){return!(r.pointerType==="touch"||Eg())}function tC(r,i,s={}){const[c,h,p]=Ag(r,s),w=E=>{if(!E1(E))return;const{target:C}=E,x=i(C,E);if(typeof x!="function"||!C)return;const S=I=>{E1(I)&&(x(I),C.removeEventListener("pointerleave",S))};C.addEventListener("pointerleave",S,h)};return c.forEach(E=>{E.addEventListener("pointerenter",w,h)}),p}const Sg=(r,i)=>i?r===i?!0:Sg(r,i.parentElement):!1,md=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,nC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rC(r){return nC.has(r.tagName)||r.tabIndex!==-1}const ba=new WeakSet;function A1(r){return i=>{i.key==="Enter"&&r(i)}}function hf(r,i){r.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const iC=(r,i)=>{const s=r.currentTarget;if(!s)return;const c=A1(()=>{if(ba.has(s))return;hf(s,"down");const h=A1(()=>{hf(s,"up")}),p=()=>hf(s,"cancel");s.addEventListener("keyup",h,i),s.addEventListener("blur",p,i)});s.addEventListener("keydown",c,i),s.addEventListener("blur",()=>s.removeEventListener("keydown",c),i)};function S1(r){return md(r)&&!Eg()}function sC(r,i,s={}){const[c,h,p]=Ag(r,s),w=E=>{const C=E.currentTarget;if(!S1(E)||ba.has(C))return;ba.add(C);const x=i(C,E),S=(O,k)=>{window.removeEventListener("pointerup",I),window.removeEventListener("pointercancel",N),!(!S1(O)||!ba.has(C))&&(ba.delete(C),typeof x=="function"&&x(O,{success:k}))},I=O=>{S(O,C===window||C===document||s.useGlobalTarget||Sg(C,O.target))},N=O=>{S(O,!1)};window.addEventListener("pointerup",I,h),window.addEventListener("pointercancel",N,h)};return c.forEach(E=>{(s.useGlobalTarget?window:E).addEventListener("pointerdown",w,h),E instanceof HTMLElement&&(E.addEventListener("focus",x=>iC(x,h)),!rC(E)&&!E.hasAttribute("tabindex")&&(E.tabIndex=0))}),p}const T1=30,oC=r=>!isNaN(parseFloat(r));class aC{constructor(i,s={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(c,h=!0)=>{const p=li.now();this.updatedAt!==p&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(c),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),h&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.owner=s.owner}setCurrent(i){this.current=i,this.updatedAt=li.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=oC(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,s){this.events[i]||(this.events[i]=new cd);const c=this.events[i].add(s);return i==="change"?()=>{c(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,s){this.passiveEffect=i,this.stopPassiveEffect=s}set(i,s=!0){!s||!this.passiveEffect?this.updateAndNotify(i,s):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,s,c){this.set(s),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-c}jump(i,s=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>T1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,T1);return xg(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(i){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=i(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(r,i){return new aC(r,i)}const Tg=L.createContext({strict:!1}),I1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bo={};for(const r in I1)bo[r]={isEnabled:i=>I1[r].some(s=>!!i[s])};function lC(r){for(const i in r)bo[i]={...bo[i],...r[i]}}const uC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yu(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||uC.has(r)}let Ig=r=>!yu(r);function cC(r){r&&(Ig=i=>i.startsWith("on")?!yu(i):r(i))}try{cC(require("@emotion/is-prop-valid").default)}catch{}function fC(r,i,s){const c={};for(const h in r)h==="values"&&typeof r.values=="object"||(Ig(h)||s===!0&&yu(h)||!i&&!yu(h)||r.draggable&&h.startsWith("onDrag"))&&(c[h]=r[h]);return c}function dC(r){if(typeof Proxy>"u")return r;const i=new Map,s=(...c)=>r(...c);return new Proxy(s,{get:(c,h)=>h==="create"?r:(i.has(h)||i.set(h,r(h)),i.get(h))})}const Ru=L.createContext({});function Mu(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function ka(r){return typeof r=="string"||Array.isArray(r)}const xd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yd=["initial",...xd];function _u(r){return Mu(r.animate)||yd.some(i=>ka(r[i]))}function bg(r){return!!(_u(r)||r.variants)}function hC(r,i){if(_u(r)){const{initial:s,animate:c}=r;return{initial:s===!1||ka(s)?s:void 0,animate:ka(c)?c:void 0}}return r.inherit!==!1?i:{}}function pC(r){const{initial:i,animate:s}=hC(r,L.useContext(Ru));return L.useMemo(()=>({initial:i,animate:s}),[b1(i),b1(s)])}function b1(r){return Array.isArray(r)?r.join(" "):r}const gC=Symbol.for("motionComponentSymbol");function Co(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function mC(r,i,s){return L.useCallback(c=>{c&&r.onMount&&r.onMount(c),i&&(c?i.mount(c):i.unmount()),s&&(typeof s=="function"?s(c):Co(s)&&(s.current=c))},[i])}const wd=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xC="framerAppearId",Ng="data-"+wd(xC),Rg=L.createContext({});function yC(r,i,s,c,h){var B,F;const{visualElement:p}=L.useContext(Ru),w=L.useContext(Tg),E=L.useContext(Nu),C=L.useContext(od).reducedMotion,x=L.useRef(null);c=c||w.renderer,!x.current&&c&&(x.current=c(r,{visualState:i,parent:p,props:s,presenceContext:E,blockInitialAnimation:E?E.initial===!1:!1,reducedMotionConfig:C}));const S=x.current,I=L.useContext(Rg);S&&!S.projection&&h&&(S.type==="html"||S.type==="svg")&&wC(x.current,s,h,I);const N=L.useRef(!1);L.useInsertionEffect(()=>{S&&N.current&&S.update(s,E)});const O=s[Ng],k=L.useRef(!!O&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,O))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,O)));return pg(()=>{S&&(N.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),gd.render(S.render),k.current&&S.animationState&&S.animationState.animateChanges())}),L.useEffect(()=>{S&&(!k.current&&S.animationState&&S.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)==null||z.call(window,O)}),k.current=!1))}),S}function wC(r,i,s,c){const{layoutId:h,layout:p,drag:w,dragConstraints:E,layoutScroll:C,layoutRoot:x}=i;r.projection=new s(r.latestValues,i["data-framer-portal-id"]?void 0:Mg(r.parent)),r.projection.setOptions({layoutId:h,layout:p,alwaysMeasureLayout:!!w||E&&Co(E),visualElement:r,animationType:typeof p=="string"?p:"both",initialPromotionConfig:c,layoutScroll:C,layoutRoot:x})}function Mg(r){if(r)return r.options.allowProjection!==!1?r.projection:Mg(r.parent)}function CC({preloadedFeatures:r,createVisualElement:i,useRender:s,useVisualState:c,Component:h}){r&&lC(r);function p(E,C){let x;const S={...L.useContext(od),...E,layoutId:vC(E)},{isStatic:I}=S,N=pC(E),O=c(E,I);if(!I&&sd){EC();const k=AC(S);x=k.MeasureLayout,N.visualElement=yC(h,O,S,i,k.ProjectionNode)}return P.jsxs(Ru.Provider,{value:N,children:[x&&N.visualElement?P.jsx(x,{visualElement:N.visualElement,...S}):null,s(h,E,mC(O,N.visualElement,C),O,I,N.visualElement)]})}p.displayName=`motion.${typeof h=="string"?h:`create(${h.displayName??h.name??""})`}`;const w=L.forwardRef(p);return w[gC]=h,w}function vC({layoutId:r}){const i=L.useContext(rd).id;return i&&r!==void 0?i+"-"+r:r}function EC(r,i){L.useContext(Tg).strict}function AC(r){const{drag:i,layout:s}=bo;if(!i&&!s)return{};const c={...i,...s};return{MeasureLayout:i!=null&&i.isEnabled(r)||s!=null&&s.isEnabled(r)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}const _g=r=>i=>typeof i=="string"&&i.startsWith(r),Cd=_g("--"),SC=_g("var(--"),vd=r=>SC(r)?TC.test(r.split("/*")[0].trim()):!1,TC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ba={};function IC(r){for(const i in r)Ba[i]=r[i],Cd(i)&&(Ba[i].isCSSVariable=!0)}const _o=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(_o);function Dg(r,{layout:i,layoutId:s}){return Hs.has(r)||r.startsWith("origin")||(i||s!==void 0)&&(!!Ba[r]||r==="opacity")}const Kn=r=>!!(r&&r.getVelocity),Og=(r,i)=>i&&typeof r=="number"?i.transform(r):r,Di=(r,i,s)=>s>i?i:s<r?r:s,Do={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Fa={...Do,transform:r=>Di(0,1,r)},au={...Do,default:1},Ga=r=>({test:i=>typeof i=="string"&&i.endsWith(r)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${r}`}),os=Ga("deg"),ui=Ga("%"),qe=Ga("px"),bC=Ga("vh"),NC=Ga("vw"),N1={...ui,parse:r=>ui.parse(r)/100,transform:r=>ui.transform(r*100)},RC={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,radius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,backgroundPositionX:qe,backgroundPositionY:qe},MC={rotate:os,rotateX:os,rotateY:os,rotateZ:os,scale:au,scaleX:au,scaleY:au,scaleZ:au,skew:os,skewX:os,skewY:os,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:Fa,originX:N1,originY:N1,originZ:qe},R1={...Do,transform:Math.round},Ed={...RC,...MC,zIndex:R1,size:qe,fillOpacity:Fa,strokeOpacity:Fa,numOctaves:R1},_C={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DC=_o.length;function OC(r,i,s){let c="",h=!0;for(let p=0;p<DC;p++){const w=_o[p],E=r[w];if(E===void 0)continue;let C=!0;if(typeof E=="number"?C=E===(w.startsWith("scale")?1:0):C=parseFloat(E)===0,!C||s){const x=Og(E,Ed[w]);if(!C){h=!1;const S=_C[w]||w;c+=`${S}(${x}) `}s&&(i[w]=x)}}return c=c.trim(),s?c=s(i,h?"":c):h&&(c="none"),c}function Ad(r,i,s){const{style:c,vars:h,transformOrigin:p}=r;let w=!1,E=!1;for(const C in i){const x=i[C];if(Hs.has(C)){w=!0;continue}else if(Cd(C)){h[C]=x;continue}else{const S=Og(x,Ed[C]);C.startsWith("origin")?(E=!0,p[C]=S):c[C]=S}}if(i.transform||(w||s?c.transform=OC(i,r.transform,s):c.transform&&(c.transform="none")),E){const{originX:C="50%",originY:x="50%",originZ:S=0}=p;c.transformOrigin=`${C} ${x} ${S}`}}const Sd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Pg(r,i,s){for(const c in i)!Kn(i[c])&&!Dg(c,s)&&(r[c]=i[c])}function PC({transformTemplate:r},i){return L.useMemo(()=>{const s=Sd();return Ad(s,i,r),Object.assign({},s.vars,s.style)},[i])}function LC(r,i){const s=r.style||{},c={};return Pg(c,s,r),Object.assign(c,PC(r,i)),c}function kC(r,i){const s={},c=LC(r,i);return r.drag&&r.dragListener!==!1&&(s.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(s.tabIndex=0),s.style=c,s}const BC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Td(r){return typeof r!="string"||r.includes("-")?!1:!!(BC.indexOf(r)>-1||/[A-Z]/u.test(r))}const FC={offset:"stroke-dashoffset",array:"stroke-dasharray"},jC={offset:"strokeDashoffset",array:"strokeDasharray"};function UC(r,i,s=1,c=0,h=!0){r.pathLength=1;const p=h?FC:jC;r[p.offset]=qe.transform(-c);const w=qe.transform(i),E=qe.transform(s);r[p.array]=`${w} ${E}`}function M1(r,i,s){return typeof r=="string"?r:qe.transform(i+s*r)}function zC(r,i,s){const c=M1(i,r.x,r.width),h=M1(s,r.y,r.height);return`${c} ${h}`}function Id(r,{attrX:i,attrY:s,attrScale:c,originX:h,originY:p,pathLength:w,pathSpacing:E=1,pathOffset:C=0,...x},S,I){if(Ad(r,x,I),S){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:N,style:O,dimensions:k}=r;N.transform&&(k&&(O.transform=N.transform),delete N.transform),k&&(h!==void 0||p!==void 0||O.transform)&&(O.transformOrigin=zC(k,h!==void 0?h:.5,p!==void 0?p:.5)),i!==void 0&&(N.x=i),s!==void 0&&(N.y=s),c!==void 0&&(N.scale=c),w!==void 0&&UC(N,w,E,C,!1)}const Lg=()=>({...Sd(),attrs:{}}),bd=r=>typeof r=="string"&&r.toLowerCase()==="svg";function VC(r,i,s,c){const h=L.useMemo(()=>{const p=Lg();return Id(p,i,bd(c),r.transformTemplate),{...p.attrs,style:{...p.style}}},[i]);if(r.style){const p={};Pg(p,r.style,r),h.style={...p,...h.style}}return h}function WC(r=!1){return(s,c,h,{latestValues:p},w)=>{const C=(Td(s)?VC:kC)(c,p,w,s),x=fC(c,typeof s=="string",r),S=s!==L.Fragment?{...x,...C,ref:h}:{},{children:I}=c,N=L.useMemo(()=>Kn(I)?I.get():I,[I]);return L.createElement(s,{...S,children:N})}}function _1(r){const i=[{},{}];return r==null||r.values.forEach((s,c)=>{i[0][c]=s.get(),i[1][c]=s.getVelocity()}),i}function Nd(r,i,s,c){if(typeof i=="function"){const[h,p]=_1(c);i=i(s!==void 0?s:r.custom,h,p)}if(typeof i=="string"&&(i=r.variants&&r.variants[i]),typeof i=="function"){const[h,p]=_1(c);i=i(s!==void 0?s:r.custom,h,p)}return i}const Rf=r=>Array.isArray(r),HC=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),GC=r=>Rf(r)?r[r.length-1]||0:r;function du(r){const i=Kn(r)?r.get():r;return HC(i)?i.toValue():i}function YC({scrapeMotionValuesFromProps:r,createRenderState:i,onUpdate:s},c,h,p){const w={latestValues:XC(c,h,p,r),renderState:i()};return s&&(w.onMount=E=>s({props:c,current:E,...w}),w.onUpdate=E=>s(E)),w}const kg=r=>(i,s)=>{const c=L.useContext(Ru),h=L.useContext(Nu),p=()=>YC(r,i,c,h);return s?p():id(p)};function XC(r,i,s,c){const h={},p=c(r,{});for(const N in p)h[N]=du(p[N]);let{initial:w,animate:E}=r;const C=_u(r),x=bg(r);i&&x&&!C&&r.inherit!==!1&&(w===void 0&&(w=i.initial),E===void 0&&(E=i.animate));let S=s?s.initial===!1:!1;S=S||w===!1;const I=S?E:w;if(I&&typeof I!="boolean"&&!Mu(I)){const N=Array.isArray(I)?I:[I];for(let O=0;O<N.length;O++){const k=Nd(r,N[O]);if(k){const{transitionEnd:B,transition:F,...z}=k;for(const H in z){let V=z[H];if(Array.isArray(V)){const te=S?V.length-1:0;V=V[te]}V!==null&&(h[H]=V)}for(const H in B)h[H]=B[H]}}}return h}function Rd(r,i,s){var p;const{style:c}=r,h={};for(const w in c)(Kn(c[w])||i.style&&Kn(i.style[w])||Dg(w,r)||((p=s==null?void 0:s.getValue(w))==null?void 0:p.liveStyle)!==void 0)&&(h[w]=c[w]);return h}const ZC={useVisualState:kg({scrapeMotionValuesFromProps:Rd,createRenderState:Sd})};function Bg(r,i){try{i.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}function Fg(r,{style:i,vars:s},c,h){Object.assign(r.style,i,h&&h.getProjectionStyles(c));for(const p in s)r.style.setProperty(p,s[p])}const jg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ug(r,i,s,c){Fg(r,i,void 0,c);for(const h in i.attrs)r.setAttribute(jg.has(h)?h:wd(h),i.attrs[h])}function zg(r,i,s){const c=Rd(r,i,s);for(const h in r)if(Kn(r[h])||Kn(i[h])){const p=_o.indexOf(h)!==-1?"attr"+h.charAt(0).toUpperCase()+h.substring(1):h;c[p]=r[h]}return c}const D1=["x","y","width","height","cx","cy","r"],KC={useVisualState:kg({scrapeMotionValuesFromProps:zg,createRenderState:Lg,onUpdate:({props:r,prevProps:i,current:s,renderState:c,latestValues:h})=>{if(!s)return;let p=!!r.drag;if(!p){for(const E in h)if(Hs.has(E)){p=!0;break}}if(!p)return;let w=!i;if(i)for(let E=0;E<D1.length;E++){const C=D1[E];r[C]!==i[C]&&(w=!0)}w&&Ut.read(()=>{Bg(s,c),Ut.render(()=>{Id(c,h,bd(s.tagName),r.transformTemplate),Ug(s,c)})})}})};function QC(r,i){return function(c,{forwardMotionProps:h}={forwardMotionProps:!1}){const w={...Td(c)?KC:ZC,preloadedFeatures:r,useRender:WC(h),createVisualElement:i,Component:c};return CC(w)}}function ja(r,i,s){const c=r.getProps();return Nd(c,i,s!==void 0?s:c.custom,r)}const Vg=new Set(["width","height","top","left","right","bottom",..._o]);function $C(r,i,s){r.hasValue(i)?r.getValue(i).set(s):r.addValue(i,La(s))}function qC(r,i){const s=ja(r,i);let{transitionEnd:c={},transition:h={},...p}=s||{};p={...p,...c};for(const w in p){const E=GC(p[w]);$C(r,w,E)}}function JC(r){return!!(Kn(r)&&r.add)}function Mf(r,i){const s=r.getValue("willChange");if(JC(s))return s.add(i)}function Wg(r){return r.props[Ng]}const Hg=(r,i,s)=>(((1-3*s+3*i)*r+(3*s-6*i))*r+3*i)*r,ev=1e-7,tv=12;function nv(r,i,s,c,h){let p,w,E=0;do w=i+(s-i)/2,p=Hg(w,c,h)-r,p>0?s=w:i=w;while(Math.abs(p)>ev&&++E<tv);return w}function Ya(r,i,s,c){if(r===i&&s===c)return Fr;const h=p=>nv(p,0,1,r,s);return p=>p===0||p===1?p:Hg(h(p),i,c)}const Gg=r=>i=>i<=.5?r(2*i)/2:(2-r(2*(1-i)))/2,Yg=r=>i=>1-r(1-i),Xg=Ya(.33,1.53,.69,.99),Md=Yg(Xg),Zg=Gg(Md),Kg=r=>(r*=2)<1?.5*Md(r):.5*(2-Math.pow(2,-10*(r-1))),_d=r=>1-Math.sin(Math.acos(r)),Qg=Yg(_d),$g=Gg(_d),qg=r=>/^0[^.\s]+$/u.test(r);function rv(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||qg(r):!0}const Na=r=>Math.round(r*1e5)/1e5,Dd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iv(r){return r==null}const sv=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Od=(r,i)=>s=>!!(typeof s=="string"&&sv.test(s)&&s.startsWith(r)||i&&!iv(s)&&Object.prototype.hasOwnProperty.call(s,i)),Jg=(r,i,s)=>c=>{if(typeof c!="string")return c;const[h,p,w,E]=c.match(Dd);return{[r]:parseFloat(h),[i]:parseFloat(p),[s]:parseFloat(w),alpha:E!==void 0?parseFloat(E):1}},ov=r=>Di(0,255,r),pf={...Do,transform:r=>Math.round(ov(r))},Us={test:Od("rgb","red"),parse:Jg("red","green","blue"),transform:({red:r,green:i,blue:s,alpha:c=1})=>"rgba("+pf.transform(r)+", "+pf.transform(i)+", "+pf.transform(s)+", "+Na(Fa.transform(c))+")"};function av(r){let i="",s="",c="",h="";return r.length>5?(i=r.substring(1,3),s=r.substring(3,5),c=r.substring(5,7),h=r.substring(7,9)):(i=r.substring(1,2),s=r.substring(2,3),c=r.substring(3,4),h=r.substring(4,5),i+=i,s+=s,c+=c,h+=h),{red:parseInt(i,16),green:parseInt(s,16),blue:parseInt(c,16),alpha:h?parseInt(h,16)/255:1}}const _f={test:Od("#"),parse:av,transform:Us.transform},vo={test:Od("hsl","hue"),parse:Jg("hue","saturation","lightness"),transform:({hue:r,saturation:i,lightness:s,alpha:c=1})=>"hsla("+Math.round(r)+", "+ui.transform(Na(i))+", "+ui.transform(Na(s))+", "+Na(Fa.transform(c))+")"},Zn={test:r=>Us.test(r)||_f.test(r)||vo.test(r),parse:r=>Us.test(r)?Us.parse(r):vo.test(r)?vo.parse(r):_f.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Us.transform(r):vo.transform(r)},lv=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uv(r){var i,s;return isNaN(r)&&typeof r=="string"&&(((i=r.match(Dd))==null?void 0:i.length)||0)+(((s=r.match(lv))==null?void 0:s.length)||0)>0}const em="number",tm="color",cv="var",fv="var(",O1="${}",dv=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ua(r){const i=r.toString(),s=[],c={color:[],number:[],var:[]},h=[];let p=0;const E=i.replace(dv,C=>(Zn.test(C)?(c.color.push(p),h.push(tm),s.push(Zn.parse(C))):C.startsWith(fv)?(c.var.push(p),h.push(cv),s.push(C)):(c.number.push(p),h.push(em),s.push(parseFloat(C))),++p,O1)).split(O1);return{values:s,split:E,indexes:c,types:h}}function nm(r){return Ua(r).values}function rm(r){const{split:i,types:s}=Ua(r),c=i.length;return h=>{let p="";for(let w=0;w<c;w++)if(p+=i[w],h[w]!==void 0){const E=s[w];E===em?p+=Na(h[w]):E===tm?p+=Zn.transform(h[w]):p+=h[w]}return p}}const hv=r=>typeof r=="number"?0:r;function pv(r){const i=nm(r);return rm(r)(i.map(hv))}const cs={test:uv,parse:nm,createTransformer:rm,getAnimatableNone:pv},gv=new Set(["brightness","contrast","saturate","opacity"]);function mv(r){const[i,s]=r.slice(0,-1).split("(");if(i==="drop-shadow")return r;const[c]=s.match(Dd)||[];if(!c)return r;const h=s.replace(c,"");let p=gv.has(i)?1:0;return c!==s&&(p*=100),i+"("+p+h+")"}const xv=/\b([a-z-]*)\(.*?\)/gu,Df={...cs,getAnimatableNone:r=>{const i=r.match(xv);return i?i.map(mv).join(" "):r}},yv={...Ed,color:Zn,backgroundColor:Zn,outlineColor:Zn,fill:Zn,stroke:Zn,borderColor:Zn,borderTopColor:Zn,borderRightColor:Zn,borderBottomColor:Zn,borderLeftColor:Zn,filter:Df,WebkitFilter:Df},im=r=>yv[r];function sm(r,i){let s=im(r);return s!==Df&&(s=cs),s.getAnimatableNone?s.getAnimatableNone(i):void 0}const wv=new Set(["auto","none","0"]);function Cv(r,i,s){let c=0,h;for(;c<r.length&&!h;){const p=r[c];typeof p=="string"&&!wv.has(p)&&Ua(p).values.length&&(h=r[c]),c++}if(h&&s)for(const p of i)r[p]=sm(s,h)}const zs=r=>r*180/Math.PI,Of=r=>{const i=zs(Math.atan2(r[1],r[0]));return Pf(i)},vv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Of,rotateZ:Of,skewX:r=>zs(Math.atan(r[1])),skewY:r=>zs(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Pf=r=>(r=r%360,r<0&&(r+=360),r),P1=Of,L1=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),k1=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),Ev={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:L1,scaleY:k1,scale:r=>(L1(r)+k1(r))/2,rotateX:r=>Pf(zs(Math.atan2(r[6],r[5]))),rotateY:r=>Pf(zs(Math.atan2(-r[2],r[0]))),rotateZ:P1,rotate:P1,skewX:r=>zs(Math.atan(r[4])),skewY:r=>zs(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function B1(r){return r.includes("scale")?1:0}function Lf(r,i){if(!r||r==="none")return B1(i);const s=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let c,h;if(s)c=Ev,h=s;else{const E=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);c=vv,h=E}if(!h)return B1(i);const p=c[i],w=h[1].split(",").map(Sv);return typeof p=="function"?p(w):w[p]}const Av=(r,i)=>{const{transform:s="none"}=getComputedStyle(r);return Lf(s,i)};function Sv(r){return parseFloat(r.trim())}const F1=r=>r===Do||r===qe,Tv=new Set(["x","y","z"]),Iv=_o.filter(r=>!Tv.has(r));function bv(r){const i=[];return Iv.forEach(s=>{const c=r.getValue(s);c!==void 0&&(i.push([s,c.get()]),c.set(s.startsWith("scale")?1:0))}),i}const No={width:({x:r},{paddingLeft:i="0",paddingRight:s="0"})=>r.max-r.min-parseFloat(i)-parseFloat(s),height:({y:r},{paddingTop:i="0",paddingBottom:s="0"})=>r.max-r.min-parseFloat(i)-parseFloat(s),top:(r,{top:i})=>parseFloat(i),left:(r,{left:i})=>parseFloat(i),bottom:({y:r},{top:i})=>parseFloat(i)+(r.max-r.min),right:({x:r},{left:i})=>parseFloat(i)+(r.max-r.min),x:(r,{transform:i})=>Lf(i,"x"),y:(r,{transform:i})=>Lf(i,"y")};No.translateX=No.x;No.translateY=No.y;const Vs=new Set;let kf=!1,Bf=!1;function om(){if(Bf){const r=Array.from(Vs).filter(c=>c.needsMeasurement),i=new Set(r.map(c=>c.element)),s=new Map;i.forEach(c=>{const h=bv(c);h.length&&(s.set(c,h),c.render())}),r.forEach(c=>c.measureInitialState()),i.forEach(c=>{c.render();const h=s.get(c);h&&h.forEach(([p,w])=>{var E;(E=c.getValue(p))==null||E.set(w)})}),r.forEach(c=>c.measureEndState()),r.forEach(c=>{c.suspendedScrollY!==void 0&&window.scrollTo(0,c.suspendedScrollY)})}Bf=!1,kf=!1,Vs.forEach(r=>r.complete()),Vs.clear()}function am(){Vs.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Bf=!0)})}function Nv(){am(),om()}class Pd{constructor(i,s,c,h,p,w=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=s,this.name=c,this.motionValue=h,this.element=p,this.isAsync=w}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vs.add(this),kf||(kf=!0,Ut.read(am),Ut.resolveKeyframes(om))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:s,element:c,motionValue:h}=this;for(let p=0;p<i.length;p++)if(i[p]===null)if(p===0){const w=h==null?void 0:h.get(),E=i[i.length-1];if(w!==void 0)i[0]=w;else if(c&&s){const C=c.readValue(s,E);C!=null&&(i[0]=C)}i[0]===void 0&&(i[0]=E),h&&w===void 0&&h.set(i[0])}else i[p]=i[p-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const lm=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),Rv=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Mv(r){const i=Rv.exec(r);if(!i)return[,];const[,s,c,h]=i;return[`--${s??c}`,h]}function um(r,i,s=1){const[c,h]=Mv(r);if(!c)return;const p=window.getComputedStyle(i).getPropertyValue(c);if(p){const w=p.trim();return lm(w)?parseFloat(w):w}return vd(h)?um(h,i,s+1):h}const cm=r=>i=>i.test(r),_v={test:r=>r==="auto",parse:r=>r},fm=[Do,qe,ui,os,NC,bC,_v],j1=r=>fm.find(cm(r));class dm extends Pd{constructor(i,s,c,h,p){super(i,s,c,h,p,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:s,name:c}=this;if(!s||!s.current)return;super.readKeyframes();for(let C=0;C<i.length;C++){let x=i[C];if(typeof x=="string"&&(x=x.trim(),vd(x))){const S=um(x,s.current);S!==void 0&&(i[C]=S),C===i.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!Vg.has(c)||i.length!==2)return;const[h,p]=i,w=j1(h),E=j1(p);if(w!==E)if(F1(w)&&F1(E))for(let C=0;C<i.length;C++){const x=i[C];typeof x=="string"&&(i[C]=parseFloat(x))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:s}=this,c=[];for(let h=0;h<i.length;h++)rv(i[h])&&c.push(h);c.length&&Cv(i,c,s)}measureInitialState(){const{element:i,unresolvedKeyframes:s,name:c}=this;if(!i||!i.current)return;c==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=No[c](i.measureViewportBox(),window.getComputedStyle(i.current)),s[0]=this.measuredOrigin;const h=s[s.length-1];h!==void 0&&i.getValue(c,h).jump(h,!1)}measureEndState(){var E;const{element:i,name:s,unresolvedKeyframes:c}=this;if(!i||!i.current)return;const h=i.getValue(s);h&&h.jump(this.measuredOrigin,!1);const p=c.length-1,w=c[p];c[p]=No[s](i.measureViewportBox(),window.getComputedStyle(i.current)),w!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=w),(E=this.removedTransforms)!=null&&E.length&&this.removedTransforms.forEach(([C,x])=>{i.getValue(C).set(x)}),this.resolveNoneKeyframes()}}const U1=(r,i)=>i==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(cs.test(r)||r==="0")&&!r.startsWith("url("));function Dv(r){const i=r[0];if(r.length===1)return!0;for(let s=0;s<r.length;s++)if(r[s]!==i)return!0}function Ov(r,i,s,c){const h=r[0];if(h===null)return!1;if(i==="display"||i==="visibility")return!0;const p=r[r.length-1],w=U1(h,i),E=U1(p,i);return!w||!E?!1:Dv(r)||(s==="spring"||dd(s))&&c}const Pv=r=>r!==null;function Du(r,{repeat:i,repeatType:s="loop"},c){const h=r.filter(Pv),p=i&&s!=="loop"&&i%2===1?0:h.length-1;return!p||c===void 0?h[p]:c}const Lv=40;class hm{constructor({autoplay:i=!0,delay:s=0,type:c="keyframes",repeat:h=0,repeatDelay:p=0,repeatType:w="loop",...E}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=li.now(),this.options={autoplay:i,delay:s,type:c,repeat:h,repeatDelay:p,repeatType:w,...E},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Lv?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Nv(),this._resolved}onKeyframesResolved(i,s){this.resolvedAt=li.now(),this.hasAttemptedResolve=!0;const{name:c,type:h,velocity:p,delay:w,onComplete:E,onUpdate:C,isGenerator:x}=this.options;if(!x&&!Ov(i,c,h,p))if(w)this.options.duration=0;else{C&&C(Du(i,this.options,s)),E&&E(),this.resolveFinishedPromise();return}const S=this.initPlayback(i,s);S!==!1&&(this._resolved={keyframes:i,finalKeyframe:s,...S},this.onPostResolved())}onPostResolved(){}then(i,s){return this.currentFinishedPromise.then(i,s)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}const Jt=(r,i,s)=>r+(i-r)*s;function gf(r,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(i-r)*6*s:s<1/2?i:s<2/3?r+(i-r)*(2/3-s)*6:r}function kv({hue:r,saturation:i,lightness:s,alpha:c}){r/=360,i/=100,s/=100;let h=0,p=0,w=0;if(!i)h=p=w=s;else{const E=s<.5?s*(1+i):s+i-s*i,C=2*s-E;h=gf(C,E,r+1/3),p=gf(C,E,r),w=gf(C,E,r-1/3)}return{red:Math.round(h*255),green:Math.round(p*255),blue:Math.round(w*255),alpha:c}}function wu(r,i){return s=>s>0?i:r}const mf=(r,i,s)=>{const c=r*r,h=s*(i*i-c)+c;return h<0?0:Math.sqrt(h)},Bv=[_f,Us,vo],Fv=r=>Bv.find(i=>i.test(r));function z1(r){const i=Fv(r);if(!i)return!1;let s=i.parse(r);return i===vo&&(s=kv(s)),s}const V1=(r,i)=>{const s=z1(r),c=z1(i);if(!s||!c)return wu(r,i);const h={...s};return p=>(h.red=mf(s.red,c.red,p),h.green=mf(s.green,c.green,p),h.blue=mf(s.blue,c.blue,p),h.alpha=Jt(s.alpha,c.alpha,p),Us.transform(h))},jv=(r,i)=>s=>i(r(s)),Xa=(...r)=>r.reduce(jv),Ff=new Set(["none","hidden"]);function Uv(r,i){return Ff.has(r)?s=>s<=0?r:i:s=>s>=1?i:r}function zv(r,i){return s=>Jt(r,i,s)}function Ld(r){return typeof r=="number"?zv:typeof r=="string"?vd(r)?wu:Zn.test(r)?V1:Hv:Array.isArray(r)?pm:typeof r=="object"?Zn.test(r)?V1:Vv:wu}function pm(r,i){const s=[...r],c=s.length,h=r.map((p,w)=>Ld(p)(p,i[w]));return p=>{for(let w=0;w<c;w++)s[w]=h[w](p);return s}}function Vv(r,i){const s={...r,...i},c={};for(const h in s)r[h]!==void 0&&i[h]!==void 0&&(c[h]=Ld(r[h])(r[h],i[h]));return h=>{for(const p in c)s[p]=c[p](h);return s}}function Wv(r,i){const s=[],c={color:0,var:0,number:0};for(let h=0;h<i.values.length;h++){const p=i.types[h],w=r.indexes[p][c[p]],E=r.values[w]??0;s[h]=E,c[p]++}return s}const Hv=(r,i)=>{const s=cs.createTransformer(i),c=Ua(r),h=Ua(i);return c.indexes.var.length===h.indexes.var.length&&c.indexes.color.length===h.indexes.color.length&&c.indexes.number.length>=h.indexes.number.length?Ff.has(r)&&!h.values.length||Ff.has(i)&&!c.values.length?Uv(r,i):Xa(pm(Wv(c,h),h.values),s):wu(r,i)};function gm(r,i,s){return typeof r=="number"&&typeof i=="number"&&typeof s=="number"?Jt(r,i,s):Ld(r)(r,i)}const Gv=5;function mm(r,i,s){const c=Math.max(i-Gv,0);return xg(s-r(c),i-c)}const an={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},W1=.001;function Yv({duration:r=an.duration,bounce:i=an.bounce,velocity:s=an.velocity,mass:c=an.mass}){let h,p,w=1-i;w=Di(an.minDamping,an.maxDamping,w),r=Di(an.minDuration,an.maxDuration,ai(r)),w<1?(h=x=>{const S=x*w,I=S*r,N=S-s,O=jf(x,w),k=Math.exp(-I);return W1-N/O*k},p=x=>{const I=x*w*r,N=I*s+s,O=Math.pow(w,2)*Math.pow(x,2)*r,k=Math.exp(-I),B=jf(Math.pow(x,2),w);return(-h(x)+W1>0?-1:1)*((N-O)*k)/B}):(h=x=>{const S=Math.exp(-x*r),I=(x-s)*r+1;return-.001+S*I},p=x=>{const S=Math.exp(-x*r),I=(s-x)*(r*r);return S*I});const E=5/r,C=Zv(h,p,E);if(r=oi(r),isNaN(C))return{stiffness:an.stiffness,damping:an.damping,duration:r};{const x=Math.pow(C,2)*c;return{stiffness:x,damping:w*2*Math.sqrt(c*x),duration:r}}}const Xv=12;function Zv(r,i,s){let c=s;for(let h=1;h<Xv;h++)c=c-r(c)/i(c);return c}function jf(r,i){return r*Math.sqrt(1-i*i)}const Kv=["duration","bounce"],Qv=["stiffness","damping","mass"];function H1(r,i){return i.some(s=>r[s]!==void 0)}function $v(r){let i={velocity:an.velocity,stiffness:an.stiffness,damping:an.damping,mass:an.mass,isResolvedFromDuration:!1,...r};if(!H1(r,Qv)&&H1(r,Kv))if(r.visualDuration){const s=r.visualDuration,c=2*Math.PI/(s*1.2),h=c*c,p=2*Di(.05,1,1-(r.bounce||0))*Math.sqrt(h);i={...i,mass:an.mass,stiffness:h,damping:p}}else{const s=Yv(r);i={...i,...s,mass:an.mass},i.isResolvedFromDuration=!0}return i}function Cu(r=an.visualDuration,i=an.bounce){const s=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:i}:r;let{restSpeed:c,restDelta:h}=s;const p=s.keyframes[0],w=s.keyframes[s.keyframes.length-1],E={done:!1,value:p},{stiffness:C,damping:x,mass:S,duration:I,velocity:N,isResolvedFromDuration:O}=$v({...s,velocity:-ai(s.velocity||0)}),k=N||0,B=x/(2*Math.sqrt(C*S)),F=w-p,z=ai(Math.sqrt(C/S)),H=Math.abs(F)<5;c||(c=H?an.restSpeed.granular:an.restSpeed.default),h||(h=H?an.restDelta.granular:an.restDelta.default);let V;if(B<1){const le=jf(z,B);V=ce=>{const $=Math.exp(-B*z*ce);return w-$*((k+B*z*F)/le*Math.sin(le*ce)+F*Math.cos(le*ce))}}else if(B===1)V=le=>w-Math.exp(-z*le)*(F+(k+z*F)*le);else{const le=z*Math.sqrt(B*B-1);V=ce=>{const $=Math.exp(-B*z*ce),ue=Math.min(le*ce,300);return w-$*((k+B*z*F)*Math.sinh(ue)+le*F*Math.cosh(ue))/le}}const te={calculatedDuration:O&&I||null,next:le=>{const ce=V(le);if(O)E.done=le>=I;else{let $=0;B<1&&($=le===0?oi(k):mm(V,le,ce));const ue=Math.abs($)<=c,ee=Math.abs(w-ce)<=h;E.done=ue&&ee}return E.value=E.done?w:ce,E},toString:()=>{const le=Math.min(pd(te),xu),ce=yg($=>te.next(le*$).value,le,30);return le+"ms "+ce},toTransition:()=>{}};return te}Cu.applyToOptions=r=>{const i=Kw(r,100,Cu);return r.ease=Pa()?i.ease:"easeOut",r.duration=oi(i.duration),r.type="keyframes",r};function G1({keyframes:r,velocity:i=0,power:s=.8,timeConstant:c=325,bounceDamping:h=10,bounceStiffness:p=500,modifyTarget:w,min:E,max:C,restDelta:x=.5,restSpeed:S}){const I=r[0],N={done:!1,value:I},O=ue=>E!==void 0&&ue<E||C!==void 0&&ue>C,k=ue=>E===void 0?C:C===void 0||Math.abs(E-ue)<Math.abs(C-ue)?E:C;let B=s*i;const F=I+B,z=w===void 0?F:w(F);z!==F&&(B=z-I);const H=ue=>-B*Math.exp(-ue/c),V=ue=>z+H(ue),te=ue=>{const ee=H(ue),Oe=V(ue);N.done=Math.abs(ee)<=x,N.value=N.done?z:Oe};let le,ce;const $=ue=>{O(N.value)&&(le=ue,ce=Cu({keyframes:[N.value,k(N.value)],velocity:mm(V,ue,N.value),damping:h,stiffness:p,restDelta:x,restSpeed:S}))};return $(0),{calculatedDuration:null,next:ue=>{let ee=!1;return!ce&&le===void 0&&(ee=!0,te(ue),$(ue)),le!==void 0&&ue>=le?ce.next(ue-le):(!ee&&te(ue),N)}}}const qv=Ya(.42,0,1,1),Jv=Ya(0,0,.58,1),xm=Ya(.42,0,.58,1),eE=r=>Array.isArray(r)&&typeof r[0]!="number",tE={linear:Fr,easeIn:qv,easeInOut:xm,easeOut:Jv,circIn:_d,circInOut:$g,circOut:Qg,backIn:Md,backInOut:Zg,backOut:Xg,anticipate:Kg},Y1=r=>{if(fd(r)){mg(r.length===4);const[i,s,c,h]=r;return Ya(i,s,c,h)}else if(typeof r=="string")return tE[r];return r};function nE(r,i,s){const c=[],h=s||gm,p=r.length-1;for(let w=0;w<p;w++){let E=h(r[w],r[w+1]);if(i){const C=Array.isArray(i)?i[w]||Fr:i;E=Xa(C,E)}c.push(E)}return c}function rE(r,i,{clamp:s=!0,ease:c,mixer:h}={}){const p=r.length;if(mg(p===i.length),p===1)return()=>i[0];if(p===2&&i[0]===i[1])return()=>i[1];const w=r[0]===r[1];r[0]>r[p-1]&&(r=[...r].reverse(),i=[...i].reverse());const E=nE(i,c,h),C=E.length,x=S=>{if(w&&S<r[0])return i[0];let I=0;if(C>1)for(;I<r.length-2&&!(S<r[I+1]);I++);const N=Oa(r[I],r[I+1],S);return E[I](N)};return s?S=>x(Di(r[0],r[p-1],S)):x}function iE(r,i){const s=r[r.length-1];for(let c=1;c<=i;c++){const h=Oa(0,i,c);r.push(Jt(s,1,h))}}function sE(r){const i=[0];return iE(i,r.length-1),i}function oE(r,i){return r.map(s=>s*i)}function aE(r,i){return r.map(()=>i||xm).splice(0,r.length-1)}function vu({duration:r=300,keyframes:i,times:s,ease:c="easeInOut"}){const h=eE(c)?c.map(Y1):Y1(c),p={done:!1,value:i[0]},w=oE(s&&s.length===i.length?s:sE(i),r),E=rE(w,i,{ease:Array.isArray(h)?h:aE(i,h)});return{calculatedDuration:r,next:C=>(p.value=E(C),p.done=C>=r,p)}}const lE=r=>{const i=({timestamp:s})=>r(s);return{start:()=>Ut.update(i,!0),stop:()=>us(i),now:()=>Fn.isProcessing?Fn.timestamp:li.now()}},uE={decay:G1,inertia:G1,tween:vu,keyframes:vu,spring:Cu},cE=r=>r/100;class kd extends hm{constructor(i){super(i),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:C}=this.options;C&&C()};const{name:s,motionValue:c,element:h,keyframes:p}=this.options,w=(h==null?void 0:h.KeyframeResolver)||Pd,E=(C,x)=>this.onKeyframesResolved(C,x);this.resolver=new w(p,E,s,c,h),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(i){const{type:s="keyframes",repeat:c=0,repeatDelay:h=0,repeatType:p,velocity:w=0}=this.options,E=dd(s)?s:uE[s]||vu;let C,x;E!==vu&&typeof i[0]!="number"&&(C=Xa(cE,gm(i[0],i[1])),i=[0,100]);const S=E({...this.options,keyframes:i});p==="mirror"&&(x=E({...this.options,keyframes:[...i].reverse(),velocity:-w})),S.calculatedDuration===null&&(S.calculatedDuration=pd(S));const{calculatedDuration:I}=S,N=I+h,O=N*(c+1)-h;return{generator:S,mirroredGenerator:x,mapPercentToKeyframes:C,calculatedDuration:I,resolvedDuration:N,totalDuration:O}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,s=!1){const{resolved:c}=this;if(!c){const{keyframes:ue}=this.options;return{done:!0,value:ue[ue.length-1]}}const{finalKeyframe:h,generator:p,mirroredGenerator:w,mapPercentToKeyframes:E,keyframes:C,calculatedDuration:x,totalDuration:S,resolvedDuration:I}=c;if(this.startTime===null)return p.next(0);const{delay:N,repeat:O,repeatType:k,repeatDelay:B,onUpdate:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-S/this.speed,this.startTime)),s?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const z=this.currentTime-N*(this.speed>=0?1:-1),H=this.speed>=0?z<0:z>S;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=S);let V=this.currentTime,te=p;if(O){const ue=Math.min(this.currentTime,S)/I;let ee=Math.floor(ue),Oe=ue%1;!Oe&&ue>=1&&(Oe=1),Oe===1&&ee--,ee=Math.min(ee,O+1),!!(ee%2)&&(k==="reverse"?(Oe=1-Oe,B&&(Oe-=B/I)):k==="mirror"&&(te=w)),V=Di(0,1,Oe)*I}const le=H?{done:!1,value:C[0]}:te.next(V);E&&(le.value=E(le.value));let{done:ce}=le;!H&&x!==null&&(ce=this.speed>=0?this.currentTime>=S:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return $&&h!==void 0&&(le.value=Du(C,this.options,h)),F&&F(le.value),$&&this.finish(),le}get duration(){const{resolved:i}=this;return i?ai(i.calculatedDuration):0}get time(){return ai(this.currentTime)}set time(i){i=oi(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const s=this.playbackSpeed!==i;this.playbackSpeed=i,s&&(this.time=ai(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=lE,onPlay:s,startTime:c}=this.options;this.driver||(this.driver=i(p=>this.tick(p))),s&&s();const h=this.driver.now();this.holdTime!==null?this.startTime=h-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=h):this.startTime=c??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}get finished(){return this.currentFinishedPromise}}const fE=new Set(["opacity","clipPath","filter","transform"]),dE=ud(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Eu=10,hE=2e4;function pE(r){return dd(r.type)||r.type==="spring"||!Cg(r.ease)}function gE(r,i){const s=new kd({...i,keyframes:r,repeat:0,delay:0,isGenerator:!0});let c={done:!1,value:r[0]};const h=[];let p=0;for(;!c.done&&p<hE;)c=s.sample(p),h.push(c.value),p+=Eu;return{times:void 0,keyframes:h,duration:p-Eu,ease:"linear"}}const ym={anticipate:Kg,backInOut:Zg,circInOut:$g};function mE(r){return r in ym}class X1 extends hm{constructor(i){super(i);const{name:s,motionValue:c,element:h,keyframes:p}=this.options;this.resolver=new dm(p,(w,E)=>this.onKeyframesResolved(w,E),s,c,h),this.resolver.scheduleResolve()}initPlayback(i,s){let{duration:c=300,times:h,ease:p,type:w,motionValue:E,name:C,startTime:x}=this.options;if(!E.owner||!E.owner.current)return!1;if(typeof p=="string"&&Pa()&&mE(p)&&(p=ym[p]),pE(this.options)){const{onComplete:I,onUpdate:N,motionValue:O,element:k,...B}=this.options,F=gE(i,B);i=F.keyframes,i.length===1&&(i[1]=i[0]),c=F.duration,h=F.times,p=F.ease,w="keyframes"}const S=Zw(E.owner.current,C,i,{...this.options,duration:c,times:h,ease:p});return S.startTime=x??this.calcStartTime(),this.pendingTimeline?(v1(S,this.pendingTimeline),this.pendingTimeline=void 0):S.onfinish=()=>{const{onComplete:I}=this.options;E.set(Du(i,this.options,s)),I&&I(),this.cancel(),this.resolveFinishedPromise()},{animation:S,duration:c,times:h,type:w,ease:p,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:s}=i;return ai(s)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:s}=i;return ai(s.currentTime||0)}set time(i){const{resolved:s}=this;if(!s)return;const{animation:c}=s;c.currentTime=oi(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:s}=i;return s.playbackRate}get finished(){return this.resolved.animation.finished}set speed(i){const{resolved:s}=this;if(!s)return;const{animation:c}=s;c.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:s}=i;return s.playState}get startTime(){const{resolved:i}=this;if(!i)return null;const{animation:s}=i;return s.startTime}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:s}=this;if(!s)return Fr;const{animation:c}=s;v1(c,i)}return Fr}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:i}=this;if(!i)return;const{animation:s,keyframes:c,duration:h,type:p,ease:w,times:E}=i;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:x,onUpdate:S,onComplete:I,element:N,...O}=this.options,k=new kd({...O,keyframes:c,duration:h,type:p,ease:w,times:E,isGenerator:!0}),B=oi(this.time);x.setWithVelocity(k.sample(B-Eu).value,k.sample(B).value,Eu)}const{onStop:C}=this.options;C&&C(),this.cancel()}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:s,name:c,repeatDelay:h,repeatType:p,damping:w,type:E}=i;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:C,transformTemplate:x}=s.owner.getProps();return dE()&&c&&fE.has(c)&&(c!=="transform"||!x)&&!C&&!h&&p!=="mirror"&&w!==0&&E!=="inertia"}}const xE={type:"spring",stiffness:500,damping:25,restSpeed:10},yE=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),wE={type:"keyframes",duration:.8},CE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vE=(r,{keyframes:i})=>i.length>2?wE:Hs.has(r)?r.startsWith("scale")?yE(i[1]):xE:CE;function EE({when:r,delay:i,delayChildren:s,staggerChildren:c,staggerDirection:h,repeat:p,repeatType:w,repeatDelay:E,from:C,elapsed:x,...S}){return!!Object.keys(S).length}const Bd=(r,i,s,c={},h,p)=>w=>{const E=hd(c,r)||{},C=E.delay||c.delay||0;let{elapsed:x=0}=c;x=x-oi(C);let S={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:i.getVelocity(),...E,delay:-x,onUpdate:N=>{i.set(N),E.onUpdate&&E.onUpdate(N)},onComplete:()=>{w(),E.onComplete&&E.onComplete()},name:r,motionValue:i,element:p?void 0:h};EE(E)||(S={...S,...vE(r,S)}),S.duration&&(S.duration=oi(S.duration)),S.repeatDelay&&(S.repeatDelay=oi(S.repeatDelay)),S.from!==void 0&&(S.keyframes[0]=S.from);let I=!1;if((S.type===!1||S.duration===0&&!S.repeatDelay)&&(S.duration=0,S.delay===0&&(I=!0)),S.allowFlatten=!E.type&&!E.ease,I&&!p&&i.get()!==void 0){const N=Du(S.keyframes,E);if(N!==void 0)return Ut.update(()=>{S.onUpdate(N),S.onComplete()}),new Gw([])}return!p&&X1.supports(S)?new X1(S):new kd(S)};function AE({protectedKeys:r,needsAnimating:i},s){const c=r.hasOwnProperty(s)&&i[s]!==!0;return i[s]=!1,c}function wm(r,i,{delay:s=0,transitionOverride:c,type:h}={}){let{transition:p=r.getDefaultTransition(),transitionEnd:w,...E}=i;c&&(p=c);const C=[],x=h&&r.animationState&&r.animationState.getState()[h];for(const S in E){const I=r.getValue(S,r.latestValues[S]??null),N=E[S];if(N===void 0||x&&AE(x,S))continue;const O={delay:s,...hd(p||{},S)};let k=!1;if(window.MotionHandoffAnimation){const F=Wg(r);if(F){const z=window.MotionHandoffAnimation(F,S,Ut);z!==null&&(O.startTime=z,k=!0)}}Mf(r,S),I.start(Bd(S,I,N,r.shouldReduceMotion&&Vg.has(S)?{type:!1}:O,r,k));const B=I.animation;B&&C.push(B)}return w&&Promise.all(C).then(()=>{Ut.update(()=>{w&&qC(r,w)})}),C}function Uf(r,i,s={}){var C;const c=ja(r,i,s.type==="exit"?(C=r.presenceContext)==null?void 0:C.custom:void 0);let{transition:h=r.getDefaultTransition()||{}}=c||{};s.transitionOverride&&(h=s.transitionOverride);const p=c?()=>Promise.all(wm(r,c,s)):()=>Promise.resolve(),w=r.variantChildren&&r.variantChildren.size?(x=0)=>{const{delayChildren:S=0,staggerChildren:I,staggerDirection:N}=h;return SE(r,i,S+x,I,N,s)}:()=>Promise.resolve(),{when:E}=h;if(E){const[x,S]=E==="beforeChildren"?[p,w]:[w,p];return x().then(()=>S())}else return Promise.all([p(),w(s.delay)])}function SE(r,i,s=0,c=0,h=1,p){const w=[],E=(r.variantChildren.size-1)*c,C=h===1?(x=0)=>x*c:(x=0)=>E-x*c;return Array.from(r.variantChildren).sort(TE).forEach((x,S)=>{x.notify("AnimationStart",i),w.push(Uf(x,i,{...p,delay:s+C(S)}).then(()=>x.notify("AnimationComplete",i)))}),Promise.all(w)}function TE(r,i){return r.sortNodePosition(i)}function IE(r,i,s={}){r.notify("AnimationStart",i);let c;if(Array.isArray(i)){const h=i.map(p=>Uf(r,p,s));c=Promise.all(h)}else if(typeof i=="string")c=Uf(r,i,s);else{const h=typeof i=="function"?ja(r,i,s.custom):i;c=Promise.all(wm(r,h,s))}return c.then(()=>{r.notify("AnimationComplete",i)})}function Cm(r,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==r.length)return!1;for(let c=0;c<s;c++)if(i[c]!==r[c])return!1;return!0}const bE=yd.length;function vm(r){if(!r)return;if(!r.isControllingVariants){const s=r.parent?vm(r.parent)||{}:{};return r.props.initial!==void 0&&(s.initial=r.props.initial),s}const i={};for(let s=0;s<bE;s++){const c=yd[s],h=r.props[c];(ka(h)||h===!1)&&(i[c]=h)}return i}const NE=[...xd].reverse(),RE=xd.length;function ME(r){return i=>Promise.all(i.map(({animation:s,options:c})=>IE(r,s,c)))}function _E(r){let i=ME(r),s=Z1(),c=!0;const h=C=>(x,S)=>{var N;const I=ja(r,S,C==="exit"?(N=r.presenceContext)==null?void 0:N.custom:void 0);if(I){const{transition:O,transitionEnd:k,...B}=I;x={...x,...B,...k}}return x};function p(C){i=C(r)}function w(C){const{props:x}=r,S=vm(r.parent)||{},I=[],N=new Set;let O={},k=1/0;for(let F=0;F<RE;F++){const z=NE[F],H=s[z],V=x[z]!==void 0?x[z]:S[z],te=ka(V),le=z===C?H.isActive:null;le===!1&&(k=F);let ce=V===S[z]&&V!==x[z]&&te;if(ce&&c&&r.manuallyAnimateOnMount&&(ce=!1),H.protectedKeys={...O},!H.isActive&&le===null||!V&&!H.prevProp||Mu(V)||typeof V=="boolean")continue;const $=DE(H.prevProp,V);let ue=$||z===C&&H.isActive&&!ce&&te||F>k&&te,ee=!1;const Oe=Array.isArray(V)?V:[V];let Be=Oe.reduce(h(z),{});le===!1&&(Be={});const{prevResolvedValues:Ie={}}=H,be={...Ie,...Be},Ve=me=>{ue=!0,N.has(me)&&(ee=!0,N.delete(me)),H.needsAnimating[me]=!0;const de=r.getValue(me);de&&(de.liveStyle=!1)};for(const me in be){const de=Be[me],Ee=Ie[me];if(O.hasOwnProperty(me))continue;let fe=!1;Rf(de)&&Rf(Ee)?fe=!Cm(de,Ee):fe=de!==Ee,fe?de!=null?Ve(me):N.add(me):de!==void 0&&N.has(me)?Ve(me):H.protectedKeys[me]=!0}H.prevProp=V,H.prevResolvedValues=Be,H.isActive&&(O={...O,...Be}),c&&r.blockInitialAnimation&&(ue=!1),ue&&(!(ce&&$)||ee)&&I.push(...Oe.map(me=>({animation:me,options:{type:z}})))}if(N.size){const F={};if(typeof x.initial!="boolean"){const z=ja(r,Array.isArray(x.initial)?x.initial[0]:x.initial);z&&z.transition&&(F.transition=z.transition)}N.forEach(z=>{const H=r.getBaseTarget(z),V=r.getValue(z);V&&(V.liveStyle=!0),F[z]=H??null}),I.push({animation:F})}let B=!!I.length;return c&&(x.initial===!1||x.initial===x.animate)&&!r.manuallyAnimateOnMount&&(B=!1),c=!1,B?i(I):Promise.resolve()}function E(C,x){var I;if(s[C].isActive===x)return Promise.resolve();(I=r.variantChildren)==null||I.forEach(N=>{var O;return(O=N.animationState)==null?void 0:O.setActive(C,x)}),s[C].isActive=x;const S=w(C);for(const N in s)s[N].protectedKeys={};return S}return{animateChanges:w,setActive:E,setAnimateFunction:p,getState:()=>s,reset:()=>{s=Z1(),c=!0}}}function DE(r,i){return typeof i=="string"?i!==r:Array.isArray(i)?!Cm(i,r):!1}function Fs(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z1(){return{animate:Fs(!0),whileInView:Fs(),whileHover:Fs(),whileTap:Fs(),whileDrag:Fs(),whileFocus:Fs(),exit:Fs()}}class fs{constructor(i){this.isMounted=!1,this.node=i}update(){}}class OE extends fs{constructor(i){super(i),i.animationState||(i.animationState=_E(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();Mu(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:s}=this.node.prevProps||{};i!==s&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let PE=0;class LE extends fs{constructor(){super(...arguments),this.id=PE++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:s}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===c)return;const h=this.node.animationState.setActive("exit",!i);s&&!i&&h.then(()=>{s(this.id)})}mount(){const{register:i,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const kE={animation:{Feature:OE},exit:{Feature:LE}};function za(r,i,s,c={passive:!0}){return r.addEventListener(i,s,c),()=>r.removeEventListener(i,s)}function Za(r){return{point:{x:r.pageX,y:r.pageY}}}const BE=r=>i=>md(i)&&r(i,Za(i));function Ra(r,i,s,c){return za(r,i,BE(s),c)}function Em({top:r,left:i,right:s,bottom:c}){return{x:{min:i,max:s},y:{min:r,max:c}}}function FE({x:r,y:i}){return{top:i.min,right:r.max,bottom:i.max,left:r.min}}function jE(r,i){if(!i)return r;const s=i({x:r.left,y:r.top}),c=i({x:r.right,y:r.bottom});return{top:s.y,left:s.x,bottom:c.y,right:c.x}}const Am=1e-4,UE=1-Am,zE=1+Am,Sm=.01,VE=0-Sm,WE=0+Sm;function Jn(r){return r.max-r.min}function HE(r,i,s){return Math.abs(r-i)<=s}function K1(r,i,s,c=.5){r.origin=c,r.originPoint=Jt(i.min,i.max,r.origin),r.scale=Jn(s)/Jn(i),r.translate=Jt(s.min,s.max,r.origin)-r.originPoint,(r.scale>=UE&&r.scale<=zE||isNaN(r.scale))&&(r.scale=1),(r.translate>=VE&&r.translate<=WE||isNaN(r.translate))&&(r.translate=0)}function Ma(r,i,s,c){K1(r.x,i.x,s.x,c?c.originX:void 0),K1(r.y,i.y,s.y,c?c.originY:void 0)}function Q1(r,i,s){r.min=s.min+i.min,r.max=r.min+Jn(i)}function GE(r,i,s){Q1(r.x,i.x,s.x),Q1(r.y,i.y,s.y)}function $1(r,i,s){r.min=i.min-s.min,r.max=r.min+Jn(i)}function _a(r,i,s){$1(r.x,i.x,s.x),$1(r.y,i.y,s.y)}const q1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eo=()=>({x:q1(),y:q1()}),J1=()=>({min:0,max:0}),hn=()=>({x:J1(),y:J1()});function Br(r){return[r("x"),r("y")]}function xf(r){return r===void 0||r===1}function zf({scale:r,scaleX:i,scaleY:s}){return!xf(r)||!xf(i)||!xf(s)}function js(r){return zf(r)||Tm(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function Tm(r){return ep(r.x)||ep(r.y)}function ep(r){return r&&r!=="0%"}function Au(r,i,s){const c=r-s,h=i*c;return s+h}function tp(r,i,s,c,h){return h!==void 0&&(r=Au(r,h,c)),Au(r,s,c)+i}function Vf(r,i=0,s=1,c,h){r.min=tp(r.min,i,s,c,h),r.max=tp(r.max,i,s,c,h)}function Im(r,{x:i,y:s}){Vf(r.x,i.translate,i.scale,i.originPoint),Vf(r.y,s.translate,s.scale,s.originPoint)}const np=.999999999999,rp=1.0000000000001;function YE(r,i,s,c=!1){const h=s.length;if(!h)return;i.x=i.y=1;let p,w;for(let E=0;E<h;E++){p=s[E],w=p.projectionDelta;const{visualElement:C}=p.options;C&&C.props.style&&C.props.style.display==="contents"||(c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&So(r,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),w&&(i.x*=w.x.scale,i.y*=w.y.scale,Im(r,w)),c&&js(p.latestValues)&&So(r,p.latestValues))}i.x<rp&&i.x>np&&(i.x=1),i.y<rp&&i.y>np&&(i.y=1)}function Ao(r,i){r.min=r.min+i,r.max=r.max+i}function ip(r,i,s,c,h=.5){const p=Jt(r.min,r.max,h);Vf(r,i,s,p,c)}function So(r,i){ip(r.x,i.x,i.scaleX,i.scale,i.originX),ip(r.y,i.y,i.scaleY,i.scale,i.originY)}function bm(r,i){return Em(jE(r.getBoundingClientRect(),i))}function XE(r,i,s){const c=bm(r,s),{scroll:h}=i;return h&&(Ao(c.x,h.offset.x),Ao(c.y,h.offset.y)),c}const Nm=({current:r})=>r?r.ownerDocument.defaultView:null,sp=(r,i)=>Math.abs(r-i);function ZE(r,i){const s=sp(r.x,i.x),c=sp(r.y,i.y);return Math.sqrt(s**2+c**2)}class Rm{constructor(i,s,{transformPagePoint:c,contextWindow:h,dragSnapToOrigin:p=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=wf(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,O=ZE(I.offset,{x:0,y:0})>=3;if(!N&&!O)return;const{point:k}=I,{timestamp:B}=Fn;this.history.push({...k,timestamp:B});const{onStart:F,onMove:z}=this.handlers;N||(F&&F(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,I)},this.handlePointerMove=(I,N)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=yf(N,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(I,N)=>{this.end();const{onEnd:O,onSessionEnd:k,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=wf(I.type==="pointercancel"?this.lastMoveEventInfo:yf(N,this.transformPagePoint),this.history);this.startEvent&&O&&O(I,F),k&&k(I,F)},!md(i))return;this.dragSnapToOrigin=p,this.handlers=s,this.transformPagePoint=c,this.contextWindow=h||window;const w=Za(i),E=yf(w,this.transformPagePoint),{point:C}=E,{timestamp:x}=Fn;this.history=[{...C,timestamp:x}];const{onSessionStart:S}=s;S&&S(i,wf(E,this.history)),this.removeListeners=Xa(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),us(this.updatePoint)}}function yf(r,i){return i?{point:i(r.point)}:r}function op(r,i){return{x:r.x-i.x,y:r.y-i.y}}function wf({point:r},i){return{point:r,delta:op(r,Mm(i)),offset:op(r,KE(i)),velocity:QE(i,.1)}}function KE(r){return r[0]}function Mm(r){return r[r.length-1]}function QE(r,i){if(r.length<2)return{x:0,y:0};let s=r.length-1,c=null;const h=Mm(r);for(;s>=0&&(c=r[s],!(h.timestamp-c.timestamp>oi(i)));)s--;if(!c)return{x:0,y:0};const p=ai(h.timestamp-c.timestamp);if(p===0)return{x:0,y:0};const w={x:(h.x-c.x)/p,y:(h.y-c.y)/p};return w.x===1/0&&(w.x=0),w.y===1/0&&(w.y=0),w}function $E(r,{min:i,max:s},c){return i!==void 0&&r<i?r=c?Jt(i,r,c.min):Math.max(r,i):s!==void 0&&r>s&&(r=c?Jt(s,r,c.max):Math.min(r,s)),r}function ap(r,i,s){return{min:i!==void 0?r.min+i:void 0,max:s!==void 0?r.max+s-(r.max-r.min):void 0}}function qE(r,{top:i,left:s,bottom:c,right:h}){return{x:ap(r.x,s,h),y:ap(r.y,i,c)}}function lp(r,i){let s=i.min-r.min,c=i.max-r.max;return i.max-i.min<r.max-r.min&&([s,c]=[c,s]),{min:s,max:c}}function JE(r,i){return{x:lp(r.x,i.x),y:lp(r.y,i.y)}}function e3(r,i){let s=.5;const c=Jn(r),h=Jn(i);return h>c?s=Oa(i.min,i.max-c,r.min):c>h&&(s=Oa(r.min,r.max-h,i.min)),Di(0,1,s)}function t3(r,i){const s={};return i.min!==void 0&&(s.min=i.min-r.min),i.max!==void 0&&(s.max=i.max-r.min),s}const Wf=.35;function n3(r=Wf){return r===!1?r=0:r===!0&&(r=Wf),{x:up(r,"left","right"),y:up(r,"top","bottom")}}function up(r,i,s){return{min:cp(r,i),max:cp(r,s)}}function cp(r,i){return typeof r=="number"?r:r[i]||0}const r3=new WeakMap;class i3{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=i}start(i,{snapToCursor:s=!1}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const h=S=>{const{dragSnapToOrigin:I}=this.getProps();I?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Za(S).point)},p=(S,I)=>{const{drag:N,dragPropagation:O,onDragStart:k}=this.getProps();if(N&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jw(N),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br(F=>{let z=this.getAxisMotionValue(F).get()||0;if(ui.test(z)){const{projection:H}=this.visualElement;if(H&&H.layout){const V=H.layout.layoutBox[F];V&&(z=Jn(V)*(parseFloat(z)/100))}}this.originPoint[F]=z}),k&&Ut.postRender(()=>k(S,I)),Mf(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},w=(S,I)=>{const{dragPropagation:N,dragDirectionLock:O,onDirectionLock:k,onDrag:B}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:F}=I;if(O&&this.currentDirection===null){this.currentDirection=s3(F),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",I.point,F),this.updateAxis("y",I.point,F),this.visualElement.render(),B&&B(S,I)},E=(S,I)=>this.stop(S,I),C=()=>Br(S=>{var I;return this.getAnimationState(S)==="paused"&&((I=this.getAxisMotionValue(S).animation)==null?void 0:I.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new Rm(i,{onSessionStart:h,onStart:p,onMove:w,onSessionEnd:E,resumeAnimation:C},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:Nm(this.visualElement)})}stop(i,s){const c=this.isDragging;if(this.cancel(),!c)return;const{velocity:h}=s;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p&&Ut.postRender(()=>p(i,s))}cancel(){this.isDragging=!1;const{projection:i,animationState:s}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(i,s,c){const{drag:h}=this.getProps();if(!c||!lu(i,h,this.currentDirection))return;const p=this.getAxisMotionValue(i);let w=this.originPoint[i]+c[i];this.constraints&&this.constraints[i]&&(w=$E(w,this.constraints[i],this.elastic[i])),p.set(w)}resolveConstraints(){var p;const{dragConstraints:i,dragElastic:s}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(p=this.visualElement.projection)==null?void 0:p.layout,h=this.constraints;i&&Co(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&c?this.constraints=qE(c.layoutBox,i):this.constraints=!1,this.elastic=n3(s),h!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&Br(w=>{this.constraints!==!1&&this.getAxisMotionValue(w)&&(this.constraints[w]=t3(c.layoutBox[w],this.constraints[w]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:s}=this.getProps();if(!i||!Co(i))return!1;const c=i.current,{projection:h}=this.visualElement;if(!h||!h.layout)return!1;const p=XE(c,h.root,this.visualElement.getTransformPagePoint());let w=JE(h.layout.layoutBox,p);if(s){const E=s(FE(w));this.hasMutatedConstraints=!!E,E&&(w=Em(E))}return w}startAnimation(i){const{drag:s,dragMomentum:c,dragElastic:h,dragTransition:p,dragSnapToOrigin:w,onDragTransitionEnd:E}=this.getProps(),C=this.constraints||{},x=Br(S=>{if(!lu(S,s,this.currentDirection))return;let I=C&&C[S]||{};w&&(I={min:0,max:0});const N=h?200:1e6,O=h?40:1e7,k={type:"inertia",velocity:c?i[S]:0,bounceStiffness:N,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...p,...I};return this.startAxisValueAnimation(S,k)});return Promise.all(x).then(E)}startAxisValueAnimation(i,s){const c=this.getAxisMotionValue(i);return Mf(this.visualElement,i),c.start(Bd(i,c,0,s,this.visualElement,!1))}stopAnimation(){Br(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){Br(i=>{var s;return(s=this.getAxisMotionValue(i).animation)==null?void 0:s.pause()})}getAnimationState(i){var s;return(s=this.getAxisMotionValue(i).animation)==null?void 0:s.state}getAxisMotionValue(i){const s=`_drag${i.toUpperCase()}`,c=this.visualElement.getProps(),h=c[s];return h||this.visualElement.getValue(i,(c.initial?c.initial[i]:void 0)||0)}snapToCursor(i){Br(s=>{const{drag:c}=this.getProps();if(!lu(s,c,this.currentDirection))return;const{projection:h}=this.visualElement,p=this.getAxisMotionValue(s);if(h&&h.layout){const{min:w,max:E}=h.layout.layoutBox[s];p.set(i[s]-Jt(w,E,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:s}=this.getProps(),{projection:c}=this.visualElement;if(!Co(s)||!c||!this.constraints)return;this.stopAnimation();const h={x:0,y:0};Br(w=>{const E=this.getAxisMotionValue(w);if(E&&this.constraints!==!1){const C=E.get();h[w]=e3({min:C,max:C},this.constraints[w])}});const{transformTemplate:p}=this.visualElement.getProps();this.visualElement.current.style.transform=p?p({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),Br(w=>{if(!lu(w,i,null))return;const E=this.getAxisMotionValue(w),{min:C,max:x}=this.constraints[w];E.set(Jt(C,x,h[w]))})}addListeners(){if(!this.visualElement.current)return;r3.set(this.visualElement,this);const i=this.visualElement.current,s=Ra(i,"pointerdown",C=>{const{drag:x,dragListener:S=!0}=this.getProps();x&&S&&this.start(C)}),c=()=>{const{dragConstraints:C}=this.getProps();Co(C)&&C.current&&(this.constraints=this.resolveRefConstraints())},{projection:h}=this.visualElement,p=h.addEventListener("measure",c);h&&!h.layout&&(h.root&&h.root.updateScroll(),h.updateLayout()),Ut.read(c);const w=za(window,"resize",()=>this.scalePositionWithinConstraints()),E=h.addEventListener("didUpdate",({delta:C,hasLayoutChanged:x})=>{this.isDragging&&x&&(Br(S=>{const I=this.getAxisMotionValue(S);I&&(this.originPoint[S]+=C[S].translate,I.set(I.get()+C[S].translate))}),this.visualElement.render())});return()=>{w(),s(),p(),E&&E()}}getProps(){const i=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:c=!1,dragPropagation:h=!1,dragConstraints:p=!1,dragElastic:w=Wf,dragMomentum:E=!0}=i;return{...i,drag:s,dragDirectionLock:c,dragPropagation:h,dragConstraints:p,dragElastic:w,dragMomentum:E}}}function lu(r,i,s){return(i===!0||i===r)&&(s===null||s===r)}function s3(r,i=10){let s=null;return Math.abs(r.y)>i?s="y":Math.abs(r.x)>i&&(s="x"),s}class o3 extends fs{constructor(i){super(i),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new i3(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const fp=r=>(i,s)=>{r&&Ut.postRender(()=>r(i,s))};class a3 extends fs{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(i){this.session=new Rm(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nm(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:s,onPan:c,onPanEnd:h}=this.node.getProps();return{onSessionStart:fp(i),onStart:fp(s),onMove:c,onEnd:(p,w)=>{delete this.session,h&&Ut.postRender(()=>h(p,w))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dp(r,i){return i.max===i.min?0:r/(i.max-i.min)*100}const Sa={correct:(r,i)=>{if(!i.target)return r;if(typeof r=="string")if(qe.test(r))r=parseFloat(r);else return r;const s=dp(r,i.target.x),c=dp(r,i.target.y);return`${s}% ${c}%`}},l3={correct:(r,{treeScale:i,projectionDelta:s})=>{const c=r,h=cs.parse(r);if(h.length>5)return c;const p=cs.createTransformer(r),w=typeof h[0]!="number"?1:0,E=s.x.scale*i.x,C=s.y.scale*i.y;h[0+w]/=E,h[1+w]/=C;const x=Jt(E,C,.5);return typeof h[2+w]=="number"&&(h[2+w]/=x),typeof h[3+w]=="number"&&(h[3+w]/=x),p(h)}};class u3 extends L.Component{componentDidMount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:c,layoutId:h}=this.props,{projection:p}=i;IC(c3),p&&(s.group&&s.group.add(p),c&&c.register&&h&&c.register(p),p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),hu.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:s,visualElement:c,drag:h,isPresent:p}=this.props,w=c.projection;return w&&(w.isPresent=p,h||i.layoutDependency!==s||s===void 0||i.isPresent!==p?w.willUpdate():this.safeToRemove(),i.isPresent!==p&&(p?w.promote():w.relegate()||Ut.postRender(()=>{const E=w.getStack();(!E||!E.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),gd.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:c}=this.props,{projection:h}=i;h&&(h.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(h),c&&c.deregister&&c.deregister(h))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function _m(r){const[i,s]=gg(),c=L.useContext(rd);return P.jsx(u3,{...r,layoutGroup:c,switchLayoutGroup:L.useContext(Rg),isPresent:i,safeToRemove:s})}const c3={borderRadius:{...Sa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sa,borderTopRightRadius:Sa,borderBottomLeftRadius:Sa,borderBottomRightRadius:Sa,boxShadow:l3};function f3(r,i,s){const c=Kn(r)?r:La(r);return c.start(Bd("",c,i,s)),c.animation}function d3(r){return r instanceof SVGElement&&r.tagName!=="svg"}const h3=(r,i)=>r.depth-i.depth;class p3{constructor(){this.children=[],this.isDirty=!1}add(i){ad(this.children,i),this.isDirty=!0}remove(i){ld(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(h3),this.isDirty=!1,this.children.forEach(i)}}function g3(r,i){const s=li.now(),c=({timestamp:h})=>{const p=h-s;p>=i&&(us(c),r(p-i))};return Ut.read(c,!0),()=>us(c)}const Dm=["TopLeft","TopRight","BottomLeft","BottomRight"],m3=Dm.length,hp=r=>typeof r=="string"?parseFloat(r):r,pp=r=>typeof r=="number"||qe.test(r);function x3(r,i,s,c,h,p){h?(r.opacity=Jt(0,s.opacity!==void 0?s.opacity:1,y3(c)),r.opacityExit=Jt(i.opacity!==void 0?i.opacity:1,0,w3(c))):p&&(r.opacity=Jt(i.opacity!==void 0?i.opacity:1,s.opacity!==void 0?s.opacity:1,c));for(let w=0;w<m3;w++){const E=`border${Dm[w]}Radius`;let C=gp(i,E),x=gp(s,E);if(C===void 0&&x===void 0)continue;C||(C=0),x||(x=0),C===0||x===0||pp(C)===pp(x)?(r[E]=Math.max(Jt(hp(C),hp(x),c),0),(ui.test(x)||ui.test(C))&&(r[E]+="%")):r[E]=x}(i.rotate||s.rotate)&&(r.rotate=Jt(i.rotate||0,s.rotate||0,c))}function gp(r,i){return r[i]!==void 0?r[i]:r.borderRadius}const y3=Om(0,.5,Qg),w3=Om(.5,.95,Fr);function Om(r,i,s){return c=>c<r?0:c>i?1:s(Oa(r,i,c))}function mp(r,i){r.min=i.min,r.max=i.max}function kr(r,i){mp(r.x,i.x),mp(r.y,i.y)}function xp(r,i){r.translate=i.translate,r.scale=i.scale,r.originPoint=i.originPoint,r.origin=i.origin}function yp(r,i,s,c,h){return r-=i,r=Au(r,1/s,c),h!==void 0&&(r=Au(r,1/h,c)),r}function C3(r,i=0,s=1,c=.5,h,p=r,w=r){if(ui.test(i)&&(i=parseFloat(i),i=Jt(w.min,w.max,i/100)-w.min),typeof i!="number")return;let E=Jt(p.min,p.max,c);r===p&&(E-=i),r.min=yp(r.min,i,s,E,h),r.max=yp(r.max,i,s,E,h)}function wp(r,i,[s,c,h],p,w){C3(r,i[s],i[c],i[h],i.scale,p,w)}const v3=["x","scaleX","originX"],E3=["y","scaleY","originY"];function Cp(r,i,s,c){wp(r.x,i,v3,s?s.x:void 0,c?c.x:void 0),wp(r.y,i,E3,s?s.y:void 0,c?c.y:void 0)}function vp(r){return r.translate===0&&r.scale===1}function Pm(r){return vp(r.x)&&vp(r.y)}function Ep(r,i){return r.min===i.min&&r.max===i.max}function A3(r,i){return Ep(r.x,i.x)&&Ep(r.y,i.y)}function Ap(r,i){return Math.round(r.min)===Math.round(i.min)&&Math.round(r.max)===Math.round(i.max)}function Lm(r,i){return Ap(r.x,i.x)&&Ap(r.y,i.y)}function Sp(r){return Jn(r.x)/Jn(r.y)}function Tp(r,i){return r.translate===i.translate&&r.scale===i.scale&&r.originPoint===i.originPoint}class S3{constructor(){this.members=[]}add(i){ad(this.members,i),i.scheduleRender()}remove(i){if(ld(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(i){const s=this.members.findIndex(h=>i===h);if(s===0)return!1;let c;for(let h=s;h>=0;h--){const p=this.members[h];if(p.isPresent!==!1){c=p;break}}return c?(this.promote(c),!0):!1}promote(i,s){const c=this.lead;if(i!==c&&(this.prevLead=c,this.lead=i,i.show(),c)){c.instance&&c.scheduleRender(),i.scheduleRender(),i.resumeFrom=c,s&&(i.resumeFrom.preserveOpacity=!0),c.snapshot&&(i.snapshot=c.snapshot,i.snapshot.latestValues=c.animationValues||c.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:h}=i.options;h===!1&&c.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:s,resumingFrom:c}=i;s.onExitComplete&&s.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T3(r,i,s){let c="";const h=r.x.translate/i.x,p=r.y.translate/i.y,w=(s==null?void 0:s.z)||0;if((h||p||w)&&(c=`translate3d(${h}px, ${p}px, ${w}px) `),(i.x!==1||i.y!==1)&&(c+=`scale(${1/i.x}, ${1/i.y}) `),s){const{transformPerspective:x,rotate:S,rotateX:I,rotateY:N,skewX:O,skewY:k}=s;x&&(c=`perspective(${x}px) ${c}`),S&&(c+=`rotate(${S}deg) `),I&&(c+=`rotateX(${I}deg) `),N&&(c+=`rotateY(${N}deg) `),O&&(c+=`skewX(${O}deg) `),k&&(c+=`skewY(${k}deg) `)}const E=r.x.scale*i.x,C=r.y.scale*i.y;return(E!==1||C!==1)&&(c+=`scale(${E}, ${C})`),c||"none"}const Cf=["","X","Y","Z"],I3={visibility:"hidden"},Ip=1e3;let b3=0;function vf(r,i,s,c){const{latestValues:h}=i;h[r]&&(s[r]=h[r],i.setStaticValue(r,0),c&&(c[r]=0))}function km(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:i}=r.options;if(!i)return;const s=Wg(i);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:h,layoutId:p}=r.options;window.MotionCancelOptimisedAnimation(s,"transform",Ut,!(h||p))}const{parent:c}=r;c&&!c.hasCheckedOptimisedAppear&&km(c)}function Bm({attachResizeListener:r,defaultParent:i,measureScroll:s,checkIsScrollRoot:c,resetTransform:h}){return class{constructor(w={},E=i==null?void 0:i()){this.id=b3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(M3),this.nodes.forEach(L3),this.nodes.forEach(k3),this.nodes.forEach(_3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=w,this.root=E?E.root||E:this,this.path=E?[...E.path,E]:[],this.parent=E,this.depth=E?E.depth+1:0;for(let C=0;C<this.path.length;C++)this.path[C].shouldResetTransform=!0;this.root===this&&(this.nodes=new p3)}addEventListener(w,E){return this.eventHandlers.has(w)||this.eventHandlers.set(w,new cd),this.eventHandlers.get(w).add(E)}notifyListeners(w,...E){const C=this.eventHandlers.get(w);C&&C.notify(...E)}hasListeners(w){return this.eventHandlers.has(w)}mount(w,E=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=d3(w),this.instance=w;const{layoutId:C,layout:x,visualElement:S}=this.options;if(S&&!S.current&&S.mount(w),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),E&&(x||C)&&(this.isLayoutDirty=!0),r){let I;const N=()=>this.root.updateBlockedByResize=!1;r(w,()=>{this.root.updateBlockedByResize=!0,I&&I(),I=g3(N,250),hu.hasAnimatedSinceResize&&(hu.hasAnimatedSinceResize=!1,this.nodes.forEach(Np))})}C&&this.root.registerSharedNode(C,this),this.options.animate!==!1&&S&&(C||x)&&this.addEventListener("didUpdate",({delta:I,hasLayoutChanged:N,hasRelativeLayoutChanged:O,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||S.getDefaultTransition()||z3,{onLayoutAnimationStart:F,onLayoutAnimationComplete:z}=S.getProps(),H=!this.targetLayout||!Lm(this.targetLayout,k),V=!N&&O;if(this.options.layoutRoot||this.resumeFrom||V||N&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(I,V);const te={...hd(B,"layout"),onPlay:F,onComplete:z};(S.shouldReduceMotion||this.options.layoutRoot)&&(te.delay=0,te.type=!1),this.startAnimation(te)}else N||Np(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const w=this.getStack();w&&w.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B3),this.animationId++)}getTransformTemplate(){const{visualElement:w}=this.options;return w&&w.getProps().transformTemplate}willUpdate(w=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&km(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const I=this.path[S];I.shouldResetTransform=!0,I.updateScroll("snapshot"),I.options.layoutRoot&&I.willUpdate(!1)}const{layoutId:E,layout:C}=this.options;if(E===void 0&&!C)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),w&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bp);return}this.isUpdating||this.nodes.forEach(O3),this.isUpdating=!1,this.nodes.forEach(P3),this.nodes.forEach(N3),this.nodes.forEach(R3),this.clearAllSnapshots();const E=li.now();Fn.delta=Di(0,1e3/60,E-Fn.timestamp),Fn.timestamp=E,Fn.isProcessing=!0,df.update.process(Fn),df.preRender.process(Fn),df.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(D3),this.sharedNodes.forEach(F3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jn(this.snapshot.measuredBox.x)&&!Jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let C=0;C<this.path.length;C++)this.path[C].updateScroll();const w=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:E}=this.options;E&&E.notify("LayoutMeasure",this.layout.layoutBox,w?w.layoutBox:void 0)}updateScroll(w="measure"){let E=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===w&&(E=!1),E){const C=c(this.instance);this.scroll={animationId:this.root.animationId,phase:w,isRoot:C,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:C}}}resetTransform(){if(!h)return;const w=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,E=this.projectionDelta&&!Pm(this.projectionDelta),C=this.getTransformTemplate(),x=C?C(this.latestValues,""):void 0,S=x!==this.prevTransformTemplateValue;w&&(E||js(this.latestValues)||S)&&(h(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(w=!0){const E=this.measurePageBox();let C=this.removeElementScroll(E);return w&&(C=this.removeTransform(C)),V3(C),{animationId:this.root.animationId,measuredBox:E,layoutBox:C,latestValues:{},source:this.id}}measurePageBox(){var x;const{visualElement:w}=this.options;if(!w)return hn();const E=w.measureViewportBox();if(!(((x=this.scroll)==null?void 0:x.wasRoot)||this.path.some(W3))){const{scroll:S}=this.root;S&&(Ao(E.x,S.offset.x),Ao(E.y,S.offset.y))}return E}removeElementScroll(w){var C;const E=hn();if(kr(E,w),(C=this.scroll)!=null&&C.wasRoot)return E;for(let x=0;x<this.path.length;x++){const S=this.path[x],{scroll:I,options:N}=S;S!==this.root&&I&&N.layoutScroll&&(I.wasRoot&&kr(E,w),Ao(E.x,I.offset.x),Ao(E.y,I.offset.y))}return E}applyTransform(w,E=!1){const C=hn();kr(C,w);for(let x=0;x<this.path.length;x++){const S=this.path[x];!E&&S.options.layoutScroll&&S.scroll&&S!==S.root&&So(C,{x:-S.scroll.offset.x,y:-S.scroll.offset.y}),js(S.latestValues)&&So(C,S.latestValues)}return js(this.latestValues)&&So(C,this.latestValues),C}removeTransform(w){const E=hn();kr(E,w);for(let C=0;C<this.path.length;C++){const x=this.path[C];if(!x.instance||!js(x.latestValues))continue;zf(x.latestValues)&&x.updateSnapshot();const S=hn(),I=x.measurePageBox();kr(S,I),Cp(E,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,S)}return js(this.latestValues)&&Cp(E,this.latestValues),E}setTargetDelta(w){this.targetDelta=w,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(w){this.options={...this.options,...w,crossfade:w.crossfade!==void 0?w.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(w=!1){var N;const E=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=E.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=E.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=E.isSharedProjectionDirty);const C=!!this.resumingFrom||this!==E;if(!(w||C&&this.isSharedProjectionDirty||this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:S,layoutId:I}=this.options;if(!(!this.layout||!(S||I))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const O=this.getClosestProjectingParent();O&&O.layout&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),_a(this.relativeTargetOrigin,this.layout.layoutBox,O.layout.layoutBox),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kr(this.target,this.layout.layoutBox),Im(this.target,this.targetDelta)):kr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const O=this.getClosestProjectingParent();O&&!!O.resumingFrom==!!this.resumingFrom&&!O.options.layoutScroll&&O.target&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),_a(this.relativeTargetOrigin,this.target,O.target),kr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zf(this.parent.latestValues)||Tm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const w=this.getLead(),E=!!this.resumingFrom||this!==w;let C=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(C=!1),E&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(C=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(C=!1),C)return;const{layout:x,layoutId:S}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||S))return;kr(this.layoutCorrected,this.layout.layoutBox);const I=this.treeScale.x,N=this.treeScale.y;YE(this.layoutCorrected,this.treeScale,this.path,E),w.layout&&!w.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(w.target=w.layout.layoutBox,w.targetWithTransforms=hn());const{target:O}=w;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xp(this.prevProjectionDelta.x,this.projectionDelta.x),xp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ma(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==I||this.treeScale.y!==N||!Tp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(w=!0){var E;if((E=this.options.visualElement)==null||E.scheduleRender(),w){const C=this.getStack();C&&C.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Eo(),this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo()}setAnimationOrigin(w,E=!1){const C=this.snapshot,x=C?C.latestValues:{},S={...this.latestValues},I=Eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!E;const N=hn(),O=C?C.source:void 0,k=this.layout?this.layout.source:void 0,B=O!==k,F=this.getStack(),z=!F||F.members.length<=1,H=!!(B&&!z&&this.options.crossfade===!0&&!this.path.some(U3));this.animationProgress=0;let V;this.mixTargetDelta=te=>{const le=te/1e3;Rp(I.x,w.x,le),Rp(I.y,w.y,le),this.setTargetDelta(I),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_a(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j3(this.relativeTarget,this.relativeTargetOrigin,N,le),V&&A3(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=hn()),kr(V,this.relativeTarget)),B&&(this.animationValues=S,x3(S,x,this.latestValues,le,H,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=le},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(w){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{hu.hasAnimatedSinceResize=!0,this.currentAnimation=f3(0,Ip,{...w,onUpdate:E=>{this.mixTargetDelta(E),w.onUpdate&&w.onUpdate(E)},onStop:()=>{},onComplete:()=>{w.onComplete&&w.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const w=this.getStack();w&&w.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ip),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const w=this.getLead();let{targetWithTransforms:E,target:C,layout:x,latestValues:S}=w;if(!(!E||!C||!x)){if(this!==w&&this.layout&&x&&Fm(this.options.animationType,this.layout.layoutBox,x.layoutBox)){C=this.target||hn();const I=Jn(this.layout.layoutBox.x);C.x.min=w.target.x.min,C.x.max=C.x.min+I;const N=Jn(this.layout.layoutBox.y);C.y.min=w.target.y.min,C.y.max=C.y.min+N}kr(E,C),So(E,S),Ma(this.projectionDeltaWithTransform,this.layoutCorrected,E,S)}}registerSharedNode(w,E){this.sharedNodes.has(w)||this.sharedNodes.set(w,new S3),this.sharedNodes.get(w).add(E);const x=E.options.initialPromotionConfig;E.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(E):void 0})}isLead(){const w=this.getStack();return w?w.lead===this:!0}getLead(){var E;const{layoutId:w}=this.options;return w?((E=this.getStack())==null?void 0:E.lead)||this:this}getPrevLead(){var E;const{layoutId:w}=this.options;return w?(E=this.getStack())==null?void 0:E.prevLead:void 0}getStack(){const{layoutId:w}=this.options;if(w)return this.root.sharedNodes.get(w)}promote({needsReset:w,transition:E,preserveFollowOpacity:C}={}){const x=this.getStack();x&&x.promote(this,C),w&&(this.projectionDelta=void 0,this.needsReset=!0),E&&this.setOptions({transition:E})}relegate(){const w=this.getStack();return w?w.relegate(this):!1}resetSkewAndRotation(){const{visualElement:w}=this.options;if(!w)return;let E=!1;const{latestValues:C}=w;if((C.z||C.rotate||C.rotateX||C.rotateY||C.rotateZ||C.skewX||C.skewY)&&(E=!0),!E)return;const x={};C.z&&vf("z",w,x,this.animationValues);for(let S=0;S<Cf.length;S++)vf(`rotate${Cf[S]}`,w,x,this.animationValues),vf(`skew${Cf[S]}`,w,x,this.animationValues);w.render();for(const S in x)w.setStaticValue(S,x[S]),this.animationValues&&(this.animationValues[S]=x[S]);w.scheduleRender()}getProjectionStyles(w){if(!this.instance||this.isSVG)return;if(!this.isVisible)return I3;const E={visibility:""},C=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,E.opacity="",E.pointerEvents=du(w==null?void 0:w.pointerEvents)||"",E.transform=C?C(this.latestValues,""):"none",E;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=du(w==null?void 0:w.pointerEvents)||""),this.hasProjected&&!js(this.latestValues)&&(O.transform=C?C({},""):"none",this.hasProjected=!1),O}const S=x.animationValues||x.latestValues;this.applyTransformsToTarget(),E.transform=T3(this.projectionDeltaWithTransform,this.treeScale,S),C&&(E.transform=C(S,E.transform));const{x:I,y:N}=this.projectionDelta;E.transformOrigin=`${I.origin*100}% ${N.origin*100}% 0`,x.animationValues?E.opacity=x===this?S.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:E.opacity=x===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const O in Ba){if(S[O]===void 0)continue;const{correct:k,applyTo:B,isCSSVariable:F}=Ba[O],z=E.transform==="none"?S[O]:k(S[O],x);if(B){const H=B.length;for(let V=0;V<H;V++)E[B[V]]=z}else F?this.options.visualElement.renderState.vars[O]=z:E[O]=z}return this.options.layoutId&&(E.pointerEvents=x===this?du(w==null?void 0:w.pointerEvents)||"":"none"),E}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(w=>{var E;return(E=w.currentAnimation)==null?void 0:E.stop()}),this.root.nodes.forEach(bp),this.root.sharedNodes.clear()}}}function N3(r){r.updateLayout()}function R3(r){var s;const i=((s=r.resumeFrom)==null?void 0:s.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&i&&r.hasListeners("didUpdate")){const{layoutBox:c,measuredBox:h}=r.layout,{animationType:p}=r.options,w=i.source!==r.layout.source;p==="size"?Br(I=>{const N=w?i.measuredBox[I]:i.layoutBox[I],O=Jn(N);N.min=c[I].min,N.max=N.min+O}):Fm(p,i.layoutBox,c)&&Br(I=>{const N=w?i.measuredBox[I]:i.layoutBox[I],O=Jn(c[I]);N.max=N.min+O,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[I].max=r.relativeTarget[I].min+O)});const E=Eo();Ma(E,c,i.layoutBox);const C=Eo();w?Ma(C,r.applyTransform(h,!0),i.measuredBox):Ma(C,c,i.layoutBox);const x=!Pm(E);let S=!1;if(!r.resumeFrom){const I=r.getClosestProjectingParent();if(I&&!I.resumeFrom){const{snapshot:N,layout:O}=I;if(N&&O){const k=hn();_a(k,i.layoutBox,N.layoutBox);const B=hn();_a(B,c,O.layoutBox),Lm(k,B)||(S=!0),I.options.layoutRoot&&(r.relativeTarget=B,r.relativeTargetOrigin=k,r.relativeParent=I)}}}r.notifyListeners("didUpdate",{layout:c,snapshot:i,delta:C,layoutDelta:E,hasLayoutChanged:x,hasRelativeLayoutChanged:S})}else if(r.isLead()){const{onExitComplete:c}=r.options;c&&c()}r.options.transition=void 0}function M3(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function _3(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function D3(r){r.clearSnapshot()}function bp(r){r.clearMeasurements()}function O3(r){r.isLayoutDirty=!1}function P3(r){const{visualElement:i}=r.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),r.resetTransform()}function Np(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function L3(r){r.resolveTargetDelta()}function k3(r){r.calcProjection()}function B3(r){r.resetSkewAndRotation()}function F3(r){r.removeLeadSnapshot()}function Rp(r,i,s){r.translate=Jt(i.translate,0,s),r.scale=Jt(i.scale,1,s),r.origin=i.origin,r.originPoint=i.originPoint}function Mp(r,i,s,c){r.min=Jt(i.min,s.min,c),r.max=Jt(i.max,s.max,c)}function j3(r,i,s,c){Mp(r.x,i.x,s.x,c),Mp(r.y,i.y,s.y,c)}function U3(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const z3={duration:.45,ease:[.4,0,.1,1]},_p=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Dp=_p("applewebkit/")&&!_p("chrome/")?Math.round:Fr;function Op(r){r.min=Dp(r.min),r.max=Dp(r.max)}function V3(r){Op(r.x),Op(r.y)}function Fm(r,i,s){return r==="position"||r==="preserve-aspect"&&!HE(Sp(i),Sp(s),.2)}function W3(r){var i;return r!==r.root&&((i=r.scroll)==null?void 0:i.wasRoot)}const H3=Bm({attachResizeListener:(r,i)=>za(r,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ef={current:void 0},jm=Bm({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Ef.current){const r=new H3({});r.mount(window),r.setOptions({layoutScroll:!0}),Ef.current=r}return Ef.current},resetTransform:(r,i)=>{r.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),G3={pan:{Feature:a3},drag:{Feature:o3,ProjectionNode:jm,MeasureLayout:_m}};function Pp(r,i,s){const{props:c}=r;r.animationState&&c.whileHover&&r.animationState.setActive("whileHover",s==="Start");const h="onHover"+s,p=c[h];p&&Ut.postRender(()=>p(i,Za(i)))}class Y3 extends fs{mount(){const{current:i}=this.node;i&&(this.unmount=tC(i,(s,c)=>(Pp(this.node,c,"Start"),h=>Pp(this.node,h,"End"))))}unmount(){}}class X3 extends fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xa(za(this.node.current,"focus",()=>this.onFocus()),za(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lp(r,i,s){const{props:c}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&c.whileTap&&r.animationState.setActive("whileTap",s==="Start");const h="onTap"+(s==="End"?"":s),p=c[h];p&&Ut.postRender(()=>p(i,Za(i)))}class Z3 extends fs{mount(){const{current:i}=this.node;i&&(this.unmount=sC(i,(s,c)=>(Lp(this.node,c,"Start"),(h,{success:p})=>Lp(this.node,h,p?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hf=new WeakMap,Af=new WeakMap,K3=r=>{const i=Hf.get(r.target);i&&i(r)},Q3=r=>{r.forEach(K3)};function $3({root:r,...i}){const s=r||document;Af.has(s)||Af.set(s,{});const c=Af.get(s),h=JSON.stringify(i);return c[h]||(c[h]=new IntersectionObserver(Q3,{root:r,...i})),c[h]}function q3(r,i,s){const c=$3(i);return Hf.set(r,s),c.observe(r),()=>{Hf.delete(r),c.unobserve(r)}}const J3={some:0,all:1};class eA extends fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:s,margin:c,amount:h="some",once:p}=i,w={root:s?s.current:void 0,rootMargin:c,threshold:typeof h=="number"?h:J3[h]},E=C=>{const{isIntersecting:x}=C;if(this.isInView===x||(this.isInView=x,p&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:S,onViewportLeave:I}=this.node.getProps(),N=x?S:I;N&&N(C)};return q3(this.node.current,w,E)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:s}=this.node;["amount","margin","root"].some(tA(i,s))&&this.startObserver()}unmount(){}}function tA({viewport:r={}},{viewport:i={}}={}){return s=>r[s]!==i[s]}const nA={inView:{Feature:eA},tap:{Feature:Z3},focus:{Feature:X3},hover:{Feature:Y3}},rA={layout:{ProjectionNode:jm,MeasureLayout:_m}},Gf={current:null},Um={current:!1};function iA(){if(Um.current=!0,!!sd)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),i=()=>Gf.current=r.matches;r.addListener(i),i()}else Gf.current=!1}const sA=[...fm,Zn,cs],oA=r=>sA.find(cm(r)),aA=new WeakMap;function lA(r,i,s){for(const c in i){const h=i[c],p=s[c];if(Kn(h))r.addValue(c,h);else if(Kn(p))r.addValue(c,La(h,{owner:r}));else if(p!==h)if(r.hasValue(c)){const w=r.getValue(c);w.liveStyle===!0?w.jump(h):w.hasAnimated||w.set(h)}else{const w=r.getStaticValue(c);r.addValue(c,La(w!==void 0?w:h,{owner:r}))}}for(const c in s)i[c]===void 0&&r.removeValue(c);return i}const kp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uA{scrapeMotionValuesFromProps(i,s,c){return{}}constructor({parent:i,props:s,presenceContext:c,reducedMotionConfig:h,blockInitialAnimation:p,visualState:w},E={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const O=li.now();this.renderScheduledAt<O&&(this.renderScheduledAt=O,Ut.render(this.render,!1,!0))};const{latestValues:C,renderState:x,onUpdate:S}=w;this.onUpdate=S,this.latestValues=C,this.baseTarget={...C},this.initialValues=s.initial?{...C}:{},this.renderState=x,this.parent=i,this.props=s,this.presenceContext=c,this.depth=i?i.depth+1:0,this.reducedMotionConfig=h,this.options=E,this.blockInitialAnimation=!!p,this.isControllingVariants=_u(s),this.isVariantNode=bg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:I,...N}=this.scrapeMotionValuesFromProps(s,{},this);for(const O in N){const k=N[O];C[O]!==void 0&&Kn(k)&&k.set(C[O],!1)}}mount(i){this.current=i,aA.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,c)=>this.bindToMotionValue(c,s)),Um.current||iA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),us(this.notifyUpdate),us(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(i,s){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const c=Hs.has(i);c&&this.onBindTransform&&this.onBindTransform();const h=s.on("change",E=>{this.latestValues[i]=E,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),c&&this.projection&&(this.projection.isTransformDirty=!0)}),p=s.on("renderRequest",this.scheduleRender);let w;window.MotionCheckAppearSync&&(w=window.MotionCheckAppearSync(this,i,s)),this.valueSubscriptions.set(i,()=>{h(),p(),w&&w(),s.owner&&s.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in bo){const s=bo[i];if(!s)continue;const{isEnabled:c,Feature:h}=s;if(!this.features[i]&&h&&c(this.props)&&(this.features[i]=new h(this)),this.features[i]){const p=this.features[i];p.isMounted?p.update():(p.mount(),p.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,s){this.latestValues[i]=s}update(i,s){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let c=0;c<kp.length;c++){const h=kp[c];this.propEventSubscriptions[h]&&(this.propEventSubscriptions[h](),delete this.propEventSubscriptions[h]);const p="on"+h,w=i[p];w&&(this.propEventSubscriptions[h]=this.on(h,w))}this.prevMotionValues=lA(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(i),()=>s.variantChildren.delete(i)}addValue(i,s){const c=this.values.get(i);s!==c&&(c&&this.removeValue(i),this.bindToMotionValue(i,s),this.values.set(i,s),this.latestValues[i]=s.get())}removeValue(i){this.values.delete(i);const s=this.valueSubscriptions.get(i);s&&(s(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,s){if(this.props.values&&this.props.values[i])return this.props.values[i];let c=this.values.get(i);return c===void 0&&s!==void 0&&(c=La(s===null?void 0:s,{owner:this}),this.addValue(i,c)),c}readValue(i,s){let c=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return c!=null&&(typeof c=="string"&&(lm(c)||qg(c))?c=parseFloat(c):!oA(c)&&cs.test(s)&&(c=sm(i,s)),this.setBaseTarget(i,Kn(c)?c.get():c)),Kn(c)?c.get():c}setBaseTarget(i,s){this.baseTarget[i]=s}getBaseTarget(i){var p;const{initial:s}=this.props;let c;if(typeof s=="string"||typeof s=="object"){const w=Nd(this.props,s,(p=this.presenceContext)==null?void 0:p.custom);w&&(c=w[i])}if(s&&c!==void 0)return c;const h=this.getBaseTargetFromProps(this.props,i);return h!==void 0&&!Kn(h)?h:this.initialValues[i]!==void 0&&c===void 0?void 0:this.baseTarget[i]}on(i,s){return this.events[i]||(this.events[i]=new cd),this.events[i].add(s)}notify(i,...s){this.events[i]&&this.events[i].notify(...s)}}class zm extends uA{constructor(){super(...arguments),this.KeyframeResolver=dm}sortInstanceNodePosition(i,s){return i.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(i,s){return i.style?i.style[s]:void 0}removeValueFromRenderState(i,{vars:s,style:c}){delete s[i],delete c[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Kn(i)&&(this.childSubscription=i.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function cA(r){return window.getComputedStyle(r)}class fA extends zm{constructor(){super(...arguments),this.type="html",this.renderInstance=Fg}readValueFromInstance(i,s){if(Hs.has(s))return Av(i,s);{const c=cA(i),h=(Cd(s)?c.getPropertyValue(s):c[s])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(i,{transformPagePoint:s}){return bm(i,s)}build(i,s,c){Ad(i,s,c.transformTemplate)}scrapeMotionValuesFromProps(i,s,c){return Rd(i,s,c)}}class dA extends zm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Bg(this.current,this.renderState)}}getBaseTargetFromProps(i,s){return i[s]}readValueFromInstance(i,s){if(Hs.has(s)){const c=im(s);return c&&c.default||0}return s=jg.has(s)?s:wd(s),i.getAttribute(s)}scrapeMotionValuesFromProps(i,s,c){return zg(i,s,c)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ut.postRender(this.updateDimensions)}build(i,s,c){Id(i,s,this.isSVGTag,c.transformTemplate)}renderInstance(i,s,c,h){Ug(i,s,c,h)}mount(i){this.isSVGTag=bd(i.tagName),super.mount(i)}}const hA=(r,i)=>Td(r)?new dA(i):new fA(i,{allowProjection:r!==L.Fragment}),pA=QC({...kE,...nA,...G3,...rA},hA),Ni=dC(pA),gA=()=>{const{login:r,signup:i,user:s,logout:c,checkAuth:h}=L.useContext(fi),[p,w]=L.useState(""),[E,C]=L.useState(""),[x,S]=L.useState(""),[I,N]=L.useState(null),[O,k]=L.useState(null),[B,F]=L.useState(""),[z,H]=L.useState(0),[V,te]=L.useState({x:0,y:0}),[le,ce]=L.useState(1),[$,ue]=L.useState(null),[ee,Oe]=L.useState(!1),[Be,Ie]=L.useState(!1),[be,Ve]=L.useState({}),[re,Me]=L.useState({}),[me,de]=L.useState(!1),[Ee,fe]=L.useState(!1),[X,ne]=L.useState(null),Ne=Qr(),Fe=Oi(),it=new URLSearchParams(Fe.search),Ae=it.get("redirect"),dt=it.get("code");L.useEffect(()=>{z===2&&x&&zt(x)&&(de(!0),Me(Ke=>({...Ke,displayName:!0})),Ve(Ke=>({...Ke,displayName:""})))},[z,x]);const He=Ke=>{const Re=/^[a-z0-9]+$/;return Ke.length>=2&&Re.test(Ke)},gt=Ke=>Ke.length>=2,zt=Ke=>Ke.length>=2,Yt=()=>{z<Ce.length-1&&(z===0&&!x&&(S(p),Me(Ke=>({...Ke,displayName:!0})),Ve(Ke=>({...Ke,displayName:""}))),z===1&&x&&x.length>=2?de(!0):de(!1),H(Ke=>Ke+1))},cr=()=>{if(z>0){const Ke=z-1;H(Ke);const Re=Ce[Ke];if(Re.validate){const Ge=Re.value;Re.validate(Ge)&&de(!0)}else de(!0)}},at=(Ke,Re,Ge)=>{Ge(Ke.target.value);const wt=Ke.target.value;Re(wt)?(Me($e=>({...$e,[Ce[z].id]:!0})),Ve($e=>({...$e,[Ce[z].id]:""})),de(!0)):(Me($e=>({...$e,[Ce[z].id]:!1})),Ve($e=>({...$e,[Ce[z].id]:"Must be at least 2 characters"})),de(!1))},Rn=Ke=>{const Re=Ke.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");w(Re),He(Re)?(Me(Ge=>({...Ge,username:!0})),Ve(Ge=>({...Ge,username:""})),de(!0)):(Me(Ge=>({...Ge,username:!1})),Ve(Ge=>({...Ge,username:"Must be at least 2 characters"})),de(!1))},Mn=Ke=>{at(Ke,gt,C)},fr=Ke=>{at(Ke,zt,S)},Vt=Ke=>{const Re=Ke.target.files[0];if(Re){const Ge=new FileReader;Ge.onload=wt=>{const $e=new Image;$e.onload=()=>{let Je=$e.width,It=$e.height;const Et=1500;Je>It&&Je>Et?(It=It*Et/Je,Je=Et):It>Je&&It>Et&&(Je=Je*Et/It,It=Et);const jn=document.createElement("canvas");jn.width=Je,jn.height=It,jn.getContext("2d").drawImage($e,0,0,Je,It);const ds=jn.toDataURL("image/jpeg",.75);N(Re),k(ds),Oe(!0),Me(Rt=>({...Rt,image:!0})),Ve(Rt=>({...Rt,image:""})),de(!0)},$e.src=wt.target.result},Ge.readAsDataURL(Re)}},yt=(Ke,Re)=>{ue(Re)},lt=async()=>{try{const Ke=await Wp(O,$);k(Ke),Oe(!1)}catch(Ke){console.error("Error cropping the image:",Ke),F("Failed to crop image. Please try again.")}},er=async Ke=>{if(Ke.preventDefault(),Ie(!0),F(""),!p||!E||!x){F("All fields are required"),Ie(!1);return}if(!I||!O){F("Your profile picture is required👆🏼"),Ie(!1);return}try{const Ge=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:p,password:E})}),wt=await Ge.json();if(wt.error==="Username already taken"){F("Username is taken"),Ie(!1);return}if(!Ge.ok){F(wt.message||"Signup failed"),Ie(!1);return}r(wt),await h();const $e=localStorage.getItem("access_token");if(!$e)throw new Error("Authentication failed");let Je=null;if(I)Je=O,Je=Je.split(",")[1];else{const mn=await(await(await fetch("/assets/fakeprofile.png")).blob()).arrayBuffer();Je=btoa(new Uint8Array(mn).reduce((ds,Rt)=>ds+String.fromCharCode(Rt),""))}if(!(await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${$e}`,"Content-Type":"application/json"},body:JSON.stringify({name:x,image_data:Je})})).ok)throw new Error("Failed to update profile");await h(),Ne(Ae==="lobby"?dt?`/lobby?code=${dt}`:"/?showLobbyModal=true":Ae==="product-selection"?"/product-selection":"/")}catch(Re){console.error("Error:",Re),F("An error occurred. Please try again.")}Ie(!1)},Ce=[{id:"username",label:"Username",value:p,onChange:Rn,type:"text",placeholder:"Enter a username",validate:He},{id:"password",label:"Password",value:E,onChange:Mn,type:"text",placeholder:"Create a password",validate:gt},{id:"displayName",label:"Display Name (this is what people will see)",value:x,onChange:fr,type:"text",placeholder:"Enter your preferred name",validate:zt},{id:"image",label:"Profile Pic (show your face, so people can find you)",type:"file",onChange:Vt,accept:"image/*"}];return P.jsxs("div",{className:"signup-container",children:[P.jsx("button",{onClick:()=>Ne("/"),className:"homescreen-button",children:"Home"}),P.jsx("img",{src:"/assets/reunio-game-logo-3.png",alt:"Reunio Logo",className:"logo-image"}),P.jsx("h3",{className:"signup-header",children:"Sign Up to Join"}),P.jsxs("p",{className:"login-link-text",children:["Already have an account? ",P.jsx("a",{href:"#",onClick:Ke=>{Ke.preventDefault(),Ne("/login")},className:"login-link",children:"Login here"})]}),P.jsxs("div",{className:"step-form-container",children:[P.jsx("div",{className:"step-progress",children:Ce.map((Ke,Re)=>P.jsx("div",{className:`progress-dot ${Re===z?"active":""} ${Re<z?"completed":""}`},Re))}),P.jsxs("form",{onSubmit:er,children:[P.jsx(w1,{mode:"wait",initial:!1,children:P.jsxs(Ni.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{type:"spring",stiffness:500,damping:25,mass:.3},className:"step active",style:{willChange:"transform, opacity"},children:[P.jsx("div",{className:"step-content",children:P.jsxs(Ni.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[P.jsx("label",{className:"step-label",children:Ce[z].label}),P.jsx(Ni.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.15,ease:"easeOut"},children:Ce[z].type==="file"?P.jsx("div",{className:"image-upload-container",children:ee?P.jsxs("div",{className:"cropper-container",children:[P.jsx("div",{className:"cropper-wrapper",children:P.jsx(Vp,{image:O,crop:V,zoom:le,aspect:1,onCropComplete:yt,onCropChange:te,onZoomChange:ce})}),P.jsxs("div",{className:"cropper-controls",children:[P.jsx("button",{type:"button",onClick:lt,className:"save-crop-button",children:"Good"}),P.jsx("button",{type:"button",onClick:()=>{Oe(!1),k(null),N(null)},className:"cancel-crop-button",children:"Cancel"})]})]}):P.jsxs(P.Fragment,{children:[P.jsx("input",{type:"file",onChange:Ce[z].onChange,accept:Ce[z].accept,className:"step-input"}),O&&P.jsx("div",{children:P.jsx("img",{src:O,alt:"Profile preview",className:"profile-preview-image"})})]})}):P.jsx("input",{type:Ce[z].type,value:Ce[z].value,onChange:Ce[z].onChange,placeholder:Ce[z].placeholder,className:"step-input",autoFocus:!0})}),P.jsxs(w1,{mode:"wait",children:[be[Ce[z].id]&&P.jsx(Ni.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"step-error",children:be[Ce[z].id]}),re[Ce[z].id]&&P.jsx(Ni.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"step-success",children:"✓ Valid"})]})]})}),!ee&&P.jsxs("div",{className:"button-container",children:[z>0&&P.jsx(Ni.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:cr,className:"backz-button",children:"← Back"}),me&&z<Ce.length-1&&P.jsx(Ni.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:Yt,className:"nextz-button",children:"Next →"})]})]},z)}),B&&P.jsx(Ni.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"error-message",children:B}),z===Ce.length-1&&P.jsx(Ni.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},type:"submit",className:"primary-button",disabled:Be,children:Be?"Loading...":"Complete Signup"})]})]})]})},mA=5e3,Vm=(r,i=null,s=null)=>{L.useEffect(()=>{const c=async()=>{try{const p=s?`${window.server_url}/display_lobby_metadata?lobby_code=${s}`:`${window.server_url}/display_lobby_metadata`,w=localStorage.getItem("access_token"),E=await fetch(p,{headers:{Authorization:`Bearer ${w}`,lobby_code:s}});if(!E.ok){console.error("Failed to fetch lobby metadata");return}const C=await E.json();r(C.player_count),i&&i(C.lobby_state)}catch(p){console.error("Error fetching lobby metadata:",p)}};c();const h=setInterval(c,mA);return()=>clearInterval(h)},[r,i,s])},xA=()=>{const[r,i]=L.useState(!1),[s,c]=L.useState(!1),[h,p]=L.useState(""),[w,E]=L.useState(""),[C,x]=L.useState(""),[S,I]=L.useState(null);og();const{user:N,userProfile:O,checkAuth:k,permissions:B}=L.useContext(fi),[F,z]=L.useState(null),[H,V]=L.useState(null),[te,le]=L.useState([]),[ce,$]=L.useState(!1),ue=Qr();Vm(z,V);const[ee,Oe]=L.useState(!1);L.useRef(null);const Be=L.useRef(null),Ie=async()=>{if(N){$(!0);try{const fe=localStorage.getItem("access_token"),X=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${fe}`}});if(X.ok){const ne=await X.json();console.log("User's active lobbies:",ne),ne&&ne.lobbies&&Array.isArray(ne.lobbies)?le(ne.lobbies):le([])}else console.error("Failed to fetch user's active lobbies"),le([])}catch(fe){console.error("Error fetching user's active lobbies:",fe),le([])}finally{$(!1)}}};L.useEffect(()=>{N&&Ie()},[N]),L.useEffect(()=>{k()},[]),L.useEffect(()=>{if(new URLSearchParams(window.location.search).get("showLobbyModal")==="true"&&N){c(!0);const ne=window.location.pathname;window.history.replaceState({},"",ne)}},[N]);const be=fe=>{(B==="admin"||B==="organizer")&&ue(`/admin_lobby_view?code=${fe}`)},Ve=fe=>{fe.preventDefault();const ne=new FormData(fe.target).get("name");if(!ne||ne.trim()===""){E("Please enter a lobby code");return}const Ne=ne.toLowerCase().replace(/[^a-z0-9]/g,"");if(Ne===""){E("Lobby code must contain only letters and numbers");return}x(Ne),c(!1),console.log(Ne),p(Ne),ue(`/lobby?code=${Ne}`),p(""),E("")},re=()=>{Oe(!0);const fe=new kw("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0},!1);Be.current=fe,fe.render(Me,me)},Me=fe=>{de(),window.location.href=fe},me=fe=>{console.warn(`QR code scanning error: ${fe}`)},de=()=>{Oe(!1),Be.current&&(Be.current.clear(),Be.current=null)},Ee=()=>s?P.jsx("div",{className:"lobby-modal-overlay",children:P.jsxs("div",{className:"lobby-modal-container",children:[P.jsx("button",{onClick:()=>{c(!1),p(""),E(""),de()},className:"lobby-modal-close",children:"×"}),P.jsx("h2",{className:"lobby-modal-title",children:"Join Lobby"}),P.jsxs("form",{onSubmit:Ve,className:"lobby-form",children:[P.jsxs("div",{className:"lobby-input-container",children:[P.jsx("input",{type:"text",name:"name",placeholder:"Enter Lobby Code",className:"lobby-input",pattern:"[a-zA-Z0-9]+",title:"Only letters and numbers are allowed",required:!0}),w&&P.jsx("div",{className:"lobby-error-message",children:w})]}),P.jsx("button",{type:"submit",className:"lobby-submit-button",children:"Join"}),ee?P.jsxs("div",{className:"lobby-scan-container",children:[P.jsx("div",{id:"qr-reader",className:"lobby-scan-video"}),P.jsx("button",{type:"button",className:"lobby-scan-close",onClick:de,children:"Close Scanner"})]}):P.jsx("button",{type:"button",className:"lobby-scan-button",onClick:re,children:"Scan"})]})]})}):null;return P.jsxs("div",{style:{position:"relative",height:"100vh",overflow:"hidden"},children:[P.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/assets/app_home_screenshot_5.jpg",children:[P.jsx("source",{src:"/assets/app_home_video_5.mp4",type:"video/mp4"}),P.jsx("source",{src:"/assets/app_home_video_2.webm",type:"video/webm"}),P.jsx("img",{src:"/assets/app_home_screenshot_5.jpg",alt:"Background fallback",style:{width:"100%",height:"100%",objectFit:"cover"}}),"Your browser does not support the video tag."]}),P.jsxs("div",{style:{position:"relative",zIndex:1,color:"white"},children:[P.jsx("div",{style:{position:"absolute",top:"-2rem",left:"50%",transform:"translateX(-50%)"},children:P.jsx("img",{src:"/assets/reunio-game-logo-3.png",alt:"Logo",style:{width:"100px",height:"100px",objectFit:"contain"}})}),P.jsxs("div",{style:{marginTop:"10%",display:"flex",flexDirection:"column"},children:[P.jsx(Bw,{user:N}),N&&P.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",top:".25rem",right:"3%"},children:P.jsx("button",{style:{borderRadius:"14px",boxShadow:"0 0 10px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(58, 53, 53, 0.9)",fontWeight:"700",fontSize:"1.2rem"},className:"login-button",onClick:()=>i(!0),children:P.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.3)",color:"inherit"},children:"Profile"})})})]}),r&&P.jsx(I2,{onSubmit:fe=>{i(!1)},onClose:()=>i(!1),existingProfile:O}),P.jsx("div",{style:{position:"absolute",top:"8rem",left:"50%",transform:"translateX(-50%)",width:"90%",maxWidth:"1200px",textAlign:"center",marginBottom:"4rem",marginLeft:"auto",marginRight:"auto",zIndex:1},children:P.jsx("h2",{className:"welcome-header",style:{color:"#ffffff",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:"4px 4px 8px rgba(0,0,0,0.9)",margin:0},children:N&&O&&(B==="admin"||B==="organizer")?`Elevate your events ${O.name.slice(0,10)}`.split("").map((X,ne)=>P.jsx("span",{style:{"--i":ne+1,marginRight:X===" "?"0.5em":"1px"},children:X},ne)):(N&&O?`Break the Ice ${O.name.slice(0,10)}`:"Break the Ice").split("").map((X,ne)=>P.jsx("span",{style:{"--i":ne+1,marginRight:X===" "?"0.5em":"1px"},children:X},ne))})}),P.jsx("div",{style:{marginTop:"12rem",width:"94%",marginLeft:"auto",marginRight:"auto",display:"flex",flexDirection:"column",gap:"1rem"},children:P.jsx("div",{className:"event-item",style:{width:"50%",maxWidth:"400px",margin:"0 auto",padding:"10px 20px",borderRadius:"16px",marginBottom:"20px",cursor:"pointer",opacity:1,display:"flex",flexDirection:"column",alignItems:"center",":hover":{transform:"translateY(-5px)"}},children:P.jsxs("div",{style:{display:"flex",gap:"18px",flexDirection:"column"},children:[P.jsx("button",{className:`primary-button ${B!=="admin"&&B!=="organizer"?"join-lobby-button":""}`,onClick:()=>N?c(!0):ue("/signup?redirect=lobby"),disabled:F===null||H==="terminate",style:{opacity:1,cursor:F===null||H==="terminate"?"not-allowed":"pointer",padding:"12px 24px",backgroundColor:B!=="admin"&&B!=="organizer"?"transparent":"#144dff",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",margin:"0 auto",display:"block",position:"relative",zIndex:1,outline:B!=="admin"&&B!=="organizer"?"none":"2px solid rgba(58, 53, 53, 0.8)",":hover":{backgroundColor:B!=="admin"&&B!=="organizer"?"transparent":"#535bf2",transform:"scale(1.02)"}},children:P.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Join A Lobby"})}),(B==="admin"||B==="organizer")&&P.jsx("button",{className:`primary-button ${B==="admin"||B==="organizer"?"create-lobby-button":""}`,onClick:()=>ue("/create_lobby"),style:{padding:"12px 24px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",marginTop:"-5px",position:"relative",zIndex:1,":hover":{transform:"scale(1.02)"}},children:P.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Create Lobby"})})]})})}),(B==="admin"||B==="organizer")&&P.jsx("div",{className:"events-list",style:{marginTop:"7rem",width:"65%",height:"60%",marginLeft:"auto",marginRight:"auto",marginBottom:".5rem"},children:ce?P.jsx("div",{style:{textAlign:"center",color:"white"},children:P.jsx("p",{children:"Loading your lobbies..."})}):te.length>0?P.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem"},children:te.map((fe,X)=>P.jsxs("div",{className:"card",style:{width:"200px",background:"#ffffff",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.6)",border:"1px solid rgba(255, 255, 255, 0.5)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out",cursor:"pointer",padding:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},onClick:()=>be(fe),onMouseEnter:ne=>{ne.currentTarget.style.transform="translateY(-5px)",ne.currentTarget.style.boxShadow="0 12px 40px rgba(0, 0, 0, 0.7)"},onMouseLeave:ne=>{ne.currentTarget.style.transform="translateY(0)",ne.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.6)"},children:[P.jsx("div",{className:"glow-button",style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#144dff",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:fe&&fe.length>0?fe.charAt(0).toUpperCase():"?"}),P.jsxs("h3",{style:{margin:"0 0 0.5rem 0",color:"#2d3748",fontWeight:"600",fontSize:"1.1em",textAlign:"center"},children:["Lobby ",fe||"Unknown"]}),P.jsx("p",{style:{margin:"0",color:"#4299e1",fontWeight:"500",fontSize:"0.9em",textAlign:"center"},children:"Click to Control"})]},X))}):P.jsx("div",{style:{}})})]}),P.jsx(Ee,{})]})},yA=()=>{const{login:r,signup:i,user:s,logout:c,checkAuth:h}=L.useContext(fi),[p,w]=L.useState(""),[E,C]=L.useState(""),[x,S]=L.useState(""),[I,N]=L.useState(""),[O,k]=L.useState(!0),[B,F]=L.useState({}),[z,H]=L.useState(!1),V=Qr(),te=$=>{const ue=/^[a-z0-9]+$/;return $.length>=2&&ue.test($)},le=$=>{const ue=$.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");w(ue),ue.length>0?H(!0):H(!1),te(ue)?F(ee=>({...ee,username:""})):F(ee=>({...ee,username:" "}))},ce=async $=>{if($.preventDefault(),N(""),!te(p)){N("Please enter a valid username");return}try{const ue=O?"/login":"/signup",ee=await fetch(window.server_url+ue,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:p,password:E}),mode:"cors"});if(ee.ok){const Oe=await ee.json();r(Oe),h(),V("/")}else{const Oe=await ee.json();N(Oe.message||`${O?"Login":"Signup"} failed`)}}catch(ue){N("Network error occurred. Please try again."),console.error("Error:",ue)}};return P.jsxs("div",{className:"login-container",children:[P.jsx("button",{onClick:()=>V("/"),className:"homescreen-button",children:"Home"}),P.jsx("img",{src:"/assets/reunio-game-logo-3.png",alt:"Reunio Logo",className:"logo-image"}),P.jsx("h1",{className:"login-header",children:"Login"}),P.jsxs("div",{className:"login-signup-form",children:[I&&P.jsx("div",{className:"error-message",children:I}),P.jsxs("form",{onSubmit:ce,children:[P.jsxs("div",{className:"form-group",children:[P.jsx("input",{type:"text",placeholder:"Username",className:"login-input",value:p,onChange:le,required:!0}),z&&P.jsx("div",{className:"step-success",children:"lowercase letters and numbers only"})]}),P.jsx("div",{className:"form-group",children:P.jsx("input",{type:"text",placeholder:"Password",className:"login-input",value:E,onChange:$=>C($.target.value),required:!0})}),P.jsx("button",{type:"submit",className:"login-primary-button",children:"Login"})]})]})]})},wA=()=>{const r=Qr(),{logout:i}=L.useContext(fi);return localStorage.removeItem("access_token"),L.useEffect(()=>{console.log("LogoutPage useEffect"),setTimeout(()=>{i(),r("/")},100)},[]),P.jsx("div",{children:"Logged out redirecting to homescreen"})};var CA=Object.defineProperty,Su=Object.getOwnPropertySymbols,Wm=Object.prototype.hasOwnProperty,Hm=Object.prototype.propertyIsEnumerable,Bp=(r,i,s)=>i in r?CA(r,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[i]=s,Yf=(r,i)=>{for(var s in i||(i={}))Wm.call(i,s)&&Bp(r,s,i[s]);if(Su)for(var s of Su(i))Hm.call(i,s)&&Bp(r,s,i[s]);return r},Xf=(r,i)=>{var s={};for(var c in r)Wm.call(r,c)&&i.indexOf(c)<0&&(s[c]=r[c]);if(r!=null&&Su)for(var c of Su(r))i.indexOf(c)<0&&Hm.call(r,c)&&(s[c]=r[c]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ws;(r=>{const i=class pt{constructor(C,x,S,I){if(this.version=C,this.errorCorrectionLevel=x,this.modules=[],this.isFunction=[],C<pt.MIN_VERSION||C>pt.MAX_VERSION)throw new RangeError("Version value out of range");if(I<-1||I>7)throw new RangeError("Mask value out of range");this.size=C*4+17;let N=[];for(let k=0;k<this.size;k++)N.push(!1);for(let k=0;k<this.size;k++)this.modules.push(N.slice()),this.isFunction.push(N.slice());this.drawFunctionPatterns();const O=this.addEccAndInterleave(S);if(this.drawCodewords(O),I==-1){let k=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const F=this.getPenaltyScore();F<k&&(I=B,k=F),this.applyMask(B)}}h(0<=I&&I<=7),this.mask=I,this.applyMask(I),this.drawFormatBits(I),this.isFunction=[]}static encodeText(C,x){const S=r.QrSegment.makeSegments(C);return pt.encodeSegments(S,x)}static encodeBinary(C,x){const S=r.QrSegment.makeBytes(C);return pt.encodeSegments([S],x)}static encodeSegments(C,x,S=1,I=40,N=-1,O=!0){if(!(pt.MIN_VERSION<=S&&S<=I&&I<=pt.MAX_VERSION)||N<-1||N>7)throw new RangeError("Invalid value");let k,B;for(k=S;;k++){const V=pt.getNumDataCodewords(k,x)*8,te=w.getTotalBits(C,k);if(te<=V){B=te;break}if(k>=I)throw new RangeError("Data too long")}for(const V of[pt.Ecc.MEDIUM,pt.Ecc.QUARTILE,pt.Ecc.HIGH])O&&B<=pt.getNumDataCodewords(k,V)*8&&(x=V);let F=[];for(const V of C){s(V.mode.modeBits,4,F),s(V.numChars,V.mode.numCharCountBits(k),F);for(const te of V.getData())F.push(te)}h(F.length==B);const z=pt.getNumDataCodewords(k,x)*8;h(F.length<=z),s(0,Math.min(4,z-F.length),F),s(0,(8-F.length%8)%8,F),h(F.length%8==0);for(let V=236;F.length<z;V^=253)s(V,8,F);let H=[];for(;H.length*8<F.length;)H.push(0);return F.forEach((V,te)=>H[te>>>3]|=V<<7-(te&7)),new pt(k,x,H,N)}getModule(C,x){return 0<=C&&C<this.size&&0<=x&&x<this.size&&this.modules[x][C]}getModules(){return this.modules}drawFunctionPatterns(){for(let S=0;S<this.size;S++)this.setFunctionModule(6,S,S%2==0),this.setFunctionModule(S,6,S%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const C=this.getAlignmentPatternPositions(),x=C.length;for(let S=0;S<x;S++)for(let I=0;I<x;I++)S==0&&I==0||S==0&&I==x-1||S==x-1&&I==0||this.drawAlignmentPattern(C[S],C[I]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(C){const x=this.errorCorrectionLevel.formatBits<<3|C;let S=x;for(let N=0;N<10;N++)S=S<<1^(S>>>9)*1335;const I=(x<<10|S)^21522;h(I>>>15==0);for(let N=0;N<=5;N++)this.setFunctionModule(8,N,c(I,N));this.setFunctionModule(8,7,c(I,6)),this.setFunctionModule(8,8,c(I,7)),this.setFunctionModule(7,8,c(I,8));for(let N=9;N<15;N++)this.setFunctionModule(14-N,8,c(I,N));for(let N=0;N<8;N++)this.setFunctionModule(this.size-1-N,8,c(I,N));for(let N=8;N<15;N++)this.setFunctionModule(8,this.size-15+N,c(I,N));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let C=this.version;for(let S=0;S<12;S++)C=C<<1^(C>>>11)*7973;const x=this.version<<12|C;h(x>>>18==0);for(let S=0;S<18;S++){const I=c(x,S),N=this.size-11+S%3,O=Math.floor(S/3);this.setFunctionModule(N,O,I),this.setFunctionModule(O,N,I)}}drawFinderPattern(C,x){for(let S=-4;S<=4;S++)for(let I=-4;I<=4;I++){const N=Math.max(Math.abs(I),Math.abs(S)),O=C+I,k=x+S;0<=O&&O<this.size&&0<=k&&k<this.size&&this.setFunctionModule(O,k,N!=2&&N!=4)}}drawAlignmentPattern(C,x){for(let S=-2;S<=2;S++)for(let I=-2;I<=2;I++)this.setFunctionModule(C+I,x+S,Math.max(Math.abs(I),Math.abs(S))!=1)}setFunctionModule(C,x,S){this.modules[x][C]=S,this.isFunction[x][C]=!0}addEccAndInterleave(C){const x=this.version,S=this.errorCorrectionLevel;if(C.length!=pt.getNumDataCodewords(x,S))throw new RangeError("Invalid argument");const I=pt.NUM_ERROR_CORRECTION_BLOCKS[S.ordinal][x],N=pt.ECC_CODEWORDS_PER_BLOCK[S.ordinal][x],O=Math.floor(pt.getNumRawDataModules(x)/8),k=I-O%I,B=Math.floor(O/I);let F=[];const z=pt.reedSolomonComputeDivisor(N);for(let V=0,te=0;V<I;V++){let le=C.slice(te,te+B-N+(V<k?0:1));te+=le.length;const ce=pt.reedSolomonComputeRemainder(le,z);V<k&&le.push(0),F.push(le.concat(ce))}let H=[];for(let V=0;V<F[0].length;V++)F.forEach((te,le)=>{(V!=B-N||le>=k)&&H.push(te[V])});return h(H.length==O),H}drawCodewords(C){if(C.length!=Math.floor(pt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let x=0;for(let S=this.size-1;S>=1;S-=2){S==6&&(S=5);for(let I=0;I<this.size;I++)for(let N=0;N<2;N++){const O=S-N,B=(S+1&2)==0?this.size-1-I:I;!this.isFunction[B][O]&&x<C.length*8&&(this.modules[B][O]=c(C[x>>>3],7-(x&7)),x++)}}h(x==C.length*8)}applyMask(C){if(C<0||C>7)throw new RangeError("Mask value out of range");for(let x=0;x<this.size;x++)for(let S=0;S<this.size;S++){let I;switch(C){case 0:I=(S+x)%2==0;break;case 1:I=x%2==0;break;case 2:I=S%3==0;break;case 3:I=(S+x)%3==0;break;case 4:I=(Math.floor(S/3)+Math.floor(x/2))%2==0;break;case 5:I=S*x%2+S*x%3==0;break;case 6:I=(S*x%2+S*x%3)%2==0;break;case 7:I=((S+x)%2+S*x%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[x][S]&&I&&(this.modules[x][S]=!this.modules[x][S])}}getPenaltyScore(){let C=0;for(let N=0;N<this.size;N++){let O=!1,k=0,B=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[N][F]==O?(k++,k==5?C+=pt.PENALTY_N1:k>5&&C++):(this.finderPenaltyAddHistory(k,B),O||(C+=this.finderPenaltyCountPatterns(B)*pt.PENALTY_N3),O=this.modules[N][F],k=1);C+=this.finderPenaltyTerminateAndCount(O,k,B)*pt.PENALTY_N3}for(let N=0;N<this.size;N++){let O=!1,k=0,B=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[F][N]==O?(k++,k==5?C+=pt.PENALTY_N1:k>5&&C++):(this.finderPenaltyAddHistory(k,B),O||(C+=this.finderPenaltyCountPatterns(B)*pt.PENALTY_N3),O=this.modules[F][N],k=1);C+=this.finderPenaltyTerminateAndCount(O,k,B)*pt.PENALTY_N3}for(let N=0;N<this.size-1;N++)for(let O=0;O<this.size-1;O++){const k=this.modules[N][O];k==this.modules[N][O+1]&&k==this.modules[N+1][O]&&k==this.modules[N+1][O+1]&&(C+=pt.PENALTY_N2)}let x=0;for(const N of this.modules)x=N.reduce((O,k)=>O+(k?1:0),x);const S=this.size*this.size,I=Math.ceil(Math.abs(x*20-S*10)/S)-1;return h(0<=I&&I<=9),C+=I*pt.PENALTY_N4,h(0<=C&&C<=2568888),C}getAlignmentPatternPositions(){if(this.version==1)return[];{const C=Math.floor(this.version/7)+2,x=this.version==32?26:Math.ceil((this.version*4+4)/(C*2-2))*2;let S=[6];for(let I=this.size-7;S.length<C;I-=x)S.splice(1,0,I);return S}}static getNumRawDataModules(C){if(C<pt.MIN_VERSION||C>pt.MAX_VERSION)throw new RangeError("Version number out of range");let x=(16*C+128)*C+64;if(C>=2){const S=Math.floor(C/7)+2;x-=(25*S-10)*S-55,C>=7&&(x-=36)}return h(208<=x&&x<=29648),x}static getNumDataCodewords(C,x){return Math.floor(pt.getNumRawDataModules(C)/8)-pt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][C]*pt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][C]}static reedSolomonComputeDivisor(C){if(C<1||C>255)throw new RangeError("Degree out of range");let x=[];for(let I=0;I<C-1;I++)x.push(0);x.push(1);let S=1;for(let I=0;I<C;I++){for(let N=0;N<x.length;N++)x[N]=pt.reedSolomonMultiply(x[N],S),N+1<x.length&&(x[N]^=x[N+1]);S=pt.reedSolomonMultiply(S,2)}return x}static reedSolomonComputeRemainder(C,x){let S=x.map(I=>0);for(const I of C){const N=I^S.shift();S.push(0),x.forEach((O,k)=>S[k]^=pt.reedSolomonMultiply(O,N))}return S}static reedSolomonMultiply(C,x){if(C>>>8||x>>>8)throw new RangeError("Byte out of range");let S=0;for(let I=7;I>=0;I--)S=S<<1^(S>>>7)*285,S^=(x>>>I&1)*C;return h(S>>>8==0),S}finderPenaltyCountPatterns(C){const x=C[1];h(x<=this.size*3);const S=x>0&&C[2]==x&&C[3]==x*3&&C[4]==x&&C[5]==x;return(S&&C[0]>=x*4&&C[6]>=x?1:0)+(S&&C[6]>=x*4&&C[0]>=x?1:0)}finderPenaltyTerminateAndCount(C,x,S){return C&&(this.finderPenaltyAddHistory(x,S),x=0),x+=this.size,this.finderPenaltyAddHistory(x,S),this.finderPenaltyCountPatterns(S)}finderPenaltyAddHistory(C,x){x[0]==0&&(C+=this.size),x.pop(),x.unshift(C)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=i;function s(E,C,x){if(C<0||C>31||E>>>C)throw new RangeError("Value out of range");for(let S=C-1;S>=0;S--)x.push(E>>>S&1)}function c(E,C){return(E>>>C&1)!=0}function h(E){if(!E)throw new Error("Assertion error")}const p=class sn{constructor(C,x,S){if(this.mode=C,this.numChars=x,this.bitData=S,x<0)throw new RangeError("Invalid argument");this.bitData=S.slice()}static makeBytes(C){let x=[];for(const S of C)s(S,8,x);return new sn(sn.Mode.BYTE,C.length,x)}static makeNumeric(C){if(!sn.isNumeric(C))throw new RangeError("String contains non-numeric characters");let x=[];for(let S=0;S<C.length;){const I=Math.min(C.length-S,3);s(parseInt(C.substring(S,S+I),10),I*3+1,x),S+=I}return new sn(sn.Mode.NUMERIC,C.length,x)}static makeAlphanumeric(C){if(!sn.isAlphanumeric(C))throw new RangeError("String contains unencodable characters in alphanumeric mode");let x=[],S;for(S=0;S+2<=C.length;S+=2){let I=sn.ALPHANUMERIC_CHARSET.indexOf(C.charAt(S))*45;I+=sn.ALPHANUMERIC_CHARSET.indexOf(C.charAt(S+1)),s(I,11,x)}return S<C.length&&s(sn.ALPHANUMERIC_CHARSET.indexOf(C.charAt(S)),6,x),new sn(sn.Mode.ALPHANUMERIC,C.length,x)}static makeSegments(C){return C==""?[]:sn.isNumeric(C)?[sn.makeNumeric(C)]:sn.isAlphanumeric(C)?[sn.makeAlphanumeric(C)]:[sn.makeBytes(sn.toUtf8ByteArray(C))]}static makeEci(C){let x=[];if(C<0)throw new RangeError("ECI assignment value out of range");if(C<128)s(C,8,x);else if(C<16384)s(2,2,x),s(C,14,x);else if(C<1e6)s(6,3,x),s(C,21,x);else throw new RangeError("ECI assignment value out of range");return new sn(sn.Mode.ECI,0,x)}static isNumeric(C){return sn.NUMERIC_REGEX.test(C)}static isAlphanumeric(C){return sn.ALPHANUMERIC_REGEX.test(C)}getData(){return this.bitData.slice()}static getTotalBits(C,x){let S=0;for(const I of C){const N=I.mode.numCharCountBits(x);if(I.numChars>=1<<N)return 1/0;S+=4+N+I.bitData.length}return S}static toUtf8ByteArray(C){C=encodeURI(C);let x=[];for(let S=0;S<C.length;S++)C.charAt(S)!="%"?x.push(C.charCodeAt(S)):(x.push(parseInt(C.substring(S+1,S+3),16)),S+=2);return x}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let w=p;r.QrSegment=p})(Ws||(Ws={}));(r=>{(i=>{const s=class{constructor(h,p){this.ordinal=h,this.formatBits=p}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),i.Ecc=s})(r.QrCode||(r.QrCode={}))})(Ws||(Ws={}));(r=>{(i=>{const s=class{constructor(h,p){this.modeBits=h,this.numBitsCharCount=p}numCharCountBits(h){return this.numBitsCharCount[Math.floor((h+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),i.Mode=s})(r.QrSegment||(r.QrSegment={}))})(Ws||(Ws={}));var To=Ws;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var vA={L:To.QrCode.Ecc.LOW,M:To.QrCode.Ecc.MEDIUM,Q:To.QrCode.Ecc.QUARTILE,H:To.QrCode.Ecc.HIGH},Gm=128,Ym="L",Xm="#FFFFFF",Zm="#000000",Km=!1,Qm=1,EA=4,AA=0,SA=.1;function $m(r,i=0){const s=[];return r.forEach(function(c,h){let p=null;c.forEach(function(w,E){if(!w&&p!==null){s.push(`M${p+i} ${h+i}h${E-p}v1H${p+i}z`),p=null;return}if(E===c.length-1){if(!w)return;p===null?s.push(`M${E+i},${h+i} h1v1H${E+i}z`):s.push(`M${p+i},${h+i} h${E+1-p}v1H${p+i}z`);return}w&&p===null&&(p=E)})}),s.join("")}function qm(r,i){return r.slice().map((s,c)=>c<i.y||c>=i.y+i.h?s:s.map((h,p)=>p<i.x||p>=i.x+i.w?h:!1))}function TA(r,i,s,c){if(c==null)return null;const h=r.length+s*2,p=Math.floor(i*SA),w=h/i,E=(c.width||p)*w,C=(c.height||p)*w,x=c.x==null?r.length/2-E/2:c.x*w,S=c.y==null?r.length/2-C/2:c.y*w,I=c.opacity==null?1:c.opacity;let N=null;if(c.excavate){let k=Math.floor(x),B=Math.floor(S),F=Math.ceil(E+x-k),z=Math.ceil(C+S-B);N={x:k,y:B,w:F,h:z}}const O=c.crossOrigin;return{x,y:S,h:C,w:E,excavation:N,opacity:I,crossOrigin:O}}function IA(r,i){return i!=null?Math.max(Math.floor(i),0):r?EA:AA}function Jm({value:r,level:i,minVersion:s,includeMargin:c,marginSize:h,imageSettings:p,size:w,boostLevel:E}){let C=Kt.useMemo(()=>{const k=(Array.isArray(r)?r:[r]).reduce((B,F)=>(B.push(...To.QrSegment.makeSegments(F)),B),[]);return To.QrCode.encodeSegments(k,vA[i],s,void 0,void 0,E)},[r,i,s,E]);const{cells:x,margin:S,numCells:I,calculatedImageSettings:N}=Kt.useMemo(()=>{let O=C.getModules();const k=IA(c,h),B=O.length+k*2,F=TA(O,w,k,p);return{cells:O,margin:k,numCells:B,calculatedImageSettings:F}},[C,w,p,c,h]);return{qrcode:C,margin:S,cells:x,numCells:I,calculatedImageSettings:N}}var bA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),NA=Kt.forwardRef(function(i,s){const c=i,{value:h,size:p=Gm,level:w=Ym,bgColor:E=Xm,fgColor:C=Zm,includeMargin:x=Km,minVersion:S=Qm,boostLevel:I,marginSize:N,imageSettings:O}=c,B=Xf(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:F}=B,z=Xf(B,["style"]),H=O==null?void 0:O.src,V=Kt.useRef(null),te=Kt.useRef(null),le=Kt.useCallback(Ve=>{V.current=Ve,typeof s=="function"?s(Ve):s&&(s.current=Ve)},[s]),[ce,$]=Kt.useState(!1),{margin:ue,cells:ee,numCells:Oe,calculatedImageSettings:Be}=Jm({value:h,level:w,minVersion:S,boostLevel:I,includeMargin:x,marginSize:N,imageSettings:O,size:p});Kt.useEffect(()=>{if(V.current!=null){const Ve=V.current,re=Ve.getContext("2d");if(!re)return;let Me=ee;const me=te.current,de=Be!=null&&me!==null&&me.complete&&me.naturalHeight!==0&&me.naturalWidth!==0;de&&Be.excavation!=null&&(Me=qm(ee,Be.excavation));const Ee=window.devicePixelRatio||1;Ve.height=Ve.width=p*Ee;const fe=p/Oe*Ee;re.scale(fe,fe),re.fillStyle=E,re.fillRect(0,0,Oe,Oe),re.fillStyle=C,bA?re.fill(new Path2D($m(Me,ue))):ee.forEach(function(X,ne){X.forEach(function(Ne,Fe){Ne&&re.fillRect(Fe+ue,ne+ue,1,1)})}),Be&&(re.globalAlpha=Be.opacity),de&&re.drawImage(me,Be.x+ue,Be.y+ue,Be.w,Be.h)}}),Kt.useEffect(()=>{$(!1)},[H]);const Ie=Yf({height:p,width:p},F);let be=null;return H!=null&&(be=Kt.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{$(!0)},ref:te,crossOrigin:Be==null?void 0:Be.crossOrigin})),Kt.createElement(Kt.Fragment,null,Kt.createElement("canvas",Yf({style:Ie,height:p,width:p,ref:le,role:"img"},z)),be)});NA.displayName="QRCodeCanvas";var ex=Kt.forwardRef(function(i,s){const c=i,{value:h,size:p=Gm,level:w=Ym,bgColor:E=Xm,fgColor:C=Zm,includeMargin:x=Km,minVersion:S=Qm,boostLevel:I,title:N,marginSize:O,imageSettings:k}=c,B=Xf(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:F,cells:z,numCells:H,calculatedImageSettings:V}=Jm({value:h,level:w,minVersion:S,boostLevel:I,includeMargin:x,marginSize:O,imageSettings:k,size:p});let te=z,le=null;k!=null&&V!=null&&(V.excavation!=null&&(te=qm(z,V.excavation)),le=Kt.createElement("image",{href:k.src,height:V.h,width:V.w,x:V.x+F,y:V.y+F,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const ce=$m(te,F);return Kt.createElement("svg",Yf({height:p,width:p,viewBox:`0 0 ${H} ${H}`,ref:s,role:"img"},B),!!N&&Kt.createElement("title",null,N),Kt.createElement("path",{fill:E,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),Kt.createElement("path",{fill:C,d:ce,shapeRendering:"crispEdges"}),le)});ex.displayName="QRCodeSVG";const RA=({player:r})=>P.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"350px",height:"500px",margin:"0 auto",position:"relative"},children:r!=null&&r.image_data?P.jsxs("div",{style:{position:"relative",width:"350px",height:"450px"},children:[P.jsx("img",{src:`data:image/jpeg;base64,${r.image_data}`,alt:r.name,style:{width:"350px",height:"450px",objectFit:"cover",borderRadius:"50px",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",margin:"auto",display:"block"},onError:i=>{console.error("Image failed to load:",i),i.target.style.display="none"}}),P.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]}):P.jsxs("div",{style:{width:"350px",height:"450px",backgroundColor:"#f0f0f0",borderRadius:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:[P.jsx("p",{style:{marginBottom:"60px"},children:"No image available"}),P.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]})});var Fp=typeof window>"u"?L.useEffect:L.useLayoutEffect,MA=({isPlaying:r,duration:i,startAt:s=0,updateInterval:c=0,onComplete:h,onUpdate:p})=>{let[w,E]=L.useState(s),C=L.useRef(0),x=L.useRef(s),S=L.useRef(s*-1e3),I=L.useRef(null),N=L.useRef(null),O=L.useRef(null),k=z=>{let H=z/1e3;if(N.current===null){N.current=H,I.current=requestAnimationFrame(k);return}let V=H-N.current,te=C.current+V;N.current=H,C.current=te;let le=x.current+(c===0?te:(te/c|0)*c),ce=x.current+te,$=typeof i=="number"&&ce>=i;E($?i:le),$||(I.current=requestAnimationFrame(k))},B=()=>{I.current&&cancelAnimationFrame(I.current),O.current&&clearTimeout(O.current),N.current=null},F=L.useCallback(z=>{B(),C.current=0;let H=typeof z=="number"?z:s;x.current=H,E(H),r&&(I.current=requestAnimationFrame(k))},[r,s]);return Fp(()=>{if(p==null||p(w),i&&w>=i){S.current+=i*1e3;let{shouldRepeat:z=!1,delay:H=0,newStartAt:V}=(h==null?void 0:h(S.current/1e3))||{};z&&(O.current=setTimeout(()=>F(V),H*1e3))}},[w,i]),Fp(()=>(r&&(I.current=requestAnimationFrame(k)),B),[r,i,c]),{elapsedTime:w,reset:F}},_A=(r,i,s)=>{let c=r/2,h=i/2,p=c-h,w=2*p,E=s==="clockwise"?"1,0":"0,1",C=2*Math.PI*p;return{path:`m ${c},${h} a ${p},${p} 0 ${E} 0,${w} a ${p},${p} 0 ${E} 0,-${w}`,pathLength:C}},jp=(r,i)=>r===0||r===i?0:typeof i=="number"?r-i:0,DA=r=>({position:"relative",width:r,height:r}),OA={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},tx=(r,i,s,c,h)=>{if(c===0)return i;let p=(h?c-r:r)/c;return i+s*p},Up=r=>{var i,s;return(s=(i=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(c,h,p,w)=>`#${h}${h}${p}${p}${w}${w}`).substring(1).match(/.{2}/g))==null?void 0:i.map(c=>parseInt(c,16)))!=null?s:[]},PA=(r,i)=>{var s;let{colors:c,colorsTime:h,isSmoothColorTransition:p=!0}=r;if(typeof c=="string")return c;let w=(s=h==null?void 0:h.findIndex((N,O)=>N>=i&&i>=h[O+1]))!=null?s:-1;if(!h||w===-1)return c[0];if(!p)return c[w];let E=h[w]-i,C=h[w]-h[w+1],x=Up(c[w]),S=Up(c[w+1]),I=!!r.isGrowing;return`rgb(${x.map((N,O)=>tx(E,N,S[O]-N,C,I)|0).join(",")})`},LA=r=>{let{duration:i,initialRemainingTime:s,updateInterval:c,size:h=180,strokeWidth:p=12,trailStrokeWidth:w,isPlaying:E=!1,isGrowing:C=!1,rotation:x="clockwise",onComplete:S,onUpdate:I}=r,N=L.useRef(),O=Math.max(p,w??0),{path:k,pathLength:B}=_A(h,O,x),{elapsedTime:F}=MA({isPlaying:E,duration:i,startAt:jp(i,s),updateInterval:c,onUpdate:typeof I=="function"?H=>{let V=Math.ceil(i-H);V!==N.current&&(N.current=V,I(V))}:void 0,onComplete:typeof S=="function"?H=>{var V;let{shouldRepeat:te,delay:le,newInitialRemainingTime:ce}=(V=S(H))!=null?V:{};if(te)return{shouldRepeat:te,delay:le,newStartAt:jp(i,ce)}}:void 0}),z=i-F;return{elapsedTime:F,path:k,pathLength:B,remainingTime:Math.ceil(z),rotation:x,size:h,stroke:PA(r,z),strokeDashoffset:tx(F,0,B,i,C),strokeWidth:p}},Fd=r=>{let{children:i,strokeLinecap:s,trailColor:c,trailStrokeWidth:h}=r,{path:p,pathLength:w,stroke:E,strokeDashoffset:C,remainingTime:x,elapsedTime:S,size:I,strokeWidth:N}=LA(r);return Kt.createElement("div",{style:DA(I)},Kt.createElement("svg",{viewBox:`0 0 ${I} ${I}`,width:I,height:I,xmlns:"http://www.w3.org/2000/svg"},Kt.createElement("path",{d:p,fill:"none",stroke:c??"#d9d9d9",strokeWidth:h??N}),Kt.createElement("path",{d:p,fill:"none",stroke:E,strokeLinecap:s??"round",strokeWidth:N,strokeDasharray:w,strokeDashoffset:C})),typeof i=="function"&&Kt.createElement("div",{style:OA},i({remainingTime:x,elapsedTime:S,color:E})))};Fd.displayName="CountdownCircleTimer";const kA=({onComplete:r})=>{const[i,s]=L.useState(5),[c,h]=L.useState(!1);return L.useEffect(()=>{const p=setInterval(()=>{h(!0),setTimeout(()=>{s(w=>w<=1?(clearInterval(p),r&&r(),0):w-1),h(!1)},500)},1500);return()=>clearInterval(p)},[r]),P.jsx("div",{className:"lobby-countdown-overlay",children:P.jsxs("div",{className:`lobby-countdown-container ${c?"pop-burst":""}`,children:[P.jsx("div",{className:"lobby-countdown-number",children:i}),P.jsx("div",{className:"lobby-countdown-text",children:i>0?"Get ready!":"Starting..."})]})})},BA=({onComplete:r,lobbyCode:i="this"})=>{const[s,c]=L.useState(0),[h,p]=L.useState(!1),[w,E]=L.useState(!1),[C,x]=L.useState([0]),[S,I]=L.useState(!1),N=L.useRef(null),O=L.useRef(null),k=[{image:"/assets/how_to_pt1_1.svg",duration:1500,animatedText:"Find your match using their picture!"},{image:"/assets/how_to_pt2_2.svg",duration:4e3,animatedText:"Raise the volume to find your next match, dont keep them waiting!"},{image:"/assets/how_to_pt3_3.svg",duration:4e3,animatedText:"Take a break so people dont get matched with you."}];return L.useEffect(()=>{const B=()=>{if(s>=k.length-1){clearInterval(N.current),r&&r();return}p(!0);const F=s+1;x([s,F]),O.current=setTimeout(()=>{I(!1),c(F),p(!1),setTimeout(()=>{x([F]),E(!0),k[F].animatedText&&I(!0)},500)},500)};return N.current=setInterval(B,k[s].duration),E(!0),s===0&&k[0].animatedText&&I(!0),()=>{N.current&&clearInterval(N.current),O.current&&clearTimeout(O.current)}},[s,k.length,r]),P.jsx("div",{className:"tutorial-overlay",children:P.jsxs("div",{className:"tutorial-container",children:[C.map(B=>P.jsxs("div",{className:`tutorial-slide ${B===s?"current":B<s?"previous":"next"}`,children:[B===s&&k[B].animatedText&&S&&P.jsx("div",{className:"animated-text pop-burst",children:k[B].animatedText}),P.jsx("div",{className:"tutorial-image-container",children:P.jsx("img",{src:k[B].image,alt:`Tutorial step ${B+1}`,className:"tutorial-image"})}),P.jsx("div",{className:`tutorial-text ${w&&B===s?"text-animate":""}`,children:k[B].text})]},B)),P.jsx("div",{className:"tutorial-progress",children:k.map((B,F)=>P.jsx("div",{className:`progress-dot ${F===s?"active":""}`},F))})]})})},zp=["Founder","Software Engineer","Content Creator","Business","AI","Engineer","Artist or Designer","Investor","Sales or Marketing","Finance","Law"],FA=5e3,jA=()=>{const{loadSound:r,seekTo:i,cancelSound:s,checkSound:c,soundEnabled:h,setSoundEnabled:p,isPlaying:w}=og(),[E,C]=L.useState("yonder"),x=Qr(),{code:S}=ny(),[I,N]=L.useState(null);Vm(N,null,E);const{user:O,userProfile:k,checkAuth:B,permissions:F}=L.useContext(fi);L.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token"))try{O||await B()}catch(wt){console.error("Authentication error:",wt);const Je=new URLSearchParams(window.location.search).get("code")||S;x(Je?`/signup?redirect=lobby&code=${Je}`:"/signup?redirect=lobby")}else{const $e=new URLSearchParams(window.location.search).get("code")||S;x($e?`/signup?redirect=lobby&code=${$e}`:"/signup?redirect=lobby")}})()},[x,S,B,O]),L.useEffect(()=>{const Re=()=>{const $e=new URLSearchParams(window.location.search).get("code")||S;if($e){C($e);const Je=`hasSeenTutorial_${$e}`,It=localStorage.getItem(Je),Et=!!localStorage.getItem("access_token");console.log("Tutorial check:",{codeParam:$e,lobbyTutorialKey:Je,hasSeenLobbyTutorial:It,isAuthenticated:Et}),!It&&Et&&(Ce(!0),localStorage.setItem(Je,"true"));const jn=localStorage.getItem("access_token");fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${$e}`,{headers:{Authorization:`Bearer ${jn}`,lobby_code:$e}}).then(mn=>mn.json()).then(mn=>{N(mn.player_count)}).catch(mn=>console.error("Error fetching initial lobby metadata:",mn))}};Re();const Ge=setInterval(Re,3e3);return()=>clearInterval(Ge)},[S]);const[z,H]=L.useState(null),[V,te]=L.useState(null),[le,ce]=L.useState(null),[$,ue]=L.useState(null),[ee,Oe]=L.useState(null),Be=L.useRef(!1),Ie=L.useRef(null),[be,Ve]=L.useState(null),[re,Me]=L.useState(null),[me,de]=L.useState(!0),Ee=300,fe=L.useRef(0),[X,ne]=L.useState(null),[Ne,Fe]=L.useState(null),[it,Ae]=L.useState([]),[dt,He]=L.useState([]),[gt,zt]=L.useState(!document.hidden),Yt=L.useRef("yonder");L.useEffect(()=>{Yt.current=E},[E]);async function cr(Re,Ge){const wt=localStorage.getItem("access_token"),Je=await(await fetch(window.server_url+"/set_profile_info",{method:"POST",headers:{Authorization:`Bearer ${wt}`,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify({tags_work:Re,tags_desiring_work:Ge})})).json();console.log("SET PROFILE INFO:",Je)}async function at(){try{const Re=localStorage.getItem("access_token");s(),(await fetch(window.server_url+"/disconnect_lobby",{headers:{Authorization:`Bearer ${Re}`,lobby_code:E}})).ok&&x("/")}catch(Re){console.error("Error disconnecting from lobby:",Re),x("/")}finally{s(),x("/"),console.log("finally")}}async function Rn(){try{fe.current+=1,fe.current>5&&(fe.current=0,Be.current=!1);const Re=localStorage.getItem("access_token"),Ge=!document.hidden,wt=Yt.current;if(console.log("lobby code fr:",wt),wt=="yonder"){console.log("lobby code is not set");return}const $e=await fetch(`${window.server_url}/lobby?is_visible=${Ge}`,{headers:{Authorization:`Bearer ${Re}`,is_visible_t_f:Ge?"t":"f",lobby_code:wt}});if($e.ok){const Je=await $e.json();if(console.log("LOBBY PAIR DATA:",wt,Je),Je.status=="inactive"&&(s(),x("/")),ce(Je.opponent_name),Je.opponent_name==null&&H(null),Ve(Je.lobby_state),Ie.current=Je.round_time_left,Me(Je.round_time_left),Oe(Je.table_number),Je.player_tags!=null&&Je.player_tags.tags_work!=null&&Ae(Je.player_tags.tags_work),Je.player_tags!=null&&Je.player_tags.desiring_tags_work!=null&&He(Je.player_tags.desiring_tags_work),Ie.current!=null&&Je.lobby_state=="active"&&Ie.current!=0&&(i(Ee-Ie.current),console.log("seeking to",Ee-Ie.current)),(le!=Je.opponent_name||z==null)&&!Be.current&&Je.opponent_name!=null){Be.current=!0,console.log("fetching profile");const It=await fetch(window.server_url+"/paired_player_profile",{headers:{Authorization:`Bearer ${Re}`}});if(It.ok){const Et=await It.json();H(Et),console.log("profile fetched:",Et.name)}else console.log("profile fetch failed");Be.current=!1}}}catch(Re){console.error("Error fetching lobby data:",Re)}}L.useEffect(()=>{c()?p(!0):p(!1);const Re=setInterval(async()=>{Rn()},FA);return()=>clearInterval(Re)},[]),L.useEffect(()=>{const Re=setTimeout(Rn,1e3);return()=>clearTimeout(Re)},[be,E]),L.useEffect(()=>{const Re=()=>{const Ge=!document.hidden;Ge&&!gt&&(console.log("Page became visible - fetching latest data"),Rn()),zt(Ge)};return document.addEventListener("visibilitychange",Re),()=>{document.removeEventListener("visibilitychange",Re)}},[gt]);const Mn=()=>P.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:P.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",position:"relative",minWidth:"300px"},children:[P.jsx("button",{onClick:()=>de(!1),style:{color:"#144fff",position:"absolute",right:"10px",top:"10px",border:"none",background:"none",fontSize:"20px",cursor:"pointer"},children:"X"}),P.jsx("h2",{style:{marginTop:"20px"},children:"Enable Sound"}),P.jsx("p",{style:{color:"#144dff"},children:"Please enable sound for the best experience"}),P.jsx("button",{onClick:()=>{r(),de(!1)},style:{padding:"10px 20px",marginTop:"20px",backgroundColor:"#007bff",color:"#ffffff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Enable Sound"})]})}),fr=(Re,Ge)=>{X==null&&ne(it),Ne==null&&Fe(dt),Re==="self"?ne(wt=>wt.includes(Ge)?wt.filter($e=>$e!==Ge):[...wt,Ge]):Fe(wt=>wt.includes(Ge)?wt.filter($e=>$e!==Ge):[...wt,Ge])};L.useEffect(()=>{X!=null&&Ne!=null&&cr(X,Ne)},[X,Ne]);const[Vt,yt]=L.useState(!1);L.useEffect(()=>{if(be==="interrim")yt(!0);else if(be==="active"){const Re=setTimeout(()=>{yt(!1)},1e3);return()=>clearTimeout(Re)}},[be]);const lt=()=>{console.log("Lobby countdown animation completed")},[er,Ce]=L.useState(!1),Ke=()=>{Ce(!1)};return P.jsxs("div",{className:"lobby-container",children:[P.jsxs("div",{className:"lobby-content",children:[P.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0",marginTop:"-1.5rem"},children:P.jsx("img",{src:"/assets/reunio-game-logo-1.png",alt:"Reunio Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),be!=="checkin"&&P.jsx("div",{className:"time-left",style:{display:"flex",flexDirection:"column",alignItems:"center",background:"white",marginTop:"-2rem"},children:(be==="active"||be==="interrim")&&re?P.jsxs(P.Fragment,{children:[P.jsx(Fd,{isPlaying:be==="active",duration:300,initialRemainingTime:re,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>(Rn(),{shouldRepeat:!1}),children:({remainingTime:Re})=>P.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[Math.ceil(Re),"s"]})},`${be}-${Math.floor(re)}`),P.jsx("span",{style:{fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff"},children:"round time left"}),P.jsx("div",{style:{height:"10px"}}),z&&P.jsx("div",{className:"table-number",children:P.jsxs("h3",{children:["Go to table: ",ee]})})]}):P.jsx("span",{className:"time-left-text"})}),P.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",margin:"0 auto"},children:be==="active"||be==="interrim"?z?P.jsx("div",{style:{marginTop:"-4.5rem",width:"100%",display:"flex",justifyContent:"center"},children:P.jsx(RA,{player:z})}):P.jsx(P.Fragment,{}):be==="terminated"?P.jsx("div",{className:"status-message",children:P.jsxs("h2",{children:["This session has ended.",P.jsx("br",{}),"Thank you for participating!"]})}):null}),(be==="checkin"||be==="active"&&!z)&&I!==null&&P.jsx("div",{className:"player-count-container",children:P.jsxs("div",{className:"player-count-bubble",children:[P.jsx("div",{className:"player-count-icon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:P.jsx("img",{src:"/assets/player_count_icon_shadow.png",alt:"Players in lobby",className:"player-count-img",style:{width:"40px",height:"40px",objectFit:"contain"}})}),P.jsxs("div",{className:"player-count-text",children:[P.jsx("span",{className:"player-count-number",children:I}),P.jsxs("span",{className:"player-count-label",children:[I===1?"person":"people"," in ",E," lobby"]})]})]})}),(be==="checkin"||be==="active"&&!z)&&P.jsx("div",{className:"lobby-profiles-container",children:P.jsx("div",{className:"lobby-profiles-grid",children:I>0?Array.from({length:I}).map((Re,Ge)=>P.jsxs("div",{className:`profile-icon-wrapper ${Ge===I-1?"pop-in":""}`,children:[P.jsx("img",{src:"/assets/player_count_icon_color.png",alt:`Profile ${Ge+1}`,className:"profile-icon"}),P.jsx("div",{className:"profile-icon-glow"})]},`profile-${Ge}`)):P.jsx("div",{children:"No profiles to display"})})}),P.jsx("div",{className:"lobby-header",style:{marginTop:"-50px"},children:P.jsx("h2",{children:be==="checkin"?P.jsxs(P.Fragment,{children:["You're in ",k.name.length>30?k.name.slice(0,15):k.name,"!",P.jsx("br",{}),"Your host will start the game shorty."]}):be==="active"&&!z?"You will be paired with someone in the next round.":be==="interrim"?"Get ready for the next round!":be==="terminated"?"This session has ended. Thank you for participating!":""})}),(be==="checkin"||be==="active")&&P.jsxs("div",{className:"selected-tags-container",children:[X&&X.length>0&&P.jsxs("div",{className:"tag-category",children:[P.jsx("h4",{children:"What I do:"}),P.jsx("div",{className:"tag-list",children:X.map(Re=>P.jsx("span",{className:"tag-item",children:Re},`self-${Re}`))})]}),Ne&&Ne.length>0&&P.jsxs("div",{className:"tag-category",children:[P.jsx("h4",{children:"Looking for:"}),P.jsx("div",{className:"tag-list",children:Ne.map(Re=>P.jsx("span",{className:"tag-item",children:Re},`desiring-${Re}`))})]})]}),P.jsx("button",{className:"leave-lobby-button",onClick:at,children:"Leave Lobby"}),P.jsx("button",{className:"how-to-tutorial-button",onClick:()=>Ce(!0),children:"Tutorial"}),F==="admin"&&P.jsx("button",{className:"admin-view-button",onClick:()=>x(`/admin_lobby_view?code=${E}`),children:"Admin View"}),P.jsx("form",{onSubmit:Re=>{Re.preventDefault(),console.log("SELF TAGS:",X),console.log("DESIRING TAGS:",Ne),X!=null&&Ne!=null?cr(X,Ne):cr(it,dt),window.scrollTo({top:0,behavior:"smooth"})},children:P.jsxs("div",{className:"tags-section",children:[P.jsxs("div",{className:"tag-group",children:[P.jsx("div",{className:"bounce-wrapper",children:P.jsx("h3",{children:"Help us match you with the right people."})}),P.jsx("div",{className:"bounce-wrapper",children:P.jsx("h3",{children:"What do you do?"})}),P.jsx("div",{className:"tag-labels-container",children:zp.map(Re=>P.jsxs("label",{className:"tag-label",children:[P.jsx("input",{type:"checkbox",checked:X!=null?X.includes(Re):it.includes(Re),onChange:()=>fr("self",Re)}),Re]},`self-${Re}`))})]}),P.jsxs("div",{className:"tag-group",children:[P.jsx("div",{className:"bounce-wrapper",children:P.jsx("h3",{children:"What are you looking for?"})}),P.jsx("div",{className:"tag-labels-container",children:zp.map(Re=>P.jsxs("label",{className:"tag-label",children:[P.jsx("input",{type:"checkbox",checked:Ne!=null?Ne.includes(Re):dt.includes(Re),onChange:()=>fr("desiring",Re)}),Re]},`desiring-${Re}`))})]})]})}),P.jsx("div",{className:"bottom-buttons",style:{display:"flex",justifyContent:"center",gap:"1rem",marginTop:"1rem",flexWrap:"wrap",padding:"0 1rem"},children:P.jsx("button",{className:"secondary-button",onClick:r,children:h?"Sound On":"Sound Off"})})]}),h||!me||be=="checkin"||be==null||w?null:P.jsx(Mn,{}),Vt&&P.jsx(kA,{onComplete:lt}),er&&P.jsx(BA,{onComplete:Ke,lobbyCode:E})]})},UA=({isOpen:r,onClose:i,onConfirm:s,userName:c})=>r?P.jsx("div",{className:"kick-modal",children:P.jsxs("div",{className:"kick-modal-content",children:[P.jsx("h2",{className:"kick-modal-title",children:"Kick User"}),P.jsxs("p",{className:"kick-modal-message",children:["Are you sure you want to kick ",c," from the lobby?"]}),P.jsxs("div",{className:"kick-modal-actions",children:[P.jsx("button",{onClick:s,className:"admin-button admin-button-danger",children:"Yes, Kick User"}),P.jsx("button",{onClick:i,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,zA=({isOpen:r,onClose:i,onConfirm:s})=>r?P.jsx("div",{className:"join-modal",children:P.jsxs("div",{className:"join-modal-content",children:[P.jsx("h2",{className:"join-modal-title",children:"Join Lobby"}),P.jsx("p",{className:"join-modal-message",children:"Are you sure you want to join? You will be paired up with your attendees."}),P.jsxs("div",{className:"join-modal-actions",children:[P.jsx("button",{onClick:s,className:"admin-button admin-button-join",children:"Yes, Join Lobby"}),P.jsx("button",{onClick:i,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,VA=()=>{const{user:r,userProfile:i,checkAuth:s,permissions:c}=L.useContext(fi),h=Qr(),p=Oi(),E=new URLSearchParams(p.search).get("code"),[C,x]=L.useState(E||"test");L.useEffect(()=>{E||(console.log("No lobby code found in URL, using default 'test' value"),(async()=>{try{const me=localStorage.getItem("access_token"),de=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${me}`}});if(de.ok){const Ee=await de.json();if(console.log("Active lobbies response:",Ee),Ee&&Ee.lobbies&&Ee.lobbies.length>0){const fe=Ee.lobbies[0];x(fe),window.history.replaceState({},"",`/admin_lobby_view?code=${fe}`)}}}catch(me){console.error("Error fetching active lobby:",me)}})())},[E]);const[S,I]=L.useState(!1),[N,O]=L.useState(null),[k,B]=L.useState(!1),[F,z]=L.useState(null),[H,V]=L.useState(null),[te,le]=L.useState(null),[ce,$]=L.useState(null),[ue,ee]=L.useState({});L.useEffect(()=>{if(s(),c!=="admin"&&c!=="organizer"){h("/");return}const Me=async de=>{if(ue[de])return ue[de];try{const Ee=await fetch(`${window.server_url}/pfp_small_icon?username=${encodeURIComponent(de)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(Ee.ok){let fe=await Ee.text();fe.startsWith('"')&&fe.endsWith('"')&&(fe=fe.slice(1,-1));const X=fe.startsWith("data:image")?fe:`data:image/jpeg;base64,${fe}`;return ee(ne=>({...ne,[de]:X})),X}return null}catch(Ee){return console.error(`Error fetching profile picture for ${de}:`,Ee),null}},me=setInterval(async()=>{try{const de=await fetch(window.server_url+"/admin_lobby_data",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:C}});if(de.ok){const Ee=await de.json();if(console.log("Admin lobby data:",C,Ee),Ee&&Ee.unpaired_players){const fe=await Promise.all(Ee.unpaired_players.map(async ne=>{const Ne=await Me(ne.username);return{...ne,pfp_data:Ne}})),X=await Promise.all((Ee.pairs_data||[]).map(async ne=>{const Ne=await Me(ne[0].username),Fe=await Me(ne[1].username);return[{...ne[0],pfp_data:Ne},{...ne[1],pfp_data:Fe}]}));V(fe),z(X),le(Ee.round_time_left),$(Ee.lobby_state)}else console.error("Invalid lobby data structure:",Ee),V([]),z([])}else console.error("Failed to fetch admin lobby data:",de.status)}catch(de){console.error("Error fetching admin lobby data:",de)}},1e3);return()=>clearInterval(me)},[ue]);const Oe=Me=>{O(Me),I(!0)},Be=()=>{I(!1),O(null)},Ie=()=>{N&&fetch(window.server_url+"/kick_user",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({username:N.username,lobby_code:C})}).then(Me=>{Me.ok?console.log(`User ${N.name} kicked successfully`):console.error(`Failed to kick user ${N.name}`)}).catch(Me=>{console.error("Error kicking user:",Me)}).finally(()=>{Be()})},be=()=>{B(!0)},Ve=()=>{B(!1)},re=()=>{h(`/lobby?code=${C}`),Ve()};return P.jsxs("div",{className:"admin-lobby-container",children:[P.jsxs("div",{className:"admin-lobby-header",children:[P.jsxs("h1",{className:"admin-lobby-title",children:[r," Admin View"]}),P.jsx("div",{children:P.jsxs("h3",{children:["Lobby code: ",C]})}),P.jsxs("div",{className:"admin-lobby-actions",children:[P.jsx("button",{onClick:()=>h("/"),className:"admin-button admin-button-primary",children:"←Home"}),P.jsx("button",{onClick:be,className:"admin-button admin-button-join",children:"Join Lobby"})]})]}),P.jsxs("div",{className:"admin-lobby-timer-container",children:[(ce==="active"||ce==="interrim")&&te?P.jsxs("div",{className:"admin-lobby-timer",children:[P.jsx(Fd,{isPlaying:ce==="active",duration:300,initialRemainingTime:te,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>({shouldRepeat:!1}),children:({remainingTime:Me})=>P.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[Math.ceil(Me),"s"]})},`${ce}-${Math.floor(te)}`),P.jsx("span",{style:{fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff"},children:"round time left"})]}):null,P.jsxs("div",{className:"admin-lobby-qr",children:[P.jsx(ex,{value:`${window.location.origin}/lobby?code=${C}`,size:130,level:"H",includeMargin:!0,bgColor:"#ffffff",fgColor:"#144dff"}),P.jsx("span",{className:"qr-label",children:"Scan to join lobby"})]})]}),P.jsxs("div",{className:"admin-lobby-actions",children:[P.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to start the rounds?")&&fetch(window.server_url+"/start_rounds",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:C}})},className:"admin-button admin-button-primary",style:{backgroundColor:"#28a745"},children:"Start"}),P.jsx("button",{onClick:async()=>{window.confirm("Are you sure you want to terminate the rounds?")&&((await fetch(window.server_url+"/terminate_lobby",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:C}})).ok?(console.log("Lobby terminated successfully"),h("/")):console.error("Failed to terminate lobby"))},className:"admin-button admin-button-danger",children:"End"})]}),P.jsx("div",{className:"admin-lobby-stats",children:P.jsxs("div",{className:"stat-card",children:[P.jsx("div",{className:"stat-title",children:"Total Players"}),P.jsx("div",{className:"stat-value",children:((H==null?void 0:H.length)||0)+((F==null?void 0:F.length)*2||0)}),P.jsx("div",{className:"stat-title",children:"Paired Players"}),P.jsx("div",{className:"stat-value",children:(F==null?void 0:F.length)*2||0}),P.jsx("div",{className:"stat-title",children:"Unpaired Players"}),P.jsx("div",{className:"stat-value",children:(H==null?void 0:H.length)||0})]})}),F&&P.jsx("div",{className:"admin-lobby-players",children:P.jsxs("div",{className:"player-section",children:[P.jsxs("div",{className:"section-header",children:["Paired Players: ",(F==null?void 0:F.length)*2||0]}),P.jsx("div",{className:"player-grid",children:F.map((Me,me)=>P.jsxs("div",{className:"paired-player-card",children:[P.jsxs("div",{className:"paired-player",onClick:()=>Oe(Me[0]),children:[P.jsx("img",{src:Me[0].pfp_data,alt:Me[0].name,className:"paired-player-avatar"}),P.jsx("h3",{className:"paired-player-name",children:Me[0].name})]}),P.jsxs("div",{className:"paired-player",onClick:()=>Oe(Me[1]),children:[P.jsx("img",{src:Me[1].pfp_data,alt:Me[1].name,className:"paired-player-avatar"}),P.jsx("h3",{className:"paired-player-name",children:Me[1].name})]})]},me))})]})}),H&&P.jsx("div",{className:"admin-lobby-players",children:P.jsxs("div",{className:"player-section",children:[P.jsxs("div",{className:"section-header",children:["Unpaired Players: ",(H==null?void 0:H.length)||0]}),P.jsx("div",{className:"player-grid",children:H.map((Me,me)=>P.jsxs("div",{className:"player-card",onClick:()=>Oe(Me),children:[P.jsx("img",{src:Me.pfp_data,alt:Me.name,className:"player-avatar"}),P.jsx("h3",{className:"player-name",children:Me.name})]},me))})]})}),P.jsx(zA,{isOpen:k,onClose:Ve,onConfirm:re}),P.jsx(UA,{isOpen:S,onClose:Be,onConfirm:Ie,userName:(N==null?void 0:N.name)||"this user"})]})},WA=()=>{const r=Qr(),{user:i}=L.useContext(fi),s=()=>{window.location.href="https://reunio.app/become-an-organizer"};return P.jsxs("div",{className:"product-selection-container",children:[P.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[P.jsx("source",{src:"/assets/purchase_plan_video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),P.jsxs("div",{className:"product-selection-content",children:[P.jsx("div",{className:"product-selection-header",children:P.jsx("h1",{children:"Product Selection"})}),P.jsxs("div",{className:"plans-section",children:[P.jsx("h2",{children:"Available Plans"}),P.jsxs("div",{className:"plan-card",children:[P.jsx("h3",{children:"Organizer Plan"}),P.jsxs("div",{className:"plan-description",children:[P.jsx("p",{children:"Create experiences for your community with our beta plan."}),P.jsxs("ul",{children:[P.jsx("li",{children:"Create unlimited experiences"}),P.jsx("li",{children:"Access to organizer dashboard"}),P.jsx("li",{children:"Priority customer support"})]})]}),P.jsx("button",{className:"purchase-button",onClick:s,children:"Contact Us"})]})]}),P.jsx("button",{className:"back-button",onClick:()=>r("/"),children:"Home"})]})]})},HA=()=>{const{user:r,userProfile:i,checkAuth:s,permissions:c}=L.useContext(fi),[h,p]=L.useState(""),[w,E]=L.useState(""),[C,x]=L.useState(!1),[S,I]=L.useState(""),[N,O]=L.useState(!1),[k,B]=L.useState(""),[F,z]=L.useState(!1),H=Qr(),V=L.useRef(null);L.useEffect(()=>{r&&(p(r),E(r)),V.current&&V.current.focus()},[r]);const te=$=>/^[a-zA-Z0-9]*$/.test($),le=$=>{const ue=$.target.value;z(!0),te(ue)||ue===""?(E(ue),O(!1)):(B("Only letters and numbers are allowed. No spaces, special characters, or symbols."),O(!0),setTimeout(()=>{O(!1)},3e3)),setTimeout(()=>{z(!1)},500)},ce=async $=>{if($.preventDefault(),!te(w)){B("Lobby code can only contain letters and numbers."),O(!0);return}x(!0),I("");try{const ue=await fetch(window.server_url+"/create_lobby",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({lobby_code:w})});if(ue.ok)console.log("Lobby created successfully"),H(`/admin_lobby_view?code=${w}`);else{const ee=await ue.json();I(ee.message||"Failed to create lobby"),console.error("Failed to create lobby")}}catch(ue){I("An error occurred while creating the lobby"),console.error("Error creating lobby:",ue)}finally{x(!1)}};return P.jsxs("div",{className:"create-lobby-container",children:[P.jsx("h1",{className:"create-lobby-title",children:"Create a New Lobby"}),P.jsxs("form",{onSubmit:ce,className:"create-lobby-form",children:[P.jsxs("div",{className:"form-group",children:[P.jsx("label",{htmlFor:"lobbyCode",children:"Lobby Code"}),P.jsx("input",{ref:V,type:"text",id:"lobbyCode",value:w,onChange:le,placeholder:"Enter lobby code (letters and numbers only)",required:!0,className:`form-input ${F?"typing":""}`,autoComplete:"off"}),P.jsx("div",{className:"input-hint",children:"Only letters and numbers are allowed"})]}),S&&P.jsx("div",{className:"error-message",children:S}),N&&P.jsx("div",{className:"validation-popup",children:P.jsxs("div",{className:"validation-popup-content",children:[P.jsx("p",{children:k}),P.jsx("button",{onClick:()=>O(!1),children:"Close"})]})}),P.jsxs("div",{className:"button-group",children:[P.jsx("button",{type:"button",className:"back-button",onClick:()=>H(-1),children:"← Back"}),P.jsx("button",{type:"submit",className:"submit-button",disabled:C,children:C?"Creating...":"Create Lobby"})]})]})]})};n2.createRoot(document.getElementById("root")).render(P.jsx(L.StrictMode,{children:P.jsx(r2,{children:P.jsx(zy,{basename:"/",children:P.jsxs(xy,{children:[P.jsx(Ri,{path:"/",element:P.jsx(xA,{})}),P.jsx(Ri,{path:"/login",element:P.jsx(yA,{})}),P.jsx(Ri,{path:"/signup",element:P.jsx(gA,{})}),P.jsx(Ri,{path:"/logout",element:P.jsx(wA,{})}),P.jsx(Ri,{path:"/lobby",element:P.jsx(jA,{})}),P.jsx(Ri,{path:"/admin_lobby_view",element:P.jsx(VA,{})}),P.jsx(Ri,{path:"/create_lobby",element:P.jsx(HA,{})}),P.jsx(Ri,{path:"/product-selection",element:P.jsx(WA,{})})]})})})}));
