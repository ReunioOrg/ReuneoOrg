(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const x of p)if(x.type==="childList")for(const y of x.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function a(p){const x={};return p.integrity&&(x.integrity=p.integrity),p.referrerPolicy&&(x.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?x.credentials="include":p.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(p){if(p.ep)return;p.ep=!0;const x=a(p);fetch(p.href,x)}})();var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var rf={exports:{}},wa={},sf={exports:{}},At={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function Wx(){if(V0)return At;V0=1;var r=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.iterator;function R(K){return K===null||typeof K!="object"?null:(K=T&&K[T]||K["@@iterator"],typeof K=="function"?K:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function B(K,J,Ee){this.props=K,this.context=J,this.refs=F,this.updater=Ee||M}B.prototype.isReactComponent={},B.prototype.setState=function(K,J){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,J,"setState")},B.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function V(){}V.prototype=B.prototype;function H(K,J,Ee){this.props=K,this.context=J,this.refs=F,this.updater=Ee||M}var U=H.prototype=new V;U.constructor=H,L(U,B.prototype),U.isPureReactComponent=!0;var re=Array.isArray,ae=Object.prototype.hasOwnProperty,le={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function ue(K,J,Ee){var Ve,it={},we=null,Ze=null;if(J!=null)for(Ve in J.ref!==void 0&&(Ze=J.ref),J.key!==void 0&&(we=""+J.key),J)ae.call(J,Ve)&&!X.hasOwnProperty(Ve)&&(it[Ve]=J[Ve]);var Ue=arguments.length-2;if(Ue===1)it.children=Ee;else if(1<Ue){for(var mt=Array(Ue),ge=0;ge<Ue;ge++)mt[ge]=arguments[ge+2];it.children=mt}if(K&&K.defaultProps)for(Ve in Ue=K.defaultProps,Ue)it[Ve]===void 0&&(it[Ve]=Ue[Ve]);return{$$typeof:r,type:K,key:we,ref:Ze,props:it,_owner:le.current}}function q(K,J){return{$$typeof:r,type:K.type,key:J,ref:K.ref,props:K.props,_owner:K._owner}}function _e(K){return typeof K=="object"&&K!==null&&K.$$typeof===r}function Le(K){var J={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Ee){return J[Ee]})}var Te=/\/+/g;function ke(K,J){return typeof K=="object"&&K!==null&&K.key!=null?Le(""+K.key):J.toString(36)}function De(K,J,Ee,Ve,it){var we=typeof K;(we==="undefined"||we==="boolean")&&(K=null);var Ze=!1;if(K===null)Ze=!0;else switch(we){case"string":case"number":Ze=!0;break;case"object":switch(K.$$typeof){case r:case o:Ze=!0}}if(Ze)return Ze=K,it=it(Ze),K=Ve===""?"."+ke(Ze,0):Ve,re(it)?(Ee="",K!=null&&(Ee=K.replace(Te,"$&/")+"/"),De(it,J,Ee,"",function(ge){return ge})):it!=null&&(_e(it)&&(it=q(it,Ee+(!it.key||Ze&&Ze.key===it.key?"":(""+it.key).replace(Te,"$&/")+"/")+K)),J.push(it)),1;if(Ze=0,Ve=Ve===""?".":Ve+":",re(K))for(var Ue=0;Ue<K.length;Ue++){we=K[Ue];var mt=Ve+ke(we,Ue);Ze+=De(we,J,Ee,mt,it)}else if(mt=R(K),typeof mt=="function")for(K=mt.call(K),Ue=0;!(we=K.next()).done;)we=we.value,mt=Ve+ke(we,Ue++),Ze+=De(we,J,Ee,mt,it);else if(we==="object")throw J=String(K),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return Ze}function ee(K,J,Ee){if(K==null)return K;var Ve=[],it=0;return De(K,Ve,"","",function(we){return J.call(Ee,we,it++)}),Ve}function Be(K){if(K._status===-1){var J=K._result;J=J(),J.then(function(Ee){(K._status===0||K._status===-1)&&(K._status=1,K._result=Ee)},function(Ee){(K._status===0||K._status===-1)&&(K._status=2,K._result=Ee)}),K._status===-1&&(K._status=0,K._result=J)}if(K._status===1)return K._result.default;throw K._result}var he={current:null},de={transition:null},Re={ReactCurrentDispatcher:he,ReactCurrentBatchConfig:de,ReactCurrentOwner:le};function fe(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:ee,forEach:function(K,J,Ee){ee(K,function(){J.apply(this,arguments)},Ee)},count:function(K){var J=0;return ee(K,function(){J++}),J},toArray:function(K){return ee(K,function(J){return J})||[]},only:function(K){if(!_e(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},At.Component=B,At.Fragment=a,At.Profiler=p,At.PureComponent=H,At.StrictMode=d,At.Suspense=w,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Re,At.act=fe,At.cloneElement=function(K,J,Ee){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Ve=L({},K.props),it=K.key,we=K.ref,Ze=K._owner;if(J!=null){if(J.ref!==void 0&&(we=J.ref,Ze=le.current),J.key!==void 0&&(it=""+J.key),K.type&&K.type.defaultProps)var Ue=K.type.defaultProps;for(mt in J)ae.call(J,mt)&&!X.hasOwnProperty(mt)&&(Ve[mt]=J[mt]===void 0&&Ue!==void 0?Ue[mt]:J[mt])}var mt=arguments.length-2;if(mt===1)Ve.children=Ee;else if(1<mt){Ue=Array(mt);for(var ge=0;ge<mt;ge++)Ue[ge]=arguments[ge+2];Ve.children=Ue}return{$$typeof:r,type:K.type,key:it,ref:we,props:Ve,_owner:Ze}},At.createContext=function(K){return K={$$typeof:y,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:x,_context:K},K.Consumer=K},At.createElement=ue,At.createFactory=function(K){var J=ue.bind(null,K);return J.type=K,J},At.createRef=function(){return{current:null}},At.forwardRef=function(K){return{$$typeof:b,render:K}},At.isValidElement=_e,At.lazy=function(K){return{$$typeof:S,_payload:{_status:-1,_result:K},_init:Be}},At.memo=function(K,J){return{$$typeof:E,type:K,compare:J===void 0?null:J}},At.startTransition=function(K){var J=de.transition;de.transition={};try{K()}finally{de.transition=J}},At.unstable_act=fe,At.useCallback=function(K,J){return he.current.useCallback(K,J)},At.useContext=function(K){return he.current.useContext(K)},At.useDebugValue=function(){},At.useDeferredValue=function(K){return he.current.useDeferredValue(K)},At.useEffect=function(K,J){return he.current.useEffect(K,J)},At.useId=function(){return he.current.useId()},At.useImperativeHandle=function(K,J,Ee){return he.current.useImperativeHandle(K,J,Ee)},At.useInsertionEffect=function(K,J){return he.current.useInsertionEffect(K,J)},At.useLayoutEffect=function(K,J){return he.current.useLayoutEffect(K,J)},At.useMemo=function(K,J){return he.current.useMemo(K,J)},At.useReducer=function(K,J,Ee){return he.current.useReducer(K,J,Ee)},At.useRef=function(K){return he.current.useRef(K)},At.useState=function(K){return he.current.useState(K)},At.useSyncExternalStore=function(K,J,Ee){return he.current.useSyncExternalStore(K,J,Ee)},At.useTransition=function(){return he.current.useTransition()},At.version="18.3.1",At}var z0;function ed(){return z0||(z0=1,sf.exports=Wx()),sf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Hx(){if(U0)return wa;U0=1;var r=ed(),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,p=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function y(b,w,E){var S,T={},R=null,M=null;E!==void 0&&(R=""+E),w.key!==void 0&&(R=""+w.key),w.ref!==void 0&&(M=w.ref);for(S in w)d.call(w,S)&&!x.hasOwnProperty(S)&&(T[S]=w[S]);if(b&&b.defaultProps)for(S in w=b.defaultProps,w)T[S]===void 0&&(T[S]=w[S]);return{$$typeof:o,type:b,key:R,ref:M,props:T,_owner:p.current}}return wa.Fragment=a,wa.jsx=y,wa.jsxs=y,wa}var W0;function Gx(){return W0||(W0=1,rf.exports=Hx()),rf.exports}var A=Gx(),_=ed();const nn=Vp(_);var Jl={},of={exports:{}},xr={},af={exports:{}},lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function Xx(){return H0||(H0=1,function(r){function o(de,Re){var fe=de.length;de.push(Re);e:for(;0<fe;){var K=fe-1>>>1,J=de[K];if(0<p(J,Re))de[K]=Re,de[fe]=J,fe=K;else break e}}function a(de){return de.length===0?null:de[0]}function d(de){if(de.length===0)return null;var Re=de[0],fe=de.pop();if(fe!==Re){de[0]=fe;e:for(var K=0,J=de.length,Ee=J>>>1;K<Ee;){var Ve=2*(K+1)-1,it=de[Ve],we=Ve+1,Ze=de[we];if(0>p(it,fe))we<J&&0>p(Ze,it)?(de[K]=Ze,de[we]=fe,K=we):(de[K]=it,de[Ve]=fe,K=Ve);else if(we<J&&0>p(Ze,fe))de[K]=Ze,de[we]=fe,K=we;else break e}}return Re}function p(de,Re){var fe=de.sortIndex-Re.sortIndex;return fe!==0?fe:de.id-Re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var y=Date,b=y.now();r.unstable_now=function(){return y.now()-b}}var w=[],E=[],S=1,T=null,R=3,M=!1,L=!1,F=!1,B=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(de){for(var Re=a(E);Re!==null;){if(Re.callback===null)d(E);else if(Re.startTime<=de)d(E),Re.sortIndex=Re.expirationTime,o(w,Re);else break;Re=a(E)}}function re(de){if(F=!1,U(de),!L)if(a(w)!==null)L=!0,Be(ae);else{var Re=a(E);Re!==null&&he(re,Re.startTime-de)}}function ae(de,Re){L=!1,F&&(F=!1,V(ue),ue=-1),M=!0;var fe=R;try{for(U(Re),T=a(w);T!==null&&(!(T.expirationTime>Re)||de&&!Le());){var K=T.callback;if(typeof K=="function"){T.callback=null,R=T.priorityLevel;var J=K(T.expirationTime<=Re);Re=r.unstable_now(),typeof J=="function"?T.callback=J:T===a(w)&&d(w),U(Re)}else d(w);T=a(w)}if(T!==null)var Ee=!0;else{var Ve=a(E);Ve!==null&&he(re,Ve.startTime-Re),Ee=!1}return Ee}finally{T=null,R=fe,M=!1}}var le=!1,X=null,ue=-1,q=5,_e=-1;function Le(){return!(r.unstable_now()-_e<q)}function Te(){if(X!==null){var de=r.unstable_now();_e=de;var Re=!0;try{Re=X(!0,de)}finally{Re?ke():(le=!1,X=null)}}else le=!1}var ke;if(typeof H=="function")ke=function(){H(Te)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,ee=De.port2;De.port1.onmessage=Te,ke=function(){ee.postMessage(null)}}else ke=function(){B(Te,0)};function Be(de){X=de,le||(le=!0,ke())}function he(de,Re){ue=B(function(){de(r.unstable_now())},Re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(de){de.callback=null},r.unstable_continueExecution=function(){L||M||(L=!0,Be(ae))},r.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<de?Math.floor(1e3/de):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return a(w)},r.unstable_next=function(de){switch(R){case 1:case 2:case 3:var Re=3;break;default:Re=R}var fe=R;R=Re;try{return de()}finally{R=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(de,Re){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var fe=R;R=de;try{return Re()}finally{R=fe}},r.unstable_scheduleCallback=function(de,Re,fe){var K=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?K+fe:K):fe=K,de){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=fe+J,de={id:S++,callback:Re,priorityLevel:de,startTime:fe,expirationTime:J,sortIndex:-1},fe>K?(de.sortIndex=fe,o(E,de),a(w)===null&&de===a(E)&&(F?(V(ue),ue=-1):F=!0,he(re,fe-K))):(de.sortIndex=J,o(w,de),L||M||(L=!0,Be(ae))),de},r.unstable_shouldYield=Le,r.unstable_wrapCallback=function(de){var Re=R;return function(){var fe=R;R=Re;try{return de.apply(this,arguments)}finally{R=fe}}}}(lf)),lf}var G0;function Yx(){return G0||(G0=1,af.exports=Xx()),af.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function Kx(){if(X0)return xr;X0=1;var r=ed(),o=Yx();function a(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,p={};function x(t,s){y(t,s),y(t+"Capture",s)}function y(t,s){for(p[t]=s,t=0;t<s.length;t++)d.add(s[t])}var b=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},T={};function R(t){return w.call(T,t)?!0:w.call(S,t)?!1:E.test(t)?T[t]=!0:(S[t]=!0,!1)}function M(t,s,f,g){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L(t,s,f,g){if(s===null||typeof s>"u"||M(t,s,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(t,s,f,g,C,I,O){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=C,this.mustUseProperty=f,this.propertyName=t,this.type=s,this.sanitizeURL=I,this.removeEmptyString=O}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new F(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];B[s]=new F(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new F(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new F(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new F(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new F(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new F(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new F(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new F(t,5,!1,t.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function H(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(V,H);B[s]=new F(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(V,H);B[s]=new F(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(V,H);B[s]=new F(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new F(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new F(t,1,!1,t.toLowerCase(),null,!0,!0)});function U(t,s,f,g){var C=B.hasOwnProperty(s)?B[s]:null;(C!==null?C.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,f,C,g)&&(f=null),g||C===null?R(s)&&(f===null?t.removeAttribute(s):t.setAttribute(s,""+f)):C.mustUseProperty?t[C.propertyName]=f===null?C.type===3?!1:"":f:(s=C.attributeName,g=C.attributeNamespace,f===null?t.removeAttribute(s):(C=C.type,f=C===3||C===4&&f===!0?"":""+f,g?t.setAttributeNS(g,s,f):t.setAttribute(s,f))))}var re=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),le=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),Le=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),he=Symbol.for("react.offscreen"),de=Symbol.iterator;function Re(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,K;function J(t){if(K===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);K=s&&s[1]||""}return`
`+K+t}var Ee=!1;function Ve(t,s){if(!t||Ee)return"";Ee=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ce){var g=ce}Reflect.construct(t,[],s)}else{try{s.call()}catch(ce){g=ce}t.call(s.prototype)}else{try{throw Error()}catch(ce){g=ce}t()}}catch(ce){if(ce&&g&&typeof ce.stack=="string"){for(var C=ce.stack.split(`
`),I=g.stack.split(`
`),O=C.length-1,W=I.length-1;1<=O&&0<=W&&C[O]!==I[W];)W--;for(;1<=O&&0<=W;O--,W--)if(C[O]!==I[W]){if(O!==1||W!==1)do if(O--,W--,0>W||C[O]!==I[W]){var Y=`
`+C[O].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=O&&0<=W);break}}}finally{Ee=!1,Error.prepareStackTrace=f}return(t=t?t.displayName||t.name:"")?J(t):""}function it(t){switch(t.tag){case 5:return J(t.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return t=Ve(t.type,!1),t;case 11:return t=Ve(t.type.render,!1),t;case 1:return t=Ve(t.type,!0),t;default:return""}}function we(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case le:return"Portal";case q:return"Profiler";case ue:return"StrictMode";case ke:return"Suspense";case De:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Le:return(t.displayName||"Context")+".Consumer";case _e:return(t._context.displayName||"Context")+".Provider";case Te:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return s=t.displayName||null,s!==null?s:we(t.type)||"Memo";case Be:s=t._payload,t=t._init;try{return we(t(s))}catch{}}return null}function Ze(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(s);case 8:return s===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mt(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ge(t){var s=mt(t)?"checked":"value",f=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),g=""+t[s];if(!t.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var C=f.get,I=f.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return C.call(this)},set:function(O){g=""+O,I.call(this,O)}}),Object.defineProperty(t,s,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function ct(t){t._valueTracker||(t._valueTracker=ge(t))}function ht(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var f=s.getValue(),g="";return t&&(g=mt(t)?t.checked?"true":"false":t.value),t=g,t!==f?(s.setValue(t),!0):!1}function Oe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Et(t,s){var f=s.checked;return fe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??t._wrapperState.initialChecked})}function Bt(t,s){var f=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;f=Ue(s.value!=null?s.value:f),t._wrapperState={initialChecked:g,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ht(t,s){s=s.checked,s!=null&&U(t,"checked",s,!1)}function Pt(t,s){Ht(t,s);var f=Ue(s.value),g=s.type;if(f!=null)g==="number"?(f===0&&t.value===""||t.value!=f)&&(t.value=""+f):t.value!==""+f&&(t.value=""+f);else if(g==="submit"||g==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ut(t,s.type,f):s.hasOwnProperty("defaultValue")&&ut(t,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function St(t,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,f||s===t.value||(t.value=s),t.defaultValue=s}f=t.name,f!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,f!==""&&(t.name=f)}function ut(t,s,f){(s!=="number"||Oe(t.ownerDocument)!==t)&&(f==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+f&&(t.defaultValue=""+f))}var An=Array.isArray;function Ne(t,s,f,g){if(t=t.options,s){s={};for(var C=0;C<f.length;C++)s["$"+f[C]]=!0;for(f=0;f<t.length;f++)C=s.hasOwnProperty("$"+t[f].value),t[f].selected!==C&&(t[f].selected=C),C&&g&&(t[f].defaultSelected=!0)}else{for(f=""+Ue(f),s=null,C=0;C<t.length;C++){if(t[C].value===f){t[C].selected=!0,g&&(t[C].defaultSelected=!0);return}s!==null||t[C].disabled||(s=t[C])}s!==null&&(s.selected=!0)}}function Mn(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(a(91));return fe({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vt(t,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(a(92));if(An(f)){if(1<f.length)throw Error(a(93));f=f[0]}s=f}s==null&&(s=""),f=s}t._wrapperState={initialValue:Ue(f)}}function ve(t,s){var f=Ue(s.value),g=Ue(s.defaultValue);f!=null&&(f=""+f,f!==t.value&&(t.value=f),s.defaultValue==null&&t.defaultValue!==f&&(t.defaultValue=f)),g!=null&&(t.defaultValue=""+g)}function Pe(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function $e(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?$e(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yt,pt=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,g,C){MSApp.execUnsafeLocalFunction(function(){return t(s,f,g,C)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(yt=yt||document.createElement("div"),yt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=yt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function rn(t,s){if(s){var f=t.firstChild;if(f&&f===t.lastChild&&f.nodeType===3){f.nodeValue=s;return}}t.textContent=s}var Ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gt=["Webkit","ms","Moz","O"];Object.keys(Ot).forEach(function(t){Gt.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Ot[s]=Ot[t]})});function _t(t,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||Ot.hasOwnProperty(t)&&Ot[t]?(""+s).trim():s+"px"}function Se(t,s){t=t.style;for(var f in s)if(s.hasOwnProperty(f)){var g=f.indexOf("--")===0,C=_t(f,s[f],g);f==="float"&&(f="cssFloat"),g?t.setProperty(f,C):t[f]=C}}var Vt=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(t,s){if(s){if(Vt[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(a(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(a(61))}if(s.style!=null&&typeof s.style!="object")throw Error(a(62))}}function Xt(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zr=null;function ei(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xs=null,wt=null,Xn=null;function ys(t){if(t=ia(t)){if(typeof xs!="function")throw Error(a(280));var s=t.stateNode;s&&(s=hl(s),xs(t.stateNode,t.type,s))}}function Fi(t){wt?Xn?Xn.push(t):Xn=[t]:wt=t}function Yn(){if(wt){var t=wt,s=Xn;if(Xn=wt=null,ys(t),s)for(t=0;t<s.length;t++)ys(s[t])}}function ji(t,s){return t(s)}function sn(){}var Nr=!1;function ti(t,s,f){if(Nr)return t(s,f);Nr=!0;try{return ji(t,s,f)}finally{Nr=!1,(wt!==null||Xn!==null)&&(sn(),Yn())}}function En(t,s){var f=t.stateNode;if(f===null)return null;var g=hl(f);if(g===null)return null;f=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(t=t.type,g=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!g;break e;default:t=!1}if(t)return null;if(f&&typeof f!="function")throw Error(a(231,s,typeof f));return f}var Vi=!1;if(b)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Vi=!1}function ni(t,s,f,g,C,I,O,W,Y){var ce=Array.prototype.slice.call(arguments,3);try{s.apply(f,ce)}catch(ye){this.onError(ye)}}var fn=!1,ir=null,Sn=!1,Me=null,ri={onError:function(t){fn=!0,ir=t}};function ws(t,s,f,g,C,I,O,W,Y){fn=!1,ir=null,ni.apply(ri,arguments)}function In(t,s,f,g,C,I,O,W,Y){if(ws.apply(this,arguments),fn){if(fn){var ce=ir;fn=!1,ir=null}else throw Error(a(198));Sn||(Sn=!0,Me=ce)}}function Kn(t){var s=t,f=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(f=s.return),t=s.return;while(t)}return s.tag===3?f:null}function wi(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ur(t){if(Kn(t)!==t)throw Error(a(188))}function fr(t){var s=t.alternate;if(!s){if(s=Kn(t),s===null)throw Error(a(188));return s!==t?null:t}for(var f=t,g=s;;){var C=f.return;if(C===null)break;var I=C.alternate;if(I===null){if(g=C.return,g!==null){f=g;continue}break}if(C.child===I.child){for(I=C.child;I;){if(I===f)return Ur(C),t;if(I===g)return Ur(C),s;I=I.sibling}throw Error(a(188))}if(f.return!==g.return)f=C,g=I;else{for(var O=!1,W=C.child;W;){if(W===f){O=!0,f=C,g=I;break}if(W===g){O=!0,g=C,f=I;break}W=W.sibling}if(!O){for(W=I.child;W;){if(W===f){O=!0,f=I,g=C;break}if(W===g){O=!0,g=I,f=C;break}W=W.sibling}if(!O)throw Error(a(189))}}if(f.alternate!==g)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?t:s}function vs(t){return t=fr(t),t!==null?Fe(t):null}function Fe(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Fe(t);if(s!==null)return s;t=t.sibling}return null}var qe=o.unstable_scheduleCallback,Ge=o.unstable_cancelCallback,st=o.unstable_shouldYield,Qe=o.unstable_requestPaint,gt=o.unstable_now,Cs=o.unstable_getCurrentPriorityLevel,pe=o.unstable_ImmediatePriority,Es=o.unstable_UserBlockingPriority,Tt=o.unstable_NormalPriority,sr=o.unstable_LowPriority,Fo=o.unstable_IdlePriority,bt=null,ft=null;function Nt(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(bt,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:xn,jo=Math.log,Vo=Math.LN2;function xn(t){return t>>>=0,t===0?32:31-(jo(t)/Vo|0)|0}var yr=64,Js=4194304;function Yt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wr(t,s){var f=t.pendingLanes;if(f===0)return 0;var g=0,C=t.suspendedLanes,I=t.pingedLanes,O=f&268435455;if(O!==0){var W=O&~C;W!==0?g=Yt(W):(I&=O,I!==0&&(g=Yt(I)))}else O=f&~C,O!==0?g=Yt(O):I!==0&&(g=Yt(I));if(g===0)return 0;if(s!==0&&s!==g&&!(s&C)&&(C=g&-g,I=s&-s,C>=I||C===16&&(I&4194240)!==0))return s;if(g&4&&(g|=f&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=g;0<s;)f=31-or(s),C=1<<f,g|=t[f],s&=~C;return g}function Bc(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zi(t,s){for(var f=t.suspendedLanes,g=t.pingedLanes,C=t.expirationTimes,I=t.pendingLanes;0<I;){var O=31-or(I),W=1<<O,Y=C[O];Y===-1?(!(W&f)||W&g)&&(C[O]=Bc(W,s)):Y<=s&&(t.expiredLanes|=W),I&=~W}}function zt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tn(){var t=yr;return yr<<=1,!(yr&4194240)&&(yr=64),t}function te(t){for(var s=[],f=0;31>f;f++)s.push(t);return s}function j(t,s,f){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-or(s),t[s]=f}function Ye(t,s){var f=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var g=t.eventTimes;for(t=t.expirationTimes;0<f;){var C=31-or(f),I=1<<C;s[C]=0,g[C]=-1,t[C]=-1,f&=~I}}function dn(t,s){var f=t.entangledLanes|=s;for(t=t.entanglements;f;){var g=31-or(f),C=1<<g;C&s|t[g]&s&&(t[g]|=s),f&=~C}}var xt=0;function qa(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eo,Zn,Ke,Kt,zo,Uo=!1,Ui=[],vr=null,Rr=null,ii=null,en=new Map,Wr=new Map,jn=[],nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(t,s){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":en.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(s.pointerId)}}function at(t,s,f,g,C,I){return t===null||t.nativeEvent!==I?(t={blockedOn:s,domEventName:f,eventSystemFlags:g,nativeEvent:I,targetContainers:[C]},s!==null&&(s=ia(s),s!==null&&Zn(s)),t):(t.eventSystemFlags|=g,s=t.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),t)}function Nn(t,s,f,g,C){switch(s){case"focusin":return vr=at(vr,t,s,f,g,C),!0;case"dragenter":return Rr=at(Rr,t,s,f,g,C),!0;case"mouseover":return ii=at(ii,t,s,f,g,C),!0;case"pointerover":var I=C.pointerId;return en.set(I,at(en.get(I)||null,t,s,f,g,C)),!0;case"gotpointercapture":return I=C.pointerId,Wr.set(I,at(Wr.get(I)||null,t,s,f,g,C)),!0}return!1}function Ja(t){var s=Ps(t.target);if(s!==null){var f=Kn(s);if(f!==null){if(s=f.tag,s===13){if(s=wi(f),s!==null){t.blockedOn=s,zo(t.priority,function(){Ke(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){t.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wi(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var f=to(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(f===null){f=t.nativeEvent;var g=new f.constructor(f.type,f);zr=g,f.target.dispatchEvent(g),zr=null}else return s=ia(f),s!==null&&Zn(s),t.blockedOn=f,!1;s.shift()}return!0}function Wo(t,s,f){Wi(t)&&f.delete(s)}function vi(){Uo=!1,vr!==null&&Wi(vr)&&(vr=null),Rr!==null&&Wi(Rr)&&(Rr=null),ii!==null&&Wi(ii)&&(ii=null),en.forEach(Wo),Wr.forEach(Wo)}function bs(t,s){t.blockedOn===s&&(t.blockedOn=null,Uo||(Uo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vi)))}function Hr(t){function s(C){return bs(C,t)}if(0<Ui.length){bs(Ui[0],t);for(var f=1;f<Ui.length;f++){var g=Ui[f];g.blockedOn===t&&(g.blockedOn=null)}}for(vr!==null&&bs(vr,t),Rr!==null&&bs(Rr,t),ii!==null&&bs(ii,t),en.forEach(s),Wr.forEach(s),f=0;f<jn.length;f++)g=jn[f],g.blockedOn===t&&(g.blockedOn=null);for(;0<jn.length&&(f=jn[0],f.blockedOn===null);)Ja(f),f.blockedOn===null&&jn.shift()}var _r=re.ReactCurrentBatchConfig,si=!0;function el(t,s,f,g){var C=xt,I=_r.transition;_r.transition=null;try{xt=1,Ci(t,s,f,g)}finally{xt=C,_r.transition=I}}function As(t,s,f,g){var C=xt,I=_r.transition;_r.transition=null;try{xt=4,Ci(t,s,f,g)}finally{xt=C,_r.transition=I}}function Ci(t,s,f,g){if(si){var C=to(t,s,f,g);if(C===null)Yc(t,s,g,Rn,f),Qa(t,g);else if(Nn(C,t,s,f,g))g.stopPropagation();else if(Qa(t,g),s&4&&-1<nt.indexOf(t)){for(;C!==null;){var I=ia(C);if(I!==null&&eo(I),I=to(t,s,f,g),I===null&&Yc(t,s,g,Rn,f),I===C)break;C=I}C!==null&&g.stopPropagation()}else Yc(t,s,g,null,f)}}var Rn=null;function to(t,s,f,g){if(Rn=null,t=ei(g),t=Ps(t),t!==null)if(s=Kn(t),s===null)t=null;else if(f=s.tag,f===13){if(t=wi(s),t!==null)return t;t=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Rn=t,null}function Ho(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cs()){case pe:return 1;case Es:return 4;case Tt:case sr:return 16;case Fo:return 536870912;default:return 16}default:return 16}}var Gr=null,Go=null,no=null;function tl(){if(no)return no;var t,s=Go,f=s.length,g,C="value"in Gr?Gr.value:Gr.textContent,I=C.length;for(t=0;t<f&&s[t]===C[t];t++);var O=f-t;for(g=1;g<=O&&s[f-g]===C[I-g];g++);return no=C.slice(t,1<g?1-g:void 0)}function Mt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ss(){return!0}function Is(){return!1}function hn(t){function s(f,g,C,I,O){this._reactName=f,this._targetInst=C,this.type=g,this.nativeEvent=I,this.target=O,this.currentTarget=null;for(var W in t)t.hasOwnProperty(W)&&(f=t[W],this[W]=f?f(I):I[W]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Ss:Is,this.isPropagationStopped=Is,this}return fe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),s}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oe=hn(Hi),dt=fe({},Hi,{view:0,detail:0}),_n=hn(dt),Gi,ro,Ts,io=fe({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(Gi=t.screenX-Ts.screenX,ro=t.screenY-Ts.screenY):ro=Gi=0,Ts=t),Gi)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),nl=hn(io),Xo=fe({},io,{dataTransfer:0}),yn=hn(Xo),Yo=fe({},dt,{relatedTarget:0}),Zt=hn(Yo),so=fe({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ei=hn(so),Ut=fe({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Je=hn(Ut),Fc=fe({},Hi,{data:0}),Wt=hn(Fc),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=jc[t])?!!s[t]:!1}function Ns(){return kr}var rl=fe({},dt,{key:function(t){if(t.key){var s=bi[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Mt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?Mt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=hn(rl),il=fe({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=hn(il),Vc=fe({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Yi=hn(Vc),$o=fe({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),zc=hn($o),Rs=fe({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uc=hn(Rs),oi=[9,13,27,32],Ki=b&&"CompositionEvent"in window,Dn=null;b&&"documentMode"in document&&(Dn=document.documentMode);var sl=b&&"TextEvent"in window&&!Dn,Cr=b&&(!Ki||Dn&&8<Dn&&11>=Dn),ol=" ",oo=!1;function al(t,s){switch(t){case"keyup":return oi.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vn=!1;function Wc(t,s){switch(t){case"compositionend":return qo(s);case"keypress":return s.which!==32?null:(oo=!0,ol);case"textInput":return t=s.data,t===ol&&oo?null:t;default:return null}}function Qo(t,s){if(Vn)return t==="compositionend"||!Ki&&al(t,s)?(t=tl(),no=Go=Gr=null,Vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cr&&s.locale!=="ko"?null:s.data;default:return null}}var _s={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!_s[t.type]:s==="textarea"}function ks(t,s,f,g){Fi(g),s=ul(s,"onChange"),0<s.length&&(f=new oe("onChange","change",null,f,g),t.push({event:f,listeners:s}))}var k=null,e=null;function n(t){nh(t,0)}function i(t){var s=co(t);if(ht(s))return t}function l(t,s){if(t==="change")return s}var c=!1;if(b){var u;if(b){var h="oninput"in document;if(!h){var m=document.createElement("div");m.setAttribute("oninput","return;"),h=typeof m.oninput=="function"}u=h}else u=!1;c=u&&(!document.documentMode||9<document.documentMode)}function v(){k&&(k.detachEvent("onpropertychange",N),e=k=null)}function N(t){if(t.propertyName==="value"&&i(e)){var s=[];ks(s,e,t,ei(t)),ti(n,s)}}function P(t,s,f){t==="focusin"?(v(),k=s,e=f,k.attachEvent("onpropertychange",N)):t==="focusout"&&v()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return i(e)}function z(t,s){if(t==="click")return i(s)}function G(t,s){if(t==="input"||t==="change")return i(s)}function Z(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Q=typeof Object.is=="function"?Object.is:Z;function se(t,s){if(Q(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var f=Object.keys(t),g=Object.keys(s);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var C=f[g];if(!w.call(s,C)||!Q(t[C],s[C]))return!1}return!0}function be(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ae(t,s){var f=be(t);t=0;for(var g;f;){if(f.nodeType===3){if(g=t+f.textContent.length,t<=s&&g>=s)return{node:f,offset:s-t};t=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=be(f)}}function xe(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?xe(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Ct(){for(var t=window,s=Oe();s instanceof t.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)t=s.contentWindow;else break;s=Oe(t.document)}return s}function lt(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function $n(t){var s=Ct(),f=t.focusedElem,g=t.selectionRange;if(s!==f&&f&&f.ownerDocument&&xe(f.ownerDocument.documentElement,f)){if(g!==null&&lt(f)){if(s=g.start,t=g.end,t===void 0&&(t=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(t,f.value.length);else if(t=(s=f.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var C=f.textContent.length,I=Math.min(g.start,C);g=g.end===void 0?I:Math.min(g.end,C),!t.extend&&I>g&&(C=g,g=I,I=C),C=Ae(f,I);var O=Ae(f,g);C&&O&&(t.rangeCount!==1||t.anchorNode!==C.node||t.anchorOffset!==C.offset||t.focusNode!==O.node||t.focusOffset!==O.offset)&&(s=s.createRange(),s.setStart(C.node,C.offset),t.removeAllRanges(),I>g?(t.addRange(s),t.extend(O.node,O.offset)):(s.setEnd(O.node,O.offset),t.addRange(s)))}}for(s=[],t=f;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)t=s[f],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Er=b&&"documentMode"in document&&11>=document.documentMode,wn=null,Ft=null,on=null,zn=!1;function Ai(t,s,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;zn||wn==null||wn!==Oe(g)||(g=wn,"selectionStart"in g&&lt(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),on&&se(on,g)||(on=g,g=ul(Ft,"onSelect"),0<g.length&&(s=new oe("onSelect","select",null,s,f),t.push({event:s,listeners:g}),s.target=wn)))}function Xr(t,s){var f={};return f[t.toLowerCase()]=s.toLowerCase(),f["Webkit"+t]="webkit"+s,f["Moz"+t]="moz"+s,f}var Zi={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionend:Xr("Transition","TransitionEnd")},Jo={},Kd={};b&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Zi.animationend.animation,delete Zi.animationiteration.animation,delete Zi.animationstart.animation),"TransitionEvent"in window||delete Zi.transitionend.transition);function ll(t){if(Jo[t])return Jo[t];if(!Zi[t])return t;var s=Zi[t],f;for(f in s)if(s.hasOwnProperty(f)&&f in Kd)return Jo[t]=s[f];return t}var Zd=ll("animationend"),$d=ll("animationiteration"),qd=ll("animationstart"),Qd=ll("transitionend"),Jd=new Map,eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $i(t,s){Jd.set(t,s),x(s,[t])}for(var Hc=0;Hc<eh.length;Hc++){var Gc=eh[Hc],Qm=Gc.toLowerCase(),Jm=Gc[0].toUpperCase()+Gc.slice(1);$i(Qm,"on"+Jm)}$i(Zd,"onAnimationEnd"),$i($d,"onAnimationIteration"),$i(qd,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(Qd,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ex=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function th(t,s,f){var g=t.type||"unknown-event";t.currentTarget=f,In(g,s,void 0,t),t.currentTarget=null}function nh(t,s){s=(s&4)!==0;for(var f=0;f<t.length;f++){var g=t[f],C=g.event;g=g.listeners;e:{var I=void 0;if(s)for(var O=g.length-1;0<=O;O--){var W=g[O],Y=W.instance,ce=W.currentTarget;if(W=W.listener,Y!==I&&C.isPropagationStopped())break e;th(C,W,ce),I=Y}else for(O=0;O<g.length;O++){if(W=g[O],Y=W.instance,ce=W.currentTarget,W=W.listener,Y!==I&&C.isPropagationStopped())break e;th(C,W,ce),I=Y}}}if(Sn)throw t=Me,Sn=!1,Me=null,t}function Qt(t,s){var f=s[Jc];f===void 0&&(f=s[Jc]=new Set);var g=t+"__bubble";f.has(g)||(rh(s,t,2,!1),f.add(g))}function Xc(t,s,f){var g=0;s&&(g|=4),rh(f,t,g,s)}var cl="_reactListening"+Math.random().toString(36).slice(2);function ta(t){if(!t[cl]){t[cl]=!0,d.forEach(function(f){f!=="selectionchange"&&(ex.has(f)||Xc(f,!1,t),Xc(f,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[cl]||(s[cl]=!0,Xc("selectionchange",!1,s))}}function rh(t,s,f,g){switch(Ho(s)){case 1:var C=el;break;case 4:C=As;break;default:C=Ci}f=C.bind(null,s,f,t),C=void 0,!Vi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),g?C!==void 0?t.addEventListener(s,f,{capture:!0,passive:C}):t.addEventListener(s,f,!0):C!==void 0?t.addEventListener(s,f,{passive:C}):t.addEventListener(s,f,!1)}function Yc(t,s,f,g,C){var I=g;if(!(s&1)&&!(s&2)&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var W=g.stateNode.containerInfo;if(W===C||W.nodeType===8&&W.parentNode===C)break;if(O===4)for(O=g.return;O!==null;){var Y=O.tag;if((Y===3||Y===4)&&(Y=O.stateNode.containerInfo,Y===C||Y.nodeType===8&&Y.parentNode===C))return;O=O.return}for(;W!==null;){if(O=Ps(W),O===null)return;if(Y=O.tag,Y===5||Y===6){g=I=O;continue e}W=W.parentNode}}g=g.return}ti(function(){var ce=I,ye=ei(f),Ce=[];e:{var me=Jd.get(t);if(me!==void 0){var je=oe,We=t;switch(t){case"keypress":if(Mt(f)===0)break e;case"keydown":case"keyup":je=Ko;break;case"focusin":We="focus",je=Zt;break;case"focusout":We="blur",je=Zt;break;case"beforeblur":case"afterblur":je=Zt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=Yi;break;case Zd:case $d:case qd:je=Ei;break;case Qd:je=zc;break;case"scroll":je=_n;break;case"wheel":je=Uc;break;case"copy":case"cut":case"paste":je=Je;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Zo}var He=(s&4)!==0,vn=!He&&t==="scroll",ne=He?me!==null?me+"Capture":null:me;He=[];for(var $=ce,ie;$!==null;){ie=$;var Ie=ie.stateNode;if(ie.tag===5&&Ie!==null&&(ie=Ie,ne!==null&&(Ie=En($,ne),Ie!=null&&He.push(na($,Ie,ie)))),vn)break;$=$.return}0<He.length&&(me=new je(me,We,null,f,ye),Ce.push({event:me,listeners:He}))}}if(!(s&7)){e:{if(me=t==="mouseover"||t==="pointerover",je=t==="mouseout"||t==="pointerout",me&&f!==zr&&(We=f.relatedTarget||f.fromElement)&&(Ps(We)||We[Si]))break e;if((je||me)&&(me=ye.window===ye?ye:(me=ye.ownerDocument)?me.defaultView||me.parentWindow:window,je?(We=f.relatedTarget||f.toElement,je=ce,We=We?Ps(We):null,We!==null&&(vn=Kn(We),We!==vn||We.tag!==5&&We.tag!==6)&&(We=null)):(je=null,We=ce),je!==We)){if(He=nl,Ie="onMouseLeave",ne="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(He=Zo,Ie="onPointerLeave",ne="onPointerEnter",$="pointer"),vn=je==null?me:co(je),ie=We==null?me:co(We),me=new He(Ie,$+"leave",je,f,ye),me.target=vn,me.relatedTarget=ie,Ie=null,Ps(ye)===ce&&(He=new He(ne,$+"enter",We,f,ye),He.target=ie,He.relatedTarget=vn,Ie=He),vn=Ie,je&&We)t:{for(He=je,ne=We,$=0,ie=He;ie;ie=ao(ie))$++;for(ie=0,Ie=ne;Ie;Ie=ao(Ie))ie++;for(;0<$-ie;)He=ao(He),$--;for(;0<ie-$;)ne=ao(ne),ie--;for(;$--;){if(He===ne||ne!==null&&He===ne.alternate)break t;He=ao(He),ne=ao(ne)}He=null}else He=null;je!==null&&ih(Ce,me,je,He,!1),We!==null&&vn!==null&&ih(Ce,vn,We,He,!0)}}e:{if(me=ce?co(ce):window,je=me.nodeName&&me.nodeName.toLowerCase(),je==="select"||je==="input"&&me.type==="file")var Xe=l;else if(kt(me))if(c)Xe=G;else{Xe=D;var et=P}else(je=me.nodeName)&&je.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Xe=z);if(Xe&&(Xe=Xe(t,ce))){ks(Ce,Xe,f,ye);break e}et&&et(t,me,ce),t==="focusout"&&(et=me._wrapperState)&&et.controlled&&me.type==="number"&&ut(me,"number",me.value)}switch(et=ce?co(ce):window,t){case"focusin":(kt(et)||et.contentEditable==="true")&&(wn=et,Ft=ce,on=null);break;case"focusout":on=Ft=wn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":zn=!1,Ai(Ce,f,ye);break;case"selectionchange":if(Er)break;case"keydown":case"keyup":Ai(Ce,f,ye)}var tt;if(Ki)e:{switch(t){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Vn?al(t,f)&&(ot="onCompositionEnd"):t==="keydown"&&f.keyCode===229&&(ot="onCompositionStart");ot&&(Cr&&f.locale!=="ko"&&(Vn||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Vn&&(tt=tl()):(Gr=ye,Go="value"in Gr?Gr.value:Gr.textContent,Vn=!0)),et=ul(ce,ot),0<et.length&&(ot=new Wt(ot,t,null,f,ye),Ce.push({event:ot,listeners:et}),tt?ot.data=tt:(tt=qo(f),tt!==null&&(ot.data=tt)))),(tt=sl?Wc(t,f):Qo(t,f))&&(ce=ul(ce,"onBeforeInput"),0<ce.length&&(ye=new Wt("onBeforeInput","beforeinput",null,f,ye),Ce.push({event:ye,listeners:ce}),ye.data=tt))}nh(Ce,s)})}function na(t,s,f){return{instance:t,listener:s,currentTarget:f}}function ul(t,s){for(var f=s+"Capture",g=[];t!==null;){var C=t,I=C.stateNode;C.tag===5&&I!==null&&(C=I,I=En(t,f),I!=null&&g.unshift(na(t,I,C)),I=En(t,s),I!=null&&g.push(na(t,I,C))),t=t.return}return g}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ih(t,s,f,g,C){for(var I=s._reactName,O=[];f!==null&&f!==g;){var W=f,Y=W.alternate,ce=W.stateNode;if(Y!==null&&Y===g)break;W.tag===5&&ce!==null&&(W=ce,C?(Y=En(f,I),Y!=null&&O.unshift(na(f,Y,W))):C||(Y=En(f,I),Y!=null&&O.push(na(f,Y,W)))),f=f.return}O.length!==0&&t.push({event:s,listeners:O})}var tx=/\r\n?/g,nx=/\u0000|\uFFFD/g;function sh(t){return(typeof t=="string"?t:""+t).replace(tx,`
`).replace(nx,"")}function fl(t,s,f){if(s=sh(s),sh(t)!==s&&f)throw Error(a(425))}function dl(){}var Kc=null,Zc=null;function $c(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qc=typeof setTimeout=="function"?setTimeout:void 0,rx=typeof clearTimeout=="function"?clearTimeout:void 0,oh=typeof Promise=="function"?Promise:void 0,ix=typeof queueMicrotask=="function"?queueMicrotask:typeof oh<"u"?function(t){return oh.resolve(null).then(t).catch(sx)}:qc;function sx(t){setTimeout(function(){throw t})}function Qc(t,s){var f=s,g=0;do{var C=f.nextSibling;if(t.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(g===0){t.removeChild(C),Hr(s);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=C}while(f);Hr(s)}function qi(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function ah(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var f=t.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return t;s--}else f==="/$"&&s++}t=t.previousSibling}return null}var lo=Math.random().toString(36).slice(2),ai="__reactFiber$"+lo,ra="__reactProps$"+lo,Si="__reactContainer$"+lo,Jc="__reactEvents$"+lo,ox="__reactListeners$"+lo,ax="__reactHandles$"+lo;function Ps(t){var s=t[ai];if(s)return s;for(var f=t.parentNode;f;){if(s=f[Si]||f[ai]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(t=ah(t);t!==null;){if(f=t[ai])return f;t=ah(t)}return s}t=f,f=t.parentNode}return null}function ia(t){return t=t[ai]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function hl(t){return t[ra]||null}var eu=[],uo=-1;function Qi(t){return{current:t}}function Jt(t){0>uo||(t.current=eu[uo],eu[uo]=null,uo--)}function $t(t,s){uo++,eu[uo]=t.current,t.current=s}var Ji={},qn=Qi(Ji),dr=Qi(!1),Os=Ji;function fo(t,s){var f=t.type.contextTypes;if(!f)return Ji;var g=t.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var C={},I;for(I in f)C[I]=s[I];return g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=C),C}function hr(t){return t=t.childContextTypes,t!=null}function pl(){Jt(dr),Jt(qn)}function lh(t,s,f){if(qn.current!==Ji)throw Error(a(168));$t(qn,s),$t(dr,f)}function ch(t,s,f){var g=t.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var C in g)if(!(C in s))throw Error(a(108,Ze(t)||"Unknown",C));return fe({},f,g)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ji,Os=qn.current,$t(qn,t),$t(dr,dr.current),!0}function uh(t,s,f){var g=t.stateNode;if(!g)throw Error(a(169));f?(t=ch(t,s,Os),g.__reactInternalMemoizedMergedChildContext=t,Jt(dr),Jt(qn),$t(qn,t)):Jt(dr),$t(dr,f)}var Ii=null,ml=!1,tu=!1;function fh(t){Ii===null?Ii=[t]:Ii.push(t)}function lx(t){ml=!0,fh(t)}function es(){if(!tu&&Ii!==null){tu=!0;var t=0,s=xt;try{var f=Ii;for(xt=1;t<f.length;t++){var g=f[t];do g=g(!0);while(g!==null)}Ii=null,ml=!1}catch(C){throw Ii!==null&&(Ii=Ii.slice(t+1)),qe(pe,es),C}finally{xt=s,tu=!1}}return null}var ho=[],po=0,xl=null,yl=0,Pr=[],Or=0,Ms=null,Ti=1,Ni="";function Ds(t,s){ho[po++]=yl,ho[po++]=xl,xl=t,yl=s}function dh(t,s,f){Pr[Or++]=Ti,Pr[Or++]=Ni,Pr[Or++]=Ms,Ms=t;var g=Ti;t=Ni;var C=32-or(g)-1;g&=~(1<<C),f+=1;var I=32-or(s)+C;if(30<I){var O=C-C%5;I=(g&(1<<O)-1).toString(32),g>>=O,C-=O,Ti=1<<32-or(s)+C|f<<C|g,Ni=I+t}else Ti=1<<I|f<<C|g,Ni=t}function nu(t){t.return!==null&&(Ds(t,1),dh(t,1,0))}function ru(t){for(;t===xl;)xl=ho[--po],ho[po]=null,yl=ho[--po],ho[po]=null;for(;t===Ms;)Ms=Pr[--Or],Pr[Or]=null,Ni=Pr[--Or],Pr[Or]=null,Ti=Pr[--Or],Pr[Or]=null}var br=null,Ar=null,tn=!1,Yr=null;function hh(t,s){var f=Br(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=t,s=t.deletions,s===null?(t.deletions=[f],t.flags|=16):s.push(f)}function ph(t,s){switch(t.tag){case 5:var f=t.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,br=t,Ar=qi(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,br=t,Ar=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=Ms!==null?{id:Ti,overflow:Ni}:null,t.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=Br(18,null,null,0),f.stateNode=s,f.return=t,t.child=f,br=t,Ar=null,!0):!1;default:return!1}}function iu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function su(t){if(tn){var s=Ar;if(s){var f=s;if(!ph(t,s)){if(iu(t))throw Error(a(418));s=qi(f.nextSibling);var g=br;s&&ph(t,s)?hh(g,f):(t.flags=t.flags&-4097|2,tn=!1,br=t)}}else{if(iu(t))throw Error(a(418));t.flags=t.flags&-4097|2,tn=!1,br=t}}}function gh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function wl(t){if(t!==br)return!1;if(!tn)return gh(t),tn=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!$c(t.type,t.memoizedProps)),s&&(s=Ar)){if(iu(t))throw mh(),Error(a(418));for(;s;)hh(t,s),s=qi(s.nextSibling)}if(gh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var f=t.data;if(f==="/$"){if(s===0){Ar=qi(t.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}t=t.nextSibling}Ar=null}}else Ar=br?qi(t.stateNode.nextSibling):null;return!0}function mh(){for(var t=Ar;t;)t=qi(t.nextSibling)}function go(){Ar=br=null,tn=!1}function ou(t){Yr===null?Yr=[t]:Yr.push(t)}var cx=re.ReactCurrentBatchConfig;function sa(t,s,f){if(t=f.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(a(309));var g=f.stateNode}if(!g)throw Error(a(147,t));var C=g,I=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===I?s.ref:(s=function(O){var W=C.refs;O===null?delete W[I]:W[I]=O},s._stringRef=I,s)}if(typeof t!="string")throw Error(a(284));if(!f._owner)throw Error(a(290,t))}return t}function vl(t,s){throw t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function xh(t){var s=t._init;return s(t._payload)}function yh(t){function s(ne,$){if(t){var ie=ne.deletions;ie===null?(ne.deletions=[$],ne.flags|=16):ie.push($)}}function f(ne,$){if(!t)return null;for(;$!==null;)s(ne,$),$=$.sibling;return null}function g(ne,$){for(ne=new Map;$!==null;)$.key!==null?ne.set($.key,$):ne.set($.index,$),$=$.sibling;return ne}function C(ne,$){return ne=ls(ne,$),ne.index=0,ne.sibling=null,ne}function I(ne,$,ie){return ne.index=ie,t?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<$?(ne.flags|=2,$):ie):(ne.flags|=2,$)):(ne.flags|=1048576,$)}function O(ne){return t&&ne.alternate===null&&(ne.flags|=2),ne}function W(ne,$,ie,Ie){return $===null||$.tag!==6?($=qu(ie,ne.mode,Ie),$.return=ne,$):($=C($,ie),$.return=ne,$)}function Y(ne,$,ie,Ie){var Xe=ie.type;return Xe===X?ye(ne,$,ie.props.children,Ie,ie.key):$!==null&&($.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Be&&xh(Xe)===$.type)?(Ie=C($,ie.props),Ie.ref=sa(ne,$,ie),Ie.return=ne,Ie):(Ie=Hl(ie.type,ie.key,ie.props,null,ne.mode,Ie),Ie.ref=sa(ne,$,ie),Ie.return=ne,Ie)}function ce(ne,$,ie,Ie){return $===null||$.tag!==4||$.stateNode.containerInfo!==ie.containerInfo||$.stateNode.implementation!==ie.implementation?($=Qu(ie,ne.mode,Ie),$.return=ne,$):($=C($,ie.children||[]),$.return=ne,$)}function ye(ne,$,ie,Ie,Xe){return $===null||$.tag!==7?($=Ws(ie,ne.mode,Ie,Xe),$.return=ne,$):($=C($,ie),$.return=ne,$)}function Ce(ne,$,ie){if(typeof $=="string"&&$!==""||typeof $=="number")return $=qu(""+$,ne.mode,ie),$.return=ne,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ae:return ie=Hl($.type,$.key,$.props,null,ne.mode,ie),ie.ref=sa(ne,null,$),ie.return=ne,ie;case le:return $=Qu($,ne.mode,ie),$.return=ne,$;case Be:var Ie=$._init;return Ce(ne,Ie($._payload),ie)}if(An($)||Re($))return $=Ws($,ne.mode,ie,null),$.return=ne,$;vl(ne,$)}return null}function me(ne,$,ie,Ie){var Xe=$!==null?$.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Xe!==null?null:W(ne,$,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ae:return ie.key===Xe?Y(ne,$,ie,Ie):null;case le:return ie.key===Xe?ce(ne,$,ie,Ie):null;case Be:return Xe=ie._init,me(ne,$,Xe(ie._payload),Ie)}if(An(ie)||Re(ie))return Xe!==null?null:ye(ne,$,ie,Ie,null);vl(ne,ie)}return null}function je(ne,$,ie,Ie,Xe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ne=ne.get(ie)||null,W($,ne,""+Ie,Xe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case ae:return ne=ne.get(Ie.key===null?ie:Ie.key)||null,Y($,ne,Ie,Xe);case le:return ne=ne.get(Ie.key===null?ie:Ie.key)||null,ce($,ne,Ie,Xe);case Be:var et=Ie._init;return je(ne,$,ie,et(Ie._payload),Xe)}if(An(Ie)||Re(Ie))return ne=ne.get(ie)||null,ye($,ne,Ie,Xe,null);vl($,Ie)}return null}function We(ne,$,ie,Ie){for(var Xe=null,et=null,tt=$,ot=$=0,Fn=null;tt!==null&&ot<ie.length;ot++){tt.index>ot?(Fn=tt,tt=null):Fn=tt.sibling;var Lt=me(ne,tt,ie[ot],Ie);if(Lt===null){tt===null&&(tt=Fn);break}t&&tt&&Lt.alternate===null&&s(ne,tt),$=I(Lt,$,ot),et===null?Xe=Lt:et.sibling=Lt,et=Lt,tt=Fn}if(ot===ie.length)return f(ne,tt),tn&&Ds(ne,ot),Xe;if(tt===null){for(;ot<ie.length;ot++)tt=Ce(ne,ie[ot],Ie),tt!==null&&($=I(tt,$,ot),et===null?Xe=tt:et.sibling=tt,et=tt);return tn&&Ds(ne,ot),Xe}for(tt=g(ne,tt);ot<ie.length;ot++)Fn=je(tt,ne,ot,ie[ot],Ie),Fn!==null&&(t&&Fn.alternate!==null&&tt.delete(Fn.key===null?ot:Fn.key),$=I(Fn,$,ot),et===null?Xe=Fn:et.sibling=Fn,et=Fn);return t&&tt.forEach(function(cs){return s(ne,cs)}),tn&&Ds(ne,ot),Xe}function He(ne,$,ie,Ie){var Xe=Re(ie);if(typeof Xe!="function")throw Error(a(150));if(ie=Xe.call(ie),ie==null)throw Error(a(151));for(var et=Xe=null,tt=$,ot=$=0,Fn=null,Lt=ie.next();tt!==null&&!Lt.done;ot++,Lt=ie.next()){tt.index>ot?(Fn=tt,tt=null):Fn=tt.sibling;var cs=me(ne,tt,Lt.value,Ie);if(cs===null){tt===null&&(tt=Fn);break}t&&tt&&cs.alternate===null&&s(ne,tt),$=I(cs,$,ot),et===null?Xe=cs:et.sibling=cs,et=cs,tt=Fn}if(Lt.done)return f(ne,tt),tn&&Ds(ne,ot),Xe;if(tt===null){for(;!Lt.done;ot++,Lt=ie.next())Lt=Ce(ne,Lt.value,Ie),Lt!==null&&($=I(Lt,$,ot),et===null?Xe=Lt:et.sibling=Lt,et=Lt);return tn&&Ds(ne,ot),Xe}for(tt=g(ne,tt);!Lt.done;ot++,Lt=ie.next())Lt=je(tt,ne,ot,Lt.value,Ie),Lt!==null&&(t&&Lt.alternate!==null&&tt.delete(Lt.key===null?ot:Lt.key),$=I(Lt,$,ot),et===null?Xe=Lt:et.sibling=Lt,et=Lt);return t&&tt.forEach(function(Ux){return s(ne,Ux)}),tn&&Ds(ne,ot),Xe}function vn(ne,$,ie,Ie){if(typeof ie=="object"&&ie!==null&&ie.type===X&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ae:e:{for(var Xe=ie.key,et=$;et!==null;){if(et.key===Xe){if(Xe=ie.type,Xe===X){if(et.tag===7){f(ne,et.sibling),$=C(et,ie.props.children),$.return=ne,ne=$;break e}}else if(et.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Be&&xh(Xe)===et.type){f(ne,et.sibling),$=C(et,ie.props),$.ref=sa(ne,et,ie),$.return=ne,ne=$;break e}f(ne,et);break}else s(ne,et);et=et.sibling}ie.type===X?($=Ws(ie.props.children,ne.mode,Ie,ie.key),$.return=ne,ne=$):(Ie=Hl(ie.type,ie.key,ie.props,null,ne.mode,Ie),Ie.ref=sa(ne,$,ie),Ie.return=ne,ne=Ie)}return O(ne);case le:e:{for(et=ie.key;$!==null;){if($.key===et)if($.tag===4&&$.stateNode.containerInfo===ie.containerInfo&&$.stateNode.implementation===ie.implementation){f(ne,$.sibling),$=C($,ie.children||[]),$.return=ne,ne=$;break e}else{f(ne,$);break}else s(ne,$);$=$.sibling}$=Qu(ie,ne.mode,Ie),$.return=ne,ne=$}return O(ne);case Be:return et=ie._init,vn(ne,$,et(ie._payload),Ie)}if(An(ie))return We(ne,$,ie,Ie);if(Re(ie))return He(ne,$,ie,Ie);vl(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,$!==null&&$.tag===6?(f(ne,$.sibling),$=C($,ie),$.return=ne,ne=$):(f(ne,$),$=qu(ie,ne.mode,Ie),$.return=ne,ne=$),O(ne)):f(ne,$)}return vn}var mo=yh(!0),wh=yh(!1),Cl=Qi(null),El=null,xo=null,au=null;function lu(){au=xo=El=null}function cu(t){var s=Cl.current;Jt(Cl),t._currentValue=s}function uu(t,s,f){for(;t!==null;){var g=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),t===f)break;t=t.return}}function yo(t,s){El=t,au=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(pr=!0),t.firstContext=null)}function Mr(t){var s=t._currentValue;if(au!==t)if(t={context:t,memoizedValue:s,next:null},xo===null){if(El===null)throw Error(a(308));xo=t,El.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return s}var Ls=null;function fu(t){Ls===null?Ls=[t]:Ls.push(t)}function vh(t,s,f,g){var C=s.interleaved;return C===null?(f.next=f,fu(s)):(f.next=C.next,C.next=f),s.interleaved=f,Ri(t,g)}function Ri(t,s){t.lanes|=s;var f=t.alternate;for(f!==null&&(f.lanes|=s),f=t,t=t.return;t!==null;)t.childLanes|=s,f=t.alternate,f!==null&&(f.childLanes|=s),f=t,t=t.return;return f.tag===3?f.stateNode:null}var ts=!1;function du(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ch(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function ns(t,s,f){var g=t.updateQueue;if(g===null)return null;if(g=g.shared,Dt&2){var C=g.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),g.pending=s,Ri(t,f)}return C=g.interleaved,C===null?(s.next=s,fu(g)):(s.next=C.next,C.next=s),g.interleaved=s,Ri(t,f)}function bl(t,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var g=s.lanes;g&=t.pendingLanes,f|=g,s.lanes=f,dn(t,f)}}function Eh(t,s){var f=t.updateQueue,g=t.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var C=null,I=null;if(f=f.firstBaseUpdate,f!==null){do{var O={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};I===null?C=I=O:I=I.next=O,f=f.next}while(f!==null);I===null?C=I=s:I=I.next=s}else C=I=s;f={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:I,shared:g.shared,effects:g.effects},t.updateQueue=f;return}t=f.lastBaseUpdate,t===null?f.firstBaseUpdate=s:t.next=s,f.lastBaseUpdate=s}function Al(t,s,f,g){var C=t.updateQueue;ts=!1;var I=C.firstBaseUpdate,O=C.lastBaseUpdate,W=C.shared.pending;if(W!==null){C.shared.pending=null;var Y=W,ce=Y.next;Y.next=null,O===null?I=ce:O.next=ce,O=Y;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==O&&(W===null?ye.firstBaseUpdate=ce:W.next=ce,ye.lastBaseUpdate=Y))}if(I!==null){var Ce=C.baseState;O=0,ye=ce=Y=null,W=I;do{var me=W.lane,je=W.eventTime;if((g&me)===me){ye!==null&&(ye=ye.next={eventTime:je,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var We=t,He=W;switch(me=s,je=f,He.tag){case 1:if(We=He.payload,typeof We=="function"){Ce=We.call(je,Ce,me);break e}Ce=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=He.payload,me=typeof We=="function"?We.call(je,Ce,me):We,me==null)break e;Ce=fe({},Ce,me);break e;case 2:ts=!0}}W.callback!==null&&W.lane!==0&&(t.flags|=64,me=C.effects,me===null?C.effects=[W]:me.push(W))}else je={eventTime:je,lane:me,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(ce=ye=je,Y=Ce):ye=ye.next=je,O|=me;if(W=W.next,W===null){if(W=C.shared.pending,W===null)break;me=W,W=me.next,me.next=null,C.lastBaseUpdate=me,C.shared.pending=null}}while(!0);if(ye===null&&(Y=Ce),C.baseState=Y,C.firstBaseUpdate=ce,C.lastBaseUpdate=ye,s=C.shared.interleaved,s!==null){C=s;do O|=C.lane,C=C.next;while(C!==s)}else I===null&&(C.shared.lanes=0);js|=O,t.lanes=O,t.memoizedState=Ce}}function bh(t,s,f){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var g=t[s],C=g.callback;if(C!==null){if(g.callback=null,g=f,typeof C!="function")throw Error(a(191,C));C.call(g)}}}var oa={},li=Qi(oa),aa=Qi(oa),la=Qi(oa);function Bs(t){if(t===oa)throw Error(a(174));return t}function hu(t,s){switch($t(la,s),$t(aa,t),$t(li,oa),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:jt(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=jt(s,t)}Jt(li),$t(li,s)}function wo(){Jt(li),Jt(aa),Jt(la)}function Ah(t){Bs(la.current);var s=Bs(li.current),f=jt(s,t.type);s!==f&&($t(aa,t),$t(li,f))}function pu(t){aa.current===t&&(Jt(li),Jt(aa))}var an=Qi(0);function Sl(t){for(var s=t;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var gu=[];function mu(){for(var t=0;t<gu.length;t++)gu[t]._workInProgressVersionPrimary=null;gu.length=0}var Il=re.ReactCurrentDispatcher,xu=re.ReactCurrentBatchConfig,Fs=0,ln=null,kn=null,Ln=null,Tl=!1,ca=!1,ua=0,ux=0;function Qn(){throw Error(a(321))}function yu(t,s){if(s===null)return!1;for(var f=0;f<s.length&&f<t.length;f++)if(!Q(t[f],s[f]))return!1;return!0}function wu(t,s,f,g,C,I){if(Fs=I,ln=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Il.current=t===null||t.memoizedState===null?px:gx,t=f(g,C),ca){I=0;do{if(ca=!1,ua=0,25<=I)throw Error(a(301));I+=1,Ln=kn=null,s.updateQueue=null,Il.current=mx,t=f(g,C)}while(ca)}if(Il.current=_l,s=kn!==null&&kn.next!==null,Fs=0,Ln=kn=ln=null,Tl=!1,s)throw Error(a(300));return t}function vu(){var t=ua!==0;return ua=0,t}function ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?ln.memoizedState=Ln=t:Ln=Ln.next=t,Ln}function Dr(){if(kn===null){var t=ln.alternate;t=t!==null?t.memoizedState:null}else t=kn.next;var s=Ln===null?ln.memoizedState:Ln.next;if(s!==null)Ln=s,kn=t;else{if(t===null)throw Error(a(310));kn=t,t={memoizedState:kn.memoizedState,baseState:kn.baseState,baseQueue:kn.baseQueue,queue:kn.queue,next:null},Ln===null?ln.memoizedState=Ln=t:Ln=Ln.next=t}return Ln}function fa(t,s){return typeof s=="function"?s(t):s}function Cu(t){var s=Dr(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=t;var g=kn,C=g.baseQueue,I=f.pending;if(I!==null){if(C!==null){var O=C.next;C.next=I.next,I.next=O}g.baseQueue=C=I,f.pending=null}if(C!==null){I=C.next,g=g.baseState;var W=O=null,Y=null,ce=I;do{var ye=ce.lane;if((Fs&ye)===ye)Y!==null&&(Y=Y.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),g=ce.hasEagerState?ce.eagerState:t(g,ce.action);else{var Ce={lane:ye,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Y===null?(W=Y=Ce,O=g):Y=Y.next=Ce,ln.lanes|=ye,js|=ye}ce=ce.next}while(ce!==null&&ce!==I);Y===null?O=g:Y.next=W,Q(g,s.memoizedState)||(pr=!0),s.memoizedState=g,s.baseState=O,s.baseQueue=Y,f.lastRenderedState=g}if(t=f.interleaved,t!==null){C=t;do I=C.lane,ln.lanes|=I,js|=I,C=C.next;while(C!==t)}else C===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function Eu(t){var s=Dr(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=t;var g=f.dispatch,C=f.pending,I=s.memoizedState;if(C!==null){f.pending=null;var O=C=C.next;do I=t(I,O.action),O=O.next;while(O!==C);Q(I,s.memoizedState)||(pr=!0),s.memoizedState=I,s.baseQueue===null&&(s.baseState=I),f.lastRenderedState=I}return[I,g]}function Sh(){}function Ih(t,s){var f=ln,g=Dr(),C=s(),I=!Q(g.memoizedState,C);if(I&&(g.memoizedState=C,pr=!0),g=g.queue,bu(Rh.bind(null,f,g,t),[t]),g.getSnapshot!==s||I||Ln!==null&&Ln.memoizedState.tag&1){if(f.flags|=2048,da(9,Nh.bind(null,f,g,C,s),void 0,null),Bn===null)throw Error(a(349));Fs&30||Th(f,s,C)}return C}function Th(t,s,f){t.flags|=16384,t={getSnapshot:s,value:f},s=ln.updateQueue,s===null?(s={lastEffect:null,stores:null},ln.updateQueue=s,s.stores=[t]):(f=s.stores,f===null?s.stores=[t]:f.push(t))}function Nh(t,s,f,g){s.value=f,s.getSnapshot=g,_h(s)&&kh(t)}function Rh(t,s,f){return f(function(){_h(s)&&kh(t)})}function _h(t){var s=t.getSnapshot;t=t.value;try{var f=s();return!Q(t,f)}catch{return!0}}function kh(t){var s=Ri(t,1);s!==null&&qr(s,t,1,-1)}function Ph(t){var s=ci();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},s.queue=t,t=t.dispatch=hx.bind(null,ln,t),[s.memoizedState,t]}function da(t,s,f,g){return t={tag:t,create:s,destroy:f,deps:g,next:null},s=ln.updateQueue,s===null?(s={lastEffect:null,stores:null},ln.updateQueue=s,s.lastEffect=t.next=t):(f=s.lastEffect,f===null?s.lastEffect=t.next=t:(g=f.next,f.next=t,t.next=g,s.lastEffect=t)),t}function Oh(){return Dr().memoizedState}function Nl(t,s,f,g){var C=ci();ln.flags|=t,C.memoizedState=da(1|s,f,void 0,g===void 0?null:g)}function Rl(t,s,f,g){var C=Dr();g=g===void 0?null:g;var I=void 0;if(kn!==null){var O=kn.memoizedState;if(I=O.destroy,g!==null&&yu(g,O.deps)){C.memoizedState=da(s,f,I,g);return}}ln.flags|=t,C.memoizedState=da(1|s,f,I,g)}function Mh(t,s){return Nl(8390656,8,t,s)}function bu(t,s){return Rl(2048,8,t,s)}function Dh(t,s){return Rl(4,2,t,s)}function Lh(t,s){return Rl(4,4,t,s)}function Bh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Fh(t,s,f){return f=f!=null?f.concat([t]):null,Rl(4,4,Bh.bind(null,s,t),f)}function Au(){}function jh(t,s){var f=Dr();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&yu(s,g[1])?g[0]:(f.memoizedState=[t,s],t)}function Vh(t,s){var f=Dr();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&yu(s,g[1])?g[0]:(t=t(),f.memoizedState=[t,s],t)}function zh(t,s,f){return Fs&21?(Q(f,s)||(f=Tn(),ln.lanes|=f,js|=f,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,pr=!0),t.memoizedState=f)}function fx(t,s){var f=xt;xt=f!==0&&4>f?f:4,t(!0);var g=xu.transition;xu.transition={};try{t(!1),s()}finally{xt=f,xu.transition=g}}function Uh(){return Dr().memoizedState}function dx(t,s,f){var g=os(t);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Wh(t))Hh(s,f);else if(f=vh(t,s,f,g),f!==null){var C=lr();qr(f,t,g,C),Gh(f,s,g)}}function hx(t,s,f){var g=os(t),C={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Wh(t))Hh(s,C);else{var I=t.alternate;if(t.lanes===0&&(I===null||I.lanes===0)&&(I=s.lastRenderedReducer,I!==null))try{var O=s.lastRenderedState,W=I(O,f);if(C.hasEagerState=!0,C.eagerState=W,Q(W,O)){var Y=s.interleaved;Y===null?(C.next=C,fu(s)):(C.next=Y.next,Y.next=C),s.interleaved=C;return}}catch{}finally{}f=vh(t,s,C,g),f!==null&&(C=lr(),qr(f,t,g,C),Gh(f,s,g))}}function Wh(t){var s=t.alternate;return t===ln||s!==null&&s===ln}function Hh(t,s){ca=Tl=!0;var f=t.pending;f===null?s.next=s:(s.next=f.next,f.next=s),t.pending=s}function Gh(t,s,f){if(f&4194240){var g=s.lanes;g&=t.pendingLanes,f|=g,s.lanes=f,dn(t,f)}}var _l={readContext:Mr,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},px={readContext:Mr,useCallback:function(t,s){return ci().memoizedState=[t,s===void 0?null:s],t},useContext:Mr,useEffect:Mh,useImperativeHandle:function(t,s,f){return f=f!=null?f.concat([t]):null,Nl(4194308,4,Bh.bind(null,s,t),f)},useLayoutEffect:function(t,s){return Nl(4194308,4,t,s)},useInsertionEffect:function(t,s){return Nl(4,2,t,s)},useMemo:function(t,s){var f=ci();return s=s===void 0?null:s,t=t(),f.memoizedState=[t,s],t},useReducer:function(t,s,f){var g=ci();return s=f!==void 0?f(s):s,g.memoizedState=g.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},g.queue=t,t=t.dispatch=dx.bind(null,ln,t),[g.memoizedState,t]},useRef:function(t){var s=ci();return t={current:t},s.memoizedState=t},useState:Ph,useDebugValue:Au,useDeferredValue:function(t){return ci().memoizedState=t},useTransition:function(){var t=Ph(!1),s=t[0];return t=fx.bind(null,t[1]),ci().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,f){var g=ln,C=ci();if(tn){if(f===void 0)throw Error(a(407));f=f()}else{if(f=s(),Bn===null)throw Error(a(349));Fs&30||Th(g,s,f)}C.memoizedState=f;var I={value:f,getSnapshot:s};return C.queue=I,Mh(Rh.bind(null,g,I,t),[t]),g.flags|=2048,da(9,Nh.bind(null,g,I,f,s),void 0,null),f},useId:function(){var t=ci(),s=Bn.identifierPrefix;if(tn){var f=Ni,g=Ti;f=(g&~(1<<32-or(g)-1)).toString(32)+f,s=":"+s+"R"+f,f=ua++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=ux++,s=":"+s+"r"+f.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},gx={readContext:Mr,useCallback:jh,useContext:Mr,useEffect:bu,useImperativeHandle:Fh,useInsertionEffect:Dh,useLayoutEffect:Lh,useMemo:Vh,useReducer:Cu,useRef:Oh,useState:function(){return Cu(fa)},useDebugValue:Au,useDeferredValue:function(t){var s=Dr();return zh(s,kn.memoizedState,t)},useTransition:function(){var t=Cu(fa)[0],s=Dr().memoizedState;return[t,s]},useMutableSource:Sh,useSyncExternalStore:Ih,useId:Uh,unstable_isNewReconciler:!1},mx={readContext:Mr,useCallback:jh,useContext:Mr,useEffect:bu,useImperativeHandle:Fh,useInsertionEffect:Dh,useLayoutEffect:Lh,useMemo:Vh,useReducer:Eu,useRef:Oh,useState:function(){return Eu(fa)},useDebugValue:Au,useDeferredValue:function(t){var s=Dr();return kn===null?s.memoizedState=t:zh(s,kn.memoizedState,t)},useTransition:function(){var t=Eu(fa)[0],s=Dr().memoizedState;return[t,s]},useMutableSource:Sh,useSyncExternalStore:Ih,useId:Uh,unstable_isNewReconciler:!1};function Kr(t,s){if(t&&t.defaultProps){s=fe({},s),t=t.defaultProps;for(var f in t)s[f]===void 0&&(s[f]=t[f]);return s}return s}function Su(t,s,f,g){s=t.memoizedState,f=f(g,s),f=f==null?s:fe({},s,f),t.memoizedState=f,t.lanes===0&&(t.updateQueue.baseState=f)}var kl={isMounted:function(t){return(t=t._reactInternals)?Kn(t)===t:!1},enqueueSetState:function(t,s,f){t=t._reactInternals;var g=lr(),C=os(t),I=_i(g,C);I.payload=s,f!=null&&(I.callback=f),s=ns(t,I,C),s!==null&&(qr(s,t,C,g),bl(s,t,C))},enqueueReplaceState:function(t,s,f){t=t._reactInternals;var g=lr(),C=os(t),I=_i(g,C);I.tag=1,I.payload=s,f!=null&&(I.callback=f),s=ns(t,I,C),s!==null&&(qr(s,t,C,g),bl(s,t,C))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var f=lr(),g=os(t),C=_i(f,g);C.tag=2,s!=null&&(C.callback=s),s=ns(t,C,g),s!==null&&(qr(s,t,g,f),bl(s,t,g))}};function Xh(t,s,f,g,C,I,O){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(g,I,O):s.prototype&&s.prototype.isPureReactComponent?!se(f,g)||!se(C,I):!0}function Yh(t,s,f){var g=!1,C=Ji,I=s.contextType;return typeof I=="object"&&I!==null?I=Mr(I):(C=hr(s)?Os:qn.current,g=s.contextTypes,I=(g=g!=null)?fo(t,C):Ji),s=new s(f,I),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=kl,t.stateNode=s,s._reactInternals=t,g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=C,t.__reactInternalMemoizedMaskedChildContext=I),s}function Kh(t,s,f,g){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,g),s.state!==t&&kl.enqueueReplaceState(s,s.state,null)}function Iu(t,s,f,g){var C=t.stateNode;C.props=f,C.state=t.memoizedState,C.refs={},du(t);var I=s.contextType;typeof I=="object"&&I!==null?C.context=Mr(I):(I=hr(s)?Os:qn.current,C.context=fo(t,I)),C.state=t.memoizedState,I=s.getDerivedStateFromProps,typeof I=="function"&&(Su(t,s,I,f),C.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(s=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),s!==C.state&&kl.enqueueReplaceState(C,C.state,null),Al(t,f,C,g),C.state=t.memoizedState),typeof C.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,s){try{var f="",g=s;do f+=it(g),g=g.return;while(g);var C=f}catch(I){C=`
Error generating stack: `+I.message+`
`+I.stack}return{value:t,source:s,stack:C,digest:null}}function Tu(t,s,f){return{value:t,source:null,stack:f??null,digest:s??null}}function Nu(t,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var xx=typeof WeakMap=="function"?WeakMap:Map;function Zh(t,s,f){f=_i(-1,f),f.tag=3,f.payload={element:null};var g=s.value;return f.callback=function(){Fl||(Fl=!0,Wu=g),Nu(t,s)},f}function $h(t,s,f){f=_i(-1,f),f.tag=3;var g=t.type.getDerivedStateFromError;if(typeof g=="function"){var C=s.value;f.payload=function(){return g(C)},f.callback=function(){Nu(t,s)}}var I=t.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(f.callback=function(){Nu(t,s),typeof g!="function"&&(is===null?is=new Set([this]):is.add(this));var O=s.stack;this.componentDidCatch(s.value,{componentStack:O!==null?O:""})}),f}function qh(t,s,f){var g=t.pingCache;if(g===null){g=t.pingCache=new xx;var C=new Set;g.set(s,C)}else C=g.get(s),C===void 0&&(C=new Set,g.set(s,C));C.has(f)||(C.add(f),t=kx.bind(null,t,s,f),s.then(t,t))}function Qh(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Jh(t,s,f,g,C){return t.mode&1?(t.flags|=65536,t.lanes=C,t):(t===s?t.flags|=65536:(t.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=_i(-1,1),s.tag=2,ns(f,s,1))),f.lanes|=1),t)}var yx=re.ReactCurrentOwner,pr=!1;function ar(t,s,f,g){s.child=t===null?wh(s,null,f,g):mo(s,t.child,f,g)}function e0(t,s,f,g,C){f=f.render;var I=s.ref;return yo(s,C),g=wu(t,s,f,g,I,C),f=vu(),t!==null&&!pr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~C,ki(t,s,C)):(tn&&f&&nu(s),s.flags|=1,ar(t,s,g,C),s.child)}function t0(t,s,f,g,C){if(t===null){var I=f.type;return typeof I=="function"&&!$u(I)&&I.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=I,n0(t,s,I,g,C)):(t=Hl(f.type,null,g,s,s.mode,C),t.ref=s.ref,t.return=s,s.child=t)}if(I=t.child,!(t.lanes&C)){var O=I.memoizedProps;if(f=f.compare,f=f!==null?f:se,f(O,g)&&t.ref===s.ref)return ki(t,s,C)}return s.flags|=1,t=ls(I,g),t.ref=s.ref,t.return=s,s.child=t}function n0(t,s,f,g,C){if(t!==null){var I=t.memoizedProps;if(se(I,g)&&t.ref===s.ref)if(pr=!1,s.pendingProps=g=I,(t.lanes&C)!==0)t.flags&131072&&(pr=!0);else return s.lanes=t.lanes,ki(t,s,C)}return Ru(t,s,f,g,C)}function r0(t,s,f){var g=s.pendingProps,C=g.children,I=t!==null?t.memoizedState:null;if(g.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(Eo,Sr),Sr|=f;else{if(!(f&1073741824))return t=I!==null?I.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,$t(Eo,Sr),Sr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=I!==null?I.baseLanes:f,$t(Eo,Sr),Sr|=g}else I!==null?(g=I.baseLanes|f,s.memoizedState=null):g=f,$t(Eo,Sr),Sr|=g;return ar(t,s,C,f),s.child}function i0(t,s){var f=s.ref;(t===null&&f!==null||t!==null&&t.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Ru(t,s,f,g,C){var I=hr(f)?Os:qn.current;return I=fo(s,I),yo(s,C),f=wu(t,s,f,g,I,C),g=vu(),t!==null&&!pr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~C,ki(t,s,C)):(tn&&g&&nu(s),s.flags|=1,ar(t,s,f,C),s.child)}function s0(t,s,f,g,C){if(hr(f)){var I=!0;gl(s)}else I=!1;if(yo(s,C),s.stateNode===null)Ol(t,s),Yh(s,f,g),Iu(s,f,g,C),g=!0;else if(t===null){var O=s.stateNode,W=s.memoizedProps;O.props=W;var Y=O.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=Mr(ce):(ce=hr(f)?Os:qn.current,ce=fo(s,ce));var ye=f.getDerivedStateFromProps,Ce=typeof ye=="function"||typeof O.getSnapshotBeforeUpdate=="function";Ce||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==g||Y!==ce)&&Kh(s,O,g,ce),ts=!1;var me=s.memoizedState;O.state=me,Al(s,g,O,C),Y=s.memoizedState,W!==g||me!==Y||dr.current||ts?(typeof ye=="function"&&(Su(s,f,ye,g),Y=s.memoizedState),(W=ts||Xh(s,f,W,g,me,Y,ce))?(Ce||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(s.flags|=4194308)):(typeof O.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=Y),O.props=g,O.state=Y,O.context=ce,g=W):(typeof O.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{O=s.stateNode,Ch(t,s),W=s.memoizedProps,ce=s.type===s.elementType?W:Kr(s.type,W),O.props=ce,Ce=s.pendingProps,me=O.context,Y=f.contextType,typeof Y=="object"&&Y!==null?Y=Mr(Y):(Y=hr(f)?Os:qn.current,Y=fo(s,Y));var je=f.getDerivedStateFromProps;(ye=typeof je=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==Ce||me!==Y)&&Kh(s,O,g,Y),ts=!1,me=s.memoizedState,O.state=me,Al(s,g,O,C);var We=s.memoizedState;W!==Ce||me!==We||dr.current||ts?(typeof je=="function"&&(Su(s,f,je,g),We=s.memoizedState),(ce=ts||Xh(s,f,ce,g,me,We,Y)||!1)?(ye||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,We,Y),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,We,Y)),typeof O.componentDidUpdate=="function"&&(s.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===t.memoizedProps&&me===t.memoizedState||(s.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===t.memoizedProps&&me===t.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=We),O.props=g,O.state=We,O.context=Y,g=ce):(typeof O.componentDidUpdate!="function"||W===t.memoizedProps&&me===t.memoizedState||(s.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===t.memoizedProps&&me===t.memoizedState||(s.flags|=1024),g=!1)}return _u(t,s,f,g,I,C)}function _u(t,s,f,g,C,I){i0(t,s);var O=(s.flags&128)!==0;if(!g&&!O)return C&&uh(s,f,!1),ki(t,s,I);g=s.stateNode,yx.current=s;var W=O&&typeof f.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,t!==null&&O?(s.child=mo(s,t.child,null,I),s.child=mo(s,null,W,I)):ar(t,s,W,I),s.memoizedState=g.state,C&&uh(s,f,!0),s.child}function o0(t){var s=t.stateNode;s.pendingContext?lh(t,s.pendingContext,s.pendingContext!==s.context):s.context&&lh(t,s.context,!1),hu(t,s.containerInfo)}function a0(t,s,f,g,C){return go(),ou(C),s.flags|=256,ar(t,s,f,g),s.child}var ku={dehydrated:null,treeContext:null,retryLane:0};function Pu(t){return{baseLanes:t,cachePool:null,transitions:null}}function l0(t,s,f){var g=s.pendingProps,C=an.current,I=!1,O=(s.flags&128)!==0,W;if((W=O)||(W=t!==null&&t.memoizedState===null?!1:(C&2)!==0),W?(I=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(C|=1),$t(an,C&1),t===null)return su(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(O=g.children,t=g.fallback,I?(g=s.mode,I=s.child,O={mode:"hidden",children:O},!(g&1)&&I!==null?(I.childLanes=0,I.pendingProps=O):I=Gl(O,g,0,null),t=Ws(t,g,f,null),I.return=s,t.return=s,I.sibling=t,s.child=I,s.child.memoizedState=Pu(f),s.memoizedState=ku,t):Ou(s,O));if(C=t.memoizedState,C!==null&&(W=C.dehydrated,W!==null))return wx(t,s,O,g,W,C,f);if(I){I=g.fallback,O=s.mode,C=t.child,W=C.sibling;var Y={mode:"hidden",children:g.children};return!(O&1)&&s.child!==C?(g=s.child,g.childLanes=0,g.pendingProps=Y,s.deletions=null):(g=ls(C,Y),g.subtreeFlags=C.subtreeFlags&14680064),W!==null?I=ls(W,I):(I=Ws(I,O,f,null),I.flags|=2),I.return=s,g.return=s,g.sibling=I,s.child=g,g=I,I=s.child,O=t.child.memoizedState,O=O===null?Pu(f):{baseLanes:O.baseLanes|f,cachePool:null,transitions:O.transitions},I.memoizedState=O,I.childLanes=t.childLanes&~f,s.memoizedState=ku,g}return I=t.child,t=I.sibling,g=ls(I,{mode:"visible",children:g.children}),!(s.mode&1)&&(g.lanes=f),g.return=s,g.sibling=null,t!==null&&(f=s.deletions,f===null?(s.deletions=[t],s.flags|=16):f.push(t)),s.child=g,s.memoizedState=null,g}function Ou(t,s){return s=Gl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Pl(t,s,f,g){return g!==null&&ou(g),mo(s,t.child,null,f),t=Ou(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function wx(t,s,f,g,C,I,O){if(f)return s.flags&256?(s.flags&=-257,g=Tu(Error(a(422))),Pl(t,s,O,g)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(I=g.fallback,C=s.mode,g=Gl({mode:"visible",children:g.children},C,0,null),I=Ws(I,C,O,null),I.flags|=2,g.return=s,I.return=s,g.sibling=I,s.child=g,s.mode&1&&mo(s,t.child,null,O),s.child.memoizedState=Pu(O),s.memoizedState=ku,I);if(!(s.mode&1))return Pl(t,s,O,null);if(C.data==="$!"){if(g=C.nextSibling&&C.nextSibling.dataset,g)var W=g.dgst;return g=W,I=Error(a(419)),g=Tu(I,g,void 0),Pl(t,s,O,g)}if(W=(O&t.childLanes)!==0,pr||W){if(g=Bn,g!==null){switch(O&-O){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(g.suspendedLanes|O)?0:C,C!==0&&C!==I.retryLane&&(I.retryLane=C,Ri(t,C),qr(g,t,C,-1))}return Zu(),g=Tu(Error(a(421))),Pl(t,s,O,g)}return C.data==="$?"?(s.flags|=128,s.child=t.child,s=Px.bind(null,t),C._reactRetry=s,null):(t=I.treeContext,Ar=qi(C.nextSibling),br=s,tn=!0,Yr=null,t!==null&&(Pr[Or++]=Ti,Pr[Or++]=Ni,Pr[Or++]=Ms,Ti=t.id,Ni=t.overflow,Ms=s),s=Ou(s,g.children),s.flags|=4096,s)}function c0(t,s,f){t.lanes|=s;var g=t.alternate;g!==null&&(g.lanes|=s),uu(t.return,s,f)}function Mu(t,s,f,g,C){var I=t.memoizedState;I===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:C}:(I.isBackwards=s,I.rendering=null,I.renderingStartTime=0,I.last=g,I.tail=f,I.tailMode=C)}function u0(t,s,f){var g=s.pendingProps,C=g.revealOrder,I=g.tail;if(ar(t,s,g.children,f),g=an.current,g&2)g=g&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c0(t,f,s);else if(t.tag===19)c0(t,f,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}g&=1}if($t(an,g),!(s.mode&1))s.memoizedState=null;else switch(C){case"forwards":for(f=s.child,C=null;f!==null;)t=f.alternate,t!==null&&Sl(t)===null&&(C=f),f=f.sibling;f=C,f===null?(C=s.child,s.child=null):(C=f.sibling,f.sibling=null),Mu(s,!1,C,f,I);break;case"backwards":for(f=null,C=s.child,s.child=null;C!==null;){if(t=C.alternate,t!==null&&Sl(t)===null){s.child=C;break}t=C.sibling,C.sibling=f,f=C,C=t}Mu(s,!0,f,null,I);break;case"together":Mu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ol(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function ki(t,s,f){if(t!==null&&(s.dependencies=t.dependencies),js|=s.lanes,!(f&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,f=ls(t,t.pendingProps),s.child=f,f.return=s;t.sibling!==null;)t=t.sibling,f=f.sibling=ls(t,t.pendingProps),f.return=s;f.sibling=null}return s.child}function vx(t,s,f){switch(s.tag){case 3:o0(s),go();break;case 5:Ah(s);break;case 1:hr(s.type)&&gl(s);break;case 4:hu(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,C=s.memoizedProps.value;$t(Cl,g._currentValue),g._currentValue=C;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?($t(an,an.current&1),s.flags|=128,null):f&s.child.childLanes?l0(t,s,f):($t(an,an.current&1),t=ki(t,s,f),t!==null?t.sibling:null);$t(an,an.current&1);break;case 19:if(g=(f&s.childLanes)!==0,t.flags&128){if(g)return u0(t,s,f);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),$t(an,an.current),g)break;return null;case 22:case 23:return s.lanes=0,r0(t,s,f)}return ki(t,s,f)}var f0,Du,d0,h0;f0=function(t,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Du=function(){},d0=function(t,s,f,g){var C=t.memoizedProps;if(C!==g){t=s.stateNode,Bs(li.current);var I=null;switch(f){case"input":C=Et(t,C),g=Et(t,g),I=[];break;case"select":C=fe({},C,{value:void 0}),g=fe({},g,{value:void 0}),I=[];break;case"textarea":C=Mn(t,C),g=Mn(t,g),I=[];break;default:typeof C.onClick!="function"&&typeof g.onClick=="function"&&(t.onclick=dl)}It(f,g);var O;f=null;for(ce in C)if(!g.hasOwnProperty(ce)&&C.hasOwnProperty(ce)&&C[ce]!=null)if(ce==="style"){var W=C[ce];for(O in W)W.hasOwnProperty(O)&&(f||(f={}),f[O]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(p.hasOwnProperty(ce)?I||(I=[]):(I=I||[]).push(ce,null));for(ce in g){var Y=g[ce];if(W=C!=null?C[ce]:void 0,g.hasOwnProperty(ce)&&Y!==W&&(Y!=null||W!=null))if(ce==="style")if(W){for(O in W)!W.hasOwnProperty(O)||Y&&Y.hasOwnProperty(O)||(f||(f={}),f[O]="");for(O in Y)Y.hasOwnProperty(O)&&W[O]!==Y[O]&&(f||(f={}),f[O]=Y[O])}else f||(I||(I=[]),I.push(ce,f)),f=Y;else ce==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(I=I||[]).push(ce,Y)):ce==="children"?typeof Y!="string"&&typeof Y!="number"||(I=I||[]).push(ce,""+Y):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(p.hasOwnProperty(ce)?(Y!=null&&ce==="onScroll"&&Qt("scroll",t),I||W===Y||(I=[])):(I=I||[]).push(ce,Y))}f&&(I=I||[]).push("style",f);var ce=I;(s.updateQueue=ce)&&(s.flags|=4)}},h0=function(t,s,f,g){f!==g&&(s.flags|=4)};function ha(t,s){if(!tn)switch(t.tailMode){case"hidden":s=t.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?t.tail=null:f.sibling=null;break;case"collapsed":f=t.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:g.sibling=null}}function Jn(t){var s=t.alternate!==null&&t.alternate.child===t.child,f=0,g=0;if(s)for(var C=t.child;C!==null;)f|=C.lanes|C.childLanes,g|=C.subtreeFlags&14680064,g|=C.flags&14680064,C.return=t,C=C.sibling;else for(C=t.child;C!==null;)f|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=t,C=C.sibling;return t.subtreeFlags|=g,t.childLanes=f,s}function Cx(t,s,f){var g=s.pendingProps;switch(ru(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(s),null;case 1:return hr(s.type)&&pl(),Jn(s),null;case 3:return g=s.stateNode,wo(),Jt(dr),Jt(qn),mu(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(t===null||t.child===null)&&(wl(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Yr!==null&&(Xu(Yr),Yr=null))),Du(t,s),Jn(s),null;case 5:pu(s);var C=Bs(la.current);if(f=s.type,t!==null&&s.stateNode!=null)d0(t,s,f,g,C),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(a(166));return Jn(s),null}if(t=Bs(li.current),wl(s)){g=s.stateNode,f=s.type;var I=s.memoizedProps;switch(g[ai]=s,g[ra]=I,t=(s.mode&1)!==0,f){case"dialog":Qt("cancel",g),Qt("close",g);break;case"iframe":case"object":case"embed":Qt("load",g);break;case"video":case"audio":for(C=0;C<ea.length;C++)Qt(ea[C],g);break;case"source":Qt("error",g);break;case"img":case"image":case"link":Qt("error",g),Qt("load",g);break;case"details":Qt("toggle",g);break;case"input":Bt(g,I),Qt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!I.multiple},Qt("invalid",g);break;case"textarea":vt(g,I),Qt("invalid",g)}It(f,I),C=null;for(var O in I)if(I.hasOwnProperty(O)){var W=I[O];O==="children"?typeof W=="string"?g.textContent!==W&&(I.suppressHydrationWarning!==!0&&fl(g.textContent,W,t),C=["children",W]):typeof W=="number"&&g.textContent!==""+W&&(I.suppressHydrationWarning!==!0&&fl(g.textContent,W,t),C=["children",""+W]):p.hasOwnProperty(O)&&W!=null&&O==="onScroll"&&Qt("scroll",g)}switch(f){case"input":ct(g),St(g,I,!0);break;case"textarea":ct(g),Pe(g);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(g.onclick=dl)}g=C,s.updateQueue=g,g!==null&&(s.flags|=4)}else{O=C.nodeType===9?C:C.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$e(f)),t==="http://www.w3.org/1999/xhtml"?f==="script"?(t=O.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof g.is=="string"?t=O.createElement(f,{is:g.is}):(t=O.createElement(f),f==="select"&&(O=t,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):t=O.createElementNS(t,f),t[ai]=s,t[ra]=g,f0(t,s,!1,!1),s.stateNode=t;e:{switch(O=Xt(f,g),f){case"dialog":Qt("cancel",t),Qt("close",t),C=g;break;case"iframe":case"object":case"embed":Qt("load",t),C=g;break;case"video":case"audio":for(C=0;C<ea.length;C++)Qt(ea[C],t);C=g;break;case"source":Qt("error",t),C=g;break;case"img":case"image":case"link":Qt("error",t),Qt("load",t),C=g;break;case"details":Qt("toggle",t),C=g;break;case"input":Bt(t,g),C=Et(t,g),Qt("invalid",t);break;case"option":C=g;break;case"select":t._wrapperState={wasMultiple:!!g.multiple},C=fe({},g,{value:void 0}),Qt("invalid",t);break;case"textarea":vt(t,g),C=Mn(t,g),Qt("invalid",t);break;default:C=g}It(f,C),W=C;for(I in W)if(W.hasOwnProperty(I)){var Y=W[I];I==="style"?Se(t,Y):I==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&pt(t,Y)):I==="children"?typeof Y=="string"?(f!=="textarea"||Y!=="")&&rn(t,Y):typeof Y=="number"&&rn(t,""+Y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(p.hasOwnProperty(I)?Y!=null&&I==="onScroll"&&Qt("scroll",t):Y!=null&&U(t,I,Y,O))}switch(f){case"input":ct(t),St(t,g,!1);break;case"textarea":ct(t),Pe(t);break;case"option":g.value!=null&&t.setAttribute("value",""+Ue(g.value));break;case"select":t.multiple=!!g.multiple,I=g.value,I!=null?Ne(t,!!g.multiple,I,!1):g.defaultValue!=null&&Ne(t,!!g.multiple,g.defaultValue,!0);break;default:typeof C.onClick=="function"&&(t.onclick=dl)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jn(s),null;case 6:if(t&&s.stateNode!=null)h0(t,s,t.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(a(166));if(f=Bs(la.current),Bs(li.current),wl(s)){if(g=s.stateNode,f=s.memoizedProps,g[ai]=s,(I=g.nodeValue!==f)&&(t=br,t!==null))switch(t.tag){case 3:fl(g.nodeValue,f,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fl(g.nodeValue,f,(t.mode&1)!==0)}I&&(s.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[ai]=s,s.stateNode=g}return Jn(s),null;case 13:if(Jt(an),g=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&Ar!==null&&s.mode&1&&!(s.flags&128))mh(),go(),s.flags|=98560,I=!1;else if(I=wl(s),g!==null&&g.dehydrated!==null){if(t===null){if(!I)throw Error(a(318));if(I=s.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(a(317));I[ai]=s}else go(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Jn(s),I=!1}else Yr!==null&&(Xu(Yr),Yr=null),I=!0;if(!I)return s.flags&65536?s:null}return s.flags&128?(s.lanes=f,s):(g=g!==null,g!==(t!==null&&t.memoizedState!==null)&&g&&(s.child.flags|=8192,s.mode&1&&(t===null||an.current&1?Pn===0&&(Pn=3):Zu())),s.updateQueue!==null&&(s.flags|=4),Jn(s),null);case 4:return wo(),Du(t,s),t===null&&ta(s.stateNode.containerInfo),Jn(s),null;case 10:return cu(s.type._context),Jn(s),null;case 17:return hr(s.type)&&pl(),Jn(s),null;case 19:if(Jt(an),I=s.memoizedState,I===null)return Jn(s),null;if(g=(s.flags&128)!==0,O=I.rendering,O===null)if(g)ha(I,!1);else{if(Pn!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(O=Sl(t),O!==null){for(s.flags|=128,ha(I,!1),g=O.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=f,f=s.child;f!==null;)I=f,t=g,I.flags&=14680066,O=I.alternate,O===null?(I.childLanes=0,I.lanes=t,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=O.childLanes,I.lanes=O.lanes,I.child=O.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=O.memoizedProps,I.memoizedState=O.memoizedState,I.updateQueue=O.updateQueue,I.type=O.type,t=O.dependencies,I.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),f=f.sibling;return $t(an,an.current&1|2),s.child}t=t.sibling}I.tail!==null&&gt()>bo&&(s.flags|=128,g=!0,ha(I,!1),s.lanes=4194304)}else{if(!g)if(t=Sl(O),t!==null){if(s.flags|=128,g=!0,f=t.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),ha(I,!0),I.tail===null&&I.tailMode==="hidden"&&!O.alternate&&!tn)return Jn(s),null}else 2*gt()-I.renderingStartTime>bo&&f!==1073741824&&(s.flags|=128,g=!0,ha(I,!1),s.lanes=4194304);I.isBackwards?(O.sibling=s.child,s.child=O):(f=I.last,f!==null?f.sibling=O:s.child=O,I.last=O)}return I.tail!==null?(s=I.tail,I.rendering=s,I.tail=s.sibling,I.renderingStartTime=gt(),s.sibling=null,f=an.current,$t(an,g?f&1|2:f&1),s):(Jn(s),null);case 22:case 23:return Ku(),g=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==g&&(s.flags|=8192),g&&s.mode&1?Sr&1073741824&&(Jn(s),s.subtreeFlags&6&&(s.flags|=8192)):Jn(s),null;case 24:return null;case 25:return null}throw Error(a(156,s.tag))}function Ex(t,s){switch(ru(s),s.tag){case 1:return hr(s.type)&&pl(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return wo(),Jt(dr),Jt(qn),mu(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return pu(s),null;case 13:if(Jt(an),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));go()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Jt(an),null;case 4:return wo(),null;case 10:return cu(s.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var Ml=!1,er=!1,bx=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Co(t,s){var f=t.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){pn(t,s,g)}else f.current=null}function Lu(t,s,f){try{f()}catch(g){pn(t,s,g)}}var p0=!1;function Ax(t,s){if(Kc=si,t=Ct(),lt(t)){if("selectionStart"in t)var f={start:t.selectionStart,end:t.selectionEnd};else e:{f=(f=t.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var C=g.anchorOffset,I=g.focusNode;g=g.focusOffset;try{f.nodeType,I.nodeType}catch{f=null;break e}var O=0,W=-1,Y=-1,ce=0,ye=0,Ce=t,me=null;t:for(;;){for(var je;Ce!==f||C!==0&&Ce.nodeType!==3||(W=O+C),Ce!==I||g!==0&&Ce.nodeType!==3||(Y=O+g),Ce.nodeType===3&&(O+=Ce.nodeValue.length),(je=Ce.firstChild)!==null;)me=Ce,Ce=je;for(;;){if(Ce===t)break t;if(me===f&&++ce===C&&(W=O),me===I&&++ye===g&&(Y=O),(je=Ce.nextSibling)!==null)break;Ce=me,me=Ce.parentNode}Ce=je}f=W===-1||Y===-1?null:{start:W,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(Zc={focusedElem:t,selectionRange:f},si=!1,ze=s;ze!==null;)if(s=ze,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ze=t;else for(;ze!==null;){s=ze;try{var We=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var He=We.memoizedProps,vn=We.memoizedState,ne=s.stateNode,$=ne.getSnapshotBeforeUpdate(s.elementType===s.type?He:Kr(s.type,He),vn);ne.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var ie=s.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ie){pn(s,s.return,Ie)}if(t=s.sibling,t!==null){t.return=s.return,ze=t;break}ze=s.return}return We=p0,p0=!1,We}function pa(t,s,f){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&t)===t){var I=C.destroy;C.destroy=void 0,I!==void 0&&Lu(s,f,I)}C=C.next}while(C!==g)}}function Dl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&t)===t){var g=f.create;f.destroy=g()}f=f.next}while(f!==s)}}function Bu(t){var s=t.ref;if(s!==null){var f=t.stateNode;switch(t.tag){case 5:t=f;break;default:t=f}typeof s=="function"?s(t):s.current=t}}function g0(t){var s=t.alternate;s!==null&&(t.alternate=null,g0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[ai],delete s[ra],delete s[Jc],delete s[ox],delete s[ax])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m0(t){return t.tag===5||t.tag===3||t.tag===4}function x0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fu(t,s,f){var g=t.tag;if(g===5||g===6)t=t.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(t,s):f.insertBefore(t,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(t,f)):(s=f,s.appendChild(t)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=dl));else if(g!==4&&(t=t.child,t!==null))for(Fu(t,s,f),t=t.sibling;t!==null;)Fu(t,s,f),t=t.sibling}function ju(t,s,f){var g=t.tag;if(g===5||g===6)t=t.stateNode,s?f.insertBefore(t,s):f.appendChild(t);else if(g!==4&&(t=t.child,t!==null))for(ju(t,s,f),t=t.sibling;t!==null;)ju(t,s,f),t=t.sibling}var Un=null,Zr=!1;function rs(t,s,f){for(f=f.child;f!==null;)y0(t,s,f),f=f.sibling}function y0(t,s,f){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(bt,f)}catch{}switch(f.tag){case 5:er||Co(f,s);case 6:var g=Un,C=Zr;Un=null,rs(t,s,f),Un=g,Zr=C,Un!==null&&(Zr?(t=Un,f=f.stateNode,t.nodeType===8?t.parentNode.removeChild(f):t.removeChild(f)):Un.removeChild(f.stateNode));break;case 18:Un!==null&&(Zr?(t=Un,f=f.stateNode,t.nodeType===8?Qc(t.parentNode,f):t.nodeType===1&&Qc(t,f),Hr(t)):Qc(Un,f.stateNode));break;case 4:g=Un,C=Zr,Un=f.stateNode.containerInfo,Zr=!0,rs(t,s,f),Un=g,Zr=C;break;case 0:case 11:case 14:case 15:if(!er&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){C=g=g.next;do{var I=C,O=I.destroy;I=I.tag,O!==void 0&&(I&2||I&4)&&Lu(f,s,O),C=C.next}while(C!==g)}rs(t,s,f);break;case 1:if(!er&&(Co(f,s),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(W){pn(f,s,W)}rs(t,s,f);break;case 21:rs(t,s,f);break;case 22:f.mode&1?(er=(g=er)||f.memoizedState!==null,rs(t,s,f),er=g):rs(t,s,f);break;default:rs(t,s,f)}}function w0(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var f=t.stateNode;f===null&&(f=t.stateNode=new bx),s.forEach(function(g){var C=Ox.bind(null,t,g);f.has(g)||(f.add(g),g.then(C,C))})}}function $r(t,s){var f=s.deletions;if(f!==null)for(var g=0;g<f.length;g++){var C=f[g];try{var I=t,O=s,W=O;e:for(;W!==null;){switch(W.tag){case 5:Un=W.stateNode,Zr=!1;break e;case 3:Un=W.stateNode.containerInfo,Zr=!0;break e;case 4:Un=W.stateNode.containerInfo,Zr=!0;break e}W=W.return}if(Un===null)throw Error(a(160));y0(I,O,C),Un=null,Zr=!1;var Y=C.alternate;Y!==null&&(Y.return=null),C.return=null}catch(ce){pn(C,s,ce)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)v0(s,t),s=s.sibling}function v0(t,s){var f=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(s,t),ui(t),g&4){try{pa(3,t,t.return),Dl(3,t)}catch(He){pn(t,t.return,He)}try{pa(5,t,t.return)}catch(He){pn(t,t.return,He)}}break;case 1:$r(s,t),ui(t),g&512&&f!==null&&Co(f,f.return);break;case 5:if($r(s,t),ui(t),g&512&&f!==null&&Co(f,f.return),t.flags&32){var C=t.stateNode;try{rn(C,"")}catch(He){pn(t,t.return,He)}}if(g&4&&(C=t.stateNode,C!=null)){var I=t.memoizedProps,O=f!==null?f.memoizedProps:I,W=t.type,Y=t.updateQueue;if(t.updateQueue=null,Y!==null)try{W==="input"&&I.type==="radio"&&I.name!=null&&Ht(C,I),Xt(W,O);var ce=Xt(W,I);for(O=0;O<Y.length;O+=2){var ye=Y[O],Ce=Y[O+1];ye==="style"?Se(C,Ce):ye==="dangerouslySetInnerHTML"?pt(C,Ce):ye==="children"?rn(C,Ce):U(C,ye,Ce,ce)}switch(W){case"input":Pt(C,I);break;case"textarea":ve(C,I);break;case"select":var me=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!I.multiple;var je=I.value;je!=null?Ne(C,!!I.multiple,je,!1):me!==!!I.multiple&&(I.defaultValue!=null?Ne(C,!!I.multiple,I.defaultValue,!0):Ne(C,!!I.multiple,I.multiple?[]:"",!1))}C[ra]=I}catch(He){pn(t,t.return,He)}}break;case 6:if($r(s,t),ui(t),g&4){if(t.stateNode===null)throw Error(a(162));C=t.stateNode,I=t.memoizedProps;try{C.nodeValue=I}catch(He){pn(t,t.return,He)}}break;case 3:if($r(s,t),ui(t),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Hr(s.containerInfo)}catch(He){pn(t,t.return,He)}break;case 4:$r(s,t),ui(t);break;case 13:$r(s,t),ui(t),C=t.child,C.flags&8192&&(I=C.memoizedState!==null,C.stateNode.isHidden=I,!I||C.alternate!==null&&C.alternate.memoizedState!==null||(Uu=gt())),g&4&&w0(t);break;case 22:if(ye=f!==null&&f.memoizedState!==null,t.mode&1?(er=(ce=er)||ye,$r(s,t),er=ce):$r(s,t),ui(t),g&8192){if(ce=t.memoizedState!==null,(t.stateNode.isHidden=ce)&&!ye&&t.mode&1)for(ze=t,ye=t.child;ye!==null;){for(Ce=ze=ye;ze!==null;){switch(me=ze,je=me.child,me.tag){case 0:case 11:case 14:case 15:pa(4,me,me.return);break;case 1:Co(me,me.return);var We=me.stateNode;if(typeof We.componentWillUnmount=="function"){g=me,f=me.return;try{s=g,We.props=s.memoizedProps,We.state=s.memoizedState,We.componentWillUnmount()}catch(He){pn(g,f,He)}}break;case 5:Co(me,me.return);break;case 22:if(me.memoizedState!==null){b0(Ce);continue}}je!==null?(je.return=me,ze=je):b0(Ce)}ye=ye.sibling}e:for(ye=null,Ce=t;;){if(Ce.tag===5){if(ye===null){ye=Ce;try{C=Ce.stateNode,ce?(I=C.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(W=Ce.stateNode,Y=Ce.memoizedProps.style,O=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=_t("display",O))}catch(He){pn(t,t.return,He)}}}else if(Ce.tag===6){if(ye===null)try{Ce.stateNode.nodeValue=ce?"":Ce.memoizedProps}catch(He){pn(t,t.return,He)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===t)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===t)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===t)break e;ye===Ce&&(ye=null),Ce=Ce.return}ye===Ce&&(ye=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:$r(s,t),ui(t),g&4&&w0(t);break;case 21:break;default:$r(s,t),ui(t)}}function ui(t){var s=t.flags;if(s&2){try{e:{for(var f=t.return;f!==null;){if(m0(f)){var g=f;break e}f=f.return}throw Error(a(160))}switch(g.tag){case 5:var C=g.stateNode;g.flags&32&&(rn(C,""),g.flags&=-33);var I=x0(t);ju(t,I,C);break;case 3:case 4:var O=g.stateNode.containerInfo,W=x0(t);Fu(t,W,O);break;default:throw Error(a(161))}}catch(Y){pn(t,t.return,Y)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Sx(t,s,f){ze=t,C0(t)}function C0(t,s,f){for(var g=(t.mode&1)!==0;ze!==null;){var C=ze,I=C.child;if(C.tag===22&&g){var O=C.memoizedState!==null||Ml;if(!O){var W=C.alternate,Y=W!==null&&W.memoizedState!==null||er;W=Ml;var ce=er;if(Ml=O,(er=Y)&&!ce)for(ze=C;ze!==null;)O=ze,Y=O.child,O.tag===22&&O.memoizedState!==null?A0(C):Y!==null?(Y.return=O,ze=Y):A0(C);for(;I!==null;)ze=I,C0(I),I=I.sibling;ze=C,Ml=W,er=ce}E0(t)}else C.subtreeFlags&8772&&I!==null?(I.return=C,ze=I):E0(t)}}function E0(t){for(;ze!==null;){var s=ze;if(s.flags&8772){var f=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:er||Dl(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!er)if(f===null)g.componentDidMount();else{var C=s.elementType===s.type?f.memoizedProps:Kr(s.type,f.memoizedProps);g.componentDidUpdate(C,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var I=s.updateQueue;I!==null&&bh(s,I,g);break;case 3:var O=s.updateQueue;if(O!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}bh(s,O,f)}break;case 5:var W=s.stateNode;if(f===null&&s.flags&4){f=W;var Y=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&f.focus();break;case"img":Y.src&&(f.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ce=s.alternate;if(ce!==null){var ye=ce.memoizedState;if(ye!==null){var Ce=ye.dehydrated;Ce!==null&&Hr(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}er||s.flags&512&&Bu(s)}catch(me){pn(s,s.return,me)}}if(s===t){ze=null;break}if(f=s.sibling,f!==null){f.return=s.return,ze=f;break}ze=s.return}}function b0(t){for(;ze!==null;){var s=ze;if(s===t){ze=null;break}var f=s.sibling;if(f!==null){f.return=s.return,ze=f;break}ze=s.return}}function A0(t){for(;ze!==null;){var s=ze;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{Dl(4,s)}catch(Y){pn(s,f,Y)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var C=s.return;try{g.componentDidMount()}catch(Y){pn(s,C,Y)}}var I=s.return;try{Bu(s)}catch(Y){pn(s,I,Y)}break;case 5:var O=s.return;try{Bu(s)}catch(Y){pn(s,O,Y)}}}catch(Y){pn(s,s.return,Y)}if(s===t){ze=null;break}var W=s.sibling;if(W!==null){W.return=s.return,ze=W;break}ze=s.return}}var Ix=Math.ceil,Ll=re.ReactCurrentDispatcher,Vu=re.ReactCurrentOwner,Lr=re.ReactCurrentBatchConfig,Dt=0,Bn=null,bn=null,Wn=0,Sr=0,Eo=Qi(0),Pn=0,ga=null,js=0,Bl=0,zu=0,ma=null,gr=null,Uu=0,bo=1/0,Pi=null,Fl=!1,Wu=null,is=null,jl=!1,ss=null,Vl=0,xa=0,Hu=null,zl=-1,Ul=0;function lr(){return Dt&6?gt():zl!==-1?zl:zl=gt()}function os(t){return t.mode&1?Dt&2&&Wn!==0?Wn&-Wn:cx.transition!==null?(Ul===0&&(Ul=Tn()),Ul):(t=xt,t!==0||(t=window.event,t=t===void 0?16:Ho(t.type)),t):1}function qr(t,s,f,g){if(50<xa)throw xa=0,Hu=null,Error(a(185));j(t,f,g),(!(Dt&2)||t!==Bn)&&(t===Bn&&(!(Dt&2)&&(Bl|=f),Pn===4&&as(t,Wn)),mr(t,g),f===1&&Dt===0&&!(s.mode&1)&&(bo=gt()+500,ml&&es()))}function mr(t,s){var f=t.callbackNode;zi(t,s);var g=wr(t,t===Bn?Wn:0);if(g===0)f!==null&&Ge(f),t.callbackNode=null,t.callbackPriority=0;else if(s=g&-g,t.callbackPriority!==s){if(f!=null&&Ge(f),s===1)t.tag===0?lx(I0.bind(null,t)):fh(I0.bind(null,t)),ix(function(){!(Dt&6)&&es()}),f=null;else{switch(qa(g)){case 1:f=pe;break;case 4:f=Es;break;case 16:f=Tt;break;case 536870912:f=Fo;break;default:f=Tt}f=M0(f,S0.bind(null,t))}t.callbackPriority=s,t.callbackNode=f}}function S0(t,s){if(zl=-1,Ul=0,Dt&6)throw Error(a(327));var f=t.callbackNode;if(Ao()&&t.callbackNode!==f)return null;var g=wr(t,t===Bn?Wn:0);if(g===0)return null;if(g&30||g&t.expiredLanes||s)s=Wl(t,g);else{s=g;var C=Dt;Dt|=2;var I=N0();(Bn!==t||Wn!==s)&&(Pi=null,bo=gt()+500,zs(t,s));do try{Rx();break}catch(W){T0(t,W)}while(!0);lu(),Ll.current=I,Dt=C,bn!==null?s=0:(Bn=null,Wn=0,s=Pn)}if(s!==0){if(s===2&&(C=zt(t),C!==0&&(g=C,s=Gu(t,C))),s===1)throw f=ga,zs(t,0),as(t,g),mr(t,gt()),f;if(s===6)as(t,g);else{if(C=t.current.alternate,!(g&30)&&!Tx(C)&&(s=Wl(t,g),s===2&&(I=zt(t),I!==0&&(g=I,s=Gu(t,I))),s===1))throw f=ga,zs(t,0),as(t,g),mr(t,gt()),f;switch(t.finishedWork=C,t.finishedLanes=g,s){case 0:case 1:throw Error(a(345));case 2:Us(t,gr,Pi);break;case 3:if(as(t,g),(g&130023424)===g&&(s=Uu+500-gt(),10<s)){if(wr(t,0)!==0)break;if(C=t.suspendedLanes,(C&g)!==g){lr(),t.pingedLanes|=t.suspendedLanes&C;break}t.timeoutHandle=qc(Us.bind(null,t,gr,Pi),s);break}Us(t,gr,Pi);break;case 4:if(as(t,g),(g&4194240)===g)break;for(s=t.eventTimes,C=-1;0<g;){var O=31-or(g);I=1<<O,O=s[O],O>C&&(C=O),g&=~I}if(g=C,g=gt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Ix(g/1960))-g,10<g){t.timeoutHandle=qc(Us.bind(null,t,gr,Pi),g);break}Us(t,gr,Pi);break;case 5:Us(t,gr,Pi);break;default:throw Error(a(329))}}}return mr(t,gt()),t.callbackNode===f?S0.bind(null,t):null}function Gu(t,s){var f=ma;return t.current.memoizedState.isDehydrated&&(zs(t,s).flags|=256),t=Wl(t,s),t!==2&&(s=gr,gr=f,s!==null&&Xu(s)),t}function Xu(t){gr===null?gr=t:gr.push.apply(gr,t)}function Tx(t){for(var s=t;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var C=f[g],I=C.getSnapshot;C=C.value;try{if(!Q(I(),C))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function as(t,s){for(s&=~zu,s&=~Bl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var f=31-or(s),g=1<<f;t[f]=-1,s&=~g}}function I0(t){if(Dt&6)throw Error(a(327));Ao();var s=wr(t,0);if(!(s&1))return mr(t,gt()),null;var f=Wl(t,s);if(t.tag!==0&&f===2){var g=zt(t);g!==0&&(s=g,f=Gu(t,g))}if(f===1)throw f=ga,zs(t,0),as(t,s),mr(t,gt()),f;if(f===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Us(t,gr,Pi),mr(t,gt()),null}function Yu(t,s){var f=Dt;Dt|=1;try{return t(s)}finally{Dt=f,Dt===0&&(bo=gt()+500,ml&&es())}}function Vs(t){ss!==null&&ss.tag===0&&!(Dt&6)&&Ao();var s=Dt;Dt|=1;var f=Lr.transition,g=xt;try{if(Lr.transition=null,xt=1,t)return t()}finally{xt=g,Lr.transition=f,Dt=s,!(Dt&6)&&es()}}function Ku(){Sr=Eo.current,Jt(Eo)}function zs(t,s){t.finishedWork=null,t.finishedLanes=0;var f=t.timeoutHandle;if(f!==-1&&(t.timeoutHandle=-1,rx(f)),bn!==null)for(f=bn.return;f!==null;){var g=f;switch(ru(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&pl();break;case 3:wo(),Jt(dr),Jt(qn),mu();break;case 5:pu(g);break;case 4:wo();break;case 13:Jt(an);break;case 19:Jt(an);break;case 10:cu(g.type._context);break;case 22:case 23:Ku()}f=f.return}if(Bn=t,bn=t=ls(t.current,null),Wn=Sr=s,Pn=0,ga=null,zu=Bl=js=0,gr=ma=null,Ls!==null){for(s=0;s<Ls.length;s++)if(f=Ls[s],g=f.interleaved,g!==null){f.interleaved=null;var C=g.next,I=f.pending;if(I!==null){var O=I.next;I.next=C,g.next=O}f.pending=g}Ls=null}return t}function T0(t,s){do{var f=bn;try{if(lu(),Il.current=_l,Tl){for(var g=ln.memoizedState;g!==null;){var C=g.queue;C!==null&&(C.pending=null),g=g.next}Tl=!1}if(Fs=0,Ln=kn=ln=null,ca=!1,ua=0,Vu.current=null,f===null||f.return===null){Pn=1,ga=s,bn=null;break}e:{var I=t,O=f.return,W=f,Y=s;if(s=Wn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ce=Y,ye=W,Ce=ye.tag;if(!(ye.mode&1)&&(Ce===0||Ce===11||Ce===15)){var me=ye.alternate;me?(ye.updateQueue=me.updateQueue,ye.memoizedState=me.memoizedState,ye.lanes=me.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var je=Qh(O);if(je!==null){je.flags&=-257,Jh(je,O,W,I,s),je.mode&1&&qh(I,ce,s),s=je,Y=ce;var We=s.updateQueue;if(We===null){var He=new Set;He.add(Y),s.updateQueue=He}else We.add(Y);break e}else{if(!(s&1)){qh(I,ce,s),Zu();break e}Y=Error(a(426))}}else if(tn&&W.mode&1){var vn=Qh(O);if(vn!==null){!(vn.flags&65536)&&(vn.flags|=256),Jh(vn,O,W,I,s),ou(vo(Y,W));break e}}I=Y=vo(Y,W),Pn!==4&&(Pn=2),ma===null?ma=[I]:ma.push(I),I=O;do{switch(I.tag){case 3:I.flags|=65536,s&=-s,I.lanes|=s;var ne=Zh(I,Y,s);Eh(I,ne);break e;case 1:W=Y;var $=I.type,ie=I.stateNode;if(!(I.flags&128)&&(typeof $.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(is===null||!is.has(ie)))){I.flags|=65536,s&=-s,I.lanes|=s;var Ie=$h(I,W,s);Eh(I,Ie);break e}}I=I.return}while(I!==null)}_0(f)}catch(Xe){s=Xe,bn===f&&f!==null&&(bn=f=f.return);continue}break}while(!0)}function N0(){var t=Ll.current;return Ll.current=_l,t===null?_l:t}function Zu(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Bn===null||!(js&268435455)&&!(Bl&268435455)||as(Bn,Wn)}function Wl(t,s){var f=Dt;Dt|=2;var g=N0();(Bn!==t||Wn!==s)&&(Pi=null,zs(t,s));do try{Nx();break}catch(C){T0(t,C)}while(!0);if(lu(),Dt=f,Ll.current=g,bn!==null)throw Error(a(261));return Bn=null,Wn=0,Pn}function Nx(){for(;bn!==null;)R0(bn)}function Rx(){for(;bn!==null&&!st();)R0(bn)}function R0(t){var s=O0(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,s===null?_0(t):bn=s,Vu.current=null}function _0(t){var s=t;do{var f=s.alternate;if(t=s.return,s.flags&32768){if(f=Ex(f,s),f!==null){f.flags&=32767,bn=f;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pn=6,bn=null;return}}else if(f=Cx(f,s,Sr),f!==null){bn=f;return}if(s=s.sibling,s!==null){bn=s;return}bn=s=t}while(s!==null);Pn===0&&(Pn=5)}function Us(t,s,f){var g=xt,C=Lr.transition;try{Lr.transition=null,xt=1,_x(t,s,f,g)}finally{Lr.transition=C,xt=g}return null}function _x(t,s,f,g){do Ao();while(ss!==null);if(Dt&6)throw Error(a(327));f=t.finishedWork;var C=t.finishedLanes;if(f===null)return null;if(t.finishedWork=null,t.finishedLanes=0,f===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var I=f.lanes|f.childLanes;if(Ye(t,I),t===Bn&&(bn=Bn=null,Wn=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||jl||(jl=!0,M0(Tt,function(){return Ao(),null})),I=(f.flags&15990)!==0,f.subtreeFlags&15990||I){I=Lr.transition,Lr.transition=null;var O=xt;xt=1;var W=Dt;Dt|=4,Vu.current=null,Ax(t,f),v0(f,t),$n(Zc),si=!!Kc,Zc=Kc=null,t.current=f,Sx(f),Qe(),Dt=W,xt=O,Lr.transition=I}else t.current=f;if(jl&&(jl=!1,ss=t,Vl=C),I=t.pendingLanes,I===0&&(is=null),Nt(f.stateNode),mr(t,gt()),s!==null)for(g=t.onRecoverableError,f=0;f<s.length;f++)C=s[f],g(C.value,{componentStack:C.stack,digest:C.digest});if(Fl)throw Fl=!1,t=Wu,Wu=null,t;return Vl&1&&t.tag!==0&&Ao(),I=t.pendingLanes,I&1?t===Hu?xa++:(xa=0,Hu=t):xa=0,es(),null}function Ao(){if(ss!==null){var t=qa(Vl),s=Lr.transition,f=xt;try{if(Lr.transition=null,xt=16>t?16:t,ss===null)var g=!1;else{if(t=ss,ss=null,Vl=0,Dt&6)throw Error(a(331));var C=Dt;for(Dt|=4,ze=t.current;ze!==null;){var I=ze,O=I.child;if(ze.flags&16){var W=I.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var ce=W[Y];for(ze=ce;ze!==null;){var ye=ze;switch(ye.tag){case 0:case 11:case 15:pa(8,ye,I)}var Ce=ye.child;if(Ce!==null)Ce.return=ye,ze=Ce;else for(;ze!==null;){ye=ze;var me=ye.sibling,je=ye.return;if(g0(ye),ye===ce){ze=null;break}if(me!==null){me.return=je,ze=me;break}ze=je}}}var We=I.alternate;if(We!==null){var He=We.child;if(He!==null){We.child=null;do{var vn=He.sibling;He.sibling=null,He=vn}while(He!==null)}}ze=I}}if(I.subtreeFlags&2064&&O!==null)O.return=I,ze=O;else e:for(;ze!==null;){if(I=ze,I.flags&2048)switch(I.tag){case 0:case 11:case 15:pa(9,I,I.return)}var ne=I.sibling;if(ne!==null){ne.return=I.return,ze=ne;break e}ze=I.return}}var $=t.current;for(ze=$;ze!==null;){O=ze;var ie=O.child;if(O.subtreeFlags&2064&&ie!==null)ie.return=O,ze=ie;else e:for(O=$;ze!==null;){if(W=ze,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Dl(9,W)}}catch(Xe){pn(W,W.return,Xe)}if(W===O){ze=null;break e}var Ie=W.sibling;if(Ie!==null){Ie.return=W.return,ze=Ie;break e}ze=W.return}}if(Dt=C,es(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(bt,t)}catch{}g=!0}return g}finally{xt=f,Lr.transition=s}}return!1}function k0(t,s,f){s=vo(f,s),s=Zh(t,s,1),t=ns(t,s,1),s=lr(),t!==null&&(j(t,1,s),mr(t,s))}function pn(t,s,f){if(t.tag===3)k0(t,t,f);else for(;s!==null;){if(s.tag===3){k0(s,t,f);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(is===null||!is.has(g))){t=vo(f,t),t=$h(s,t,1),s=ns(s,t,1),t=lr(),s!==null&&(j(s,1,t),mr(s,t));break}}s=s.return}}function kx(t,s,f){var g=t.pingCache;g!==null&&g.delete(s),s=lr(),t.pingedLanes|=t.suspendedLanes&f,Bn===t&&(Wn&f)===f&&(Pn===4||Pn===3&&(Wn&130023424)===Wn&&500>gt()-Uu?zs(t,0):zu|=f),mr(t,s)}function P0(t,s){s===0&&(t.mode&1?(s=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):s=1);var f=lr();t=Ri(t,s),t!==null&&(j(t,s,f),mr(t,f))}function Px(t){var s=t.memoizedState,f=0;s!==null&&(f=s.retryLane),P0(t,f)}function Ox(t,s){var f=0;switch(t.tag){case 13:var g=t.stateNode,C=t.memoizedState;C!==null&&(f=C.retryLane);break;case 19:g=t.stateNode;break;default:throw Error(a(314))}g!==null&&g.delete(s),P0(t,f)}var O0;O0=function(t,s,f){if(t!==null)if(t.memoizedProps!==s.pendingProps||dr.current)pr=!0;else{if(!(t.lanes&f)&&!(s.flags&128))return pr=!1,vx(t,s,f);pr=!!(t.flags&131072)}else pr=!1,tn&&s.flags&1048576&&dh(s,yl,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;Ol(t,s),t=s.pendingProps;var C=fo(s,qn.current);yo(s,f),C=wu(null,s,g,t,C,f);var I=vu();return s.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hr(g)?(I=!0,gl(s)):I=!1,s.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,du(s),C.updater=kl,s.stateNode=C,C._reactInternals=s,Iu(s,g,t,f),s=_u(null,s,g,!0,I,f)):(s.tag=0,tn&&I&&nu(s),ar(null,s,C,f),s=s.child),s;case 16:g=s.elementType;e:{switch(Ol(t,s),t=s.pendingProps,C=g._init,g=C(g._payload),s.type=g,C=s.tag=Dx(g),t=Kr(g,t),C){case 0:s=Ru(null,s,g,t,f);break e;case 1:s=s0(null,s,g,t,f);break e;case 11:s=e0(null,s,g,t,f);break e;case 14:s=t0(null,s,g,Kr(g.type,t),f);break e}throw Error(a(306,g,""))}return s;case 0:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:Kr(g,C),Ru(t,s,g,C,f);case 1:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:Kr(g,C),s0(t,s,g,C,f);case 3:e:{if(o0(s),t===null)throw Error(a(387));g=s.pendingProps,I=s.memoizedState,C=I.element,Ch(t,s),Al(s,g,null,f);var O=s.memoizedState;if(g=O.element,I.isDehydrated)if(I={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},s.updateQueue.baseState=I,s.memoizedState=I,s.flags&256){C=vo(Error(a(423)),s),s=a0(t,s,g,f,C);break e}else if(g!==C){C=vo(Error(a(424)),s),s=a0(t,s,g,f,C);break e}else for(Ar=qi(s.stateNode.containerInfo.firstChild),br=s,tn=!0,Yr=null,f=wh(s,null,g,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(go(),g===C){s=ki(t,s,f);break e}ar(t,s,g,f)}s=s.child}return s;case 5:return Ah(s),t===null&&su(s),g=s.type,C=s.pendingProps,I=t!==null?t.memoizedProps:null,O=C.children,$c(g,C)?O=null:I!==null&&$c(g,I)&&(s.flags|=32),i0(t,s),ar(t,s,O,f),s.child;case 6:return t===null&&su(s),null;case 13:return l0(t,s,f);case 4:return hu(s,s.stateNode.containerInfo),g=s.pendingProps,t===null?s.child=mo(s,null,g,f):ar(t,s,g,f),s.child;case 11:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:Kr(g,C),e0(t,s,g,C,f);case 7:return ar(t,s,s.pendingProps,f),s.child;case 8:return ar(t,s,s.pendingProps.children,f),s.child;case 12:return ar(t,s,s.pendingProps.children,f),s.child;case 10:e:{if(g=s.type._context,C=s.pendingProps,I=s.memoizedProps,O=C.value,$t(Cl,g._currentValue),g._currentValue=O,I!==null)if(Q(I.value,O)){if(I.children===C.children&&!dr.current){s=ki(t,s,f);break e}}else for(I=s.child,I!==null&&(I.return=s);I!==null;){var W=I.dependencies;if(W!==null){O=I.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===g){if(I.tag===1){Y=_i(-1,f&-f),Y.tag=2;var ce=I.updateQueue;if(ce!==null){ce=ce.shared;var ye=ce.pending;ye===null?Y.next=Y:(Y.next=ye.next,ye.next=Y),ce.pending=Y}}I.lanes|=f,Y=I.alternate,Y!==null&&(Y.lanes|=f),uu(I.return,f,s),W.lanes|=f;break}Y=Y.next}}else if(I.tag===10)O=I.type===s.type?null:I.child;else if(I.tag===18){if(O=I.return,O===null)throw Error(a(341));O.lanes|=f,W=O.alternate,W!==null&&(W.lanes|=f),uu(O,f,s),O=I.sibling}else O=I.child;if(O!==null)O.return=I;else for(O=I;O!==null;){if(O===s){O=null;break}if(I=O.sibling,I!==null){I.return=O.return,O=I;break}O=O.return}I=O}ar(t,s,C.children,f),s=s.child}return s;case 9:return C=s.type,g=s.pendingProps.children,yo(s,f),C=Mr(C),g=g(C),s.flags|=1,ar(t,s,g,f),s.child;case 14:return g=s.type,C=Kr(g,s.pendingProps),C=Kr(g.type,C),t0(t,s,g,C,f);case 15:return n0(t,s,s.type,s.pendingProps,f);case 17:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:Kr(g,C),Ol(t,s),s.tag=1,hr(g)?(t=!0,gl(s)):t=!1,yo(s,f),Yh(s,g,C),Iu(s,g,C,f),_u(null,s,g,!0,t,f);case 19:return u0(t,s,f);case 22:return r0(t,s,f)}throw Error(a(156,s.tag))};function M0(t,s){return qe(t,s)}function Mx(t,s,f,g){this.tag=t,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(t,s,f,g){return new Mx(t,s,f,g)}function $u(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dx(t){if(typeof t=="function")return $u(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Te)return 11;if(t===ee)return 14}return 2}function ls(t,s){var f=t.alternate;return f===null?(f=Br(t.tag,s,t.key,t.mode),f.elementType=t.elementType,f.type=t.type,f.stateNode=t.stateNode,f.alternate=t,t.alternate=f):(f.pendingProps=s,f.type=t.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=t.flags&14680064,f.childLanes=t.childLanes,f.lanes=t.lanes,f.child=t.child,f.memoizedProps=t.memoizedProps,f.memoizedState=t.memoizedState,f.updateQueue=t.updateQueue,s=t.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=t.sibling,f.index=t.index,f.ref=t.ref,f}function Hl(t,s,f,g,C,I){var O=2;if(g=t,typeof t=="function")$u(t)&&(O=1);else if(typeof t=="string")O=5;else e:switch(t){case X:return Ws(f.children,C,I,s);case ue:O=8,C|=8;break;case q:return t=Br(12,f,s,C|2),t.elementType=q,t.lanes=I,t;case ke:return t=Br(13,f,s,C),t.elementType=ke,t.lanes=I,t;case De:return t=Br(19,f,s,C),t.elementType=De,t.lanes=I,t;case he:return Gl(f,C,I,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:O=10;break e;case Le:O=9;break e;case Te:O=11;break e;case ee:O=14;break e;case Be:O=16,g=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return s=Br(O,f,s,C),s.elementType=t,s.type=g,s.lanes=I,s}function Ws(t,s,f,g){return t=Br(7,t,g,s),t.lanes=f,t}function Gl(t,s,f,g){return t=Br(22,t,g,s),t.elementType=he,t.lanes=f,t.stateNode={isHidden:!1},t}function qu(t,s,f){return t=Br(6,t,null,s),t.lanes=f,t}function Qu(t,s,f){return s=Br(4,t.children!==null?t.children:[],t.key,s),s.lanes=f,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Lx(t,s,f,g,C){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=te(0),this.expirationTimes=te(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.identifierPrefix=g,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Ju(t,s,f,g,C,I,O,W,Y){return t=new Lx(t,s,f,W,Y),s===1?(s=1,I===!0&&(s|=8)):s=0,I=Br(3,null,null,s),t.current=I,I.stateNode=t,I.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},du(I),t}function Bx(t,s,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:g==null?null:""+g,children:t,containerInfo:s,implementation:f}}function D0(t){if(!t)return Ji;t=t._reactInternals;e:{if(Kn(t)!==t||t.tag!==1)throw Error(a(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(a(171))}if(t.tag===1){var f=t.type;if(hr(f))return ch(t,f,s)}return s}function L0(t,s,f,g,C,I,O,W,Y){return t=Ju(f,g,!0,t,C,I,O,W,Y),t.context=D0(null),f=t.current,g=lr(),C=os(f),I=_i(g,C),I.callback=s??null,ns(f,I,C),t.current.lanes=C,j(t,C,g),mr(t,g),t}function Xl(t,s,f,g){var C=s.current,I=lr(),O=os(C);return f=D0(f),s.context===null?s.context=f:s.pendingContext=f,s=_i(I,O),s.payload={element:t},g=g===void 0?null:g,g!==null&&(s.callback=g),t=ns(C,s,O),t!==null&&(qr(t,C,O,I),bl(t,C,O)),O}function Yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var f=t.retryLane;t.retryLane=f!==0&&f<s?f:s}}function ef(t,s){B0(t,s),(t=t.alternate)&&B0(t,s)}function Fx(){return null}var F0=typeof reportError=="function"?reportError:function(t){console.error(t)};function tf(t){this._internalRoot=t}Kl.prototype.render=tf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));Xl(t,s,null,null)},Kl.prototype.unmount=tf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Vs(function(){Xl(null,t,null,null)}),s[Si]=null}};function Kl(t){this._internalRoot=t}Kl.prototype.unstable_scheduleHydration=function(t){if(t){var s=Kt();t={blockedOn:null,target:t,priority:s};for(var f=0;f<jn.length&&s!==0&&s<jn[f].priority;f++);jn.splice(f,0,t),f===0&&Ja(t)}};function nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j0(){}function jx(t,s,f,g,C){if(C){if(typeof g=="function"){var I=g;g=function(){var ce=Yl(O);I.call(ce)}}var O=L0(s,g,t,0,null,!1,!1,"",j0);return t._reactRootContainer=O,t[Si]=O.current,ta(t.nodeType===8?t.parentNode:t),Vs(),O}for(;C=t.lastChild;)t.removeChild(C);if(typeof g=="function"){var W=g;g=function(){var ce=Yl(Y);W.call(ce)}}var Y=Ju(t,0,!1,null,null,!1,!1,"",j0);return t._reactRootContainer=Y,t[Si]=Y.current,ta(t.nodeType===8?t.parentNode:t),Vs(function(){Xl(s,Y,f,g)}),Y}function $l(t,s,f,g,C){var I=f._reactRootContainer;if(I){var O=I;if(typeof C=="function"){var W=C;C=function(){var Y=Yl(O);W.call(Y)}}Xl(s,O,t,C)}else O=jx(f,s,t,C,g);return Yl(O)}eo=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var f=Yt(s.pendingLanes);f!==0&&(dn(s,f|1),mr(s,gt()),!(Dt&6)&&(bo=gt()+500,es()))}break;case 13:Vs(function(){var g=Ri(t,1);if(g!==null){var C=lr();qr(g,t,1,C)}}),ef(t,1)}},Zn=function(t){if(t.tag===13){var s=Ri(t,134217728);if(s!==null){var f=lr();qr(s,t,134217728,f)}ef(t,134217728)}},Ke=function(t){if(t.tag===13){var s=os(t),f=Ri(t,s);if(f!==null){var g=lr();qr(f,t,s,g)}ef(t,s)}},Kt=function(){return xt},zo=function(t,s){var f=xt;try{return xt=t,s()}finally{xt=f}},xs=function(t,s,f){switch(s){case"input":if(Pt(t,f),s=f.name,f.type==="radio"&&s!=null){for(f=t;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var g=f[s];if(g!==t&&g.form===t.form){var C=hl(g);if(!C)throw Error(a(90));ht(g),Pt(g,C)}}}break;case"textarea":ve(t,f);break;case"select":s=f.value,s!=null&&Ne(t,!!f.multiple,s,!1)}},ji=Yu,sn=Vs;var Vx={usingClientEntryPoint:!1,Events:[ia,co,hl,Fi,Yn,Yu]},ya={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zx={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vs(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||Fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{bt=ql.inject(zx),ft=ql}catch{}}return xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vx,xr.createPortal=function(t,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nf(s))throw Error(a(200));return Bx(t,s,null,f)},xr.createRoot=function(t,s){if(!nf(t))throw Error(a(299));var f=!1,g="",C=F0;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=Ju(t,1,!1,null,null,f,!1,g,C),t[Si]=s.current,ta(t.nodeType===8?t.parentNode:t),new tf(s)},xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=vs(s),t=t===null?null:t.stateNode,t},xr.flushSync=function(t){return Vs(t)},xr.hydrate=function(t,s,f){if(!Zl(s))throw Error(a(200));return $l(null,t,s,!0,f)},xr.hydrateRoot=function(t,s,f){if(!nf(t))throw Error(a(405));var g=f!=null&&f.hydratedSources||null,C=!1,I="",O=F0;if(f!=null&&(f.unstable_strictMode===!0&&(C=!0),f.identifierPrefix!==void 0&&(I=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),s=L0(s,null,t,1,f??null,C,!1,I,O),t[Si]=s.current,ta(t),g)for(t=0;t<g.length;t++)f=g[t],C=f._getVersion,C=C(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,C]:s.mutableSourceEagerHydrationData.push(f,C);return new Kl(s)},xr.render=function(t,s,f){if(!Zl(s))throw Error(a(200));return $l(null,t,s,!1,f)},xr.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(a(40));return t._reactRootContainer?(Vs(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1},xr.unstable_batchedUpdates=Yu,xr.unstable_renderSubtreeIntoContainer=function(t,s,f,g){if(!Zl(f))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return $l(t,s,f,!1,g)},xr.version="18.3.1-next-f1338f8080-20240426",xr}var Y0;function Zx(){if(Y0)return of.exports;Y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),of.exports=Kx(),of.exports}var K0;function $x(){if(K0)return Jl;K0=1;var r=Zx();return Jl.createRoot=r.createRoot,Jl.hydrateRoot=r.hydrateRoot,Jl}var qx=$x();const Ir=_.createContext(null),Qx=({children:r})=>{const[o,a]=_.useState(null),[d,p]=_.useState(null),[x,y]=_.useState(null),[b,w]=_.useState(null),[E,S]=_.useState(!1),[T,R]=_.useState(null),M=async()=>{const V=localStorage.getItem("access_token");if(V)try{const H=await fetch(window.server_url+"/load_user",{headers:{Authorization:`Bearer ${V}`}});if(H.ok){S(!0);const U=await H.json();console.log("USER DATA:",U),a(U.username),p(U.profile),R(U.permissions),console.log("PERMISSIONS:",U.permissions)}else console.log("TOKEN INVALID"),localStorage.removeItem("access_token"),a(null),p(null),y(null),w(null),S(!1)}catch(H){console.log("ERROR:",H)}};_.useEffect(()=>{M()},[]);const L=V=>{a(V.username),y(V.access_token),w(V.refresh_token),R(V.permissions),console.log("PRE SAVE USERNAME:",V.username),localStorage.setItem("user",V.username),localStorage.setItem("access_token",V.access_token),localStorage.setItem("refresh_token",V.refresh_token)},F=async(V,H)=>{const U=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:V,password:H})});if(U.ok){const re=await U.json();console.log("SIGNED UP, userData:",re)}},B=()=>{a(null),p(null),y(null),w(null),S(!1)};return A.jsx(Ir.Provider,{value:{user:o,login:L,signup:F,logout:B,userProfile:d,checkAuth:M,permissions:T},children:r})};var Rf=function(r,o){return Rf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(a[p]=d[p])},Rf(r,o)};function Jx(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");Rf(r,o);function a(){this.constructor=r}r.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var Hn=function(){return Hn=Object.assign||function(o){for(var a,d=1,p=arguments.length;d<p;d++){a=arguments[d];for(var x in a)Object.prototype.hasOwnProperty.call(a,x)&&(o[x]=a[x])}return o},Hn.apply(this,arguments)};var cf,Z0;function e2(){if(Z0)return cf;Z0=1;var r=!1,o,a,d,p,x,y,b,w,E,S,T,R,M,L,F;function B(){if(!r){r=!0;var H=navigator.userAgent,U=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(H),re=/(Mac OS X)|(Windows)|(Linux)/.exec(H);if(R=/\b(iPhone|iP[ao]d)/.exec(H),M=/\b(iP[ao]d)/.exec(H),S=/Android/i.exec(H),L=/FBAN\/\w+;/i.exec(H),F=/Mobile/i.exec(H),T=!!/Win64/.exec(H),U){o=U[1]?parseFloat(U[1]):U[5]?parseFloat(U[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var ae=/(?:Trident\/(\d+.\d+))/.exec(H);y=ae?parseFloat(ae[1])+4:o,a=U[2]?parseFloat(U[2]):NaN,d=U[3]?parseFloat(U[3]):NaN,p=U[4]?parseFloat(U[4]):NaN,p?(U=/(?:Chrome\/(\d+\.\d+))/.exec(H),x=U&&U[1]?parseFloat(U[1]):NaN):x=NaN}else o=a=d=x=p=NaN;if(re){if(re[1]){var le=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(H);b=le?parseFloat(le[1].replace("_",".")):!0}else b=!1;w=!!re[2],E=!!re[3]}else b=w=E=!1}}var V={ie:function(){return B()||o},ieCompatibilityMode:function(){return B()||y>o},ie64:function(){return V.ie()&&T},firefox:function(){return B()||a},opera:function(){return B()||d},webkit:function(){return B()||p},safari:function(){return V.webkit()},chrome:function(){return B()||x},windows:function(){return B()||w},osx:function(){return B()||b},linux:function(){return B()||E},iphone:function(){return B()||R},mobile:function(){return B()||R||M||S||F},nativeApp:function(){return B()||L},android:function(){return B()||S},ipad:function(){return B()||M}};return cf=V,cf}var uf,$0;function t2(){if($0)return uf;$0=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),o={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return uf=o,uf}var ff,q0;function n2(){if(q0)return ff;q0=1;var r=t2(),o;r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function a(d,p){if(!r.canUseDOM||p&&!("addEventListener"in document))return!1;var x="on"+d,y=x in document;if(!y){var b=document.createElement("div");b.setAttribute(x,"return;"),y=typeof b[x]=="function"}return!y&&o&&d==="wheel"&&(y=document.implementation.hasFeature("Events.wheel","3.0")),y}return ff=a,ff}var df,Q0;function r2(){if(Q0)return df;Q0=1;var r=e2(),o=n2(),a=10,d=40,p=800;function x(y){var b=0,w=0,E=0,S=0;return"detail"in y&&(w=y.detail),"wheelDelta"in y&&(w=-y.wheelDelta/120),"wheelDeltaY"in y&&(w=-y.wheelDeltaY/120),"wheelDeltaX"in y&&(b=-y.wheelDeltaX/120),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(b=w,w=0),E=b*a,S=w*a,"deltaY"in y&&(S=y.deltaY),"deltaX"in y&&(E=y.deltaX),(E||S)&&y.deltaMode&&(y.deltaMode==1?(E*=d,S*=d):(E*=p,S*=p)),E&&!b&&(b=E<1?-1:1),S&&!w&&(w=S<1?-1:1),{spinX:b,spinY:w,pixelX:E,pixelY:S}}return x.getEventType=function(){return r.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},df=x,df}var hf,J0;function i2(){return J0||(J0=1,hf=r2()),hf}var s2=i2();const o2=Vp(s2);function a2(r,o,a,d,p,x){x===void 0&&(x=0);var y=ko(r,o,x),b=y.width,w=y.height,E=Math.min(b,a),S=Math.min(w,d);return E>S*p?{width:S*p,height:S}:{width:E,height:E/p}}function l2(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function va(r,o,a,d,p){p===void 0&&(p=0);var x=ko(o.width,o.height,p),y=x.width,b=x.height;return{x:e1(r.x,y,a.width,d),y:e1(r.y,b,a.height,d)}}function e1(r,o,a,d){var p=o*d/2-a/2;return Nc(r,-p,p)}function t1(r,o){return Math.sqrt(Math.pow(r.y-o.y,2)+Math.pow(r.x-o.x,2))}function n1(r,o){return Math.atan2(o.y-r.y,o.x-r.x)*180/Math.PI}function c2(r,o,a,d,p,x,y){x===void 0&&(x=0),y===void 0&&(y=!0);var b=y?u2:f2,w=ko(o.width,o.height,x),E=ko(o.naturalWidth,o.naturalHeight,x),S={x:b(100,((w.width-a.width/p)/2-r.x/p)/w.width*100),y:b(100,((w.height-a.height/p)/2-r.y/p)/w.height*100),width:b(100,a.width/w.width*100/p),height:b(100,a.height/w.height*100/p)},T=Math.round(b(E.width,S.width*E.width/100)),R=Math.round(b(E.height,S.height*E.height/100)),M=E.width>=E.height*d,L=M?{width:Math.round(R*d),height:R}:{width:T,height:Math.round(T/d)},F=Hn(Hn({},L),{x:Math.round(b(E.width-L.width,S.x*E.width/100)),y:Math.round(b(E.height-L.height,S.y*E.height/100))});return{croppedAreaPercentages:S,croppedAreaPixels:F}}function u2(r,o){return Math.min(r,Math.max(0,o))}function f2(r,o){return o}function d2(r,o,a,d,p,x){var y=ko(o.width,o.height,a),b=Nc(d.width/y.width*(100/r.width),p,x),w={x:b*y.width/2-d.width/2-y.width*b*(r.x/100),y:b*y.height/2-d.height/2-y.height*b*(r.y/100)};return{crop:w,zoom:b}}function h2(r,o,a){var d=l2(o);return a.height>a.width?a.height/(r.height*d):a.width/(r.width*d)}function p2(r,o,a,d,p,x){a===void 0&&(a=0);var y=ko(o.naturalWidth,o.naturalHeight,a),b=Nc(h2(r,o,d),p,x),w=d.height>d.width?d.height/r.height:d.width/r.width,E={x:((y.width-r.width)/2-r.x)*w,y:((y.height-r.height)/2-r.y)*w};return{crop:E,zoom:b}}function r1(r,o){return{x:(o.x+r.x)/2,y:(o.y+r.y)/2}}function g2(r){return r*Math.PI/180}function ko(r,o,a){var d=g2(a);return{width:Math.abs(Math.cos(d)*r)+Math.abs(Math.sin(d)*o),height:Math.abs(Math.sin(d)*r)+Math.abs(Math.cos(d)*o)}}function Nc(r,o,a){return Math.min(Math.max(r,o),a)}function ec(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.filter(function(a){return typeof a=="string"&&a.length>0}).join(" ").trim()}var m2=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,x2=1,y2=3,w2=1,gc=function(r){Jx(o,r);function o(){var a=r!==null&&r.apply(this,arguments)||this;return a.imageRef=_.createRef(),a.videoRef=_.createRef(),a.containerPosition={x:0,y:0},a.containerRef=null,a.styleRef=null,a.containerRect=null,a.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},a.dragStartPosition={x:0,y:0},a.dragStartCrop={x:0,y:0},a.gestureZoomStart=0,a.gestureRotationStart=0,a.isTouching=!1,a.lastPinchDistance=0,a.lastPinchRotation=0,a.rafDragTimeout=null,a.rafPinchTimeout=null,a.wheelTimer=null,a.currentDoc=typeof document<"u"?document:null,a.currentWindow=typeof window<"u"?window:null,a.resizeObserver=null,a.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},a.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!a.containerRef)){var d=!0;a.resizeObserver=new window.ResizeObserver(function(p){if(d){d=!1;return}a.computeSizes()}),a.resizeObserver.observe(a.containerRef)}},a.preventZoomSafari=function(d){return d.preventDefault()},a.cleanEvents=function(){a.currentDoc&&(a.currentDoc.removeEventListener("mousemove",a.onMouseMove),a.currentDoc.removeEventListener("mouseup",a.onDragStopped),a.currentDoc.removeEventListener("touchmove",a.onTouchMove),a.currentDoc.removeEventListener("touchend",a.onDragStopped),a.currentDoc.removeEventListener("gesturemove",a.onGestureMove),a.currentDoc.removeEventListener("gestureend",a.onGestureEnd),a.currentDoc.removeEventListener("scroll",a.onScroll))},a.clearScrollEvent=function(){a.containerRef&&a.containerRef.removeEventListener("wheel",a.onWheel),a.wheelTimer&&clearTimeout(a.wheelTimer)},a.onMediaLoad=function(){var d=a.computeSizes();d&&(a.emitCropData(),a.setInitialCrop(d)),a.props.onMediaLoaded&&a.props.onMediaLoaded(a.mediaSize)},a.setInitialCrop=function(d){if(a.props.initialCroppedAreaPercentages){var p=d2(a.props.initialCroppedAreaPercentages,a.mediaSize,a.props.rotation,d,a.props.minZoom,a.props.maxZoom),x=p.crop,y=p.zoom;a.props.onCropChange(x),a.props.onZoomChange&&a.props.onZoomChange(y)}else if(a.props.initialCroppedAreaPixels){var b=p2(a.props.initialCroppedAreaPixels,a.mediaSize,a.props.rotation,d,a.props.minZoom,a.props.maxZoom),x=b.crop,y=b.zoom;a.props.onCropChange(x),a.props.onZoomChange&&a.props.onZoomChange(y)}},a.computeSizes=function(){var d,p,x,y,b,w,E=a.imageRef.current||a.videoRef.current;if(E&&a.containerRef){a.containerRect=a.containerRef.getBoundingClientRect(),a.saveContainerPosition();var S=a.containerRect.width/a.containerRect.height,T=((d=a.imageRef.current)===null||d===void 0?void 0:d.naturalWidth)||((p=a.videoRef.current)===null||p===void 0?void 0:p.videoWidth)||0,R=((x=a.imageRef.current)===null||x===void 0?void 0:x.naturalHeight)||((y=a.videoRef.current)===null||y===void 0?void 0:y.videoHeight)||0,M=E.offsetWidth<T||E.offsetHeight<R,L=T/R,F=void 0;if(M)switch(a.state.mediaObjectFit){default:case"contain":F=S>L?{width:a.containerRect.height*L,height:a.containerRect.height}:{width:a.containerRect.width,height:a.containerRect.width/L};break;case"horizontal-cover":F={width:a.containerRect.width,height:a.containerRect.width/L};break;case"vertical-cover":F={width:a.containerRect.height*L,height:a.containerRect.height};break}else F={width:E.offsetWidth,height:E.offsetHeight};a.mediaSize=Hn(Hn({},F),{naturalWidth:T,naturalHeight:R}),a.props.setMediaSize&&a.props.setMediaSize(a.mediaSize);var B=a.props.cropSize?a.props.cropSize:a2(a.mediaSize.width,a.mediaSize.height,a.containerRect.width,a.containerRect.height,a.props.aspect,a.props.rotation);return(((b=a.state.cropSize)===null||b===void 0?void 0:b.height)!==B.height||((w=a.state.cropSize)===null||w===void 0?void 0:w.width)!==B.width)&&a.props.onCropSizeChange&&a.props.onCropSizeChange(B),a.setState({cropSize:B},a.recomputeCropPosition),a.props.setCropSize&&a.props.setCropSize(B),B}},a.saveContainerPosition=function(){if(a.containerRef){var d=a.containerRef.getBoundingClientRect();a.containerPosition={x:d.left,y:d.top}}},a.onMouseDown=function(d){a.currentDoc&&(d.preventDefault(),a.currentDoc.addEventListener("mousemove",a.onMouseMove),a.currentDoc.addEventListener("mouseup",a.onDragStopped),a.saveContainerPosition(),a.onDragStart(o.getMousePoint(d)))},a.onMouseMove=function(d){return a.onDrag(o.getMousePoint(d))},a.onScroll=function(d){a.currentDoc&&(d.preventDefault(),a.saveContainerPosition())},a.onTouchStart=function(d){a.currentDoc&&(a.isTouching=!0,!(a.props.onTouchRequest&&!a.props.onTouchRequest(d))&&(a.currentDoc.addEventListener("touchmove",a.onTouchMove,{passive:!1}),a.currentDoc.addEventListener("touchend",a.onDragStopped),a.saveContainerPosition(),d.touches.length===2?a.onPinchStart(d):d.touches.length===1&&a.onDragStart(o.getTouchPoint(d.touches[0]))))},a.onTouchMove=function(d){d.preventDefault(),d.touches.length===2?a.onPinchMove(d):d.touches.length===1&&a.onDrag(o.getTouchPoint(d.touches[0]))},a.onGestureStart=function(d){a.currentDoc&&(d.preventDefault(),a.currentDoc.addEventListener("gesturechange",a.onGestureMove),a.currentDoc.addEventListener("gestureend",a.onGestureEnd),a.gestureZoomStart=a.props.zoom,a.gestureRotationStart=a.props.rotation)},a.onGestureMove=function(d){if(d.preventDefault(),!a.isTouching){var p=o.getMousePoint(d),x=a.gestureZoomStart-1+d.scale;if(a.setNewZoom(x,p,{shouldUpdatePosition:!0}),a.props.onRotationChange){var y=a.gestureRotationStart+d.rotation;a.props.onRotationChange(y)}}},a.onGestureEnd=function(d){a.cleanEvents()},a.onDragStart=function(d){var p,x,y=d.x,b=d.y;a.dragStartPosition={x:y,y:b},a.dragStartCrop=Hn({},a.props.crop),(x=(p=a.props).onInteractionStart)===null||x===void 0||x.call(p)},a.onDrag=function(d){var p=d.x,x=d.y;a.currentWindow&&(a.rafDragTimeout&&a.currentWindow.cancelAnimationFrame(a.rafDragTimeout),a.rafDragTimeout=a.currentWindow.requestAnimationFrame(function(){if(a.state.cropSize&&!(p===void 0||x===void 0)){var y=p-a.dragStartPosition.x,b=x-a.dragStartPosition.y,w={x:a.dragStartCrop.x+y,y:a.dragStartCrop.y+b},E=a.props.restrictPosition?va(w,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):w;a.props.onCropChange(E)}}))},a.onDragStopped=function(){var d,p;a.isTouching=!1,a.cleanEvents(),a.emitCropData(),(p=(d=a.props).onInteractionEnd)===null||p===void 0||p.call(d)},a.onWheel=function(d){if(a.currentWindow&&!(a.props.onWheelRequest&&!a.props.onWheelRequest(d))){d.preventDefault();var p=o.getMousePoint(d),x=o2(d).pixelY,y=a.props.zoom-x*a.props.zoomSpeed/200;a.setNewZoom(y,p,{shouldUpdatePosition:!0}),a.state.hasWheelJustStarted||a.setState({hasWheelJustStarted:!0},function(){var b,w;return(w=(b=a.props).onInteractionStart)===null||w===void 0?void 0:w.call(b)}),a.wheelTimer&&clearTimeout(a.wheelTimer),a.wheelTimer=a.currentWindow.setTimeout(function(){return a.setState({hasWheelJustStarted:!1},function(){var b,w;return(w=(b=a.props).onInteractionEnd)===null||w===void 0?void 0:w.call(b)})},250)}},a.getPointOnContainer=function(d,p){var x=d.x,y=d.y;if(!a.containerRect)throw new Error("The Cropper is not mounted");return{x:a.containerRect.width/2-(x-p.x),y:a.containerRect.height/2-(y-p.y)}},a.getPointOnMedia=function(d){var p=d.x,x=d.y,y=a.props,b=y.crop,w=y.zoom;return{x:(p+b.x)/w,y:(x+b.y)/w}},a.setNewZoom=function(d,p,x){var y=x===void 0?{}:x,b=y.shouldUpdatePosition,w=b===void 0?!0:b;if(!(!a.state.cropSize||!a.props.onZoomChange)){var E=Nc(d,a.props.minZoom,a.props.maxZoom);if(w){var S=a.getPointOnContainer(p,a.containerPosition),T=a.getPointOnMedia(S),R={x:T.x*E-S.x,y:T.y*E-S.y},M=a.props.restrictPosition?va(R,a.mediaSize,a.state.cropSize,E,a.props.rotation):R;a.props.onCropChange(M)}a.props.onZoomChange(E)}},a.getCropData=function(){if(!a.state.cropSize)return null;var d=a.props.restrictPosition?va(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;return c2(d,a.mediaSize,a.state.cropSize,a.getAspect(),a.props.zoom,a.props.rotation,a.props.restrictPosition)},a.emitCropData=function(){var d=a.getCropData();if(d){var p=d.croppedAreaPercentages,x=d.croppedAreaPixels;a.props.onCropComplete&&a.props.onCropComplete(p,x),a.props.onCropAreaChange&&a.props.onCropAreaChange(p,x)}},a.emitCropAreaChange=function(){var d=a.getCropData();if(d){var p=d.croppedAreaPercentages,x=d.croppedAreaPixels;a.props.onCropAreaChange&&a.props.onCropAreaChange(p,x)}},a.recomputeCropPosition=function(){if(a.state.cropSize){var d=a.props.restrictPosition?va(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;a.props.onCropChange(d),a.emitCropData()}},a.onKeyDown=function(d){var p=a.props,x=p.crop,y=p.onCropChange,b=p.keyboardStep,w=p.zoom,E=p.rotation,S=b;if(a.state.cropSize){d.shiftKey&&(S*=.2);var T=Hn({},x);switch(d.key){case"ArrowUp":T.y-=S,d.preventDefault();break;case"ArrowDown":T.y+=S,d.preventDefault();break;case"ArrowLeft":T.x-=S,d.preventDefault();break;case"ArrowRight":T.x+=S,d.preventDefault();break;default:return}a.props.restrictPosition&&(T=va(T,a.mediaSize,a.state.cropSize,w,E)),y(T)}},a}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=m2,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},o.prototype.componentWillUnmount=function(){var a,d;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(a=this.resizeObserver)===null||a===void 0||a.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((d=this.styleRef.parentNode)===null||d===void 0||d.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(a){var d,p,x,y,b,w,E,S,T;a.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):a.aspect!==this.props.aspect?this.computeSizes():a.objectFit!==this.props.objectFit?this.computeSizes():a.zoom!==this.props.zoom?this.recomputeCropPosition():((d=a.cropSize)===null||d===void 0?void 0:d.height)!==((p=this.props.cropSize)===null||p===void 0?void 0:p.height)||((x=a.cropSize)===null||x===void 0?void 0:x.width)!==((y=this.props.cropSize)===null||y===void 0?void 0:y.width)?this.computeSizes():(((b=a.crop)===null||b===void 0?void 0:b.x)!==((w=this.props.crop)===null||w===void 0?void 0:w.x)||((E=a.crop)===null||E===void 0?void 0:E.y)!==((S=this.props.crop)===null||S===void 0?void 0:S.y))&&this.emitCropAreaChange(),a.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),a.video!==this.props.video&&((T=this.videoRef.current)===null||T===void 0||T.load());var R=this.getObjectFit();R!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:R},this.computeSizes)},o.prototype.getAspect=function(){var a=this.props,d=a.cropSize,p=a.aspect;return d?d.width/d.height:p},o.prototype.getObjectFit=function(){var a,d,p,x;if(this.props.objectFit==="cover"){var y=this.imageRef.current||this.videoRef.current;if(y&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var b=this.containerRect.width/this.containerRect.height,w=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((d=this.videoRef.current)===null||d===void 0?void 0:d.videoWidth)||0,E=((p=this.imageRef.current)===null||p===void 0?void 0:p.naturalHeight)||((x=this.videoRef.current)===null||x===void 0?void 0:x.videoHeight)||0,S=w/E;return S<b?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(a){var d=o.getTouchPoint(a.touches[0]),p=o.getTouchPoint(a.touches[1]);this.lastPinchDistance=t1(d,p),this.lastPinchRotation=n1(d,p),this.onDragStart(r1(d,p))},o.prototype.onPinchMove=function(a){var d=this;if(!(!this.currentDoc||!this.currentWindow)){var p=o.getTouchPoint(a.touches[0]),x=o.getTouchPoint(a.touches[1]),y=r1(p,x);this.onDrag(y),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var b=t1(p,x),w=d.props.zoom*(b/d.lastPinchDistance);d.setNewZoom(w,y,{shouldUpdatePosition:!1}),d.lastPinchDistance=b;var E=n1(p,x),S=d.props.rotation+(E-d.lastPinchRotation);d.props.onRotationChange&&d.props.onRotationChange(S),d.lastPinchRotation=E})}},o.prototype.render=function(){var a=this,d,p=this.props,x=p.image,y=p.video,b=p.mediaProps,w=p.transform,E=p.crop,S=E.x,T=E.y,R=p.rotation,M=p.zoom,L=p.cropShape,F=p.showGrid,B=p.style,V=B.containerStyle,H=B.cropAreaStyle,U=B.mediaStyle,re=p.classes,ae=re.containerClassName,le=re.cropAreaClassName,X=re.mediaClassName,ue=(d=this.state.mediaObjectFit)!==null&&d!==void 0?d:this.getObjectFit();return _.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(_e){return a.containerRef=_e},"data-testid":"container",style:V,className:ec("reactEasyCrop_Container",ae)},x?_.createElement("img",Hn({alt:"",className:ec("reactEasyCrop_Image",ue==="contain"&&"reactEasyCrop_Contain",ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",X)},b,{src:x,ref:this.imageRef,style:Hn(Hn({},U),{transform:w||"translate(".concat(S,"px, ").concat(T,"px) rotate(").concat(R,"deg) scale(").concat(M,")")}),onLoad:this.onMediaLoad})):y&&_.createElement("video",Hn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ec("reactEasyCrop_Video",ue==="contain"&&"reactEasyCrop_Contain",ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",X)},b,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Hn(Hn({},U),{transform:w||"translate(".concat(S,"px, ").concat(T,"px) rotate(").concat(R,"deg) scale(").concat(M,")")}),controls:!1}),(Array.isArray(y)?y:[{src:y}]).map(function(q){return _.createElement("source",Hn({key:q.src},q))})),this.state.cropSize&&_.createElement("div",{style:Hn(Hn({},H),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:ec("reactEasyCrop_CropArea",L==="round"&&"reactEasyCrop_CropAreaRound",F&&"reactEasyCrop_CropAreaGrid",le)}))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:y2,minZoom:x2,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:w2},o.getMousePoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},o.getTouchPoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},o}(_.Component),Ca={},i1;function v2(){return i1||(i1=1,Ca.createCanvas=function(r,o){return Object.assign(document.createElement("canvas"),{width:r,height:o})},Ca.createImageData=function(r,o,a){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(r);case 2:return new ImageData(r,o);default:return new ImageData(r,o,a)}},Ca.loadImage=function(r,o){return new Promise(function(a,d){const p=Object.assign(document.createElement("img"),o);function x(){p.onload=null,p.onerror=null}p.onload=function(){x(),a(p)},p.onerror=function(){x(),d(new Error('Failed to load the image "'+r+'"'))},p.src=r})}),Ca}v2();async function td(r,o){return console.log("Image source being cropped:",r),new Promise((a,d)=>{const p=new Image;p.onload=()=>{const x=document.createElement("canvas"),y=x.getContext("2d");x.width=o.width,x.height=o.height,y.drawImage(p,o.x,o.y,o.width,o.height,0,0,o.width,o.height);try{const b=x.toDataURL("image/jpeg");a(b)}catch{d(new Error("Error converting canvas to base64"))}},p.onerror=x=>d(new Error(`Image load error: ${x.message}`)),p.src=r})}const C2=({onSubmit:r,onClose:o,existingProfile:a})=>{const{user:d,userProfile:p,checkAuth:x}=_.useContext(Ir),[y,b]=_.useState({name:(p==null?void 0:p.name)||"",image:null,imagePreview:p!=null&&p.image_data?`data:image/jpeg;base64,${p.image_data}`:"/assets/fakeprofile.png",croppedImage:null}),[w,E]=_.useState({x:0,y:0}),[S,T]=_.useState(1),[R,M]=_.useState(null),[L,F]=_.useState(!1),[B,V]=_.useState(!1),H=ae=>{const le=ae.target.files[0];if(le){const X=new FileReader;X.onload=ue=>{b(q=>({...q,image:le,imagePreview:ue.target.result})),F(!0)},X.readAsDataURL(le)}},U=(ae,le)=>{console.log("Cropped Area Pixels:",le),M(le)};async function re(ae){ae.preventDefault();let le;if(y.croppedImage)le=y.croppedImage.split(",")[1];else if(y.image instanceof File){const q=await y.image.arrayBuffer();le=btoa(new Uint8Array(q).reduce((_e,Le)=>_e+String.fromCharCode(Le),""))}else if(p!=null&&p.image_data)le=p.image_data;else{console.error("No valid image provided");return}const X={name:y.name,image_data:le};console.log("Image data (first 100 chars):",le.substring(0,100));const ue=localStorage.getItem("access_token");try{const q=await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify(X)});if(!q.ok)throw new Error("Failed to update profile");const _e=await q.json();await x(),console.log("Profile updated successfully:",_e),o()}catch(q){console.error("Error updating profile:",q)}}return A.jsx("div",{className:"profile-creation-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:A.jsxs("div",{className:"profile-creation-modal",style:{width:"70%",maxWidth:"500px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"2rem",boxShadow:"0 10px 30px rgba(20,77,255,0.15)",position:"relative",border:"1px solid rgba(20,77,255,0.1)"},children:[A.jsx("button",{onClick:o,style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"#144dff",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:""}),A.jsx("h2",{style:{fontSize:"clamp(1.8rem, 6vw, 2.5rem)",color:"#144dff",textAlign:"center",marginBottom:"2rem",fontWeight:"600"},children:"Your Profile"}),A.jsxs("form",{onSubmit:re,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[A.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[A.jsx("label",{style:{color:"#144dff",fontWeight:"500",fontSize:"1rem"},children:"Your Name"}),A.jsx("input",{type:"text",value:y.name,onChange:ae=>b({...y,name:ae.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #e0e0e0",fontSize:"0.9rem",transition:"all 0.3s ease",backgroundColor:"rgba(255,255,255,0.9)","&:focus":{borderColor:"#144dff",outline:"none",boxShadow:"0 0 0 3px rgba(20,77,255,0.1)"}}})]}),!L&&A.jsx("div",{style:{width:"250px",height:"250px",margin:"0 auto",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:A.jsx("img",{src:y.croppedImage?y.croppedImage:y.imagePreview?y.imagePreview:p!=null&&p.image_data?`data:image/jpeg;base64,${p.image_data}`:"/assets/fakeprofile.png",alt:"Profile preview",style:{width:"100%",height:"100%",objectFit:"cover"}})}),A.jsxs("div",{style:{textAlign:"center"},children:[A.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:H,style:{display:"none"}}),A.jsx("label",{htmlFor:"image-upload",style:{padding:"0.8rem 1.2rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",borderRadius:"25px",cursor:"pointer",display:"inline-block",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Upload New Image"})]}),L&&A.jsxs("div",{style:{width:"100%",maxWidth:"300px",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.2rem"},children:[A.jsx("div",{style:{position:"relative",width:"250px",height:"250px",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)"},children:A.jsx(gc,{image:y.imagePreview,crop:w,zoom:S,aspect:1,onCropComplete:U,onCropChange:E,onZoomChange:T})}),A.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[A.jsx("button",{type:"button",onClick:()=>{F(!1),y.croppedImage||b(ae=>({...ae,imagePreview:null}))},style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"2px solid #144dff",background:"white",color:"#144dff",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease","&:hover":{background:"rgba(20,77,255,0.1)"}},children:"Cancel"}),A.jsx("button",{type:"button",onClick:async()=>{try{const ae=await td(y.imagePreview,R);b(le=>({...le,croppedImage:ae,imagePreview:ae})),F(!1),V(!0),setTimeout(()=>V(!1),1e4)}catch(ae){console.error("Error cropping image:",ae)}},className:`save-profile-button ${B?"glow-bounce":""}`,style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"none",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(20,77,255,0.2)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Cropped Image"})]})]}),A.jsx("button",{type:"submit",className:`save-profile-button ${B?"glow-bounce":""}`,style:{padding:"1rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Profile"})]})]})})};var Ea={},s1;function E2(){if(s1)return Ea;s1=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.parse=y,Ea.serialize=E;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,o=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,d=/^[\u0020-\u003A\u003D-\u007E]*$/,p=Object.prototype.toString,x=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function y(R,M){const L=new x,F=R.length;if(F<2)return L;const B=(M==null?void 0:M.decode)||S;let V=0;do{const H=R.indexOf("=",V);if(H===-1)break;const U=R.indexOf(";",V),re=U===-1?F:U;if(H>re){V=R.lastIndexOf(";",H-1)+1;continue}const ae=b(R,V,H),le=w(R,H,ae),X=R.slice(ae,le);if(L[X]===void 0){let ue=b(R,H+1,re),q=w(R,re,ue);const _e=B(R.slice(ue,q));L[X]=_e}V=re+1}while(V<F);return L}function b(R,M,L){do{const F=R.charCodeAt(M);if(F!==32&&F!==9)return M}while(++M<L);return L}function w(R,M,L){for(;M>L;){const F=R.charCodeAt(--M);if(F!==32&&F!==9)return M+1}return L}function E(R,M,L){const F=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const B=F(M);if(!o.test(B))throw new TypeError(`argument val is invalid: ${M}`);let V=R+"="+B;if(!L)return V;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);V+="; Max-Age="+L.maxAge}if(L.domain){if(!a.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);V+="; Domain="+L.domain}if(L.path){if(!d.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);V+="; Path="+L.path}if(L.expires){if(!T(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);V+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(V+="; HttpOnly"),L.secure&&(V+="; Secure"),L.partitioned&&(V+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return V}function S(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function T(R){return p.call(R)==="[object Date]"}return Ea}E2();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o1="popstate";function b2(r={}){function o(d,p){let{pathname:x,search:y,hash:b}=d.location;return _f("",{pathname:x,search:y,hash:b},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function a(d,p){return typeof p=="string"?p:Oa(p)}return S2(o,a,null,r)}function un(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function gi(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function A2(){return Math.random().toString(36).substring(2,10)}function a1(r,o){return{usr:r.state,key:r.key,idx:o}}function _f(r,o,a=null,d){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?Mo(o):o,state:a,key:o&&o.key||d||A2()}}function Oa({pathname:r="/",search:o="",hash:a=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Mo(r){let o={};if(r){let a=r.indexOf("#");a>=0&&(o.hash=r.substring(a),r=r.substring(0,a));let d=r.indexOf("?");d>=0&&(o.search=r.substring(d),r=r.substring(0,d)),r&&(o.pathname=r)}return o}function S2(r,o,a,d={}){let{window:p=document.defaultView,v5Compat:x=!1}=d,y=p.history,b="POP",w=null,E=S();E==null&&(E=0,y.replaceState({...y.state,idx:E},""));function S(){return(y.state||{idx:null}).idx}function T(){b="POP";let B=S(),V=B==null?null:B-E;E=B,w&&w({action:b,location:F.location,delta:V})}function R(B,V){b="PUSH";let H=_f(F.location,B,V);E=S()+1;let U=a1(H,E),re=F.createHref(H);try{y.pushState(U,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;p.location.assign(re)}x&&w&&w({action:b,location:F.location,delta:1})}function M(B,V){b="REPLACE";let H=_f(F.location,B,V);E=S();let U=a1(H,E),re=F.createHref(H);y.replaceState(U,"",re),x&&w&&w({action:b,location:F.location,delta:0})}function L(B){let V=p.location.origin!=="null"?p.location.origin:p.location.href,H=typeof B=="string"?B:Oa(B);return H=H.replace(/ $/,"%20"),un(V,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,V)}let F={get action(){return b},get location(){return r(p,y)},listen(B){if(w)throw new Error("A history only accepts one active listener");return p.addEventListener(o1,T),w=B,()=>{p.removeEventListener(o1,T),w=null}},createHref(B){return o(p,B)},createURL:L,encodeLocation(B){let V=L(B);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:R,replace:M,go(B){return y.go(B)}};return F}function zp(r,o,a="/"){return I2(r,o,a,!1)}function I2(r,o,a,d){let p=typeof o=="string"?Mo(o):o,x=ds(p.pathname||"/",a);if(x==null)return null;let y=Up(r);T2(y);let b=null;for(let w=0;b==null&&w<y.length;++w){let E=F2(x);b=L2(y[w],E,d)}return b}function Up(r,o=[],a=[],d=""){let p=(x,y,b)=>{let w={relativePath:b===void 0?x.path||"":b,caseSensitive:x.caseSensitive===!0,childrenIndex:y,route:x};w.relativePath.startsWith("/")&&(un(w.relativePath.startsWith(d),`Absolute route path "${w.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(d.length));let E=Di([d,w.relativePath]),S=a.concat(w);x.children&&x.children.length>0&&(un(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Up(x.children,o,S,E)),!(x.path==null&&!x.index)&&o.push({path:E,score:M2(E,x.index),routesMeta:S})};return r.forEach((x,y)=>{var b;if(x.path===""||!((b=x.path)!=null&&b.includes("?")))p(x,y);else for(let w of Wp(x.path))p(x,y,w)}),o}function Wp(r){let o=r.split("/");if(o.length===0)return[];let[a,...d]=o,p=a.endsWith("?"),x=a.replace(/\?$/,"");if(d.length===0)return p?[x,""]:[x];let y=Wp(d.join("/")),b=[];return b.push(...y.map(w=>w===""?x:[x,w].join("/"))),p&&b.push(...y),b.map(w=>r.startsWith("/")&&w===""?"/":w)}function T2(r){r.sort((o,a)=>o.score!==a.score?a.score-o.score:D2(o.routesMeta.map(d=>d.childrenIndex),a.routesMeta.map(d=>d.childrenIndex)))}var N2=/^:[\w-]+$/,R2=3,_2=2,k2=1,P2=10,O2=-2,l1=r=>r==="*";function M2(r,o){let a=r.split("/"),d=a.length;return a.some(l1)&&(d+=O2),o&&(d+=_2),a.filter(p=>!l1(p)).reduce((p,x)=>p+(N2.test(x)?R2:x===""?k2:P2),d)}function D2(r,o){return r.length===o.length&&r.slice(0,-1).every((d,p)=>d===o[p])?r[r.length-1]-o[o.length-1]:0}function L2(r,o,a=!1){let{routesMeta:d}=r,p={},x="/",y=[];for(let b=0;b<d.length;++b){let w=d[b],E=b===d.length-1,S=x==="/"?o:o.slice(x.length)||"/",T=mc({path:w.relativePath,caseSensitive:w.caseSensitive,end:E},S),R=w.route;if(!T&&E&&a&&!d[d.length-1].route.index&&(T=mc({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},S)),!T)return null;Object.assign(p,T.params),y.push({params:p,pathname:Di([x,T.pathname]),pathnameBase:U2(Di([x,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(x=Di([x,T.pathnameBase]))}return y}function mc(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,d]=B2(r.path,r.caseSensitive,r.end),p=o.match(a);if(!p)return null;let x=p[0],y=x.replace(/(.)\/+$/,"$1"),b=p.slice(1);return{params:d.reduce((E,{paramName:S,isOptional:T},R)=>{if(S==="*"){let L=b[R]||"";y=x.slice(0,x.length-L.length).replace(/(.)\/+$/,"$1")}const M=b[R];return T&&!M?E[S]=void 0:E[S]=(M||"").replace(/%2F/g,"/"),E},{}),pathname:x,pathnameBase:y,pattern:r}}function B2(r,o=!1,a=!0){gi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let d=[],p="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,b,w)=>(d.push({paramName:b,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(d.push({paramName:"*"}),p+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?p+="\\/*$":r!==""&&r!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,o?void 0:"i"),d]}function F2(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return gi(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function ds(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let a=o.endsWith("/")?o.length-1:o.length,d=r.charAt(a);return d&&d!=="/"?null:r.slice(a)||"/"}function j2(r,o="/"){let{pathname:a,search:d="",hash:p=""}=typeof r=="string"?Mo(r):r;return{pathname:a?a.startsWith("/")?a:V2(a,o):o,search:W2(d),hash:H2(p)}}function V2(r,o){let a=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(p=>{p===".."?a.length>1&&a.pop():p!=="."&&a.push(p)}),a.length>1?a.join("/"):"/"}function pf(r,o,a,d){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z2(r){return r.filter((o,a)=>a===0||o.route.path&&o.route.path.length>0)}function Hp(r){let o=z2(r);return o.map((a,d)=>d===o.length-1?a.pathname:a.pathnameBase)}function Gp(r,o,a,d=!1){let p;typeof r=="string"?p=Mo(r):(p={...r},un(!p.pathname||!p.pathname.includes("?"),pf("?","pathname","search",p)),un(!p.pathname||!p.pathname.includes("#"),pf("#","pathname","hash",p)),un(!p.search||!p.search.includes("#"),pf("#","search","hash",p)));let x=r===""||p.pathname==="",y=x?"/":p.pathname,b;if(y==null)b=a;else{let T=o.length-1;if(!d&&y.startsWith("..")){let R=y.split("/");for(;R[0]==="..";)R.shift(),T-=1;p.pathname=R.join("/")}b=T>=0?o[T]:"/"}let w=j2(p,b),E=y&&y!=="/"&&y.endsWith("/"),S=(x||y===".")&&a.endsWith("/");return!w.pathname.endsWith("/")&&(E||S)&&(w.pathname+="/"),w}var Di=r=>r.join("/").replace(/\/\/+/g,"/"),U2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),W2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,H2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function G2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Xp=["POST","PUT","PATCH","DELETE"];new Set(Xp);var X2=["GET",...Xp];new Set(X2);var Do=_.createContext(null);Do.displayName="DataRouter";var Rc=_.createContext(null);Rc.displayName="DataRouterState";var Yp=_.createContext({isTransitioning:!1});Yp.displayName="ViewTransition";var Y2=_.createContext(new Map);Y2.displayName="Fetchers";var K2=_.createContext(null);K2.displayName="Await";var mi=_.createContext(null);mi.displayName="Navigation";var Wa=_.createContext(null);Wa.displayName="Location";var xi=_.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var nd=_.createContext(null);nd.displayName="RouteError";function Z2(r,{relative:o}={}){un(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:d}=_.useContext(mi),{hash:p,pathname:x,search:y}=Ga(r,{relative:o}),b=x;return a!=="/"&&(b=x==="/"?a:Di([a,x])),d.createHref({pathname:b,search:y,hash:p})}function Ha(){return _.useContext(Wa)!=null}function yi(){return un(Ha(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Wa).location}var Kp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zp(r){_.useContext(mi).static||_.useLayoutEffect(r)}function Tr(){let{isDataRoute:r}=_.useContext(xi);return r?cy():$2()}function $2(){un(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let r=_.useContext(Do),{basename:o,navigator:a}=_.useContext(mi),{matches:d}=_.useContext(xi),{pathname:p}=yi(),x=JSON.stringify(Hp(d)),y=_.useRef(!1);return Zp(()=>{y.current=!0}),_.useCallback((w,E={})=>{if(gi(y.current,Kp),!y.current)return;if(typeof w=="number"){a.go(w);return}let S=Gp(w,JSON.parse(x),p,E.relative==="path");r==null&&o!=="/"&&(S.pathname=S.pathname==="/"?o:Di([o,S.pathname])),(E.replace?a.replace:a.push)(S,E.state,E)},[o,a,x,p,r])}_.createContext(null);function q2(){let{matches:r}=_.useContext(xi),o=r[r.length-1];return o?o.params:{}}function Ga(r,{relative:o}={}){let{matches:a}=_.useContext(xi),{pathname:d}=yi(),p=JSON.stringify(Hp(a));return _.useMemo(()=>Gp(r,JSON.parse(p),d,o==="path"),[r,p,d,o])}function Q2(r,o){return $p(r,o)}function $p(r,o,a,d){var V;un(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=_.useContext(mi),{matches:x}=_.useContext(xi),y=x[x.length-1],b=y?y.params:{},w=y?y.pathname:"/",E=y?y.pathnameBase:"/",S=y&&y.route;{let H=S&&S.path||"";qp(w,!S||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=yi(),R;if(o){let H=typeof o=="string"?Mo(o):o;un(E==="/"||((V=H.pathname)==null?void 0:V.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${H.pathname}" was given in the \`location\` prop.`),R=H}else R=T;let M=R.pathname||"/",L=M;if(E!=="/"){let H=E.replace(/^\//,"").split("/");L="/"+M.replace(/^\//,"").split("/").slice(H.length).join("/")}let F=zp(r,{pathname:L});gi(S||F!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),gi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=ry(F&&F.map(H=>Object.assign({},H,{params:Object.assign({},b,H.params),pathname:Di([E,p.encodeLocation?p.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?E:Di([E,p.encodeLocation?p.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),x,a,d);return o&&B?_.createElement(Wa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function J2(){let r=ly(),o=G2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,d="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:d},x={padding:"2px 4px",backgroundColor:d},y=null;return console.error("Error handled by React Router default ErrorBoundary:",r),y=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:x},"ErrorBoundary")," or"," ",_.createElement("code",{style:x},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},o),a?_.createElement("pre",{style:p},a):null,y)}var ey=_.createElement(J2,null),ty=class extends _.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?_.createElement(xi.Provider,{value:this.props.routeContext},_.createElement(nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ny({routeContext:r,match:o,children:a}){let d=_.useContext(Do);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),_.createElement(xi.Provider,{value:r},a)}function ry(r,o=[],a=null,d=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(o.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let p=r,x=a==null?void 0:a.errors;if(x!=null){let w=p.findIndex(E=>E.route.id&&(x==null?void 0:x[E.route.id])!==void 0);un(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),p=p.slice(0,Math.min(p.length,w+1))}let y=!1,b=-1;if(a)for(let w=0;w<p.length;w++){let E=p[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(b=w),E.route.id){let{loaderData:S,errors:T}=a,R=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!T||T[E.route.id]===void 0);if(E.route.lazy||R){y=!0,b>=0?p=p.slice(0,b+1):p=[p[0]];break}}}return p.reduceRight((w,E,S)=>{let T,R=!1,M=null,L=null;a&&(T=x&&E.route.id?x[E.route.id]:void 0,M=E.route.errorElement||ey,y&&(b<0&&S===0?(qp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):b===S&&(R=!0,L=E.route.hydrateFallbackElement||null)));let F=o.concat(p.slice(0,S+1)),B=()=>{let V;return T?V=M:R?V=L:E.route.Component?V=_.createElement(E.route.Component,null):E.route.element?V=E.route.element:V=w,_.createElement(ny,{match:E,routeContext:{outlet:w,matches:F,isDataRoute:a!=null},children:V})};return a&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?_.createElement(ty,{location:a.location,revalidation:a.revalidation,component:M,error:T,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):B()},null)}function rd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iy(r){let o=_.useContext(Do);return un(o,rd(r)),o}function sy(r){let o=_.useContext(Rc);return un(o,rd(r)),o}function oy(r){let o=_.useContext(xi);return un(o,rd(r)),o}function id(r){let o=oy(r),a=o.matches[o.matches.length-1];return un(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function ay(){return id("useRouteId")}function ly(){var d;let r=_.useContext(nd),o=sy("useRouteError"),a=id("useRouteError");return r!==void 0?r:(d=o.errors)==null?void 0:d[a]}function cy(){let{router:r}=iy("useNavigate"),o=id("useNavigate"),a=_.useRef(!1);return Zp(()=>{a.current=!0}),_.useCallback(async(p,x={})=>{gi(a.current,Kp),a.current&&(typeof p=="number"?r.navigate(p):await r.navigate(p,{fromRouteId:o,...x}))},[r,o])}var c1={};function qp(r,o,a){!o&&!c1[r]&&(c1[r]=!0,gi(!1,a))}_.memo(uy);function uy({routes:r,future:o,state:a}){return $p(r,void 0,a,o)}function Qr(r){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fy({basename:r="/",children:o=null,location:a,navigationType:d="POP",navigator:p,static:x=!1}){un(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),b=_.useMemo(()=>({basename:y,navigator:p,static:x,future:{}}),[y,p,x]);typeof a=="string"&&(a=Mo(a));let{pathname:w="/",search:E="",hash:S="",state:T=null,key:R="default"}=a,M=_.useMemo(()=>{let L=ds(w,y);return L==null?null:{location:{pathname:L,search:E,hash:S,state:T,key:R},navigationType:d}},[y,w,E,S,T,R,d]);return gi(M!=null,`<Router basename="${y}"> is not able to match the URL "${w}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:_.createElement(mi.Provider,{value:b},_.createElement(Wa.Provider,{children:o,value:M}))}function dy({children:r,location:o}){return Q2(kf(r),o)}function kf(r,o=[]){let a=[];return _.Children.forEach(r,(d,p)=>{if(!_.isValidElement(d))return;let x=[...o,p];if(d.type===_.Fragment){a.push.apply(a,kf(d.props.children,x));return}un(d.type===Qr,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!d.props.index||!d.props.children,"An index route cannot have child routes.");let y={id:d.props.id||x.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(y.children=kf(d.props.children,x)),a.push(y)}),a}var lc="get",cc="application/x-www-form-urlencoded";function _c(r){return r!=null&&typeof r.tagName=="string"}function hy(r){return _c(r)&&r.tagName.toLowerCase()==="button"}function py(r){return _c(r)&&r.tagName.toLowerCase()==="form"}function gy(r){return _c(r)&&r.tagName.toLowerCase()==="input"}function my(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function xy(r,o){return r.button===0&&(!o||o==="_self")&&!my(r)}var tc=null;function yy(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var wy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gf(r){return r!=null&&!wy.has(r)?(gi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function vy(r,o){let a,d,p,x,y;if(py(r)){let b=r.getAttribute("action");d=b?ds(b,o):null,a=r.getAttribute("method")||lc,p=gf(r.getAttribute("enctype"))||cc,x=new FormData(r)}else if(hy(r)||gy(r)&&(r.type==="submit"||r.type==="image")){let b=r.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=r.getAttribute("formaction")||b.getAttribute("action");if(d=w?ds(w,o):null,a=r.getAttribute("formmethod")||b.getAttribute("method")||lc,p=gf(r.getAttribute("formenctype"))||gf(b.getAttribute("enctype"))||cc,x=new FormData(b,r),!yy()){let{name:E,type:S,value:T}=r;if(S==="image"){let R=E?`${E}.`:"";x.append(`${R}x`,"0"),x.append(`${R}y`,"0")}else E&&x.append(E,T)}}else{if(_c(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=lc,d=null,p=cc,y=r}return x&&p==="text/plain"&&(y=x,x=void 0),{action:d,method:a.toLowerCase(),encType:p,formData:x,body:y}}function sd(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}async function Cy(r,o){if(r.id in o)return o[r.id];try{let a=await import(r.module);return o[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ey(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function by(r,o,a){let d=await Promise.all(r.map(async p=>{let x=o.routes[p.route.id];if(x){let y=await Cy(x,a);return y.links?y.links():[]}return[]}));return Ty(d.flat(1).filter(Ey).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function u1(r,o,a,d,p,x){let y=(w,E)=>a[E]?w.route.id!==a[E].route.id:!0,b=(w,E)=>{var S;return a[E].pathname!==w.pathname||((S=a[E].route.path)==null?void 0:S.endsWith("*"))&&a[E].params["*"]!==w.params["*"]};return x==="assets"?o.filter((w,E)=>y(w,E)||b(w,E)):x==="data"?o.filter((w,E)=>{var T;let S=d.routes[w.route.id];if(!S||!S.hasLoader)return!1;if(y(w,E)||b(w,E))return!0;if(w.route.shouldRevalidate){let R=w.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:((T=a[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Ay(r,o){return Sy(r.map(a=>{let d=o.routes[a.route.id];if(!d)return[];let p=[d.module];return d.imports&&(p=p.concat(d.imports)),p}).flat(1))}function Sy(r){return[...new Set(r)]}function Iy(r){let o={},a=Object.keys(r).sort();for(let d of a)o[d]=r[d];return o}function Ty(r,o){let a=new Set;return new Set(o),r.reduce((d,p)=>{let x=JSON.stringify(Iy(p));return a.has(x)||(a.add(x),d.push({key:x,link:p})),d},[])}function Ny(r){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname="_root.data":o.pathname=`${o.pathname.replace(/\/$/,"")}.data`,o}function Ry(){let r=_.useContext(Do);return sd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function _y(){let r=_.useContext(Rc);return sd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var od=_.createContext(void 0);od.displayName="FrameworkContext";function Qp(){let r=_.useContext(od);return sd(r,"You must render this element inside a <HydratedRouter> element"),r}function ky(r,o){let a=_.useContext(od),[d,p]=_.useState(!1),[x,y]=_.useState(!1),{onFocus:b,onBlur:w,onMouseEnter:E,onMouseLeave:S,onTouchStart:T}=o,R=_.useRef(null);_.useEffect(()=>{if(r==="render"&&y(!0),r==="viewport"){let F=V=>{V.forEach(H=>{y(H.isIntersecting)})},B=new IntersectionObserver(F,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[r]),_.useEffect(()=>{if(d){let F=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(F)}}},[d]);let M=()=>{p(!0)},L=()=>{p(!1),y(!1)};return a?r!=="intent"?[x,R,{}]:[x,R,{onFocus:ba(b,M),onBlur:ba(w,L),onMouseEnter:ba(E,M),onMouseLeave:ba(S,L),onTouchStart:ba(T,M)}]:[!1,R,{}]}function ba(r,o){return a=>{r&&r(a),a.defaultPrevented||o(a)}}function Py({page:r,...o}){let{router:a}=Ry(),d=_.useMemo(()=>zp(a.routes,r,a.basename),[a.routes,r,a.basename]);return d?_.createElement(My,{page:r,matches:d,...o}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function Oy(r){let{manifest:o,routeModules:a}=Qp(),[d,p]=_.useState([]);return _.useEffect(()=>{let x=!1;return by(r,o,a).then(y=>{x||p(y)}),()=>{x=!0}},[r,o,a]),d}function My({page:r,matches:o,...a}){let d=yi(),{manifest:p,routeModules:x}=Qp(),{loaderData:y,matches:b}=_y(),w=_.useMemo(()=>u1(r,o,b,p,d,"data"),[r,o,b,p,d]),E=_.useMemo(()=>u1(r,o,b,p,d,"assets"),[r,o,b,p,d]),S=_.useMemo(()=>{if(r===d.pathname+d.search+d.hash)return[];let M=new Set,L=!1;if(o.forEach(B=>{var H;let V=p.routes[B.route.id];!V||!V.hasLoader||(!w.some(U=>U.route.id===B.route.id)&&B.route.id in y&&((H=x[B.route.id])!=null&&H.shouldRevalidate)||V.hasClientLoader?L=!0:M.add(B.route.id))}),M.size===0)return[];let F=Ny(r);return L&&M.size>0&&F.searchParams.set("_routes",o.filter(B=>M.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[y,d,p,w,o,r,x]),T=_.useMemo(()=>Ay(E,p),[E,p]),R=Oy(E);return _.createElement(_.Fragment,null,S.map(M=>_.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...a})),T.map(M=>_.createElement("link",{key:M,rel:"modulepreload",href:M,...a})),R.map(({key:M,link:L})=>_.createElement("link",{key:M,...L})))}function Dy(...r){return o=>{r.forEach(a=>{typeof a=="function"?a(o):a!=null&&(a.current=o)})}}var Jp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jp&&(window.__reactRouterVersion="7.0.2")}catch{}function Ly({basename:r,children:o,window:a}){let d=_.useRef();d.current==null&&(d.current=b2({window:a,v5Compat:!0}));let p=d.current,[x,y]=_.useState({action:p.action,location:p.location}),b=_.useCallback(w=>{_.startTransition(()=>y(w))},[y]);return _.useLayoutEffect(()=>p.listen(b),[p,b]),_.createElement(fy,{basename:r,children:o,location:x.location,navigationType:x.action,navigator:p})}var eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tg=_.forwardRef(function({onClick:o,discover:a="render",prefetch:d="none",relative:p,reloadDocument:x,replace:y,state:b,target:w,to:E,preventScrollReset:S,viewTransition:T,...R},M){let{basename:L}=_.useContext(mi),F=typeof E=="string"&&eg.test(E),B,V=!1;if(typeof E=="string"&&F&&(B=E,Jp))try{let q=new URL(window.location.href),_e=E.startsWith("//")?new URL(q.protocol+E):new URL(E),Le=ds(_e.pathname,L);_e.origin===q.origin&&Le!=null?E=Le+_e.search+_e.hash:V=!0}catch{gi(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Z2(E,{relative:p}),[U,re,ae]=ky(d,R),le=Vy(E,{replace:y,state:b,target:w,preventScrollReset:S,relative:p,viewTransition:T});function X(q){o&&o(q),q.defaultPrevented||le(q)}let ue=_.createElement("a",{...R,...ae,href:B||H,onClick:V||x?o:X,ref:Dy(M,re),target:w,"data-discover":!F&&a==="render"?"true":void 0});return U&&!F?_.createElement(_.Fragment,null,ue,_.createElement(Py,{page:H})):ue});tg.displayName="Link";var By=_.forwardRef(function({"aria-current":o="page",caseSensitive:a=!1,className:d="",end:p=!1,style:x,to:y,viewTransition:b,children:w,...E},S){let T=Ga(y,{relative:E.relative}),R=yi(),M=_.useContext(Rc),{navigator:L,basename:F}=_.useContext(mi),B=M!=null&&Gy(T)&&b===!0,V=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,H=R.pathname,U=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;a||(H=H.toLowerCase(),U=U?U.toLowerCase():null,V=V.toLowerCase()),U&&F&&(U=ds(U,F)||U);const re=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let ae=H===V||!p&&H.startsWith(V)&&H.charAt(re)==="/",le=U!=null&&(U===V||!p&&U.startsWith(V)&&U.charAt(V.length)==="/"),X={isActive:ae,isPending:le,isTransitioning:B},ue=ae?o:void 0,q;typeof d=="function"?q=d(X):q=[d,ae?"active":null,le?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let _e=typeof x=="function"?x(X):x;return _.createElement(tg,{...E,"aria-current":ue,className:q,ref:S,style:_e,to:y,viewTransition:b},typeof w=="function"?w(X):w)});By.displayName="NavLink";var Fy=_.forwardRef(({discover:r="render",fetcherKey:o,navigate:a,reloadDocument:d,replace:p,state:x,method:y=lc,action:b,onSubmit:w,relative:E,preventScrollReset:S,viewTransition:T,...R},M)=>{let L=Wy(),F=Hy(b,{relative:E}),B=y.toLowerCase()==="get"?"get":"post",V=typeof b=="string"&&eg.test(b),H=U=>{if(w&&w(U),U.defaultPrevented)return;U.preventDefault();let re=U.nativeEvent.submitter,ae=(re==null?void 0:re.getAttribute("formmethod"))||y;L(re||U.currentTarget,{fetcherKey:o,method:ae,navigate:a,replace:p,state:x,relative:E,preventScrollReset:S,viewTransition:T})};return _.createElement("form",{ref:M,method:B,action:F,onSubmit:d?w:H,...R,"data-discover":!V&&r==="render"?"true":void 0})});Fy.displayName="Form";function jy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ng(r){let o=_.useContext(Do);return un(o,jy(r)),o}function Vy(r,{target:o,replace:a,state:d,preventScrollReset:p,relative:x,viewTransition:y}={}){let b=Tr(),w=yi(),E=Ga(r,{relative:x});return _.useCallback(S=>{if(xy(S,o)){S.preventDefault();let T=a!==void 0?a:Oa(w)===Oa(E);b(r,{replace:T,state:d,preventScrollReset:p,relative:x,viewTransition:y})}},[w,b,E,a,d,o,r,p,x,y])}var zy=0,Uy=()=>`__${String(++zy)}__`;function Wy(){let{router:r}=ng("useSubmit"),{basename:o}=_.useContext(mi),a=ay();return _.useCallback(async(d,p={})=>{let{action:x,method:y,encType:b,formData:w,body:E}=vy(d,o);if(p.navigate===!1){let S=p.fetcherKey||Uy();await r.fetch(S,a,p.action||x,{preventScrollReset:p.preventScrollReset,formData:w,body:E,formMethod:p.method||y,formEncType:p.encType||b,flushSync:p.flushSync})}else await r.navigate(p.action||x,{preventScrollReset:p.preventScrollReset,formData:w,body:E,formMethod:p.method||y,formEncType:p.encType||b,replace:p.replace,state:p.state,fromRouteId:a,flushSync:p.flushSync,viewTransition:p.viewTransition})},[r,o,a])}function Hy(r,{relative:o}={}){let{basename:a}=_.useContext(mi),d=_.useContext(xi);un(d,"useFormAction must be used inside a RouteContext");let[p]=d.matches.slice(-1),x={...Ga(r||".",{relative:o})},y=yi();if(r==null){x.search=y.search;let b=new URLSearchParams(x.search),w=b.getAll("index");if(w.some(S=>S==="")){b.delete("index"),w.filter(T=>T).forEach(T=>b.append("index",T));let S=b.toString();x.search=S?`?${S}`:""}}return(!r||r===".")&&p.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(x.pathname=x.pathname==="/"?a:Di([a,x.pathname])),Oa(x)}function Gy(r,o={}){let a=_.useContext(Yp);un(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=ng("useViewTransitionState"),p=Ga(r,{relative:o.relative});if(!a.isTransitioning)return!1;let x=ds(a.currentLocation.pathname,d)||a.currentLocation.pathname,y=ds(a.nextLocation.pathname,d)||a.nextLocation.pathname;return mc(p.pathname,y)!=null||mc(p.pathname,x)!=null}new TextEncoder;function rg(){const r="./assets",o="/sounds/new_elevator_combined.mp3";Tr();const a=_.useRef(new Audio(r+o)),[d,p]=_.useState(!1),[x,y]=_.useState(!1),[b,w]=_.useState(null),[E,S]=_.useState(!1),[T,R]=_.useState(!1);_.useEffect(()=>{const H=a.current,U=()=>{H.pause(),H.currentTime=0,y(!1),B()};return H.addEventListener("ended",U),()=>H.removeEventListener("ended",U)},[T]);function M(){w(null),a.current.load(),a.current.play().then(()=>{a.current.pause(),a.current.currentTime=0,p(!0),y(!0),S(!0),F()}).catch(H=>{console.error("Error loading audio:",H),w("Failed to load audio. Please check the file path and format."),S(!1)})}function L(){return!!(a.current&&!a.current.paused)}function F(){a.current.paused?a.current.play().catch(H=>{console.error("Error playing audio:",H),w("Failed to play audio. Please try again.")}):a.current.currentTime=0}function B(){a.current&&(a.current.pause(),a.current.currentTime=0,a.current.src="",a.current=null)}function V(H){a.current.currentTime=H,console.log(a.current.duration)}return{audioRef:a,error:b,playSound:F,loadSound:M,seekTo:V,cancelSound:B,checkSound:L,soundEnabled:E,setSoundEnabled:S,isPlaying:x}}var On;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(On||(On={}));On.QR_CODE,On.AZTEC,On.CODABAR,On.CODE_39,On.CODE_93,On.CODE_128,On.DATA_MATRIX,On.MAXICODE,On.ITF,On.EAN_13,On.EAN_8,On.PDF_417,On.RSS_14,On.RSS_EXPANDED,On.UPC_A,On.UPC_E,On.UPC_EAN_EXTENSION;var f1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(f1||(f1={}));var xc;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(xc||(xc={}));var Xy=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[xc.SCAN_TYPE_CAMERA,xc.SCAN_TYPE_FILE],r}(),d1;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(d1||(d1={}));var Sa={exports:{}},Yy=Sa.exports,h1;function Ky(){return h1||(h1=1,function(r,o){(function(a,d){d(o)})(Yy,function(a){function d(k){return k==null}var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,e){k.__proto__=e}||function(k,e){for(var n in e)e.hasOwnProperty(n)&&(k[n]=e[n])};function x(k,e){p(k,e);function n(){this.constructor=k}k.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function y(k,e){var n=Object.setPrototypeOf;n?n(k,e):k.__proto__=e}function b(k,e){e===void 0&&(e=k.constructor);var n=Error.captureStackTrace;n&&n(k,e)}var w=function(k){x(e,k);function e(n){var i=this.constructor,l=k.call(this,n)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),y(l,i.prototype),b(l),l}return e}(Error);class E extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class S extends E{}S.kind="ArgumentException";class T extends E{}T.kind="IllegalArgumentException";class R{constructor(e){if(this.binarizer=e,e===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,l){const c=this.binarizer.getLuminanceSource().crop(e,n,i,l);return new R(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class M extends E{static getChecksumInstance(){return new M}}M.kind="ChecksumException";class L{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(e,n,i,l,c){for(;c--;)i[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class B extends E{}B.kind="IndexOutOfBoundsException";class V extends B{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}V.kind="ArrayIndexOutOfBoundsException";class H{static fill(e,n){for(let i=0,l=e.length;i<l;i++)e[i]=n}static fillWithin(e,n,i,l){H.rangeCheck(e.length,n,i);for(let c=n;c<i;c++)e[c]=l}static rangeCheck(e,n,i){if(n>i)throw new T("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new V(n);if(i>e)throw new V(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(c=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(c=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,l=e.length;i<l;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const l=i-n,c=new Int32Array(l);return F.arraycopy(e,n,c,0,l),c}static binarySearch(e,n,i){i===void 0&&(i=H.numberComparator);let l=0,c=e.length-1;for(;l<=c;){const u=c+l>>1,h=i(n,e[u]);if(h>0)l=u+1;else if(h<0)c=u-1;else return u}return-l-1}static numberComparator(e,n){return e-n}}class U{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class re{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=re.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=re.makeArray(e);F.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),c=i[l];c&=~((1<<(e&31))-1);const u=i.length;for(;c===0;){if(++l===u)return n;c=i[l]}const h=l*32+U.numberOfTrailingZeros(c);return h>n?n:h}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),c=~i[l];c&=~((1<<(e&31))-1);const u=i.length;for(;c===0;){if(++l===u)return n;c=~i[l]}const h=l*32+U.numberOfTrailingZeros(c);return h>n?n:h}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new T;if(n===e)return;n--;const i=Math.floor(e/32),l=Math.floor(n/32),c=this.bits;for(let u=i;u<=l;u++){const h=u>i?0:e&31,v=(2<<(u<l?31:n&31))-(1<<h);c[u]|=v}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new T;if(n===e)return!0;n--;const l=Math.floor(e/32),c=Math.floor(n/32),u=this.bits;for(let h=l;h<=c;h++){const m=h>l?0:e&31,N=(2<<(h<c?31:n&31))-(1<<m)&4294967295;if((u[h]&N)!==(i?N:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new T("Sizes don't match");const n=this.bits;for(let i=0,l=n.length;i<l;i++)n[i]^=e.bits[i]}toBytes(e,n,i,l){for(let c=0;c<l;c++){let u=0;for(let h=0;h<8;h++)this.get(e)&&(u|=1<<7-h),e++;n[i+c]=u}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,l=this.bits;for(let c=0;c<i;c++){let u=l[c];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[n-c]=u}if(this.size!==i*32){const c=i*32-this.size;let u=e[0]>>>c;for(let h=1;h<i;h++){const m=e[h];u|=m<<32-c,e[h-1]=u,u=m>>>c}e[i-1]=u}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof re))return!1;const n=e;return this.size===n.size&&H.equals(this.bits,n.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new re(this.size,this.bits.slice())}}var ae;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ae||(ae={}));var le=ae;class X extends E{static getFormatInstance(){return new X}}X.kind="FormatException";var ue;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(ue||(ue={}));class q{constructor(e,n,i,...l){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,q.VALUE_IDENTIFIER_TO_ECI.set(e,this),q.NAME_TO_ECI.set(i,this);const c=this.values;for(let u=0,h=c.length;u!==h;u++){const m=c[u];q.VALUES_TO_ECI.set(m,this)}for(const u of l)q.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new X("incorect value");const n=q.VALUES_TO_ECI.get(e);if(n===void 0)throw new X("incorect value");return n}static getCharacterSetECIByName(e){const n=q.NAME_TO_ECI.get(e);if(n===void 0)throw new X("incorect value");return n}equals(e){if(!(e instanceof q))return!1;const n=e;return this.getName()===n.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(ue.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(ue.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(ue.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(ue.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(ue.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(ue.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(ue.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(ue.Big5,28,"Big5"),q.GB18030=new q(ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(ue.EUC_KR,30,"EUC_KR","EUC-KR");class _e extends E{}_e.kind="UnsupportedOperationException";class Le{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Le.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof q?e:q.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(Le.isDecodeFallbackSupported(i)){let l="";for(let c=0,u=e.length;c<u;c++){let h=e[c].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(i.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _e(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(q.UTF8)||e.equals(q.ISO8859_1)||e.equals(q.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let c=0;c<i.length;c++)l.push(i[c].charCodeAt(0));return new Uint8Array(l)}}class Te{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return Le.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get(le.CHARACTER_SET)!==void 0)return n.get(le.CHARACTER_SET).toString();const i=e.length;let l=!0,c=!0,u=!0,h=0,m=0,v=0,N=0,P=0,D=0,z=0,G=0,Z=0,Q=0,se=0;const be=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Ae=0;Ae<i&&(l||c||u);Ae++){const xe=e[Ae]&255;u&&(h>0?xe&128?h--:u=!1:xe&128&&(xe&64?(h++,xe&32?(h++,xe&16?(h++,xe&8?u=!1:N++):v++):m++):u=!1)),l&&(xe>127&&xe<160?l=!1:xe>159&&(xe<192||xe===215||xe===247)&&se++),c&&(P>0?xe<64||xe===127||xe>252?c=!1:P--:xe===128||xe===160||xe>239?c=!1:xe>160&&xe<224?(D++,G=0,z++,z>Z&&(Z=z)):xe>127?(P++,z=0,G++,G>Q&&(Q=G)):(z=0,G=0))}return u&&h>0&&(u=!1),c&&P>0&&(c=!1),u&&(be||m+v+N>0)?Te.UTF8:c&&(Te.ASSUME_SHIFT_JIS||Z>=3||Q>=3)?Te.SHIFT_JIS:l&&c?Z===2&&D===2||se*10>=i?Te.SHIFT_JIS:Te.ISO88591:l?Te.ISO88591:c?Te.SHIFT_JIS:u?Te.UTF8:Te.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function l(u,h,m,v,N,P){if(u==="%%")return"%";if(n[++i]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,z;switch(P){case"s":z=n[i];break;case"c":z=n[i][0];break;case"f":z=parseFloat(n[i]).toFixed(u);break;case"p":z=parseFloat(n[i]).toPrecision(u);break;case"e":z=parseFloat(n[i]).toExponential(u);break;case"x":z=parseInt(n[i]).toString(D||16);break;case"d":z=parseFloat(parseInt(n[i],D||10).toPrecision(u)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(D);let G=parseInt(m),Z=m&&m[0]+""=="0"?"0":" ";for(;z.length<G;)z=h!==void 0?z+Z:Z+z;return z}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}static getBytes(e,n){return Le.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Te.SHIFT_JIS=q.SJIS.getName(),Te.GB2312="GB2312",Te.ISO88591=q.ISO8859_1.getName(),Te.EUC_JP="EUC_JP",Te.UTF8=q.UTF8.getName(),Te.PLATFORM_DEFAULT_ENCODING=Te.UTF8,Te.ASSUME_SHIFT_JIS=!1;class ke{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Te.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let l=n;n<n+i;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class De{constructor(e,n,i,l){if(this.width=e,this.height=n,this.rowSize=i,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new T("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,l=new De(i,n);for(let c=0;c<n;c++){const u=e[c];for(let h=0;h<i;h++)u[h]&&l.set(h,c)}return l}static parseFromString(e,n,i){if(e===null)throw new T("stringRepresentation cannot be null");const l=new Array(e.length);let c=0,u=0,h=-1,m=0,v=0;for(;v<e.length;)if(e.charAt(v)===`
`||e.charAt(v)==="\r"){if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new T("row lengths do not match");u=c,m++}v++}else if(e.substring(v,v+n.length)===n)v+=n.length,l[c]=!0,c++;else if(e.substring(v,v+i.length)===i)v+=i.length,l[c]=!1,c++;else throw new T("illegal character encountered: "+e.substring(v));if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new T("row lengths do not match");m++}const N=new De(h,m);for(let P=0;P<c;P++)l[P]&&N.set(Math.floor(P%h),Math.floor(P/h));return N}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new T("input matrix dimensions do not match");const n=new re(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let c=0,u=this.height;c<u;c++){const h=c*i,m=e.getRow(c,n).getBitArray();for(let v=0;v<i;v++)l[h+v]^=m[v]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,l){if(n<0||e<0)throw new T("Left and top must be nonnegative");if(l<1||i<1)throw new T("Height and width must be at least 1");const c=e+i,u=n+l;if(u>this.height||c>this.width)throw new T("The region must fit inside the matrix");const h=this.rowSize,m=this.bits;for(let v=n;v<u;v++){const N=v*h;for(let P=e;P<c;P++)m[N+Math.floor(P/32)]|=1<<(P&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new re(this.width):n.clear();const i=this.rowSize,l=this.bits,c=e*i;for(let u=0;u<i;u++)n.setBulk(u*32,l[c+u]);return n}setRow(e,n){F.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new re(e),l=new re(e);for(let c=0,u=Math.floor((n+1)/2);c<u;c++)i=this.getRow(c,i),l=this.getRow(n-1-c,l),i.reverse(),l.reverse(),this.setRow(c,l),this.setRow(n-1-c,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,l=this.bits;let c=e,u=n,h=-1,m=-1;for(let v=0;v<n;v++)for(let N=0;N<i;N++){const P=l[v*i+N];if(P!==0){if(v<u&&(u=v),v>m&&(m=v),N*32<c){let D=0;for(;!(P<<31-D&4294967295);)D++;N*32+D<c&&(c=N*32+D)}if(N*32+31>h){let D=31;for(;!(P>>>D);)D--;N*32+D>h&&(h=N*32+D)}}}return h<c||m<u?null:Int32Array.from([c,u,h-c+1,m-u+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const l=i/e;let c=i%e*32;const u=n[i];let h=0;for(;!(u<<31-h&4294967295);)h++;return c+=h,Int32Array.from([c,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/e);let c=Math.floor(i%e)*32;const u=n[i];let h=31;for(;!(u>>>h);)h--;return c+=h,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof De))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&H.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+H.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let l=new ke;for(let c=0,u=this.height;c<u;c++){for(let h=0,m=this.width;h<m;h++)l.append(this.get(h,c)?e:n);l.append(i)}return l.toString()}clone(){return new De(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends E{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Be extends L{constructor(e){super(e),this.luminances=Be.EMPTY,this.buckets=new Int32Array(Be.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),l=i.getWidth();n==null||n.getSize()<l?n=new re(l):n.clear(),this.initArrays(l);const c=i.getRow(e,this.luminances),u=this.buckets;for(let m=0;m<l;m++)u[(c[m]&255)>>Be.LUMINANCE_SHIFT]++;const h=Be.estimateBlackPoint(u);if(l<3)for(let m=0;m<l;m++)(c[m]&255)<h&&n.set(m);else{let m=c[0]&255,v=c[1]&255;for(let N=1;N<l-1;N++){const P=c[N+1]&255;(v*4-m-P)/2<h&&n.set(N),m=v,v=P}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),l=new De(n,i);this.initArrays(n);const c=this.buckets;for(let m=1;m<5;m++){const v=Math.floor(i*m/5),N=e.getRow(v,this.luminances),P=Math.floor(n*4/5);for(let D=Math.floor(n/5);D<P;D++){const z=N[D]&255;c[z>>Be.LUMINANCE_SHIFT]++}}const u=Be.estimateBlackPoint(c),h=e.getMatrix();for(let m=0;m<i;m++){const v=m*n;for(let N=0;N<n;N++)(h[v+N]&255)<u&&l.set(N,m)}return l}createBinarizer(e){return new Be(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<Be.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,l=0,c=0;for(let N=0;N<n;N++)e[N]>c&&(l=N,c=e[N]),e[N]>i&&(i=e[N]);let u=0,h=0;for(let N=0;N<n;N++){const P=N-l,D=e[N]*P*P;D>h&&(u=N,h=D)}if(l>u){const N=l;l=u,u=N}if(u-l<=n/16)throw new ee;let m=u-1,v=-1;for(let N=u-1;N>l;N--){const P=N-l,D=P*P*(u-N)*(i-e[N]);D>v&&(m=N,v=D)}return m<<Be.LUMINANCE_SHIFT}}Be.LUMINANCE_BITS=5,Be.LUMINANCE_SHIFT=8-Be.LUMINANCE_BITS,Be.LUMINANCE_BUCKETS=1<<Be.LUMINANCE_BITS,Be.EMPTY=Uint8ClampedArray.from([0]);class he extends Be{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=he.MINIMUM_DIMENSION&&i>=he.MINIMUM_DIMENSION){const l=e.getMatrix();let c=n>>he.BLOCK_SIZE_POWER;n&he.BLOCK_SIZE_MASK&&c++;let u=i>>he.BLOCK_SIZE_POWER;i&he.BLOCK_SIZE_MASK&&u++;const h=he.calculateBlackPoints(l,c,u,n,i),m=new De(n,i);he.calculateThresholdForBlock(l,c,u,n,i,h,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new he(e)}static calculateThresholdForBlock(e,n,i,l,c,u,h){const m=c-he.BLOCK_SIZE,v=l-he.BLOCK_SIZE;for(let N=0;N<i;N++){let P=N<<he.BLOCK_SIZE_POWER;P>m&&(P=m);const D=he.cap(N,2,i-3);for(let z=0;z<n;z++){let G=z<<he.BLOCK_SIZE_POWER;G>v&&(G=v);const Z=he.cap(z,2,n-3);let Q=0;for(let be=-2;be<=2;be++){const Ae=u[D+be];Q+=Ae[Z-2]+Ae[Z-1]+Ae[Z]+Ae[Z+1]+Ae[Z+2]}const se=Q/25;he.thresholdBlock(e,G,P,se,l,h)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,l,c,u){for(let h=0,m=i*c+n;h<he.BLOCK_SIZE;h++,m+=c)for(let v=0;v<he.BLOCK_SIZE;v++)(e[m+v]&255)<=l&&u.set(n+v,i+h)}static calculateBlackPoints(e,n,i,l,c){const u=c-he.BLOCK_SIZE,h=l-he.BLOCK_SIZE,m=new Array(i);for(let v=0;v<i;v++){m[v]=new Int32Array(n);let N=v<<he.BLOCK_SIZE_POWER;N>u&&(N=u);for(let P=0;P<n;P++){let D=P<<he.BLOCK_SIZE_POWER;D>h&&(D=h);let z=0,G=255,Z=0;for(let se=0,be=N*l+D;se<he.BLOCK_SIZE;se++,be+=l){for(let Ae=0;Ae<he.BLOCK_SIZE;Ae++){const xe=e[be+Ae]&255;z+=xe,xe<G&&(G=xe),xe>Z&&(Z=xe)}if(Z-G>he.MIN_DYNAMIC_RANGE)for(se++,be+=l;se<he.BLOCK_SIZE;se++,be+=l)for(let Ae=0;Ae<he.BLOCK_SIZE;Ae++)z+=e[be+Ae]&255}let Q=z>>he.BLOCK_SIZE_POWER*2;if(Z-G<=he.MIN_DYNAMIC_RANGE&&(Q=G/2,v>0&&P>0)){const se=(m[v-1][P]+2*m[v][P-1]+m[v-1][P-1])/4;G<se&&(Q=se)}m[v][P]=Q}}return m}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class de{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,l){throw new _e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _e("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new ke;for(let i=0;i<this.height;i++){const l=this.getRow(i,e);for(let c=0;c<this.width;c++){const u=l[c]&255;let h;u<64?h="#":u<128?h="+":u<192?h=".":h=" ",n.append(h)}n.append(`
`)}return n.toString()}}class Re extends de{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),l=this.getWidth();for(let c=0;c<l;c++)i[c]=255-(i[c]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let l=0;l<n;l++)i[l]=255-(e[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,l){return new Re(this.delegate.crop(e,n,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Re(this.delegate.rotateCounterClockwise45())}}class fe extends de{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return fe.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const l=new Uint8ClampedArray(n*i);for(let c=0,u=0,h=e.length;c<h;c+=4,u++){let m;if(e[c+3]===0)m=255;else{const N=e[c],P=e[c+1],D=e[c+2];m=306*N+601*P+117*D+512>>10}l[u]=m}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth(),l=e*i;return n===null?n=this.buffer.slice(l,l+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(l,l+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,l){return super.crop(e,n,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),l=e*fe.DEGREE_TO_RADIANS,c=this.canvas.width,u=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*u),m=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*u);return n.width=h,n.height=m,i.translate(h/2,m/2),i.rotate(l),i.drawImage(this.canvas,c/-2,u/-2),this.buffer=fe.makeBufferFromCanvasImageData(n),this}invert(){return new Re(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class K{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var J=(globalThis||Ql||self||window||void 0)&&(globalThis||Ql||self||window||void 0).__awaiter||function(k,e,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(N){try{v(i.next(N))}catch(P){u(P)}}function m(N){try{v(i.throw(N))}catch(P){u(P)}}function v(N){N.done?c(N.value):l(N.value).then(h,m)}v((i=i.apply(k,e||[])).next())})};class Ee{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return J(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const c=i.deviceId||i.id,u=i.label||`Video device ${n.length+1}`,h=i.groupId,m={deviceId:c,label:u,kind:l,groupId:h};n.push(m)}return n})}getVideoInputDevices(){return J(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new K(n.deviceId,n.label))})}findDeviceById(e){return J(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return J(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return J(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return J(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return J(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return J(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return J(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeFromConstraints(c,n,i)})}decodeFromConstraints(e,n,i){return J(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,i)})}decodeFromStream(e,n,i){return J(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return J(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return J(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new S(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new S(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new S("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new S("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new S("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new S("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,n);return i.src=e,l}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return J(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return J(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const l=(c,u)=>{if(this._stopAsyncDecode){u(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(e);c(h)}catch(h){const m=n&&h instanceof ee,N=(h instanceof M||h instanceof X)&&i;if(m||N)return setTimeout(l,this._timeBetweenDecodingAttempts,c,u);u(h)}};return new Promise((c,u)=>l(c,u))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){n(null,l);const c=l instanceof M||l instanceof X,u=l instanceof ee;(c||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,i){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),i=new fe(n),l=new he(i);return new R(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=l+"px",n.width=i,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ve{constructor(e,n,i=n==null?0:8*n.length,l,c,u=F.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=l,this.format=c,this.timestamp=u,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=l,this.format=c,this.resultMetadata=null,u==null?this.timestamp=F.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);F.arraycopy(n,0,i,0,n.length),F.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var it;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(it||(it={}));var we=it,Ze;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ze||(Ze={}));var Ue=Ze;class mt{constructor(e,n,i,l,c=-1,u=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ge{exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class ct{constructor(e,n){if(n.length===0)throw new T;this.field=e;const i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),F.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let u=0,h=n.length;u!==h;u++){const m=n[u];i=ge.addOrSubtract(i,m)}return i}i=n[0];const l=n.length,c=this.field;for(let u=1;u<l;u++)i=ge.addOrSubtract(c.multiply(e,i),n[u]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const u=n;n=i,i=u}let l=new Int32Array(i.length);const c=i.length-n.length;F.arraycopy(i,0,l,0,c);for(let u=c;u<i.length;u++)l[u]=ge.addOrSubtract(n[u-c],i[u]);return new ct(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,l=e.coefficients,c=l.length,u=new Int32Array(i+c-1),h=this.field;for(let m=0;m<i;m++){const v=n[m];for(let N=0;N<c;N++)u[m+N]=ge.addOrSubtract(u[m+N],h.multiply(v,l[N]))}return new ct(h,u)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,l=new Int32Array(n),c=this.coefficients;for(let u=0;u<n;u++)l[u]=i.multiply(c[u],e);return new ct(i,l)}multiplyByMonomial(e,n){if(e<0)throw new T;if(n===0)return this.field.getZero();const i=this.coefficients,l=i.length,c=new Int32Array(l+e),u=this.field;for(let h=0;h<l;h++)c[h]=u.multiply(i[h],n);return new ct(u,c)}divide(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new T("Divide by 0");const n=this.field;let i=n.getZero(),l=this;const c=e.getCoefficient(e.getDegree()),u=n.inverse(c);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const h=l.getDegree()-e.getDegree(),m=n.multiply(l.getCoefficient(l.getDegree()),u),v=e.multiplyByMonomial(h,m),N=n.buildMonomial(h,m);i=i.addOrSubtract(N),l=l.addOrSubtract(v)}return[i,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const l=this.field.log(i);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class ht extends E{}ht.kind="ArithmeticException";class Oe extends ge{constructor(e,n,i){super(),this.primitive=e,this.size=n,this.generatorBase=i;const l=new Int32Array(n);let c=1;for(let h=0;h<n;h++)l[h]=c,c*=2,c>=n&&(c^=e,c&=n-1);this.expTable=l;const u=new Int32Array(n);for(let h=0;h<n-1;h++)u[l[h]]=h;this.logTable=u,this.zero=new ct(this,Int32Array.from([0])),this.one=new ct(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new T;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new ct(this,i)}inverse(e){if(e===0)throw new ht;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Oe.AZTEC_DATA_12=new Oe(4201,4096,1),Oe.AZTEC_DATA_10=new Oe(1033,1024,1),Oe.AZTEC_DATA_6=new Oe(67,64,1),Oe.AZTEC_PARAM=new Oe(19,16,1),Oe.QR_CODE_FIELD_256=new Oe(285,256,0),Oe.DATA_MATRIX_FIELD_256=new Oe(301,256,1),Oe.AZTEC_DATA_8=Oe.DATA_MATRIX_FIELD_256,Oe.MAXICODE_FIELD_64=Oe.AZTEC_DATA_6;class Et extends E{}Et.kind="ReedSolomonException";class Bt extends E{}Bt.kind="IllegalStateException";class Ht{constructor(e){this.field=e}decode(e,n){const i=this.field,l=new ct(i,e),c=new Int32Array(n);let u=!0;for(let z=0;z<n;z++){const G=l.evaluateAt(i.exp(z+i.getGeneratorBase()));c[c.length-1-z]=G,G!==0&&(u=!1)}if(u)return;const h=new ct(i,c),m=this.runEuclideanAlgorithm(i.buildMonomial(n,1),h,n),v=m[0],N=m[1],P=this.findErrorLocations(v),D=this.findErrorMagnitudes(N,P);for(let z=0;z<P.length;z++){const G=e.length-1-i.log(P[z]);if(G<0)throw new Et("Bad error location");e[G]=Oe.addOrSubtract(e[G],D[z])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const z=e;e=n,n=z}const l=this.field;let c=e,u=n,h=l.getZero(),m=l.getOne();for(;u.getDegree()>=(i/2|0);){let z=c,G=h;if(c=u,h=m,c.isZero())throw new Et("r_{i-1} was zero");u=z;let Z=l.getZero();const Q=c.getCoefficient(c.getDegree()),se=l.inverse(Q);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){const be=u.getDegree()-c.getDegree(),Ae=l.multiply(u.getCoefficient(u.getDegree()),se);Z=Z.addOrSubtract(l.buildMonomial(be,Ae)),u=u.addOrSubtract(c.multiplyByMonomial(be,Ae))}if(m=Z.multiply(h).addOrSubtract(G),u.getDegree()>=c.getDegree())throw new Bt("Division algorithm failed to reduce polynomial?")}const v=m.getCoefficient(0);if(v===0)throw new Et("sigmaTilde(0) was zero");const N=l.inverse(v),P=m.multiplyScalar(N),D=u.multiplyScalar(N);return[P,D]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let l=0;const c=this.field;for(let u=1;u<c.getSize()&&l<n;u++)e.evaluateAt(u)===0&&(i[l]=c.inverse(u),l++);if(l!==n)throw new Et("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,l=new Int32Array(i),c=this.field;for(let u=0;u<i;u++){const h=c.inverse(n[u]);let m=1;for(let v=0;v<i;v++)if(u!==v){const N=c.multiply(n[v],h),P=N&1?N&-2:N|1;m=c.multiply(m,P)}l[u]=c.multiply(e.evaluateAt(h),c.inverse(m)),c.getGeneratorBase()!==0&&(l[u]=c.multiply(l[u],h))}return l}}var Pt;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(Pt||(Pt={}));class St{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),l=this.correctBits(i),c=St.convertBoolArrayToByteArray(l),u=St.getEncodedData(l),h=new mt(c,u,null,null);return h.setNumBits(l.length),h}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=Pt.UPPER,l=Pt.UPPER,c="",u=0;for(;u<n;)if(l===Pt.BINARY){if(n-u<5)break;let h=St.readCode(e,u,5);if(u+=5,h===0){if(n-u<11)break;h=St.readCode(e,u,11)+31,u+=11}for(let m=0;m<h;m++){if(n-u<8){u=n;break}const v=St.readCode(e,u,8);c+=Te.castAsNonUtf8Char(v),u+=8}l=i}else{let h=l===Pt.DIGIT?4:5;if(n-u<h)break;let m=St.readCode(e,u,h);u+=h;let v=St.getCharacter(l,m);v.startsWith("CTRL_")?(i=l,l=St.getTable(v.charAt(5)),v.charAt(6)==="L"&&(i=l)):(c+=v,l=i)}return c}static getTable(e){switch(e){case"L":return Pt.LOWER;case"P":return Pt.PUNCT;case"M":return Pt.MIXED;case"D":return Pt.DIGIT;case"B":return Pt.BINARY;case"U":default:return Pt.UPPER}}static getCharacter(e,n){switch(e){case Pt.UPPER:return St.UPPER_TABLE[n];case Pt.LOWER:return St.LOWER_TABLE[n];case Pt.MIXED:return St.MIXED_TABLE[n];case Pt.PUNCT:return St.PUNCT_TABLE[n];case Pt.DIGIT:return St.DIGIT_TABLE[n];default:throw new Bt("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=Oe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=Oe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=Oe.AZTEC_DATA_10):(i=12,n=Oe.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),c=e.length/i;if(c<l)throw new X;let u=e.length%i,h=new Int32Array(c);for(let D=0;D<c;D++,u+=i)h[D]=St.readCode(e,u,i);try{new Ht(n).decode(h,c-l)}catch(D){throw new X(D)}let m=(1<<i)-1,v=0;for(let D=0;D<l;D++){let z=h[D];if(z===0||z===m)throw new X;(z===1||z===m-1)&&v++}let N=new Array(l*i-v),P=0;for(let D=0;D<l;D++){let z=h[D];if(z===1||z===m-1)N.fill(z>1,P,P+i-1),P+=i-1;else for(let G=i-1;G>=0;--G)N[P++]=(z&1<<G)!==0}return N}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(n?11:14)+i*4,c=new Int32Array(l),u=new Array(this.totalBitsInLayer(i,n));if(n)for(let h=0;h<c.length;h++)c[h]=h;else{let h=l+1+2*U.truncDivision(U.truncDivision(l,2)-1,15),m=l/2,v=U.truncDivision(h,2);for(let N=0;N<m;N++){let P=N+U.truncDivision(N,15);c[m-N-1]=v-P-1,c[m+N]=v+P+1}}for(let h=0,m=0;h<i;h++){let v=(i-h)*4+(n?9:12),N=h*2,P=l-1-N;for(let D=0;D<v;D++){let z=D*2;for(let G=0;G<2;G++)u[m+z+G]=e.get(c[N+G],c[N+D]),u[m+2*v+z+G]=e.get(c[N+D],c[P-G]),u[m+4*v+z+G]=e.get(c[P-G],c[P-D]),u[m+6*v+z+G]=e.get(c[P-D],c[N+G])}m+=v*8}return u}static readCode(e,n,i){let l=0;for(let c=n;c<n+i;c++)l<<=1,e[c]&&(l|=1);return l}static readByte(e,n){let i=e.length-n;return i>=8?St.readCode(e,n,8):St.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=St.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ut{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,l){const c=e-i,u=n-l;return Math.sqrt(c*c+u*u)}static sum(e){let n=0;for(let i=0,l=e.length;i!==l;i++){const c=e[i];n+=c}return n}}class An{static floatToIntBits(e){return e}}An.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ne{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Ne){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*An.floatToIntBits(this.x)+An.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let c,u,h;if(i>=n&&i>=l?(u=e[0],c=e[1],h=e[2]):l>=i&&l>=n?(u=e[1],c=e[0],h=e[2]):(u=e[2],c=e[0],h=e[1]),this.crossProductZ(c,u,h)<0){const m=c;c=h,h=m}e[0]=c,e[1]=u,e[2]=h}static distance(e,n){return ut.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const l=n.x,c=n.y;return(i.x-l)*(e.y-c)-(i.y-c)*(e.x-l)}}class Mn{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class vt extends Mn{constructor(e,n,i,l,c){super(e,n),this.compact=i,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ve{constructor(e,n,i,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=ve.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const c=n/2|0;if(this.leftInit=i-c,this.rightInit=i+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,l=this.downInit,c=!1,u=!0,h=!1,m=!1,v=!1,N=!1,P=!1;const D=this.width,z=this.height;for(;u;){u=!1;let G=!0;for(;(G||!m)&&n<D;)G=this.containsBlackPoint(i,l,n,!1),G?(n++,u=!0,m=!0):m||n++;if(n>=D){c=!0;break}let Z=!0;for(;(Z||!v)&&l<z;)Z=this.containsBlackPoint(e,n,l,!0),Z?(l++,u=!0,v=!0):v||l++;if(l>=z){c=!0;break}let Q=!0;for(;(Q||!N)&&e>=0;)Q=this.containsBlackPoint(i,l,e,!1),Q?(e--,u=!0,N=!0):N||e--;if(e<0){c=!0;break}let se=!0;for(;(se||!P)&&i>=0;)se=this.containsBlackPoint(e,n,i,!0),se?(i--,u=!0,P=!0):P||i--;if(i<0){c=!0;break}u&&(h=!0)}if(!c&&h){const G=n-e;let Z=null;for(let Ae=1;Z===null&&Ae<G;Ae++)Z=this.getBlackPointOnSegment(e,l-Ae,e+Ae,l);if(Z==null)throw new ee;let Q=null;for(let Ae=1;Q===null&&Ae<G;Ae++)Q=this.getBlackPointOnSegment(e,i+Ae,e+Ae,i);if(Q==null)throw new ee;let se=null;for(let Ae=1;se===null&&Ae<G;Ae++)se=this.getBlackPointOnSegment(n,i+Ae,n-Ae,i);if(se==null)throw new ee;let be=null;for(let Ae=1;be===null&&Ae<G;Ae++)be=this.getBlackPointOnSegment(n,l-Ae,n-Ae,l);if(be==null)throw new ee;return this.centerEdges(be,Z,se,Q)}else throw new ee}getBlackPointOnSegment(e,n,i,l){const c=ut.round(ut.distance(e,n,i,l)),u=(i-e)/c,h=(l-n)/c,m=this.image;for(let v=0;v<c;v++){const N=ut.round(e+v*u),P=ut.round(n+v*h);if(m.get(N,P))return new Ne(N,P)}return null}centerEdges(e,n,i,l){const c=e.getX(),u=e.getY(),h=n.getX(),m=n.getY(),v=i.getX(),N=i.getY(),P=l.getX(),D=l.getY(),z=ve.CORR;return c<this.width/2?[new Ne(P-z,D+z),new Ne(h+z,m+z),new Ne(v-z,N-z),new Ne(c+z,u-z)]:[new Ne(P+z,D+z),new Ne(h+z,m-z),new Ne(v-z,N+z),new Ne(c-z,u-z)]}containsBlackPoint(e,n,i,l){const c=this.image;if(l){for(let u=e;u<=n;u++)if(c.get(u,i))return!0}else for(let u=e;u<=n;u++)if(c.get(i,u))return!0;return!1}}ve.INIT_SIZE=10,ve.CORR=1;class Pe{static checkAndNudgePoints(e,n){const i=e.getWidth(),l=e.getHeight();let c=!0;for(let u=0;u<n.length&&c;u+=2){const h=Math.floor(n[u]),m=Math.floor(n[u+1]);if(h<-1||h>i||m<-1||m>l)throw new ee;c=!1,h===-1?(n[u]=0,c=!0):h===i&&(n[u]=i-1,c=!0),m===-1?(n[u+1]=0,c=!0):m===l&&(n[u+1]=l-1,c=!0)}c=!0;for(let u=n.length-2;u>=0&&c;u-=2){const h=Math.floor(n[u]),m=Math.floor(n[u+1]);if(h<-1||h>i||m<-1||m>l)throw new ee;c=!1,h===-1?(n[u]=0,c=!0):h===i&&(n[u]=i-1,c=!0),m===-1?(n[u+1]=0,c=!0):m===l&&(n[u+1]=l-1,c=!0)}}}class $e{constructor(e,n,i,l,c,u,h,m,v){this.a11=e,this.a21=n,this.a31=i,this.a12=l,this.a22=c,this.a32=u,this.a13=h,this.a23=m,this.a33=v}static quadrilateralToQuadrilateral(e,n,i,l,c,u,h,m,v,N,P,D,z,G,Z,Q){const se=$e.quadrilateralToSquare(e,n,i,l,c,u,h,m);return $e.squareToQuadrilateral(v,N,P,D,z,G,Z,Q).times(se)}transformPoints(e){const n=e.length,i=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,m=this.a23,v=this.a31,N=this.a32,P=this.a33;for(let D=0;D<n;D+=2){const z=e[D],G=e[D+1],Z=c*z+m*G+P;e[D]=(i*z+u*G+v)/Z,e[D+1]=(l*z+h*G+N)/Z}}transformPointsWithValues(e,n){const i=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,m=this.a23,v=this.a31,N=this.a32,P=this.a33,D=e.length;for(let z=0;z<D;z++){const G=e[z],Z=n[z],Q=c*G+m*Z+P;e[z]=(i*G+u*Z+v)/Q,n[z]=(l*G+h*Z+N)/Q}}static squareToQuadrilateral(e,n,i,l,c,u,h,m){const v=e-i+c-h,N=n-l+u-m;if(v===0&&N===0)return new $e(i-e,c-i,e,l-n,u-l,n,0,0,1);{const P=i-c,D=h-c,z=l-u,G=m-u,Z=P*G-D*z,Q=(v*G-D*N)/Z,se=(P*N-v*z)/Z;return new $e(i-e+Q*i,h-e+se*h,e,l-n+Q*l,m-n+se*m,n,Q,se,1)}}static quadrilateralToSquare(e,n,i,l,c,u,h,m){return $e.squareToQuadrilateral(e,n,i,l,c,u,h,m).buildAdjoint()}buildAdjoint(){return new $e(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new $e(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class jt extends Pe{sampleGrid(e,n,i,l,c,u,h,m,v,N,P,D,z,G,Z,Q,se,be,Ae){const xe=$e.quadrilateralToQuadrilateral(l,c,u,h,m,v,N,P,D,z,G,Z,Q,se,be,Ae);return this.sampleGridWithTransform(e,n,i,xe)}sampleGridWithTransform(e,n,i,l){if(n<=0||i<=0)throw new ee;const c=new De(n,i),u=new Float32Array(2*n);for(let h=0;h<i;h++){const m=u.length,v=h+.5;for(let N=0;N<m;N+=2)u[N]=N/2+.5,u[N+1]=v;l.transformPoints(u),Pe.checkAndNudgePoints(e,u);try{for(let N=0;N<m;N+=2)e.get(Math.floor(u[N]),Math.floor(u[N+1]))&&c.set(N/2,h)}catch{throw new ee}}return c}}class yt{static setGridSampler(e){yt.gridSampler=e}static getInstance(){return yt.gridSampler}}yt.gridSampler=new jt;class pt{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Ne(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class rn{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),c=this.getMatrixCornerPoints(i);return new vt(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ee;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let l=0;for(let u=0;u<4;u++){let h=i[(this.shift+u)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(e,n){let i=0;e.forEach((l,c,u)=>{let h=(l>>n-2<<1)+(l&1);i=(i<<3)+h}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(U.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new ee}getCorrectedParameterData(e,n){let i,l;n?(i=7,l=2):(i=10,l=4);let c=i-l,u=new Int32Array(i);for(let m=i-1;m>=0;--m)u[m]=e&15,e>>=4;try{new Ht(Oe.AZTEC_PARAM).decode(u,c)}catch{throw new ee}let h=0;for(let m=0;m<l;m++)h=(h<<4)+u[m];return h}getBullsEyeCorners(e){let n=e,i=e,l=e,c=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let P=this.getFirstDifferent(n,u,1,-1),D=this.getFirstDifferent(i,u,1,1),z=this.getFirstDifferent(l,u,-1,1),G=this.getFirstDifferent(c,u,-1,-1);if(this.nbCenterLayers>2){let Z=this.distancePoint(G,P)*this.nbCenterLayers/(this.distancePoint(c,n)*(this.nbCenterLayers+2));if(Z<.75||Z>1.25||!this.isWhiteOrBlackRectangle(P,D,z,G))break}n=P,i=D,l=z,c=G,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let h=new Ne(n.getX()+.5,n.getY()-.5),m=new Ne(i.getX()+.5,i.getY()+.5),v=new Ne(l.getX()-.5,l.getY()+.5),N=new Ne(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,m,v,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,l;try{let h=new ve(this.image).detect();e=h[0],n=h[1],i=h[2],l=h[3]}catch{let m=this.image.getWidth()/2,v=this.image.getHeight()/2;e=this.getFirstDifferent(new pt(m+7,v-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new pt(m+7,v+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new pt(m-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new pt(m-7,v-7),!1,-1,-1).toResultPoint()}let c=ut.round((e.getX()+l.getX()+n.getX()+i.getX())/4),u=ut.round((e.getY()+l.getY()+n.getY()+i.getY())/4);try{let h=new ve(this.image,15,c,u).detect();e=h[0],n=h[1],i=h[2],l=h[3]}catch{e=this.getFirstDifferent(new pt(c+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new pt(c+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new pt(c-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new pt(c-7,u-7),!1,-1,-1).toResultPoint()}return c=ut.round((e.getX()+l.getX()+n.getX()+i.getX())/4),u=ut.round((e.getY()+l.getY()+n.getY()+i.getY())/4),new pt(c,u)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,l,c){let u=yt.getInstance(),h=this.getDimension(),m=h/2-this.nbCenterLayers,v=h/2+this.nbCenterLayers;return u.sampleGrid(e,h,h,m,m,v,m,v,v,m,v,n.getX(),n.getY(),i.getX(),i.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(e,n,i){let l=0,c=this.distanceResultPoint(e,n),u=c/i,h=e.getX(),m=e.getY(),v=u*(n.getX()-e.getX())/c,N=u*(n.getY()-e.getY())/c;for(let P=0;P<i;P++)this.image.get(ut.round(h+P*v),ut.round(m+P*N))&&(l|=1<<i-P-1);return l}isWhiteOrBlackRectangle(e,n,i,l){let c=3;e=new pt(e.getX()-c,e.getY()+c),n=new pt(n.getX()-c,n.getY()-c),i=new pt(i.getX()+c,i.getY()-c),l=new pt(l.getX()+c,l.getY()+c);let u=this.getColor(l,e);if(u===0)return!1;let h=this.getColor(e,n);return h!==u||(h=this.getColor(n,i),h!==u)?!1:(h=this.getColor(i,l),h===u)}getColor(e,n){let i=this.distancePoint(e,n),l=(n.getX()-e.getX())/i,c=(n.getY()-e.getY())/i,u=0,h=e.getX(),m=e.getY(),v=this.image.get(e.getX(),e.getY()),N=Math.ceil(i);for(let D=0;D<N;D++)h+=l,m+=c,this.image.get(ut.round(h),ut.round(m))!==v&&u++;let P=u/i;return P>.1&&P<.9?0:P<=.1===v?1:-1}getFirstDifferent(e,n,i,l){let c=e.getX()+i,u=e.getY()+l;for(;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=i,u+=l;for(c-=i,u-=l;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=i;for(c-=i;this.isValid(c,u)&&this.image.get(c,u)===n;)u+=l;return u-=l,new pt(c,u)}expandSquare(e,n,i){let l=i/(2*n),c=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),h=(e[0].getX()+e[2].getX())/2,m=(e[0].getY()+e[2].getY())/2,v=new Ne(h+l*c,m+l*u),N=new Ne(h-l*c,m-l*u);c=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),h=(e[1].getX()+e[3].getX())/2,m=(e[1].getY()+e[3].getY())/2;let P=new Ne(h+l*c,m+l*u),D=new Ne(h-l*c,m-l*u);return[v,P,N,D]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=ut.round(e.getX()),i=ut.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return ut.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return ut.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Ot{decode(e,n=null){let i=null,l=new rn(e.getBlackMatrix()),c=null,u=null;try{let N=l.detectMirror(!1);c=N.getPoints(),this.reportFoundResultPoints(n,c),u=new St().decode(N)}catch(N){i=N}if(u==null)try{let N=l.detectMirror(!0);c=N.getPoints(),this.reportFoundResultPoints(n,c),u=new St().decode(N)}catch(N){throw i??N}let h=new Ve(u.getText(),u.getRawBytes(),u.getNumBits(),c,we.AZTEC,F.currentTimeMillis()),m=u.getByteSegments();m!=null&&h.putMetadata(Ue.BYTE_SEGMENTS,m);let v=u.getECLevel();return v!=null&&h.putMetadata(Ue.ERROR_CORRECTION_LEVEL,v),h}reportFoundResultPoints(e,n){if(e!=null){let i=e.get(le.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((l,c,u)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class Gt extends Ee{constructor(e=500){super(new Ot,e)}}class _t{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(le.TRY_HARDER)===!0&&e.isRotateSupported()){const c=e.rotateCounterClockwise(),u=this.doDecode(c,n),h=u.getResultMetadata();let m=270;h!==null&&h.get(Ue.ORIENTATION)===!0&&(m=m+h.get(Ue.ORIENTATION)%360),u.putMetadata(Ue.ORIENTATION,m);const v=u.getResultPoints();if(v!==null){const N=c.getHeight();for(let P=0;P<v.length;P++)v[P]=new Ne(N-v[P].getY()-1,v[P].getX())}return u}else throw new ee}}reset(){}doDecode(e,n){const i=e.getWidth(),l=e.getHeight();let c=new re(i);const u=n&&n.get(le.TRY_HARDER)===!0,h=Math.max(1,l>>(u?8:5));let m;u?m=l:m=15;const v=Math.trunc(l/2);for(let N=0;N<m;N++){const P=Math.trunc((N+1)/2),D=(N&1)===0,z=v+h*(D?P:-P);if(z<0||z>=l)break;try{c=e.getBlackRow(z,c)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(c.reverse(),n&&n.get(le.NEED_RESULT_POINT_CALLBACK)===!0)){const Z=new Map;n.forEach((Q,se)=>Z.set(se,Q)),Z.delete(le.NEED_RESULT_POINT_CALLBACK),n=Z}try{const Z=this.decodeRow(z,c,n);if(G===1){Z.putMetadata(Ue.ORIENTATION,180);const Q=Z.getResultPoints();Q!==null&&(Q[0]=new Ne(i-Q[0].getX()-1,Q[0].getY()),Q[1]=new Ne(i-Q[1].getX()-1,Q[1].getY()))}return Z}catch{}}}throw new ee}static recordPattern(e,n,i){const l=i.length;for(let v=0;v<l;v++)i[v]=0;const c=e.getSize();if(n>=c)throw new ee;let u=!e.get(n),h=0,m=n;for(;m<c;){if(e.get(m)!==u)i[h]++;else{if(++h===l)break;i[h]=1,u=!u}m++}if(!(h===l||h===l-1&&m===c))throw new ee}static recordPatternInReverse(e,n,i){let l=i.length,c=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==c&&(l--,c=!c);if(l>=0)throw new ee;_t.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const l=e.length;let c=0,u=0;for(let v=0;v<l;v++)c+=e[v],u+=n[v];if(c<u)return Number.POSITIVE_INFINITY;const h=c/u;i*=h;let m=0;for(let v=0;v<l;v++){const N=e[v],P=n[v]*h,D=N>P?N-P:P-N;if(D>i)return Number.POSITIVE_INFINITY;m+=D}return m/c}}class Se extends _t{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let l=0,c=Int32Array.from([0,0,0,0,0,0]),u=i,h=!1;const m=6;for(let v=i;v<n;v++)if(e.get(v)!==h)c[l]++;else{if(l===m-1){let N=Se.MAX_AVG_VARIANCE,P=-1;for(let D=Se.CODE_START_A;D<=Se.CODE_START_C;D++){const z=_t.patternMatchVariance(c,Se.CODE_PATTERNS[D],Se.MAX_INDIVIDUAL_VARIANCE);z<N&&(N=z,P=D)}if(P>=0&&e.isRange(Math.max(0,u-(v-u)/2),u,!1))return Int32Array.from([u,v,P]);u+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,h=!h}throw new ee}static decodeCode(e,n,i){_t.recordPattern(e,i,n);let l=Se.MAX_AVG_VARIANCE,c=-1;for(let u=0;u<Se.CODE_PATTERNS.length;u++){const h=Se.CODE_PATTERNS[u],m=this.patternMatchVariance(n,h,Se.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,c=u)}if(c>=0)return c;throw new ee}decodeRow(e,n,i){const l=i&&i.get(le.ASSUME_GS1)===!0,c=Se.findStartPattern(n),u=c[2];let h=0;const m=new Uint8Array(20);m[h++]=u;let v;switch(u){case Se.CODE_START_A:v=Se.CODE_CODE_A;break;case Se.CODE_START_B:v=Se.CODE_CODE_B;break;case Se.CODE_START_C:v=Se.CODE_CODE_C;break;default:throw new X}let N=!1,P=!1,D="",z=c[0],G=c[1];const Z=Int32Array.from([0,0,0,0,0,0]);let Q=0,se=0,be=u,Ae=0,xe=!0,Ct=!1,lt=!1;for(;!N;){const Xr=P;switch(P=!1,Q=se,se=Se.decodeCode(n,Z,G),m[h++]=se,se!==Se.CODE_STOP&&(xe=!0),se!==Se.CODE_STOP&&(Ae++,be+=Ae*se),z=G,G+=Z.reduce((Zi,Jo)=>Zi+Jo,0),se){case Se.CODE_START_A:case Se.CODE_START_B:case Se.CODE_START_C:throw new X}switch(v){case Se.CODE_CODE_A:if(se<64)lt===Ct?D+=String.fromCharCode(32+se):D+=String.fromCharCode(32+se+128),lt=!1;else if(se<96)lt===Ct?D+=String.fromCharCode(se-64):D+=String.fromCharCode(se+64),lt=!1;else switch(se!==Se.CODE_STOP&&(xe=!1),se){case Se.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_A:!Ct&&lt?(Ct=!0,lt=!1):Ct&&lt?(Ct=!1,lt=!1):lt=!0;break;case Se.CODE_SHIFT:P=!0,v=Se.CODE_CODE_B;break;case Se.CODE_CODE_B:v=Se.CODE_CODE_B;break;case Se.CODE_CODE_C:v=Se.CODE_CODE_C;break;case Se.CODE_STOP:N=!0;break}break;case Se.CODE_CODE_B:if(se<96)lt===Ct?D+=String.fromCharCode(32+se):D+=String.fromCharCode(32+se+128),lt=!1;else switch(se!==Se.CODE_STOP&&(xe=!1),se){case Se.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_B:!Ct&&lt?(Ct=!0,lt=!1):Ct&&lt?(Ct=!1,lt=!1):lt=!0;break;case Se.CODE_SHIFT:P=!0,v=Se.CODE_CODE_A;break;case Se.CODE_CODE_A:v=Se.CODE_CODE_A;break;case Se.CODE_CODE_C:v=Se.CODE_CODE_C;break;case Se.CODE_STOP:N=!0;break}break;case Se.CODE_CODE_C:if(se<100)se<10&&(D+="0"),D+=se;else switch(se!==Se.CODE_STOP&&(xe=!1),se){case Se.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Se.CODE_CODE_A:v=Se.CODE_CODE_A;break;case Se.CODE_CODE_B:v=Se.CODE_CODE_B;break;case Se.CODE_STOP:N=!0;break}break}Xr&&(v=v===Se.CODE_CODE_A?Se.CODE_CODE_B:Se.CODE_CODE_A)}const $n=G-z;if(G=n.getNextUnset(G),!n.isRange(G,Math.min(n.getSize(),G+(G-z)/2),!1))throw new ee;if(be-=Ae*Q,be%103!==Q)throw new M;const Er=D.length;if(Er===0)throw new ee;Er>0&&xe&&(v===Se.CODE_CODE_C?D=D.substring(0,Er-2):D=D.substring(0,Er-1));const wn=(c[1]+c[0])/2,Ft=z+$n/2,on=m.length,zn=new Uint8Array(on);for(let Xr=0;Xr<on;Xr++)zn[Xr]=m[Xr];const Ai=[new Ne(wn,e),new Ne(Ft,e)];return new Ve(D,zn,0,Ai,we.CODE_128,new Date().getTime())}}Se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Se.MAX_AVG_VARIANCE=.25,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.CODE_SHIFT=98,Se.CODE_CODE_C=99,Se.CODE_CODE_B=100,Se.CODE_CODE_A=101,Se.CODE_FNC_1=102,Se.CODE_FNC_2=97,Se.CODE_FNC_3=96,Se.CODE_FNC_4_A=101,Se.CODE_FNC_4_B=100,Se.CODE_START_A=103,Se.CODE_START_B=104,Se.CODE_START_C=105,Se.CODE_STOP=106;class Vt extends _t{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let c=Vt.findAsteriskPattern(n,l),u=n.getNextSet(c[1]),h=n.getSize(),m,v;do{Vt.recordPattern(n,u,l);let Z=Vt.toNarrowWidePattern(l);if(Z<0)throw new ee;m=Vt.patternToChar(Z),this.decodeRowResult+=m,v=u;for(let Q of l)u+=Q;u=n.getNextSet(u)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let Z of l)N+=Z;let P=u-v-N;if(u!==h&&P*2<N)throw new ee;if(this.usingCheckDigit){let Z=this.decodeRowResult.length-1,Q=0;for(let se=0;se<Z;se++)Q+=Vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(se));if(this.decodeRowResult.charAt(Z)!==Vt.ALPHABET_STRING.charAt(Q%43))throw new M;this.decodeRowResult=this.decodeRowResult.substring(0,Z)}if(this.decodeRowResult.length===0)throw new ee;let D;this.extendedMode?D=Vt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let z=(c[1]+c[0])/2,G=v+N/2;return new Ve(D,null,0,[new Ne(z,e),new Ne(G,e)],we.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),l=e.getNextSet(0),c=0,u=l,h=!1,m=n.length;for(let v=l;v<i;v++)if(e.get(v)!==h)n[c]++;else{if(c===m-1){if(this.toNarrowWidePattern(n)===Vt.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((v-u)/2)),u,!1))return[u,v];u+=n[0]+n[1],n.copyWithin(0,2,2+c-1),n[c-1]=0,n[c]=0,c--}else c++;n[c]=1,h=!h}throw new ee}static toNarrowWidePattern(e){let n=e.length,i=0,l;do{let c=2147483647;for(let m of e)m<c&&m>i&&(c=m);i=c,l=0;let u=0,h=0;for(let m=0;m<n;m++){let v=e[m];v>i&&(h|=1<<n-1-m,l++,u+=v)}if(l===3){for(let m=0;m<n&&l>0;m++){let v=e[m];if(v>i&&(l--,v*2>=u))return-1}return h}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<Vt.CHARACTER_ENCODINGS.length;n++)if(Vt.CHARACTER_ENCODINGS[n]===e)return Vt.ALPHABET_STRING.charAt(n);if(e===Vt.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(e){let n=e.length,i="";for(let l=0;l<n;l++){let c=e.charAt(l);if(c==="+"||c==="$"||c==="%"||c==="/"){let u=e.charAt(l+1),h="\0";switch(c){case"+":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)+32);else throw new X;break;case"$":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)-64);else throw new X;break;case"%":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")h="\0";else if(u==="V")h="@";else if(u==="W")h="`";else if(u==="X"||u==="Y"||u==="Z")h="";else throw new X;break;case"/":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")h=":";else throw new X;break}i+=h,l++}else i+=c}return i}}Vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vt.ASTERISK_ENCODING=148;class It extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,i){let l=this.decodeStart(n),c=this.decodeEnd(n),u=new ke;It.decodeMiddle(n,l[1],c[0],u);let h=u.toString(),m=null;i!=null&&(m=i.get(le.ALLOWED_LENGTHS)),m==null&&(m=It.DEFAULT_ALLOWED_LENGTHS);let v=h.length,N=!1,P=0;for(let G of m){if(v===G){N=!0;break}G>P&&(P=G)}if(!N&&v>P&&(N=!0),!N)throw new X;const D=[new Ne(l[1],e),new Ne(c[0],e)];return new Ve(h,null,0,D,we.ITF,new Date().getTime())}static decodeMiddle(e,n,i,l){let c=new Int32Array(10),u=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),u.fill(0),h.fill(0);n<i;){_t.recordPattern(e,n,c);for(let v=0;v<5;v++){let N=2*v;u[v]=c[N],h[v]=c[N+1]}let m=It.decodeDigit(u);l.append(m.toString()),m=this.decodeDigit(h),l.append(m.toString()),c.forEach(function(v){n+=v})}}decodeStart(e){let n=It.skipWhiteSpace(e),i=It.findGuardPattern(e,n,It.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let l=n-1;i>0&&l>=0&&!e.get(l);l--)i--;if(i!==0)throw new ee}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new ee;return i}decodeEnd(e){e.reverse();try{let n=It.skipWhiteSpace(e),i;try{i=It.findGuardPattern(e,n,It.END_PATTERN_REVERSED[0])}catch(c){c instanceof ee&&(i=It.findGuardPattern(e,n,It.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let l=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-l,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let l=i.length,c=new Int32Array(l),u=e.getSize(),h=!1,m=0,v=n;c.fill(0);for(let N=n;N<u;N++)if(e.get(N)!==h)c[m]++;else{if(m===l-1){if(_t.patternMatchVariance(c,i,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return[v,N];v+=c[0]+c[1],F.arraycopy(c,2,c,0,m-1),c[m-1]=0,c[m]=0,m--}else m++;c[m]=1,h=!h}throw new ee}static decodeDigit(e){let n=It.MAX_AVG_VARIANCE,i=-1,l=It.PATTERNS.length;for(let c=0;c<l;c++){let u=It.PATTERNS[c],h=_t.patternMatchVariance(e,u,It.MAX_INDIVIDUAL_VARIANCE);h<n?(n=h,i=c):h===n&&(i=-1)}if(i>=0)return i%10;throw new ee}}It.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],It.MAX_AVG_VARIANCE=.38,It.MAX_INDIVIDUAL_VARIANCE=.5,It.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],It.START_PATTERN=Int32Array.from([1,1,1,1]),It.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Xt extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,l=0,c=Int32Array.from([0,0,0]);for(;!n;){c=Int32Array.from([0,0,0]),i=Xt.findGuardPattern(e,l,!1,this.START_END_PATTERN,c);let u=i[0];l=i[1];let h=u-(l-u);h>=0&&(n=e.isRange(h,u,!1))}return i}static checkChecksum(e){return Xt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Xt.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new X;i+=c}i*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new X;i+=c}return(1e3-i)%10}static decodeEnd(e,n){return Xt.findGuardPattern(e,n,!1,Xt.START_END_PATTERN,new Int32Array(Xt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,l){return this.findGuardPattern(e,n,i,l,new Int32Array(l.length))}static findGuardPattern(e,n,i,l,c){let u=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let h=0,m=n,v=l.length,N=i;for(let P=n;P<u;P++)if(e.get(P)!==N)c[h]++;else{if(h===v-1){if(_t.patternMatchVariance(c,l,Xt.MAX_INDIVIDUAL_VARIANCE)<Xt.MAX_AVG_VARIANCE)return Int32Array.from([m,P]);m+=c[0]+c[1];let D=c.slice(2,c.length-1);for(let z=0;z<h-1;z++)c[z]=D[z];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,N=!N}throw new ee}static decodeDigit(e,n,i,l){this.recordPattern(e,i,n);let c=this.MAX_AVG_VARIANCE,u=-1,h=l.length;for(let m=0;m<h;m++){let v=l[m],N=_t.patternMatchVariance(n,v,Xt.MAX_INDIVIDUAL_VARIANCE);N<c&&(c=N,u=m)}if(u>=0)return u;throw new ee}}Xt.MAX_AVG_VARIANCE=.48,Xt.MAX_INDIVIDUAL_VARIANCE=.7,Xt.START_END_PATTERN=Int32Array.from([1,1,1]),Xt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Xt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class zr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,i,l),u=l.toString(),h=zr.parseExtensionString(u),m=[new Ne((i[0]+i[1])/2,e),new Ne(c,e)],v=new Ve(u,null,0,m,we.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let v=0;v<5&&u<c;v++){let N=Xt.decodeDigit(e,l,u,Xt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let P of l)u+=P;N>=10&&(h|=1<<4-v),v!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(i.length!==5)throw new ee;let m=this.determineCheckDigit(h);if(zr.extensionChecksum(i.toString())!==m)throw new ee;return u}static extensionChecksum(e){let n=e.length,i=0;for(let l=n-2;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;i*=3;for(let l=n-1;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new ee}static parseExtensionString(e){if(e.length!==5)return null;let n=zr.parseExtension5String(e);return n==null?null:new Map([[Ue.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),l=(i/100).toString(),c=i%100,u=c<10?"0"+c:c.toString();return n+l+"."+u}}class ei{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,i,l),u=l.toString(),h=ei.parseExtensionString(u),m=[new Ne((i[0]+i[1])/2,e),new Ne(c,e)],v=new Ve(u,null,0,m,we.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let m=0;m<2&&u<c;m++){let v=Xt.decodeDigit(e,l,u,Xt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let N of l)u+=N;v>=10&&(h|=1<<1-m),m!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(i.length!==2)throw new ee;if(parseInt(i.toString())%4!==h)throw new ee;return u}static parseExtensionString(e){return e.length!==2?null:new Map([[Ue.ISSUE_NUMBER,parseInt(e)]])}}class xs{static decodeRow(e,n,i){let l=Xt.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new zr().decodeRow(e,n,l)}catch{return new ei().decodeRow(e,n,l)}}}xs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class wt extends Xt{constructor(){super(),this.decodeRowStringBuffer="",wt.L_AND_G_PATTERNS=wt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=wt.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let l=0;l<n.length;l++)i[l]=n[n.length-l-1];wt.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let l=wt.findStartGuardPattern(n),c=i==null?null:i.get(le.NEED_RESULT_POINT_CALLBACK);if(c!=null){const xe=new Ne((l[0]+l[1])/2,e);c.foundPossibleResultPoint(xe)}let u=this.decodeMiddle(n,l,this.decodeRowStringBuffer),h=u.rowOffset,m=u.resultString;if(c!=null){const xe=new Ne(h,e);c.foundPossibleResultPoint(xe)}let v=this.decodeEnd(n,h);if(c!=null){const xe=new Ne((v[0]+v[1])/2,e);c.foundPossibleResultPoint(xe)}let N=v[1],P=N+(N-v[0]);if(P>=n.getSize()||!n.isRange(N,P,!1))throw new ee;let D=m.toString();if(D.length<8)throw new X;if(!wt.checkChecksum(D))throw new M;let z=(l[1]+l[0])/2,G=(v[1]+v[0])/2,Z=this.getBarcodeFormat(),Q=[new Ne(z,e),new Ne(G,e)],se=new Ve(D,null,0,Q,Z,new Date().getTime()),be=0;try{let xe=xs.decodeRow(e,n,v[1]);se.putMetadata(Ue.UPC_EAN_EXTENSION,xe.getText()),se.putAllMetadata(xe.getResultMetadata()),se.addResultPoints(xe.getResultPoints()),be=xe.getText().length}catch{}let Ae=i==null?null:i.get(le.ALLOWED_EAN_EXTENSIONS);if(Ae!=null){let xe=!1;for(let Ct in Ae)if(be.toString()===Ct){xe=!0;break}if(!xe)throw new ee}return se}decodeEnd(e,n){return wt.findGuardPattern(e,n,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return wt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return wt.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new X;i+=c}i*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new X;i+=c}return(1e3-i)%10}}class Xn extends wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let v=0;v<6&&u<c;v++){let N=wt.decodeDigit(e,l,u,wt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let P of l)u+=P;N>=10&&(h|=1<<5-v)}i=Xn.determineFirstDigit(i,h),u=wt.findGuardPattern(e,u,!0,wt.MIDDLE_PATTERN,new Int32Array(wt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&u<c;v++){let N=wt.decodeDigit(e,l,u,wt.L_PATTERNS);i+=String.fromCharCode(48+N);for(let P of l)u+=P}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return we.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new ee}}Xn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ys extends wt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1];for(let m=0;m<4&&u<c;m++){let v=wt.decodeDigit(e,l,u,wt.L_PATTERNS);i+=String.fromCharCode(48+v);for(let N of l)u+=N}u=wt.findGuardPattern(e,u,!0,wt.MIDDLE_PATTERN,new Int32Array(wt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&u<c;m++){let v=wt.decodeDigit(e,l,u,wt.L_PATTERNS);i+=String.fromCharCode(48+v);for(let N of l)u+=N}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return we.EAN_8}}class Fi extends wt{constructor(){super(...arguments),this.ean13Reader=new Xn}getBarcodeFormat(){return we.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new Ve(n.substring(1),null,null,e.getResultPoints(),we.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new ee}reset(){this.ean13Reader.reset()}}class Yn extends wt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const c=e.getSize();let u=n[1],h=0;for(let v=0;v<6&&u<c;v++){const N=Yn.decodeDigit(e,l,u,Yn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let P of l)u+=P;N>=10&&(h|=1<<5-v)}let m=Yn.determineNumSysAndCheckDigit(i,h);return{rowOffset:u,resultString:m}}decodeEnd(e,n){return Yn.findGuardPatternWithoutCounters(e,n,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(e){return wt.checkChecksum(Yn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let c=String.fromCharCode(48+i),u=String.fromCharCode(48+l);return c+e+u}throw ee.getNotFoundInstance()}getBarcodeFormat(){return we.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(c=>c.charCodeAt(0)),i=new ke;i.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(l),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(l);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ji extends _t{constructor(e){super();let n=e==null?null:e.get(le.POSSIBLE_FORMATS),i=[];d(n)?(i.push(new Xn),i.push(new Fi),i.push(new ys),i.push(new Yn)):(n.indexOf(we.EAN_13)>-1&&i.push(new Xn),n.indexOf(we.UPC_A)>-1&&i.push(new Fi),n.indexOf(we.EAN_8)>-1&&i.push(new ys),n.indexOf(we.UPC_E)>-1&&i.push(new Yn)),this.readers=i}decodeRow(e,n,i){for(let l of this.readers)try{const c=l.decodeRow(e,n,i),u=c.getBarcodeFormat()===we.EAN_13&&c.getText().charAt(0)==="0",h=i==null?null:i.get(le.POSSIBLE_FORMATS),m=h==null||h.includes(we.UPC_A);if(u&&m){const v=c.getRawBytes(),N=new Ve(c.getText().substring(1),v,v?v.length:null,c.getResultPoints(),we.UPC_A);return N.putAllMetadata(c.getResultMetadata()),N}return c}catch{}throw new ee}reset(){for(let e of this.readers)e.reset()}}class sn extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(_t.patternMatchVariance(e,n[i],sn.MAX_INDIVIDUAL_VARIANCE)<sn.MAX_AVG_VARIANCE)return i;throw new ee}static count(e){return ut.sum(new Int32Array(e))}static increment(e,n){let i=0,l=n[0];for(let c=1;c<e.length;c++)n[c]>l&&(l=n[c],i=c);e[i]++}static decrement(e,n){let i=0,l=n[0];for(let c=1;c<e.length;c++)n[c]<l&&(l=n[c],i=c);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],l=n/i;if(l>=sn.MIN_FINDER_PATTERN_RATIO&&l<=sn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let h of e)h>u&&(u=h),h<c&&(c=h);return u<10*c}return!1}}sn.MAX_AVG_VARIANCE=.2,sn.MAX_INDIVIDUAL_VARIANCE=.45,sn.MIN_FINDER_PATTERN_RATIO=9.5/12,sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Nr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Nr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ti{constructor(e,n,i,l,c){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ne(i,c)),this.resultPoints.push(new Ne(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ti))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class En{constructor(){}static getRSSvalue(e,n,i){let l=0;for(let m of e)l+=m;let c=0,u=0,h=e.length;for(let m=0;m<h-1;m++){let v;for(v=1,u|=1<<m;v<e[m];v++,u&=~(1<<m)){let N=En.combins(l-v-1,h-m-2);if(i&&u===0&&l-v-(h-m-1)>=h-m-1&&(N-=En.combins(l-v-(h-m),h-m-2)),h-m-1>1){let P=0;for(let D=l-v-(h-m-2);D>n;D--)P+=En.combins(l-v-D-1,h-m-3);N-=P*(h-1-m)}else l-v>n&&N--;c+=N}l-=v}return c}static combins(e,n){let i,l;e-n>n?(l=n,i=e-n):(l=e-n,i=n);let c=1,u=1;for(let h=e;h>i;h--)c*=h,u<=l&&(c/=u,u++);for(;u<=l;)c/=u,u++;return c}}class Vi{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,l=new re(i),c=0,h=e[0].getRightChar().getValue();for(let m=11;m>=0;--m)h&1<<m&&l.set(c),c++;for(let m=1;m<e.length;++m){let v=e[m],N=v.getLeftChar().getValue();for(let P=11;P>=0;--P)N&1<<P&&l.set(c),c++;if(v.getRightChar()!=null){let P=v.getRightChar().getValue();for(let D=11;D>=0;--D)P&1<<D&&l.set(c),c++}}return l}}class rr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ni{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class fn extends ni{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class ir extends ni{constructor(e,n,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Sn extends ni{constructor(e,n,i){if(super(e),n<0||n>10||i<0||i>10)throw new X;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Sn.FNC1}isAnyFNC1(){return this.firstDigit===Sn.FNC1||this.secondDigit===Sn.FNC1}}Sn.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new ee;let n=e.substring(0,2);for(let c of Me.TWO_DIGIT_DATA_LENGTH)if(c[0]===n)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,c[2],e):Me.processFixedAI(2,c[1],e);if(e.length<3)throw new ee;let i=e.substring(0,3);for(let c of Me.THREE_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,c[2],e):Me.processFixedAI(3,c[1],e);for(let c of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);if(e.length<4)throw new ee;let l=e.substring(0,4);for(let c of Me.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);throw new ee}static processFixedAI(e,n,i){if(i.length<e)throw new ee;let l=i.substring(0,e);if(i.length<e+n)throw new ee;let c=i.substring(e,e+n),u=i.substring(e+n),h="("+l+")"+c,m=Me.parseFieldsInGeneralPurpose(u);return m==null?h:h+m}static processVariableAI(e,n,i){let l=i.substring(0,e),c;i.length<e+n?c=i.length:c=e+n;let u=i.substring(e,c),h=i.substring(c),m="("+l+")"+u,v=Me.parseFieldsInGeneralPurpose(h);return v==null?m:m+v}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class ri{constructor(e){this.buffer=new ke,this.information=e}decodeAllCodes(e,n){let i=n,l=null;do{let c=this.decodeGeneralPurposeField(i,l),u=Me.parseFieldsInGeneralPurpose(c.getNewString());if(u!=null&&e.append(u),c.isRemaining()?l=""+c.getRemainingValue():l=null,i===c.getNewPosition())break;i=c.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(e,4);return c===0?new Sn(this.information.getSize(),Sn.FNC1,Sn.FNC1):new Sn(this.information.getSize(),c-1,Sn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,l=(n-8)%11;return new Sn(e+7,i,l)}extractNumericValueFromBitArray(e,n){return ri.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let l=0;for(let c=0;c<i;++c)e.get(n+c)&&(l|=1<<i-c-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new ir(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new ir(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new ir(this.current.getPosition(),this.buffer.toString()):n=new ir(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new rr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new rr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new rr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new rr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new fn(e+5,fn.FNC1);if(n>=5&&n<15)return new fn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new fn(e+7,""+(i+1));if(i>=90&&i<116)return new fn(e+7,""+(i+7));let l=this.extractNumericValueFromBitArray(e,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new X}return new fn(e+8,c)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new fn(e+5,fn.FNC1);if(n>=5&&n<15)return new fn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new fn(e+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Bt("Decoding invalid alphanumeric value: "+i)}return new fn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class ws{constructor(e){this.information=e,this.generalDecoder=new ri(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class In extends ws{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let l=0;l<4;++l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);c/100===0&&e.append("0"),c/10===0&&e.append("0"),e.append(c)}In.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let l=0;l<13;l++){let c=e.charAt(l+n).charCodeAt(0)-48;i+=l&1?c:3*c}i=10-i%10,i===10&&(i=0),e.append(i)}}In.GTIN_SIZE=40;class Kn extends In{constructor(e){super(e)}parseInformation(){let e=new ke;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,Kn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Kn.HEADER_SIZE+44)}}Kn.HEADER_SIZE=4;class wi extends ws{constructor(e){super(e)}parseInformation(){let e=new ke;return this.getGeneralDecoder().decodeAllCodes(e,wi.HEADER_SIZE)}}wi.HEADER_SIZE=5;class Ur extends In{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,l);let c=this.checkWeight(l),u=1e5;for(let h=0;h<5;++h)c/u===0&&e.append("0"),u/=10;e.append(c)}}class fr extends Ur{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=fr.HEADER_SIZE+Ur.GTIN_SIZE+fr.WEIGHT_SIZE)throw new ee;let e=new ke;return this.encodeCompressedGtin(e,fr.HEADER_SIZE),this.encodeCompressedWeight(e,fr.HEADER_SIZE+Ur.GTIN_SIZE,fr.WEIGHT_SIZE),e.toString()}}fr.HEADER_SIZE=5,fr.WEIGHT_SIZE=15;class vs extends fr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Fe extends fr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class qe extends In{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<qe.HEADER_SIZE+In.GTIN_SIZE)throw new ee;let e=new ke;this.encodeCompressedGtin(e,qe.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(qe.HEADER_SIZE+In.GTIN_SIZE,qe.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(qe.HEADER_SIZE+In.GTIN_SIZE+qe.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}qe.HEADER_SIZE=8,qe.LAST_DIGIT_SIZE=2;class Ge extends In{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ge.HEADER_SIZE+In.GTIN_SIZE)throw new ee;let e=new ke;this.encodeCompressedGtin(e,Ge.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE+In.GTIN_SIZE,Ge.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE+In.GTIN_SIZE+Ge.LAST_DIGIT_SIZE,Ge.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ge.HEADER_SIZE+In.GTIN_SIZE+Ge.LAST_DIGIT_SIZE+Ge.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Ge.HEADER_SIZE=8,Ge.LAST_DIGIT_SIZE=2,Ge.FIRST_THREE_DIGITS_SIZE=10;class st extends Ur{constructor(e,n,i){super(e),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=st.HEADER_SIZE+st.GTIN_SIZE+st.WEIGHT_SIZE+st.DATE_SIZE)throw new ee;let e=new ke;return this.encodeCompressedGtin(e,st.HEADER_SIZE),this.encodeCompressedWeight(e,st.HEADER_SIZE+st.GTIN_SIZE,st.WEIGHT_SIZE),this.encodeCompressedDate(e,st.HEADER_SIZE+st.GTIN_SIZE+st.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,st.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=i%32;i/=32;let c=i%12+1;i/=12;let u=i;u/10==0&&e.append("0"),e.append(u),c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}st.HEADER_SIZE=8,st.WEIGHT_SIZE=20,st.DATE_SIZE=16;function Qe(k){try{if(k.get(1))return new Kn(k);if(!k.get(2))return new wi(k);switch(ri.extractNumericValueFromBitArray(k,1,4)){case 4:return new vs(k);case 5:return new Fe(k)}switch(ri.extractNumericValueFromBitArray(k,1,5)){case 12:return new qe(k);case 13:return new Ge(k)}switch(ri.extractNumericValueFromBitArray(k,1,7)){case 56:return new st(k,"310","11");case 57:return new st(k,"320","11");case 58:return new st(k,"310","13");case 59:return new st(k,"320","13");case 60:return new st(k,"310","15");case 61:return new st(k,"320","15");case 62:return new st(k,"310","17");case 63:return new st(k,"320","17")}}catch(e){throw console.log(e),new Bt("unknown decoder: "+k)}}class gt{constructor(e,n,i,l){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof gt?gt.equalsOrNull(e.leftchar,n.leftchar)&&gt.equalsOrNull(e.rightchar,n.rightchar)&&gt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:gt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cs{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Cs?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((l,c)=>{n.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class pe extends sn{constructor(e){super(...arguments),this.pairs=new Array(pe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return pe.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,pe.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(c){if(c instanceof ee){if(!this.pairs.length)throw new ee;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new ee}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let u of e)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!pe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(e);c.push(l);try{return this.checkRows(c,i+1)}catch(u){this.verbose&&console.log(u)}}throw new ee}static isValidSequence(e){for(let n of pe.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,l=!1,c=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>e){c=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),i++}c||l||pe.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Cs(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let l of i.getPairs())for(let c of e)if(gt.equals(l,c))break}}static isPartialRow(e,n){for(let i of n){let l=!0;for(let c of e){let u=!1;for(let h of i.getPairs())if(c.equals(h)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=Vi.buildBitArray(e),l=Qe(n).parseInformation(),c=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],u[0],u[1]];return new Ve(l,null,null,h,we.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let m=this.pairs.get(h);l+=m.getLeftChar().getChecksumPortion(),c++;let v=m.getRightChar();v!=null&&(l+=v.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let l=n.length%2==0;this.startFromEven&&(l=!l);let c,u=!0,h=-1;do this.findNextPair(e,n,h),c=this.parseFoundFinderPattern(e,i,l),c==null?h=pe.getNextSecondBar(e,this.startEnd[0]):u=!1;while(u);let m=this.decodeDataCharacter(e,c,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ee;let v;try{v=this.decodeDataCharacter(e,c,l,!1)}catch(N){v=null,this.verbose&&console.log(N)}return new gt(m,v,c,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u;i>=0?u=i:this.isEmptyPair(n)?u=0:u=n[n.length-1].getFinderPattern().getStartEnd()[1];let h=n.length%2!=0;this.startFromEven&&(h=!h);let m=!1;for(;u<c&&(m=!e.get(u),!!m);)u++;let v=0,N=u;for(let P=u;P<c;P++)if(e.get(P)!=m)l[v]++;else{if(v==3){if(h&&pe.reverseCounters(l),pe.isFinderPattern(l)){this.startEnd[0]=N,this.startEnd[1]=P;return}h&&pe.reverseCounters(l),N+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,m=!m}throw new ee}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let l=e[i];e[i]=e[n-i-1],e[n-i-1]=l}}parseFoundFinderPattern(e,n,i){let l,c,u;if(i){let v=this.startEnd[0]-1;for(;v>=0&&!e.get(v);)v--;v++,l=this.startEnd[0]-v,c=v,u=this.startEnd[1]}else c=this.startEnd[0],u=e.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let h=this.getDecodeFinderCounters();F.arraycopy(h,0,h,1,h.length-1),h[0]=l;let m;try{m=this.parseFinderValue(h,pe.FINDER_PATTERNS)}catch{return null}return new ti(m,[c,u],c,u,n)}decodeDataCharacter(e,n,i,l){let c=this.getDataCharacterCounters();for(let Ft=0;Ft<c.length;Ft++)c[Ft]=0;if(l)pe.recordPatternInReverse(e,n.getStartEnd()[0],c);else{pe.recordPattern(e,n.getStartEnd()[1],c);for(let Ft=0,on=c.length-1;Ft<on;Ft++,on--){let zn=c[Ft];c[Ft]=c[on],c[on]=zn}}let u=17,h=ut.sum(new Int32Array(c))/u,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-m)/m>.3)throw new ee;let v=this.getOddCounts(),N=this.getEvenCounts(),P=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Ft=0;Ft<c.length;Ft++){let on=1*c[Ft]/h,zn=on+.5;if(zn<1){if(on<.3)throw new ee;zn=1}else if(zn>8){if(on>8.7)throw new ee;zn=8}let Ai=Ft/2;Ft&1?(N[Ai]=zn,D[Ai]=on-zn):(v[Ai]=zn,P[Ai]=on-zn)}this.adjustOddEvenCounts(u);let z=4*n.getValue()+(i?0:2)+(l?0:1)-1,G=0,Z=0;for(let Ft=v.length-1;Ft>=0;Ft--){if(pe.isNotA1left(n,i,l)){let on=pe.WEIGHTS[z][2*Ft];Z+=v[Ft]*on}G+=v[Ft]}let Q=0;for(let Ft=N.length-1;Ft>=0;Ft--)if(pe.isNotA1left(n,i,l)){let on=pe.WEIGHTS[z][2*Ft+1];Q+=N[Ft]*on}let se=Z+Q;if(G&1||G>13||G<4)throw new ee;let be=(13-G)/2,Ae=pe.SYMBOL_WIDEST[be],xe=9-Ae,Ct=En.getRSSvalue(v,Ae,!0),lt=En.getRSSvalue(N,xe,!1),$n=pe.EVEN_TOTAL_SUBSET[be],Er=pe.GSUM[be],wn=Ct*$n+lt+Er;return new Nr(wn,se)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=ut.sum(new Int32Array(this.getOddCounts())),i=ut.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;n>13?c=!0:n<4&&(l=!0);let u=!1,h=!1;i>13?h=!0:i<4&&(u=!0);let m=n+i-e,v=(n&1)==1,N=(i&1)==0;if(m==1)if(v){if(N)throw new ee;c=!0}else{if(!N)throw new ee;h=!0}else if(m==-1)if(v){if(N)throw new ee;l=!0}else{if(!N)throw new ee;u=!0}else if(m==0){if(v){if(!N)throw new ee;n<i?(l=!0,h=!0):(c=!0,u=!0)}else if(N)throw new ee}else throw new ee;if(l){if(c)throw new ee;pe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&pe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new ee;pe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&pe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pe.SYMBOL_WIDEST=[7,5,4,3,1],pe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],pe.GSUM=[0,348,1388,2948,3988],pe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],pe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],pe.FINDER_PAT_A=0,pe.FINDER_PAT_B=1,pe.FINDER_PAT_C=2,pe.FINDER_PAT_D=3,pe.FINDER_PAT_E=4,pe.FINDER_PAT_F=5,pe.FINDER_PATTERN_SEQUENCES=[[pe.FINDER_PAT_A,pe.FINDER_PAT_A],[pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B],[pe.FINDER_PAT_A,pe.FINDER_PAT_C,pe.FINDER_PAT_B,pe.FINDER_PAT_D],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_C],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_D,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_D],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_E],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F]],pe.MAX_PAIRS=11;class Es extends Nr{constructor(e,n,i){super(e,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Tt extends sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const l=this.decodePair(n,!1,e,i);Tt.addOrTally(this.possibleLeftPairs,l),n.reverse();let c=this.decodePair(n,!0,e,i);Tt.addOrTally(this.possibleRightPairs,c),n.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Tt.checkChecksum(u,h))return Tt.constructResult(u,h)}throw new ee}static addOrTally(e,n){if(n==null)return;let i=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),l=new String(i).toString(),c=new ke;for(let v=13-l.length;v>0;v--)c.append("0");c.append(l);let u=0;for(let v=0;v<13;v++){let N=c.charAt(v).charCodeAt(0)-48;u+=v&1?N:3*N}u=10-u%10,u===10&&(u=0),c.append(u.toString());let h=e.getFinderPattern().getResultPoints(),m=n.getFinderPattern().getResultPoints();return new Ve(c.toString(),null,0,[h[0],h[1],m[0],m[1]],we.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(e,n,i,l){try{let c=this.findFinderPattern(e,n),u=this.parseFoundFinderPattern(e,i,n,c),h=l==null?null:l.get(le.NEED_RESULT_POINT_CALLBACK);if(h!=null){let N=(c[0]+c[1])/2;n&&(N=e.getSize()-1-N),h.foundPossibleResultPoint(new Ne(N,i))}let m=this.decodeDataCharacter(e,u,!0),v=this.decodeDataCharacter(e,u,!1);return new Es(1597*m.getValue()+v.getValue(),m.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(e,n,i){let l=this.getDataCharacterCounters();for(let Q=0;Q<l.length;Q++)l[Q]=0;if(i)_t.recordPatternInReverse(e,n.getStartEnd()[0],l);else{_t.recordPattern(e,n.getStartEnd()[1]+1,l);for(let Q=0,se=l.length-1;Q<se;Q++,se--){let be=l[Q];l[Q]=l[se],l[se]=be}}let c=i?16:15,u=ut.sum(new Int32Array(l))/c,h=this.getOddCounts(),m=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Q=0;Q<l.length;Q++){let se=l[Q]/u,be=Math.floor(se+.5);be<1?be=1:be>8&&(be=8);let Ae=Math.floor(Q/2);Q&1?(m[Ae]=be,N[Ae]=se-be):(h[Ae]=be,v[Ae]=se-be)}this.adjustOddEvenCounts(i,c);let P=0,D=0;for(let Q=h.length-1;Q>=0;Q--)D*=9,D+=h[Q],P+=h[Q];let z=0,G=0;for(let Q=m.length-1;Q>=0;Q--)z*=9,z+=m[Q],G+=m[Q];let Z=D+3*z;if(i){if(P&1||P>12||P<4)throw new ee;let Q=(12-P)/2,se=Tt.OUTSIDE_ODD_WIDEST[Q],be=9-se,Ae=En.getRSSvalue(h,se,!1),xe=En.getRSSvalue(m,be,!0),Ct=Tt.OUTSIDE_EVEN_TOTAL_SUBSET[Q],lt=Tt.OUTSIDE_GSUM[Q];return new Nr(Ae*Ct+xe+lt,Z)}else{if(G&1||G>10||G<4)throw new ee;let Q=(10-G)/2,se=Tt.INSIDE_ODD_WIDEST[Q],be=9-se,Ae=En.getRSSvalue(h,se,!0),xe=En.getRSSvalue(m,be,!1),Ct=Tt.INSIDE_ODD_TOTAL_SUBSET[Q],lt=Tt.INSIDE_GSUM[Q];return new Nr(xe*Ct+Ae+lt,Z)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=e.getSize(),c=!1,u=0;for(;u<l&&(c=!e.get(u),n!==c);)u++;let h=0,m=u;for(let v=u;v<l;v++)if(e.get(v)!==c)i[h]++;else{if(h===3){if(sn.isFinderPattern(i))return[m,v];m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,c=!c}throw new ee}parseFoundFinderPattern(e,n,i,l){let c=e.get(l[0]),u=l[0]-1;for(;u>=0&&c!==e.get(u);)u--;u++;const h=l[0]-u,m=this.getDecodeFinderCounters(),v=new Int32Array(m.length);F.arraycopy(m,0,v,1,m.length-1),v[0]=h;const N=this.parseFinderValue(v,Tt.FINDER_PATTERNS);let P=u,D=l[1];return i&&(P=e.getSize()-1-P,D=e.getSize()-1-D),new ti(N,[u,l[1]],P,D,n)}adjustOddEvenCounts(e,n){let i=ut.sum(new Int32Array(this.getOddCounts())),l=ut.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1,h=!1,m=!1;e?(i>12?u=!0:i<4&&(c=!0),l>12?m=!0:l<4&&(h=!0)):(i>11?u=!0:i<5&&(c=!0),l>10?m=!0:l<4&&(h=!0));let v=i+l-n,N=(i&1)===(e?1:0),P=(l&1)===1;if(v===1)if(N){if(P)throw new ee;u=!0}else{if(!P)throw new ee;m=!0}else if(v===-1)if(N){if(P)throw new ee;c=!0}else{if(!P)throw new ee;h=!0}else if(v===0){if(N){if(!P)throw new ee;i<l?(c=!0,m=!0):(u=!0,h=!0)}else if(P)throw new ee}else throw new ee;if(c){if(u)throw new ee;sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new ee;sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Tt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Tt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Tt.OUTSIDE_GSUM=[0,161,961,2015,2715],Tt.INSIDE_GSUM=[0,336,1036,1516],Tt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Tt.INSIDE_ODD_WIDEST=[2,4,6,8],Tt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class sr extends _t{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const i=e?e.get(le.POSSIBLE_FORMATS):null,l=e&&e.get(le.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(we.EAN_13)||i.includes(we.UPC_A)||i.includes(we.EAN_8)||i.includes(we.UPC_E))&&this.readers.push(new ji(e)),i.includes(we.CODE_39)&&this.readers.push(new Vt(l)),i.includes(we.CODE_128)&&this.readers.push(new Se),i.includes(we.ITF)&&this.readers.push(new It),i.includes(we.RSS_14)&&this.readers.push(new Tt),i.includes(we.RSS_EXPANDED)&&this.readers.push(new pe(this.verbose))):(this.readers.push(new ji(e)),this.readers.push(new Vt),this.readers.push(new ji(e)),this.readers.push(new Se),this.readers.push(new It),this.readers.push(new Tt),this.readers.push(new pe(this.verbose)))}decodeRow(e,n,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,i)}catch{}throw new ee}reset(){this.readers.forEach(e=>e.reset())}}class Fo extends Ee{constructor(e=500,n){super(new sr(n),e,n)}}class bt{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ft{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nt{constructor(e,n,i,l,c,u){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=u;let h=0;const m=u.getECCodewords(),v=u.getECBlocks();for(let N of v)h+=N.getCount()*(N.getDataCodewords()+m);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new X;for(let i of Nt.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new Nt(1,10,10,8,8,new bt(5,new ft(1,3))),new Nt(2,12,12,10,10,new bt(7,new ft(1,5))),new Nt(3,14,14,12,12,new bt(10,new ft(1,8))),new Nt(4,16,16,14,14,new bt(12,new ft(1,12))),new Nt(5,18,18,16,16,new bt(14,new ft(1,18))),new Nt(6,20,20,18,18,new bt(18,new ft(1,22))),new Nt(7,22,22,20,20,new bt(20,new ft(1,30))),new Nt(8,24,24,22,22,new bt(24,new ft(1,36))),new Nt(9,26,26,24,24,new bt(28,new ft(1,44))),new Nt(10,32,32,14,14,new bt(36,new ft(1,62))),new Nt(11,36,36,16,16,new bt(42,new ft(1,86))),new Nt(12,40,40,18,18,new bt(48,new ft(1,114))),new Nt(13,44,44,20,20,new bt(56,new ft(1,144))),new Nt(14,48,48,22,22,new bt(68,new ft(1,174))),new Nt(15,52,52,24,24,new bt(42,new ft(2,102))),new Nt(16,64,64,14,14,new bt(56,new ft(2,140))),new Nt(17,72,72,16,16,new bt(36,new ft(4,92))),new Nt(18,80,80,18,18,new bt(48,new ft(4,114))),new Nt(19,88,88,20,20,new bt(56,new ft(4,144))),new Nt(20,96,96,22,22,new bt(68,new ft(4,174))),new Nt(21,104,104,24,24,new bt(56,new ft(6,136))),new Nt(22,120,120,18,18,new bt(68,new ft(6,175))),new Nt(23,132,132,20,20,new bt(62,new ft(8,163))),new Nt(24,144,144,22,22,new bt(62,new ft(8,156),new ft(2,155))),new Nt(25,8,18,6,16,new bt(7,new ft(1,5))),new Nt(26,8,32,6,14,new bt(11,new ft(1,10))),new Nt(27,12,26,10,24,new bt(14,new ft(1,16))),new Nt(28,12,36,10,16,new bt(18,new ft(1,22))),new Nt(29,16,36,14,16,new bt(24,new ft(1,32))),new Nt(30,16,48,14,22,new bt(28,new ft(1,49)))]}}Nt.VERSIONS=Nt.buildVersions();class or{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new X;this.version=or.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new De(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return Nt.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,l=0;const c=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let h=!1,m=!1,v=!1,N=!1;do if(i===c&&l===0&&!h)e[n++]=this.readCorner1(c,u)&255,i-=2,l+=2,h=!0;else if(i===c-2&&l===0&&u&3&&!m)e[n++]=this.readCorner2(c,u)&255,i-=2,l+=2,m=!0;else if(i===c+4&&l===2&&!(u&7)&&!v)e[n++]=this.readCorner3(c,u)&255,i-=2,l+=2,v=!0;else if(i===c-2&&l===0&&(u&7)===4&&!N)e[n++]=this.readCorner4(c,u)&255,i-=2,l+=2,N=!0;else{do i<c&&l>=0&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,c,u)&255),i-=2,l+=2;while(i>=0&&l<u);i+=1,l+=3;do i>=0&&l<u&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,c,u)&255),i+=2,l-=2;while(i<c&&l>=0);i+=3,l+=1}while(i<c||l<u);if(n!==this.version.getTotalCodewords())throw new X;return e}readModule(e,n,i,l){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,l){let c=0;return this.readModule(e-2,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e-2,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n,i,l)&&(c|=1),c<<=1,this.readModule(e,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e,n,i,l)&&(c|=1),c}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new T("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),u=n/l|0,h=i/c|0,m=u*l,v=h*c,N=new De(v,m);for(let P=0;P<u;++P){const D=P*l;for(let z=0;z<h;++z){const G=z*c;for(let Z=0;Z<l;++Z){const Q=P*(l+2)+1+Z,se=D+Z;for(let be=0;be<c;++be){const Ae=z*(c+2)+1+be;if(e.get(Ae,Q)){const xe=G+be;N.set(xe,se)}}}}}return N}}class jo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let l=0;const c=i.getECBlocks();for(let Z of c)l+=Z.getCount();const u=new Array(l);let h=0;for(let Z of c)for(let Q=0;Q<Z.getCount();Q++){const se=Z.getDataCodewords(),be=i.getECCodewords()+se;u[h++]=new jo(se,new Uint8Array(be))}const v=u[0].codewords.length-i.getECCodewords(),N=v-1;let P=0;for(let Z=0;Z<N;Z++)for(let Q=0;Q<h;Q++)u[Q].codewords[Z]=e[P++];const D=n.getVersionNumber()===24,z=D?8:h;for(let Z=0;Z<z;Z++)u[Z].codewords[v-1]=e[P++];const G=u[0].codewords.length;for(let Z=v;Z<G;Z++)for(let Q=0;Q<h;Q++){const se=D?(Q+8)%h:Q,be=D&&se>7?Z-1:Z;u[se].codewords[be]=e[P++]}if(P!==e.length)throw new T;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Vo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new T(""+e);let n=0,i=this.bitOffset,l=this.byteOffset;const c=this.bytes;if(i>0){const u=8-i,h=e<u?e:u,m=u-h,v=255>>8-h<<m;n=(c[l]&v)>>m,e-=h,i+=h,i===8&&(i=0,l++)}if(e>0){for(;e>=8;)n=n<<8|c[l]&255,l++,e-=8;if(e>0){const u=8-e,h=255>>u<<u;n=n<<e|(c[l]&h)>>u,i+=e}}return this.bitOffset=i,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var xn;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(xn||(xn={}));class yr{static decode(e){const n=new Vo(e),i=new ke,l=new ke,c=new Array;let u=xn.ASCII_ENCODE;do if(u===xn.ASCII_ENCODE)u=this.decodeAsciiSegment(n,i,l);else{switch(u){case xn.C40_ENCODE:this.decodeC40Segment(n,i);break;case xn.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case xn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case xn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case xn.BASE256_ENCODE:this.decodeBase256Segment(n,i,c);break;default:throw new X}u=xn.ASCII_ENCODE}while(u!==xn.PAD_ENCODE&&n.available()>0);return l.length()>0&&i.append(l.toString()),new mt(e,i.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(e,n,i){let l=!1;do{let c=e.readBits(8);if(c===0)throw new X;if(c<=128)return l&&(c+=128),n.append(String.fromCharCode(c-1)),xn.ASCII_ENCODE;if(c===129)return xn.PAD_ENCODE;if(c<=229){const u=c-130;u<10&&n.append("0"),n.append(""+u)}else switch(c){case 230:return xn.C40_ENCODE;case 231:return xn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return xn.ANSIX12_ENCODE;case 239:return xn.TEXT_ENCODE;case 240:return xn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||e.available()!==0)throw new X;break}}while(e.available()>0);return xn.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const l=[];let c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(c){case 0:if(m<3)c=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else throw new X;break;case 1:i?(n.append(String.fromCharCode(m+128)),i=!1):n.append(String.fromCharCode(m)),c=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else switch(m){case 27:n.append("");break;case 30:i=!0;break;default:throw new X}c=0;break;case 3:i?(n.append(String.fromCharCode(m+224)),i=!1):n.append(String.fromCharCode(m+96)),c=0;break;default:throw new X}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,l=[],c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(c){case 0:if(m<3)c=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else throw new X;break;case 1:i?(n.append(String.fromCharCode(m+128)),i=!1):n.append(String.fromCharCode(m)),c=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else switch(m){case 27:n.append("");break;case 30:i=!0;break;default:throw new X}c=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v),c=0}else throw new X;break;default:throw new X}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(u){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(u<14)n.append(String.fromCharCode(u+44));else if(u<40)n.append(String.fromCharCode(u+51));else throw new X;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let l=(e<<8)+n-1,c=Math.floor(l/1600);i[0]=c,l-=c*1600,c=Math.floor(l/40),i[1]=c,i[2]=l-c*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let l=e.readBits(6);if(l===31){const c=8-e.getBitOffset();c!==8&&e.readBits(c);return}l&32||(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let l=1+e.getByteOffset();const c=this.unrandomize255State(e.readBits(8),l++);let u;if(c===0?u=e.available()/8|0:c<250?u=c:u=250*(c-249)+this.unrandomize255State(e.readBits(8),l++),u<0)throw new X;const h=new Uint8Array(u);for(let m=0;m<u;m++){if(e.available()<8)throw new X;h[m]=this.unrandomize255State(e.readBits(8),l++)}i.push(h);try{n.append(Le.decode(h,Te.ISO88591))}catch(m){throw new Bt("Platform does not support required encoding: "+m.message)}}static unrandomize255State(e,n){const i=149*n%255+1,l=e-i;return l>=0?l:l+256}}yr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],yr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],yr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],yr.TEXT_SHIFT2_SET_CHARS=yr.C40_SHIFT2_SET_CHARS,yr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Js{constructor(){this.rsDecoder=new Ht(Oe.DATA_MATRIX_FIELD_256)}decode(e){const n=new or(e),i=n.getVersion(),l=n.readCodewords(),c=jo.getDataBlocks(l,i);let u=0;for(let v of c)u+=v.getNumDataCodewords();const h=new Uint8Array(u),m=c.length;for(let v=0;v<m;v++){const N=c[v],P=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(P,D);for(let z=0;z<D;z++)h[z*m+v]=P[z]}return yr.decode(h)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new M}for(let l=0;l<n;l++)e[l]=i[l]}}class Yt{constructor(e){this.image=e,this.rectangleDetector=new ve(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new ee;n=this.shiftToModuleCenter(n);const i=n[0],l=n[1],c=n[2],u=n[3];let h=this.transitionsBetween(i,u)+1,m=this.transitionsBetween(c,u)+1;(h&1)===1&&(h+=1),(m&1)===1&&(m+=1),4*h<7*m&&4*m<7*h&&(h=m=Math.max(h,m));let v=Yt.sampleGrid(this.image,i,l,c,u,h,m);return new Mn(v,[i,l,c,u])}static shiftPoint(e,n,i){let l=(n.getX()-e.getX())/(i+1),c=(n.getY()-e.getY())/(i+1);return new Ne(e.getX()+l,e.getY()+c)}static moveAway(e,n,i){let l=e.getX(),c=e.getY();return l<n?l-=1:l+=1,c<i?c-=1:c+=1,new Ne(l,c)}detectSolid1(e){let n=e[0],i=e[1],l=e[3],c=e[2],u=this.transitionsBetween(n,i),h=this.transitionsBetween(i,l),m=this.transitionsBetween(l,c),v=this.transitionsBetween(c,n),N=u,P=[c,n,i,l];return N>h&&(N=h,P[0]=n,P[1]=i,P[2]=l,P[3]=c),N>m&&(N=m,P[0]=i,P[1]=l,P[2]=c,P[3]=n),N>v&&(P[0]=l,P[1]=c,P[2]=n,P[3]=i),P}detectSolid2(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=Yt.shiftPoint(i,l,(u+1)*4),m=Yt.shiftPoint(l,i,(u+1)*4),v=this.transitionsBetween(h,n),N=this.transitionsBetween(m,c);return v<N?(e[0]=n,e[1]=i,e[2]=l,e[3]=c):(e[0]=i,e[1]=l,e[2]=c,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=this.transitionsBetween(i,c),m=Yt.shiftPoint(n,i,(h+1)*4),v=Yt.shiftPoint(l,i,(u+1)*4);u=this.transitionsBetween(m,c),h=this.transitionsBetween(v,c);let N=new Ne(c.getX()+(l.getX()-i.getX())/(u+1),c.getY()+(l.getY()-i.getY())/(u+1)),P=new Ne(c.getX()+(n.getX()-i.getX())/(h+1),c.getY()+(n.getY()-i.getY())/(h+1));if(!this.isValid(N))return this.isValid(P)?P:null;if(!this.isValid(P))return N;let D=this.transitionsBetween(m,N)+this.transitionsBetween(v,N),z=this.transitionsBetween(m,P)+this.transitionsBetween(v,P);return D>z?N:P}shiftToModuleCenter(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c)+1,h=this.transitionsBetween(l,c)+1,m=Yt.shiftPoint(n,i,h*4),v=Yt.shiftPoint(l,i,u*4);u=this.transitionsBetween(m,c)+1,h=this.transitionsBetween(v,c)+1,(u&1)===1&&(u+=1),(h&1)===1&&(h+=1);let N=(n.getX()+i.getX()+l.getX()+c.getX())/4,P=(n.getY()+i.getY()+l.getY()+c.getY())/4;n=Yt.moveAway(n,N,P),i=Yt.moveAway(i,N,P),l=Yt.moveAway(l,N,P),c=Yt.moveAway(c,N,P);let D,z;return m=Yt.shiftPoint(n,i,h*4),m=Yt.shiftPoint(m,c,u*4),D=Yt.shiftPoint(i,n,h*4),D=Yt.shiftPoint(D,l,u*4),v=Yt.shiftPoint(l,c,h*4),v=Yt.shiftPoint(v,i,u*4),z=Yt.shiftPoint(c,l,h*4),z=Yt.shiftPoint(z,n,u*4),[m,D,v,z]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,l,c,u,h){return yt.getInstance().sampleGrid(e,u,h,.5,.5,u-.5,.5,u-.5,h-.5,.5,h-.5,n.getX(),n.getY(),c.getX(),c.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),l=Math.trunc(e.getY()),c=Math.trunc(n.getX()),u=Math.trunc(n.getY()),h=Math.abs(u-l)>Math.abs(c-i);if(h){let Z=i;i=l,l=Z,Z=c,c=u,u=Z}let m=Math.abs(c-i),v=Math.abs(u-l),N=-m/2,P=l<u?1:-1,D=i<c?1:-1,z=0,G=this.image.get(h?l:i,h?i:l);for(let Z=i,Q=l;Z!==c;Z+=D){let se=this.image.get(h?Q:Z,h?Z:Q);if(se!==G&&(z++,G=se),N+=v,N>0){if(Q===u)break;Q+=P,N-=m}}return z}}class wr{constructor(){this.decoder=new Js}decode(e,n=null){let i,l;if(n!=null&&n.has(le.PURE_BARCODE)){const v=wr.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(v),l=wr.NO_POINTS}else{const v=new Yt(e.getBlackMatrix()).detect();i=this.decoder.decode(v.getBits()),l=v.getPoints()}const c=i.getRawBytes(),u=new Ve(i.getText(),c,8*c.length,l,we.DATA_MATRIX,F.currentTimeMillis()),h=i.getByteSegments();h!=null&&u.putMetadata(Ue.BYTE_SEGMENTS,h);const m=i.getECLevel();return m!=null&&u.putMetadata(Ue.ERROR_CORRECTION_LEVEL,m),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new ee;const l=this.moduleSize(n,e);let c=n[1];const u=i[1];let h=n[0];const v=(i[0]-h+1)/l,N=(u-c+1)/l;if(v<=0||N<=0)throw new ee;const P=l/2;c+=P,h+=P;const D=new De(v,N);for(let z=0;z<N;z++){const G=c+z*l;for(let Z=0;Z<v;Z++)e.get(h+Z*l,G)&&D.set(Z,z)}return D}static moduleSize(e,n){const i=n.getWidth();let l=e[0];const c=e[1];for(;l<i&&n.get(l,c);)l++;if(l===i)throw new ee;const u=l-e[0];if(u===0)throw new ee;return u}}wr.NO_POINTS=[];class Bc extends Ee{constructor(e=500){super(new wr,e)}}var zi;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(zi||(zi={}));class zt{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,zt.FOR_BITS.set(i,this),zt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return zt.L;case"M":return zt.M;case"Q":return zt.Q;case"H":return zt.H;default:throw new S(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof zt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=zt.FOR_BITS.size)throw new T;return zt.FOR_BITS.get(e)}}zt.FOR_BITS=new Map,zt.FOR_VALUE=new Map,zt.L=new zt(zi.L,"L",1),zt.M=new zt(zi.M,"M",0),zt.Q=new zt(zi.Q,"Q",3),zt.H=new zt(zi.H,"H",2);class Tn{constructor(e){this.errorCorrectionLevel=zt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return U.bitCount(e^n)}static decodeFormatInformation(e,n){const i=Tn.doDecodeFormatInformation(e,n);return i!==null?i:Tn.doDecodeFormatInformation(e^Tn.FORMAT_INFO_MASK_QR,n^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,l=0;for(const c of Tn.FORMAT_INFO_DECODE_LOOKUP){const u=c[0];if(u===e||u===n)return new Tn(c[1]);let h=Tn.numBitsDiffering(e,u);h<i&&(l=c[1],i=h),e!==n&&(h=Tn.numBitsDiffering(n,u),h<i&&(l=c[1],i=h))}return i<=3?new Tn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Tn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class te{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let l=0;const c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const h of u)l+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new X;try{return this.getVersionForNumber((e-17)/4)}catch{throw new X}}static getVersionForNumber(e){if(e<1||e>40)throw new T;return Ye.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<Ye.VERSION_DECODE_INFO.length;l++){const c=Ye.VERSION_DECODE_INFO[l];if(c===e)return Ye.getVersionForNumber(l+7);const u=Tn.numBitsDiffering(e,c);u<n&&(i=l+7,n=u)}return n<=3?Ye.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new De(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const c=this.alignmentPatternCenters[l]-2;for(let u=0;u<i;u++)l===0&&(u===0||u===i-1)||l===i-1&&u===0||n.setRegion(this.alignmentPatternCenters[u]-2,c,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new te(7,new j(1,19)),new te(10,new j(1,16)),new te(13,new j(1,13)),new te(17,new j(1,9))),new Ye(2,Int32Array.from([6,18]),new te(10,new j(1,34)),new te(16,new j(1,28)),new te(22,new j(1,22)),new te(28,new j(1,16))),new Ye(3,Int32Array.from([6,22]),new te(15,new j(1,55)),new te(26,new j(1,44)),new te(18,new j(2,17)),new te(22,new j(2,13))),new Ye(4,Int32Array.from([6,26]),new te(20,new j(1,80)),new te(18,new j(2,32)),new te(26,new j(2,24)),new te(16,new j(4,9))),new Ye(5,Int32Array.from([6,30]),new te(26,new j(1,108)),new te(24,new j(2,43)),new te(18,new j(2,15),new j(2,16)),new te(22,new j(2,11),new j(2,12))),new Ye(6,Int32Array.from([6,34]),new te(18,new j(2,68)),new te(16,new j(4,27)),new te(24,new j(4,19)),new te(28,new j(4,15))),new Ye(7,Int32Array.from([6,22,38]),new te(20,new j(2,78)),new te(18,new j(4,31)),new te(18,new j(2,14),new j(4,15)),new te(26,new j(4,13),new j(1,14))),new Ye(8,Int32Array.from([6,24,42]),new te(24,new j(2,97)),new te(22,new j(2,38),new j(2,39)),new te(22,new j(4,18),new j(2,19)),new te(26,new j(4,14),new j(2,15))),new Ye(9,Int32Array.from([6,26,46]),new te(30,new j(2,116)),new te(22,new j(3,36),new j(2,37)),new te(20,new j(4,16),new j(4,17)),new te(24,new j(4,12),new j(4,13))),new Ye(10,Int32Array.from([6,28,50]),new te(18,new j(2,68),new j(2,69)),new te(26,new j(4,43),new j(1,44)),new te(24,new j(6,19),new j(2,20)),new te(28,new j(6,15),new j(2,16))),new Ye(11,Int32Array.from([6,30,54]),new te(20,new j(4,81)),new te(30,new j(1,50),new j(4,51)),new te(28,new j(4,22),new j(4,23)),new te(24,new j(3,12),new j(8,13))),new Ye(12,Int32Array.from([6,32,58]),new te(24,new j(2,92),new j(2,93)),new te(22,new j(6,36),new j(2,37)),new te(26,new j(4,20),new j(6,21)),new te(28,new j(7,14),new j(4,15))),new Ye(13,Int32Array.from([6,34,62]),new te(26,new j(4,107)),new te(22,new j(8,37),new j(1,38)),new te(24,new j(8,20),new j(4,21)),new te(22,new j(12,11),new j(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new te(30,new j(3,115),new j(1,116)),new te(24,new j(4,40),new j(5,41)),new te(20,new j(11,16),new j(5,17)),new te(24,new j(11,12),new j(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new te(22,new j(5,87),new j(1,88)),new te(24,new j(5,41),new j(5,42)),new te(30,new j(5,24),new j(7,25)),new te(24,new j(11,12),new j(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new te(24,new j(5,98),new j(1,99)),new te(28,new j(7,45),new j(3,46)),new te(24,new j(15,19),new j(2,20)),new te(30,new j(3,15),new j(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new te(28,new j(1,107),new j(5,108)),new te(28,new j(10,46),new j(1,47)),new te(28,new j(1,22),new j(15,23)),new te(28,new j(2,14),new j(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new te(30,new j(5,120),new j(1,121)),new te(26,new j(9,43),new j(4,44)),new te(28,new j(17,22),new j(1,23)),new te(28,new j(2,14),new j(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new te(28,new j(3,113),new j(4,114)),new te(26,new j(3,44),new j(11,45)),new te(26,new j(17,21),new j(4,22)),new te(26,new j(9,13),new j(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new te(28,new j(3,107),new j(5,108)),new te(26,new j(3,41),new j(13,42)),new te(30,new j(15,24),new j(5,25)),new te(28,new j(15,15),new j(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new te(28,new j(4,116),new j(4,117)),new te(26,new j(17,42)),new te(28,new j(17,22),new j(6,23)),new te(30,new j(19,16),new j(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new te(28,new j(2,111),new j(7,112)),new te(28,new j(17,46)),new te(30,new j(7,24),new j(16,25)),new te(24,new j(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new te(30,new j(4,121),new j(5,122)),new te(28,new j(4,47),new j(14,48)),new te(30,new j(11,24),new j(14,25)),new te(30,new j(16,15),new j(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new te(30,new j(6,117),new j(4,118)),new te(28,new j(6,45),new j(14,46)),new te(30,new j(11,24),new j(16,25)),new te(30,new j(30,16),new j(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new te(26,new j(8,106),new j(4,107)),new te(28,new j(8,47),new j(13,48)),new te(30,new j(7,24),new j(22,25)),new te(30,new j(22,15),new j(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new te(28,new j(10,114),new j(2,115)),new te(28,new j(19,46),new j(4,47)),new te(28,new j(28,22),new j(6,23)),new te(30,new j(33,16),new j(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new te(30,new j(8,122),new j(4,123)),new te(28,new j(22,45),new j(3,46)),new te(30,new j(8,23),new j(26,24)),new te(30,new j(12,15),new j(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new te(30,new j(3,117),new j(10,118)),new te(28,new j(3,45),new j(23,46)),new te(30,new j(4,24),new j(31,25)),new te(30,new j(11,15),new j(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new te(30,new j(7,116),new j(7,117)),new te(28,new j(21,45),new j(7,46)),new te(30,new j(1,23),new j(37,24)),new te(30,new j(19,15),new j(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new te(30,new j(5,115),new j(10,116)),new te(28,new j(19,47),new j(10,48)),new te(30,new j(15,24),new j(25,25)),new te(30,new j(23,15),new j(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new te(30,new j(13,115),new j(3,116)),new te(28,new j(2,46),new j(29,47)),new te(30,new j(42,24),new j(1,25)),new te(30,new j(23,15),new j(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new te(30,new j(17,115)),new te(28,new j(10,46),new j(23,47)),new te(30,new j(10,24),new j(35,25)),new te(30,new j(19,15),new j(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new te(30,new j(17,115),new j(1,116)),new te(28,new j(14,46),new j(21,47)),new te(30,new j(29,24),new j(19,25)),new te(30,new j(11,15),new j(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new te(30,new j(13,115),new j(6,116)),new te(28,new j(14,46),new j(23,47)),new te(30,new j(44,24),new j(7,25)),new te(30,new j(59,16),new j(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new te(30,new j(12,121),new j(7,122)),new te(28,new j(12,47),new j(26,48)),new te(30,new j(39,24),new j(14,25)),new te(30,new j(22,15),new j(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new te(30,new j(6,121),new j(14,122)),new te(28,new j(6,47),new j(34,48)),new te(30,new j(46,24),new j(10,25)),new te(30,new j(2,15),new j(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new te(30,new j(17,122),new j(4,123)),new te(28,new j(29,46),new j(14,47)),new te(30,new j(49,24),new j(10,25)),new te(30,new j(24,15),new j(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new te(30,new j(4,122),new j(18,123)),new te(28,new j(13,46),new j(32,47)),new te(30,new j(48,24),new j(14,25)),new te(30,new j(42,15),new j(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new te(30,new j(20,117),new j(4,118)),new te(28,new j(40,47),new j(7,48)),new te(30,new j(43,24),new j(22,25)),new te(30,new j(10,15),new j(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new te(30,new j(19,118),new j(6,119)),new te(28,new j(18,47),new j(31,48)),new te(30,new j(34,24),new j(34,25)),new te(30,new j(20,15),new j(61,16)))];var dn;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(dn||(dn={}));class xt{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let l=0;l<n;l++)this.isMasked(i,l)&&e.flip(l,i)}}xt.values=new Map([[dn.DATA_MASK_000,new xt(dn.DATA_MASK_000,(k,e)=>(k+e&1)===0)],[dn.DATA_MASK_001,new xt(dn.DATA_MASK_001,(k,e)=>(k&1)===0)],[dn.DATA_MASK_010,new xt(dn.DATA_MASK_010,(k,e)=>e%3===0)],[dn.DATA_MASK_011,new xt(dn.DATA_MASK_011,(k,e)=>(k+e)%3===0)],[dn.DATA_MASK_100,new xt(dn.DATA_MASK_100,(k,e)=>(Math.floor(k/2)+Math.floor(e/3)&1)===0)],[dn.DATA_MASK_101,new xt(dn.DATA_MASK_101,(k,e)=>k*e%6===0)],[dn.DATA_MASK_110,new xt(dn.DATA_MASK_110,(k,e)=>k*e%6<3)],[dn.DATA_MASK_111,new xt(dn.DATA_MASK_111,(k,e)=>(k+e+k*e%3&1)===0)]]);class qa{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new X;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let c=0;c<6;c++)e=this.copyBit(c,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let c=5;c>=0;c--)e=this.copyBit(8,c,e);const n=this.bitMatrix.getHeight();let i=0;const l=n-7;for(let c=n-1;c>=l;c--)i=this.copyBit(8,c,i);for(let c=n-8;c<n;c++)i=this.copyBit(c,8,i);if(this.parsedFormatInfo=Tn.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Ye.getVersionForNumber(n);let i=0;const l=e-11;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)i=this.copyBit(h,u,i);let c=Ye.decodeVersionInformation(i);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;i=0;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)i=this.copyBit(u,h,i);if(c=Ye.decodeVersionInformation(i),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new X}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=xt.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const c=n.buildFunctionPattern();let u=!0;const h=new Uint8Array(n.getTotalCodewords());let m=0,v=0,N=0;for(let P=l-1;P>0;P-=2){P===6&&P--;for(let D=0;D<l;D++){const z=u?l-1-D:D;for(let G=0;G<2;G++)c.get(P-G,z)||(N++,v<<=1,this.bitMatrix.get(P-G,z)&&(v|=1),N===8&&(h[m++]=v,N=0,v=0))}u=!u}if(m!==n.getTotalCodewords())throw new X;return h}remask(){if(this.parsedFormatInfo===null)return;const e=xt.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let l=n+1,c=e.getHeight();l<c;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class eo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new T;const l=n.getECBlocksForLevel(i);let c=0;const u=l.getECBlocks();for(const G of u)c+=G.getCount();const h=new Array(c);let m=0;for(const G of u)for(let Z=0;Z<G.getCount();Z++){const Q=G.getDataCodewords(),se=l.getECCodewordsPerBlock()+Q;h[m++]=new eo(Q,new Uint8Array(se))}const v=h[0].codewords.length;let N=h.length-1;for(;N>=0&&h[N].codewords.length!==v;)N--;N++;const P=v-l.getECCodewordsPerBlock();let D=0;for(let G=0;G<P;G++)for(let Z=0;Z<m;Z++)h[Z].codewords[G]=e[D++];for(let G=N;G<m;G++)h[G].codewords[P]=e[D++];const z=h[0].codewords.length;for(let G=P;G<z;G++)for(let Z=0;Z<m;Z++){const Q=Z<N?G:G+1;h[Z].codewords[Q]=e[D++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zn;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(Zn||(Zn={}));class Ke{constructor(e,n,i,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=l,Ke.FOR_BITS.set(l,this),Ke.FOR_VALUE.set(e,this)}static forBits(e){const n=Ke.FOR_BITS.get(e);if(n===void 0)throw new T;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ke))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.TERMINATOR=new Ke(Zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ke.NUMERIC=new Ke(Zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ke.ALPHANUMERIC=new Ke(Zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ke.STRUCTURED_APPEND=new Ke(Zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ke.BYTE=new Ke(Zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ke.ECI=new Ke(Zn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ke.KANJI=new Ke(Zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ke.FNC1_FIRST_POSITION=new Ke(Zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ke.FNC1_SECOND_POSITION=new Ke(Zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ke.HANZI=new Ke(Zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Kt{static decode(e,n,i,l){const c=new Vo(e);let u=new ke;const h=new Array;let m=-1,v=-1;try{let N=null,P=!1,D;do{if(c.available()<4)D=Ke.TERMINATOR;else{const z=c.readBits(4);D=Ke.forBits(z)}switch(D){case Ke.TERMINATOR:break;case Ke.FNC1_FIRST_POSITION:case Ke.FNC1_SECOND_POSITION:P=!0;break;case Ke.STRUCTURED_APPEND:if(c.available()<16)throw new X;m=c.readBits(8),v=c.readBits(8);break;case Ke.ECI:const z=Kt.parseECIValue(c);if(N=q.getCharacterSetECIByValue(z),N===null)throw new X;break;case Ke.HANZI:const G=c.readBits(4),Z=c.readBits(D.getCharacterCountBits(n));G===Kt.GB2312_SUBSET&&Kt.decodeHanziSegment(c,u,Z);break;default:const Q=c.readBits(D.getCharacterCountBits(n));switch(D){case Ke.NUMERIC:Kt.decodeNumericSegment(c,u,Q);break;case Ke.ALPHANUMERIC:Kt.decodeAlphanumericSegment(c,u,Q,P);break;case Ke.BYTE:Kt.decodeByteSegment(c,u,Q,N,h,l);break;case Ke.KANJI:Kt.decodeKanjiSegment(c,u,Q);break;default:throw new X}break}}while(D!==Ke.TERMINATOR)}catch{throw new X}return new mt(e,u.toString(),h.length===0?null:h,i===null?null:i.toString(),m,v)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new X;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const u=e.readBits(13);let h=u/96<<8&4294967295|u%96;h<959?h+=41377:h+=42657,l[c]=h>>8&255,l[c+1]=h&255,c+=2,i--}try{n.append(Le.decode(l,Te.GB2312))}catch(u){throw new X(u)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new X;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const u=e.readBits(13);let h=u/192<<8&4294967295|u%192;h<7936?h+=33088:h+=49472,l[c]=h>>8,l[c+1]=h,c+=2,i--}try{n.append(Le.decode(l,Te.SHIFT_JIS))}catch(u){throw new X(u)}}static decodeByteSegment(e,n,i,l,c,u){if(8*i>e.available())throw new X;const h=new Uint8Array(i);for(let v=0;v<i;v++)h[v]=e.readBits(8);let m;l===null?m=Te.guessEncoding(h,u):m=l.getName();try{n.append(Le.decode(h,m))}catch(v){throw new X(v)}c.push(h)}static toAlphaNumericChar(e){if(e>=Kt.ALPHANUMERIC_CHARS.length)throw new X;return Kt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,l){const c=n.length();for(;i>1;){if(e.available()<11)throw new X;const u=e.readBits(11);n.append(Kt.toAlphaNumericChar(Math.floor(u/45))),n.append(Kt.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(e.available()<6)throw new X;n.append(Kt.toAlphaNumericChar(e.readBits(6)))}if(l)for(let u=c;u<n.length();u++)n.charAt(u)==="%"&&(u<n.length()-1&&n.charAt(u+1)==="%"?n.deleteCharAt(u+1):n.setCharAt(u,""))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new X;const l=e.readBits(10);if(l>=1e3)throw new X;n.append(Kt.toAlphaNumericChar(Math.floor(l/100))),n.append(Kt.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(Kt.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(e.available()<7)throw new X;const l=e.readBits(7);if(l>=100)throw new X;n.append(Kt.toAlphaNumericChar(Math.floor(l/10))),n.append(Kt.toAlphaNumericChar(l%10))}else if(i===1){if(e.available()<4)throw new X;const l=e.readBits(4);if(l>=10)throw new X;n.append(Kt.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new X}}Kt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Kt.GB2312_SUBSET=1;class zo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Uo{constructor(){this.rsDecoder=new Ht(Oe.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(De.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new qa(e);let l=null;try{return this.decodeBitMatrixParser(i,n)}catch(c){l=c}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const c=this.decodeBitMatrixParser(i,n);return c.setOther(new zo(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(e,n){const i=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=eo.getDataBlocks(c,i,l);let h=0;for(const N of u)h+=N.getNumDataCodewords();const m=new Uint8Array(h);let v=0;for(const N of u){const P=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(P,D);for(let z=0;z<D;z++)m[v++]=P[z]}return Kt.decode(m,i,l,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new M}for(let l=0;l<n;l++)e[l]=i[l]}}class Ui extends Ne{constructor(e,n,i){super(e,n),this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=(this.getX()+n)/2,c=(this.getY()+e)/2,u=(this.estimatedModuleSize+i)/2;return new Ui(l,c,u)}}class vr{constructor(e,n,i,l,c,u,h){this.image=e,this.startX=n,this.startY=i,this.width=l,this.height=c,this.moduleSize=u,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,l=e+i,c=this.startY+n/2,u=new Int32Array(3),h=this.image;for(let m=0;m<n;m++){const v=c+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));u[0]=0,u[1]=0,u[2]=0;let N=e;for(;N<l&&!h.get(N,v);)N++;let P=0;for(;N<l;){if(h.get(N,v))if(P===1)u[1]++;else if(P===2){if(this.foundPatternCross(u)){const D=this.handlePossibleCenter(u,v,N);if(D!==null)return D}u[0]=u[2],u[1]=1,u[2]=0,P=1}else u[++P]++;else P===1&&P++,u[P]++;N++}if(this.foundPatternCross(u)){const D=this.handlePossibleCenter(u,v,l);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=i)return!1;return!0}crossCheckVertical(e,n,i,l){const c=this.image,u=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let m=e;for(;m>=0&&c.get(n,m)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&!c.get(n,m)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(n,m)&&h[1]<=i;)h[1]++,m++;if(m===u||h[1]>i)return NaN;for(;m<u&&!c.get(n,m)&&h[2]<=i;)h[2]++,m++;if(h[2]>i)return NaN;const v=h[0]+h[1]+h[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(h)?vr.centerFromEnd(h,m):NaN}handlePossibleCenter(e,n,i){const l=e[0]+e[1]+e[2],c=vr.centerFromEnd(e,i),u=this.crossCheckVertical(n,c,2*e[1],l);if(!isNaN(u)){const h=(e[0]+e[1]+e[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(h,u,c))return v.combineEstimate(u,c,h);const m=new Ui(c,u,h);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Rr extends Ne{constructor(e,n,i,l){super(e,n),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=this.count+1,c=(this.count*this.getX()+n)/l,u=(this.count*this.getY()+e)/l,h=(this.count*this.estimatedModuleSize+i)/l;return new Rr(c,u,h,l)}}class ii{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class en{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(le.TRY_HARDER)!==void 0,i=e!=null&&e.get(le.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),u=l.getWidth();let h=Math.floor(3*c/(4*en.MAX_MODULES));(h<en.MIN_SKIP||n)&&(h=en.MIN_SKIP);let m=!1;const v=new Int32Array(5);for(let P=h-1;P<c&&!m;P+=h){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let z=0;z<u;z++)if(l.get(z,P))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(en.foundPatternCross(v)){if(this.handlePossibleCenter(v,P,z,i)===!0)if(h=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const Z=this.findRowSkip();Z>v[2]&&(P+=Z-v[2]-h,z=u-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;en.foundPatternCross(v)&&this.handlePossibleCenter(v,P,u,i)===!0&&(h=v[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return Ne.orderBestPatterns(N),new ii(N)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let c=0;c<5;c++){const u=e[c];if(u===0)return!1;n+=u}if(n<7)return!1;const i=n/7,l=i/2;return Math.abs(i-e[0])<l&&Math.abs(i-e[1])<l&&Math.abs(3*i-e[2])<3*l&&Math.abs(i-e[3])<l&&Math.abs(i-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,l){const c=this.getCrossCheckStateCount();let u=0;const h=this.image;for(;e>=u&&n>=u&&h.get(n-u,e-u);)c[2]++,u++;if(e<u||n<u)return!1;for(;e>=u&&n>=u&&!h.get(n-u,e-u)&&c[1]<=i;)c[1]++,u++;if(e<u||n<u||c[1]>i)return!1;for(;e>=u&&n>=u&&h.get(n-u,e-u)&&c[0]<=i;)c[0]++,u++;if(c[0]>i)return!1;const m=h.getHeight(),v=h.getWidth();for(u=1;e+u<m&&n+u<v&&h.get(n+u,e+u);)c[2]++,u++;if(e+u>=m||n+u>=v)return!1;for(;e+u<m&&n+u<v&&!h.get(n+u,e+u)&&c[3]<i;)c[3]++,u++;if(e+u>=m||n+u>=v||c[3]>=i)return!1;for(;e+u<m&&n+u<v&&h.get(n+u,e+u)&&c[4]<i;)c[4]++,u++;if(c[4]>=i)return!1;const N=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(N-l)<2*l&&en.foundPatternCross(c)}crossCheckVertical(e,n,i,l){const c=this.image,u=c.getHeight(),h=this.getCrossCheckStateCount();let m=e;for(;m>=0&&c.get(n,m);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!c.get(n,m)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&c.get(n,m)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(n,m);)h[2]++,m++;if(m===u)return NaN;for(;m<u&&!c.get(n,m)&&h[3]<i;)h[3]++,m++;if(m===u||h[3]>=i)return NaN;for(;m<u&&c.get(n,m)&&h[4]<i;)h[4]++,m++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=2*l?NaN:en.foundPatternCross(h)?en.centerFromEnd(h,m):NaN}crossCheckHorizontal(e,n,i,l){const c=this.image,u=c.getWidth(),h=this.getCrossCheckStateCount();let m=e;for(;m>=0&&c.get(m,n);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!c.get(m,n)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&c.get(m,n)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(m,n);)h[2]++,m++;if(m===u)return NaN;for(;m<u&&!c.get(m,n)&&h[3]<i;)h[3]++,m++;if(m===u||h[3]>=i)return NaN;for(;m<u&&c.get(m,n)&&h[4]<i;)h[4]++,m++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=l?NaN:en.foundPatternCross(h)?en.centerFromEnd(h,m):NaN}handlePossibleCenter(e,n,i,l){const c=e[0]+e[1]+e[2]+e[3]+e[4];let u=en.centerFromEnd(e,i),h=this.crossCheckVertical(n,Math.floor(u),e[2],c);if(!isNaN(h)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(h),e[2],c),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(u),e[2],c)))){const m=c/7;let v=!1;const N=this.possibleCenters;for(let P=0,D=N.length;P<D;P++){const z=N[P];if(z.aboutEquals(m,h,u)){N[P]=z.combineEstimate(h,u,m),v=!0;break}}if(!v){const P=new Rr(u,h,m);N.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=en.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=en.CENTER_QUORUM&&(e++,n+=u.getEstimatedModuleSize());if(e<3)return!1;const l=n/i;let c=0;for(const u of this.possibleCenters)c+=Math.abs(u.getEstimatedModuleSize()-l);return c<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new ee;const n=this.possibleCenters;let i;if(e>3){let l=0,c=0;for(const m of this.possibleCenters){const v=m.getEstimatedModuleSize();l+=v,c+=v*v}i=l/e;let u=Math.sqrt(c/e-i*i);n.sort((m,v)=>{const N=Math.abs(v.getEstimatedModuleSize()-i),P=Math.abs(m.getEstimatedModuleSize()-i);return N<P?-1:N>P?1:0});const h=Math.max(.2*i,u);for(let m=0;m<n.length&&n.length>3;m++){const v=n[m];Math.abs(v.getEstimatedModuleSize()-i)>h&&(n.splice(m,1),m--)}}if(n.length>3){let l=0;for(const c of n)l+=c.getEstimatedModuleSize();i=l/n.length,n.sort((c,u)=>{if(u.getCount()===c.getCount()){const h=Math.abs(u.getEstimatedModuleSize()-i),m=Math.abs(c.getEstimatedModuleSize()-i);return h<m?1:h>m?-1:0}else return u.getCount()-c.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}en.CENTER_QUORUM=2,en.MIN_SKIP=3,en.MAX_MODULES=57;class Wr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(le.NEED_RESULT_POINT_CALLBACK);const i=new en(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),l=e.getBottomLeft(),c=this.calculateModuleSize(n,i,l);if(c<1)throw new ee("No pattern found in proccess finder.");const u=Wr.computeDimension(n,i,l,c),h=Ye.getProvisionalVersionForDimension(u),m=h.getDimensionForVersion()-7;let v=null;if(h.getAlignmentPatternCenters().length>0){const z=i.getX()-n.getX()+l.getX(),G=i.getY()-n.getY()+l.getY(),Z=1-3/m,Q=Math.floor(n.getX()+Z*(z-n.getX())),se=Math.floor(n.getY()+Z*(G-n.getY()));for(let be=4;be<=16;be<<=1)try{v=this.findAlignmentInRegion(c,Q,se,be);break}catch(Ae){if(!(Ae instanceof ee))throw Ae}}const N=Wr.createTransform(n,i,l,v,u),P=Wr.sampleGrid(this.image,N,u);let D;return v===null?D=[l,n,i]:D=[l,n,i,v],new Mn(P,D)}static createTransform(e,n,i,l,c){const u=c-3.5;let h,m,v,N;return l!==null?(h=l.getX(),m=l.getY(),v=u-3,N=v):(h=n.getX()-e.getX()+i.getX(),m=n.getY()-e.getY()+i.getY(),v=u,N=u),$e.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,v,N,3.5,u,e.getX(),e.getY(),n.getX(),n.getY(),h,m,i.getX(),i.getY())}static sampleGrid(e,n,i){return yt.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,l){const c=ut.round(Ne.distance(e,n)/l),u=ut.round(Ne.distance(e,i)/l);let h=Math.floor((c+u)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new ee("Dimensions could be not found.")}return h}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,l){let c=this.sizeOfBlackWhiteBlackRun(e,n,i,l),u=1,h=e-(i-e);h<0?(u=e/(e-h),h=0):h>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(h-e),h=this.image.getWidth()-1);let m=Math.floor(n-(l-n)*u);return u=1,m<0?(u=n/(n-m),m=0):m>=this.image.getHeight()&&(u=(this.image.getHeight()-1-n)/(m-n),m=this.image.getHeight()-1),h=Math.floor(e+(h-e)*u),c+=this.sizeOfBlackWhiteBlackRun(e,n,h,m),c-1}sizeOfBlackWhiteBlackRun(e,n,i,l){const c=Math.abs(l-n)>Math.abs(i-e);if(c){let z=e;e=n,n=z,z=i,i=l,l=z}const u=Math.abs(i-e),h=Math.abs(l-n);let m=-u/2;const v=e<i?1:-1,N=n<l?1:-1;let P=0;const D=i+v;for(let z=e,G=n;z!==D;z+=v){const Z=c?G:z,Q=c?z:G;if(P===1===this.image.get(Z,Q)){if(P===2)return ut.distance(z,G,e,n);P++}if(m+=h,m>0){if(G===l)break;G+=N,m-=u}}return P===2?ut.distance(i+v,l,e,n):NaN}findAlignmentInRegion(e,n,i,l){const c=Math.floor(l*e),u=Math.max(0,n-c),h=Math.min(this.image.getWidth()-1,n+c);if(h-u<e*3)throw new ee("Alignment top exceeds estimated module size.");const m=Math.max(0,i-c),v=Math.min(this.image.getHeight()-1,i+c);if(v-m<e*3)throw new ee("Alignment bottom exceeds estimated module size.");return new vr(this.image,u,m,h-u,v-m,e,this.resultPointCallback).find()}}class jn{constructor(){this.decoder=new Uo}getDecoder(){return this.decoder}decode(e,n){let i,l;if(n!=null&&n.get(le.PURE_BARCODE)!==void 0){const m=jn.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(m,n),l=jn.NO_POINTS}else{const m=new Wr(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(m.getBits(),n),l=m.getPoints()}i.getOther()instanceof zo&&i.getOther().applyMirroredCorrection(l);const c=new Ve(i.getText(),i.getRawBytes(),void 0,l,we.QR_CODE,void 0),u=i.getByteSegments();u!==null&&c.putMetadata(Ue.BYTE_SEGMENTS,u);const h=i.getECLevel();return h!==null&&c.putMetadata(Ue.ERROR_CORRECTION_LEVEL,h),i.hasStructuredAppend()&&(c.putMetadata(Ue.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),c.putMetadata(Ue.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),c}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new ee;const l=this.moduleSize(n,e);let c=n[1],u=i[1],h=n[0],m=i[0];if(h>=m||c>=u)throw new ee;if(u-c!==m-h&&(m=h+(u-c),m>=e.getWidth()))throw new ee;const v=Math.round((m-h+1)/l),N=Math.round((u-c+1)/l);if(v<=0||N<=0)throw new ee;if(N!==v)throw new ee;const P=Math.floor(l/2);c+=P,h+=P;const D=h+Math.floor((v-1)*l)-m;if(D>0){if(D>P)throw new ee;h-=D}const z=c+Math.floor((N-1)*l)-u;if(z>0){if(z>P)throw new ee;c-=z}const G=new De(v,N);for(let Z=0;Z<N;Z++){const Q=c+Math.floor(Z*l);for(let se=0;se<v;se++)e.get(h+Math.floor(se*l),Q)&&G.set(se,Z)}return G}static moduleSize(e,n){const i=n.getHeight(),l=n.getWidth();let c=e[0],u=e[1],h=!0,m=0;for(;c<l&&u<i;){if(h!==n.get(c,u)){if(++m===5)break;h=!h}c++,u++}if(c===l||u===i)throw new ee;return(c-e[0])/7}}jn.NO_POINTS=new Array;class nt{PDF417Common(){}static getBitCountSum(e){return ut.sum(e)}static toIntArray(e){if(e==null||!e.length)return nt.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const l of e)n[i++]=l;return n}static getCodeword(e){const n=H.binarySearch(nt.SYMBOL_TABLE,e&262143);return n<0?-1:(nt.CODEWORD_TABLE[n]-1)%nt.NUMBER_OF_CODEWORDS}}nt.NUMBER_OF_CODEWORDS=929,nt.MAX_CODEWORDS_IN_BARCODE=nt.NUMBER_OF_CODEWORDS-1,nt.MIN_ROWS_IN_BARCODE=3,nt.MAX_ROWS_IN_BARCODE=90,nt.MODULES_IN_CODEWORD=17,nt.MODULES_IN_STOP_PATTERN=18,nt.BARS_IN_MODULE=8,nt.EMPTY_INT_ARRAY=new Int32Array([]),nt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),nt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qa{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class at{static detectMultiple(e,n,i){let l=e.getBlackMatrix(),c=at.detect(i,l);return c.length||(l=l.clone(),l.rotate180(),c=at.detect(i,l)),new Qa(l,c)}static detect(e,n){const i=new Array;let l=0,c=0,u=!1;for(;l<n.getHeight();){const h=at.findVertices(n,l,c);if(h[0]==null&&h[3]==null){if(!u)break;u=!1,c=0;for(const m of i)m[1]!=null&&(l=Math.trunc(Math.max(l,m[1].getY()))),m[3]!=null&&(l=Math.max(l,Math.trunc(m[3].getY())));l+=at.ROW_STEP;continue}if(u=!0,i.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return i}static findVertices(e,n,i){const l=e.getHeight(),c=e.getWidth(),u=new Array(8);return at.copyToResult(u,at.findRowsWithPattern(e,l,c,n,i,at.START_PATTERN),at.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),n=Math.trunc(u[4].getY())),at.copyToResult(u,at.findRowsWithPattern(e,l,c,n,i,at.STOP_PATTERN),at.INDEXES_STOP_PATTERN),u}static copyToResult(e,n,i){for(let l=0;l<i.length;l++)e[i[l]]=n[l]}static findRowsWithPattern(e,n,i,l,c,u){const h=new Array(4);let m=!1;const v=new Int32Array(u.length);for(;l<n;l+=at.ROW_STEP){let P=at.findGuardPattern(e,c,l,i,!1,u,v);if(P!=null){for(;l>0;){const D=at.findGuardPattern(e,c,--l,i,!1,u,v);if(D!=null)P=D;else{l++;break}}h[0]=new Ne(P[0],l),h[1]=new Ne(P[1],l),m=!0;break}}let N=l+1;if(m){let P=0,D=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;N<n;N++){const z=at.findGuardPattern(e,D[0],N,i,!1,u,v);if(z!=null&&Math.abs(D[0]-z[0])<at.MAX_PATTERN_DRIFT&&Math.abs(D[1]-z[1])<at.MAX_PATTERN_DRIFT)D=z,P=0;else{if(P>at.SKIPPED_ROW_COUNT_MAX)break;P++}}N-=P+1,h[2]=new Ne(D[0],N),h[3]=new Ne(D[1],N)}return N-l<at.BARCODE_MIN_HEIGHT&&H.fill(h,null),h}static findGuardPattern(e,n,i,l,c,u,h){H.fillWithin(h,0,h.length,0);let m=n,v=0;for(;e.get(m,i)&&m>0&&v++<at.MAX_PIXEL_DRIFT;)m--;let N=m,P=0,D=u.length;for(let z=c;N<l;N++)if(e.get(N,i)!==z)h[P]++;else{if(P===D-1){if(at.patternMatchVariance(h,u,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return new Int32Array([m,N]);m+=h[0]+h[1],F.arraycopy(h,2,h,0,P-1),h[P-1]=0,h[P]=0,P--}else P++;h[P]=1,z=!z}return P===D-1&&at.patternMatchVariance(h,u,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE?new Int32Array([m,N-1]):null}static patternMatchVariance(e,n,i){let l=e.length,c=0,u=0;for(let v=0;v<l;v++)c+=e[v],u+=n[v];if(c<u)return 1/0;let h=c/u;i*=h;let m=0;for(let v=0;v<l;v++){let N=e[v],P=n[v]*h,D=N>P?N-P:P-N;if(D>i)return 1/0;m+=D}return m/c}}at.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),at.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),at.MAX_AVG_VARIANCE=.42,at.MAX_INDIVIDUAL_VARIANCE=.8,at.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),at.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),at.MAX_PIXEL_DRIFT=3,at.MAX_PATTERN_DRIFT=5,at.SKIPPED_ROW_COUNT_MAX=25,at.ROW_STEP=5,at.BARCODE_MIN_HEIGHT=10;class Nn{constructor(e,n){if(n.length===0)throw new T;this.field=e;let i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),F.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let n=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let u=n;n=i,i=u}let l=new Int32Array(i.length),c=i.length-n.length;F.arraycopy(i,0,l,0,c);for(let u=c;u<i.length;u++)l[u]=this.field.add(n[u-c],i[u]);return new Nn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Nn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Nn(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,l=e.coefficients,c=l.length,u=new Int32Array(i+c-1);for(let h=0;h<i;h++){let m=n[h];for(let v=0;v<c;v++)u[h+v]=this.field.add(u[h+v],this.field.multiply(m,l[v]))}return new Nn(this.field,u)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new Nn(this.field,n)}multiplyScalar(e){if(e===0)return new Nn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let l=0;l<n;l++)i[l]=this.field.multiply(this.coefficients[l],e);return new Nn(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new T;if(n===0)return new Nn(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+e);for(let c=0;c<i;c++)l[c]=this.field.multiply(this.coefficients[c],n);return new Nn(this.field,l)}toString(){let e=new ke;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Ja{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}inverse(e){if(e===0)throw new ht;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Wi extends Ja{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let l=0;l<e;l++)this.expTable[l]=i,i=i*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Nn(this,new Int32Array([0])),this.one=new Nn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new T;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new Nn(this,i)}}Wi.PDF417_GF=new Wi(nt.NUMBER_OF_CODEWORDS,3);class Wo{constructor(){this.field=Wi.PDF417_GF}decode(e,n,i){let l=new Nn(this.field,e),c=new Int32Array(n),u=!1;for(let G=n;G>0;G--){let Z=l.evaluateAt(this.field.exp(G));c[n-G]=Z,Z!==0&&(u=!0)}if(!u)return 0;let h=this.field.getOne();if(i!=null)for(const G of i){let Z=this.field.exp(e.length-1-G),Q=new Nn(this.field,new Int32Array([this.field.subtract(0,Z),1]));h=h.multiply(Q)}let m=new Nn(this.field,c),v=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),m,n),N=v[0],P=v[1],D=this.findErrorLocations(N),z=this.findErrorMagnitudes(P,N,D);for(let G=0;G<D.length;G++){let Z=e.length-1-this.field.log(D[G]);if(Z<0)throw M.getChecksumInstance();e[Z]=this.field.subtract(e[Z],z[G])}return D.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let D=e;e=n,n=D}let l=e,c=n,u=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(i/2);){let D=l,z=u;if(l=c,u=h,l.isZero())throw M.getChecksumInstance();c=D;let G=this.field.getZero(),Z=l.getCoefficient(l.getDegree()),Q=this.field.inverse(Z);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let se=c.getDegree()-l.getDegree(),be=this.field.multiply(c.getCoefficient(c.getDegree()),Q);G=G.add(this.field.buildMonomial(se,be)),c=c.subtract(l.multiplyByMonomial(se,be))}h=G.multiply(u).subtract(z).negative()}let m=h.getCoefficient(0);if(m===0)throw M.getChecksumInstance();let v=this.field.inverse(m),N=h.multiply(v),P=c.multiply(v);return[N,P]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),l=0;for(let c=1;c<this.field.getSize()&&l<n;c++)e.evaluateAt(c)===0&&(i[l]=this.field.inverse(c),l++);if(l!==n)throw M.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let l=n.getDegree(),c=new Int32Array(l);for(let v=1;v<=l;v++)c[l-v]=this.field.multiply(v,n.getCoefficient(v));let u=new Nn(this.field,c),h=i.length,m=new Int32Array(h);for(let v=0;v<h;v++){let N=this.field.inverse(i[v]),P=this.field.subtract(0,e.evaluateAt(N)),D=this.field.inverse(u.evaluateAt(N));m[v]=this.field.multiply(P,D)}return m}}class vi{constructor(e,n,i,l,c){e instanceof vi?this.constructor_2(e):this.constructor_1(e,n,i,l,c)}constructor_1(e,n,i,l,c){const u=n==null||i==null,h=l==null||c==null;if(u&&h)throw new ee;u?(n=new Ne(0,l.getY()),i=new Ne(0,c.getY())):h&&(l=new Ne(e.getWidth()-1,n.getY()),c=new Ne(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),c.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new vi(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let l=this.topLeft,c=this.bottomLeft,u=this.topRight,h=this.bottomRight;if(e>0){let m=i?this.topLeft:this.topRight,v=Math.trunc(m.getY()-e);v<0&&(v=0);let N=new Ne(m.getX(),v);i?l=N:u=N}if(n>0){let m=i?this.bottomLeft:this.bottomRight,v=Math.trunc(m.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let N=new Ne(m.getX(),v);i?c=N:h=N}return new vi(this.image,l,c,u,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class bs{constructor(e,n,i,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hr{constructor(){this.buffer=""}static form(e,n){let i=-1;function l(u,h,m,v,N,P){if(u==="%%")return"%";if(n[++i]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,z;switch(P){case"s":z=n[i];break;case"c":z=n[i][0];break;case"f":z=parseFloat(n[i]).toFixed(u);break;case"p":z=parseFloat(n[i]).toPrecision(u);break;case"e":z=parseFloat(n[i]).toExponential(u);break;case"x":z=parseInt(n[i]).toString(D||16);break;case"d":z=parseFloat(parseInt(n[i],D||10).toPrecision(u)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(D);let G=parseInt(m),Z=m&&m[0]+""=="0"?"0":" ";for(;z.length<G;)z=h!==void 0?z+Z:Z+z;return z}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}format(e,...n){this.buffer+=Hr.form(e,n)}toString(){return this.buffer}}class _r{constructor(e){this.boundingBox=new vi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<_r.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(e)-i;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+i,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Hr;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}_r.MAX_NEARBY_DISTANCE=5;class si{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,l]of this.values.entries()){const c={getKey:()=>i,getValue:()=>l};c.getValue()>e?(e=c.getValue(),n=[],n.push(c.getKey())):c.getValue()===e&&n.push(c.getKey())}return nt.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class el extends _r{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=-1,v=1,N=0;for(let P=u;P<h;P++){if(n[P]==null)continue;let D=n[P],z=D.getRowNumber()-m;if(z===0)N++;else if(z===1)v=Math.max(v,N),N=1,m=D.getRowNumber();else if(z<0||D.getRowNumber()>=e.getRowCount()||z>P)n[P]=null;else{let G;v>2?G=(v-2)*z:G=z;let Z=G>=P;for(let Q=1;Q<=G&&!Z;Q++)Z=n[P-Q]!=null;Z?n[P]=null:(m=D.getRowNumber(),N=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),m=-1;for(let v=c;v<u;v++){if(h[v]==null)continue;let N=h[v];N.setRowNumberAsRowIndicatorColumn();let P=N.getRowNumber()-m;P===0||(P===1?m=N.getRowNumber():N.getRowNumber()>=e.getRowCount()?h[v]=null:m=N.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new si,i=new si,l=new si,c=new si;for(let h of e){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let m=h.getValue()%30,v=h.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:i.setValue(m*3+1);break;case 1:c.setValue(m/3),l.setValue(m%3);break;case 2:n.setValue(m+1);break}}if(n.getValue().length===0||i.getValue().length===0||l.getValue().length===0||c.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<nt.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>nt.MAX_ROWS_IN_BARCODE)return null;let u=new bs(n.getValue()[0],i.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(e,u),u}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let l=e[i];if(e[i]==null)continue;let c=l.getValue()%30,u=l.getRowNumber();if(u>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:c*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(c/3)!==n.getErrorCorrectionLevel()||c%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:c+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class As{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=nt.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[i];c!=null&&(c.setRowNumber(e[i].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),c=0;for(let u=this.barcodeColumnCount+1;u>0&&c<this.ADJUST_ROW_NUMBER_SKIP;u--){let h=this.detectionResultColumns[u].getCodewords()[i];h!=null&&(c=As.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),c=0;for(let u=1;u<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;u++){let h=this.detectionResultColumns[u].getCodewords()[i];h!=null&&(c=As.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){if(!this.detectionResultColumns[e-1])return;let l=i[n],c=this.detectionResultColumns[e-1].getCodewords(),u=c;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());let h=new Array(14);h[2]=c[n],h[3]=u[n],n>0&&(h[0]=i[n-1],h[4]=c[n-1],h[5]=u[n-1]),n>1&&(h[8]=i[n-2],h[10]=c[n-2],h[11]=u[n-2]),n<i.length-1&&(h[1]=i[n+1],h[6]=c[n+1],h[7]=u[n+1]),n<i.length-2&&(h[9]=i[n+2],h[12]=c[n+2],h[13]=u[n+2]);for(let m of h)if(As.adjustRowNumber(l,m))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Hr;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[i];if(c==null){n.format("    |   ");continue}n.format(" %3d|%3d",c.getRowNumber(),c.getValue())}n.format("%n")}return n.toString()}}class Ci{constructor(e,n,i,l){this.rowNumber=Ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ci.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ci.BARCODE_ROW_UNKNOWN=-1;class Rn{static initialize(){for(let e=0;e<nt.SYMBOL_TABLE.length;e++){let n=nt.SYMBOL_TABLE[e],i=n&1;for(let l=0;l<nt.BARS_IN_MODULE;l++){let c=0;for(;(n&1)===i;)c+=1,n>>=1;i=n&1,Rn.RATIOS_TABLE[e]||(Rn.RATIOS_TABLE[e]=new Array(nt.BARS_IN_MODULE)),Rn.RATIOS_TABLE[e][nt.BARS_IN_MODULE-l-1]=Math.fround(c/nt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Rn.getDecodedCodewordValue(Rn.sampleBitCounts(e));return n!==-1?n:Rn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=ut.sum(e),i=new Int32Array(nt.BARS_IN_MODULE),l=0,c=0;for(let u=0;u<nt.MODULES_IN_CODEWORD;u++){let h=n/(2*nt.MODULES_IN_CODEWORD)+u*n/nt.MODULES_IN_CODEWORD;c+e[l]<=h&&(c+=e[l],l++),i[l]++}return i}static getDecodedCodewordValue(e){let n=Rn.getBitValue(e);return nt.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let l=0;l<e[i];l++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=ut.sum(e),i=new Array(nt.BARS_IN_MODULE);if(n>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(e[u]/n);let l=An.MAX_VALUE,c=-1;this.bSymbolTableReady||Rn.initialize();for(let u=0;u<Rn.RATIOS_TABLE.length;u++){let h=0,m=Rn.RATIOS_TABLE[u];for(let v=0;v<nt.BARS_IN_MODULE;v++){let N=Math.fround(m[v]-i[v]);if(h+=Math.fround(N*N),h>=l)break}h<l&&(l=h,c=nt.SYMBOL_TABLE[u])}return c}}Rn.bSymbolTableReady=!1,Rn.RATIOS_TABLE=new Array(nt.SYMBOL_TABLE.length).map(k=>new Array(nt.BARS_IN_MODULE));class to{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ho{static parseLong(e,n=void 0){return parseInt(e,n)}}class Gr extends E{}Gr.kind="NullPointerException";class Go{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new Gr;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new B;if(i===0)return;for(let l=0;l<i;l++)this.write(e[n+l])}flush(){}close(){}}class no extends E{}class tl extends Go{constructor(e=32){if(super(),this.count=0,e<0)throw new T("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new no;i=U.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new B;this.ensureCapacity(this.count+i),F.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Mt;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function Ss(){if(typeof window<"u")return window.BigInt||null;if(typeof Ql<"u")return Ql.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Is;function hn(k){if(typeof Is>"u"&&(Is=Ss()),Is===null)throw new Error("BigInt is not supported!");return Is(k)}function Hi(){let k=[];k[0]=hn(1);let e=hn(900);k[1]=e;for(let n=2;n<16;n++)k[n]=k[n-1]*e;return k}class oe{static decode(e,n){let i=new ke(""),l=q.ISO8859_1;i.enableDecoding(l);let c=1,u=e[c++],h=new to;for(;c<e[0];){switch(u){case oe.TEXT_COMPACTION_MODE_LATCH:c=oe.textCompaction(e,c,i);break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:c=oe.byteCompaction(u,e,l,c,i);break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c++]);break;case oe.NUMERIC_COMPACTION_MODE_LATCH:c=oe.numericCompaction(e,c,i);break;case oe.ECI_CHARSET:q.getCharacterSetECIByValue(e[c++]);break;case oe.ECI_GENERAL_PURPOSE:c+=2;break;case oe.ECI_USER_DEFINED:c++;break;case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=oe.decodeMacroBlock(e,c,h);break;case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:throw new X;default:c--,c=oe.textCompaction(e,c,i);break}if(c<e.length)u=e[c++];else throw X.getFormatInstance()}if(i.length()===0)throw X.getFormatInstance();let m=new mt(null,i.toString(),null,n);return m.setOther(h),m}static decodeMacroBlock(e,n,i){if(n+oe.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw X.getFormatInstance();let l=new Int32Array(oe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<oe.NUMBER_OF_SEQUENCE_CODEWORDS;h++,n++)l[h]=e[n];i.setSegmentIndex(U.parseInt(oe.decodeBase900toBase10(l,oe.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new ke;n=oe.textCompaction(e,n,c),i.setFileId(c.toString());let u=-1;for(e[n]===oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=n+1);n<e[0];)switch(e[n]){case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new ke;n=oe.textCompaction(e,n+1,h),i.setFileName(h.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new ke;n=oe.textCompaction(e,n+1,m),i.setSender(m.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ke;n=oe.textCompaction(e,n+1,v),i.setAddressee(v.toString());break;case oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new ke;n=oe.numericCompaction(e,n+1,N),i.setSegmentCount(U.parseInt(N.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let P=new ke;n=oe.numericCompaction(e,n+1,P),i.setTimestamp(Ho.parseLong(P.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new ke;n=oe.numericCompaction(e,n+1,D),i.setChecksum(U.parseInt(D.toString()));break;case oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new ke;n=oe.numericCompaction(e,n+1,z),i.setFileSize(Ho.parseLong(z.toString()));break;default:throw X.getFormatInstance()}break;case oe.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(u!==-1){let h=n-u;i.isLastSegment()&&h--,i.setOptionalData(H.copyOfRange(e,u,u+h))}return n}static textCompaction(e,n,i){let l=new Int32Array((e[0]-n)*2),c=new Int32Array((e[0]-n)*2),u=0,h=!1;for(;n<e[0]&&!h;){let m=e[n++];if(m<oe.TEXT_COMPACTION_MODE_LATCH)l[u]=m/30,l[u+1]=m%30,u+=2;else switch(m){case oe.TEXT_COMPACTION_MODE_LATCH:l[u++]=oe.TEXT_COMPACTION_MODE_LATCH;break;case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,h=!0;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=e[n++],c[u]=m,u++;break}}return oe.decodeTextCompaction(l,c,u,i),n}static decodeTextCompaction(e,n,i,l){let c=Mt.ALPHA,u=Mt.ALPHA,h=0;for(;h<i;){let m=e[h],v="";switch(c){case Mt.ALPHA:if(m<26)v=String.fromCharCode(65+m);else switch(m){case 26:v=" ";break;case oe.LL:c=Mt.LOWER;break;case oe.ML:c=Mt.MIXED;break;case oe.PS:u=c,c=Mt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.LOWER:if(m<26)v=String.fromCharCode(97+m);else switch(m){case 26:v=" ";break;case oe.AS:u=c,c=Mt.ALPHA_SHIFT;break;case oe.ML:c=Mt.MIXED;break;case oe.PS:u=c,c=Mt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.MIXED:if(m<oe.PL)v=oe.MIXED_CHARS[m];else switch(m){case oe.PL:c=Mt.PUNCT;break;case 26:v=" ";break;case oe.LL:c=Mt.LOWER;break;case oe.AL:c=Mt.ALPHA;break;case oe.PS:u=c,c=Mt.PUNCT_SHIFT;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.PUNCT:if(m<oe.PAL)v=oe.PUNCT_CHARS[m];else switch(m){case oe.PAL:c=Mt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(c=u,m<26)v=String.fromCharCode(65+m);else switch(m){case 26:v=" ";break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(c=u,m<oe.PAL)v=oe.PUNCT_CHARS[m];else switch(m){case oe.PAL:c=Mt.ALPHA;break;case oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case oe.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break}v!==""&&l.append(v),h++}}static byteCompaction(e,n,i,l,c){let u=new tl,h=0,m=0,v=!1;switch(e){case oe.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),P=n[l++];for(;l<n[0]&&!v;)switch(N[h++]=P,m=900*m+P,P=n[l++],P){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(h%5===0&&h>0){for(let D=0;D<6;++D)u.write(Number(hn(m)>>hn(8*(5-D))));m=0,h=0}break}l===n[0]&&P<oe.TEXT_COMPACTION_MODE_LATCH&&(N[h++]=P);for(let D=0;D<h;D++)u.write(N[D]);break;case oe.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!v;){let D=n[l++];if(D<oe.TEXT_COMPACTION_MODE_LATCH)h++,m=900*m+D;else switch(D){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.NUMERIC_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(h%5===0&&h>0){for(let z=0;z<6;++z)u.write(Number(hn(m)>>hn(8*(5-z))));m=0,h=0}}break}return c.append(Le.decode(u.toByteArray(),i)),l}static numericCompaction(e,n,i){let l=0,c=!1,u=new Int32Array(oe.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!c;){let h=e[n++];if(n===e[0]&&(c=!0),h<oe.TEXT_COMPACTION_MODE_LATCH)u[l]=h,l++;else switch(h){case oe.TEXT_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH:case oe.BYTE_COMPACTION_MODE_LATCH_6:case oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case oe.MACRO_PDF417_TERMINATOR:n--,c=!0;break}(l%oe.MAX_NUMERIC_CODEWORDS===0||h===oe.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(i.append(oe.decodeBase900toBase10(u,l)),l=0)}return n}static decodeBase900toBase10(e,n){let i=hn(0);for(let c=0;c<n;c++)i+=oe.EXP900[n-c-1]*hn(e[c]);let l=i.toString();if(l.charAt(0)!=="1")throw new X;return l.substring(1)}}oe.TEXT_COMPACTION_MODE_LATCH=900,oe.BYTE_COMPACTION_MODE_LATCH=901,oe.NUMERIC_COMPACTION_MODE_LATCH=902,oe.BYTE_COMPACTION_MODE_LATCH_6=924,oe.ECI_USER_DEFINED=925,oe.ECI_GENERAL_PURPOSE=926,oe.ECI_CHARSET=927,oe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,oe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,oe.MACRO_PDF417_TERMINATOR=922,oe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,oe.MAX_NUMERIC_CODEWORDS=15,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,oe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,oe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,oe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,oe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,oe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,oe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,oe.PL=25,oe.LL=27,oe.AS=27,oe.ML=28,oe.AL=28,oe.PS=29,oe.PAL=29,oe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,oe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",oe.EXP900=Ss()?Hi():[],oe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class dt{constructor(){}static decode(e,n,i,l,c,u,h){let m=new vi(e,n,i,l,c),v=null,N=null,P;for(let G=!0;;G=!1){if(n!=null&&(v=dt.getRowIndicatorColumn(e,m,n,!0,u,h)),l!=null&&(N=dt.getRowIndicatorColumn(e,m,l,!1,u,h)),P=dt.merge(v,N),P==null)throw ee.getNotFoundInstance();let Z=P.getBoundingBox();if(G&&Z!=null&&(Z.getMinY()<m.getMinY()||Z.getMaxY()>m.getMaxY()))m=Z;else break}P.setBoundingBox(m);let D=P.getBarcodeColumnCount()+1;P.setDetectionResultColumn(0,v),P.setDetectionResultColumn(D,N);let z=v!=null;for(let G=1;G<=D;G++){let Z=z?G:D-G;if(P.getDetectionResultColumn(Z)!==void 0)continue;let Q;Z===0||Z===D?Q=new el(m,Z===0):Q=new _r(m),P.setDetectionResultColumn(Z,Q);let se=-1,be=se;for(let Ae=m.getMinY();Ae<=m.getMaxY();Ae++){if(se=dt.getStartColumn(P,Z,Ae,z),se<0||se>m.getMaxX()){if(be===-1)continue;se=be}let xe=dt.detectCodeword(e,m.getMinX(),m.getMaxX(),z,se,Ae,u,h);xe!=null&&(Q.setCodeword(Ae,xe),be=se,u=Math.min(u,xe.getWidth()),h=Math.max(h,xe.getWidth()))}}return dt.createDecoderResult(P)}static merge(e,n){if(e==null&&n==null)return null;let i=dt.getBarcodeMetadata(e,n);if(i==null)return null;let l=vi.merge(dt.adjustBoundingBox(e),dt.adjustBoundingBox(n));return new As(i,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=dt.getMax(n),l=0;for(let h of n)if(l+=i-h,h>0)break;let c=e.getCodewords();for(let h=0;l>0&&c[h]==null;h++)l--;let u=0;for(let h=n.length-1;h>=0&&(u+=i-n[h],!(n[h]>0));h--);for(let h=c.length-1;u>0&&c[h]==null;h--)u--;return e.getBoundingBox().addMissingRows(l,u,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,l,c,u){let h=new el(n,l);for(let m=0;m<2;m++){let v=m===0?1:-1,N=Math.trunc(Math.trunc(i.getX()));for(let P=Math.trunc(Math.trunc(i.getY()));P<=n.getMaxY()&&P>=n.getMinY();P+=v){let D=dt.detectCodeword(e,0,e.getWidth(),l,N,P,c,u);D!=null&&(h.setCodeword(P,D),l?N=D.getStartX():N=D.getEndX())}}return h}static adjustCodewordCount(e,n){let i=n[0][1],l=i.getValue(),c=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-dt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(c<1||c>nt.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();i.setValue(c)}else l[0]!==c&&i.setValue(c)}static createDecoderResult(e){let n=dt.createBarcodeMatrix(e);dt.adjustCodewordCount(e,n);let i=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),c=[],u=new Array;for(let m=0;m<e.getBarcodeRowCount();m++)for(let v=0;v<e.getBarcodeColumnCount();v++){let N=n[m][v+1].getValue(),P=m*e.getBarcodeColumnCount()+v;N.length===0?i.push(P):N.length===1?l[P]=N[0]:(u.push(P),c.push(N))}let h=new Array(c.length);for(let m=0;m<h.length;m++)h[m]=c[m];return dt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,nt.toIntArray(i),nt.toIntArray(u),h)}static createDecoderResultFromAmbiguousValues(e,n,i,l,c){let u=new Int32Array(l.length),h=100;for(;h-- >0;){for(let m=0;m<u.length;m++)n[l[m]]=c[m][u[m]];try{return dt.decodeCodewords(n,e,i)}catch(m){if(!(m instanceof M))throw m}if(u.length===0)throw M.getChecksumInstance();for(let m=0;m<u.length;m++)if(u[m]<c[m].length-1){u[m]++;break}else if(u[m]=0,m===u.length-1)throw M.getChecksumInstance()}throw M.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let c=0;c<n[l].length;c++)n[l][c]=new si;let i=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let u=c.getRowNumber();if(u>=0){if(u>=n.length)continue;n[u][i].setValue(c.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,l){let c=l?1:-1,u=null;if(dt.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodeword(i)),u!=null)return l?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(i),u!=null)return l?u.getStartX():u.getEndX();if(dt.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodewordNearby(i)),u!=null)return l?u.getEndX():u.getStartX();let h=0;for(;dt.isValidBarcodeColumn(e,n-c);){n-=c;for(let m of e.getDetectionResultColumn(n).getCodewords())if(m!=null)return(l?m.getEndX():m.getStartX())+c*h*(m.getEndX()-m.getStartX());h++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,l,c,u,h,m){c=dt.adjustCodewordStartColumn(e,n,i,l,c,u);let v=dt.getModuleBitCount(e,n,i,l,c,u);if(v==null)return null;let N,P=ut.sum(v);if(l)N=c+P;else{for(let G=0;G<v.length/2;G++){let Z=v[G];v[G]=v[v.length-1-G],v[v.length-1-G]=Z}N=c,c=N-P}if(!dt.checkCodewordSkew(P,h,m))return null;let D=Rn.getDecodedValue(v),z=nt.getCodeword(D);return z===-1?null:new Ci(c,N,dt.getCodewordBucketNumber(D),z)}static getModuleBitCount(e,n,i,l,c,u){let h=c,m=new Int32Array(8),v=0,N=l?1:-1,P=l;for(;(l?h<i:h>=n)&&v<m.length;)e.get(h,u)===P?(m[v]++,h+=N):(v++,P=!P);return v===m.length||h===(l?i:n)&&v===m.length-1?m:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,l,c,u){let h=c,m=l?-1:1;for(let v=0;v<2;v++){for(;(l?h>=n:h<i)&&l===e.get(h,u);){if(Math.abs(c-h)>dt.CODEWORD_SKEW_SIZE)return c;h+=m}m=-m,l=!l}return h}static checkCodewordSkew(e,n,i){return n-dt.CODEWORD_SKEW_SIZE<=e&&e<=i+dt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw X.getFormatInstance();let l=1<<n+1,c=dt.correctErrors(e,i,l);dt.verifyCodewordCount(e,l);let u=oe.decode(e,""+n);return u.setErrorsCorrected(c),u.setErasures(i.length),u}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+dt.MAX_ERRORS||i<0||i>dt.MAX_EC_CODEWORDS)throw M.getChecksumInstance();return dt.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw X.getFormatInstance();let i=e[0];if(i>e.length)throw X.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw X.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,l=n.length-1;for(;!((e&1)!==i&&(i=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return dt.getCodewordBucketNumber(dt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Hr;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let l=0;l<e[i].length;l++){let c=e[i][l];c.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}n.format("%n")}return n.toString()}}dt.CODEWORD_SKEW_SIZE=2,dt.MAX_ERRORS=3,dt.MAX_EC_CODEWORDS=512,dt.errorCorrection=new Wo;class _n{decode(e,n=null){let i=_n.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw ee.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return _n.decode(e,n,!0)}catch(i){throw i instanceof X||i instanceof M?ee.getNotFoundInstance():i}}static decode(e,n,i){const l=new Array,c=at.detectMultiple(e,n,i);for(const u of c.getPoints()){const h=dt.decode(c.getBits(),u[4],u[5],u[6],u[7],_n.getMinCodewordWidth(u),_n.getMaxCodewordWidth(u)),m=new Ve(h.getText(),h.getRawBytes(),void 0,u,we.PDF_417);m.putMetadata(Ue.ERROR_CORRECTION_LEVEL,h.getECLevel());const v=h.getOther();v!=null&&m.putMetadata(Ue.PDF417_EXTRA_METADATA,v),l.push(m)}return l.map(u=>u)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?U.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(_n.getMaxWidth(e[0],e[4]),_n.getMaxWidth(e[6],e[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.max(_n.getMaxWidth(e[1],e[5]),_n.getMaxWidth(e[7],e[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(_n.getMinWidth(e[0],e[4]),_n.getMinWidth(e[6],e[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.min(_n.getMinWidth(e[1],e[5]),_n.getMinWidth(e[7],e[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Gi extends E{}Gi.kind="ReaderException";class ro{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!d(e)&&e.get(le.TRY_HARDER)===!0,i=d(e)?null:e.get(le.POSSIBLE_FORMATS),l=new Array;if(!d(i)){const c=i.some(u=>u===we.UPC_A||u===we.UPC_E||u===we.EAN_13||u===we.EAN_8||u===we.CODABAR||u===we.CODE_39||u===we.CODE_93||u===we.CODE_128||u===we.ITF||u===we.RSS_14||u===we.RSS_EXPANDED);c&&!n&&l.push(new sr(e,this.verbose)),i.includes(we.QR_CODE)&&l.push(new jn),i.includes(we.DATA_MATRIX)&&l.push(new wr),i.includes(we.AZTEC)&&l.push(new Ot),i.includes(we.PDF_417)&&l.push(new _n),c&&n&&l.push(new sr(e,this.verbose))}l.length===0&&(n||l.push(new sr(e,this.verbose)),l.push(new jn),l.push(new wr),l.push(new Ot),l.push(new _n),n&&l.push(new sr(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Gi("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof Gi)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class Ts extends Ee{constructor(e=null,n=500){const i=new ro;i.setHints(e),super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class io extends Ee{constructor(e=500){super(new _n,e)}}class nl extends Ee{constructor(e=500){super(new jn,e)}}var Xo;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(Xo||(Xo={}));var yn=Xo;class Yo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new ct(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const l=this.field;for(let c=n.length;c<=e;c++){const u=i.multiply(new ct(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));n.push(u),i=u}}return n[e]}encode(e,n){if(n===0)throw new T("No error correction bytes");const i=e.length-n;if(i<=0)throw new T("No data bytes provided");const l=this.buildGenerator(n),c=new Int32Array(i);F.arraycopy(e,0,c,0,i);let u=new ct(this.field,c);u=u.multiplyByMonomial(n,1);const m=u.divide(l)[1].getCoefficients(),v=n-m.length;for(let N=0;N<v;N++)e[i+N]=0;F.arraycopy(m,0,e,i+v,m.length)}}class Zt{constructor(){}static applyMaskPenaltyRule1(e){return Zt.applyMaskPenaltyRule1Internal(e,!0)+Zt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c-1;u++){const h=i[u];for(let m=0;m<l-1;m++){const v=h[m];v===h[m+1]&&v===i[u+1][m]&&v===i[u+1][m+1]&&n++}}return Zt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c;u++)for(let h=0;h<l;h++){const m=i[u];h+6<l&&m[h]===1&&m[h+1]===0&&m[h+2]===1&&m[h+3]===1&&m[h+4]===1&&m[h+5]===0&&m[h+6]===1&&(Zt.isWhiteHorizontal(m,h-4,h)||Zt.isWhiteHorizontal(m,h+7,h+11))&&n++,u+6<c&&i[u][h]===1&&i[u+1][h]===0&&i[u+2][h]===1&&i[u+3][h]===1&&i[u+4][h]===1&&i[u+5][h]===0&&i[u+6][h]===1&&(Zt.isWhiteVertical(i,h,u-4,u)||Zt.isWhiteVertical(i,h,u+7,u+11))&&n++}return n*Zt.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let l=n;l<i;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,i,l){i=Math.max(i,0),l=Math.min(l,e.length);for(let c=i;c<l;c++)if(e[c][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let m=0;m<c;m++){const v=i[m];for(let N=0;N<l;N++)v[N]===1&&n++}const u=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-u)*10/u)*Zt.N4}static getDataMaskBit(e,n,i){let l,c;switch(e){case 0:l=i+n&1;break;case 1:l=i&1;break;case 2:l=n%3;break;case 3:l=(i+n)%3;break;case 4:l=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:c=i*n,l=(c&1)+c%3;break;case 6:c=i*n,l=(c&1)+c%3&1;break;case 7:c=i*n,l=c%3+(i+n&1)&1;break;default:throw new T("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const l=n?e.getHeight():e.getWidth(),c=n?e.getWidth():e.getHeight(),u=e.getArray();for(let h=0;h<l;h++){let m=0,v=-1;for(let N=0;N<c;N++){const P=n?u[h][N]:u[N][h];P===v?m++:(m>=5&&(i+=Zt.N1+(m-5)),m=1,v=P)}m>=5&&(i+=Zt.N1+(m-5))}return i}}Zt.N1=3,Zt.N2=3,Zt.N3=40,Zt.N4=10;class so{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let l=0;l!==n;l++)i[l]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)H.fill(n,e)}equals(e){if(!(e instanceof so))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,l=this.height;i<l;++i){const c=this.bytes[i],u=n.bytes[i];for(let h=0,m=this.width;h<m;++h)if(c[h]!==u[h])return!1}return!0}toString(){const e=new ke;for(let n=0,i=this.height;n<i;++n){const l=this.bytes[n];for(let c=0,u=this.width;c<u;++c)switch(l[c]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Ei{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new ke;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ei.NUM_MASK_PATTERNS}}Ei.NUM_MASK_PATTERNS=8;class Ut extends E{}Ut.kind="WriterException";class Je{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,l,c){Je.clearMatrix(c),Je.embedBasicPatterns(i,c),Je.embedTypeInfo(n,l,c),Je.maybeEmbedVersionInfo(i,c),Je.embedDataBits(e,l,c)}static embedBasicPatterns(e,n){Je.embedPositionDetectionPatternsAndSeparators(n),Je.embedDarkDotAtLeftBottomCorner(n),Je.maybeEmbedPositionAdjustmentPatterns(e,n),Je.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const l=new re;Je.makeTypeInfoBits(e,n,l);for(let c=0,u=l.getSize();c<u;++c){const h=l.get(l.getSize()-1-c),m=Je.TYPE_INFO_COORDINATES[c],v=m[0],N=m[1];if(i.setBoolean(v,N,h),c<8){const P=i.getWidth()-c-1;i.setBoolean(P,8,h)}else{const D=i.getHeight()-7+(c-8);i.setBoolean(8,D,h)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new re;Je.makeVersionInfoBits(e,i);let l=6*3-1;for(let c=0;c<6;++c)for(let u=0;u<3;++u){const h=i.get(l);l--,n.setBoolean(c,n.getHeight()-11+u,h),n.setBoolean(n.getHeight()-11+u,c,h)}}static embedDataBits(e,n,i){let l=0,c=-1,u=i.getWidth()-1,h=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);h>=0&&h<i.getHeight();){for(let m=0;m<2;++m){const v=u-m;if(!Je.isEmpty(i.get(v,h)))continue;let N;l<e.getSize()?(N=e.get(l),++l):N=!1,n!==255&&Zt.getDataMaskBit(n,v,h)&&(N=!N),i.setBoolean(v,h,N)}h+=c}c=-c,h+=c,u-=2}if(l!==e.getSize())throw new Ut("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-U.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new T("0 polynomial");const i=Je.findMSBSet(n);for(e<<=i-1;Je.findMSBSet(e)>=i;)e^=n<<Je.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!Ei.isValidMaskPattern(n))throw new Ut("Invalid mask pattern");const l=e.getBits()<<3|n;i.appendBits(l,5);const c=Je.calculateBCHCode(l,Je.TYPE_INFO_POLY);i.appendBits(c,10);const u=new re;if(u.appendBits(Je.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new Ut("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=Je.calculateBCHCode(e.getVersionNumber(),Je.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new Ut("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;Je.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),Je.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ut;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let l=0;l<8;++l){if(!Je.isEmpty(i.get(e+l,n)))throw new Ut;i.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let l=0;l<7;++l){if(!Je.isEmpty(i.get(e,n+l)))throw new Ut;i.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let l=0;l<5;++l){const c=Je.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)i.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPattern(e,n,i){for(let l=0;l<7;++l){const c=Je.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)i.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Je.POSITION_DETECTION_PATTERN[0].length;Je.embedPositionDetectionPattern(0,0,e),Je.embedPositionDetectionPattern(e.getWidth()-n,0,e),Je.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;Je.embedHorizontalSeparationPattern(0,i-1,e),Je.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),Je.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const l=7;Je.embedVerticalSeparationPattern(l,0,e),Je.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Je.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,l=Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let c=0,u=l.length;c!==u;c++){const h=l[c];if(h>=0)for(let m=0;m!==u;m++){const v=l[m];v>=0&&Je.isEmpty(n.get(v,h))&&Je.embedPositionAdjustmentPattern(v-2,h-2,n)}}}}Je.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Je.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Je.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Je.VERSION_INFO_POLY=7973,Je.TYPE_INFO_POLY=1335,Je.TYPE_INFO_MASK_PATTERN=21522;class Fc{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Wt{constructor(){}static calculateMaskPenalty(e){return Zt.applyMaskPenaltyRule1(e)+Zt.applyMaskPenaltyRule2(e)+Zt.applyMaskPenaltyRule3(e)+Zt.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let l=Wt.DEFAULT_BYTE_MODE_ENCODING;const c=i!==null&&i.get(yn.CHARACTER_SET)!==void 0;c&&(l=i.get(yn.CHARACTER_SET).toString());const u=this.chooseMode(e,l),h=new re;if(u===Ke.BYTE&&(c||Wt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Ae=q.getCharacterSetECIByName(l);Ae!==void 0&&this.appendECI(Ae,h)}this.appendModeInfo(u,h);const m=new re;this.appendBytes(e,u,m,l);let v;if(i!==null&&i.get(yn.QR_VERSION)!==void 0){const Ae=Number.parseInt(i.get(yn.QR_VERSION).toString(),10);v=Ye.getVersionForNumber(Ae);const xe=this.calculateBitsNeeded(u,h,m,v);if(!this.willFit(xe,v,n))throw new Ut("Data too big for requested version")}else v=this.recommendVersion(n,u,h,m);const N=new re;N.appendBitArray(h);const P=u===Ke.BYTE?m.getSizeInBytes():e.length;this.appendLengthInfo(P,v,u,N),N.appendBitArray(m);const D=v.getECBlocksForLevel(n),z=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(z,N);const G=this.interleaveWithECBytes(N,v.getTotalCodewords(),z,D.getNumBlocks()),Z=new Ei;Z.setECLevel(n),Z.setMode(u),Z.setVersion(v);const Q=v.getDimensionForVersion(),se=new so(Q,Q),be=this.chooseMaskPattern(G,n,v,se);return Z.setMaskPattern(be),Je.buildMatrix(G,n,v,be,se),Z.setMatrix(se),Z}static recommendVersion(e,n,i,l){const c=this.calculateBitsNeeded(n,i,l,Ye.getVersionForNumber(1)),u=this.chooseVersion(c,e),h=this.calculateBitsNeeded(n,i,l,u);return this.chooseVersion(h,e)}static calculateBitsNeeded(e,n,i,l){return n.getSize()+e.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(e){return e<Wt.ALPHANUMERIC_TABLE.length?Wt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(q.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Ke.KANJI;let i=!1,l=!1;for(let c=0,u=e.length;c<u;++c){const h=e.charAt(c);if(Wt.isDigit(h))i=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return Ke.BYTE}return l?Ke.ALPHANUMERIC:i?Ke.NUMERIC:Ke.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Le.encode(e,q.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const c=n[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(e,n,i,l){let c=Number.MAX_SAFE_INTEGER,u=-1;for(let h=0;h<Ei.NUM_MASK_PATTERNS;h++){Je.buildMatrix(e,n,i,h,l);let m=this.calculateMaskPenalty(l);m<c&&(c=m,u=h)}return u}static chooseVersion(e,n){for(let i=1;i<=40;i++){const l=Ye.getVersionForNumber(i);if(Wt.willFit(e,l,n))return l}throw new Ut("Data too big")}static willFit(e,n,i){const l=n.getTotalCodewords(),u=n.getECBlocksForLevel(i).getTotalECCodewords(),h=l-u,m=(e+7)/8;return h>=m}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new Ut("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let u=0;u<4&&n.getSize()<i;++u)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let u=l;u<8;u++)n.appendBit(!1);const c=e-n.getSizeInBytes();for(let u=0;u<c;++u)n.appendBits(u&1?17:236,8);if(n.getSize()!==i)throw new Ut("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,l,c,u){if(l>=i)throw new Ut("Block ID too large");const h=e%i,m=i-h,v=Math.floor(e/i),N=v+1,P=Math.floor(n/i),D=P+1,z=v-P,G=N-D;if(z!==G)throw new Ut("EC bytes mismatch");if(i!==m+h)throw new Ut("RS blocks mismatch");if(e!==(P+z)*m+(D+G)*h)throw new Ut("Total bytes mismatch");l<m?(c[0]=P,u[0]=z):(c[0]=D,u[0]=G)}static interleaveWithECBytes(e,n,i,l){if(e.getSizeInBytes()!==i)throw new Ut("Number of bits and data bytes does not match");let c=0,u=0,h=0;const m=new Array;for(let N=0;N<l;++N){const P=new Int32Array(1),D=new Int32Array(1);Wt.getNumDataBytesAndNumECBytesForBlockID(n,i,l,N,P,D);const z=P[0],G=new Uint8Array(z);e.toBytes(8*c,G,0,z);const Z=Wt.generateECBytes(G,D[0]);m.push(new Fc(G,Z)),u=Math.max(u,z),h=Math.max(h,Z.length),c+=P[0]}if(i!==c)throw new Ut("Data bytes does not match offset");const v=new re;for(let N=0;N<u;++N)for(const P of m){const D=P.getDataBytes();N<D.length&&v.appendBits(D[N],8)}for(let N=0;N<h;++N)for(const P of m){const D=P.getErrorCorrectionBytes();N<D.length&&v.appendBits(D[N],8)}if(n!==v.getSizeInBytes())throw new Ut("Interleaving error: "+n+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(e,n){const i=e.length,l=new Int32Array(i+n);for(let u=0;u<i;u++)l[u]=e[u]&255;new Yo(Oe.QR_CODE_FIELD_256).encode(l,n);const c=new Uint8Array(n);for(let u=0;u<n;u++)c[u]=l[i+u];return c}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,l){const c=i.getCharacterCountBits(n);if(e>=1<<c)throw new Ut(e+" is bigger than "+((1<<c)-1));l.appendBits(e,c)}static appendBytes(e,n,i,l){switch(n){case Ke.NUMERIC:Wt.appendNumericBytes(e,i);break;case Ke.ALPHANUMERIC:Wt.appendAlphanumericBytes(e,i);break;case Ke.BYTE:Wt.append8BitBytes(e,i,l);break;case Ke.KANJI:Wt.appendKanjiBytes(e,i);break;default:throw new Ut("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Wt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const c=Wt.getDigit(e.charAt(l));if(l+2<i){const u=Wt.getDigit(e.charAt(l+1)),h=Wt.getDigit(e.charAt(l+2));n.appendBits(c*100+u*10+h,10),l+=3}else if(l+1<i){const u=Wt.getDigit(e.charAt(l+1));n.appendBits(c*10+u,7),l+=2}else n.appendBits(c,4),l++}}static appendAlphanumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const c=Wt.getAlphanumericCode(e.charCodeAt(l));if(c===-1)throw new Ut;if(l+1<i){const u=Wt.getAlphanumericCode(e.charCodeAt(l+1));if(u===-1)throw new Ut;n.appendBits(c*45+u,11),l+=2}else n.appendBits(c,6),l++}}static append8BitBytes(e,n,i){let l;try{l=Le.encode(e,i)}catch(c){throw new Ut(c)}for(let c=0,u=l.length;c!==u;c++){const h=l[c];n.appendBits(h,8)}}static appendKanjiBytes(e,n){let i;try{i=Le.encode(e,q.SJIS)}catch(c){throw new Ut(c)}const l=i.length;for(let c=0;c<l;c+=2){const u=i[c]&255,h=i[c+1]&255,m=u<<8&4294967295|h;let v=-1;if(m>=33088&&m<=40956?v=m-33088:m>=57408&&m<=60351&&(v=m-49472),v===-1)throw new Ut("Invalid byte sequence");const N=(v>>8)*192+(v&255);n.appendBits(N,13)}}static appendECI(e,n){n.appendBits(Ke.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Wt.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class bi{write(e,n,i,l=null){if(e.length===0)throw new T("Found empty contents");if(n<0||i<0)throw new T("Requested dimensions are too small: "+n+"x"+i);let c=zt.L,u=bi.QUIET_ZONE_SIZE;l!==null&&(l.get(yn.ERROR_CORRECTION)!==void 0&&(c=zt.fromString(l.get(yn.ERROR_CORRECTION).toString())),l.get(yn.MARGIN)!==void 0&&(u=Number.parseInt(l.get(yn.MARGIN).toString(),10)));const h=Wt.encode(e,c,l);return this.renderResult(h,n,i,u)}writeToDom(e,n,i,l,c=null){typeof e=="string"&&(e=document.querySelector(e));const u=this.write(n,i,l,c);e&&e.appendChild(u)}renderResult(e,n,i,l){const c=e.getMatrix();if(c===null)throw new Bt;const u=c.getWidth(),h=c.getHeight(),m=u+l*2,v=h+l*2,N=Math.max(n,m),P=Math.max(i,v),D=Math.min(Math.floor(N/m),Math.floor(P/v)),z=Math.floor((N-u*D)/2),G=Math.floor((P-h*D)/2),Z=this.createSVGElement(N,P);for(let Q=0,se=G;Q<h;Q++,se+=D)for(let be=0,Ae=z;be<u;be++,Ae+=D)if(c.get(be,Q)===1){const xe=this.createSvgRectElement(Ae,se,D,D);Z.appendChild(xe)}return Z}createSVGElement(e,n){const i=document.createElementNS(bi.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,l){const c=document.createElementNS(bi.SVG_NS,"rect");return c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",l.toString()),c.setAttributeNS(null,"fill","#000000"),c}}bi.QUIET_ZONE_SIZE=4,bi.SVG_NS="http://www.w3.org/2000/svg";class Xi{encode(e,n,i,l,c){if(e.length===0)throw new T("Found empty contents");if(n!==we.QR_CODE)throw new T("Can only encode QR_CODE, but got "+n);if(i<0||l<0)throw new T(`Requested dimensions are too small: ${i}x${l}`);let u=zt.L,h=Xi.QUIET_ZONE_SIZE;c!==null&&(c.get(yn.ERROR_CORRECTION)!==void 0&&(u=zt.fromString(c.get(yn.ERROR_CORRECTION).toString())),c.get(yn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(yn.MARGIN).toString(),10)));const m=Wt.encode(e,u,c);return Xi.renderResult(m,i,l,h)}static renderResult(e,n,i,l){const c=e.getMatrix();if(c===null)throw new Bt;const u=c.getWidth(),h=c.getHeight(),m=u+l*2,v=h+l*2,N=Math.max(n,m),P=Math.max(i,v),D=Math.min(Math.floor(N/m),Math.floor(P/v)),z=Math.floor((N-u*D)/2),G=Math.floor((P-h*D)/2),Z=new De(N,P);for(let Q=0,se=G;Q<h;Q++,se+=D)for(let be=0,Ae=z;be<u;be++,Ae+=D)c.get(be,Q)===1&&Z.setRegion(Ae,se,D,D);return Z}}Xi.QUIET_ZONE_SIZE=4;class jc{encode(e,n,i,l,c){let u;switch(n){case we.QR_CODE:u=new Xi;break;default:throw new T("No encoder available for format "+n)}return u.encode(e,n,i,l,c)}}class kr extends de{constructor(e,n,i,l,c,u,h,m){if(super(u,h),this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=l,this.top=c,l+u>n||c+h>i)throw new T("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(u,h)}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return F.arraycopy(this.yuvData,c,l,0,i),l;for(let u=0;u<n;u++){const h=u*e;F.arraycopy(this.yuvData,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new kr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,l,!1)}renderThumbnail(){const e=this.getWidth()/kr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/kr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),l=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let u=0;u<n;u++){const h=u*e;for(let m=0;m<e;m++){const v=l[c+m*kr.THUMBNAIL_SCALE_FACTOR]&255;i[h+m]=4278190080|v*65793}c+=this.dataWidth*kr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/kr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/kr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let l=0,c=this.top*this.dataWidth+this.left;l<n;l++,c+=this.dataWidth){const u=c+e/2;for(let h=c,m=c+e-1;h<u;h++,m--){const v=i[h];i[h]=i[m],i[m]=v}}}invert(){return new Re(this)}}kr.THUMBNAIL_SCALE_FACTOR=2;class Ns extends de{constructor(e,n,i,l,c,u,h){if(super(n,i),this.dataWidth=l,this.dataHeight=c,this.left=u,this.top=h,e.BYTES_PER_ELEMENT===4){const m=n*i,v=new Uint8ClampedArray(m);for(let N=0;N<m;N++){const P=e[N],D=P>>16&255,z=P>>7&510,G=P&255;v[N]=(D+z+G)/4&255}this.luminances=v}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),c===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return F.arraycopy(this.luminances,c,l,0,i),l;for(let u=0;u<n;u++){const h=u*e;F.arraycopy(this.luminances,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new Ns(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Re(this)}}class rl extends q{static forName(e){return this.getCharacterSetECIByName(e)}}class Ko{}Ko.ISO_8859_1=q.ISO8859_1;class il{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Zo{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Vc{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Yi extends Vc{constructor(e,n,i){super(e),this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Yi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Yi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+U.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class $o extends Yi{constructor(e,n,i){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new $o(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function zc(k,e,n){return new $o(k,e,n)}function Rs(k,e,n){return new Yi(k,e,n)}const Uc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oi=0,Ki=1,Dn=2,sl=3,Cr=4,ol=new Yi(null,0,0),oo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function al(k){for(let e of k)H.fill(e,-1);return k[oi][Cr]=0,k[Ki][Cr]=0,k[Ki][oi]=28,k[sl][Cr]=0,k[Dn][Cr]=0,k[Dn][oi]=15,k}const qo=al(H.createInt32Array(6,6));class Vn{constructor(e,n,i,l){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,l=this.token;if(e!==this.mode){let u=oo[this.mode][e];l=Rs(l,u&65535,u>>16),i+=u>>16}let c=e===Dn?4:5;return l=Rs(l,n,c),new Vn(l,e,0,i+c)}shiftAndAppend(e,n){let i=this.token,l=this.mode===Dn?4:5;return i=Rs(i,qo[this.mode][e],l),i=Rs(i,n,5),new Vn(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,l=this.bitCount;if(this.mode===Cr||this.mode===Dn){let h=oo[i][oi];n=Rs(n,h&65535,h>>16),l+=h>>16,i=oi}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Vn(n,i,this.binaryShiftByteCount+1,l+c);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=zc(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Vn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(oo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Vn.calculateBinaryShiftCost(e)-Vn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let i=new re;for(const l of n)l.appendTo(i,e);return i}toString(){return Te.format("%s bits=%d bytes=%d",Uc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Vn.INITIAL_STATE=new Vn(ol,oi,0,0);function Wc(k){const e=Te.getCharCode(" "),n=Te.getCharCode("."),i=Te.getCharCode(",");k[oi][e]=1;const l=Te.getCharCode("Z"),c=Te.getCharCode("A");for(let D=c;D<=l;D++)k[oi][D]=D-c+2;k[Ki][e]=1;const u=Te.getCharCode("z"),h=Te.getCharCode("a");for(let D=h;D<=u;D++)k[Ki][D]=D-h+2;k[Dn][e]=1;const m=Te.getCharCode("9"),v=Te.getCharCode("0");for(let D=v;D<=m;D++)k[Dn][D]=D-v+2;k[Dn][i]=12,k[Dn][n]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<N.length;D++)k[sl][Te.getCharCode(N[D])]=D;const P=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<P.length;D++)Te.getCharCode(P[D])>0&&(k[Cr][Te.getCharCode(P[D])]=D);return k}const Qo=Wc(H.createInt32Array(5,256));class _s{constructor(e){this.text=e}encode(){const e=Te.getCharCode(" "),n=Te.getCharCode(`
`);let i=Zo.singletonList(Vn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let u,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case Te.getCharCode("\r"):u=h===n?2:0;break;case Te.getCharCode("."):u=h===e?3:0;break;case Te.getCharCode(","):u=h===e?4:0;break;case Te.getCharCode(":"):u=h===e?5:0;break;default:u=0}u>0?(i=_s.updateStateListForPair(i,c,u),c++):i=this.updateStateListForChar(i,c)}return Zo.min(i,(c,u)=>c.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let l of e)this.updateStateForChar(l,n,i);return _s.simplifyStates(i)}updateStateForChar(e,n,i){let l=this.text[n]&255,c=Qo[e.getMode()][l]>0,u=null;for(let h=0;h<=Cr;h++){let m=Qo[h][l];if(m>0){if(u==null&&(u=e.endBinaryShift(n)),!c||h===e.getMode()||h===Dn){const v=u.latchAndAppend(h,m);i.push(v)}if(!c&&qo[e.getMode()][h]>=0){const v=u.shiftAndAppend(h,m);i.push(v)}}}if(e.getBinaryShiftByteCount()>0||Qo[e.getMode()][l]===0){let h=e.addBinaryShiftChar(n);i.push(h)}}static updateStateListForPair(e,n,i){const l=[];for(let c of e)this.updateStateForPair(c,n,i,l);return this.simplifyStates(l)}static updateStateForPair(e,n,i,l){let c=e.endBinaryShift(n);if(l.push(c.latchAndAppend(Cr,i)),e.getMode()!==Cr&&l.push(c.shiftAndAppend(Cr,i)),i===3||i===4){let u=c.latchAndAppend(Dn,16-i).latchAndAppend(Dn,1);l.push(u)}if(e.getBinaryShiftByteCount()>0){let u=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(u)}}static simplifyStates(e){let n=[];for(const i of e){let l=!0;for(const c of n){if(c.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(c)&&(n=n.filter(u=>u!==c))}l&&n.push(i)}return n}}class kt{constructor(){}static encodeBytes(e){return kt.encode(e,kt.DEFAULT_EC_PERCENT,kt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let l=new _s(e).encode(),c=U.truncDivision(l.getSize()*n,100)+11,u=l.getSize()+c,h,m,v,N,P;if(i!==kt.DEFAULT_AZTEC_LAYERS){if(h=i<0,m=Math.abs(i),m>(h?kt.MAX_NB_BITS_COMPACT:kt.MAX_NB_BITS))throw new T(Te.format("Illegal value %s for layers",i));v=kt.totalBitsInLayer(m,h),N=kt.WORD_SIZE[m];let xe=v-v%N;if(P=kt.stuffBits(l,N),P.getSize()+c>xe)throw new T("Data to large for user specified layer");if(h&&P.getSize()>N*64)throw new T("Data to large for user specified layer")}else{N=0,P=null;for(let xe=0;;xe++){if(xe>kt.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(h=xe<=3,m=h?xe+1:xe,v=kt.totalBitsInLayer(m,h),u>v)continue;(P==null||N!==kt.WORD_SIZE[m])&&(N=kt.WORD_SIZE[m],P=kt.stuffBits(l,N));let Ct=v-v%N;if(!(h&&P.getSize()>N*64)&&P.getSize()+c<=Ct)break}}let D=kt.generateCheckWords(P,v,N),z=P.getSize()/N,G=kt.generateModeMessage(h,m,z),Z=(h?11:14)+m*4,Q=new Int32Array(Z),se;if(h){se=Z;for(let xe=0;xe<Q.length;xe++)Q[xe]=xe}else{se=Z+1+2*U.truncDivision(U.truncDivision(Z,2)-1,15);let xe=U.truncDivision(Z,2),Ct=U.truncDivision(se,2);for(let lt=0;lt<xe;lt++){let $n=lt+U.truncDivision(lt,15);Q[xe-lt-1]=Ct-$n-1,Q[xe+lt]=Ct+$n+1}}let be=new De(se);for(let xe=0,Ct=0;xe<m;xe++){let lt=(m-xe)*4+(h?9:12);for(let $n=0;$n<lt;$n++){let Er=$n*2;for(let wn=0;wn<2;wn++)D.get(Ct+Er+wn)&&be.set(Q[xe*2+wn],Q[xe*2+$n]),D.get(Ct+lt*2+Er+wn)&&be.set(Q[xe*2+$n],Q[Z-1-xe*2-wn]),D.get(Ct+lt*4+Er+wn)&&be.set(Q[Z-1-xe*2-wn],Q[Z-1-xe*2-$n]),D.get(Ct+lt*6+Er+wn)&&be.set(Q[Z-1-xe*2-$n],Q[xe*2+wn])}Ct+=lt*8}if(kt.drawModeMessage(be,h,se,G),h)kt.drawBullsEye(be,U.truncDivision(se,2),5);else{kt.drawBullsEye(be,U.truncDivision(se,2),7);for(let xe=0,Ct=0;xe<U.truncDivision(Z,2)-1;xe+=15,Ct+=16)for(let lt=U.truncDivision(se,2)&1;lt<se;lt+=2)be.set(U.truncDivision(se,2)-Ct,lt),be.set(U.truncDivision(se,2)+Ct,lt),be.set(lt,U.truncDivision(se,2)-Ct),be.set(lt,U.truncDivision(se,2)+Ct)}let Ae=new il;return Ae.setCompact(h),Ae.setSize(se),Ae.setLayers(m),Ae.setCodeWords(z),Ae.setMatrix(be),Ae}static drawBullsEye(e,n,i){for(let l=0;l<i;l+=2)for(let c=n-l;c<=n+l;c++)e.set(c,n-l),e.set(c,n+l),e.set(n-l,c),e.set(n+l,c);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let l=new re;return e?(l.appendBits(n-1,2),l.appendBits(i-1,6),l=kt.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(i-1,11),l=kt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,i,l){let c=U.truncDivision(i,2);if(n)for(let u=0;u<7;u++){let h=c-3+u;l.get(u)&&e.set(h,c-5),l.get(u+7)&&e.set(c+5,h),l.get(20-u)&&e.set(h,c+5),l.get(27-u)&&e.set(c-5,h)}else for(let u=0;u<10;u++){let h=c-5+u+U.truncDivision(u,5);l.get(u)&&e.set(h,c-7),l.get(u+10)&&e.set(c+7,h),l.get(29-u)&&e.set(h,c+7),l.get(39-u)&&e.set(c-7,h)}}static generateCheckWords(e,n,i){let l=e.getSize()/i,c=new Yo(kt.getGF(i)),u=U.truncDivision(n,i),h=kt.bitsToWords(e,i,u);c.encode(h,u-l);let m=n%i,v=new re;v.appendBits(0,m);for(const N of Array.from(h))v.appendBits(N,i);return v}static bitsToWords(e,n,i){let l=new Int32Array(i),c,u;for(c=0,u=e.getSize()/n;c<u;c++){let h=0;for(let m=0;m<n;m++)h|=e.get(c*n+m)?1<<n-m-1:0;l[c]=h}return l}static getGF(e){switch(e){case 4:return Oe.AZTEC_PARAM;case 6:return Oe.AZTEC_DATA_6;case 8:return Oe.AZTEC_DATA_8;case 10:return Oe.AZTEC_DATA_10;case 12:return Oe.AZTEC_DATA_12;default:throw new T("Unsupported word size "+e)}}static stuffBits(e,n){let i=new re,l=e.getSize(),c=(1<<n)-2;for(let u=0;u<l;u+=n){let h=0;for(let m=0;m<n;m++)(u+m>=l||e.get(u+m))&&(h|=1<<n-1-m);(h&c)===c?(i.appendBits(h&c,n),u--):h&c?i.appendBits(h,n):(i.appendBits(h|1,n),u--)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}kt.DEFAULT_EC_PERCENT=33,kt.DEFAULT_AZTEC_LAYERS=0,kt.MAX_NB_BITS=32,kt.MAX_NB_BITS_COMPACT=4,kt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ks{encode(e,n,i,l){return this.encodeWithHints(e,n,i,l,null)}encodeWithHints(e,n,i,l,c){let u=Ko.ISO_8859_1,h=kt.DEFAULT_EC_PERCENT,m=kt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(yn.CHARACTER_SET)&&(u=rl.forName(c.get(yn.CHARACTER_SET).toString())),c.has(yn.ERROR_CORRECTION)&&(h=U.parseInt(c.get(yn.ERROR_CORRECTION).toString())),c.has(yn.AZTEC_LAYERS)&&(m=U.parseInt(c.get(yn.AZTEC_LAYERS).toString()))),ks.encodeLayers(e,n,i,l,u,h,m)}static encodeLayers(e,n,i,l,c,u,h){if(n!==we.AZTEC)throw new T("Can only encode AZTEC, but got "+n);let m=kt.encode(Te.getBytes(e,c),u,h);return ks.renderResult(m,i,l)}static renderResult(e,n,i){let l=e.getMatrix();if(l==null)throw new Bt;let c=l.getWidth(),u=l.getHeight(),h=Math.max(n,c),m=Math.max(i,u),v=Math.min(h/c,m/u),N=(h-c*v)/2,P=(m-u*v)/2,D=new De(h,m);for(let z=0,G=P;z<u;z++,G+=v)for(let Z=0,Q=N;Z<c;Z++,Q+=v)l.get(Z,z)&&D.setRegion(Q,G,v,v);return D}}a.AbstractExpandedDecoder=ws,a.ArgumentException=S,a.ArithmeticException=ht,a.AztecCode=il,a.AztecCodeReader=Ot,a.AztecCodeWriter=ks,a.AztecDecoder=St,a.AztecDetector=rn,a.AztecDetectorResult=vt,a.AztecEncoder=kt,a.AztecHighLevelEncoder=_s,a.AztecPoint=pt,a.BarcodeFormat=we,a.Binarizer=L,a.BinaryBitmap=R,a.BitArray=re,a.BitMatrix=De,a.BitSource=Vo,a.BrowserAztecCodeReader=Gt,a.BrowserBarcodeReader=Fo,a.BrowserCodeReader=Ee,a.BrowserDatamatrixCodeReader=Bc,a.BrowserMultiFormatReader=Ts,a.BrowserPDF417Reader=io,a.BrowserQRCodeReader=nl,a.BrowserQRCodeSvgWriter=bi,a.CharacterSetECI=q,a.ChecksumException=M,a.Code128Reader=Se,a.Code39Reader=Vt,a.DataMatrixDecodedBitStreamParser=yr,a.DataMatrixReader=wr,a.DecodeHintType=le,a.DecoderResult=mt,a.DefaultGridSampler=jt,a.DetectorResult=Mn,a.EAN13Reader=Xn,a.EncodeHintType=yn,a.Exception=E,a.FormatException=X,a.GenericGF=Oe,a.GenericGFPoly=ct,a.GlobalHistogramBinarizer=Be,a.GridSampler=Pe,a.GridSamplerInstance=yt,a.HTMLCanvasElementLuminanceSource=fe,a.HybridBinarizer=he,a.ITFReader=It,a.IllegalArgumentException=T,a.IllegalStateException=Bt,a.InvertedLuminanceSource=Re,a.LuminanceSource=de,a.MathUtils=ut,a.MultiFormatOneDReader=sr,a.MultiFormatReader=ro,a.MultiFormatWriter=jc,a.NotFoundException=ee,a.OneDReader=_t,a.PDF417DecodedBitStreamParser=oe,a.PDF417DecoderErrorCorrection=Wo,a.PDF417Reader=_n,a.PDF417ResultMetadata=to,a.PerspectiveTransform=$e,a.PlanarYUVLuminanceSource=kr,a.QRCodeByteMatrix=so,a.QRCodeDataMask=xt,a.QRCodeDecodedBitStreamParser=Kt,a.QRCodeDecoderErrorCorrectionLevel=zt,a.QRCodeDecoderFormatInformation=Tn,a.QRCodeEncoder=Wt,a.QRCodeEncoderQRCode=Ei,a.QRCodeMaskUtil=Zt,a.QRCodeMatrixUtil=Je,a.QRCodeMode=Ke,a.QRCodeReader=jn,a.QRCodeVersion=Ye,a.QRCodeWriter=Xi,a.RGBLuminanceSource=Ns,a.RSS14Reader=Tt,a.RSSExpandedReader=pe,a.ReaderException=Gi,a.ReedSolomonDecoder=Ht,a.ReedSolomonEncoder=Yo,a.ReedSolomonException=Et,a.Result=Ve,a.ResultMetadataType=Ue,a.ResultPoint=Ne,a.StringUtils=Te,a.UnsupportedOperationException=_e,a.VideoInputDevice=K,a.WhiteRectangleDetector=ve,a.WriterException=Ut,a.ZXingArrays=H,a.ZXingCharset=rl,a.ZXingInteger=U,a.ZXingStandardCharsets=Ko,a.ZXingStringBuilder=ke,a.ZXingStringEncoding=Le,a.ZXingSystem=F,a.createAbstractExpandedDecoder=Qe,Object.defineProperty(a,"__esModule",{value:!0})})}(Sa,Sa.exports)),Sa.exports}Ky();var ad=function(){var r=function(o,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])},r(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),ig=function(){function r(o,a){this.name=o,this.track=a}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(o){var a={};a[this.name]=o;var d={advanced:[a]};return this.track.applyConstraints(d)},r.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var a=o[this.name];return a}return null},r}(),Zy=function(r){ad(o,r);function o(a,d){return r.call(this,a,d)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(a){var d={};d[this.name]=a;var p={advanced:[d]};return this.track.applyConstraints(p)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),d=a[this.name];return{min:d.min,max:d.max,step:d.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o}(ig);(function(r){ad(o,r);function o(a){return r.call(this,"zoom",a)||this}return o})(Zy);(function(r){ad(o,r);function o(a){return r.call(this,"torch",a)||this}return o})(ig);var p1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(p1||(p1={}));var $y=function(){var r=function(o,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])},r(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}();(function(r){$y(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o})(Xy);var g1;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(g1||(g1={}));const qy=({user:r,onProfileClick:o})=>{const a=Tr();return A.jsx("div",{children:A.jsx("div",{style:{position:"absolute",top:"45px",display:"flex",alignItems:"center",width:"94%",height:"10px",left:"3%"},children:r==null?A.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[A.jsx("button",{className:"login-button",onClick:()=>a("/login"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Login"})}),A.jsx("button",{className:"login-button",onClick:()=>a("/signup"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Sign up"})})]}):A.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[A.jsx("button",{className:"login-button",onClick:()=>a("/logout"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Logout"})}),A.jsx("button",{className:"login-button",onClick:o,style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:A.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Profile"})})]})})})},ld=_.createContext({});function cd(r){const o=_.useRef(null);return o.current===null&&(o.current=r()),o.current}const ud=typeof window<"u",sg=ud?_.useLayoutEffect:_.useEffect,kc=_.createContext(null),fd=_.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class Qy extends _.Component{getSnapshotBeforeUpdate(o){const a=this.props.childRef.current;if(a&&o.isPresent&&!this.props.isPresent){const d=a.offsetParent,p=d instanceof HTMLElement&&d.offsetWidth||0,x=this.props.sizeRef.current;x.height=a.offsetHeight||0,x.width=a.offsetWidth||0,x.top=a.offsetTop,x.left=a.offsetLeft,x.right=p-x.width-x.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Jy({children:r,isPresent:o,anchorX:a}){const d=_.useId(),p=_.useRef(null),x=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=_.useContext(fd);return _.useInsertionEffect(()=>{const{width:b,height:w,top:E,left:S,right:T}=x.current;if(o||!p.current||!b||!w)return;const R=a==="left"?`left: ${S}`:`right: ${T}`;p.current.dataset.motionPopId=d;const M=document.createElement("style");return y&&(M.nonce=y),document.head.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${w}px !important;
            ${R}px !important;
            top: ${E}px !important;
          }
        `),()=>{document.head.removeChild(M)}},[o]),A.jsx(Qy,{isPresent:o,childRef:p,sizeRef:x,children:_.cloneElement(r,{ref:p})})}const ew=({children:r,initial:o,isPresent:a,onExitComplete:d,custom:p,presenceAffectsLayout:x,mode:y,anchorX:b})=>{const w=cd(tw),E=_.useId(),S=_.useCallback(R=>{w.set(R,!0);for(const M of w.values())if(!M)return;d&&d()},[w,d]),T=_.useMemo(()=>({id:E,initial:o,isPresent:a,custom:p,onExitComplete:S,register:R=>(w.set(R,!1),()=>w.delete(R))}),x?[Math.random(),S]:[a,S]);return _.useMemo(()=>{w.forEach((R,M)=>w.set(M,!1))},[a]),_.useEffect(()=>{!a&&!w.size&&d&&d()},[a]),y==="popLayout"&&(r=A.jsx(Jy,{isPresent:a,anchorX:b,children:r})),A.jsx(kc.Provider,{value:T,children:r})};function tw(){return new Map}function og(r=!0){const o=_.useContext(kc);if(o===null)return[!0,null];const{isPresent:a,onExitComplete:d,register:p}=o,x=_.useId();_.useEffect(()=>{if(r)return p(x)},[r]);const y=_.useCallback(()=>r&&d&&d(x),[x,d,r]);return!a&&d?[!1,y]:[!0]}const nc=r=>r.key||"";function m1(r){const o=[];return _.Children.forEach(r,a=>{_.isValidElement(a)&&o.push(a)}),o}const x1=({children:r,custom:o,initial:a=!0,onExitComplete:d,presenceAffectsLayout:p=!0,mode:x="sync",propagate:y=!1,anchorX:b="left"})=>{const[w,E]=og(y),S=_.useMemo(()=>m1(r),[r]),T=y&&!w?[]:S.map(nc),R=_.useRef(!0),M=_.useRef(S),L=cd(()=>new Map),[F,B]=_.useState(S),[V,H]=_.useState(S);sg(()=>{R.current=!1,M.current=S;for(let ae=0;ae<V.length;ae++){const le=nc(V[ae]);T.includes(le)?L.delete(le):L.get(le)!==!0&&L.set(le,!1)}},[V,T.length,T.join("-")]);const U=[];if(S!==F){let ae=[...S];for(let le=0;le<V.length;le++){const X=V[le],ue=nc(X);T.includes(ue)||(ae.splice(le,0,X),U.push(X))}return x==="wait"&&U.length&&(ae=U),H(m1(ae)),B(S),null}const{forceRender:re}=_.useContext(ld);return A.jsx(A.Fragment,{children:V.map(ae=>{const le=nc(ae),X=y&&!w?!1:S===V||T.includes(le),ue=()=>{if(L.has(le))L.set(le,!0);else return;let q=!0;L.forEach(_e=>{_e||(q=!1)}),q&&(re==null||re(),H(M.current),y&&(E==null||E()),d&&d())};return A.jsx(ew,{isPresent:X,initial:!R.current||a?void 0:!1,custom:o,presenceAffectsLayout:p,mode:x,onExitComplete:X?void 0:ue,anchorX:b,children:ae},le)})})};function dd(r,o){r.indexOf(o)===-1&&r.push(o)}function hd(r,o){const a=r.indexOf(o);a>-1&&r.splice(a,1)}let ag=()=>{};const nw={useManualTiming:!1};function pd(r){let o;return()=>(o===void 0&&(o=r()),o)}const Vr=r=>r,Ma=(r,o,a)=>{const d=o-r;return d===0?1:(a-r)/d};class gd{constructor(){this.subscriptions=[]}add(o){return dd(this.subscriptions,o),()=>hd(this.subscriptions,o)}notify(o,a,d){const p=this.subscriptions.length;if(p)if(p===1)this.subscriptions[0](o,a,d);else for(let x=0;x<p;x++){const y=this.subscriptions[x];y&&y(o,a,d)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=r=>r*1e3,di=r=>r/1e3;function lg(r,o){return o?r*(1e3/o):0}const rw=pd(()=>window.ScrollTimeline!==void 0);class iw{constructor(o){this.stop=()=>this.runAll("stop"),this.animations=o.filter(Boolean)}get finished(){return Promise.all(this.animations.map(o=>o.finished))}getAll(o){return this.animations[0][o]}setAll(o,a){for(let d=0;d<this.animations.length;d++)this.animations[d][o]=a}attachTimeline(o,a){const d=this.animations.map(p=>{if(rw()&&p.attachTimeline)return p.attachTimeline(o);if(typeof a=="function")return a(p)});return()=>{d.forEach((p,x)=>{p&&p(),this.animations[x].stop()})}}get time(){return this.getAll("time")}set time(o){this.setAll("time",o)}get speed(){return this.getAll("speed")}set speed(o){this.setAll("speed",o)}get startTime(){return this.getAll("startTime")}get duration(){let o=0;for(let a=0;a<this.animations.length;a++)o=Math.max(o,this.animations[a].duration);return o}runAll(o){this.animations.forEach(a=>a[o]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sw extends iw{then(o,a){return this.finished.finally(o).then(()=>{})}}const y1={value:null},md=r=>Array.isArray(r)&&typeof r[0]=="number",ow={};function aw(r,o){const a=pd(r);return()=>ow[o]??a()}const Da=aw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cg=(r,o,a=10)=>{let d="";const p=Math.max(Math.round(o/a),2);for(let x=0;x<p;x++)d+=r(x/(p-1))+", ";return`linear(${d.substring(0,d.length-2)})`},Ia=([r,o,a,d])=>`cubic-bezier(${r}, ${o}, ${a}, ${d})`,Pf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ia([0,.65,.55,1]),circOut:Ia([.55,0,1,.45]),backIn:Ia([.31,.01,.66,-.59]),backOut:Ia([.33,1.53,.69,.99])};function ug(r,o){if(r)return typeof r=="function"&&Da()?cg(r,o):md(r)?Ia(r):Array.isArray(r)?r.map(a=>ug(a,o)||Pf.easeOut):Pf[r]}function lw(r,o,a,{delay:d=0,duration:p=300,repeat:x=0,repeatType:y="loop",ease:b="easeInOut",times:w}={},E=void 0){const S={[o]:a};w&&(S.offset=w);const T=ug(b,p);return Array.isArray(T)&&(S.easing=T),r.animate(S,{delay:d,duration:p,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:x+1,direction:y==="reverse"?"alternate":"normal",pseudoElement:E})}function xd(r){return typeof r=="function"&&"applyToOptions"in r}function yd(r,o){return(r==null?void 0:r[o])??(r==null?void 0:r.default)??r}const yc=2e4;function wd(r){let o=0;const a=50;let d=r.next(o);for(;!d.done&&o<yc;)o+=a,d=r.next(o);return o>=yc?1/0:o}function cw(r,o=100,a){const d=a({...r,keyframes:[0,o]}),p=Math.min(wd(d),yc);return{type:"keyframes",ease:x=>d.next(p*x).value/o,duration:di(p)}}function fg(r){return!!(typeof r=="function"&&Da()||!r||typeof r=="string"&&(r in Pf||Da())||md(r)||Array.isArray(r)&&r.every(fg))}function w1(r,o){r.timeline=o,r.onfinish=null}const rc=["read","resolveKeyframes","update","preRender","render","postRender"];function uw(r,o){let a=new Set,d=new Set,p=!1,x=!1;const y=new WeakSet;let b={delta:0,timestamp:0,isProcessing:!1},w=0;function E(T){y.has(T)&&(S.schedule(T),r()),w++,T(b)}const S={schedule:(T,R=!1,M=!1)=>{const F=M&&p?a:d;return R&&y.add(T),F.has(T)||F.add(T),T},cancel:T=>{d.delete(T),y.delete(T)},process:T=>{if(b=T,p){x=!0;return}p=!0,[a,d]=[d,a],a.forEach(E),o&&y1.value&&y1.value.frameloop[o].push(w),w=0,a.clear(),p=!1,x&&(x=!1,S.process(T))}};return S}const fw=40;function dg(r,o){let a=!1,d=!0;const p={delta:0,timestamp:0,isProcessing:!1},x=()=>a=!0,y=rc.reduce((V,H)=>(V[H]=uw(x,o?H:void 0),V),{}),{read:b,resolveKeyframes:w,update:E,preRender:S,render:T,postRender:R}=y,M=()=>{const V=performance.now();a=!1,p.delta=d?1e3/60:Math.max(Math.min(V-p.timestamp,fw),1),p.timestamp=V,p.isProcessing=!0,b.process(p),w.process(p),E.process(p),S.process(p),T.process(p),R.process(p),p.isProcessing=!1,a&&o&&(d=!1,r(M))},L=()=>{a=!0,d=!0,p.isProcessing||r(M)};return{schedule:rc.reduce((V,H)=>{const U=y[H];return V[H]=(re,ae=!1,le=!1)=>(a||L(),U.schedule(re,ae,le)),V},{}),cancel:V=>{for(let H=0;H<rc.length;H++)y[rc[H]].cancel(V)},state:p,steps:y}}const{schedule:qt,cancel:hs,state:Gn,steps:mf}=dg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0),{schedule:vd}=dg(queueMicrotask,!1);let uc;function dw(){uc=void 0}const hi={now:()=>(uc===void 0&&hi.set(Gn.isProcessing||nw.useManualTiming?Gn.timestamp:performance.now()),uc),set:r=>{uc=r,queueMicrotask(dw)}},Jr={x:!1,y:!1};function hg(){return Jr.x||Jr.y}function hw(r){return r==="x"||r==="y"?Jr[r]?null:(Jr[r]=!0,()=>{Jr[r]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}function pw(r,o,a){if(r instanceof EventTarget)return[r];if(typeof r=="string"){const p=document.querySelectorAll(r);return p?Array.from(p):[]}return Array.from(r)}function pg(r,o){const a=pw(r),d=new AbortController,p={passive:!0,...o,signal:d.signal};return[a,p,()=>d.abort()]}function v1(r){return!(r.pointerType==="touch"||hg())}function gw(r,o,a={}){const[d,p,x]=pg(r,a),y=b=>{if(!v1(b))return;const{target:w}=b,E=o(w,b);if(typeof E!="function"||!w)return;const S=T=>{v1(T)&&(E(T),w.removeEventListener("pointerleave",S))};w.addEventListener("pointerleave",S,p)};return d.forEach(b=>{b.addEventListener("pointerenter",y,p)}),x}const gg=(r,o)=>o?r===o?!0:gg(r,o.parentElement):!1,Cd=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,mw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xw(r){return mw.has(r.tagName)||r.tabIndex!==-1}const Ta=new WeakSet;function C1(r){return o=>{o.key==="Enter"&&r(o)}}function xf(r,o){r.dispatchEvent(new PointerEvent("pointer"+o,{isPrimary:!0,bubbles:!0}))}const yw=(r,o)=>{const a=r.currentTarget;if(!a)return;const d=C1(()=>{if(Ta.has(a))return;xf(a,"down");const p=C1(()=>{xf(a,"up")}),x=()=>xf(a,"cancel");a.addEventListener("keyup",p,o),a.addEventListener("blur",x,o)});a.addEventListener("keydown",d,o),a.addEventListener("blur",()=>a.removeEventListener("keydown",d),o)};function E1(r){return Cd(r)&&!hg()}function ww(r,o,a={}){const[d,p,x]=pg(r,a),y=b=>{const w=b.currentTarget;if(!E1(b)||Ta.has(w))return;Ta.add(w);const E=o(w,b),S=(M,L)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",R),!(!E1(M)||!Ta.has(w))&&(Ta.delete(w),typeof E=="function"&&E(M,{success:L}))},T=M=>{S(M,w===window||w===document||a.useGlobalTarget||gg(w,M.target))},R=M=>{S(M,!1)};window.addEventListener("pointerup",T,p),window.addEventListener("pointercancel",R,p)};return d.forEach(b=>{(a.useGlobalTarget?window:b).addEventListener("pointerdown",y,p),b instanceof HTMLElement&&(b.addEventListener("focus",E=>yw(E,p)),!xw(b)&&!b.hasAttribute("tabindex")&&(b.tabIndex=0))}),x}const b1=30,vw=r=>!isNaN(parseFloat(r));class Cw{constructor(o,a={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(d,p=!0)=>{const x=hi.now();this.updatedAt!==x&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(d),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),p&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(o),this.owner=a.owner}setCurrent(o){this.current=o,this.updatedAt=hi.now(),this.canTrackVelocity===null&&o!==void 0&&(this.canTrackVelocity=vw(this.current))}setPrevFrameValue(o=this.current){this.prevFrameValue=o,this.prevUpdatedAt=this.updatedAt}onChange(o){return this.on("change",o)}on(o,a){this.events[o]||(this.events[o]=new gd);const d=this.events[o].add(a);return o==="change"?()=>{d(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:d}clearListeners(){for(const o in this.events)this.events[o].clear()}attach(o,a){this.passiveEffect=o,this.stopPassiveEffect=a}set(o,a=!0){!a||!this.passiveEffect?this.updateAndNotify(o,a):this.passiveEffect(o,this.updateAndNotify)}setWithVelocity(o,a,d){this.set(a),this.prev=void 0,this.prevFrameValue=o,this.prevUpdatedAt=this.updatedAt-d}jump(o,a=!0){this.updateAndNotify(o),this.prev=o,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const o=hi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||o-this.updatedAt>b1)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,b1);return lg(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(o){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=o(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(r,o){return new Cw(r,o)}const mg=_.createContext({strict:!1}),A1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Po={};for(const r in A1)Po[r]={isEnabled:o=>A1[r].some(a=>!!o[a])};function Ew(r){for(const o in r)Po[o]={...Po[o],...r[o]}}const bw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wc(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||bw.has(r)}let xg=r=>!wc(r);function Aw(r){r&&(xg=o=>o.startsWith("on")?!wc(o):r(o))}try{Aw(require("@emotion/is-prop-valid").default)}catch{}function Sw(r,o,a){const d={};for(const p in r)p==="values"&&typeof r.values=="object"||(xg(p)||a===!0&&wc(p)||!o&&!wc(p)||r.draggable&&p.startsWith("onDrag"))&&(d[p]=r[p]);return d}function Iw(r){if(typeof Proxy>"u")return r;const o=new Map,a=(...d)=>r(...d);return new Proxy(a,{get:(d,p)=>p==="create"?r:(o.has(p)||o.set(p,r(p)),o.get(p))})}const Pc=_.createContext({});function Oc(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Ba(r){return typeof r=="string"||Array.isArray(r)}const Ed=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bd=["initial",...Ed];function Mc(r){return Oc(r.animate)||bd.some(o=>Ba(r[o]))}function yg(r){return!!(Mc(r)||r.variants)}function Tw(r,o){if(Mc(r)){const{initial:a,animate:d}=r;return{initial:a===!1||Ba(a)?a:void 0,animate:Ba(d)?d:void 0}}return r.inherit!==!1?o:{}}function Nw(r){const{initial:o,animate:a}=Tw(r,_.useContext(Pc));return _.useMemo(()=>({initial:o,animate:a}),[S1(o),S1(a)])}function S1(r){return Array.isArray(r)?r.join(" "):r}const Rw=Symbol.for("motionComponentSymbol");function So(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function _w(r,o,a){return _.useCallback(d=>{d&&r.onMount&&r.onMount(d),o&&(d?o.mount(d):o.unmount()),a&&(typeof a=="function"?a(d):So(a)&&(a.current=d))},[o])}const Ad=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kw="framerAppearId",wg="data-"+Ad(kw),vg=_.createContext({});function Pw(r,o,a,d,p){var F,B;const{visualElement:x}=_.useContext(Pc),y=_.useContext(mg),b=_.useContext(kc),w=_.useContext(fd).reducedMotion,E=_.useRef(null);d=d||y.renderer,!E.current&&d&&(E.current=d(r,{visualState:o,parent:x,props:a,presenceContext:b,blockInitialAnimation:b?b.initial===!1:!1,reducedMotionConfig:w}));const S=E.current,T=_.useContext(vg);S&&!S.projection&&p&&(S.type==="html"||S.type==="svg")&&Ow(E.current,a,p,T);const R=_.useRef(!1);_.useInsertionEffect(()=>{S&&R.current&&S.update(a,b)});const M=a[wg],L=_.useRef(!!M&&!((F=window.MotionHandoffIsComplete)!=null&&F.call(window,M))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,M)));return sg(()=>{S&&(R.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),vd.render(S.render),L.current&&S.animationState&&S.animationState.animateChanges())}),_.useEffect(()=>{S&&(!L.current&&S.animationState&&S.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,M)}),L.current=!1))}),S}function Ow(r,o,a,d){const{layoutId:p,layout:x,drag:y,dragConstraints:b,layoutScroll:w,layoutRoot:E}=o;r.projection=new a(r.latestValues,o["data-framer-portal-id"]?void 0:Cg(r.parent)),r.projection.setOptions({layoutId:p,layout:x,alwaysMeasureLayout:!!y||b&&So(b),visualElement:r,animationType:typeof x=="string"?x:"both",initialPromotionConfig:d,layoutScroll:w,layoutRoot:E})}function Cg(r){if(r)return r.options.allowProjection!==!1?r.projection:Cg(r.parent)}function Mw({preloadedFeatures:r,createVisualElement:o,useRender:a,useVisualState:d,Component:p}){r&&Ew(r);function x(b,w){let E;const S={..._.useContext(fd),...b,layoutId:Dw(b)},{isStatic:T}=S,R=Nw(b),M=d(b,T);if(!T&&ud){Lw();const L=Bw(S);E=L.MeasureLayout,R.visualElement=Pw(p,M,S,o,L.ProjectionNode)}return A.jsxs(Pc.Provider,{value:R,children:[E&&R.visualElement?A.jsx(E,{visualElement:R.visualElement,...S}):null,a(p,b,_w(M,R.visualElement,w),M,T,R.visualElement)]})}x.displayName=`motion.${typeof p=="string"?p:`create(${p.displayName??p.name??""})`}`;const y=_.forwardRef(x);return y[Rw]=p,y}function Dw({layoutId:r}){const o=_.useContext(ld).id;return o&&r!==void 0?o+"-"+r:r}function Lw(r,o){_.useContext(mg).strict}function Bw(r){const{drag:o,layout:a}=Po;if(!o&&!a)return{};const d={...o,...a};return{MeasureLayout:o!=null&&o.isEnabled(r)||a!=null&&a.isEnabled(r)?d.MeasureLayout:void 0,ProjectionNode:d.ProjectionNode}}const Eg=r=>o=>typeof o=="string"&&o.startsWith(r),Sd=Eg("--"),Fw=Eg("var(--"),Id=r=>Fw(r)?jw.test(r.split("/*")[0].trim()):!1,jw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fa={};function Vw(r){for(const o in r)Fa[o]=r[o],Sd(o)&&(Fa[o].isCSSVariable=!0)}const Lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(Lo);function bg(r,{layout:o,layoutId:a}){return qs.has(r)||r.startsWith("origin")||(o||a!==void 0)&&(!!Fa[r]||r==="opacity")}const nr=r=>!!(r&&r.getVelocity),Ag=(r,o)=>o&&typeof r=="number"?o.transform(r):r,Li=(r,o,a)=>a>o?o:a<r?r:a,Bo={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},ja={...Bo,transform:r=>Li(0,1,r)},ic={...Bo,default:1},Xa=r=>({test:o=>typeof o=="string"&&o.endsWith(r)&&o.split(" ").length===1,parse:parseFloat,transform:o=>`${o}${r}`}),us=Xa("deg"),pi=Xa("%"),rt=Xa("px"),zw=Xa("vh"),Uw=Xa("vw"),I1={...pi,parse:r=>pi.parse(r)/100,transform:r=>pi.transform(r*100)},Ww={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt},Hw={rotate:us,rotateX:us,rotateY:us,rotateZ:us,scale:ic,scaleX:ic,scaleY:ic,scaleZ:ic,skew:us,skewX:us,skewY:us,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:ja,originX:I1,originY:I1,originZ:rt},T1={...Bo,transform:Math.round},Td={...Ww,...Hw,zIndex:T1,size:rt,fillOpacity:ja,strokeOpacity:ja,numOctaves:T1},Gw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xw=Lo.length;function Yw(r,o,a){let d="",p=!0;for(let x=0;x<Xw;x++){const y=Lo[x],b=r[y];if(b===void 0)continue;let w=!0;if(typeof b=="number"?w=b===(y.startsWith("scale")?1:0):w=parseFloat(b)===0,!w||a){const E=Ag(b,Td[y]);if(!w){p=!1;const S=Gw[y]||y;d+=`${S}(${E}) `}a&&(o[y]=E)}}return d=d.trim(),a?d=a(o,p?"":d):p&&(d="none"),d}function Nd(r,o,a){const{style:d,vars:p,transformOrigin:x}=r;let y=!1,b=!1;for(const w in o){const E=o[w];if(qs.has(w)){y=!0;continue}else if(Sd(w)){p[w]=E;continue}else{const S=Ag(E,Td[w]);w.startsWith("origin")?(b=!0,x[w]=S):d[w]=S}}if(o.transform||(y||a?d.transform=Yw(o,r.transform,a):d.transform&&(d.transform="none")),b){const{originX:w="50%",originY:E="50%",originZ:S=0}=x;d.transformOrigin=`${w} ${E} ${S}`}}const Rd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sg(r,o,a){for(const d in o)!nr(o[d])&&!bg(d,a)&&(r[d]=o[d])}function Kw({transformTemplate:r},o){return _.useMemo(()=>{const a=Rd();return Nd(a,o,r),Object.assign({},a.vars,a.style)},[o])}function Zw(r,o){const a=r.style||{},d={};return Sg(d,a,r),Object.assign(d,Kw(r,o)),d}function $w(r,o){const a={},d=Zw(r,o);return r.drag&&r.dragListener!==!1&&(a.draggable=!1,d.userSelect=d.WebkitUserSelect=d.WebkitTouchCallout="none",d.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(a.tabIndex=0),a.style=d,a}const qw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _d(r){return typeof r!="string"||r.includes("-")?!1:!!(qw.indexOf(r)>-1||/[A-Z]/u.test(r))}const Qw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Jw={offset:"strokeDashoffset",array:"strokeDasharray"};function e3(r,o,a=1,d=0,p=!0){r.pathLength=1;const x=p?Qw:Jw;r[x.offset]=rt.transform(-d);const y=rt.transform(o),b=rt.transform(a);r[x.array]=`${y} ${b}`}function N1(r,o,a){return typeof r=="string"?r:rt.transform(o+a*r)}function t3(r,o,a){const d=N1(o,r.x,r.width),p=N1(a,r.y,r.height);return`${d} ${p}`}function kd(r,{attrX:o,attrY:a,attrScale:d,originX:p,originY:x,pathLength:y,pathSpacing:b=1,pathOffset:w=0,...E},S,T){if(Nd(r,E,T),S){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:R,style:M,dimensions:L}=r;R.transform&&(L&&(M.transform=R.transform),delete R.transform),L&&(p!==void 0||x!==void 0||M.transform)&&(M.transformOrigin=t3(L,p!==void 0?p:.5,x!==void 0?x:.5)),o!==void 0&&(R.x=o),a!==void 0&&(R.y=a),d!==void 0&&(R.scale=d),y!==void 0&&e3(R,y,b,w,!1)}const Ig=()=>({...Rd(),attrs:{}}),Pd=r=>typeof r=="string"&&r.toLowerCase()==="svg";function n3(r,o,a,d){const p=_.useMemo(()=>{const x=Ig();return kd(x,o,Pd(d),r.transformTemplate),{...x.attrs,style:{...x.style}}},[o]);if(r.style){const x={};Sg(x,r.style,r),p.style={...x,...p.style}}return p}function r3(r=!1){return(a,d,p,{latestValues:x},y)=>{const w=(_d(a)?n3:$w)(d,x,y,a),E=Sw(d,typeof a=="string",r),S=a!==_.Fragment?{...E,...w,ref:p}:{},{children:T}=d,R=_.useMemo(()=>nr(T)?T.get():T,[T]);return _.createElement(a,{...S,children:R})}}function R1(r){const o=[{},{}];return r==null||r.values.forEach((a,d)=>{o[0][d]=a.get(),o[1][d]=a.getVelocity()}),o}function Od(r,o,a,d){if(typeof o=="function"){const[p,x]=R1(d);o=o(a!==void 0?a:r.custom,p,x)}if(typeof o=="string"&&(o=r.variants&&r.variants[o]),typeof o=="function"){const[p,x]=R1(d);o=o(a!==void 0?a:r.custom,p,x)}return o}const Of=r=>Array.isArray(r),i3=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),s3=r=>Of(r)?r[r.length-1]||0:r;function fc(r){const o=nr(r)?r.get():r;return i3(o)?o.toValue():o}function o3({scrapeMotionValuesFromProps:r,createRenderState:o,onUpdate:a},d,p,x){const y={latestValues:a3(d,p,x,r),renderState:o()};return a&&(y.onMount=b=>a({props:d,current:b,...y}),y.onUpdate=b=>a(b)),y}const Tg=r=>(o,a)=>{const d=_.useContext(Pc),p=_.useContext(kc),x=()=>o3(r,o,d,p);return a?x():cd(x)};function a3(r,o,a,d){const p={},x=d(r,{});for(const R in x)p[R]=fc(x[R]);let{initial:y,animate:b}=r;const w=Mc(r),E=yg(r);o&&E&&!w&&r.inherit!==!1&&(y===void 0&&(y=o.initial),b===void 0&&(b=o.animate));let S=a?a.initial===!1:!1;S=S||y===!1;const T=S?b:y;if(T&&typeof T!="boolean"&&!Oc(T)){const R=Array.isArray(T)?T:[T];for(let M=0;M<R.length;M++){const L=Od(r,R[M]);if(L){const{transitionEnd:F,transition:B,...V}=L;for(const H in V){let U=V[H];if(Array.isArray(U)){const re=S?U.length-1:0;U=U[re]}U!==null&&(p[H]=U)}for(const H in F)p[H]=F[H]}}}return p}function Md(r,o,a){var x;const{style:d}=r,p={};for(const y in d)(nr(d[y])||o.style&&nr(o.style[y])||bg(y,r)||((x=a==null?void 0:a.getValue(y))==null?void 0:x.liveStyle)!==void 0)&&(p[y]=d[y]);return p}const l3={useVisualState:Tg({scrapeMotionValuesFromProps:Md,createRenderState:Rd})};function Ng(r,o){try{o.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}}function Rg(r,{style:o,vars:a},d,p){Object.assign(r.style,o,p&&p.getProjectionStyles(d));for(const x in a)r.style.setProperty(x,a[x])}const _g=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kg(r,o,a,d){Rg(r,o,void 0,d);for(const p in o.attrs)r.setAttribute(_g.has(p)?p:Ad(p),o.attrs[p])}function Pg(r,o,a){const d=Md(r,o,a);for(const p in r)if(nr(r[p])||nr(o[p])){const x=Lo.indexOf(p)!==-1?"attr"+p.charAt(0).toUpperCase()+p.substring(1):p;d[x]=r[p]}return d}const _1=["x","y","width","height","cx","cy","r"],c3={useVisualState:Tg({scrapeMotionValuesFromProps:Pg,createRenderState:Ig,onUpdate:({props:r,prevProps:o,current:a,renderState:d,latestValues:p})=>{if(!a)return;let x=!!r.drag;if(!x){for(const b in p)if(qs.has(b)){x=!0;break}}if(!x)return;let y=!o;if(o)for(let b=0;b<_1.length;b++){const w=_1[b];r[w]!==o[w]&&(y=!0)}y&&qt.read(()=>{Ng(a,d),qt.render(()=>{kd(d,p,Pd(a.tagName),r.transformTemplate),kg(a,d)})})}})};function u3(r,o){return function(d,{forwardMotionProps:p}={forwardMotionProps:!1}){const y={..._d(d)?c3:l3,preloadedFeatures:r,useRender:r3(p),createVisualElement:o,Component:d};return Mw(y)}}function Va(r,o,a){const d=r.getProps();return Od(d,o,a!==void 0?a:d.custom,r)}const Og=new Set(["width","height","top","left","right","bottom",...Lo]);function f3(r,o,a){r.hasValue(o)?r.getValue(o).set(a):r.addValue(o,La(a))}function d3(r,o){const a=Va(r,o);let{transitionEnd:d={},transition:p={},...x}=a||{};x={...x,...d};for(const y in x){const b=s3(x[y]);f3(r,y,b)}}function h3(r){return!!(nr(r)&&r.add)}function Mf(r,o){const a=r.getValue("willChange");if(h3(a))return a.add(o)}function Mg(r){return r.props[wg]}const Dg=(r,o,a)=>(((1-3*a+3*o)*r+(3*a-6*o))*r+3*o)*r,p3=1e-7,g3=12;function m3(r,o,a,d,p){let x,y,b=0;do y=o+(a-o)/2,x=Dg(y,d,p)-r,x>0?a=y:o=y;while(Math.abs(x)>p3&&++b<g3);return y}function Ya(r,o,a,d){if(r===o&&a===d)return Vr;const p=x=>m3(x,0,1,r,a);return x=>x===0||x===1?x:Dg(p(x),o,d)}const Lg=r=>o=>o<=.5?r(2*o)/2:(2-r(2*(1-o)))/2,Bg=r=>o=>1-r(1-o),Fg=Ya(.33,1.53,.69,.99),Dd=Bg(Fg),jg=Lg(Dd),Vg=r=>(r*=2)<1?.5*Dd(r):.5*(2-Math.pow(2,-10*(r-1))),Ld=r=>1-Math.sin(Math.acos(r)),zg=Bg(Ld),Ug=Lg(Ld),Wg=r=>/^0[^.\s]+$/u.test(r);function x3(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Wg(r):!0}const Na=r=>Math.round(r*1e5)/1e5,Bd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y3(r){return r==null}const w3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fd=(r,o)=>a=>!!(typeof a=="string"&&w3.test(a)&&a.startsWith(r)||o&&!y3(a)&&Object.prototype.hasOwnProperty.call(a,o)),Hg=(r,o,a)=>d=>{if(typeof d!="string")return d;const[p,x,y,b]=d.match(Bd);return{[r]:parseFloat(p),[o]:parseFloat(x),[a]:parseFloat(y),alpha:b!==void 0?parseFloat(b):1}},v3=r=>Li(0,255,r),yf={...Bo,transform:r=>Math.round(v3(r))},Xs={test:Fd("rgb","red"),parse:Hg("red","green","blue"),transform:({red:r,green:o,blue:a,alpha:d=1})=>"rgba("+yf.transform(r)+", "+yf.transform(o)+", "+yf.transform(a)+", "+Na(ja.transform(d))+")"};function C3(r){let o="",a="",d="",p="";return r.length>5?(o=r.substring(1,3),a=r.substring(3,5),d=r.substring(5,7),p=r.substring(7,9)):(o=r.substring(1,2),a=r.substring(2,3),d=r.substring(3,4),p=r.substring(4,5),o+=o,a+=a,d+=d,p+=p),{red:parseInt(o,16),green:parseInt(a,16),blue:parseInt(d,16),alpha:p?parseInt(p,16)/255:1}}const Df={test:Fd("#"),parse:C3,transform:Xs.transform},Io={test:Fd("hsl","hue"),parse:Hg("hue","saturation","lightness"),transform:({hue:r,saturation:o,lightness:a,alpha:d=1})=>"hsla("+Math.round(r)+", "+pi.transform(Na(o))+", "+pi.transform(Na(a))+", "+Na(ja.transform(d))+")"},tr={test:r=>Xs.test(r)||Df.test(r)||Io.test(r),parse:r=>Xs.test(r)?Xs.parse(r):Io.test(r)?Io.parse(r):Df.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Xs.transform(r):Io.transform(r)},E3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function b3(r){var o,a;return isNaN(r)&&typeof r=="string"&&(((o=r.match(Bd))==null?void 0:o.length)||0)+(((a=r.match(E3))==null?void 0:a.length)||0)>0}const Gg="number",Xg="color",A3="var",S3="var(",k1="${}",I3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function za(r){const o=r.toString(),a=[],d={color:[],number:[],var:[]},p=[];let x=0;const b=o.replace(I3,w=>(tr.test(w)?(d.color.push(x),p.push(Xg),a.push(tr.parse(w))):w.startsWith(S3)?(d.var.push(x),p.push(A3),a.push(w)):(d.number.push(x),p.push(Gg),a.push(parseFloat(w))),++x,k1)).split(k1);return{values:a,split:b,indexes:d,types:p}}function Yg(r){return za(r).values}function Kg(r){const{split:o,types:a}=za(r),d=o.length;return p=>{let x="";for(let y=0;y<d;y++)if(x+=o[y],p[y]!==void 0){const b=a[y];b===Gg?x+=Na(p[y]):b===Xg?x+=tr.transform(p[y]):x+=p[y]}return x}}const T3=r=>typeof r=="number"?0:r;function N3(r){const o=Yg(r);return Kg(r)(o.map(T3))}const ps={test:b3,parse:Yg,createTransformer:Kg,getAnimatableNone:N3},R3=new Set(["brightness","contrast","saturate","opacity"]);function _3(r){const[o,a]=r.slice(0,-1).split("(");if(o==="drop-shadow")return r;const[d]=a.match(Bd)||[];if(!d)return r;const p=a.replace(d,"");let x=R3.has(o)?1:0;return d!==a&&(x*=100),o+"("+x+p+")"}const k3=/\b([a-z-]*)\(.*?\)/gu,Lf={...ps,getAnimatableNone:r=>{const o=r.match(k3);return o?o.map(_3).join(" "):r}},P3={...Td,color:tr,backgroundColor:tr,outlineColor:tr,fill:tr,stroke:tr,borderColor:tr,borderTopColor:tr,borderRightColor:tr,borderBottomColor:tr,borderLeftColor:tr,filter:Lf,WebkitFilter:Lf},Zg=r=>P3[r];function $g(r,o){let a=Zg(r);return a!==Lf&&(a=ps),a.getAnimatableNone?a.getAnimatableNone(o):void 0}const O3=new Set(["auto","none","0"]);function M3(r,o,a){let d=0,p;for(;d<r.length&&!p;){const x=r[d];typeof x=="string"&&!O3.has(x)&&za(x).values.length&&(p=r[d]),d++}if(p&&a)for(const x of o)r[x]=$g(a,p)}const Ys=r=>r*180/Math.PI,Bf=r=>{const o=Ys(Math.atan2(r[1],r[0]));return Ff(o)},D3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Bf,rotateZ:Bf,skewX:r=>Ys(Math.atan(r[1])),skewY:r=>Ys(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Ff=r=>(r=r%360,r<0&&(r+=360),r),P1=Bf,O1=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),M1=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),L3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:O1,scaleY:M1,scale:r=>(O1(r)+M1(r))/2,rotateX:r=>Ff(Ys(Math.atan2(r[6],r[5]))),rotateY:r=>Ff(Ys(Math.atan2(-r[2],r[0]))),rotateZ:P1,rotate:P1,skewX:r=>Ys(Math.atan(r[4])),skewY:r=>Ys(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function D1(r){return r.includes("scale")?1:0}function jf(r,o){if(!r||r==="none")return D1(o);const a=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let d,p;if(a)d=L3,p=a;else{const b=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);d=D3,p=b}if(!p)return D1(o);const x=d[o],y=p[1].split(",").map(F3);return typeof x=="function"?x(y):y[x]}const B3=(r,o)=>{const{transform:a="none"}=getComputedStyle(r);return jf(a,o)};function F3(r){return parseFloat(r.trim())}const L1=r=>r===Bo||r===rt,j3=new Set(["x","y","z"]),V3=Lo.filter(r=>!j3.has(r));function z3(r){const o=[];return V3.forEach(a=>{const d=r.getValue(a);d!==void 0&&(o.push([a,d.get()]),d.set(a.startsWith("scale")?1:0))}),o}const Oo={width:({x:r},{paddingLeft:o="0",paddingRight:a="0"})=>r.max-r.min-parseFloat(o)-parseFloat(a),height:({y:r},{paddingTop:o="0",paddingBottom:a="0"})=>r.max-r.min-parseFloat(o)-parseFloat(a),top:(r,{top:o})=>parseFloat(o),left:(r,{left:o})=>parseFloat(o),bottom:({y:r},{top:o})=>parseFloat(o)+(r.max-r.min),right:({x:r},{left:o})=>parseFloat(o)+(r.max-r.min),x:(r,{transform:o})=>jf(o,"x"),y:(r,{transform:o})=>jf(o,"y")};Oo.translateX=Oo.x;Oo.translateY=Oo.y;const Zs=new Set;let Vf=!1,zf=!1;function qg(){if(zf){const r=Array.from(Zs).filter(d=>d.needsMeasurement),o=new Set(r.map(d=>d.element)),a=new Map;o.forEach(d=>{const p=z3(d);p.length&&(a.set(d,p),d.render())}),r.forEach(d=>d.measureInitialState()),o.forEach(d=>{d.render();const p=a.get(d);p&&p.forEach(([x,y])=>{var b;(b=d.getValue(x))==null||b.set(y)})}),r.forEach(d=>d.measureEndState()),r.forEach(d=>{d.suspendedScrollY!==void 0&&window.scrollTo(0,d.suspendedScrollY)})}zf=!1,Vf=!1,Zs.forEach(r=>r.complete()),Zs.clear()}function Qg(){Zs.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(zf=!0)})}function U3(){Qg(),qg()}class jd{constructor(o,a,d,p,x,y=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...o],this.onComplete=a,this.name=d,this.motionValue=p,this.element=x,this.isAsync=y}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zs.add(this),Vf||(Vf=!0,qt.read(Qg),qt.resolveKeyframes(qg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:o,name:a,element:d,motionValue:p}=this;for(let x=0;x<o.length;x++)if(o[x]===null)if(x===0){const y=p==null?void 0:p.get(),b=o[o.length-1];if(y!==void 0)o[0]=y;else if(d&&a){const w=d.readValue(a,b);w!=null&&(o[0]=w)}o[0]===void 0&&(o[0]=b),p&&y===void 0&&p.set(o[0])}else o[x]=o[x-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Jg=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),W3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H3(r){const o=W3.exec(r);if(!o)return[,];const[,a,d,p]=o;return[`--${a??d}`,p]}function em(r,o,a=1){const[d,p]=H3(r);if(!d)return;const x=window.getComputedStyle(o).getPropertyValue(d);if(x){const y=x.trim();return Jg(y)?parseFloat(y):y}return Id(p)?em(p,o,a+1):p}const tm=r=>o=>o.test(r),G3={test:r=>r==="auto",parse:r=>r},nm=[Bo,rt,pi,us,Uw,zw,G3],B1=r=>nm.find(tm(r));class rm extends jd{constructor(o,a,d,p,x){super(o,a,d,p,x,!0)}readKeyframes(){const{unresolvedKeyframes:o,element:a,name:d}=this;if(!a||!a.current)return;super.readKeyframes();for(let w=0;w<o.length;w++){let E=o[w];if(typeof E=="string"&&(E=E.trim(),Id(E))){const S=em(E,a.current);S!==void 0&&(o[w]=S),w===o.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!Og.has(d)||o.length!==2)return;const[p,x]=o,y=B1(p),b=B1(x);if(y!==b)if(L1(y)&&L1(b))for(let w=0;w<o.length;w++){const E=o[w];typeof E=="string"&&(o[w]=parseFloat(E))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:o,name:a}=this,d=[];for(let p=0;p<o.length;p++)x3(o[p])&&d.push(p);d.length&&M3(o,d,a)}measureInitialState(){const{element:o,unresolvedKeyframes:a,name:d}=this;if(!o||!o.current)return;d==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oo[d](o.measureViewportBox(),window.getComputedStyle(o.current)),a[0]=this.measuredOrigin;const p=a[a.length-1];p!==void 0&&o.getValue(d,p).jump(p,!1)}measureEndState(){var b;const{element:o,name:a,unresolvedKeyframes:d}=this;if(!o||!o.current)return;const p=o.getValue(a);p&&p.jump(this.measuredOrigin,!1);const x=d.length-1,y=d[x];d[x]=Oo[a](o.measureViewportBox(),window.getComputedStyle(o.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),(b=this.removedTransforms)!=null&&b.length&&this.removedTransforms.forEach(([w,E])=>{o.getValue(w).set(E)}),this.resolveNoneKeyframes()}}const F1=(r,o)=>o==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ps.test(r)||r==="0")&&!r.startsWith("url("));function X3(r){const o=r[0];if(r.length===1)return!0;for(let a=0;a<r.length;a++)if(r[a]!==o)return!0}function Y3(r,o,a,d){const p=r[0];if(p===null)return!1;if(o==="display"||o==="visibility")return!0;const x=r[r.length-1],y=F1(p,o),b=F1(x,o);return!y||!b?!1:X3(r)||(a==="spring"||xd(a))&&d}const K3=r=>r!==null;function Dc(r,{repeat:o,repeatType:a="loop"},d){const p=r.filter(K3),x=o&&a!=="loop"&&o%2===1?0:p.length-1;return!x||d===void 0?p[x]:d}const Z3=40;class im{constructor({autoplay:o=!0,delay:a=0,type:d="keyframes",repeat:p=0,repeatDelay:x=0,repeatType:y="loop",...b}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hi.now(),this.options={autoplay:o,delay:a,type:d,repeat:p,repeatDelay:x,repeatType:y,...b},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Z3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&U3(),this._resolved}onKeyframesResolved(o,a){this.resolvedAt=hi.now(),this.hasAttemptedResolve=!0;const{name:d,type:p,velocity:x,delay:y,onComplete:b,onUpdate:w,isGenerator:E}=this.options;if(!E&&!Y3(o,d,p,x))if(y)this.options.duration=0;else{w&&w(Dc(o,this.options,a)),b&&b(),this.resolveFinishedPromise();return}const S=this.initPlayback(o,a);S!==!1&&(this._resolved={keyframes:o,finalKeyframe:a,...S},this.onPostResolved())}onPostResolved(){}then(o,a){return this.currentFinishedPromise.then(o,a)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(o=>{this.resolveFinishedPromise=o})}}const cn=(r,o,a)=>r+(o-r)*a;function wf(r,o,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?r+(o-r)*6*a:a<1/2?o:a<2/3?r+(o-r)*(2/3-a)*6:r}function $3({hue:r,saturation:o,lightness:a,alpha:d}){r/=360,o/=100,a/=100;let p=0,x=0,y=0;if(!o)p=x=y=a;else{const b=a<.5?a*(1+o):a+o-a*o,w=2*a-b;p=wf(w,b,r+1/3),x=wf(w,b,r),y=wf(w,b,r-1/3)}return{red:Math.round(p*255),green:Math.round(x*255),blue:Math.round(y*255),alpha:d}}function vc(r,o){return a=>a>0?o:r}const vf=(r,o,a)=>{const d=r*r,p=a*(o*o-d)+d;return p<0?0:Math.sqrt(p)},q3=[Df,Xs,Io],Q3=r=>q3.find(o=>o.test(r));function j1(r){const o=Q3(r);if(!o)return!1;let a=o.parse(r);return o===Io&&(a=$3(a)),a}const V1=(r,o)=>{const a=j1(r),d=j1(o);if(!a||!d)return vc(r,o);const p={...a};return x=>(p.red=vf(a.red,d.red,x),p.green=vf(a.green,d.green,x),p.blue=vf(a.blue,d.blue,x),p.alpha=cn(a.alpha,d.alpha,x),Xs.transform(p))},J3=(r,o)=>a=>o(r(a)),Ka=(...r)=>r.reduce(J3),Uf=new Set(["none","hidden"]);function ev(r,o){return Uf.has(r)?a=>a<=0?r:o:a=>a>=1?o:r}function tv(r,o){return a=>cn(r,o,a)}function Vd(r){return typeof r=="number"?tv:typeof r=="string"?Id(r)?vc:tr.test(r)?V1:iv:Array.isArray(r)?sm:typeof r=="object"?tr.test(r)?V1:nv:vc}function sm(r,o){const a=[...r],d=a.length,p=r.map((x,y)=>Vd(x)(x,o[y]));return x=>{for(let y=0;y<d;y++)a[y]=p[y](x);return a}}function nv(r,o){const a={...r,...o},d={};for(const p in a)r[p]!==void 0&&o[p]!==void 0&&(d[p]=Vd(r[p])(r[p],o[p]));return p=>{for(const x in d)a[x]=d[x](p);return a}}function rv(r,o){const a=[],d={color:0,var:0,number:0};for(let p=0;p<o.values.length;p++){const x=o.types[p],y=r.indexes[x][d[x]],b=r.values[y]??0;a[p]=b,d[x]++}return a}const iv=(r,o)=>{const a=ps.createTransformer(o),d=za(r),p=za(o);return d.indexes.var.length===p.indexes.var.length&&d.indexes.color.length===p.indexes.color.length&&d.indexes.number.length>=p.indexes.number.length?Uf.has(r)&&!p.values.length||Uf.has(o)&&!d.values.length?ev(r,o):Ka(sm(rv(d,p),p.values),a):vc(r,o)};function om(r,o,a){return typeof r=="number"&&typeof o=="number"&&typeof a=="number"?cn(r,o,a):Vd(r)(r,o)}const sv=5;function am(r,o,a){const d=Math.max(o-sv,0);return lg(a-r(d),o-d)}const mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},z1=.001;function ov({duration:r=mn.duration,bounce:o=mn.bounce,velocity:a=mn.velocity,mass:d=mn.mass}){let p,x,y=1-o;y=Li(mn.minDamping,mn.maxDamping,y),r=Li(mn.minDuration,mn.maxDuration,di(r)),y<1?(p=E=>{const S=E*y,T=S*r,R=S-a,M=Wf(E,y),L=Math.exp(-T);return z1-R/M*L},x=E=>{const T=E*y*r,R=T*a+a,M=Math.pow(y,2)*Math.pow(E,2)*r,L=Math.exp(-T),F=Wf(Math.pow(E,2),y);return(-p(E)+z1>0?-1:1)*((R-M)*L)/F}):(p=E=>{const S=Math.exp(-E*r),T=(E-a)*r+1;return-.001+S*T},x=E=>{const S=Math.exp(-E*r),T=(a-E)*(r*r);return S*T});const b=5/r,w=lv(p,x,b);if(r=fi(r),isNaN(w))return{stiffness:mn.stiffness,damping:mn.damping,duration:r};{const E=Math.pow(w,2)*d;return{stiffness:E,damping:y*2*Math.sqrt(d*E),duration:r}}}const av=12;function lv(r,o,a){let d=a;for(let p=1;p<av;p++)d=d-r(d)/o(d);return d}function Wf(r,o){return r*Math.sqrt(1-o*o)}const cv=["duration","bounce"],uv=["stiffness","damping","mass"];function U1(r,o){return o.some(a=>r[a]!==void 0)}function fv(r){let o={velocity:mn.velocity,stiffness:mn.stiffness,damping:mn.damping,mass:mn.mass,isResolvedFromDuration:!1,...r};if(!U1(r,uv)&&U1(r,cv))if(r.visualDuration){const a=r.visualDuration,d=2*Math.PI/(a*1.2),p=d*d,x=2*Li(.05,1,1-(r.bounce||0))*Math.sqrt(p);o={...o,mass:mn.mass,stiffness:p,damping:x}}else{const a=ov(r);o={...o,...a,mass:mn.mass},o.isResolvedFromDuration=!0}return o}function Cc(r=mn.visualDuration,o=mn.bounce){const a=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:o}:r;let{restSpeed:d,restDelta:p}=a;const x=a.keyframes[0],y=a.keyframes[a.keyframes.length-1],b={done:!1,value:x},{stiffness:w,damping:E,mass:S,duration:T,velocity:R,isResolvedFromDuration:M}=fv({...a,velocity:-di(a.velocity||0)}),L=R||0,F=E/(2*Math.sqrt(w*S)),B=y-x,V=di(Math.sqrt(w/S)),H=Math.abs(B)<5;d||(d=H?mn.restSpeed.granular:mn.restSpeed.default),p||(p=H?mn.restDelta.granular:mn.restDelta.default);let U;if(F<1){const ae=Wf(V,F);U=le=>{const X=Math.exp(-F*V*le);return y-X*((L+F*V*B)/ae*Math.sin(ae*le)+B*Math.cos(ae*le))}}else if(F===1)U=ae=>y-Math.exp(-V*ae)*(B+(L+V*B)*ae);else{const ae=V*Math.sqrt(F*F-1);U=le=>{const X=Math.exp(-F*V*le),ue=Math.min(ae*le,300);return y-X*((L+F*V*B)*Math.sinh(ue)+ae*B*Math.cosh(ue))/ae}}const re={calculatedDuration:M&&T||null,next:ae=>{const le=U(ae);if(M)b.done=ae>=T;else{let X=0;F<1&&(X=ae===0?fi(L):am(U,ae,le));const ue=Math.abs(X)<=d,q=Math.abs(y-le)<=p;b.done=ue&&q}return b.value=b.done?y:le,b},toString:()=>{const ae=Math.min(wd(re),yc),le=cg(X=>re.next(ae*X).value,ae,30);return ae+"ms "+le},toTransition:()=>{}};return re}Cc.applyToOptions=r=>{const o=cw(r,100,Cc);return r.ease=Da()?o.ease:"easeOut",r.duration=fi(o.duration),r.type="keyframes",r};function W1({keyframes:r,velocity:o=0,power:a=.8,timeConstant:d=325,bounceDamping:p=10,bounceStiffness:x=500,modifyTarget:y,min:b,max:w,restDelta:E=.5,restSpeed:S}){const T=r[0],R={done:!1,value:T},M=ue=>b!==void 0&&ue<b||w!==void 0&&ue>w,L=ue=>b===void 0?w:w===void 0||Math.abs(b-ue)<Math.abs(w-ue)?b:w;let F=a*o;const B=T+F,V=y===void 0?B:y(B);V!==B&&(F=V-T);const H=ue=>-F*Math.exp(-ue/d),U=ue=>V+H(ue),re=ue=>{const q=H(ue),_e=U(ue);R.done=Math.abs(q)<=E,R.value=R.done?V:_e};let ae,le;const X=ue=>{M(R.value)&&(ae=ue,le=Cc({keyframes:[R.value,L(R.value)],velocity:am(U,ue,R.value),damping:p,stiffness:x,restDelta:E,restSpeed:S}))};return X(0),{calculatedDuration:null,next:ue=>{let q=!1;return!le&&ae===void 0&&(q=!0,re(ue),X(ue)),ae!==void 0&&ue>=ae?le.next(ue-ae):(!q&&re(ue),R)}}}const dv=Ya(.42,0,1,1),hv=Ya(0,0,.58,1),lm=Ya(.42,0,.58,1),pv=r=>Array.isArray(r)&&typeof r[0]!="number",gv={linear:Vr,easeIn:dv,easeInOut:lm,easeOut:hv,circIn:Ld,circInOut:Ug,circOut:zg,backIn:Dd,backInOut:jg,backOut:Fg,anticipate:Vg},H1=r=>{if(md(r)){ag(r.length===4);const[o,a,d,p]=r;return Ya(o,a,d,p)}else if(typeof r=="string")return gv[r];return r};function mv(r,o,a){const d=[],p=a||om,x=r.length-1;for(let y=0;y<x;y++){let b=p(r[y],r[y+1]);if(o){const w=Array.isArray(o)?o[y]||Vr:o;b=Ka(w,b)}d.push(b)}return d}function xv(r,o,{clamp:a=!0,ease:d,mixer:p}={}){const x=r.length;if(ag(x===o.length),x===1)return()=>o[0];if(x===2&&o[0]===o[1])return()=>o[1];const y=r[0]===r[1];r[0]>r[x-1]&&(r=[...r].reverse(),o=[...o].reverse());const b=mv(o,d,p),w=b.length,E=S=>{if(y&&S<r[0])return o[0];let T=0;if(w>1)for(;T<r.length-2&&!(S<r[T+1]);T++);const R=Ma(r[T],r[T+1],S);return b[T](R)};return a?S=>E(Li(r[0],r[x-1],S)):E}function yv(r,o){const a=r[r.length-1];for(let d=1;d<=o;d++){const p=Ma(0,o,d);r.push(cn(a,1,p))}}function wv(r){const o=[0];return yv(o,r.length-1),o}function vv(r,o){return r.map(a=>a*o)}function Cv(r,o){return r.map(()=>o||lm).splice(0,r.length-1)}function Ec({duration:r=300,keyframes:o,times:a,ease:d="easeInOut"}){const p=pv(d)?d.map(H1):H1(d),x={done:!1,value:o[0]},y=vv(a&&a.length===o.length?a:wv(o),r),b=xv(y,o,{ease:Array.isArray(p)?p:Cv(o,p)});return{calculatedDuration:r,next:w=>(x.value=b(w),x.done=w>=r,x)}}const Ev=r=>{const o=({timestamp:a})=>r(a);return{start:()=>qt.update(o,!0),stop:()=>hs(o),now:()=>Gn.isProcessing?Gn.timestamp:hi.now()}},bv={decay:W1,inertia:W1,tween:Ec,keyframes:Ec,spring:Cc},Av=r=>r/100;class zd extends im{constructor(o){super(o),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:w}=this.options;w&&w()};const{name:a,motionValue:d,element:p,keyframes:x}=this.options,y=(p==null?void 0:p.KeyframeResolver)||jd,b=(w,E)=>this.onKeyframesResolved(w,E);this.resolver=new y(x,b,a,d,p),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(o){const{type:a="keyframes",repeat:d=0,repeatDelay:p=0,repeatType:x,velocity:y=0}=this.options,b=xd(a)?a:bv[a]||Ec;let w,E;b!==Ec&&typeof o[0]!="number"&&(w=Ka(Av,om(o[0],o[1])),o=[0,100]);const S=b({...this.options,keyframes:o});x==="mirror"&&(E=b({...this.options,keyframes:[...o].reverse(),velocity:-y})),S.calculatedDuration===null&&(S.calculatedDuration=wd(S));const{calculatedDuration:T}=S,R=T+p,M=R*(d+1)-p;return{generator:S,mirroredGenerator:E,mapPercentToKeyframes:w,calculatedDuration:T,resolvedDuration:R,totalDuration:M}}onPostResolved(){const{autoplay:o=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!o?this.pause():this.state=this.pendingPlayState}tick(o,a=!1){const{resolved:d}=this;if(!d){const{keyframes:ue}=this.options;return{done:!0,value:ue[ue.length-1]}}const{finalKeyframe:p,generator:x,mirroredGenerator:y,mapPercentToKeyframes:b,keyframes:w,calculatedDuration:E,totalDuration:S,resolvedDuration:T}=d;if(this.startTime===null)return x.next(0);const{delay:R,repeat:M,repeatType:L,repeatDelay:F,onUpdate:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,o):this.speed<0&&(this.startTime=Math.min(o-S/this.speed,this.startTime)),a?this.currentTime=o:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(o-this.startTime)*this.speed;const V=this.currentTime-R*(this.speed>=0?1:-1),H=this.speed>=0?V<0:V>S;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=S);let U=this.currentTime,re=x;if(M){const ue=Math.min(this.currentTime,S)/T;let q=Math.floor(ue),_e=ue%1;!_e&&ue>=1&&(_e=1),_e===1&&q--,q=Math.min(q,M+1),!!(q%2)&&(L==="reverse"?(_e=1-_e,F&&(_e-=F/T)):L==="mirror"&&(re=y)),U=Li(0,1,_e)*T}const ae=H?{done:!1,value:w[0]}:re.next(U);b&&(ae.value=b(ae.value));let{done:le}=ae;!H&&E!==null&&(le=this.speed>=0?this.currentTime>=S:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return X&&p!==void 0&&(ae.value=Dc(w,this.options,p)),B&&B(ae.value),X&&this.finish(),ae}get duration(){const{resolved:o}=this;return o?di(o.calculatedDuration):0}get time(){return di(this.currentTime)}set time(o){o=fi(o),this.currentTime=o,this.holdTime!==null||this.speed===0?this.holdTime=o:this.driver&&(this.startTime=this.driver.now()-o/this.speed)}get speed(){return this.playbackSpeed}set speed(o){const a=this.playbackSpeed!==o;this.playbackSpeed=o,a&&(this.time=di(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:o=Ev,onPlay:a,startTime:d}=this.options;this.driver||(this.driver=o(x=>this.tick(x))),a&&a();const p=this.driver.now();this.holdTime!==null?this.startTime=p-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=p):this.startTime=d??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:o}=this.options;o&&o()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(o){return this.startTime=0,this.tick(o,!0)}get finished(){return this.currentFinishedPromise}}const Sv=new Set(["opacity","clipPath","filter","transform"]),Iv=pd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bc=10,Tv=2e4;function Nv(r){return xd(r.type)||r.type==="spring"||!fg(r.ease)}function Rv(r,o){const a=new zd({...o,keyframes:r,repeat:0,delay:0,isGenerator:!0});let d={done:!1,value:r[0]};const p=[];let x=0;for(;!d.done&&x<Tv;)d=a.sample(x),p.push(d.value),x+=bc;return{times:void 0,keyframes:p,duration:x-bc,ease:"linear"}}const cm={anticipate:Vg,backInOut:jg,circInOut:Ug};function _v(r){return r in cm}class G1 extends im{constructor(o){super(o);const{name:a,motionValue:d,element:p,keyframes:x}=this.options;this.resolver=new rm(x,(y,b)=>this.onKeyframesResolved(y,b),a,d,p),this.resolver.scheduleResolve()}initPlayback(o,a){let{duration:d=300,times:p,ease:x,type:y,motionValue:b,name:w,startTime:E}=this.options;if(!b.owner||!b.owner.current)return!1;if(typeof x=="string"&&Da()&&_v(x)&&(x=cm[x]),Nv(this.options)){const{onComplete:T,onUpdate:R,motionValue:M,element:L,...F}=this.options,B=Rv(o,F);o=B.keyframes,o.length===1&&(o[1]=o[0]),d=B.duration,p=B.times,x=B.ease,y="keyframes"}const S=lw(b.owner.current,w,o,{...this.options,duration:d,times:p,ease:x});return S.startTime=E??this.calcStartTime(),this.pendingTimeline?(w1(S,this.pendingTimeline),this.pendingTimeline=void 0):S.onfinish=()=>{const{onComplete:T}=this.options;b.set(Dc(o,this.options,a)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:S,duration:d,times:p,type:y,ease:x,keyframes:o}}get duration(){const{resolved:o}=this;if(!o)return 0;const{duration:a}=o;return di(a)}get time(){const{resolved:o}=this;if(!o)return 0;const{animation:a}=o;return di(a.currentTime||0)}set time(o){const{resolved:a}=this;if(!a)return;const{animation:d}=a;d.currentTime=fi(o)}get speed(){const{resolved:o}=this;if(!o)return 1;const{animation:a}=o;return a.playbackRate}get finished(){return this.resolved.animation.finished}set speed(o){const{resolved:a}=this;if(!a)return;const{animation:d}=a;d.playbackRate=o}get state(){const{resolved:o}=this;if(!o)return"idle";const{animation:a}=o;return a.playState}get startTime(){const{resolved:o}=this;if(!o)return null;const{animation:a}=o;return a.startTime}attachTimeline(o){if(!this._resolved)this.pendingTimeline=o;else{const{resolved:a}=this;if(!a)return Vr;const{animation:d}=a;w1(d,o)}return Vr}play(){if(this.isStopped)return;const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.playState==="finished"&&this.updateFinishedPromise(),a.play()}pause(){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:o}=this;if(!o)return;const{animation:a,keyframes:d,duration:p,type:x,ease:y,times:b}=o;if(a.playState==="idle"||a.playState==="finished")return;if(this.time){const{motionValue:E,onUpdate:S,onComplete:T,element:R,...M}=this.options,L=new zd({...M,keyframes:d,duration:p,type:x,ease:y,times:b,isGenerator:!0}),F=fi(this.time);E.setWithVelocity(L.sample(F-bc).value,L.sample(F).value,bc)}const{onStop:w}=this.options;w&&w(),this.cancel()}complete(){const{resolved:o}=this;o&&o.animation.finish()}cancel(){const{resolved:o}=this;o&&o.animation.cancel()}static supports(o){const{motionValue:a,name:d,repeatDelay:p,repeatType:x,damping:y,type:b}=o;if(!a||!a.owner||!(a.owner.current instanceof HTMLElement))return!1;const{onUpdate:w,transformTemplate:E}=a.owner.getProps();return Iv()&&d&&Sv.has(d)&&(d!=="transform"||!E)&&!w&&!p&&x!=="mirror"&&y!==0&&b!=="inertia"}}const kv={type:"spring",stiffness:500,damping:25,restSpeed:10},Pv=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Ov={type:"keyframes",duration:.8},Mv={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dv=(r,{keyframes:o})=>o.length>2?Ov:qs.has(r)?r.startsWith("scale")?Pv(o[1]):kv:Mv;function Lv({when:r,delay:o,delayChildren:a,staggerChildren:d,staggerDirection:p,repeat:x,repeatType:y,repeatDelay:b,from:w,elapsed:E,...S}){return!!Object.keys(S).length}const Ud=(r,o,a,d={},p,x)=>y=>{const b=yd(d,r)||{},w=b.delay||d.delay||0;let{elapsed:E=0}=d;E=E-fi(w);let S={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:o.getVelocity(),...b,delay:-E,onUpdate:R=>{o.set(R),b.onUpdate&&b.onUpdate(R)},onComplete:()=>{y(),b.onComplete&&b.onComplete()},name:r,motionValue:o,element:x?void 0:p};Lv(b)||(S={...S,...Dv(r,S)}),S.duration&&(S.duration=fi(S.duration)),S.repeatDelay&&(S.repeatDelay=fi(S.repeatDelay)),S.from!==void 0&&(S.keyframes[0]=S.from);let T=!1;if((S.type===!1||S.duration===0&&!S.repeatDelay)&&(S.duration=0,S.delay===0&&(T=!0)),S.allowFlatten=!b.type&&!b.ease,T&&!x&&o.get()!==void 0){const R=Dc(S.keyframes,b);if(R!==void 0)return qt.update(()=>{S.onUpdate(R),S.onComplete()}),new sw([])}return!x&&G1.supports(S)?new G1(S):new zd(S)};function Bv({protectedKeys:r,needsAnimating:o},a){const d=r.hasOwnProperty(a)&&o[a]!==!0;return o[a]=!1,d}function um(r,o,{delay:a=0,transitionOverride:d,type:p}={}){let{transition:x=r.getDefaultTransition(),transitionEnd:y,...b}=o;d&&(x=d);const w=[],E=p&&r.animationState&&r.animationState.getState()[p];for(const S in b){const T=r.getValue(S,r.latestValues[S]??null),R=b[S];if(R===void 0||E&&Bv(E,S))continue;const M={delay:a,...yd(x||{},S)};let L=!1;if(window.MotionHandoffAnimation){const B=Mg(r);if(B){const V=window.MotionHandoffAnimation(B,S,qt);V!==null&&(M.startTime=V,L=!0)}}Mf(r,S),T.start(Ud(S,T,R,r.shouldReduceMotion&&Og.has(S)?{type:!1}:M,r,L));const F=T.animation;F&&w.push(F)}return y&&Promise.all(w).then(()=>{qt.update(()=>{y&&d3(r,y)})}),w}function Hf(r,o,a={}){var w;const d=Va(r,o,a.type==="exit"?(w=r.presenceContext)==null?void 0:w.custom:void 0);let{transition:p=r.getDefaultTransition()||{}}=d||{};a.transitionOverride&&(p=a.transitionOverride);const x=d?()=>Promise.all(um(r,d,a)):()=>Promise.resolve(),y=r.variantChildren&&r.variantChildren.size?(E=0)=>{const{delayChildren:S=0,staggerChildren:T,staggerDirection:R}=p;return Fv(r,o,S+E,T,R,a)}:()=>Promise.resolve(),{when:b}=p;if(b){const[E,S]=b==="beforeChildren"?[x,y]:[y,x];return E().then(()=>S())}else return Promise.all([x(),y(a.delay)])}function Fv(r,o,a=0,d=0,p=1,x){const y=[],b=(r.variantChildren.size-1)*d,w=p===1?(E=0)=>E*d:(E=0)=>b-E*d;return Array.from(r.variantChildren).sort(jv).forEach((E,S)=>{E.notify("AnimationStart",o),y.push(Hf(E,o,{...x,delay:a+w(S)}).then(()=>E.notify("AnimationComplete",o)))}),Promise.all(y)}function jv(r,o){return r.sortNodePosition(o)}function Vv(r,o,a={}){r.notify("AnimationStart",o);let d;if(Array.isArray(o)){const p=o.map(x=>Hf(r,x,a));d=Promise.all(p)}else if(typeof o=="string")d=Hf(r,o,a);else{const p=typeof o=="function"?Va(r,o,a.custom):o;d=Promise.all(um(r,p,a))}return d.then(()=>{r.notify("AnimationComplete",o)})}function fm(r,o){if(!Array.isArray(o))return!1;const a=o.length;if(a!==r.length)return!1;for(let d=0;d<a;d++)if(o[d]!==r[d])return!1;return!0}const zv=bd.length;function dm(r){if(!r)return;if(!r.isControllingVariants){const a=r.parent?dm(r.parent)||{}:{};return r.props.initial!==void 0&&(a.initial=r.props.initial),a}const o={};for(let a=0;a<zv;a++){const d=bd[a],p=r.props[d];(Ba(p)||p===!1)&&(o[d]=p)}return o}const Uv=[...Ed].reverse(),Wv=Ed.length;function Hv(r){return o=>Promise.all(o.map(({animation:a,options:d})=>Vv(r,a,d)))}function Gv(r){let o=Hv(r),a=X1(),d=!0;const p=w=>(E,S)=>{var R;const T=Va(r,S,w==="exit"?(R=r.presenceContext)==null?void 0:R.custom:void 0);if(T){const{transition:M,transitionEnd:L,...F}=T;E={...E,...F,...L}}return E};function x(w){o=w(r)}function y(w){const{props:E}=r,S=dm(r.parent)||{},T=[],R=new Set;let M={},L=1/0;for(let B=0;B<Wv;B++){const V=Uv[B],H=a[V],U=E[V]!==void 0?E[V]:S[V],re=Ba(U),ae=V===w?H.isActive:null;ae===!1&&(L=B);let le=U===S[V]&&U!==E[V]&&re;if(le&&d&&r.manuallyAnimateOnMount&&(le=!1),H.protectedKeys={...M},!H.isActive&&ae===null||!U&&!H.prevProp||Oc(U)||typeof U=="boolean")continue;const X=Xv(H.prevProp,U);let ue=X||V===w&&H.isActive&&!le&&re||B>L&&re,q=!1;const _e=Array.isArray(U)?U:[U];let Le=_e.reduce(p(V),{});ae===!1&&(Le={});const{prevResolvedValues:Te={}}=H,ke={...Te,...Le},De=he=>{ue=!0,R.has(he)&&(q=!0,R.delete(he)),H.needsAnimating[he]=!0;const de=r.getValue(he);de&&(de.liveStyle=!1)};for(const he in ke){const de=Le[he],Re=Te[he];if(M.hasOwnProperty(he))continue;let fe=!1;Of(de)&&Of(Re)?fe=!fm(de,Re):fe=de!==Re,fe?de!=null?De(he):R.add(he):de!==void 0&&R.has(he)?De(he):H.protectedKeys[he]=!0}H.prevProp=U,H.prevResolvedValues=Le,H.isActive&&(M={...M,...Le}),d&&r.blockInitialAnimation&&(ue=!1),ue&&(!(le&&X)||q)&&T.push(..._e.map(he=>({animation:he,options:{type:V}})))}if(R.size){const B={};if(typeof E.initial!="boolean"){const V=Va(r,Array.isArray(E.initial)?E.initial[0]:E.initial);V&&V.transition&&(B.transition=V.transition)}R.forEach(V=>{const H=r.getBaseTarget(V),U=r.getValue(V);U&&(U.liveStyle=!0),B[V]=H??null}),T.push({animation:B})}let F=!!T.length;return d&&(E.initial===!1||E.initial===E.animate)&&!r.manuallyAnimateOnMount&&(F=!1),d=!1,F?o(T):Promise.resolve()}function b(w,E){var T;if(a[w].isActive===E)return Promise.resolve();(T=r.variantChildren)==null||T.forEach(R=>{var M;return(M=R.animationState)==null?void 0:M.setActive(w,E)}),a[w].isActive=E;const S=y(w);for(const R in a)a[R].protectedKeys={};return S}return{animateChanges:y,setActive:b,setAnimateFunction:x,getState:()=>a,reset:()=>{a=X1(),d=!0}}}function Xv(r,o){return typeof o=="string"?o!==r:Array.isArray(o)?!fm(o,r):!1}function Hs(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X1(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}class gs{constructor(o){this.isMounted=!1,this.node=o}update(){}}class Yv extends gs{constructor(o){super(o),o.animationState||(o.animationState=Gv(o))}updateAnimationControlsSubscription(){const{animate:o}=this.node.getProps();Oc(o)&&(this.unmountControls=o.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:o}=this.node.getProps(),{animate:a}=this.node.prevProps||{};o!==a&&this.updateAnimationControlsSubscription()}unmount(){var o;this.node.animationState.reset(),(o=this.unmountControls)==null||o.call(this)}}let Kv=0;class Zv extends gs{constructor(){super(...arguments),this.id=Kv++}update(){if(!this.node.presenceContext)return;const{isPresent:o,onExitComplete:a}=this.node.presenceContext,{isPresent:d}=this.node.prevPresenceContext||{};if(!this.node.animationState||o===d)return;const p=this.node.animationState.setActive("exit",!o);a&&!o&&p.then(()=>{a(this.id)})}mount(){const{register:o,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),o&&(this.unmount=o(this.id))}unmount(){}}const $v={animation:{Feature:Yv},exit:{Feature:Zv}};function Ua(r,o,a,d={passive:!0}){return r.addEventListener(o,a,d),()=>r.removeEventListener(o,a)}function Za(r){return{point:{x:r.pageX,y:r.pageY}}}const qv=r=>o=>Cd(o)&&r(o,Za(o));function Ra(r,o,a,d){return Ua(r,o,qv(a),d)}function hm({top:r,left:o,right:a,bottom:d}){return{x:{min:o,max:a},y:{min:r,max:d}}}function Qv({x:r,y:o}){return{top:o.min,right:r.max,bottom:o.max,left:r.min}}function Jv(r,o){if(!o)return r;const a=o({x:r.left,y:r.top}),d=o({x:r.right,y:r.bottom});return{top:a.y,left:a.x,bottom:d.y,right:d.x}}const pm=1e-4,eC=1-pm,tC=1+pm,gm=.01,nC=0-gm,rC=0+gm;function ur(r){return r.max-r.min}function iC(r,o,a){return Math.abs(r-o)<=a}function Y1(r,o,a,d=.5){r.origin=d,r.originPoint=cn(o.min,o.max,r.origin),r.scale=ur(a)/ur(o),r.translate=cn(a.min,a.max,r.origin)-r.originPoint,(r.scale>=eC&&r.scale<=tC||isNaN(r.scale))&&(r.scale=1),(r.translate>=nC&&r.translate<=rC||isNaN(r.translate))&&(r.translate=0)}function _a(r,o,a,d){Y1(r.x,o.x,a.x,d?d.originX:void 0),Y1(r.y,o.y,a.y,d?d.originY:void 0)}function K1(r,o,a){r.min=a.min+o.min,r.max=r.min+ur(o)}function sC(r,o,a){K1(r.x,o.x,a.x),K1(r.y,o.y,a.y)}function Z1(r,o,a){r.min=o.min-a.min,r.max=r.min+ur(o)}function ka(r,o,a){Z1(r.x,o.x,a.x),Z1(r.y,o.y,a.y)}const $1=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:$1(),y:$1()}),q1=()=>({min:0,max:0}),Cn=()=>({x:q1(),y:q1()});function jr(r){return[r("x"),r("y")]}function Cf(r){return r===void 0||r===1}function Gf({scale:r,scaleX:o,scaleY:a}){return!Cf(r)||!Cf(o)||!Cf(a)}function Gs(r){return Gf(r)||mm(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function mm(r){return Q1(r.x)||Q1(r.y)}function Q1(r){return r&&r!=="0%"}function Ac(r,o,a){const d=r-a,p=o*d;return a+p}function J1(r,o,a,d,p){return p!==void 0&&(r=Ac(r,p,d)),Ac(r,a,d)+o}function Xf(r,o=0,a=1,d,p){r.min=J1(r.min,o,a,d,p),r.max=J1(r.max,o,a,d,p)}function xm(r,{x:o,y:a}){Xf(r.x,o.translate,o.scale,o.originPoint),Xf(r.y,a.translate,a.scale,a.originPoint)}const ep=.999999999999,tp=1.0000000000001;function oC(r,o,a,d=!1){const p=a.length;if(!p)return;o.x=o.y=1;let x,y;for(let b=0;b<p;b++){x=a[b],y=x.projectionDelta;const{visualElement:w}=x.options;w&&w.props.style&&w.props.style.display==="contents"||(d&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Ro(r,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),y&&(o.x*=y.x.scale,o.y*=y.y.scale,xm(r,y)),d&&Gs(x.latestValues)&&Ro(r,x.latestValues))}o.x<tp&&o.x>ep&&(o.x=1),o.y<tp&&o.y>ep&&(o.y=1)}function No(r,o){r.min=r.min+o,r.max=r.max+o}function np(r,o,a,d,p=.5){const x=cn(r.min,r.max,p);Xf(r,o,a,x,d)}function Ro(r,o){np(r.x,o.x,o.scaleX,o.scale,o.originX),np(r.y,o.y,o.scaleY,o.scale,o.originY)}function ym(r,o){return hm(Jv(r.getBoundingClientRect(),o))}function aC(r,o,a){const d=ym(r,a),{scroll:p}=o;return p&&(No(d.x,p.offset.x),No(d.y,p.offset.y)),d}const wm=({current:r})=>r?r.ownerDocument.defaultView:null,rp=(r,o)=>Math.abs(r-o);function lC(r,o){const a=rp(r.x,o.x),d=rp(r.y,o.y);return Math.sqrt(a**2+d**2)}class vm{constructor(o,a,{transformPagePoint:d,contextWindow:p,dragSnapToOrigin:x=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=bf(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,M=lC(T.offset,{x:0,y:0})>=3;if(!R&&!M)return;const{point:L}=T,{timestamp:F}=Gn;this.history.push({...L,timestamp:F});const{onStart:B,onMove:V}=this.handlers;R||(B&&B(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,T)},this.handlePointerMove=(T,R)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Ef(R,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(T,R)=>{this.end();const{onEnd:M,onSessionEnd:L,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=bf(T.type==="pointercancel"?this.lastMoveEventInfo:Ef(R,this.transformPagePoint),this.history);this.startEvent&&M&&M(T,B),L&&L(T,B)},!Cd(o))return;this.dragSnapToOrigin=x,this.handlers=a,this.transformPagePoint=d,this.contextWindow=p||window;const y=Za(o),b=Ef(y,this.transformPagePoint),{point:w}=b,{timestamp:E}=Gn;this.history=[{...w,timestamp:E}];const{onSessionStart:S}=a;S&&S(o,bf(b,this.history)),this.removeListeners=Ka(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(o){this.handlers=o}end(){this.removeListeners&&this.removeListeners(),hs(this.updatePoint)}}function Ef(r,o){return o?{point:o(r.point)}:r}function ip(r,o){return{x:r.x-o.x,y:r.y-o.y}}function bf({point:r},o){return{point:r,delta:ip(r,Cm(o)),offset:ip(r,cC(o)),velocity:uC(o,.1)}}function cC(r){return r[0]}function Cm(r){return r[r.length-1]}function uC(r,o){if(r.length<2)return{x:0,y:0};let a=r.length-1,d=null;const p=Cm(r);for(;a>=0&&(d=r[a],!(p.timestamp-d.timestamp>fi(o)));)a--;if(!d)return{x:0,y:0};const x=di(p.timestamp-d.timestamp);if(x===0)return{x:0,y:0};const y={x:(p.x-d.x)/x,y:(p.y-d.y)/x};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function fC(r,{min:o,max:a},d){return o!==void 0&&r<o?r=d?cn(o,r,d.min):Math.max(r,o):a!==void 0&&r>a&&(r=d?cn(a,r,d.max):Math.min(r,a)),r}function sp(r,o,a){return{min:o!==void 0?r.min+o:void 0,max:a!==void 0?r.max+a-(r.max-r.min):void 0}}function dC(r,{top:o,left:a,bottom:d,right:p}){return{x:sp(r.x,a,p),y:sp(r.y,o,d)}}function op(r,o){let a=o.min-r.min,d=o.max-r.max;return o.max-o.min<r.max-r.min&&([a,d]=[d,a]),{min:a,max:d}}function hC(r,o){return{x:op(r.x,o.x),y:op(r.y,o.y)}}function pC(r,o){let a=.5;const d=ur(r),p=ur(o);return p>d?a=Ma(o.min,o.max-d,r.min):d>p&&(a=Ma(r.min,r.max-p,o.min)),Li(0,1,a)}function gC(r,o){const a={};return o.min!==void 0&&(a.min=o.min-r.min),o.max!==void 0&&(a.max=o.max-r.min),a}const Yf=.35;function mC(r=Yf){return r===!1?r=0:r===!0&&(r=Yf),{x:ap(r,"left","right"),y:ap(r,"top","bottom")}}function ap(r,o,a){return{min:lp(r,o),max:lp(r,a)}}function lp(r,o){return typeof r=="number"?r:r[o]||0}const xC=new WeakMap;class yC{constructor(o){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cn(),this.visualElement=o}start(o,{snapToCursor:a=!1}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const p=S=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Za(S).point)},x=(S,T)=>{const{drag:R,dragPropagation:M,onDragStart:L}=this.getProps();if(R&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hw(R),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(B=>{let V=this.getAxisMotionValue(B).get()||0;if(pi.test(V)){const{projection:H}=this.visualElement;if(H&&H.layout){const U=H.layout.layoutBox[B];U&&(V=ur(U)*(parseFloat(V)/100))}}this.originPoint[B]=V}),L&&qt.postRender(()=>L(S,T)),Mf(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},y=(S,T)=>{const{dragPropagation:R,dragDirectionLock:M,onDirectionLock:L,onDrag:F}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:B}=T;if(M&&this.currentDirection===null){this.currentDirection=wC(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",T.point,B),this.updateAxis("y",T.point,B),this.visualElement.render(),F&&F(S,T)},b=(S,T)=>this.stop(S,T),w=()=>jr(S=>{var T;return this.getAnimationState(S)==="paused"&&((T=this.getAxisMotionValue(S).animation)==null?void 0:T.play())}),{dragSnapToOrigin:E}=this.getProps();this.panSession=new vm(o,{onSessionStart:p,onStart:x,onMove:y,onSessionEnd:b,resumeAnimation:w},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,contextWindow:wm(this.visualElement)})}stop(o,a){const d=this.isDragging;if(this.cancel(),!d)return;const{velocity:p}=a;this.startAnimation(p);const{onDragEnd:x}=this.getProps();x&&qt.postRender(()=>x(o,a))}cancel(){this.isDragging=!1;const{projection:o,animationState:a}=this.visualElement;o&&(o.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:d}=this.getProps();!d&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(o,a,d){const{drag:p}=this.getProps();if(!d||!sc(o,p,this.currentDirection))return;const x=this.getAxisMotionValue(o);let y=this.originPoint[o]+d[o];this.constraints&&this.constraints[o]&&(y=fC(y,this.constraints[o],this.elastic[o])),x.set(y)}resolveConstraints(){var x;const{dragConstraints:o,dragElastic:a}=this.getProps(),d=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(x=this.visualElement.projection)==null?void 0:x.layout,p=this.constraints;o&&So(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&d?this.constraints=dC(d.layoutBox,o):this.constraints=!1,this.elastic=mC(a),p!==this.constraints&&d&&this.constraints&&!this.hasMutatedConstraints&&jr(y=>{this.constraints!==!1&&this.getAxisMotionValue(y)&&(this.constraints[y]=gC(d.layoutBox[y],this.constraints[y]))})}resolveRefConstraints(){const{dragConstraints:o,onMeasureDragConstraints:a}=this.getProps();if(!o||!So(o))return!1;const d=o.current,{projection:p}=this.visualElement;if(!p||!p.layout)return!1;const x=aC(d,p.root,this.visualElement.getTransformPagePoint());let y=hC(p.layout.layoutBox,x);if(a){const b=a(Qv(y));this.hasMutatedConstraints=!!b,b&&(y=hm(b))}return y}startAnimation(o){const{drag:a,dragMomentum:d,dragElastic:p,dragTransition:x,dragSnapToOrigin:y,onDragTransitionEnd:b}=this.getProps(),w=this.constraints||{},E=jr(S=>{if(!sc(S,a,this.currentDirection))return;let T=w&&w[S]||{};y&&(T={min:0,max:0});const R=p?200:1e6,M=p?40:1e7,L={type:"inertia",velocity:d?o[S]:0,bounceStiffness:R,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...x,...T};return this.startAxisValueAnimation(S,L)});return Promise.all(E).then(b)}startAxisValueAnimation(o,a){const d=this.getAxisMotionValue(o);return Mf(this.visualElement,o),d.start(Ud(o,d,0,a,this.visualElement,!1))}stopAnimation(){jr(o=>this.getAxisMotionValue(o).stop())}pauseAnimation(){jr(o=>{var a;return(a=this.getAxisMotionValue(o).animation)==null?void 0:a.pause()})}getAnimationState(o){var a;return(a=this.getAxisMotionValue(o).animation)==null?void 0:a.state}getAxisMotionValue(o){const a=`_drag${o.toUpperCase()}`,d=this.visualElement.getProps(),p=d[a];return p||this.visualElement.getValue(o,(d.initial?d.initial[o]:void 0)||0)}snapToCursor(o){jr(a=>{const{drag:d}=this.getProps();if(!sc(a,d,this.currentDirection))return;const{projection:p}=this.visualElement,x=this.getAxisMotionValue(a);if(p&&p.layout){const{min:y,max:b}=p.layout.layoutBox[a];x.set(o[a]-cn(y,b,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:o,dragConstraints:a}=this.getProps(),{projection:d}=this.visualElement;if(!So(a)||!d||!this.constraints)return;this.stopAnimation();const p={x:0,y:0};jr(y=>{const b=this.getAxisMotionValue(y);if(b&&this.constraints!==!1){const w=b.get();p[y]=pC({min:w,max:w},this.constraints[y])}});const{transformTemplate:x}=this.visualElement.getProps();this.visualElement.current.style.transform=x?x({},""):"none",d.root&&d.root.updateScroll(),d.updateLayout(),this.resolveConstraints(),jr(y=>{if(!sc(y,o,null))return;const b=this.getAxisMotionValue(y),{min:w,max:E}=this.constraints[y];b.set(cn(w,E,p[y]))})}addListeners(){if(!this.visualElement.current)return;xC.set(this.visualElement,this);const o=this.visualElement.current,a=Ra(o,"pointerdown",w=>{const{drag:E,dragListener:S=!0}=this.getProps();E&&S&&this.start(w)}),d=()=>{const{dragConstraints:w}=this.getProps();So(w)&&w.current&&(this.constraints=this.resolveRefConstraints())},{projection:p}=this.visualElement,x=p.addEventListener("measure",d);p&&!p.layout&&(p.root&&p.root.updateScroll(),p.updateLayout()),qt.read(d);const y=Ua(window,"resize",()=>this.scalePositionWithinConstraints()),b=p.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E})=>{this.isDragging&&E&&(jr(S=>{const T=this.getAxisMotionValue(S);T&&(this.originPoint[S]+=w[S].translate,T.set(T.get()+w[S].translate))}),this.visualElement.render())});return()=>{y(),a(),x(),b&&b()}}getProps(){const o=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:d=!1,dragPropagation:p=!1,dragConstraints:x=!1,dragElastic:y=Yf,dragMomentum:b=!0}=o;return{...o,drag:a,dragDirectionLock:d,dragPropagation:p,dragConstraints:x,dragElastic:y,dragMomentum:b}}}function sc(r,o,a){return(o===!0||o===r)&&(a===null||a===r)}function wC(r,o=10){let a=null;return Math.abs(r.y)>o?a="y":Math.abs(r.x)>o&&(a="x"),a}class vC extends gs{constructor(o){super(o),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new yC(o)}mount(){const{dragControls:o}=this.node.getProps();o&&(this.removeGroupControls=o.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const cp=r=>(o,a)=>{r&&qt.postRender(()=>r(o,a))};class CC extends gs{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(o){this.session=new vm(o,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wm(this.node)})}createPanHandlers(){const{onPanSessionStart:o,onPanStart:a,onPan:d,onPanEnd:p}=this.node.getProps();return{onSessionStart:cp(o),onStart:cp(a),onMove:d,onEnd:(x,y)=>{delete this.session,p&&qt.postRender(()=>p(x,y))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",o=>this.onPointerDown(o))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function up(r,o){return o.max===o.min?0:r/(o.max-o.min)*100}const Aa={correct:(r,o)=>{if(!o.target)return r;if(typeof r=="string")if(rt.test(r))r=parseFloat(r);else return r;const a=up(r,o.target.x),d=up(r,o.target.y);return`${a}% ${d}%`}},EC={correct:(r,{treeScale:o,projectionDelta:a})=>{const d=r,p=ps.parse(r);if(p.length>5)return d;const x=ps.createTransformer(r),y=typeof p[0]!="number"?1:0,b=a.x.scale*o.x,w=a.y.scale*o.y;p[0+y]/=b,p[1+y]/=w;const E=cn(b,w,.5);return typeof p[2+y]=="number"&&(p[2+y]/=E),typeof p[3+y]=="number"&&(p[3+y]/=E),x(p)}};class bC extends _.Component{componentDidMount(){const{visualElement:o,layoutGroup:a,switchLayoutGroup:d,layoutId:p}=this.props,{projection:x}=o;Vw(AC),x&&(a.group&&a.group.add(x),d&&d.register&&p&&d.register(x),x.root.didUpdate(),x.addEventListener("animationComplete",()=>{this.safeToRemove()}),x.setOptions({...x.options,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(o){const{layoutDependency:a,visualElement:d,drag:p,isPresent:x}=this.props,y=d.projection;return y&&(y.isPresent=x,p||o.layoutDependency!==a||a===void 0||o.isPresent!==x?y.willUpdate():this.safeToRemove(),o.isPresent!==x&&(x?y.promote():y.relegate()||qt.postRender(()=>{const b=y.getStack();(!b||!b.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:o}=this.props.visualElement;o&&(o.root.didUpdate(),vd.postRender(()=>{!o.currentAnimation&&o.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:o,layoutGroup:a,switchLayoutGroup:d}=this.props,{projection:p}=o;p&&(p.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(p),d&&d.deregister&&d.deregister(p))}safeToRemove(){const{safeToRemove:o}=this.props;o&&o()}render(){return null}}function Em(r){const[o,a]=og(),d=_.useContext(ld);return A.jsx(bC,{...r,layoutGroup:d,switchLayoutGroup:_.useContext(vg),isPresent:o,safeToRemove:a})}const AC={borderRadius:{...Aa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Aa,borderTopRightRadius:Aa,borderBottomLeftRadius:Aa,borderBottomRightRadius:Aa,boxShadow:EC};function SC(r,o,a){const d=nr(r)?r:La(r);return d.start(Ud("",d,o,a)),d.animation}function IC(r){return r instanceof SVGElement&&r.tagName!=="svg"}const TC=(r,o)=>r.depth-o.depth;class NC{constructor(){this.children=[],this.isDirty=!1}add(o){dd(this.children,o),this.isDirty=!0}remove(o){hd(this.children,o),this.isDirty=!0}forEach(o){this.isDirty&&this.children.sort(TC),this.isDirty=!1,this.children.forEach(o)}}function RC(r,o){const a=hi.now(),d=({timestamp:p})=>{const x=p-a;x>=o&&(hs(d),r(x-o))};return qt.read(d,!0),()=>hs(d)}const bm=["TopLeft","TopRight","BottomLeft","BottomRight"],_C=bm.length,fp=r=>typeof r=="string"?parseFloat(r):r,dp=r=>typeof r=="number"||rt.test(r);function kC(r,o,a,d,p,x){p?(r.opacity=cn(0,a.opacity!==void 0?a.opacity:1,PC(d)),r.opacityExit=cn(o.opacity!==void 0?o.opacity:1,0,OC(d))):x&&(r.opacity=cn(o.opacity!==void 0?o.opacity:1,a.opacity!==void 0?a.opacity:1,d));for(let y=0;y<_C;y++){const b=`border${bm[y]}Radius`;let w=hp(o,b),E=hp(a,b);if(w===void 0&&E===void 0)continue;w||(w=0),E||(E=0),w===0||E===0||dp(w)===dp(E)?(r[b]=Math.max(cn(fp(w),fp(E),d),0),(pi.test(E)||pi.test(w))&&(r[b]+="%")):r[b]=E}(o.rotate||a.rotate)&&(r.rotate=cn(o.rotate||0,a.rotate||0,d))}function hp(r,o){return r[o]!==void 0?r[o]:r.borderRadius}const PC=Am(0,.5,zg),OC=Am(.5,.95,Vr);function Am(r,o,a){return d=>d<r?0:d>o?1:a(Ma(r,o,d))}function pp(r,o){r.min=o.min,r.max=o.max}function Fr(r,o){pp(r.x,o.x),pp(r.y,o.y)}function gp(r,o){r.translate=o.translate,r.scale=o.scale,r.originPoint=o.originPoint,r.origin=o.origin}function mp(r,o,a,d,p){return r-=o,r=Ac(r,1/a,d),p!==void 0&&(r=Ac(r,1/p,d)),r}function MC(r,o=0,a=1,d=.5,p,x=r,y=r){if(pi.test(o)&&(o=parseFloat(o),o=cn(y.min,y.max,o/100)-y.min),typeof o!="number")return;let b=cn(x.min,x.max,d);r===x&&(b-=o),r.min=mp(r.min,o,a,b,p),r.max=mp(r.max,o,a,b,p)}function xp(r,o,[a,d,p],x,y){MC(r,o[a],o[d],o[p],o.scale,x,y)}const DC=["x","scaleX","originX"],LC=["y","scaleY","originY"];function yp(r,o,a,d){xp(r.x,o,DC,a?a.x:void 0,d?d.x:void 0),xp(r.y,o,LC,a?a.y:void 0,d?d.y:void 0)}function wp(r){return r.translate===0&&r.scale===1}function Sm(r){return wp(r.x)&&wp(r.y)}function vp(r,o){return r.min===o.min&&r.max===o.max}function BC(r,o){return vp(r.x,o.x)&&vp(r.y,o.y)}function Cp(r,o){return Math.round(r.min)===Math.round(o.min)&&Math.round(r.max)===Math.round(o.max)}function Im(r,o){return Cp(r.x,o.x)&&Cp(r.y,o.y)}function Ep(r){return ur(r.x)/ur(r.y)}function bp(r,o){return r.translate===o.translate&&r.scale===o.scale&&r.originPoint===o.originPoint}class FC{constructor(){this.members=[]}add(o){dd(this.members,o),o.scheduleRender()}remove(o){if(hd(this.members,o),o===this.prevLead&&(this.prevLead=void 0),o===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(o){const a=this.members.findIndex(p=>o===p);if(a===0)return!1;let d;for(let p=a;p>=0;p--){const x=this.members[p];if(x.isPresent!==!1){d=x;break}}return d?(this.promote(d),!0):!1}promote(o,a){const d=this.lead;if(o!==d&&(this.prevLead=d,this.lead=o,o.show(),d)){d.instance&&d.scheduleRender(),o.scheduleRender(),o.resumeFrom=d,a&&(o.resumeFrom.preserveOpacity=!0),d.snapshot&&(o.snapshot=d.snapshot,o.snapshot.latestValues=d.animationValues||d.latestValues),o.root&&o.root.isUpdating&&(o.isLayoutDirty=!0);const{crossfade:p}=o.options;p===!1&&d.hide()}}exitAnimationComplete(){this.members.forEach(o=>{const{options:a,resumingFrom:d}=o;a.onExitComplete&&a.onExitComplete(),d&&d.options.onExitComplete&&d.options.onExitComplete()})}scheduleRender(){this.members.forEach(o=>{o.instance&&o.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jC(r,o,a){let d="";const p=r.x.translate/o.x,x=r.y.translate/o.y,y=(a==null?void 0:a.z)||0;if((p||x||y)&&(d=`translate3d(${p}px, ${x}px, ${y}px) `),(o.x!==1||o.y!==1)&&(d+=`scale(${1/o.x}, ${1/o.y}) `),a){const{transformPerspective:E,rotate:S,rotateX:T,rotateY:R,skewX:M,skewY:L}=a;E&&(d=`perspective(${E}px) ${d}`),S&&(d+=`rotate(${S}deg) `),T&&(d+=`rotateX(${T}deg) `),R&&(d+=`rotateY(${R}deg) `),M&&(d+=`skewX(${M}deg) `),L&&(d+=`skewY(${L}deg) `)}const b=r.x.scale*o.x,w=r.y.scale*o.y;return(b!==1||w!==1)&&(d+=`scale(${b}, ${w})`),d||"none"}const Af=["","X","Y","Z"],VC={visibility:"hidden"},Ap=1e3;let zC=0;function Sf(r,o,a,d){const{latestValues:p}=o;p[r]&&(a[r]=p[r],o.setStaticValue(r,0),d&&(d[r]=0))}function Tm(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:o}=r.options;if(!o)return;const a=Mg(o);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:p,layoutId:x}=r.options;window.MotionCancelOptimisedAnimation(a,"transform",qt,!(p||x))}const{parent:d}=r;d&&!d.hasCheckedOptimisedAppear&&Tm(d)}function Nm({attachResizeListener:r,defaultParent:o,measureScroll:a,checkIsScrollRoot:d,resetTransform:p}){return class{constructor(y={},b=o==null?void 0:o()){this.id=zC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HC),this.nodes.forEach(ZC),this.nodes.forEach($C),this.nodes.forEach(GC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=y,this.root=b?b.root||b:this,this.path=b?[...b.path,b]:[],this.parent=b,this.depth=b?b.depth+1:0;for(let w=0;w<this.path.length;w++)this.path[w].shouldResetTransform=!0;this.root===this&&(this.nodes=new NC)}addEventListener(y,b){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new gd),this.eventHandlers.get(y).add(b)}notifyListeners(y,...b){const w=this.eventHandlers.get(y);w&&w.notify(...b)}hasListeners(y){return this.eventHandlers.has(y)}mount(y,b=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IC(y),this.instance=y;const{layoutId:w,layout:E,visualElement:S}=this.options;if(S&&!S.current&&S.mount(y),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),b&&(E||w)&&(this.isLayoutDirty=!0),r){let T;const R=()=>this.root.updateBlockedByResize=!1;r(y,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=RC(R,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(Ip))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&S&&(w||E)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:R,hasRelativeLayoutChanged:M,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const F=this.options.transition||S.getDefaultTransition()||tE,{onLayoutAnimationStart:B,onLayoutAnimationComplete:V}=S.getProps(),H=!this.targetLayout||!Im(this.targetLayout,L),U=!R&&M;if(this.options.layoutRoot||this.resumeFrom||U||R&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,U);const re={...yd(F,"layout"),onPlay:B,onComplete:V};(S.shouldReduceMotion||this.options.layoutRoot)&&(re.delay=0,re.type=!1),this.startAnimation(re)}else R||Ip(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const y=this.getStack();y&&y.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qC),this.animationId++)}getTransformTemplate(){const{visualElement:y}=this.options;return y&&y.getProps().transformTemplate}willUpdate(y=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tm(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const T=this.path[S];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:b,layout:w}=this.options;if(b===void 0&&!w)return;const E=this.getTransformTemplate();this.prevTransformTemplateValue=E?E(this.latestValues,""):void 0,this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sp);return}this.isUpdating||this.nodes.forEach(YC),this.isUpdating=!1,this.nodes.forEach(KC),this.nodes.forEach(UC),this.nodes.forEach(WC),this.clearAllSnapshots();const b=hi.now();Gn.delta=Li(0,1e3/60,b-Gn.timestamp),Gn.timestamp=b,Gn.isProcessing=!0,mf.update.process(Gn),mf.preRender.process(Gn),mf.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(XC),this.sharedNodes.forEach(QC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ur(this.snapshot.measuredBox.x)&&!ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let w=0;w<this.path.length;w++)this.path[w].updateScroll();const y=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Cn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:b}=this.options;b&&b.notify("LayoutMeasure",this.layout.layoutBox,y?y.layoutBox:void 0)}updateScroll(y="measure"){let b=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===y&&(b=!1),b){const w=d(this.instance);this.scroll={animationId:this.root.animationId,phase:y,isRoot:w,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:w}}}resetTransform(){if(!p)return;const y=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,b=this.projectionDelta&&!Sm(this.projectionDelta),w=this.getTransformTemplate(),E=w?w(this.latestValues,""):void 0,S=E!==this.prevTransformTemplateValue;y&&(b||Gs(this.latestValues)||S)&&(p(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const b=this.measurePageBox();let w=this.removeElementScroll(b);return y&&(w=this.removeTransform(w)),nE(w),{animationId:this.root.animationId,measuredBox:b,layoutBox:w,latestValues:{},source:this.id}}measurePageBox(){var E;const{visualElement:y}=this.options;if(!y)return Cn();const b=y.measureViewportBox();if(!(((E=this.scroll)==null?void 0:E.wasRoot)||this.path.some(rE))){const{scroll:S}=this.root;S&&(No(b.x,S.offset.x),No(b.y,S.offset.y))}return b}removeElementScroll(y){var w;const b=Cn();if(Fr(b,y),(w=this.scroll)!=null&&w.wasRoot)return b;for(let E=0;E<this.path.length;E++){const S=this.path[E],{scroll:T,options:R}=S;S!==this.root&&T&&R.layoutScroll&&(T.wasRoot&&Fr(b,y),No(b.x,T.offset.x),No(b.y,T.offset.y))}return b}applyTransform(y,b=!1){const w=Cn();Fr(w,y);for(let E=0;E<this.path.length;E++){const S=this.path[E];!b&&S.options.layoutScroll&&S.scroll&&S!==S.root&&Ro(w,{x:-S.scroll.offset.x,y:-S.scroll.offset.y}),Gs(S.latestValues)&&Ro(w,S.latestValues)}return Gs(this.latestValues)&&Ro(w,this.latestValues),w}removeTransform(y){const b=Cn();Fr(b,y);for(let w=0;w<this.path.length;w++){const E=this.path[w];if(!E.instance||!Gs(E.latestValues))continue;Gf(E.latestValues)&&E.updateSnapshot();const S=Cn(),T=E.measurePageBox();Fr(S,T),yp(b,E.latestValues,E.snapshot?E.snapshot.layoutBox:void 0,S)}return Gs(this.latestValues)&&yp(b,this.latestValues),b}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(y=!1){var R;const b=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=b.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=b.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=b.isSharedProjectionDirty);const w=!!this.resumingFrom||this!==b;if(!(y||w&&this.isSharedProjectionDirty||this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:S,layoutId:T}=this.options;if(!(!this.layout||!(S||T))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const M=this.getClosestProjectingParent();M&&M.layout&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),ka(this.relativeTargetOrigin,this.layout.layoutBox,M.layout.layoutBox),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cn(),this.targetWithTransforms=Cn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fr(this.target,this.layout.layoutBox),xm(this.target,this.targetDelta)):Fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const M=this.getClosestProjectingParent();M&&!!M.resumingFrom==!!this.resumingFrom&&!M.options.layoutScroll&&M.target&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cn(),this.relativeTargetOrigin=Cn(),ka(this.relativeTargetOrigin,this.target,M.target),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gf(this.parent.latestValues)||mm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var L;const y=this.getLead(),b=!!this.resumingFrom||this!==y;let w=!0;if((this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty)&&(w=!1),b&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(w=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(w=!1),w)return;const{layout:E,layoutId:S}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||S))return;Fr(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,R=this.treeScale.y;oC(this.layoutCorrected,this.treeScale,this.path,b),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=Cn());const{target:M}=y;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gp(this.prevProjectionDelta.x,this.projectionDelta.x),gp(this.prevProjectionDelta.y,this.projectionDelta.y)),_a(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==R||!bp(this.projectionDelta.x,this.prevProjectionDelta.x)||!bp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){var b;if((b=this.options.visualElement)==null||b.scheduleRender(),y){const w=this.getStack();w&&w.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(y,b=!1){const w=this.snapshot,E=w?w.latestValues:{},S={...this.latestValues},T=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!b;const R=Cn(),M=w?w.source:void 0,L=this.layout?this.layout.source:void 0,F=M!==L,B=this.getStack(),V=!B||B.members.length<=1,H=!!(F&&!V&&this.options.crossfade===!0&&!this.path.some(eE));this.animationProgress=0;let U;this.mixTargetDelta=re=>{const ae=re/1e3;Tp(T.x,y.x,ae),Tp(T.y,y.y,ae),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ka(R,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JC(this.relativeTarget,this.relativeTargetOrigin,R,ae),U&&BC(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=Cn()),Fr(U,this.relativeTarget)),F&&(this.animationValues=S,kC(S,E,this.latestValues,ae,H,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(y){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{dc.hasAnimatedSinceResize=!0,this.currentAnimation=SC(0,Ap,{...y,onUpdate:b=>{this.mixTargetDelta(b),y.onUpdate&&y.onUpdate(b)},onStop:()=>{},onComplete:()=>{y.onComplete&&y.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const y=this.getStack();y&&y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ap),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:b,target:w,layout:E,latestValues:S}=y;if(!(!b||!w||!E)){if(this!==y&&this.layout&&E&&Rm(this.options.animationType,this.layout.layoutBox,E.layoutBox)){w=this.target||Cn();const T=ur(this.layout.layoutBox.x);w.x.min=y.target.x.min,w.x.max=w.x.min+T;const R=ur(this.layout.layoutBox.y);w.y.min=y.target.y.min,w.y.max=w.y.min+R}Fr(b,w),Ro(b,S),_a(this.projectionDeltaWithTransform,this.layoutCorrected,b,S)}}registerSharedNode(y,b){this.sharedNodes.has(y)||this.sharedNodes.set(y,new FC),this.sharedNodes.get(y).add(b);const E=b.options.initialPromotionConfig;b.promote({transition:E?E.transition:void 0,preserveFollowOpacity:E&&E.shouldPreserveFollowOpacity?E.shouldPreserveFollowOpacity(b):void 0})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){var b;const{layoutId:y}=this.options;return y?((b=this.getStack())==null?void 0:b.lead)||this:this}getPrevLead(){var b;const{layoutId:y}=this.options;return y?(b=this.getStack())==null?void 0:b.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:b,preserveFollowOpacity:w}={}){const E=this.getStack();E&&E.promote(this,w),y&&(this.projectionDelta=void 0,this.needsReset=!0),b&&this.setOptions({transition:b})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetSkewAndRotation(){const{visualElement:y}=this.options;if(!y)return;let b=!1;const{latestValues:w}=y;if((w.z||w.rotate||w.rotateX||w.rotateY||w.rotateZ||w.skewX||w.skewY)&&(b=!0),!b)return;const E={};w.z&&Sf("z",y,E,this.animationValues);for(let S=0;S<Af.length;S++)Sf(`rotate${Af[S]}`,y,E,this.animationValues),Sf(`skew${Af[S]}`,y,E,this.animationValues);y.render();for(const S in E)y.setStaticValue(S,E[S]),this.animationValues&&(this.animationValues[S]=E[S]);y.scheduleRender()}getProjectionStyles(y){if(!this.instance||this.isSVG)return;if(!this.isVisible)return VC;const b={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,b.opacity="",b.pointerEvents=fc(y==null?void 0:y.pointerEvents)||"",b.transform=w?w(this.latestValues,""):"none",b;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=fc(y==null?void 0:y.pointerEvents)||""),this.hasProjected&&!Gs(this.latestValues)&&(M.transform=w?w({},""):"none",this.hasProjected=!1),M}const S=E.animationValues||E.latestValues;this.applyTransformsToTarget(),b.transform=jC(this.projectionDeltaWithTransform,this.treeScale,S),w&&(b.transform=w(S,b.transform));const{x:T,y:R}=this.projectionDelta;b.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,E.animationValues?b.opacity=E===this?S.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:b.opacity=E===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const M in Fa){if(S[M]===void 0)continue;const{correct:L,applyTo:F,isCSSVariable:B}=Fa[M],V=b.transform==="none"?S[M]:L(S[M],E);if(F){const H=F.length;for(let U=0;U<H;U++)b[F[U]]=V}else B?this.options.visualElement.renderState.vars[M]=V:b[M]=V}return this.options.layoutId&&(b.pointerEvents=E===this?fc(y==null?void 0:y.pointerEvents)||"":"none"),b}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>{var b;return(b=y.currentAnimation)==null?void 0:b.stop()}),this.root.nodes.forEach(Sp),this.root.sharedNodes.clear()}}}function UC(r){r.updateLayout()}function WC(r){var a;const o=((a=r.resumeFrom)==null?void 0:a.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&o&&r.hasListeners("didUpdate")){const{layoutBox:d,measuredBox:p}=r.layout,{animationType:x}=r.options,y=o.source!==r.layout.source;x==="size"?jr(T=>{const R=y?o.measuredBox[T]:o.layoutBox[T],M=ur(R);R.min=d[T].min,R.max=R.min+M}):Rm(x,o.layoutBox,d)&&jr(T=>{const R=y?o.measuredBox[T]:o.layoutBox[T],M=ur(d[T]);R.max=R.min+M,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[T].max=r.relativeTarget[T].min+M)});const b=To();_a(b,d,o.layoutBox);const w=To();y?_a(w,r.applyTransform(p,!0),o.measuredBox):_a(w,d,o.layoutBox);const E=!Sm(b);let S=!1;if(!r.resumeFrom){const T=r.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:R,layout:M}=T;if(R&&M){const L=Cn();ka(L,o.layoutBox,R.layoutBox);const F=Cn();ka(F,d,M.layoutBox),Im(L,F)||(S=!0),T.options.layoutRoot&&(r.relativeTarget=F,r.relativeTargetOrigin=L,r.relativeParent=T)}}}r.notifyListeners("didUpdate",{layout:d,snapshot:o,delta:w,layoutDelta:b,hasLayoutChanged:E,hasRelativeLayoutChanged:S})}else if(r.isLead()){const{onExitComplete:d}=r.options;d&&d()}r.options.transition=void 0}function HC(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function GC(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function XC(r){r.clearSnapshot()}function Sp(r){r.clearMeasurements()}function YC(r){r.isLayoutDirty=!1}function KC(r){const{visualElement:o}=r.options;o&&o.getProps().onBeforeLayoutMeasure&&o.notify("BeforeLayoutMeasure"),r.resetTransform()}function Ip(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function ZC(r){r.resolveTargetDelta()}function $C(r){r.calcProjection()}function qC(r){r.resetSkewAndRotation()}function QC(r){r.removeLeadSnapshot()}function Tp(r,o,a){r.translate=cn(o.translate,0,a),r.scale=cn(o.scale,1,a),r.origin=o.origin,r.originPoint=o.originPoint}function Np(r,o,a,d){r.min=cn(o.min,a.min,d),r.max=cn(o.max,a.max,d)}function JC(r,o,a,d){Np(r.x,o.x,a.x,d),Np(r.y,o.y,a.y,d)}function eE(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const tE={duration:.45,ease:[.4,0,.1,1]},Rp=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),_p=Rp("applewebkit/")&&!Rp("chrome/")?Math.round:Vr;function kp(r){r.min=_p(r.min),r.max=_p(r.max)}function nE(r){kp(r.x),kp(r.y)}function Rm(r,o,a){return r==="position"||r==="preserve-aspect"&&!iC(Ep(o),Ep(a),.2)}function rE(r){var o;return r!==r.root&&((o=r.scroll)==null?void 0:o.wasRoot)}const iE=Nm({attachResizeListener:(r,o)=>Ua(r,"resize",o),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),If={current:void 0},_m=Nm({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!If.current){const r=new iE({});r.mount(window),r.setOptions({layoutScroll:!0}),If.current=r}return If.current},resetTransform:(r,o)=>{r.style.transform=o!==void 0?o:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),sE={pan:{Feature:CC},drag:{Feature:vC,ProjectionNode:_m,MeasureLayout:Em}};function Pp(r,o,a){const{props:d}=r;r.animationState&&d.whileHover&&r.animationState.setActive("whileHover",a==="Start");const p="onHover"+a,x=d[p];x&&qt.postRender(()=>x(o,Za(o)))}class oE extends gs{mount(){const{current:o}=this.node;o&&(this.unmount=gw(o,(a,d)=>(Pp(this.node,d,"Start"),p=>Pp(this.node,p,"End"))))}unmount(){}}class aE extends gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let o=!1;try{o=this.node.current.matches(":focus-visible")}catch{o=!0}!o||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ka(Ua(this.node.current,"focus",()=>this.onFocus()),Ua(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Op(r,o,a){const{props:d}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&d.whileTap&&r.animationState.setActive("whileTap",a==="Start");const p="onTap"+(a==="End"?"":a),x=d[p];x&&qt.postRender(()=>x(o,Za(o)))}class lE extends gs{mount(){const{current:o}=this.node;o&&(this.unmount=ww(o,(a,d)=>(Op(this.node,d,"Start"),(p,{success:x})=>Op(this.node,p,x?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Kf=new WeakMap,Tf=new WeakMap,cE=r=>{const o=Kf.get(r.target);o&&o(r)},uE=r=>{r.forEach(cE)};function fE({root:r,...o}){const a=r||document;Tf.has(a)||Tf.set(a,{});const d=Tf.get(a),p=JSON.stringify(o);return d[p]||(d[p]=new IntersectionObserver(uE,{root:r,...o})),d[p]}function dE(r,o,a){const d=fE(o);return Kf.set(r,a),d.observe(r),()=>{Kf.delete(r),d.unobserve(r)}}const hE={some:0,all:1};class pE extends gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:o={}}=this.node.getProps(),{root:a,margin:d,amount:p="some",once:x}=o,y={root:a?a.current:void 0,rootMargin:d,threshold:typeof p=="number"?p:hE[p]},b=w=>{const{isIntersecting:E}=w;if(this.isInView===E||(this.isInView=E,x&&!E&&this.hasEnteredView))return;E&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",E);const{onViewportEnter:S,onViewportLeave:T}=this.node.getProps(),R=E?S:T;R&&R(w)};return dE(this.node.current,y,b)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:o,prevProps:a}=this.node;["amount","margin","root"].some(gE(o,a))&&this.startObserver()}unmount(){}}function gE({viewport:r={}},{viewport:o={}}={}){return a=>r[a]!==o[a]}const mE={inView:{Feature:pE},tap:{Feature:lE},focus:{Feature:aE},hover:{Feature:oE}},xE={layout:{ProjectionNode:_m,MeasureLayout:Em}},Zf={current:null},km={current:!1};function yE(){if(km.current=!0,!!ud)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),o=()=>Zf.current=r.matches;r.addListener(o),o()}else Zf.current=!1}const wE=[...nm,tr,ps],vE=r=>wE.find(tm(r)),CE=new WeakMap;function EE(r,o,a){for(const d in o){const p=o[d],x=a[d];if(nr(p))r.addValue(d,p);else if(nr(x))r.addValue(d,La(p,{owner:r}));else if(x!==p)if(r.hasValue(d)){const y=r.getValue(d);y.liveStyle===!0?y.jump(p):y.hasAnimated||y.set(p)}else{const y=r.getStaticValue(d);r.addValue(d,La(y!==void 0?y:p,{owner:r}))}}for(const d in a)o[d]===void 0&&r.removeValue(d);return o}const Mp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bE{scrapeMotionValuesFromProps(o,a,d){return{}}constructor({parent:o,props:a,presenceContext:d,reducedMotionConfig:p,blockInitialAnimation:x,visualState:y},b={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const M=hi.now();this.renderScheduledAt<M&&(this.renderScheduledAt=M,qt.render(this.render,!1,!0))};const{latestValues:w,renderState:E,onUpdate:S}=y;this.onUpdate=S,this.latestValues=w,this.baseTarget={...w},this.initialValues=a.initial?{...w}:{},this.renderState=E,this.parent=o,this.props=a,this.presenceContext=d,this.depth=o?o.depth+1:0,this.reducedMotionConfig=p,this.options=b,this.blockInitialAnimation=!!x,this.isControllingVariants=Mc(a),this.isVariantNode=yg(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(o&&o.current);const{willChange:T,...R}=this.scrapeMotionValuesFromProps(a,{},this);for(const M in R){const L=R[M];w[M]!==void 0&&nr(L)&&L.set(w[M],!1)}}mount(o){this.current=o,CE.set(o,this),this.projection&&!this.projection.instance&&this.projection.mount(o),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,d)=>this.bindToMotionValue(d,a)),km.current||yE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hs(this.notifyUpdate),hs(this.render),this.valueSubscriptions.forEach(o=>o()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const o in this.events)this.events[o].clear();for(const o in this.features){const a=this.features[o];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(o,a){this.valueSubscriptions.has(o)&&this.valueSubscriptions.get(o)();const d=qs.has(o);d&&this.onBindTransform&&this.onBindTransform();const p=a.on("change",b=>{this.latestValues[o]=b,this.props.onUpdate&&qt.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0)}),x=a.on("renderRequest",this.scheduleRender);let y;window.MotionCheckAppearSync&&(y=window.MotionCheckAppearSync(this,o,a)),this.valueSubscriptions.set(o,()=>{p(),x(),y&&y(),a.owner&&a.stop()})}sortNodePosition(o){return!this.current||!this.sortInstanceNodePosition||this.type!==o.type?0:this.sortInstanceNodePosition(this.current,o.current)}updateFeatures(){let o="animation";for(o in Po){const a=Po[o];if(!a)continue;const{isEnabled:d,Feature:p}=a;if(!this.features[o]&&p&&d(this.props)&&(this.features[o]=new p(this)),this.features[o]){const x=this.features[o];x.isMounted?x.update():(x.mount(),x.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cn()}getStaticValue(o){return this.latestValues[o]}setStaticValue(o,a){this.latestValues[o]=a}update(o,a){(o.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=o,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let d=0;d<Mp.length;d++){const p=Mp[d];this.propEventSubscriptions[p]&&(this.propEventSubscriptions[p](),delete this.propEventSubscriptions[p]);const x="on"+p,y=o[x];y&&(this.propEventSubscriptions[p]=this.on(p,y))}this.prevMotionValues=EE(this,this.scrapeMotionValuesFromProps(o,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(o){return this.props.variants?this.props.variants[o]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(o){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(o),()=>a.variantChildren.delete(o)}addValue(o,a){const d=this.values.get(o);a!==d&&(d&&this.removeValue(o),this.bindToMotionValue(o,a),this.values.set(o,a),this.latestValues[o]=a.get())}removeValue(o){this.values.delete(o);const a=this.valueSubscriptions.get(o);a&&(a(),this.valueSubscriptions.delete(o)),delete this.latestValues[o],this.removeValueFromRenderState(o,this.renderState)}hasValue(o){return this.values.has(o)}getValue(o,a){if(this.props.values&&this.props.values[o])return this.props.values[o];let d=this.values.get(o);return d===void 0&&a!==void 0&&(d=La(a===null?void 0:a,{owner:this}),this.addValue(o,d)),d}readValue(o,a){let d=this.latestValues[o]!==void 0||!this.current?this.latestValues[o]:this.getBaseTargetFromProps(this.props,o)??this.readValueFromInstance(this.current,o,this.options);return d!=null&&(typeof d=="string"&&(Jg(d)||Wg(d))?d=parseFloat(d):!vE(d)&&ps.test(a)&&(d=$g(o,a)),this.setBaseTarget(o,nr(d)?d.get():d)),nr(d)?d.get():d}setBaseTarget(o,a){this.baseTarget[o]=a}getBaseTarget(o){var x;const{initial:a}=this.props;let d;if(typeof a=="string"||typeof a=="object"){const y=Od(this.props,a,(x=this.presenceContext)==null?void 0:x.custom);y&&(d=y[o])}if(a&&d!==void 0)return d;const p=this.getBaseTargetFromProps(this.props,o);return p!==void 0&&!nr(p)?p:this.initialValues[o]!==void 0&&d===void 0?void 0:this.baseTarget[o]}on(o,a){return this.events[o]||(this.events[o]=new gd),this.events[o].add(a)}notify(o,...a){this.events[o]&&this.events[o].notify(...a)}}class Pm extends bE{constructor(){super(...arguments),this.KeyframeResolver=rm}sortInstanceNodePosition(o,a){return o.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(o,a){return o.style?o.style[a]:void 0}removeValueFromRenderState(o,{vars:a,style:d}){delete a[o],delete d[o]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:o}=this.props;nr(o)&&(this.childSubscription=o.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function AE(r){return window.getComputedStyle(r)}class SE extends Pm{constructor(){super(...arguments),this.type="html",this.renderInstance=Rg}readValueFromInstance(o,a){if(qs.has(a))return B3(o,a);{const d=AE(o),p=(Sd(a)?d.getPropertyValue(a):d[a])||0;return typeof p=="string"?p.trim():p}}measureInstanceViewportBox(o,{transformPagePoint:a}){return ym(o,a)}build(o,a,d){Nd(o,a,d.transformTemplate)}scrapeMotionValuesFromProps(o,a,d){return Md(o,a,d)}}class IE extends Pm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Ng(this.current,this.renderState)}}getBaseTargetFromProps(o,a){return o[a]}readValueFromInstance(o,a){if(qs.has(a)){const d=Zg(a);return d&&d.default||0}return a=_g.has(a)?a:Ad(a),o.getAttribute(a)}scrapeMotionValuesFromProps(o,a,d){return Pg(o,a,d)}onBindTransform(){this.current&&!this.renderState.dimensions&&qt.postRender(this.updateDimensions)}build(o,a,d){kd(o,a,this.isSVGTag,d.transformTemplate)}renderInstance(o,a,d,p){kg(o,a,d,p)}mount(o){this.isSVGTag=Pd(o.tagName),super.mount(o)}}const TE=(r,o)=>_d(r)?new IE(o):new SE(o,{allowProjection:r!==_.Fragment}),NE=u3({...$v,...mE,...sE,...xE},TE),Oi=Iw(NE),RE=()=>{const{login:r,signup:o,user:a,logout:d,checkAuth:p}=_.useContext(Ir),[x,y]=_.useState(""),[b,w]=_.useState(""),[E,S]=_.useState(""),[T,R]=_.useState(null),[M,L]=_.useState(null),[F,B]=_.useState(""),[V,H]=_.useState(0),[U,re]=_.useState({x:0,y:0}),[ae,le]=_.useState(1),[X,ue]=_.useState(null),[q,_e]=_.useState(!1),[Le,Te]=_.useState(!1),[ke,De]=_.useState({}),[ee,Be]=_.useState({}),[he,de]=_.useState(!1),[Re,fe]=_.useState(!1),[K,J]=_.useState(null),Ee=Tr(),Ve=yi(),it=new URLSearchParams(Ve.search),we=it.get("redirect"),Ze=it.get("code"),Ue=we==="lobby",mt=()=>{const ve="abcdefghijklmnopqrstuvwxyz0123456789";let Pe="";for(let $e=0;$e<10;$e++)Pe+=ve.charAt(Math.floor(Math.random()*ve.length));return Pe};_.useEffect(()=>{if(Ue&&!x&&!b){const ve=mt(),Pe=mt();y(ve),w(Pe),Be($e=>({...$e,username:!0,password:!0})),De($e=>({...$e,username:"",password:""})),H(2)}},[Ue,x,b,E]),_.useEffect(()=>{localStorage.getItem("access_token")&&Ee(we==="lobby"?Ze?`/lobby?code=${Ze}`:"/?showLobbyModal=true":we==="product-selection"?"/product-selection":"/")},[we,Ze,Ee]),_.useEffect(()=>{V===2&&E&&ht(E)&&(de(!0),Be(ve=>({...ve,displayName:!0})),De(ve=>({...ve,displayName:""})))},[V,E]);const ge=ve=>{const Pe=/^[a-z0-9]+$/;return ve.length>=2&&Pe.test(ve)},ct=ve=>ve.length>=2,ht=ve=>ve.length>=2,Oe=()=>{V<vt.length-1&&(V===0&&!E&&(S(x),Be(ve=>({...ve,displayName:!0})),De(ve=>({...ve,displayName:""}))),V===1&&E&&E.length>=2?de(!0):de(!1),H(ve=>ve+1))},Et=()=>{if(V>0){const ve=V-1;H(ve);const Pe=vt[ve];if(Pe.validate){const $e=Pe.value;Pe.validate($e)&&de(!0)}else de(!0)}},Bt=(ve,Pe,$e)=>{$e(ve.target.value);const jt=ve.target.value;Pe(jt)?(Be(yt=>({...yt,[vt[V].id]:!0})),De(yt=>({...yt,[vt[V].id]:""})),de(!0)):(Be(yt=>({...yt,[vt[V].id]:!1})),De(yt=>({...yt,[vt[V].id]:"Must be at least 2 characters"})),de(!1))},Ht=ve=>{const Pe=ve.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(Pe),ge(Pe)?(Be($e=>({...$e,username:!0})),De($e=>({...$e,username:""})),de(!0)):(Be($e=>({...$e,username:!1})),De($e=>({...$e,username:"Must be at least 2 characters"})),de(!1))},Pt=ve=>{Bt(ve,ct,w)},St=ve=>{Bt(ve,ht,S)},ut=ve=>{const Pe=ve.target.files[0];if(Pe){const $e=new FileReader;$e.onload=jt=>{const yt=new Image;yt.onload=()=>{let pt=yt.width,rn=yt.height;const Ot=1500;pt>rn&&pt>Ot?(rn=rn*Ot/pt,pt=Ot):rn>pt&&rn>Ot&&(pt=pt*Ot/rn,rn=Ot);const Gt=document.createElement("canvas");Gt.width=pt,Gt.height=rn,Gt.getContext("2d").drawImage(yt,0,0,pt,rn);const Se=Gt.toDataURL("image/jpeg",.75);R(Pe),L(Se),_e(!0),Be(Vt=>({...Vt,image:!0})),De(Vt=>({...Vt,image:""})),de(!0)},yt.src=jt.target.result},$e.readAsDataURL(Pe)}},An=(ve,Pe)=>{ue(Pe)},Ne=async()=>{try{const ve=await td(M,X);L(ve),_e(!1)}catch(ve){console.error("Error cropping the image:",ve),B("Failed to crop image. Please try again.")}},Mn=async ve=>{if(ve.preventDefault(),Te(!0),B(""),console.log("Signup attempt - Username:",x,"Password:",b),!x||!b||!E){B("All fields are required"),Te(!1);return}if(!T||!M){B("Your profile picture is required"),Te(!1);return}try{const Pe="/signup",$e=await fetch(window.server_url+Pe,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:x,password:b})}),jt=await $e.json();if(jt.error==="Username already taken")if(Ue){const Ot=mt(),Gt=mt();y(Ot),w(Gt);const _t=await fetch(window.server_url+Pe,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:Ot,password:Gt})}),Se=await _t.json();if(!_t.ok||Se.error==="Username already taken"){B("Unable to create account. Please try again."),Te(!1);return}r(Se)}else{B("Username is taken"),Te(!1);return}else{if(!$e.ok){B(jt.message||"Signup failed"),Te(!1);return}r(jt)}await p();const yt=localStorage.getItem("access_token");if(!yt)throw new Error("Authentication failed");let pt=null;if(T)pt=M,pt=pt.split(",")[1];else{const _t=await(await(await fetch("/assets/fakeprofile.png")).blob()).arrayBuffer();pt=btoa(new Uint8Array(_t).reduce((Se,Vt)=>Se+String.fromCharCode(Vt),""))}if(!(await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${yt}`,"Content-Type":"application/json"},body:JSON.stringify({name:E,image_data:pt})})).ok)throw new Error("Failed to update profile");await p(),Ee(we==="lobby"?Ze?`/lobby?code=${Ze}`:"/?showLobbyModal=true":we==="product-selection"?"/product-selection":"/")}catch(Pe){console.error("Error:",Pe),B("An error occurred. Please try again.")}Te(!1)},vt=[{id:"username",label:"Username",value:x,onChange:Ht,type:"text",placeholder:"Enter a username",validate:ge},{id:"password",label:"Password",value:b,onChange:Pt,type:"text",placeholder:"Create a password",validate:ct},{id:"displayName",label:Ze==="demolobby"?"Display Name (Type Any Name)":"Display Name (what people will see)",value:E,onChange:St,type:"text",placeholder:"Enter your preferred name",validate:ht},{id:"image",label:Ze==="demolobby"?"Profile Image (Upload Any Image)":"Upload a Selfie (so people can find you)",type:"file",onChange:ut,accept:"image/*"}];return A.jsxs("div",{className:"signup-container",children:[A.jsx("button",{onClick:()=>Ee("/"),className:"homescreen-button",children:"Home"}),A.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),A.jsx("h3",{className:"signup-header",children:Ze==="demolobby"?"Join the demo":"Sign Up to Join"}),Ze&&Ze!=="demolobby"&&A.jsxs("h2",{className:"signup-header",children:[Ze," lobby"]}),Ze==="demolobby"&&A.jsx("h2",{className:"signup-header",style:{fontSize:"0.9rem"},children:"Try Reuneo for Free!"}),A.jsxs("p",{className:"login-link-text",children:["Already have an account? ",A.jsx("a",{href:"#",onClick:ve=>{ve.preventDefault(),Ee("/login")},className:"login-link",children:"Login here"})]}),A.jsxs("div",{className:"step-form-container",children:[A.jsx("div",{className:"step-progress",children:(Ue?vt.slice(2):vt).map((ve,Pe)=>A.jsx("div",{className:`progress-dot ${Ue?(Pe===V-2?"active":"")+(Pe<V-2?" completed":""):(Pe===V?"active":"")+(Pe<V?" completed":"")}`},Pe))}),A.jsxs("form",{onSubmit:Mn,children:[A.jsx(x1,{mode:"wait",initial:!1,children:A.jsxs(Oi.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{type:"spring",stiffness:500,damping:25,mass:.3},className:"step active",style:{willChange:"transform, opacity"},children:[A.jsx("div",{className:"step-content",children:A.jsxs(Oi.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[A.jsx("label",{className:"step-label",children:vt[V].label}),A.jsx(Oi.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.15,ease:"easeOut"},children:vt[V].type==="file"?A.jsx("div",{className:"image-upload-container",children:q?A.jsxs("div",{className:"cropper-container",children:[A.jsx("div",{className:"cropper-wrapper",children:A.jsx(gc,{image:M,crop:U,zoom:ae,aspect:1,onCropComplete:An,onCropChange:re,onZoomChange:le})}),A.jsxs("div",{className:"cropper-controls",children:[A.jsx("button",{type:"button",onClick:()=>{_e(!1),L(null),R(null)},className:"cancel-crop-button",children:"Cancel"}),A.jsx("button",{type:"button",onClick:Ne,className:"save-crop-button",children:"Good"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("input",{type:"file",onChange:vt[V].onChange,accept:vt[V].accept,className:"step-input"}),M&&A.jsx("div",{children:A.jsx("img",{src:M,alt:"Profile preview",className:"profile-preview-image"})})]})}):A.jsx("input",{type:vt[V].type,value:vt[V].value,onChange:vt[V].onChange,placeholder:vt[V].placeholder,className:"step-input",autoFocus:!0})}),A.jsxs(x1,{mode:"wait",children:[ke[vt[V].id]&&A.jsx(Oi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"step-error",children:ke[vt[V].id]}),ee[vt[V].id]&&A.jsx(Oi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"step-success",children:" Valid"})]})]})}),!q&&A.jsxs("div",{className:"button-container",children:[V>0&&A.jsx(Oi.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:Et,className:"backz-button",children:" Back"}),he&&V<vt.length-1&&A.jsx(Oi.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:Oe,className:"nextz-button",children:"Next "})]})]},V)}),F&&A.jsx(Oi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"error-message",children:F}),V===vt.length-1&&A.jsx(Oi.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},type:"submit",className:"primary-button",disabled:Le,children:Le?"Loading...":"Complete Signup"})]})]})]})},Om=({profile:r})=>{var w,E,S,T;const o="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z",[a,d]=_.useState(!1),p={card:{backgroundColor:"#ffffff",borderRadius:"20px",boxShadow:"0 8px 32px rgba(20, 77, 255, 0.15)",padding:"1.5rem",margin:"0.5rem",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",maxWidth:"420px",border:"1px solid rgba(20, 77, 255, 0.1)",position:"relative",overflow:"hidden"},heading:{color:"#144dff",fontSize:"1.8rem",marginBottom:"1rem",fontWeight:"700",letterSpacing:"-0.5px",textAlign:"center"},imageContainer:{display:"flex",justifyContent:"center",marginBottom:"1rem",position:"relative"},image:{width:"120px",height:"120px",borderRadius:"60px",objectFit:"cover",border:"4px solid #144dff",boxShadow:"0 8px 24px rgba(20, 77, 255, 0.3)",transition:"transform 0.3s ease"},description:{color:"#4a5568",fontSize:"1.1rem",lineHeight:"1.7",marginBottom:"0.75rem",display:"-webkit-box",WebkitLineClamp:a?"unset":3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:a?"unset":"ellipsis",textAlign:"center"},expandButton:{background:"linear-gradient(135deg, #144dff, #3b82f6)",border:"none",color:"white",cursor:"pointer",padding:"8px 16px",fontSize:"0.9rem",fontWeight:"600",borderRadius:"20px",transition:"all 0.2s ease",display:"block",margin:"0 auto 0.75rem",boxShadow:"0 4px 12px rgba(20, 77, 255, 0.3)"},linksContainer:{marginTop:"1rem",padding:"1rem 0 0",borderTop:"2px solid rgba(20, 77, 255, 0.1)",display:"flex",flexDirection:"column",gap:"0.5rem"},linkItem:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",color:"#144dff",textDecoration:"none",padding:"10px 16px",borderRadius:"12px",background:"rgba(20, 77, 255, 0.05)",transition:"all 0.3s ease",fontWeight:"500",border:"1px solid rgba(20, 77, 255, 0.1)"}},x=_.useRef(null),[y,b]=_.useState(!1);return _.useEffect(()=>{if(x.current){const R=x.current;b(R.scrollHeight>R.clientHeight)}},[r.description]),A.jsxs("div",{className:"profile-card",style:p.card,onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-8px)",R.currentTarget.style.boxShadow="0 16px 48px rgba(20, 77, 255, 0.25)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 8px 32px rgba(20, 77, 255, 0.15)"},children:[A.jsx("h2",{style:p.heading,children:r.name}),A.jsx("div",{style:p.imageContainer,children:A.jsx("img",{src:`data:image/jpeg;base64,${r.small_image_data}`,alt:`${r.name}'s profile`,style:p.image,onMouseEnter:R=>R.target.style.transform="scale(1.05)",onMouseLeave:R=>R.target.style.transform="scale(1)"})}),A.jsxs("div",{children:[A.jsx("p",{ref:x,style:p.description,children:r.description}),y&&A.jsx("button",{style:p.expandButton,onClick:R=>{R.stopPropagation(),d(!a)},onMouseEnter:R=>{R.target.style.transform="translateY(-2px)",R.target.style.boxShadow="0 6px 16px rgba(20, 77, 255, 0.4)"},onMouseLeave:R=>{R.target.style.transform="translateY(0)",R.target.style.boxShadow="0 4px 12px rgba(20, 77, 255, 0.3)"},children:a?" Show less":" Read more"})]}),A.jsx("div",{style:p.linksContainer,children:(w=r.media_link)!=null&&w.startsWith("https://www.linkedin.com/")?A.jsxs(A.Fragment,{children:[A.jsxs("a",{href:r.media_link,target:"_blank",rel:"noopener noreferrer",style:p.linkItem,onMouseEnter:R=>{R.target.style.background="rgba(20, 77, 255, 0.1)",R.target.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.target.style.background="rgba(20, 77, 255, 0.05)",R.target.style.transform="translateY(0)"},children:[A.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:A.jsx("path",{d:o})}),A.jsx("span",{style:{fontWeight:"600"},children:"LinkedIn Profile"})]}),r.other_link&&A.jsx("a",{href:r.other_link,target:"_blank",rel:"noopener noreferrer",style:p.linkItem,onMouseEnter:R=>{R.target.style.background="rgba(20, 77, 255, 0.1)",R.target.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.target.style.background="rgba(20, 77, 255, 0.05)",R.target.style.transform="translateY(0)"},children:A.jsxs("span",{children:[" ",((E=r.other_link)==null?void 0:E.length)>35?r.other_link.substring(0,35)+"...":r.other_link]})})]}):A.jsxs(A.Fragment,{children:[r.media_link&&A.jsx("a",{href:r.media_link,target:"_blank",rel:"noopener noreferrer",style:p.linkItem,onMouseEnter:R=>{R.target.style.background="rgba(20, 77, 255, 0.1)",R.target.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.target.style.background="rgba(20, 77, 255, 0.05)",R.target.style.transform="translateY(0)"},children:A.jsxs("span",{children:[" ",((S=r.media_link)==null?void 0:S.length)>35?r.media_link.substring(0,35)+"...":r.media_link]})}),r.other_link&&A.jsx("a",{href:r.other_link,target:"_blank",rel:"noopener noreferrer",style:p.linkItem,onMouseEnter:R=>{R.target.style.background="rgba(20, 77, 255, 0.1)",R.target.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.target.style.background="rgba(20, 77, 255, 0.05)",R.target.style.transform="translateY(0)"},children:A.jsxs("span",{children:[" ",((T=r.other_link)==null?void 0:T.length)>35?r.other_link.substring(0,35)+"...":r.other_link]})})]})})]})};function _E(){const[r,o]=_.useState([]),[a,d]=_.useState(null),[p,x]=_.useState(!1),[y,b]=_.useState(!1),[w,E]=_.useState(!1),S=async()=>{try{const B=localStorage.getItem("access_token"),V=await fetch(`${window.server_url}/cofounder_data`,{headers:{Authorization:`Bearer ${B}`}});if(!V.ok)throw new Error("Failed to fetch profiles");const H=await V.json();o(H),console.log("PROFILE DATA",H)}catch(B){console.error("Error fetching profiles:",B),d(B.message)}},T=async()=>{const B=localStorage.getItem("access_token"),V=await fetch(`${window.server_url}/delete_community_profile`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},method:"POST"});if(!V.ok)throw new Error("Failed to delete community profile");const H=await V.json();console.log(H),await S()},R=async()=>{E(!0);try{await T(),b(!1),setTimeout(()=>{E(!1)},1e3)}catch(B){console.error("Error deleting profile:",B),E(!1)}},M=async()=>{try{await S()}catch(B){console.error("Error fetching profiles after creation:",B),setTimeout(async()=>{try{await S()}catch(V){console.error("Retry failed:",V),d("Profile created successfully! Please refresh the page to see your new profile.")}},1e3)}},L={container:{minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, #f5f7ff 0%, #e8ecf7 100%)",padding:"1rem 0",fontFamily:'"Inter", "Helvetica Neue", Arial, sans-serif',margin:0,boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center"},headerContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1.5rem",width:"100%",maxWidth:"1200px",position:"relative",padding:"0 1rem"},logoContainer:{display:"flex",justifyContent:"center",marginBottom:"-3.0rem",marginTop:"-1rem"},logo:{maxWidth:"85px",height:"auto",objectFit:"contain"},headerTitle:{fontSize:"2.0rem",color:"#144dff",marginBottom:"1.2rem",fontWeight:"800",textAlign:"center",textShadow:"2px 2px 8px rgba(20, 77, 255, 0.15)",lineHeight:"1.2",letterSpacing:"-0.02em",background:"linear-gradient(135deg, #144dff 0%, #3b82f6 100%, #144dff 200%)",backgroundSize:"200% 100%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},buttonContainer:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap",justifyContent:"center"},primaryButton:{background:"linear-gradient(135deg, #144dff, #3b82f6)",color:"white",border:"none",borderRadius:"16px",padding:"14px 28px",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontWeight:"600",boxShadow:"0 8px 24px rgba(20, 77, 255, 0.3)",position:"relative",overflow:"hidden"},deleteButton:{background:"linear-gradient(135deg, #ff4444, #dc2626)",color:"white",border:"none",borderRadius:"16px",padding:"14px 28px",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontWeight:"600",boxShadow:"0 8px 24px rgba(255, 68, 68, 0.3)"},backButton:{position:"fixed",bottom:"2rem",right:"2rem",background:"linear-gradient(135deg, #6b7280, #4b5563)",color:"white",border:"none",borderRadius:"16px",padding:"14px 28px",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontWeight:"600",boxShadow:"0 8px 24px rgba(107, 114, 128, 0.3)",zIndex:1e3},profilesWrapper:{width:"100%",display:"flex",justifyContent:"center",padding:"0 1rem"},profilesContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem",maxWidth:"1400px",width:"100%"},loadingState:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",fontSize:"1.2rem",color:"#144dff",width:"100%"},errorState:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",fontSize:"1.2rem",color:"#dc2626",background:"rgba(220, 38, 38, 0.1)",borderRadius:"16px",padding:"2rem",margin:"2rem auto",maxWidth:"600px"}},F={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(20, 77, 255, 0.15)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,animation:"fadeIn 0.3s ease-out"},popup:{backgroundColor:"#fff",padding:"2.5rem",borderRadius:"20px",boxShadow:"0 20px 60px rgba(20, 77, 255, 0.3)",textAlign:"center",maxWidth:"450px",width:"90%",border:"1px solid rgba(20, 77, 255, 0.1)",animation:"slideUp 0.3s ease-out"},title:{color:"#144dff",marginBottom:"1.5rem",fontSize:"1.8rem",fontWeight:"700"},message:{color:"#4b5563",marginBottom:"2rem",fontSize:"1.1rem",lineHeight:"1.6"},buttonContainer:{display:"flex",gap:"1rem",justifyContent:"center"},cancelButton:{backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"12px",padding:"12px 24px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"all 0.2s ease"},confirmButton:{backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"12px",padding:"12px 24px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"all 0.2s ease"}};return _.useEffect(()=>{S()},[]),a?A.jsx("div",{style:L.container,children:A.jsxs("div",{style:L.errorState,children:["Error loading profiles: ",a]})}):A.jsxs("div",{style:L.container,children:[A.jsxs("div",{style:L.headerContainer,children:[A.jsx("div",{style:L.logoContainer,children:A.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",style:L.logo})}),A.jsxs("h1",{style:L.headerTitle,children:["Co-Founder",A.jsx("br",{}),"Network"]}),A.jsxs("div",{style:L.buttonContainer,children:[A.jsx("button",{style:L.primaryButton,onClick:()=>x(!0),onMouseEnter:B=>{B.target.style.transform="translateY(-3px)",B.target.style.boxShadow="0 12px 32px rgba(20, 77, 255, 0.4)"},onMouseLeave:B=>{B.target.style.transform="translateY(0)",B.target.style.boxShadow="0 8px 24px rgba(20, 77, 255, 0.3)"},children:"Create Profile"}),A.jsx("button",{style:L.deleteButton,onClick:()=>b(!0),onMouseEnter:B=>{B.target.style.transform="translateY(-3px)",B.target.style.boxShadow="0 12px 32px rgba(255, 68, 68, 0.4)"},onMouseLeave:B=>{B.target.style.transform="translateY(0)",B.target.style.boxShadow="0 8px 24px rgba(255, 68, 68, 0.3)"},children:"Delete Profile"})]})]}),A.jsx("button",{style:L.backButton,onClick:()=>window.history.back(),onMouseEnter:B=>{B.target.style.transform="translateY(-3px)",B.target.style.boxShadow="0 12px 32px rgba(107, 114, 128, 0.4)"},onMouseLeave:B=>{B.target.style.transform="translateY(0)",B.target.style.boxShadow="0 8px 24px rgba(107, 114, 128, 0.3)"},children:"Back"}),r.length===0?A.jsx("div",{style:L.loadingState,children:"Loading amazing co-founders..."}):A.jsx("div",{style:L.profilesWrapper,children:A.jsx("div",{style:L.profilesContainer,children:r.map(B=>A.jsx(Om,{profile:B},B.id||`profile-${B.name}-${Math.random()}`))})}),p&&A.jsx(PE,{onClose:()=>x(!1),onProfileCreated:M}),y&&A.jsx("div",{style:F.overlay,children:A.jsxs("div",{style:F.popup,children:[A.jsx("h3",{style:F.title,children:"Delete Profile"}),A.jsx("p",{style:F.message,children:"Are you sure you want to delete your community profile? This action cannot be undone."}),A.jsxs("div",{style:F.buttonContainer,children:[A.jsx("button",{style:F.cancelButton,onClick:()=>b(!1),disabled:w,onMouseEnter:B=>B.target.style.backgroundColor="#4b5563",onMouseLeave:B=>B.target.style.backgroundColor="#6b7280",children:"Cancel"}),A.jsx("button",{style:F.confirmButton,onClick:R,disabled:w,onMouseEnter:B=>B.target.style.backgroundColor="#b91c1c",onMouseLeave:B=>B.target.style.backgroundColor="#dc2626",children:w?"Deleting...":"Delete"})]})]})})]})}const kE=({onClose:r})=>(_.useEffect(()=>{const o=setTimeout(()=>{r()},1e3);return()=>clearTimeout(o)},[]),A.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"2rem",borderRadius:"16px",boxShadow:"0 20px 60px rgba(20, 77, 255, 0.3)",zIndex:1e3,textAlign:"center",border:"1px solid rgba(20, 77, 255, 0.1)"},children:A.jsx("h1",{style:{color:"#144dff",fontSize:"1.5rem",margin:0},children:"You need to login to create a community profile"})})),PE=({onClose:r,onProfileCreated:o})=>{const{user:a,userProfile:d,checkAuth:p,permissions:x}=_.useContext(Ir);if(!d)return A.jsx(kE,{onClose:r});const[y,b]=_.useState(""),[w,E]=_.useState(""),[S,T]=_.useState(""),[R,M]=_.useState(!1),[L,F]=_.useState(null),[B,V]=_.useState(null),[H,U]=_.useState(),re=async(X,ue,q,_e)=>{localStorage.getItem("access_token");const Le=await fetch(`${window.server_url}/create_community_profile`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:X,description:ue,small_image_data:d.small_image_data,media_link:q,other_link:_e})});if(Le.ok)return await Le.json(),!0;{const Te=await Le.json();return console.log("ERROR DATA",Te),U(Te.detail),!1}},ae=async X=>{X.preventDefault(),M(!0),await re(L.name,L.description,L.media_link,L.other_link)&&(U(null),M(!1),o&&await o(),setTimeout(()=>{r()},1e3))};_.useEffect(()=>{F({name:d.name,small_image_data:d.small_image_data,description:y,media_link:w,other_link:S})},[y,w,S,d]);const le={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(20, 77, 255, 0.15)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,overflow:"auto",padding:"20px",boxSizing:"border-box"},popup:{backgroundColor:"#fff",padding:"2rem",borderRadius:"20px",boxShadow:"0 20px 60px rgba(20, 77, 255, 0.3)",position:"relative",width:"95%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",margin:"0 auto",border:"1px solid rgba(20, 77, 255, 0.1)"},closeButton:{position:"absolute",top:"15px",right:"15px",border:"none",background:"none",fontSize:"2rem",cursor:"pointer",color:"#144dff",transition:"all 0.2s ease",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},form:{display:"flex",flexDirection:"column",gap:"1.5rem",marginTop:"1rem"},textarea:{padding:"1rem",borderRadius:"12px",border:"2px solid rgba(20, 77, 255, 0.2)",minHeight:"120px",fontSize:"16px",resize:"vertical",width:"100%",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s ease",backgroundColor:"#f9fafb"},input:{padding:"1rem",borderRadius:"12px",border:"2px solid rgba(20, 77, 255, 0.2)",fontSize:"16px",width:"100%",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s ease",backgroundColor:"#f9fafb"},submitButton:{background:"linear-gradient(135deg, #144dff, #3b82f6)",color:"white",padding:"1rem",border:"none",borderRadius:"12px",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.3s ease",marginTop:"0.5rem",width:"100%",boxSizing:"border-box",fontWeight:"600",boxShadow:"0 8px 24px rgba(20, 77, 255, 0.3)"},title:{color:"#144dff",marginBottom:"1.5rem",fontSize:"2rem",textAlign:"center",wordWrap:"break-word",fontWeight:"700"},errorMessage:{color:"#dc2626",textAlign:"center",backgroundColor:"rgba(220, 38, 38, 0.1)",padding:"1rem",borderRadius:"12px",marginBottom:"1rem",border:"1px solid rgba(220, 38, 38, 0.2)"}};return A.jsx("div",{className:"popup-overlay",style:le.overlay,children:A.jsxs("div",{className:"create-profile-popup",style:le.popup,children:[H&&A.jsx("div",{style:le.errorMessage,children:H}),A.jsx("h2",{style:le.title,children:"Create Community Profile"}),L&&A.jsx(Om,{profile:L,edit:!0}),A.jsxs("form",{onSubmit:ae,style:le.form,children:[A.jsx("textarea",{name:"description",placeholder:"Tell us about yourself...",value:y,onChange:X=>b(X.target.value),style:le.textarea,onFocus:X=>X.target.style.borderColor="#144dff",onBlur:X=>X.target.style.borderColor="rgba(20, 77, 255, 0.2)"}),A.jsx("input",{type:"text",name:"media_link",placeholder:"Add your social media link (optional)",value:w,onChange:X=>E(X.target.value),style:le.input,onFocus:X=>X.target.style.borderColor="#144dff",onBlur:X=>X.target.style.borderColor="rgba(20, 77, 255, 0.2)"}),A.jsx("input",{type:"text",name:"other_link",placeholder:"Add your website or other link (optional)",value:S,onChange:X=>T(X.target.value),style:le.input,onFocus:X=>X.target.style.borderColor="#144dff",onBlur:X=>X.target.style.borderColor="rgba(20, 77, 255, 0.2)"}),A.jsx("button",{type:"submit",style:le.submitButton,onMouseEnter:X=>{X.target.style.transform="translateY(-2px)",X.target.style.boxShadow="0 12px 32px rgba(20, 77, 255, 0.4)"},onMouseLeave:X=>{X.target.style.transform="translateY(0)",X.target.style.boxShadow="0 8px 24px rgba(20, 77, 255, 0.3)"},disabled:R,children:R?"Creating...":"Create Profile"})]}),A.jsx("button",{onClick:r,style:le.closeButton,onMouseEnter:X=>{X.target.style.backgroundColor="rgba(20, 77, 255, 0.1)",X.target.style.transform="scale(1.1)"},onMouseLeave:X=>{X.target.style.backgroundColor="transparent",X.target.style.transform="scale(1)"},children:""})]})})},Mm=({left_position:r="50%",top_position:o="20px",position:a="fixed"})=>{const d=Tr(),p={position:a,display:"flex",justifyContent:"center",alignItems:"center",top:o,left:r,transform:"translateX(-50%)",zIndex:100,borderRadius:"14px",border:"none",cursor:"pointer",fontWeight:"bold",fontFamily:"Helvetica, sans-serif",fontSize:"0.9rem",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",transition:"all 0.3s ease",color:"#f5f7ff",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)",background:"linear-gradient(135deg, #144dff, #3b82f6)",padding:"12px 20px"};return A.jsxs("button",{onClick:()=>d("/cofounders"),style:p,onMouseEnter:x=>{x.target.style.transform="translateX(-50%) translateY(-2px)",x.target.style.boxShadow="0 12px 24px rgba(20, 77, 255, 0.4)"},onMouseLeave:x=>{x.target.style.transform="translateX(-50%) translateY(0)",x.target.style.boxShadow="0 7px 4px rgba(0, 0, 0, 0.1)"},children:["Co-Founders",A.jsx("br",{}),"Network"]})},OE=5e3,Dm=(r,o=null,a=null)=>{_.useEffect(()=>{const d=async()=>{try{const x=a?`${window.server_url}/display_lobby_metadata?lobby_code=${a}`:`${window.server_url}/display_lobby_metadata`,y=localStorage.getItem("access_token"),b=await fetch(x,{headers:{Authorization:`Bearer ${y}`,lobby_code:a}});if(!b.ok){console.error("Failed to fetch lobby metadata");return}const w=await b.json();r(w.player_count),o&&o(w.lobby_state)}catch(x){console.error("Error fetching lobby metadata:",x)}};d();const p=setInterval(d,OE);return()=>clearInterval(p)},[r,o,a])},Wd="currentLobbyCode",Hd="currentLobbyTimestamp",Gd="currentLobbyLastValidated",ME=30*60*1e3,DE=3*60*1e3,LE=r=>{localStorage.setItem(Wd,r),localStorage.setItem(Hd,Date.now().toString()),console.log(`Stored lobby code: ${r}`)},BE=()=>{const r=localStorage.getItem(Wd),o=localStorage.getItem(Hd);return!r||!o?null:Date.now()-parseInt(o)>ME?(Sc(),console.log("Lobby code expired, cleared from storage"),null):r},FE=()=>{const r=localStorage.getItem(Gd);return r?Date.now()-parseInt(r)>DE:!0},jE=()=>{localStorage.setItem(Gd,Date.now().toString())},Sc=()=>{localStorage.removeItem(Wd),localStorage.removeItem(Hd),localStorage.removeItem(Gd),console.log("Cleared lobby storage")},VE=()=>{const[r,o]=_.useState(!1),[a,d]=_.useState(!1),[p,x]=_.useState(""),[y,b]=_.useState(""),[w,E]=_.useState(""),[S,T]=_.useState(null);rg();const{user:R,userProfile:M,checkAuth:L,permissions:F}=_.useContext(Ir),[B,V]=_.useState(null),[H,U]=_.useState(null),[re,ae]=_.useState([]),[le,X]=_.useState(!1),[ue,q]=_.useState(null),_e=Tr();Dm(V,U);const[Le,Te]=_.useState(!1);_.useRef(null);const ke=_.useRef(null),De=async(fe=!1)=>{const K=BE();if(!K||!R){q(null);return}if(q(K),fe||FE())try{const J=localStorage.getItem("access_token"),Ee=await fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${K}`,{headers:{Authorization:`Bearer ${J}`,lobby_code:K}});if(Ee.ok){const Ve=await Ee.json();Ve.status==="error"||Ve.lobby_state==="terminated"?(Sc(),q(null)):jE()}else Sc(),q(null)}catch(J){console.error("Error validating current lobby:",J),q(null)}},ee=async()=>{if(R){X(!0);try{const fe=localStorage.getItem("access_token"),K=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${fe}`}});if(K.ok){const J=await K.json();console.log("User's active lobbies:",J),J&&J.lobbies&&Array.isArray(J.lobbies)?ae(J.lobbies):ae([])}else console.error("Failed to fetch user's active lobbies"),ae([])}catch(fe){console.error("Error fetching user's active lobbies:",fe),ae([])}finally{X(!1)}}};_.useEffect(()=>{R?(ee(),De(!0)):q(null)},[R]),_.useEffect(()=>{L()},[]),_.useEffect(()=>{if(new URLSearchParams(window.location.search).get("showLobbyModal")==="true"&&R){d(!0);const J=window.location.pathname;window.history.replaceState({},"",J)}},[R]);const Be=fe=>{(F==="admin"||F==="organizer")&&_e(`/admin_lobby_view?code=${fe}`)},he=fe=>{fe.preventDefault();const J=new FormData(fe.target).get("name");if(!J||J.trim()===""){b("Please enter a lobby code");return}const Ee=J.toLowerCase().replace(/[^a-z0-9]/g,"");if(Ee===""){b("Lobby code must contain only letters and numbers");return}E(Ee),d(!1),console.log(Ee),x(Ee),_e(`/lobby?code=${Ee}`),x(""),b("")},de=()=>{Te(!1),ke.current&&(ke.current.clear(),ke.current=null)},Re=()=>a?A.jsx("div",{className:"lobby-modal-overlay",children:A.jsxs("div",{className:"lobby-modal-container",children:[A.jsx("button",{onClick:()=>{d(!1),x(""),b(""),de()},className:"lobby-modal-close",children:""}),A.jsx("h2",{className:"lobby-modal-title",children:"Join Lobby"}),A.jsxs("form",{onSubmit:he,className:"lobby-form",children:[A.jsxs("div",{className:"lobby-input-container",children:[A.jsx("input",{type:"text",name:"name",placeholder:"Enter Lobby Code",className:"lobby-input",pattern:"[a-zA-Z0-9]+",title:"Only letters and numbers are allowed",required:!0}),y&&A.jsx("div",{className:"lobby-error-message",children:y})]}),A.jsx("button",{type:"submit",className:"lobby-submit-button",children:"Join"})]})]})}):null;return A.jsxs("div",{style:{position:"relative",height:"var(--viewport-height)",overflow:"hidden"},children:[A.jsx("div",{style:{position:"absolute",top:"40%",left:"50%",width:"100%",height:"10%",zIndex:1e3},children:A.jsx(Mm,{position:"absolute",left_position:"0",top_position:"0"})}),A.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/assets/demo_app_home_video_cover.jpg",children:[A.jsx("source",{src:"/assets/demo_app_home_video_X2_small.mp4",type:"video/mp4"}),A.jsx("source",{src:"/assets/app_home_video_2.webm",type:"video/webm"}),A.jsx("img",{src:"/assets/demo_app_home_video_cover.jpg",alt:"Background fallback",style:{width:"100%",height:"100%",objectFit:"cover"}}),"Your browser does not support the video tag."]}),A.jsxs("div",{style:{position:"relative",zIndex:1,color:"white",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[A.jsx("div",{style:{position:"absolute",top:"0",left:"50%",transform:"translateX(-50%)"},children:A.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Logo",style:{width:"110px",height:"110px",objectFit:"contain"}})}),A.jsx("div",{style:{marginTop:"10%",display:"flex",flexDirection:"column"},children:A.jsx(qy,{user:R,onProfileClick:()=>o(!0)})}),r&&A.jsx(C2,{onSubmit:fe=>{o(!1)},onClose:()=>o(!1),existingProfile:M}),A.jsx("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",width:"90%",maxWidth:"1200px",textAlign:"center",marginLeft:"auto",marginRight:"auto",zIndex:1,top:"50%"},children:A.jsx("h2",{className:"welcome-header",style:{color:"#ffffff",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:"4px 4px 8px rgba(0,0,0,0.9)",margin:0},children:R&&M&&(F==="admin"||F==="organizer")?(()=>{const fe="Create a Lobby",K=M?M.name.slice(0,15):"";return A.jsxs(A.Fragment,{children:[fe.split("").map((J,Ee)=>A.jsx("span",{style:{"--i":Ee+1,marginRight:J===" "?"0.5em":"1px"},children:J},`main-${Ee}`)),A.jsx("br",{}),K&&K.split("").map((J,Ee)=>A.jsx("span",{style:{"--i":Ee+1,marginRight:J===" "?"0.5em":"1px"},children:J},`name-${Ee}`))]})})():(()=>{const fe="Join the Experience",K=M?M.name.slice(0,15):"";return A.jsxs(A.Fragment,{children:[fe.split("").map((J,Ee)=>A.jsx("span",{style:{"--i":Ee+1,marginRight:J===" "?"0.5em":"1px"},children:J},`main-${Ee}`)),A.jsx("br",{}),K&&K.split("").map((J,Ee)=>A.jsx("span",{style:{"--i":Ee+1,marginRight:J===" "?"0.5em":"1px"},children:J},`name-${Ee}`))]})})()})}),A.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"94%",display:"flex",flexDirection:"row",justifyContent:"center",gap:"1.5rem"},children:A.jsx("div",{className:"event-item",style:{width:"auto",maxWidth:"none",margin:"0",padding:"10px 20px",borderRadius:"16px",marginBottom:"20px",cursor:"pointer",opacity:1,display:"flex",flexDirection:"row",alignItems:"center",gap:"1.5rem",":hover":{transform:"translateY(-5px)"}},children:A.jsxs("div",{style:{display:"flex",gap:"1.5rem",flexDirection:"row",alignItems:"center"},children:[A.jsx("button",{className:`primary-button ${F!=="admin"&&F!=="organizer"?"join-lobby-button":""}`,onClick:()=>R?d(!0):_e("/signup?redirect=lobby"),disabled:B===null||H==="terminate",style:{opacity:1,cursor:B===null||H==="terminate"?"not-allowed":"pointer",padding:"16px 20px",backgroundColor:F!=="admin"&&F!=="organizer"?"transparent":"#144dff",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",display:"block",position:"relative",zIndex:1,textAlign:"center",outline:F!=="admin"&&F!=="organizer"?"none":"1px solid rgba(58, 53, 53, 0.7)",":hover":{backgroundColor:F!=="admin"&&F!=="organizer"?"transparent":"#535bf2",transform:"scale(1.02)"}},children:A.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Join Lobby"})}),F!=="admin"&&F!=="organizer"&&A.jsx("button",{className:"primary-button join-lobby-button",onClick:()=>window.location.href="https://reuneo.app/",style:{padding:"16px 20px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",display:"block",position:"relative",zIndex:1,textAlign:"center",outline:"none",":hover":{transform:"scale(1.02)"}},children:A.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Get Started"})}),(F==="admin"||F==="organizer")&&A.jsx("button",{className:`primary-button ${F==="admin"||F==="organizer"?"create-lobby-button":""}`,onClick:re.length>0?void 0:()=>_e("/create_lobby"),disabled:re.length>0,title:re.length>0?"You already have an active lobby. Close it before creating a new one.":"Create a new lobby",style:{padding:"16px 20px",backgroundColor:re.length>0?"rgba(128, 128, 128, 0.3)":"transparent",color:re.length>0?"rgba(255, 255, 255, 0.5)":"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:re.length>0?"0 2px 3px rgba(0, 0, 0, 0.2)":"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",position:"relative",zIndex:1,textAlign:"center",cursor:re.length>0?"not-allowed":"pointer",opacity:re.length>0?.6:1,":hover":{transform:re.length>0?"none":"scale(1.02)"}},children:A.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Create Lobby"})})]})})}),ue&&!((F==="admin"||F==="organizer")&&re.length>0)&&A.jsx("div",{className:"events-list",style:{position:"absolute",bottom:"calc(20px + 120px + 10px)",left:"50%",transform:"translateX(-50%)",width:"44%",height:"15%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.05), rgba(83, 91, 242, 0.05))",borderRadius:"30px",padding:"1rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",justifyContent:"center",alignItems:"center"},children:A.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",perspective:"1000px"},children:A.jsxs("div",{className:"card",style:{width:"calc(100% - 2rem)",maxWidth:"200px",minWidth:"150px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(20, 77, 255, 0.15)",border:"1px solid rgba(20, 77, 255, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",padding:"1rem 1rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transformStyle:"preserve-3d","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(20, 77, 255, 0.1), rgba(83, 91, 242, 0.1))",opacity:0,transition:"opacity 0.4s ease"}},onClick:()=>_e(`/lobby?code=${ue}`),onMouseEnter:fe=>{fe.currentTarget.style.transform="translateY(-10px) rotateX(5deg)",fe.currentTarget.style.boxShadow="0 20px 40px rgba(20, 77, 255, 0.25)",fe.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.4)",fe.currentTarget.style.background="rgba(255, 255, 255, 0.98)"},onMouseLeave:fe=>{fe.currentTarget.style.transform="translateY(0) rotateX(0)",fe.currentTarget.style.boxShadow="0 10px 30px rgba(20, 77, 255, 0.15)",fe.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.2)",fe.currentTarget.style.background="rgba(255, 255, 255, 0.95)"},children:[A.jsx("div",{className:"glow-button",style:{width:"30px",height:"30px",borderRadius:"50%",background:"linear-gradient(135deg, #144dff, #535bf2)",marginBottom:".5rem",marginTop:"-1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:".8rem",boxShadow:"0 8px 20px rgba(20, 77, 255, 0.3)",transition:"all 0.4s ease",position:"relative","&::after":{content:'""',position:"absolute",top:"-5px",left:"-5px",right:"-5px",bottom:"-5px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.2), rgba(83, 91, 242, 0.2))",zIndex:-1,animation:"pulse 2s infinite"}},children:ue.charAt(0).toUpperCase()}),A.jsxs("h3",{style:{marginTop:"0.5rem",color:"#144dff",fontWeight:"700",fontSize:".9em",fontFamily:"Helvetica",textAlign:"center",textShadow:"0 2px 4px rgba(20, 77, 255, 0.1)",letterSpacing:"0.5px"},children:["Return to ",ue]})]})})}),(F==="admin"||F==="organizer")&&re.length>0&&A.jsx("div",{className:"events-list",style:{position:"absolute",bottom:ue&&!((F==="admin"||F==="organizer")&&re.length>0)?"calc(20px + 120px + 10px + 15% + 10px)":"calc(20px + 120px + 10px)",left:"50%",transform:"translateX(-50%)",width:"44%",height:"15%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.05), rgba(83, 91, 242, 0.05))",borderRadius:"30px",padding:"1rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",justifyContent:"center",alignItems:"center"},children:le?A.jsx("div",{style:{textAlign:"center",color:"white"},children:A.jsx("p",{children:"Loading your lobbies..."})}):re.length>0?A.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",perspective:"1000px"},children:re.map((fe,K)=>A.jsxs("div",{className:"card",style:{width:"calc(100% - 2rem)",maxWidth:"200px",minWidth:"150px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(20, 77, 255, 0.15)",border:"1px solid rgba(20, 77, 255, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",padding:"1rem 1rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transformStyle:"preserve-3d","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(20, 77, 255, 0.1), rgba(83, 91, 242, 0.1))",opacity:0,transition:"opacity 0.4s ease"}},onClick:()=>Be(fe),onMouseEnter:J=>{J.currentTarget.style.transform="translateY(-10px) rotateX(5deg)",J.currentTarget.style.boxShadow="0 20px 40px rgba(20, 77, 255, 0.25)",J.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.4)",J.currentTarget.style.background="rgba(255, 255, 255, 0.98)"},onMouseLeave:J=>{J.currentTarget.style.transform="translateY(0) rotateX(0)",J.currentTarget.style.boxShadow="0 10px 30px rgba(20, 77, 255, 0.15)",J.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.2)",J.currentTarget.style.background="rgba(255, 255, 255, 0.95)"},children:[A.jsx("div",{className:"glow-button",style:{width:"30px",height:"30px",borderRadius:"50%",background:"linear-gradient(135deg, #144dff, #535bf2)",marginBottom:".5rem",marginTop:"-1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:".8rem",boxShadow:"0 8px 20px rgba(20, 77, 255, 0.3)",transition:"all 0.4s ease",position:"relative","&::after":{content:'""',position:"absolute",top:"-5px",left:"-5px",right:"-5px",bottom:"-5px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.2), rgba(83, 91, 242, 0.2))",zIndex:-1,animation:"pulse 2s infinite"}},children:fe&&fe.length>0?fe.charAt(0).toUpperCase():"?"}),A.jsxs("h3",{style:{marginTop:"0.5rem",color:"#144dff",fontWeight:"700",fontSize:".9em",fontFamily:"Helvetica",textAlign:"center",textShadow:"0 2px 4px rgba(20, 77, 255, 0.1)",letterSpacing:"0.5px"},children:["Lobby ",fe||"Unknown"]})]},K))}):A.jsx("div",{style:{}})})]}),A.jsx(Re,{})]})};function zE(){const{pathname:r}=yi();return _.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const UE=()=>{const{login:r,signup:o,user:a,logout:d,checkAuth:p}=_.useContext(Ir),[x,y]=_.useState(""),[b,w]=_.useState(""),[E,S]=_.useState(""),[T,R]=_.useState(""),[M,L]=_.useState(!0),[F,B]=_.useState({}),[V,H]=_.useState(!1),U=Tr(),re=X=>{const ue=/^[a-z0-9]+$/;return X.length>=2&&ue.test(X)},ae=X=>{const ue=X.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(ue),ue.length>0?H(!0):H(!1),re(ue)?B(q=>({...q,username:""})):B(q=>({...q,username:" "}))},le=async X=>{if(X.preventDefault(),R(""),!re(x)){R("Please enter a valid username");return}try{const ue=M?"/login":"/signup",q=await fetch(window.server_url+ue,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:x,password:b}),mode:"cors"});if(q.ok){const _e=await q.json();r(_e),p(),U("/")}else{const _e=await q.json();R(_e.message||`${M?"Login":"Signup"} failed`)}}catch(ue){R("Network error occurred. Please try again."),console.error("Error:",ue)}};return A.jsxs("div",{className:"login-container",children:[A.jsx("button",{onClick:()=>U("/"),className:"homescreen-button",children:"Home"}),A.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),A.jsx("h1",{className:"login-header",children:"Login"}),A.jsxs("div",{className:"login-signup-form",children:[T&&A.jsx("div",{className:"error-message",children:T}),A.jsxs("form",{onSubmit:le,children:[A.jsxs("div",{className:"form-group",children:[A.jsx("input",{type:"text",placeholder:"Username",className:"login-input",value:x,onChange:ae,required:!0}),V&&A.jsx("div",{className:"step-success",children:"lowercase letters and numbers only"})]}),A.jsx("div",{className:"form-group",children:A.jsx("input",{type:"text",placeholder:"Password",className:"login-input",value:b,onChange:X=>w(X.target.value),required:!0})}),A.jsx("button",{type:"submit",className:"login-primary-button",children:"Login"})]})]})]})},WE=()=>{const r=Tr(),{logout:o}=_.useContext(Ir);return localStorage.removeItem("access_token"),_.useEffect(()=>{console.log("LogoutPage useEffect"),setTimeout(()=>{o(),r("/")},100)},[]),A.jsx("div",{children:"Logged out redirecting to homescreen"})};var HE=Object.defineProperty,Ic=Object.getOwnPropertySymbols,Lm=Object.prototype.hasOwnProperty,Bm=Object.prototype.propertyIsEnumerable,Dp=(r,o,a)=>o in r?HE(r,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[o]=a,$f=(r,o)=>{for(var a in o||(o={}))Lm.call(o,a)&&Dp(r,a,o[a]);if(Ic)for(var a of Ic(o))Bm.call(o,a)&&Dp(r,a,o[a]);return r},qf=(r,o)=>{var a={};for(var d in r)Lm.call(r,d)&&o.indexOf(d)<0&&(a[d]=r[d]);if(r!=null&&Ic)for(var d of Ic(r))o.indexOf(d)<0&&Bm.call(r,d)&&(a[d]=r[d]);return a};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var $s;(r=>{const o=class Rt{constructor(w,E,S,T){if(this.version=w,this.errorCorrectionLevel=E,this.modules=[],this.isFunction=[],w<Rt.MIN_VERSION||w>Rt.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=w*4+17;let R=[];for(let L=0;L<this.size;L++)R.push(!1);for(let L=0;L<this.size;L++)this.modules.push(R.slice()),this.isFunction.push(R.slice());this.drawFunctionPatterns();const M=this.addEccAndInterleave(S);if(this.drawCodewords(M),T==-1){let L=1e9;for(let F=0;F<8;F++){this.applyMask(F),this.drawFormatBits(F);const B=this.getPenaltyScore();B<L&&(T=F,L=B),this.applyMask(F)}}p(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(w,E){const S=r.QrSegment.makeSegments(w);return Rt.encodeSegments(S,E)}static encodeBinary(w,E){const S=r.QrSegment.makeBytes(w);return Rt.encodeSegments([S],E)}static encodeSegments(w,E,S=1,T=40,R=-1,M=!0){if(!(Rt.MIN_VERSION<=S&&S<=T&&T<=Rt.MAX_VERSION)||R<-1||R>7)throw new RangeError("Invalid value");let L,F;for(L=S;;L++){const U=Rt.getNumDataCodewords(L,E)*8,re=y.getTotalBits(w,L);if(re<=U){F=re;break}if(L>=T)throw new RangeError("Data too long")}for(const U of[Rt.Ecc.MEDIUM,Rt.Ecc.QUARTILE,Rt.Ecc.HIGH])M&&F<=Rt.getNumDataCodewords(L,U)*8&&(E=U);let B=[];for(const U of w){a(U.mode.modeBits,4,B),a(U.numChars,U.mode.numCharCountBits(L),B);for(const re of U.getData())B.push(re)}p(B.length==F);const V=Rt.getNumDataCodewords(L,E)*8;p(B.length<=V),a(0,Math.min(4,V-B.length),B),a(0,(8-B.length%8)%8,B),p(B.length%8==0);for(let U=236;B.length<V;U^=253)a(U,8,B);let H=[];for(;H.length*8<B.length;)H.push(0);return B.forEach((U,re)=>H[re>>>3]|=U<<7-(re&7)),new Rt(L,E,H,R)}getModule(w,E){return 0<=w&&w<this.size&&0<=E&&E<this.size&&this.modules[E][w]}getModules(){return this.modules}drawFunctionPatterns(){for(let S=0;S<this.size;S++)this.setFunctionModule(6,S,S%2==0),this.setFunctionModule(S,6,S%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const w=this.getAlignmentPatternPositions(),E=w.length;for(let S=0;S<E;S++)for(let T=0;T<E;T++)S==0&&T==0||S==0&&T==E-1||S==E-1&&T==0||this.drawAlignmentPattern(w[S],w[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(w){const E=this.errorCorrectionLevel.formatBits<<3|w;let S=E;for(let R=0;R<10;R++)S=S<<1^(S>>>9)*1335;const T=(E<<10|S)^21522;p(T>>>15==0);for(let R=0;R<=5;R++)this.setFunctionModule(8,R,d(T,R));this.setFunctionModule(8,7,d(T,6)),this.setFunctionModule(8,8,d(T,7)),this.setFunctionModule(7,8,d(T,8));for(let R=9;R<15;R++)this.setFunctionModule(14-R,8,d(T,R));for(let R=0;R<8;R++)this.setFunctionModule(this.size-1-R,8,d(T,R));for(let R=8;R<15;R++)this.setFunctionModule(8,this.size-15+R,d(T,R));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let w=this.version;for(let S=0;S<12;S++)w=w<<1^(w>>>11)*7973;const E=this.version<<12|w;p(E>>>18==0);for(let S=0;S<18;S++){const T=d(E,S),R=this.size-11+S%3,M=Math.floor(S/3);this.setFunctionModule(R,M,T),this.setFunctionModule(M,R,T)}}drawFinderPattern(w,E){for(let S=-4;S<=4;S++)for(let T=-4;T<=4;T++){const R=Math.max(Math.abs(T),Math.abs(S)),M=w+T,L=E+S;0<=M&&M<this.size&&0<=L&&L<this.size&&this.setFunctionModule(M,L,R!=2&&R!=4)}}drawAlignmentPattern(w,E){for(let S=-2;S<=2;S++)for(let T=-2;T<=2;T++)this.setFunctionModule(w+T,E+S,Math.max(Math.abs(T),Math.abs(S))!=1)}setFunctionModule(w,E,S){this.modules[E][w]=S,this.isFunction[E][w]=!0}addEccAndInterleave(w){const E=this.version,S=this.errorCorrectionLevel;if(w.length!=Rt.getNumDataCodewords(E,S))throw new RangeError("Invalid argument");const T=Rt.NUM_ERROR_CORRECTION_BLOCKS[S.ordinal][E],R=Rt.ECC_CODEWORDS_PER_BLOCK[S.ordinal][E],M=Math.floor(Rt.getNumRawDataModules(E)/8),L=T-M%T,F=Math.floor(M/T);let B=[];const V=Rt.reedSolomonComputeDivisor(R);for(let U=0,re=0;U<T;U++){let ae=w.slice(re,re+F-R+(U<L?0:1));re+=ae.length;const le=Rt.reedSolomonComputeRemainder(ae,V);U<L&&ae.push(0),B.push(ae.concat(le))}let H=[];for(let U=0;U<B[0].length;U++)B.forEach((re,ae)=>{(U!=F-R||ae>=L)&&H.push(re[U])});return p(H.length==M),H}drawCodewords(w){if(w.length!=Math.floor(Rt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let E=0;for(let S=this.size-1;S>=1;S-=2){S==6&&(S=5);for(let T=0;T<this.size;T++)for(let R=0;R<2;R++){const M=S-R,F=(S+1&2)==0?this.size-1-T:T;!this.isFunction[F][M]&&E<w.length*8&&(this.modules[F][M]=d(w[E>>>3],7-(E&7)),E++)}}p(E==w.length*8)}applyMask(w){if(w<0||w>7)throw new RangeError("Mask value out of range");for(let E=0;E<this.size;E++)for(let S=0;S<this.size;S++){let T;switch(w){case 0:T=(S+E)%2==0;break;case 1:T=E%2==0;break;case 2:T=S%3==0;break;case 3:T=(S+E)%3==0;break;case 4:T=(Math.floor(S/3)+Math.floor(E/2))%2==0;break;case 5:T=S*E%2+S*E%3==0;break;case 6:T=(S*E%2+S*E%3)%2==0;break;case 7:T=((S+E)%2+S*E%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[E][S]&&T&&(this.modules[E][S]=!this.modules[E][S])}}getPenaltyScore(){let w=0;for(let R=0;R<this.size;R++){let M=!1,L=0,F=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[R][B]==M?(L++,L==5?w+=Rt.PENALTY_N1:L>5&&w++):(this.finderPenaltyAddHistory(L,F),M||(w+=this.finderPenaltyCountPatterns(F)*Rt.PENALTY_N3),M=this.modules[R][B],L=1);w+=this.finderPenaltyTerminateAndCount(M,L,F)*Rt.PENALTY_N3}for(let R=0;R<this.size;R++){let M=!1,L=0,F=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[B][R]==M?(L++,L==5?w+=Rt.PENALTY_N1:L>5&&w++):(this.finderPenaltyAddHistory(L,F),M||(w+=this.finderPenaltyCountPatterns(F)*Rt.PENALTY_N3),M=this.modules[B][R],L=1);w+=this.finderPenaltyTerminateAndCount(M,L,F)*Rt.PENALTY_N3}for(let R=0;R<this.size-1;R++)for(let M=0;M<this.size-1;M++){const L=this.modules[R][M];L==this.modules[R][M+1]&&L==this.modules[R+1][M]&&L==this.modules[R+1][M+1]&&(w+=Rt.PENALTY_N2)}let E=0;for(const R of this.modules)E=R.reduce((M,L)=>M+(L?1:0),E);const S=this.size*this.size,T=Math.ceil(Math.abs(E*20-S*10)/S)-1;return p(0<=T&&T<=9),w+=T*Rt.PENALTY_N4,p(0<=w&&w<=2568888),w}getAlignmentPatternPositions(){if(this.version==1)return[];{const w=Math.floor(this.version/7)+2,E=this.version==32?26:Math.ceil((this.version*4+4)/(w*2-2))*2;let S=[6];for(let T=this.size-7;S.length<w;T-=E)S.splice(1,0,T);return S}}static getNumRawDataModules(w){if(w<Rt.MIN_VERSION||w>Rt.MAX_VERSION)throw new RangeError("Version number out of range");let E=(16*w+128)*w+64;if(w>=2){const S=Math.floor(w/7)+2;E-=(25*S-10)*S-55,w>=7&&(E-=36)}return p(208<=E&&E<=29648),E}static getNumDataCodewords(w,E){return Math.floor(Rt.getNumRawDataModules(w)/8)-Rt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][w]*Rt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][w]}static reedSolomonComputeDivisor(w){if(w<1||w>255)throw new RangeError("Degree out of range");let E=[];for(let T=0;T<w-1;T++)E.push(0);E.push(1);let S=1;for(let T=0;T<w;T++){for(let R=0;R<E.length;R++)E[R]=Rt.reedSolomonMultiply(E[R],S),R+1<E.length&&(E[R]^=E[R+1]);S=Rt.reedSolomonMultiply(S,2)}return E}static reedSolomonComputeRemainder(w,E){let S=E.map(T=>0);for(const T of w){const R=T^S.shift();S.push(0),E.forEach((M,L)=>S[L]^=Rt.reedSolomonMultiply(M,R))}return S}static reedSolomonMultiply(w,E){if(w>>>8||E>>>8)throw new RangeError("Byte out of range");let S=0;for(let T=7;T>=0;T--)S=S<<1^(S>>>7)*285,S^=(E>>>T&1)*w;return p(S>>>8==0),S}finderPenaltyCountPatterns(w){const E=w[1];p(E<=this.size*3);const S=E>0&&w[2]==E&&w[3]==E*3&&w[4]==E&&w[5]==E;return(S&&w[0]>=E*4&&w[6]>=E?1:0)+(S&&w[6]>=E*4&&w[0]>=E?1:0)}finderPenaltyTerminateAndCount(w,E,S){return w&&(this.finderPenaltyAddHistory(E,S),E=0),E+=this.size,this.finderPenaltyAddHistory(E,S),this.finderPenaltyCountPatterns(S)}finderPenaltyAddHistory(w,E){E[0]==0&&(w+=this.size),E.pop(),E.unshift(w)}};o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=o;function a(b,w,E){if(w<0||w>31||b>>>w)throw new RangeError("Value out of range");for(let S=w-1;S>=0;S--)E.push(b>>>S&1)}function d(b,w){return(b>>>w&1)!=0}function p(b){if(!b)throw new Error("Assertion error")}const x=class gn{constructor(w,E,S){if(this.mode=w,this.numChars=E,this.bitData=S,E<0)throw new RangeError("Invalid argument");this.bitData=S.slice()}static makeBytes(w){let E=[];for(const S of w)a(S,8,E);return new gn(gn.Mode.BYTE,w.length,E)}static makeNumeric(w){if(!gn.isNumeric(w))throw new RangeError("String contains non-numeric characters");let E=[];for(let S=0;S<w.length;){const T=Math.min(w.length-S,3);a(parseInt(w.substring(S,S+T),10),T*3+1,E),S+=T}return new gn(gn.Mode.NUMERIC,w.length,E)}static makeAlphanumeric(w){if(!gn.isAlphanumeric(w))throw new RangeError("String contains unencodable characters in alphanumeric mode");let E=[],S;for(S=0;S+2<=w.length;S+=2){let T=gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(S))*45;T+=gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(S+1)),a(T,11,E)}return S<w.length&&a(gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(S)),6,E),new gn(gn.Mode.ALPHANUMERIC,w.length,E)}static makeSegments(w){return w==""?[]:gn.isNumeric(w)?[gn.makeNumeric(w)]:gn.isAlphanumeric(w)?[gn.makeAlphanumeric(w)]:[gn.makeBytes(gn.toUtf8ByteArray(w))]}static makeEci(w){let E=[];if(w<0)throw new RangeError("ECI assignment value out of range");if(w<128)a(w,8,E);else if(w<16384)a(2,2,E),a(w,14,E);else if(w<1e6)a(6,3,E),a(w,21,E);else throw new RangeError("ECI assignment value out of range");return new gn(gn.Mode.ECI,0,E)}static isNumeric(w){return gn.NUMERIC_REGEX.test(w)}static isAlphanumeric(w){return gn.ALPHANUMERIC_REGEX.test(w)}getData(){return this.bitData.slice()}static getTotalBits(w,E){let S=0;for(const T of w){const R=T.mode.numCharCountBits(E);if(T.numChars>=1<<R)return 1/0;S+=4+R+T.bitData.length}return S}static toUtf8ByteArray(w){w=encodeURI(w);let E=[];for(let S=0;S<w.length;S++)w.charAt(S)!="%"?E.push(w.charCodeAt(S)):(E.push(parseInt(w.substring(S+1,S+3),16)),S+=2);return E}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let y=x;r.QrSegment=x})($s||($s={}));(r=>{(o=>{const a=class{constructor(p,x){this.ordinal=p,this.formatBits=x}};a.LOW=new a(0,1),a.MEDIUM=new a(1,0),a.QUARTILE=new a(2,3),a.HIGH=new a(3,2),o.Ecc=a})(r.QrCode||(r.QrCode={}))})($s||($s={}));(r=>{(o=>{const a=class{constructor(p,x){this.modeBits=p,this.numBitsCharCount=x}numCharCountBits(p){return this.numBitsCharCount[Math.floor((p+7)/17)]}};a.NUMERIC=new a(1,[10,12,14]),a.ALPHANUMERIC=new a(2,[9,11,13]),a.BYTE=new a(4,[8,16,16]),a.KANJI=new a(8,[8,10,12]),a.ECI=new a(7,[0,0,0]),o.Mode=a})(r.QrSegment||(r.QrSegment={}))})($s||($s={}));var _o=$s;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var GE={L:_o.QrCode.Ecc.LOW,M:_o.QrCode.Ecc.MEDIUM,Q:_o.QrCode.Ecc.QUARTILE,H:_o.QrCode.Ecc.HIGH},Fm=128,jm="L",Vm="#FFFFFF",zm="#000000",Um=!1,Wm=1,XE=4,YE=0,KE=.1;function Hm(r,o=0){const a=[];return r.forEach(function(d,p){let x=null;d.forEach(function(y,b){if(!y&&x!==null){a.push(`M${x+o} ${p+o}h${b-x}v1H${x+o}z`),x=null;return}if(b===d.length-1){if(!y)return;x===null?a.push(`M${b+o},${p+o} h1v1H${b+o}z`):a.push(`M${x+o},${p+o} h${b+1-x}v1H${x+o}z`);return}y&&x===null&&(x=b)})}),a.join("")}function Gm(r,o){return r.slice().map((a,d)=>d<o.y||d>=o.y+o.h?a:a.map((p,x)=>x<o.x||x>=o.x+o.w?p:!1))}function ZE(r,o,a,d){if(d==null)return null;const p=r.length+a*2,x=Math.floor(o*KE),y=p/o,b=(d.width||x)*y,w=(d.height||x)*y,E=d.x==null?r.length/2-b/2:d.x*y,S=d.y==null?r.length/2-w/2:d.y*y,T=d.opacity==null?1:d.opacity;let R=null;if(d.excavate){let L=Math.floor(E),F=Math.floor(S),B=Math.ceil(b+E-L),V=Math.ceil(w+S-F);R={x:L,y:F,w:B,h:V}}const M=d.crossOrigin;return{x:E,y:S,h:w,w:b,excavation:R,opacity:T,crossOrigin:M}}function $E(r,o){return o!=null?Math.max(Math.floor(o),0):r?XE:YE}function Xm({value:r,level:o,minVersion:a,includeMargin:d,marginSize:p,imageSettings:x,size:y,boostLevel:b}){let w=nn.useMemo(()=>{const L=(Array.isArray(r)?r:[r]).reduce((F,B)=>(F.push(..._o.QrSegment.makeSegments(B)),F),[]);return _o.QrCode.encodeSegments(L,GE[o],a,void 0,void 0,b)},[r,o,a,b]);const{cells:E,margin:S,numCells:T,calculatedImageSettings:R}=nn.useMemo(()=>{let M=w.getModules();const L=$E(d,p),F=M.length+L*2,B=ZE(M,y,L,x);return{cells:M,margin:L,numCells:F,calculatedImageSettings:B}},[w,y,x,d,p]);return{qrcode:w,margin:S,cells:E,numCells:T,calculatedImageSettings:R}}var qE=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),QE=nn.forwardRef(function(o,a){const d=o,{value:p,size:x=Fm,level:y=jm,bgColor:b=Vm,fgColor:w=zm,includeMargin:E=Um,minVersion:S=Wm,boostLevel:T,marginSize:R,imageSettings:M}=d,F=qf(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:B}=F,V=qf(F,["style"]),H=M==null?void 0:M.src,U=nn.useRef(null),re=nn.useRef(null),ae=nn.useCallback(De=>{U.current=De,typeof a=="function"?a(De):a&&(a.current=De)},[a]),[le,X]=nn.useState(!1),{margin:ue,cells:q,numCells:_e,calculatedImageSettings:Le}=Xm({value:p,level:y,minVersion:S,boostLevel:T,includeMargin:E,marginSize:R,imageSettings:M,size:x});nn.useEffect(()=>{if(U.current!=null){const De=U.current,ee=De.getContext("2d");if(!ee)return;let Be=q;const he=re.current,de=Le!=null&&he!==null&&he.complete&&he.naturalHeight!==0&&he.naturalWidth!==0;de&&Le.excavation!=null&&(Be=Gm(q,Le.excavation));const Re=window.devicePixelRatio||1;De.height=De.width=x*Re;const fe=x/_e*Re;ee.scale(fe,fe),ee.fillStyle=b,ee.fillRect(0,0,_e,_e),ee.fillStyle=w,qE?ee.fill(new Path2D(Hm(Be,ue))):q.forEach(function(K,J){K.forEach(function(Ee,Ve){Ee&&ee.fillRect(Ve+ue,J+ue,1,1)})}),Le&&(ee.globalAlpha=Le.opacity),de&&ee.drawImage(he,Le.x+ue,Le.y+ue,Le.w,Le.h)}}),nn.useEffect(()=>{X(!1)},[H]);const Te=$f({height:x,width:x},B);let ke=null;return H!=null&&(ke=nn.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{X(!0)},ref:re,crossOrigin:Le==null?void 0:Le.crossOrigin})),nn.createElement(nn.Fragment,null,nn.createElement("canvas",$f({style:Te,height:x,width:x,ref:ae,role:"img"},V)),ke)});QE.displayName="QRCodeCanvas";var Xd=nn.forwardRef(function(o,a){const d=o,{value:p,size:x=Fm,level:y=jm,bgColor:b=Vm,fgColor:w=zm,includeMargin:E=Um,minVersion:S=Wm,boostLevel:T,title:R,marginSize:M,imageSettings:L}=d,F=qf(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:B,cells:V,numCells:H,calculatedImageSettings:U}=Xm({value:p,level:y,minVersion:S,boostLevel:T,includeMargin:E,marginSize:M,imageSettings:L,size:x});let re=V,ae=null;L!=null&&U!=null&&(U.excavation!=null&&(re=Gm(V,U.excavation)),ae=nn.createElement("image",{href:L.src,height:U.h,width:U.w,x:U.x+B,y:U.y+B,preserveAspectRatio:"none",opacity:U.opacity,crossOrigin:U.crossOrigin}));const le=Hm(re,B);return nn.createElement("svg",$f({height:x,width:x,viewBox:`0 0 ${H} ${H}`,ref:a,role:"img"},F),!!R&&nn.createElement("title",null,R),nn.createElement("path",{fill:b,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),nn.createElement("path",{fill:w,d:le,shapeRendering:"crispEdges"}),ae)});Xd.displayName="QRCodeSVG";const JE=({player:r})=>A.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"350px",height:"500px",margin:"0 auto",position:"relative"},children:r!=null&&r.image_data?A.jsxs("div",{style:{position:"relative",width:"350px",height:"450px"},children:[A.jsx("img",{src:`data:image/jpeg;base64,${r.image_data}`,alt:r.name,style:{width:"350px",height:"450px",objectFit:"cover",borderRadius:"50px",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",margin:"auto",display:"block"},onError:o=>{console.error("Image failed to load:",o),o.target.style.display="none"}}),A.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]}):A.jsxs("div",{style:{width:"350px",height:"450px",backgroundColor:"#f0f0f0",borderRadius:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:[A.jsx("p",{style:{marginBottom:"60px"},children:"No image available"}),A.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]})});var Lp=typeof window>"u"?_.useEffect:_.useLayoutEffect,eb=({isPlaying:r,duration:o,startAt:a=0,updateInterval:d=0,onComplete:p,onUpdate:x})=>{let[y,b]=_.useState(a),w=_.useRef(0),E=_.useRef(a),S=_.useRef(a*-1e3),T=_.useRef(null),R=_.useRef(null),M=_.useRef(null),L=V=>{let H=V/1e3;if(R.current===null){R.current=H,T.current=requestAnimationFrame(L);return}let U=H-R.current,re=w.current+U;R.current=H,w.current=re;let ae=E.current+(d===0?re:(re/d|0)*d),le=E.current+re,X=typeof o=="number"&&le>=o;b(X?o:ae),X||(T.current=requestAnimationFrame(L))},F=()=>{T.current&&cancelAnimationFrame(T.current),M.current&&clearTimeout(M.current),R.current=null},B=_.useCallback(V=>{F(),w.current=0;let H=typeof V=="number"?V:a;E.current=H,b(H),r&&(T.current=requestAnimationFrame(L))},[r,a]);return Lp(()=>{if(x==null||x(y),o&&y>=o){S.current+=o*1e3;let{shouldRepeat:V=!1,delay:H=0,newStartAt:U}=(p==null?void 0:p(S.current/1e3))||{};V&&(M.current=setTimeout(()=>B(U),H*1e3))}},[y,o]),Lp(()=>(r&&(T.current=requestAnimationFrame(L)),F),[r,o,d]),{elapsedTime:y,reset:B}},tb=(r,o,a)=>{let d=r/2,p=o/2,x=d-p,y=2*x,b=a==="clockwise"?"1,0":"0,1",w=2*Math.PI*x;return{path:`m ${d},${p} a ${x},${x} 0 ${b} 0,${y} a ${x},${x} 0 ${b} 0,-${y}`,pathLength:w}},Bp=(r,o)=>r===0||r===o?0:typeof o=="number"?r-o:0,nb=r=>({position:"relative",width:r,height:r}),rb={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},Ym=(r,o,a,d,p)=>{if(d===0)return o;let x=(p?d-r:r)/d;return o+a*x},Fp=r=>{var o,a;return(a=(o=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(d,p,x,y)=>`#${p}${p}${x}${x}${y}${y}`).substring(1).match(/.{2}/g))==null?void 0:o.map(d=>parseInt(d,16)))!=null?a:[]},ib=(r,o)=>{var a;let{colors:d,colorsTime:p,isSmoothColorTransition:x=!0}=r;if(typeof d=="string")return d;let y=(a=p==null?void 0:p.findIndex((R,M)=>R>=o&&o>=p[M+1]))!=null?a:-1;if(!p||y===-1)return d[0];if(!x)return d[y];let b=p[y]-o,w=p[y]-p[y+1],E=Fp(d[y]),S=Fp(d[y+1]),T=!!r.isGrowing;return`rgb(${E.map((R,M)=>Ym(b,R,S[M]-R,w,T)|0).join(",")})`},sb=r=>{let{duration:o,initialRemainingTime:a,updateInterval:d,size:p=180,strokeWidth:x=12,trailStrokeWidth:y,isPlaying:b=!1,isGrowing:w=!1,rotation:E="clockwise",onComplete:S,onUpdate:T}=r,R=_.useRef(),M=Math.max(x,y??0),{path:L,pathLength:F}=tb(p,M,E),{elapsedTime:B}=eb({isPlaying:b,duration:o,startAt:Bp(o,a),updateInterval:d,onUpdate:typeof T=="function"?H=>{let U=Math.ceil(o-H);U!==R.current&&(R.current=U,T(U))}:void 0,onComplete:typeof S=="function"?H=>{var U;let{shouldRepeat:re,delay:ae,newInitialRemainingTime:le}=(U=S(H))!=null?U:{};if(re)return{shouldRepeat:re,delay:ae,newStartAt:Bp(o,le)}}:void 0}),V=o-B;return{elapsedTime:B,path:L,pathLength:F,remainingTime:Math.ceil(V),rotation:E,size:p,stroke:ib(r,V),strokeDashoffset:Ym(B,0,F,o,w),strokeWidth:x}},Yd=r=>{let{children:o,strokeLinecap:a,trailColor:d,trailStrokeWidth:p}=r,{path:x,pathLength:y,stroke:b,strokeDashoffset:w,remainingTime:E,elapsedTime:S,size:T,strokeWidth:R}=sb(r);return nn.createElement("div",{style:nb(T)},nn.createElement("svg",{viewBox:`0 0 ${T} ${T}`,width:T,height:T,xmlns:"http://www.w3.org/2000/svg"},nn.createElement("path",{d:x,fill:"none",stroke:d??"#d9d9d9",strokeWidth:p??R}),nn.createElement("path",{d:x,fill:"none",stroke:b,strokeLinecap:a??"round",strokeWidth:R,strokeDasharray:y,strokeDashoffset:w})),typeof o=="function"&&nn.createElement("div",{style:rb},o({remainingTime:E,elapsedTime:S,color:b})))};Yd.displayName="CountdownCircleTimer";const ob=({onComplete:r})=>{const[o,a]=_.useState(5),[d,p]=_.useState(!1),x=_.useRef(null),y=_.useRef(null);_.useEffect(()=>(x.current&&clearTimeout(x.current),y.current&&clearInterval(y.current),y.current=setInterval(()=>{p(!0),x.current=setTimeout(()=>{a(w=>w<=1?(y.current&&clearInterval(y.current),x.current&&clearTimeout(x.current),r&&r(),0):w-1),p(!1)},500)},1500),()=>{y.current&&clearInterval(y.current),x.current&&clearTimeout(x.current)}),[r]);const b=d?"pop-burst":"";return A.jsx("div",{className:"lobby-countdown-overlay",children:A.jsxs("div",{className:`lobby-countdown-container ${b}`,children:[A.jsx("div",{className:"lobby-countdown-number",children:o}),A.jsx("div",{className:"lobby-countdown-text",children:o>0?"Get ready!":"Starting..."})]})})},ab=({onComplete:r,lobbyCode:o="this"})=>{const{userProfile:a}=_.useContext(Ir),[d,p]=_.useState(0),[x,y]=_.useState(!1),[b,w]=_.useState(!1),[E,S]=_.useState([0]),[T,R]=_.useState(!1),M=_.useRef(null),L=_.useRef(null),F=[{image:a!=null&&a.image_data?`data:image/jpeg;base64,${a.image_data}`:"/assets/how_to_pt1_1.svg",duration:2e3,animatedText:"Find your match using their profile picture!"},{image:"/assets/how_to_pt2_2.svg",duration:4e3,animatedText:"Raise the volume, you need it to know whats going on!"},{image:"/assets/how_to_pt3_3.svg",duration:4e3,animatedText:"Tap this to stop or pause, you can rejoin anytime"}];return _.useEffect(()=>{const B=()=>{if(d>=F.length-1){clearInterval(M.current),r&&r();return}y(!0);const V=d+1;S([d,V]),L.current=setTimeout(()=>{R(!1),p(V),y(!1),setTimeout(()=>{S([V]),w(!0),F[V].animatedText&&R(!0)},500)},500)};return M.current=setInterval(B,F[d].duration),w(!0),d===0&&F[0].animatedText&&R(!0),()=>{M.current&&clearInterval(M.current),L.current&&clearTimeout(L.current)}},[d,F.length,r]),A.jsx("div",{className:"tutorial-overlay",children:A.jsxs("div",{className:"tutorial-container",children:[E.map(B=>A.jsxs("div",{className:`tutorial-slide ${B===d?"current":B<d?"previous":"next"}`,children:[B===d&&F[B].animatedText&&T&&A.jsx("div",{className:"animated-text pop-burst",children:F[B].animatedText}),B===1&&A.jsx("div",{className:"volume-arrow-container",children:A.jsx("svg",{className:"volume-arrow",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:A.jsx("path",{d:"M19 12H5M5 12L12 5M5 12L12 19",stroke:"#144dff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),A.jsx("div",{className:`tutorial-image-container ${B===0?"first-slide":""}`,children:A.jsx("img",{src:F[B].image,alt:`Tutorial step ${B+1}`,className:"tutorial-image"})}),A.jsx("div",{className:`tutorial-text ${b&&B===d?"text-animate":""}`,children:F[B].text})]},B)),A.jsx("div",{className:"tutorial-progress",children:F.map((B,V)=>A.jsx("div",{className:`progress-dot ${V===d?"active":""}`},V))})]})})},lb=({isVisible:r,onAnimationEnd:o})=>{const[a,d]=_.useState(!1),p=_.useRef(null);return _.useEffect(()=>(p.current&&clearTimeout(p.current),r?(d(!0),p.current=setTimeout(()=>{d(!1),o&&o()},3e3)):d(!1),()=>{p.current&&(clearTimeout(p.current),p.current=null)}),[r,o]),a?A.jsxs("div",{className:"match-overlay",children:[A.jsxs("div",{className:"confetti-container",children:[[...Array(50)].map((x,y)=>A.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":Math.random()*.2}},`first-${y}`)),[...Array(50)].map((x,y)=>A.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":`${.6+Math.random()*.2}s`}},`second-${y}`))]}),A.jsx("div",{className:"match-text",children:"It's a Match!"})]}):null},cb=({isVisible:r,onAnimationEnd:o})=>{const[a,d]=_.useState(!1),p=_.useRef(null);return _.useEffect(()=>(p.current&&clearTimeout(p.current),r?(d(!0),p.current=setTimeout(()=>{d(!1),o&&o()},1800)):d(!1),()=>{p.current&&(clearTimeout(p.current),p.current=null)}),[r,o]),a?A.jsxs("div",{className:"ready-overlay",children:[A.jsxs("div",{className:"confetti-container",children:[[...Array(50)].map((x,y)=>A.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":Math.random()*.2}},`first-${y}`)),[...Array(50)].map((x,y)=>A.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":`${.6+Math.random()*.2}s`}},`second-${y}`))]}),A.jsx("div",{className:"ready-text",children:"You're ready!"})]}):null},oc=9,ub=5,fb=5e3,db=!0,hb=()=>{const r=Math.floor(540),[o,a]=_.useState([]),[d,p]=_.useState("self"),[x,y]=_.useState(!1),[b,w]=_.useState(""),E=_.useRef(null),S=_.useRef(null),[T,R]=_.useState(!1),M=_.useRef(!1),[L,F]=_.useState(!1),{loadSound:B,seekTo:V,cancelSound:H,checkSound:U,soundEnabled:re,setSoundEnabled:ae,isPlaying:le}=rg(),[X,ue]=_.useState("yonder"),q=Tr(),{code:_e}=q2(),[Le,Te]=_.useState(null);Dm(Te,null,X);const{user:ke,userProfile:De,checkAuth:ee,permissions:Be}=_.useContext(Ir);_.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token"))try{ke||await ee()}catch(Ge){console.error("Authentication error:",Ge);const Qe=new URLSearchParams(window.location.search).get("code")||_e;q(Qe?`/signup?redirect=lobby&code=${Qe}`:"/signup?redirect=lobby")}else{await fetch(window.server_url+"/debug?username="+ke+"&message=no token on the lobby page",{method:"GET"});const st=new URLSearchParams(window.location.search).get("code")||_e;q(st?`/signup?redirect=lobby&code=${st}`:"/signup?redirect=lobby")}})()},[q,_e,ee,ke]),_.useEffect(()=>{(()=>{const Ge=new URLSearchParams(window.location.search).get("code")||_e;if(Ge){ue(Ge),LE(Ge),wt(Ge),wt(Ge);const st=`hasSeenTutorial_${Ge}`,Qe=localStorage.getItem(st),gt=!!localStorage.getItem("access_token");console.log("Tutorial check:",{codeParam:Ge,lobbyTutorialKey:st,hasSeenLobbyTutorial:Qe,isAuthenticated:gt}),!Qe&&gt&&(Ur(!0),localStorage.setItem(st,"true"))}})()},[_e]);const[he,de]=_.useState(null),[Re,fe]=_.useState(null),[K,J]=_.useState(null),[Ee,Ve]=_.useState(null),[it,we]=_.useState(null),Ze=_.useRef(!1),Ue=_.useRef(null),mt=_.useRef(null),[ge,ct]=_.useState(null),[ht,Oe]=_.useState(null),[Et,Bt]=_.useState(null),[Ht,Pt]=_.useState(null),[St,ut]=_.useState(!0),An=_.useRef(0),[Ne,Mn]=_.useState(null),[vt,ve]=_.useState(null),[Pe,$e]=_.useState([]),[jt,yt]=_.useState([]),[pt,rn]=_.useState(!document.hidden),Ot=_.useRef("yonder"),Gt=_.useRef({}),_t=_.useRef([]),[Se,Vt]=_.useState(!1),It=_.useRef(null),[Xt,zr]=_.useState(!1);_.useEffect(()=>{Ot.current=X},[X]);async function ei(Fe,qe){const Ge=localStorage.getItem("access_token"),Qe=await(await fetch(window.server_url+"/set_profile_info",{method:"POST",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify({tags_work:Fe,tags_desiring_work:qe})})).json();console.log("SET PROFILE INFO:",Qe)}const xs=async Fe=>{if(Fe.length!==0){Vt(!0);try{const qe=localStorage.getItem("access_token"),Ge=await fetch(`${window.server_url}/load_batch_pfp_small_icons`,{method:"POST",headers:{Authorization:`Bearer ${qe}`,"Content-Type":"application/json",lobby_code:Ot.current},body:JSON.stringify({usernames:Fe})});if(Ge.ok){const st=await Ge.json();Gt.current={...Gt.current,...st},console.log("Profile images fetched:",Object.keys(st))}else console.error("Failed to fetch profile images:",Ge.status)}catch(qe){console.error("Error fetching profile images:",qe)}finally{Vt(!1)}}},wt=async Fe=>{try{const qe=await fetch(`${window.server_url}/lobby_setup_data`,{headers:{lobby_code:Fe}});if(qe.ok){const Ge=await qe.json();Ge.logo_icon?(It.current=Ge.logo_icon,zr(!0),console.log("Sponsor logo loaded successfully")):console.log("No sponsor logo available for this lobby")}else console.error("Failed to fetch lobby setup data:",qe.status)}catch(qe){console.error("Error fetching lobby setup data:",qe)}};async function Xn(){try{const Fe=localStorage.getItem("access_token");H(),Gt.current={},_t.current=[],(await fetch(window.server_url+"/disconnect_lobby",{headers:{Authorization:`Bearer ${Fe}`,lobby_code:X}})).ok&&q("/")}catch(Fe){console.error("Error disconnecting from lobby:",Fe),q("/")}finally{H(),q("/"),console.log("finally")}}const[ys,Fi]=_.useState(!1),[Yn,ji]=_.useState(null),sn=_.useRef(!1),[Nr,ti]=_.useState(!1),[En,Vi]=_.useState(null),rr=(Fe,qe)=>{if(!Fe||!qe)return null;for(const Ge of Fe.tags_work)if(qe.desiring_tags_work.includes(Ge)){for(const st of qe.tags_work)if(Fe.desiring_tags_work.includes(st))return{playerTag:Ge,opponentTag:st}}return null};async function ni(){try{An.current+=1,An.current>5&&(An.current=0,Ze.current=!1);const Fe=localStorage.getItem("access_token"),qe=!document.hidden,Ge=Ot.current;if(console.log("lobby code fr:",Ge),Ge=="yonder"){console.log("lobby code is not set");return}const st=await fetch(`${window.server_url}/lobby?is_visible=${qe}`,{headers:{Authorization:`Bearer ${Fe}`,is_visible_t_f:qe?"t":"f",lobby_code:Ge}});if(st.ok){const Qe=await st.json();console.log("LOBBY PAIR DATA:",Ge,Qe),Qe.status=="inactive"&&(H(),q("/")),J(Qe.opponent_name),Qe.opponent_name==null&&de(null),a(Qe.custom_tags),ct(Qe.lobby_state),Pt(Qe.lobby_duration);const gt=typeof Qe.round_time_left=="number"&&!isNaN(Qe.round_time_left)?Qe.round_time_left:0;console.log("Timer Debug:",{roundDuration:Qe.lobby_duration,timeLeft:gt,lobbyState:Qe.lobby_state,usingDefaultDuration:!Qe.lobby_duration}),Ue.current=gt,mt.current=Qe.beat_go_off,Oe(Math.floor(gt));const Cs=Math.floor(gt/60),pe=Math.floor(gt%60);Bt(`${Cs}:${pe.toString().padStart(2,"0")}`),we(Qe.table_number),Qe.player_tags!=null&&Qe.player_tags.tags_work!=null&&$e(Qe.player_tags.tags_work),Qe.player_tags!=null&&Qe.player_tags.desiring_tags_work!=null&&yt(Qe.player_tags.desiring_tags_work),Ue.current!=null&&Qe.lobby_state=="active"&&Ue.current!=0&&(V(r-Ue.current),console.log("seeking to",r-Ue.current));const Es=await fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${Ge}`,{headers:{Authorization:`Bearer ${Fe}`,lobby_code:Ge}});if(Es.ok){const Tt=await Es.json();Te(Tt.player_count);const sr=Tt.usernames||[];if(JSON.stringify(_t.current)!==JSON.stringify(sr)){_t.current=sr;const bt=sr.filter(ft=>!Gt.current[ft]&&ft!==(ke==null?void 0:ke.username));bt.length>0&&db&&(console.log("Profile image fetching disabled for lobby display"),console.log(`Skipping profile image fetch for ${bt.length} users - lobby images disabled`))}}if((K!=Qe.opponent_name||he==null)&&!Ze.current&&Qe.opponent_name!=null){Ze.current=!0,console.log("fetching profile");const Tt=await fetch(window.server_url+"/paired_player_profile",{headers:{Authorization:`Bearer ${Fe}`}});if(Tt.ok){const sr=await Tt.json();de(sr),console.log("profile fetched:",sr.name)}else console.log("profile fetch failed");Ze.current=!1}if(Yn==="interrim"&&Qe.lobby_state==="active"&&Qe.opponent_name&&!sn.current){console.log("Checking for matches...");const Tt=rr(Qe.player_tags,Qe.opponent_tags);Tt&&(console.log("Match found! Setting animation and banner...",Tt),Vi(Tt),ti(!0),sn.current=!0,Fi(!0))}ji(Qe.lobby_state)}}catch(Fe){console.error("Error fetching lobby data:",Fe)}}_.useEffect(()=>{U()?ae(!0):ae(!1);const Fe=setInterval(async()=>{ni()},fb);return()=>clearInterval(Fe)},[]),_.useEffect(()=>{const Fe=setTimeout(ni,1e3);return()=>clearTimeout(Fe)},[ge,X]),_.useEffect(()=>{const Fe=()=>{const qe=!document.hidden;qe&&!pt&&(console.log("Page became visible - fetching latest data"),ni()),rn(qe)};return document.addEventListener("visibilitychange",Fe),()=>{document.removeEventListener("visibilitychange",Fe)}},[pt]);const fn=()=>A.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.125)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:A.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",position:"relative",minWidth:"300px"},children:[A.jsx("button",{onClick:()=>ut(!1),style:{color:"#144fff",position:"absolute",right:"10px",top:"10px",border:"none",background:"none",fontSize:"2px",cursor:"pointer"},children:"X"}),A.jsx("h2",{style:{marginTop:"5px"},children:"The Sound is Important"}),A.jsx("h3",{style:{marginTop:"5px"},children:"Raise your volume also"}),A.jsx("p",{style:{color:"#144dff"},children:"You'll need this for the best experience."}),A.jsx("button",{onClick:()=>{B(),ut(!1)},style:{padding:"10px 20px",marginTop:"20px",backgroundColor:"#144dff",color:"#ffffff",border:"none",borderRadius:"14px",fontWeight:"bold",cursor:"pointer"},children:"Enable Sound"})]})}),ir=(Fe,qe)=>{Ne==null&&Mn(Pe),vt==null&&ve(jt);const Ge=Fe==="self"?Ne:vt;if(!(Ge!=null&&Ge.includes(qe))&&(Ge==null?void 0:Ge.length)>=ub){w("Reached tag limit for this section"),setTimeout(()=>{var Qe;(Qe=S.current)==null||Qe.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{w("")},3e3);return}Fe==="self"?Mn(Qe=>Qe.includes(qe)?Qe.filter(gt=>gt!==qe):[...Qe,qe]):ve(Qe=>Qe.includes(qe)?Qe.filter(gt=>gt!==qe):[...Qe,qe])},Sn=()=>{Ne!=null&&ei(Ne,vt||[]),p("desiring"),setTimeout(()=>{var Fe;(Fe=E.current)==null||Fe.scrollIntoView({behavior:"smooth",block:"start"})},100)},Me=()=>{vt!=null&&(ei(Ne||[],vt),setTimeout(()=>{M.current||(M.current=!0,R(!0),F(!0))},500)),window.scrollTo({top:0,behavior:"smooth"})},ri=()=>{p("self")},[ws,In]=_.useState(!1);_.useEffect(()=>{if(ge==="interrim")In(!0);else if(ge==="active"){const Fe=setTimeout(()=>{In(!1)},1e3);return()=>clearTimeout(Fe)}},[ge]);const Kn=()=>{console.log("Lobby countdown animation completed")},[wi,Ur]=_.useState(!1),fr=()=>{Ur(!1)};_.useEffect(()=>{(ge!=="active"||!he)&&(ti(!1),Vi(null))},[ge,he]),_.useEffect(()=>{ge==="terminated"&&(Gt.current={},_t.current=[],Sc())},[ge]);const vs=_.useRef(null);return _.useEffect(()=>{var Fe;!x&&!(Pe!=null&&Pe.length)&&!(jt!=null&&jt.length)&&(o==null?void 0:o.length)>0&&((Fe=vs.current)==null||Fe.scrollIntoView({behavior:"smooth"}),y(!0))},[Pe,jt,o,x]),A.jsxs("div",{className:"lobby-container",children:[A.jsx(Mm,{}),A.jsxs("div",{className:"lobby-content",children:[A.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0",marginTop:"-1.5rem"},children:A.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),(ge==="checkin"||ge==="active"&&!he||ge==="interrim")&&A.jsx("div",{className:"user-profile-container",children:A.jsxs("div",{className:"user-profile",children:[A.jsx("img",{src:De!=null&&De.image_data?`data:image/jpeg;base64,${De.image_data}`:"/assets/avatar_3.png",alt:"Your Profile",className:"user-profile-picture"}),A.jsx("div",{className:"user-profile-glow"})]})}),A.jsx("div",{className:"lobby-header",style:{marginTop:"-50px"},children:A.jsx("h2",{children:ge==="active"&&he?A.jsxs("span",{className:"lobby-pop-burst",children:["Go find ",he.name,"!"]}):ge==="checkin"?A.jsxs(A.Fragment,{children:["Wait here ",De.name.slice(0,15),".",A.jsx("br",{}),"Your host will start the experience."]}):ge==="active"&&!he?"You will be paired with someone in the next round.":ge==="interrim"?"Get ready for the next round!":ge==="terminated"?"This session has ended. Thank you for participating!":""})},ge),ge==="active"&&he&&it&&A.jsx("div",{className:"table-number",children:A.jsxs("h3",{children:["at table: ",it]})}),(It.current||ge!=="checkin")&&A.jsxs("div",{className:`timer-sponsor-container ${It.current&&ge!=="checkin"?"has-timer":""}`,children:[It.current&&A.jsx("div",{className:"sponsor-logo",children:A.jsx("img",{src:`data:image/jpeg;base64,${It.current}`,alt:"Sponsor Logo",style:{width:"100px",height:"100px",objectFit:"contain"}})}),ge!=="checkin"&&A.jsx("div",{className:"time-left",style:{display:"flex",flexDirection:"column",alignItems:"center",background:"white"},children:(ge==="active"||ge==="interrim")&&ht?A.jsxs(A.Fragment,{children:[A.jsx(Yd,{isPlaying:ge==="active",duration:Ht||300,initialRemainingTime:ht||0,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>(ni(),{shouldRepeat:!1}),children:({remainingTime:Fe})=>{const qe=typeof Fe=="number"&&!isNaN(Fe)?Fe:0,Ge=Math.floor(qe/60),st=Math.floor(qe%60);return A.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[Ge,":",String(st).padStart(2,"0")]})}},`${ge}-${ht}`),A.jsx("span",{style:{fontWeight:700,fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)"},children:"round time left"})]}):A.jsx("span",{className:"time-left-text"})})]}),Nr&&En&&ge==="active"&&he&&A.jsxs("div",{className:"match-banner",children:[A.jsx("span",{className:"match-tag",children:En.playerTag}),A.jsx("div",{className:"match-arrow"}),A.jsx("span",{className:"match-tag",children:En.opponentTag})]}),A.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",margin:"0 auto"},children:ge==="active"||ge==="interrim"?he?A.jsx("div",{style:{marginTop:"-3rem",width:"100%",display:"flex",justifyContent:"center"},children:A.jsx(JE,{player:he})}):A.jsx(A.Fragment,{}):ge==="terminated"?A.jsx("div",{className:"status-message",children:A.jsxs("h2",{children:["This session has ended.",A.jsx("br",{}),"Thank you for participating!"]})}):null}),(ge==="checkin"||ge==="active"&&!he)&&Le!==null&&A.jsx("div",{className:"player-count-container",children:A.jsxs("div",{className:"player-count-bubble",children:[A.jsx("div",{className:"player-count-icon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:A.jsx("img",{src:"/assets/players_display_icon.png",alt:"Players in lobby",className:"player-count-img",style:{width:"40px",height:"40px",objectFit:"contain"}})}),A.jsxs("div",{className:"player-count-text",children:[A.jsx("span",{className:"player-count-number",children:Le}),A.jsxs("span",{className:"player-count-label",children:[""," in ",X," lobby"]})]})]})}),(ge==="checkin"||ge==="active"&&!he)&&A.jsx("div",{className:"lobby-profiles-container",children:A.jsx("div",{className:"lobby-profiles-grid",children:Le>0?A.jsxs(A.Fragment,{children:[Array.from({length:Math.min(Le,oc)}).map((Fe,qe)=>{let Ge;return Ge="/assets/avatar_8.png",A.jsxs("div",{className:`profile-icon-wrapper ${qe===Math.min(Le,oc)-1?"pop-in":""}`,children:[A.jsx("img",{src:Ge,alt:`Profile ${qe+1}`,className:"profile-icon",loading:"lazy"}),A.jsx("div",{className:"profile-icon-glow"})]},`profile-${qe}`)}),Le>oc&&A.jsx("div",{className:"profile-icon-wrapper more-profiles",children:A.jsxs("div",{className:"more-profiles-bubble",children:["+",Le-oc]})})]}):A.jsx("div",{children:"No profiles to display"})})}),(ge==="checkin"||ge==="active")&&A.jsxs("div",{className:"selected-tags-container",children:[Ne&&Ne.length>0&&A.jsxs("div",{className:"tag-category",children:[A.jsx("h4",{children:"I am:"}),A.jsx("div",{className:"tag-list",children:Ne.map(Fe=>A.jsx("span",{className:"tag-item",children:Fe},`self-${Fe}`))})]}),vt&&vt.length>0&&A.jsxs("div",{className:"tag-category",children:[A.jsx("h4",{children:"Looking for:"}),A.jsx("div",{className:"tag-list",children:vt.map(Fe=>A.jsx("span",{className:"tag-item",children:Fe},`desiring-${Fe}`))})]})]}),A.jsx("button",{className:"leave-lobby-button",onClick:Xn,children:"Leave"}),A.jsx("button",{className:"how-to-tutorial-button",onClick:()=>Ur(!0),children:"Tutorial"}),Be==="admin"&&A.jsx("button",{className:"admin-view-button",onClick:()=>q(`/admin_lobby_view?code=${X}`),children:"Manage"}),Array.isArray(o)&&o.length>0&&A.jsx("form",{onSubmit:Fe=>{Fe.preventDefault(),d==="self"?Sn():Me()},children:A.jsxs("div",{className:"tags-section",ref:vs,children:[A.jsx("div",{className:"progress-bar-container",children:A.jsx("div",{className:`progress-bar ${d==="desiring"?"progress-complete":""}`,onClick:ri})}),A.jsxs("div",{className:`tag-group ${d==="self"?"active":"hidden"}`,children:[A.jsx("div",{className:"bounce-wrapper",children:A.jsx("h2",{children:"Who are you?"})}),A.jsx("div",{className:"tag-labels-container",children:o.map(Fe=>A.jsxs("label",{className:"tag-label",children:[A.jsx("input",{type:"checkbox",checked:Ne!=null?Ne.includes(Fe):Pe.includes(Fe),onChange:()=>ir("self",Fe)}),Fe]},`self-${Fe}`))})]}),A.jsxs("div",{className:`tag-group ${d==="desiring"?"active":"hidden"}`,ref:E,children:[A.jsx("div",{className:"bounce-wrapper",children:A.jsx("h2",{children:"Who do you want to meet?"})}),A.jsx("div",{className:"tag-labels-container",children:o.map(Fe=>A.jsxs("label",{className:"tag-label",children:[A.jsx("input",{type:"checkbox",checked:vt!=null?vt.includes(Fe):jt.includes(Fe),onChange:()=>ir("desiring",Fe)}),Fe]},`desiring-${Fe}`))})]}),A.jsx("button",{type:"submit",className:"tag-selection-button",ref:S,children:d==="self"?"Continue":"Save"}),b&&A.jsx("div",{style:{color:"#144dff",textAlign:"center",marginTop:"1rem",fontSize:"0.9rem",fontWeight:"600"},children:b})]})})]}),re||!St||ge=="checkin"||ge==null||le?null:A.jsx(fn,{}),ws&&A.jsx(ob,{onComplete:Kn}),wi&&A.jsx(ab,{onComplete:fr,lobbyCode:X}),A.jsx(lb,{isVisible:ys,onAnimationEnd:()=>{Fi(!1),sn.current=!1}}),A.jsx(cb,{isVisible:T,onAnimationEnd:()=>{R(!1),M.current=!1}})]})};let pb={data:""},gb=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||pb,mb=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xb=/\/\*[^]*?\*\/|  +/g,jp=/\n+/g,fs=(r,o)=>{let a="",d="",p="";for(let x in r){let y=r[x];x[0]=="@"?x[1]=="i"?a=x+" "+y+";":d+=x[1]=="f"?fs(y,x):x+"{"+fs(y,x[1]=="k"?"":o)+"}":typeof y=="object"?d+=fs(y,o?o.replace(/([^,])+/g,b=>x.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,w=>/&/.test(w)?w.replace(/&/g,b):b?b+" "+w:w)):x):y!=null&&(x=/^--/.test(x)?x:x.replace(/[A-Z]/g,"-$&").toLowerCase(),p+=fs.p?fs.p(x,y):x+":"+y+";")}return a+(o&&p?o+"{"+p+"}":p)+d},Mi={},Km=r=>{if(typeof r=="object"){let o="";for(let a in r)o+=a+Km(r[a]);return o}return r},yb=(r,o,a,d,p)=>{let x=Km(r),y=Mi[x]||(Mi[x]=(w=>{let E=0,S=11;for(;E<w.length;)S=101*S+w.charCodeAt(E++)>>>0;return"go"+S})(x));if(!Mi[y]){let w=x!==r?r:(E=>{let S,T,R=[{}];for(;S=mb.exec(E.replace(xb,""));)S[4]?R.shift():S[3]?(T=S[3].replace(jp," ").trim(),R.unshift(R[0][T]=R[0][T]||{})):R[0][S[1]]=S[2].replace(jp," ").trim();return R[0]})(r);Mi[y]=fs(p?{["@keyframes "+y]:w}:w,a?"":"."+y)}let b=a&&Mi.g?Mi.g:null;return a&&(Mi.g=Mi[y]),((w,E,S,T)=>{T?E.data=E.data.replace(T,w):E.data.indexOf(w)===-1&&(E.data=S?w+E.data:E.data+w)})(Mi[y],o,d,b),y},wb=(r,o,a)=>r.reduce((d,p,x)=>{let y=o[x];if(y&&y.call){let b=y(a),w=b&&b.props&&b.props.className||/^go/.test(b)&&b;y=w?"."+w:b&&typeof b=="object"?b.props?"":fs(b,""):b===!1?"":b}return d+p+(y??"")},"");function Lc(r){let o=this||{},a=r.call?r(o.p):r;return yb(a.unshift?a.raw?wb(a,[].slice.call(arguments,1),o.p):a.reduce((d,p)=>Object.assign(d,p&&p.call?p(o.p):p),{}):a,gb(o.target),o.g,o.o,o.k)}let Zm,Qf,Jf;Lc.bind({g:1});let Bi=Lc.bind({k:1});function vb(r,o,a,d){fs.p=o,Zm=r,Qf=a,Jf=d}function ms(r,o){let a=this||{};return function(){let d=arguments;function p(x,y){let b=Object.assign({},x),w=b.className||p.className;a.p=Object.assign({theme:Qf&&Qf()},b),a.o=/ *go\d+/.test(w),b.className=Lc.apply(a,d)+(w?" "+w:"");let E=r;return r[0]&&(E=b.as||r,delete b.as),Jf&&E[0]&&Jf(b),Zm(E,b)}return p}}var Cb=r=>typeof r=="function",Tc=(r,o)=>Cb(r)?r(o):r,Eb=(()=>{let r=0;return()=>(++r).toString()})(),$m=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let o=matchMedia("(prefers-reduced-motion: reduce)");r=!o||o.matches}return r}})(),bb=20,qm=(r,o)=>{switch(o.type){case 0:return{...r,toasts:[o.toast,...r.toasts].slice(0,bb)};case 1:return{...r,toasts:r.toasts.map(x=>x.id===o.toast.id?{...x,...o.toast}:x)};case 2:let{toast:a}=o;return qm(r,{type:r.toasts.find(x=>x.id===a.id)?1:0,toast:a});case 3:let{toastId:d}=o;return{...r,toasts:r.toasts.map(x=>x.id===d||d===void 0?{...x,dismissed:!0,visible:!1}:x)};case 4:return o.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(x=>x.id!==o.toastId)};case 5:return{...r,pausedAt:o.time};case 6:let p=o.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(x=>({...x,pauseDuration:x.pauseDuration+p}))}}},hc=[],Ks={toasts:[],pausedAt:void 0},Qs=r=>{Ks=qm(Ks,r),hc.forEach(o=>{o(Ks)})},Ab={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Sb=(r={})=>{let[o,a]=_.useState(Ks),d=_.useRef(Ks);_.useEffect(()=>(d.current!==Ks&&a(Ks),hc.push(a),()=>{let x=hc.indexOf(a);x>-1&&hc.splice(x,1)}),[]);let p=o.toasts.map(x=>{var y,b,w;return{...r,...r[x.type],...x,removeDelay:x.removeDelay||((y=r[x.type])==null?void 0:y.removeDelay)||(r==null?void 0:r.removeDelay),duration:x.duration||((b=r[x.type])==null?void 0:b.duration)||(r==null?void 0:r.duration)||Ab[x.type],style:{...r.style,...(w=r[x.type])==null?void 0:w.style,...x.style}}});return{...o,toasts:p}},Ib=(r,o="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:o,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...a,id:(a==null?void 0:a.id)||Eb()}),$a=r=>(o,a)=>{let d=Ib(o,r,a);return Qs({type:2,toast:d}),d.id},cr=(r,o)=>$a("blank")(r,o);cr.error=$a("error");cr.success=$a("success");cr.loading=$a("loading");cr.custom=$a("custom");cr.dismiss=r=>{Qs({type:3,toastId:r})};cr.remove=r=>Qs({type:4,toastId:r});cr.promise=(r,o,a)=>{let d=cr.loading(o.loading,{...a,...a==null?void 0:a.loading});return typeof r=="function"&&(r=r()),r.then(p=>{let x=o.success?Tc(o.success,p):void 0;return x?cr.success(x,{id:d,...a,...a==null?void 0:a.success}):cr.dismiss(d),p}).catch(p=>{let x=o.error?Tc(o.error,p):void 0;x?cr.error(x,{id:d,...a,...a==null?void 0:a.error}):cr.dismiss(d)}),r};var Tb=(r,o)=>{Qs({type:1,toast:{id:r,height:o}})},Nb=()=>{Qs({type:5,time:Date.now()})},Pa=new Map,Rb=1e3,_b=(r,o=Rb)=>{if(Pa.has(r))return;let a=setTimeout(()=>{Pa.delete(r),Qs({type:4,toastId:r})},o);Pa.set(r,a)},kb=r=>{let{toasts:o,pausedAt:a}=Sb(r);_.useEffect(()=>{if(a)return;let x=Date.now(),y=o.map(b=>{if(b.duration===1/0)return;let w=(b.duration||0)+b.pauseDuration-(x-b.createdAt);if(w<0){b.visible&&cr.dismiss(b.id);return}return setTimeout(()=>cr.dismiss(b.id),w)});return()=>{y.forEach(b=>b&&clearTimeout(b))}},[o,a]);let d=_.useCallback(()=>{a&&Qs({type:6,time:Date.now()})},[a]),p=_.useCallback((x,y)=>{let{reverseOrder:b=!1,gutter:w=8,defaultPosition:E}=y||{},S=o.filter(M=>(M.position||E)===(x.position||E)&&M.height),T=S.findIndex(M=>M.id===x.id),R=S.filter((M,L)=>L<T&&M.visible).length;return S.filter(M=>M.visible).slice(...b?[R+1]:[0,R]).reduce((M,L)=>M+(L.height||0)+w,0)},[o]);return _.useEffect(()=>{o.forEach(x=>{if(x.dismissed)_b(x.id,x.removeDelay);else{let y=Pa.get(x.id);y&&(clearTimeout(y),Pa.delete(x.id))}})},[o]),{toasts:o,handlers:{updateHeight:Tb,startPause:Nb,endPause:d,calculateOffset:p}}},Pb=Bi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Ob=Bi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Mb=Bi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Db=ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Pb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Ob} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Mb} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Lb=Bi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Bb=ms("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Lb} 1s linear infinite;
`,Fb=Bi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,jb=Bi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Vb=ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Fb} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${jb} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zb=ms("div")`
  position: absolute;
`,Ub=ms("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Wb=Bi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Hb=ms("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Wb} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Gb=({toast:r})=>{let{icon:o,type:a,iconTheme:d}=r;return o!==void 0?typeof o=="string"?_.createElement(Hb,null,o):o:a==="blank"?null:_.createElement(Ub,null,_.createElement(Bb,{...d}),a!=="loading"&&_.createElement(zb,null,a==="error"?_.createElement(Db,{...d}):_.createElement(Vb,{...d})))},Xb=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yb=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Kb="0%{opacity:0;} 100%{opacity:1;}",Zb="0%{opacity:1;} 100%{opacity:0;}",$b=ms("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,qb=ms("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Qb=(r,o)=>{let a=r.includes("top")?1:-1,[d,p]=$m()?[Kb,Zb]:[Xb(a),Yb(a)];return{animation:o?`${Bi(d)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Bi(p)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Jb=_.memo(({toast:r,position:o,style:a,children:d})=>{let p=r.height?Qb(r.position||o||"top-center",r.visible):{opacity:0},x=_.createElement(Gb,{toast:r}),y=_.createElement(qb,{...r.ariaProps},Tc(r.message,r));return _.createElement($b,{className:r.className,style:{...p,...a,...r.style}},typeof d=="function"?d({icon:x,message:y}):_.createElement(_.Fragment,null,x,y))});vb(_.createElement);var eA=({id:r,className:o,style:a,onHeightUpdate:d,children:p})=>{let x=_.useCallback(y=>{if(y){let b=()=>{let w=y.getBoundingClientRect().height;d(r,w)};b(),new MutationObserver(b).observe(y,{subtree:!0,childList:!0,characterData:!0})}},[r,d]);return _.createElement("div",{ref:x,className:o,style:a},p)},tA=(r,o)=>{let a=r.includes("top"),d=a?{top:0}:{bottom:0},p=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$m()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${o*(a?1:-1)}px)`,...d,...p}},nA=Lc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ac=16,rA=({reverseOrder:r,position:o="top-center",toastOptions:a,gutter:d,children:p,containerStyle:x,containerClassName:y})=>{let{toasts:b,handlers:w}=kb(a);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ac,left:ac,right:ac,bottom:ac,pointerEvents:"none",...x},className:y,onMouseEnter:w.startPause,onMouseLeave:w.endPause},b.map(E=>{let S=E.position||o,T=w.calculateOffset(E,{reverseOrder:r,gutter:d,defaultPosition:o}),R=tA(S,T);return _.createElement(eA,{id:E.id,key:E.id,onHeightUpdate:w.updateHeight,className:E.visible?nA:"",style:R},E.type==="custom"?Tc(E.message,E):p?p(E):_.createElement(Jb,{toast:E,position:S}))}))},pc=cr;const Nf=({direction:r="down",show:o=!0,className:a="",style:d={}})=>{if(!o)return null;const p=r==="down"?"rotate(180 16 16)":"";return A.jsxs("div",{className:`arrow-hint-container ${r} ${a}`,style:d,children:[A.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"arrow-hint-svg",children:A.jsxs("g",{transform:p,children:[A.jsx("path",{d:"M16 6v16M16 22l-7-7M16 22l7-7",stroke:"url(#arrow-gradient)",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#arrow-glow)"}),A.jsxs("defs",{children:[A.jsxs("linearGradient",{id:"arrow-gradient",x1:"16",y1:"6",x2:"16",y2:"22",gradientUnits:"userSpaceOnUse",children:[A.jsx("stop",{stopColor:"#7f5fff"}),A.jsx("stop",{offset:"0.5",stopColor:"#2e8bff"}),A.jsx("stop",{offset:"1",stopColor:"#00e0ff"})]}),A.jsx("filter",{id:"arrow-glow",x:"-10",y:"-10",width:"52",height:"52",filterUnits:"userSpaceOnUse",children:A.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2.5",floodColor:"#7f5fff",floodOpacity:"0.5"})})]})]})}),A.jsx("div",{className:"arrow-hint-text",children:"Tap Here"})]})},iA=({isOpen:r,onClose:o,onConfirm:a,userName:d})=>r?A.jsx("div",{className:"kick-modal",children:A.jsxs("div",{className:"kick-modal-content",children:[A.jsx("h2",{className:"kick-modal-title",children:"Kick User"}),A.jsxs("p",{className:"kick-modal-message",children:["Are you sure you want to kick ",d," from the lobby?"]}),A.jsxs("div",{className:"kick-modal-actions",children:[A.jsx("button",{onClick:a,className:"admin-button admin-button-danger",children:"Yes, Kick User"}),A.jsx("button",{onClick:o,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,sA=({isOpen:r,onClose:o,onConfirm:a})=>r?A.jsx("div",{className:"join-modal",children:A.jsxs("div",{className:"join-modal-content",children:[A.jsx("h2",{className:"join-modal-title",children:"Join Lobby"}),A.jsx("p",{className:"join-modal-message",children:"Are you sure you want to join? You will be paired up with your attendees."}),A.jsxs("div",{className:"join-modal-actions",children:[A.jsx("button",{onClick:a,className:"admin-button admin-button-join",children:"Yes, Join Lobby"}),A.jsx("button",{onClick:o,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,oA=({lobbyState:r,playerCount:o,onStart:a,onEnd:d,lobbyCode:p,currentRound:x})=>{const y=r==="checkin",b=o>=2&&r==="checkin",w=r==="active",E=r==="active",S=r==="terminated",[T,R]=_.useState(null),[M,L]=_.useState({code:!1,qr:!1}),[F,B]=_.useState(!1),V=()=>{R("start")},H=()=>{R("end")},U=()=>{B(!0),R("checkin")},re=()=>{T==="start"?(a(),pc.success("Rounds started!",{position:"top-center"})):T==="end"&&d(),R(null)},ae=()=>R(null),le=(ke,De)=>ke?"progress-arrow active-shimmer":De?"progress-arrow available-shimmer":"progress-arrow inactive",X=y&&!F&&o<6,ue=r==="checkin"&&o>=6,q=r==="active"&&x+1>=12,_e=()=>{const ke=document.getElementById("modal-qr-svg");if(!ke)return;const ee=new XMLSerializer().serializeToString(ke),Be=new window.Image,he=512,de=document.createElement("canvas");de.width=he,de.height=he;const Re=de.getContext("2d");Be.onload=()=>{Re.clearRect(0,0,he,he),Re.drawImage(Be,0,0,he,he),de.toBlob(fe=>{navigator.clipboard&&navigator.clipboard.write?navigator.clipboard.write([new window.ClipboardItem({"image/png":fe})]).then(()=>{L(K=>({...K,qr:!0})),setTimeout(()=>L(K=>({...K,qr:!1})),800)}).catch(()=>{Le(fe)}):Le(fe)},"image/png")},Be.onerror=()=>alert("Failed to render QR code image."),Be.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(ee)))};function Le(ke){const De=URL.createObjectURL(ke),ee=document.createElement("a");ee.href=De,ee.download=`reuneo-lobby-${p}.png`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(De),L(Be=>({...Be,qr:!0})),setTimeout(()=>L(Be=>({...Be,qr:!1})),800)}const Te=()=>{navigator.clipboard.writeText(p),L(ke=>({...ke,code:!0})),setTimeout(()=>L(ke=>({...ke,code:!1})),800)};return A.jsxs("div",{className:"lobby-progress-bar",style:{marginTop:"-1rem",height:"40px"},children:[A.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[A.jsx("div",{className:le(y,!1),tabIndex:0,title:"Check-in phase",onClick:U,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"Start Checkin"}),A.jsx(Nf,{direction:"down",show:X})]}),A.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[A.jsx("div",{className:le(w,b&&!w),tabIndex:0,title:b?"Start rounds":"At least 2 players required",onClick:V,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"Start Rounds"}),A.jsx(Nf,{direction:"down",show:ue})]}),A.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[A.jsx("div",{className:le(S,E&&!S),tabIndex:0,title:E?"End rounds":"Cannot end yet",onClick:H,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"End Rounds"}),A.jsx(Nf,{direction:"down",show:q})]}),T&&A.jsx("div",{className:"progress-modal-overlay",children:A.jsx("div",{className:"progress-modal",children:T==="checkin"?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"progress-modal-title",children:"Have your attendees scan the QR code to join your lobby"}),A.jsx("div",{className:"progress-modal-message",children:"You can start when you have 6-10 people, don't worry new people can join in the next rounds."}),A.jsxs("div",{className:"progress-modal-qr",onClick:_e,style:{cursor:"pointer",position:"relative"},children:[A.jsx(Xd,{value:`${window.location.origin}/lobby?code=${p}`,size:200,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"modal-qr-svg"}),A.jsx("span",{className:"copy-icon modal-copy-icon","aria-label":"Copy",style:{position:"absolute",right:8,bottom:8,background:"#fff",borderRadius:"50%",padding:"2px"},children:A.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[A.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),A.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})}),M.qr&&A.jsx("span",{className:"modal-copied-feedback",style:{position:"absolute",left:"50%",bottom:"-1.5rem",transform:"translateX(-50%)",color:"#28a745",fontWeight:600,fontSize:"0.95rem"},children:"Copied!"})]}),A.jsxs("div",{className:`progress-modal-lobbycode${M.code?" copied":""}`,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[A.jsxs("b",{children:["lobby code: ",p]}),A.jsx("span",{className:"copy-icon modal-copy-icon","aria-label":"Copy",onClick:Te,style:{cursor:"pointer"},children:A.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[A.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),A.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})}),M.code&&A.jsx("span",{className:"modal-copied-feedback",style:{color:"#28a745",fontWeight:600,fontSize:"0.95rem"},children:"Copied!"})]}),A.jsx("div",{className:"progress-modal-actions",children:A.jsx("button",{className:"progress-modal-btn confirm",onClick:ae,children:"Got it"})})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"progress-modal-title",children:T==="start"?"Are you sure you want to start rounds?":"Are you sure you want to end the rounds?"}),A.jsx("div",{className:"progress-modal-actions",children:T==="start"?A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"progress-modal-btn cancel",onClick:ae,children:"Not Yet"}),A.jsx("button",{className:"progress-modal-btn confirm",onClick:re,children:"Start"})]}):A.jsxs(A.Fragment,{children:[A.jsx("button",{className:"progress-modal-btn cancel",onClick:ae,children:"Keep Going"}),A.jsx("button",{className:"progress-modal-btn confirm danger",onClick:re,children:"End"})]})})]})})})]})},aA=({players:r})=>{const o=[...r.pairedPlayers?r.pairedPlayers.flat():[],...r.lobbyData?r.lobbyData:[]],a=10,d=o.slice(0,a),p=o.length-a,x=o.length;return A.jsxs("div",{className:"overlapping-profile-list-wrapper",style:{marginTop:"3rem"},children:[A.jsxs("div",{className:"overlapping-profile-list",children:[d.map((y,b)=>A.jsx("img",{src:y.pfp_data||"/assets/player_icon_trans.png",alt:y.name||"Player",className:"overlapping-profile-img",style:{zIndex:b+1}},y.username||y.name||b)),p>0&&A.jsxs("span",{className:"overlapping-profile-overflow",children:["+ ",p]})]}),A.jsxs("div",{className:"overlapping-profile-list-label",style:{marginTop:"0.5rem",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)"},children:["People joined: ",x]})]})},lA=()=>{const{user:r,userProfile:o,checkAuth:a,permissions:d}=_.useContext(Ir),p=Tr(),x=yi(),b=new URLSearchParams(x.search).get("code"),[w,E]=_.useState(b||"test"),S=async()=>{await fetch(window.server_url+"/reset_lobby_timer",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}})};_.useEffect(()=>{b||(console.log("No lobby code found in URL, using default 'test' value"),(async()=>{try{const ct=localStorage.getItem("access_token"),ht=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${ct}`}});if(ht.ok){const Oe=await ht.json();if(console.log("Active lobbies response:",Oe),Oe&&Oe.lobbies&&Oe.lobbies.length>0){const Et=Oe.lobbies[0];E(Et),window.history.replaceState({},"",`/admin_lobby_view?code=${Et}`)}}}catch(ct){console.error("Error fetching active lobby:",ct)}})())},[b]);const[T,R]=_.useState(!1),[M,L]=_.useState(null),[F,B]=_.useState(!1),[V,H]=_.useState(null),[U,re]=_.useState(null),[ae,le]=_.useState(null),[X,ue]=_.useState(null),[q,_e]=_.useState(null),[Le,Te]=_.useState({}),[ke,De]=_.useState([]),[ee,Be]=_.useState(0),he=((U==null?void 0:U.length)||0)+((V==null?void 0:V.length)*2||0),[de,Re]=_.useState(!1);_.useEffect(()=>{if(a(),d!=="admin"&&d!=="organizer"){p("/");return}const ge=async ht=>{if(Le[ht])return Le[ht];try{const Oe=await fetch(`${window.server_url}/pfp_small_icon?username=${encodeURIComponent(ht)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(Oe.ok){let Et=await Oe.text();Et.startsWith('"')&&Et.endsWith('"')&&(Et=Et.slice(1,-1));const Bt=Et.startsWith("data:image")?Et:`data:image/jpeg;base64,${Et}`;return Te(Ht=>({...Ht,[ht]:Bt})),Bt}return null}catch(Oe){return console.error(`Error fetching profile picture for ${ht}:`,Oe),null}},ct=setInterval(async()=>{try{const ht=await fetch(window.server_url+"/admin_lobby_data",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}});if(ht.ok){const Oe=await ht.json();if(console.log("Admin lobby data:",w,Oe),Oe.lobby_state==="active"&&Be(Et=>Oe.current_round>Et?Oe.current_round:Et),Oe.lobby_state==="terminated"&&Be(0),Oe&&Oe.unpaired_players){const Et=await Promise.all(Oe.unpaired_players.map(async Ht=>{const Pt=await ge(Ht.username);return{...Ht,pfp_data:Pt}})),Bt=await Promise.all((Oe.pairs_data||[]).map(async Ht=>{const Pt=await ge(Ht[0].username),St=await ge(Ht[1].username);return[{...Ht[0],pfp_data:Pt},{...Ht[1],pfp_data:St}]}));re(Et),H(Bt),le(Oe.round_time_left),ue(Oe.lobby_state),_e(Oe.lobby_duration||300),De(Oe.custom_tags||[])}else console.error("Invalid lobby data structure:",Oe),re([]),H([])}else console.error("Failed to fetch admin lobby data:",ht.status)}catch(ht){console.error("Error fetching admin lobby data:",ht)}},1e3);return()=>clearInterval(ct)},[Le]);const fe=ge=>{L(ge),R(!0)},K=()=>{R(!1),L(null)},J=()=>{M&&fetch(window.server_url+"/kick_user",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({username:M.username,lobby_code:w})}).then(ge=>{ge.ok?console.log(`User ${M.name} kicked successfully`):console.error(`Failed to kick user ${M.name}`)}).catch(ge=>{console.error("Error kicking user:",ge)}).finally(()=>{K()})},Ee=()=>{B(!0)},Ve=()=>{B(!1)},it=()=>{p(`/lobby?code=${w}`),Ve()};async function we(){const ge=document.getElementById("admin-qr-svg");if(!ge)return;const ht=new XMLSerializer().serializeToString(ge),Oe=new window.Image,Et=512,Bt=document.createElement("canvas");Bt.width=Et,Bt.height=Et;const Ht=Bt.getContext("2d");Oe.onload=()=>{Ht.clearRect(0,0,Et,Et),Ht.drawImage(Oe,0,0,Et,Et),Bt.toBlob(Pt=>{navigator.clipboard&&navigator.clipboard.write?navigator.clipboard.write([new window.ClipboardItem({"image/png":Pt})]).then(()=>{pc.success("QR code copied to clipboard!")}).catch(()=>{Ze(Pt)}):Ze(Pt)},"image/png")},Oe.onerror=()=>pc.error("Failed to generate QR code image."),Oe.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(ht)))}function Ze(ge){const ct=URL.createObjectURL(ge),ht=document.createElement("a");ht.href=ct,ht.download=`reuneo-lobby-${w}.png`,document.body.appendChild(ht),ht.click(),document.body.removeChild(ht),URL.revokeObjectURL(ct),pc.success("QR code downloaded!")}const Ue=async()=>{await fetch(window.server_url+"/start_rounds",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}})},mt=async()=>{(await fetch(window.server_url+"/terminate_lobby",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}})).ok&&p("/")};return A.jsxs(A.Fragment,{children:[A.jsx(rA,{position:"top-center"}),A.jsxs("div",{className:"admin-lobby-container",children:[A.jsx("button",{onClick:S,children:"Reset Lobby Timer"}),A.jsx("div",{className:"admin-view-logo",style:{cursor:"pointer"},children:A.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Reuneo Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain",transition:"transform 0.3s ease"},onClick:()=>p("/")})}),A.jsx(oA,{lobbyState:X,playerCount:he,onStart:Ue,onEnd:mt,lobbyCode:w,currentRound:ee}),A.jsx(aA,{players:{pairedPlayers:V,lobbyData:U}}),A.jsxs("div",{className:"admin-lobby-dropdown-toggle",onClick:()=>Re(ge=>!ge),style:{cursor:"pointer",background:"var(--primary-color)",color:"#f5f7ff",fontWeight:700,textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",fontSize:".75rem",borderRadius:de?"14px 14px 0 0":"14px",padding:"0.5rem 1rem",margin:"0 auto",maxWidth:420,boxShadow:"0 2px 8px rgba(20,77,255,0.08)",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",letterSpacing:"0.5px"},children:[de?"Hide Controls":"More Controls",A.jsx("span",{style:{marginLeft:12,fontSize:"1.2em",transition:"transform 0.3s",display:"inline-block",transform:de?"rotate(180deg)":"rotate(0deg)"},children:""})]}),A.jsxs("div",{className:"admin-lobby-body",style:{maxHeight:de?1e3:0,overflow:"hidden",transition:"max-height 0.5s cubic-bezier(0.4,0,0.2,1)",opacity:de?1:0,pointerEvents:de?"auto":"none",marginBottom:de?"2rem":0},children:[A.jsxs("div",{className:"admin-lobby-qr",onClick:we,style:{cursor:"pointer"},children:[A.jsxs("span",{className:"qr-label",style:{display:"flex",alignItems:"center",gap:"0.4rem",marginBottom:"0.5rem"},children:["People scan to join",A.jsx("span",{className:"copy-icon","aria-label":"Copy",children:A.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[A.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),A.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]}),A.jsx("div",{style:{position:"relative",display:"inline-block"},children:A.jsx(Xd,{value:`${window.location.origin}/lobby?code=${w}`,size:140,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"admin-qr-svg"})}),A.jsxs("div",{className:"lobby-code-display",onClick:()=>{navigator.clipboard.writeText(w);const ge=document.querySelector(".lobby-code-display");ge.classList.add("copied"),setTimeout(()=>ge.classList.remove("copied"),250)},children:[A.jsx("span",{className:"lobby-code-label",children:"lobby code:"}),A.jsx("span",{className:"lobby-code-value",children:w}),A.jsx("span",{className:"copy-icon","aria-label":"Copy",children:A.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[A.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),A.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]})]}),A.jsxs("div",{className:"admin-lobby-event-settings",children:[A.jsxs("div",{className:"admin-profile",children:[A.jsx("img",{src:o!=null&&o.image_data?`data:image/jpeg;base64,${o.image_data}`:"/assets/player_icon_trans.png",alt:"Your Profile",className:"admin-profile-picture"}),A.jsx("span",{className:"admin-profile-name",children:o!=null&&o.name?o.name.slice(0,20):r==null?void 0:r.slice(0,20)})]}),A.jsx("button",{onClick:Ee,className:"page-control-button page-control-join",style:{marginTop:".5rem"},children:"Join Rounds"}),A.jsxs("div",{className:"setting-item",style:{padding:"1rem"},children:[A.jsxs("span",{className:"setting-label",children:["Round Duration: ",A.jsxs("span",{className:"setting-value",children:[Math.floor(q/60)," min"]})]}),A.jsx("span",{className:"setting-label",style:{},children:"Tags:"}),ke&&ke.length>0&&A.jsx("div",{className:"setting-item",children:A.jsxs("div",{className:"tags-container",children:[ke.slice(0,3).map((ge,ct)=>A.jsx("span",{className:"tag-pill",children:ge},ct)),ke.length>3&&A.jsxs("span",{className:"tag-pill more-tags",children:["+",ke.length-3," more"]})]})})]})]}),A.jsx("div",{className:"admin-lobby-actions"})]}),(X==="active"||X==="interrim")&&ae&&A.jsx("div",{className:"admin-lobby-timer-container",children:A.jsxs("div",{className:"admin-lobby-timer-glass",children:[A.jsx(Yd,{isPlaying:X==="active",duration:q,initialRemainingTime:ae,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"url(#trailGradient)",onComplete:()=>({shouldRepeat:!1}),strokeLinecap:"round",children:({remainingTime:ge})=>{const ct=Math.floor(ge/60),ht=Math.floor(ge%60);return A.jsxs("span",{className:`timer-text ${ge<=10?"timer-text-fadescale":""}`,children:[ct,":",String(ht).padStart(2,"0")]})}},`${X}-${Math.floor(ae)}`),A.jsx("span",{className:"timer-subtext",children:"round time left"}),A.jsx("svg",{width:"0",height:"0",children:A.jsx("defs",{children:A.jsxs("linearGradient",{id:"trailGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[A.jsx("stop",{offset:"0%",stopColor:"#e0e7ff"}),A.jsx("stop",{offset:"100%",stopColor:"#f5f7ff"})]})})})]})}),X!=="checkin"&&A.jsxs("div",{className:"admin-lobby-stats",children:[A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-title",children:"Total Players"}),A.jsx("div",{className:"stat-value",children:((U==null?void 0:U.length)||0)+((V==null?void 0:V.length)*2||0)})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-title",children:"Paired Players"}),A.jsx("div",{className:"stat-value",children:(V==null?void 0:V.length)*2||0})]}),A.jsxs("div",{className:"stat-card",children:[A.jsx("div",{className:"stat-title",children:"Unpaired Players"}),A.jsx("div",{className:"stat-value",children:(U==null?void 0:U.length)||0})]})]}),V&&X!=="checkin"&&A.jsx("div",{className:"admin-lobby-players",children:A.jsxs("div",{className:"player-section",children:[A.jsxs("div",{className:"section-header",children:["Paired Players: ",A.jsx("span",{className:"stat-value",style:{fontSize:"1.3rem"},children:(V==null?void 0:V.length)*2||0})]}),A.jsx("div",{className:"player-grid",children:V.map((ge,ct)=>A.jsxs("div",{className:"paired-player-card",children:[A.jsxs("div",{className:"paired-player",onClick:()=>fe(ge[0]),children:[A.jsx("img",{src:ge[0].pfp_data,alt:ge[0].name,className:"paired-player-avatar"}),A.jsx("h3",{className:"paired-player-name",children:ge[0].name})]}),A.jsxs("div",{className:"paired-player",onClick:()=>fe(ge[1]),children:[A.jsx("img",{src:ge[1].pfp_data,alt:ge[1].name,className:"paired-player-avatar"}),A.jsx("h3",{className:"paired-player-name",children:ge[1].name})]})]},ct))})]})}),U&&A.jsx("div",{className:"admin-lobby-players",children:A.jsxs("div",{className:"player-section",children:[A.jsxs("div",{className:"section-header",children:[X==="checkin"?"People Joined":"Unpaired Players",": ",A.jsx("span",{className:"stat-value",style:{fontSize:"1.3rem"},children:(U==null?void 0:U.length)||0})]}),A.jsx("div",{className:"player-grid",children:U.map((ge,ct)=>A.jsxs("div",{className:"player-card",onClick:()=>fe(ge),children:[A.jsx("img",{src:ge.pfp_data,alt:ge.name,className:"player-avatar"}),A.jsx("h3",{className:"player-name",children:ge.name})]},ct))})]})}),A.jsx(sA,{isOpen:F,onClose:Ve,onConfirm:it}),A.jsx(iA,{isOpen:T,onClose:K,onConfirm:J,userName:(M==null?void 0:M.name)||"this user"})]})]})},cA=()=>{const r=Tr(),{user:o}=_.useContext(Ir),a=()=>{window.location.href="https://reunio.app/become-an-organizer"};return A.jsxs("div",{className:"product-selection-container",children:[A.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[A.jsx("source",{src:"/assets/purchase_plan_video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),A.jsxs("div",{className:"product-selection-content",children:[A.jsx("div",{className:"product-selection-header",children:A.jsx("h1",{children:"Product Selection"})}),A.jsxs("div",{className:"plans-section",children:[A.jsx("h2",{children:"Available Plans"}),A.jsxs("div",{className:"plan-card",children:[A.jsx("h3",{children:"Organizer Plan"}),A.jsxs("div",{className:"plan-description",children:[A.jsx("p",{children:"Create experiences for your community with our beta plan."}),A.jsxs("ul",{children:[A.jsx("li",{children:"Create unlimited experiences"}),A.jsx("li",{children:"Access to organizer dashboard"}),A.jsx("li",{children:"Priority customer support"})]})]}),A.jsx("button",{className:"purchase-button",onClick:a,children:"Contact Us"})]})]}),A.jsx("button",{className:"back-button",onClick:()=>r("/"),children:"Home"})]})]})},uA=()=>{const{user:r,userProfile:o,checkAuth:a,permissions:d}=_.useContext(Ir),[p,x]=_.useState(""),[y,b]=_.useState(""),[w,E]=_.useState(!1),[S,T]=_.useState(""),[R,M]=_.useState(!1),[L,F]=_.useState([]),[B,V]=_.useState(""),[H,U]=_.useState("5"),[re,ae]=_.useState("0"),[le,X]=_.useState(!1),[ue,q]=_.useState(null),[_e,Le]=_.useState(""),[Te,ke]=_.useState(""),[De,ee]=_.useState(null),[Be,he]=_.useState(null),[de,Re]=_.useState(""),[fe,K]=_.useState(!1),[J,Ee]=_.useState(!1),[Ve,it]=_.useState({x:0,y:0}),[we,Ze]=_.useState(1),[Ue,mt]=_.useState(null),ge=8,ct=Tr(),ht=_.useRef(null);_.useEffect(()=>{window.scrollTo(0,0),r&&(x(r),b(r)),ht.current&&ht.current.focus()},[r]);const Oe=ve=>{const Pe=/^[a-z0-9]+$/;return ve.length>=2&&Pe.test(ve)},Et=ve=>{const Pe=ve.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");b(Pe),M(!0),setTimeout(()=>{M(!1)},500)},Bt=()=>{B.trim()&&!L.includes(B.trim())&&(F([...L,B.trim()]),V(""))},Ht=ve=>{F(L.filter(Pe=>Pe!==ve))},Pt=ve=>{ve.key==="Enter"&&B.trim()&&(ve.preventDefault(),Bt())},St=(ve,Pe,$e)=>new Promise(jt=>{const yt=new Image;yt.onload=()=>{const pt=document.createElement("canvas"),rn=pt.getContext("2d");let{width:Ot,height:Gt}=yt;Ot>Gt?Ot>Pe&&(Gt=Gt*Pe/Ot,Ot=Pe):Gt>$e&&(Ot=Ot*$e/Gt,Gt=$e),pt.width=Ot,pt.height=Gt,rn.drawImage(yt,0,0,Ot,Gt);const _t=pt.toDataURL("image/jpeg",.7);jt(_t)},yt.src=URL.createObjectURL(ve)}),ut=async ve=>{const Pe=ve.target.files[0];if(Pe){if(Re(""),Ee(!0),!["image/jpeg","image/jpg","image/png"].includes(Pe.type)){Re("Invalid format. Please upload a JPG or PNG image."),Ee(!1);return}if(Pe.size>2*1024*1024){Re("File too large. Please choose an image under 2MB."),Ee(!1);return}try{const $e=await St(Pe,400,400);q(Pe),ee($e),K(!0),Ee(!1)}catch($e){console.error("Error processing image:",$e),Re("Error processing image. Please try again."),Ee(!1)}}},An=(ve,Pe)=>{mt(Pe)},Ne=async()=>{try{Ee(!0);const ve=await td(De,Ue);he(ve),K(!1),Ee(!1)}catch(ve){console.error("Error cropping logo:",ve),Re("Error processing image. Please try again."),K(!1),Ee(!1)}},Mn=()=>{q(null),ee(null),he(null),K(!1),Ee(!1),it({x:0,y:0}),Ze(1),mt(null),Re("");const ve=document.getElementById("logoUpload");ve&&(ve.value="")},vt=async ve=>{if(ve.preventDefault(),!Oe(y)){T("Lobby code must be at least 2 characters long and contain only lowercase letters and numbers");return}E(!0),T("");const Pe=parseInt(H)*60+parseInt(re);let $e=null;Be&&($e=Be.split(",")[1]);try{const jt={lobby_code:y,custom_tags:L,lobby_duration:Pe,show_table_numbers:le};$e&&(jt.logo_icon=$e),_e.trim()&&(jt.logo_name=_e.trim()),Te.trim()&&(jt.logo_hyperlink=Te.trim());const yt=await fetch(window.server_url+"/create_lobby",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify(jt)});if(yt.ok)console.log("Lobby created successfully"),console.log(await yt.json()),ct(`/admin_lobby_view?code=${y}`);else{const pt=await yt.json();T(pt.message||"Failed to create lobby"),console.error("Failed to create lobby")}}catch(jt){T("An error occurred while creating the lobby"),console.error("Error creating lobby:",jt)}finally{E(!1)}};return A.jsxs("div",{className:"create-lobby-background",children:[A.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Reunio Logo",className:"logo-image",onClick:()=>ct(-1)}),A.jsxs("div",{className:"create-lobby-container",children:[A.jsx("h1",{className:"create-lobby-title",children:"Create a New Lobby"}),A.jsxs("form",{onSubmit:vt,className:"create-lobby-form",children:[A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"lobbyCode",children:"Lobby Code"}),A.jsx("input",{ref:ht,type:"text",id:"lobbyCode",value:y,onChange:Et,placeholder:"Enter lobby code (lowercase letters and numbers only)",required:!0,className:`form-input ${R?"typing":""}`,autoComplete:"off"}),A.jsx("div",{className:"input-hint",children:"lowercase letters and numbers only"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{children:"Round Duration"}),A.jsxs("div",{className:"duration-input-container",children:[A.jsxs("div",{className:"duration-input-group",children:[A.jsx("input",{type:"number",id:"minutes",value:H,onChange:ve=>{const Pe=ve.target.value;(Pe===""||parseInt(Pe)>0&&parseInt(Pe)<=ge)&&(U(Pe),parseInt(Pe)===ge&&ae("0"))},min:"1",max:ge,placeholder:`1-${ge}`,className:"form-input duration-input",autoComplete:"off"}),A.jsx("label",{htmlFor:"minutes",className:"duration-label",children:"Minutes"})]}),A.jsxs("div",{className:"duration-input-group",children:[A.jsx("input",{type:"number",id:"seconds",value:re,onChange:ve=>{const Pe=ve.target.value;(Pe===""||parseInt(Pe)>=0&&parseInt(Pe)<=59)&&ae(Pe)},min:"0",max:"59",placeholder:"0-59",className:"form-input duration-input",autoComplete:"off",disabled:parseInt(H)===ge}),A.jsx("label",{htmlFor:"seconds",className:"duration-label",children:"Seconds"})]})]}),A.jsx("div",{className:"input-hint",children:"Maximum total duration is 5 minutes"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"showTableNumbers",children:"Table Numbers"}),A.jsx("input",{type:"checkbox",id:"showTableNumbers",checked:le,onChange:ve=>X(ve.target.checked),className:"form-input checkbox-input"}),A.jsx("div",{className:"input-hint",children:"Recommended for events with 50+ people"})]}),A.jsxs("div",{className:"form-group",children:[A.jsx("label",{htmlFor:"tagInput",children:"Matchmaking Categories"}),A.jsxs("div",{className:"tag-input-container",children:[A.jsx("input",{type:"text",id:"tagInput",value:B,onChange:ve=>V(ve.target.value),onKeyDown:Pt,placeholder:"Add categories (press + to add)",className:"form-input",autoComplete:"off"}),A.jsx("button",{type:"button",onClick:Bt,className:"tag-add-button",children:"+"})]}),L.length>0&&A.jsx("div",{className:"tag-list",children:L.map((ve,Pe)=>A.jsxs("div",{className:"tag-item",children:[ve,A.jsx("button",{type:"button",onClick:()=>Ht(ve),className:"tag-remove-button",children:""})]},Pe))}),A.jsx("div",{className:"input-hint",children:"If you want to match people based on categories"})]}),A.jsxs("div",{className:"form-group logo-upload-section",children:[A.jsx("label",{children:"Sponsor Logo"}),!Be&&!fe&&A.jsxs(A.Fragment,{children:[J?A.jsx("div",{className:"logo-processing",children:"Processing..."}):A.jsxs(A.Fragment,{children:[A.jsx("input",{type:"file",id:"logoUpload",accept:"image/jpeg,image/jpg,image/png",onChange:ut,style:{display:"none"}}),A.jsx("button",{type:"button",onClick:()=>document.getElementById("logoUpload").click(),className:"logo-upload-button",children:"Upload Logo"})]}),de&&A.jsx("div",{className:"logo-error-message",children:de})]}),fe&&De&&A.jsxs("div",{className:"logo-crop-container",children:[A.jsx("div",{className:"logo-crop-area",children:A.jsx(gc,{image:De,crop:Ve,zoom:we,aspect:1,onCropChange:it,onZoomChange:Ze,onCropComplete:An})}),A.jsxs("div",{className:"logo-crop-controls",children:[A.jsx("button",{type:"button",onClick:Ne,className:"logo-save-button",disabled:J,children:J?"Processing...":"Save Crop"}),A.jsx("button",{type:"button",onClick:Mn,className:"logo-cancel-button",children:"Cancel"})]})]}),Be&&!fe&&A.jsx("div",{className:"logo-preview-container",children:A.jsxs("div",{className:"logo-preview",children:[A.jsx("img",{src:Be,alt:"Logo preview",className:"logo-preview-image"}),A.jsx("button",{type:"button",onClick:Mn,className:"logo-remove-button",children:""})]})}),!1]}),A.jsxs("div",{className:"form-group logo-upload-section",children:[A.jsx("label",{children:"Sponsor Logo"}),!Be&&!fe&&A.jsxs(A.Fragment,{children:[J?A.jsx("div",{className:"logo-processing",children:"Processing..."}):A.jsxs(A.Fragment,{children:[A.jsx("input",{type:"file",id:"logoUpload",accept:"image/jpeg,image/jpg,image/png",onChange:ut,style:{display:"none"}}),A.jsx("button",{type:"button",onClick:()=>document.getElementById("logoUpload").click(),className:"logo-upload-button",children:"Upload Logo"})]}),de&&A.jsx("div",{className:"logo-error-message",children:de})]}),fe&&De&&A.jsxs("div",{className:"logo-crop-container",children:[A.jsx("div",{className:"logo-crop-area",children:A.jsx(gc,{image:De,crop:Ve,zoom:we,aspect:1,onCropChange:it,onZoomChange:Ze,onCropComplete:An})}),A.jsxs("div",{className:"logo-crop-controls",children:[A.jsx("button",{type:"button",onClick:Ne,className:"logo-save-button",disabled:J,children:J?"Processing...":"Save Crop"}),A.jsx("button",{type:"button",onClick:Mn,className:"logo-cancel-button",children:"Cancel"})]})]}),Be&&!fe&&A.jsx("div",{className:"logo-preview-container",children:A.jsxs("div",{className:"logo-preview",children:[A.jsx("img",{src:Be,alt:"Logo preview",className:"logo-preview-image"}),A.jsx("button",{type:"button",onClick:Mn,className:"logo-remove-button",children:""})]})}),!1]}),S&&A.jsx("div",{className:"error-message",children:S}),A.jsx("button",{type:"submit",className:"submit-button",disabled:w,children:w?"Creating...":"Create Lobby"})]})]})]})},fA=5e3,dA=()=>{const{checkAuth:r,permissions:o,user:a}=_.useContext(Ir),d=Tr(),[p,x]=_.useState([]),[y,b]=_.useState(!0),[w,E]=_.useState(null),[S,T]=_.useState(!1);return _.useEffect(()=>{r()},[r]),_.useEffect(()=>{a==="topaz"&&o==="admin"?T(!0):o!==null&&a!==null&&d("/")},[o,a,d]),_.useEffect(()=>{if(!S)return;let R=!0,M,L=!0;const F=async()=>{L&&b(!0),E(null);try{const B=localStorage.getItem("access_token");if(!B)return;const V=await fetch(window.server_url+"/admin_all_lobbies",{headers:{Authorization:`Bearer ${B}`}});if(!V.ok)throw new Error("Failed to fetch lobbies");const H=await V.json();if(H.status!=="success"||!Array.isArray(H.lobbies))throw new Error("Invalid response format");if(!R)return;x(H.lobbies),console.log("Received lobbies data:",H.lobbies)}catch(B){R&&E(B.message||"Error fetching lobbies")}finally{R&&L&&b(!1),L=!1,M=setTimeout(F,fA)}};return F(),()=>{R=!1,M&&clearTimeout(M)}},[S]),y?A.jsx("div",{className:"master-lobby-container",children:A.jsxs("div",{className:"loading-state",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"Loading lobbies..."})]})}):w&&p.length===0?A.jsx("div",{className:"master-lobby-container",children:A.jsx("div",{className:"error-state",children:A.jsx("p",{children:w})})}):p.length===0?A.jsx("div",{className:"master-lobby-container",children:A.jsx("div",{className:"empty-state",children:A.jsx("p",{children:"No active lobbies found"})})}):A.jsxs("div",{className:"master-lobby-container",children:[w&&A.jsxs("div",{className:"error-banner",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"0.75rem",marginBottom:"1rem",borderRadius:"0.25rem",border:"1px solid #f5c6cb"},children:[w," (showing last known data)"]}),A.jsx("div",{className:"master-lobby-grid",children:p.map(R=>A.jsx("div",{className:"lobby-tile",children:A.jsxs("div",{className:"lobby-tile-content",children:[A.jsx("h3",{className:"lobby-code",children:R.code}),A.jsxs("div",{className:"lobby-stats",children:[A.jsxs("span",{className:"player-count",children:[R.player_count," players"]}),A.jsx("span",{className:"lobby-state",children:R.lobby_state})]}),A.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",marginTop:"0.5rem"},children:["Debug: player_count=",R.player_count,", lobby_state=",R.lobby_state]})]})},R.code))})]})};qx.createRoot(document.getElementById("root")).render(A.jsx(_.StrictMode,{children:A.jsx(Qx,{children:A.jsxs(Ly,{basename:"/",children:[A.jsx(zE,{}),A.jsxs(dy,{children:[A.jsx(Qr,{path:"/",element:A.jsx(VE,{})}),A.jsx(Qr,{path:"/login",element:A.jsx(UE,{})}),A.jsx(Qr,{path:"/signup",element:A.jsx(RE,{})}),A.jsx(Qr,{path:"/logout",element:A.jsx(WE,{})}),A.jsx(Qr,{path:"/lobby",element:A.jsx(hb,{})}),A.jsx(Qr,{path:"/admin_lobby_view",element:A.jsx(lA,{})}),A.jsx(Qr,{path:"/create_lobby",element:A.jsx(uA,{})}),A.jsx(Qr,{path:"/product-selection",element:A.jsx(cA,{})}),A.jsx(Qr,{path:"/master_lobby_view",element:A.jsx(dA,{})}),A.jsx(Qr,{path:"/cofounders",element:A.jsx(_E,{})})]})]})})}));
