function h2(t,i){for(var s=0;s<i.length;s++){const c=i[s];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in t)){const p=Object.getOwnPropertyDescriptor(c,h);p&&Object.defineProperty(t,h,p.get?p:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function c(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pf={exports:{}},Ia={},gf={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function p2(){if(X0)return dt;X0=1;var t=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function N(Z){return Z===null||typeof Z!="object"?null:(Z=T&&Z[T]||Z["@@iterator"],typeof Z=="function"?Z:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function F(Z,re,me){this.props=Z,this.context=re,this.refs=B,this.updater=me||O}F.prototype.isReactComponent={},F.prototype.setState=function(Z,re){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,re,"setState")},F.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function z(){}z.prototype=F.prototype;function H(Z,re,me){this.props=Z,this.context=re,this.refs=B,this.updater=me||O}var V=H.prototype=new z;V.constructor=H,k(V,F.prototype),V.isPureReactComponent=!0;var ne=Array.isArray,se=Object.prototype.hasOwnProperty,ce={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function ue(Z,re,me){var we,We={},pe=null,Ue=null;if(re!=null)for(we in re.ref!==void 0&&(Ue=re.ref),re.key!==void 0&&(pe=""+re.key),re)se.call(re,we)&&!q.hasOwnProperty(we)&&(We[we]=re[we]);var Me=arguments.length-2;if(Me===1)We.children=me;else if(1<Me){for(var it=Array(Me),ft=0;ft<Me;ft++)it[ft]=arguments[ft+2];We.children=it}if(Z&&Z.defaultProps)for(we in Me=Z.defaultProps,Me)We[we]===void 0&&(We[we]=Me[we]);return{$$typeof:t,type:Z,key:pe,ref:Ue,props:We,_owner:ce.current}}function te(Z,re){return{$$typeof:t,type:Z.type,key:re,ref:Z.ref,props:Z.props,_owner:Z._owner}}function _e(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function Le(Z){var re={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(me){return re[me]})}var Ne=/\/+/g;function Ge(Z,re){return typeof Z=="object"&&Z!==null&&Z.key!=null?Le(""+Z.key):re.toString(36)}function Re(Z,re,me,we,We){var pe=typeof Z;(pe==="undefined"||pe==="boolean")&&(Z=null);var Ue=!1;if(Z===null)Ue=!0;else switch(pe){case"string":case"number":Ue=!0;break;case"object":switch(Z.$$typeof){case t:case i:Ue=!0}}if(Ue)return Ue=Z,We=We(Ue),Z=we===""?"."+Ge(Ue,0):we,ne(We)?(me="",Z!=null&&(me=Z.replace(Ne,"$&/")+"/"),Re(We,re,me,"",function(ft){return ft})):We!=null&&(_e(We)&&(We=te(We,me+(!We.key||Ue&&Ue.key===We.key?"":(""+We.key).replace(Ne,"$&/")+"/")+Z)),re.push(We)),1;if(Ue=0,we=we===""?".":we+":",ne(Z))for(var Me=0;Me<Z.length;Me++){pe=Z[Me];var it=we+Ge(pe,Me);Ue+=Re(pe,re,me,it,We)}else if(it=N(Z),typeof it=="function")for(Z=it.call(Z),Me=0;!(pe=Z.next()).done;)pe=pe.value,it=we+Ge(pe,Me++),Ue+=Re(pe,re,me,it,We);else if(pe==="object")throw re=String(Z),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return Ue}function Q(Z,re,me){if(Z==null)return Z;var we=[],We=0;return Re(Z,we,"","",function(pe){return re.call(me,pe,We++)}),we}function Ve(Z){if(Z._status===-1){var re=Z._result;re=re(),re.then(function(me){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=me)},function(me){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=me)}),Z._status===-1&&(Z._status=0,Z._result=re)}if(Z._status===1)return Z._result.default;throw Z._result}var Se={current:null},he={transition:null},De={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:he,ReactCurrentOwner:ce};function fe(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:Q,forEach:function(Z,re,me){Q(Z,function(){re.apply(this,arguments)},me)},count:function(Z){var re=0;return Q(Z,function(){re++}),re},toArray:function(Z){return Q(Z,function(re){return re})||[]},only:function(Z){if(!_e(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},dt.Component=F,dt.Fragment=s,dt.Profiler=h,dt.PureComponent=H,dt.StrictMode=c,dt.Suspense=v,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,dt.act=fe,dt.cloneElement=function(Z,re,me){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var we=k({},Z.props),We=Z.key,pe=Z.ref,Ue=Z._owner;if(re!=null){if(re.ref!==void 0&&(pe=re.ref,Ue=ce.current),re.key!==void 0&&(We=""+re.key),Z.type&&Z.type.defaultProps)var Me=Z.type.defaultProps;for(it in re)se.call(re,it)&&!q.hasOwnProperty(it)&&(we[it]=re[it]===void 0&&Me!==void 0?Me[it]:re[it])}var it=arguments.length-2;if(it===1)we.children=me;else if(1<it){Me=Array(it);for(var ft=0;ft<it;ft++)Me[ft]=arguments[ft+2];we.children=Me}return{$$typeof:t,type:Z.type,key:We,ref:pe,props:we,_owner:Ue}},dt.createContext=function(Z){return Z={$$typeof:y,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:p,_context:Z},Z.Consumer=Z},dt.createElement=ue,dt.createFactory=function(Z){var re=ue.bind(null,Z);return re.type=Z,re},dt.createRef=function(){return{current:null}},dt.forwardRef=function(Z){return{$$typeof:C,render:Z}},dt.isValidElement=_e,dt.lazy=function(Z){return{$$typeof:E,_payload:{_status:-1,_result:Z},_init:Ve}},dt.memo=function(Z,re){return{$$typeof:x,type:Z,compare:re===void 0?null:re}},dt.startTransition=function(Z){var re=he.transition;he.transition={};try{Z()}finally{he.transition=re}},dt.unstable_act=fe,dt.useCallback=function(Z,re){return Se.current.useCallback(Z,re)},dt.useContext=function(Z){return Se.current.useContext(Z)},dt.useDebugValue=function(){},dt.useDeferredValue=function(Z){return Se.current.useDeferredValue(Z)},dt.useEffect=function(Z,re){return Se.current.useEffect(Z,re)},dt.useId=function(){return Se.current.useId()},dt.useImperativeHandle=function(Z,re,me){return Se.current.useImperativeHandle(Z,re,me)},dt.useInsertionEffect=function(Z,re){return Se.current.useInsertionEffect(Z,re)},dt.useLayoutEffect=function(Z,re){return Se.current.useLayoutEffect(Z,re)},dt.useMemo=function(Z,re){return Se.current.useMemo(Z,re)},dt.useReducer=function(Z,re,me){return Se.current.useReducer(Z,re,me)},dt.useRef=function(Z){return Se.current.useRef(Z)},dt.useState=function(Z){return Se.current.useState(Z)},dt.useSyncExternalStore=function(Z,re,me){return Se.current.useSyncExternalStore(Z,re,me)},dt.useTransition=function(){return Se.current.useTransition()},dt.version="18.3.1",dt}var Z0;function fd(){return Z0||(Z0=1,gf.exports=p2()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0;function g2(){if(K0)return Ia;K0=1;var t=fd(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function y(C,v,x){var E,T={},N=null,O=null;x!==void 0&&(N=""+x),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(O=v.ref);for(E in v)c.call(v,E)&&!p.hasOwnProperty(E)&&(T[E]=v[E]);if(C&&C.defaultProps)for(E in v=C.defaultProps,v)T[E]===void 0&&(T[E]=v[E]);return{$$typeof:i,type:C,key:N,ref:O,props:T,_owner:h.current}}return Ia.Fragment=s,Ia.jsx=y,Ia.jsxs=y,Ia}var Q0;function m2(){return Q0||(Q0=1,pf.exports=g2()),pf.exports}var _=m2(),L=fd();const Jt=cd(L);var fu={},mf={exports:{}},pr={},xf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0;function x2(){return $0||($0=1,function(t){function i(he,De){var fe=he.length;he.push(De);e:for(;0<fe;){var Z=fe-1>>>1,re=he[Z];if(0<h(re,De))he[Z]=De,he[fe]=re,fe=Z;else break e}}function s(he){return he.length===0?null:he[0]}function c(he){if(he.length===0)return null;var De=he[0],fe=he.pop();if(fe!==De){he[0]=fe;e:for(var Z=0,re=he.length,me=re>>>1;Z<me;){var we=2*(Z+1)-1,We=he[we],pe=we+1,Ue=he[pe];if(0>h(We,fe))pe<re&&0>h(Ue,We)?(he[Z]=Ue,he[pe]=fe,Z=pe):(he[Z]=We,he[we]=fe,Z=we);else if(pe<re&&0>h(Ue,fe))he[Z]=Ue,he[pe]=fe,Z=pe;else break e}}return De}function h(he,De){var fe=he.sortIndex-De.sortIndex;return fe!==0?fe:he.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;t.unstable_now=function(){return p.now()}}else{var y=Date,C=y.now();t.unstable_now=function(){return y.now()-C}}var v=[],x=[],E=1,T=null,N=3,O=!1,k=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(he){for(var De=s(x);De!==null;){if(De.callback===null)c(x);else if(De.startTime<=he)c(x),De.sortIndex=De.expirationTime,i(v,De);else break;De=s(x)}}function ne(he){if(B=!1,V(he),!k)if(s(v)!==null)k=!0,Ve(se);else{var De=s(x);De!==null&&Se(ne,De.startTime-he)}}function se(he,De){k=!1,B&&(B=!1,z(ue),ue=-1),O=!0;var fe=N;try{for(V(De),T=s(v);T!==null&&(!(T.expirationTime>De)||he&&!Le());){var Z=T.callback;if(typeof Z=="function"){T.callback=null,N=T.priorityLevel;var re=Z(T.expirationTime<=De);De=t.unstable_now(),typeof re=="function"?T.callback=re:T===s(v)&&c(v),V(De)}else c(v);T=s(v)}if(T!==null)var me=!0;else{var we=s(x);we!==null&&Se(ne,we.startTime-De),me=!1}return me}finally{T=null,N=fe,O=!1}}var ce=!1,q=null,ue=-1,te=5,_e=-1;function Le(){return!(t.unstable_now()-_e<te)}function Ne(){if(q!==null){var he=t.unstable_now();_e=he;var De=!0;try{De=q(!0,he)}finally{De?Ge():(ce=!1,q=null)}}else ce=!1}var Ge;if(typeof H=="function")Ge=function(){H(Ne)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Q=Re.port2;Re.port1.onmessage=Ne,Ge=function(){Q.postMessage(null)}}else Ge=function(){F(Ne,0)};function Ve(he){q=he,ce||(ce=!0,Ge())}function Se(he,De){ue=F(function(){he(t.unstable_now())},De)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){k||O||(k=!0,Ve(se))},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return s(v)},t.unstable_next=function(he){switch(N){case 1:case 2:case 3:var De=3;break;default:De=N}var fe=N;N=De;try{return he()}finally{N=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,De){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var fe=N;N=he;try{return De()}finally{N=fe}},t.unstable_scheduleCallback=function(he,De,fe){var Z=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Z+fe:Z):fe=Z,he){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=fe+re,he={id:E++,callback:De,priorityLevel:he,startTime:fe,expirationTime:re,sortIndex:-1},fe>Z?(he.sortIndex=fe,i(x,he),s(v)===null&&he===s(x)&&(B?(z(ue),ue=-1):B=!0,Se(ne,fe-Z))):(he.sortIndex=re,i(v,he),k||O||(k=!0,Ve(se))),he},t.unstable_shouldYield=Le,t.unstable_wrapCallback=function(he){var De=N;return function(){var fe=N;N=De;try{return he.apply(this,arguments)}finally{N=fe}}}}(yf)),yf}var q0;function y2(){return q0||(q0=1,xf.exports=x2()),xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function w2(){if(J0)return pr;J0=1;var t=fd(),i=y2();function s(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,h={};function p(n,a){y(n,a),y(n+"Capture",a)}function y(n,a){for(h[n]=a,n=0;n<a.length;n++)c.add(a[n])}var C=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function N(n){return v.call(T,n)?!0:v.call(E,n)?!1:x.test(n)?T[n]=!0:(E[n]=!0,!1)}function O(n,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,a,d,m){if(a===null||typeof a>"u"||O(n,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function B(n,a,d,m,S,I,D){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=S,this.mustUseProperty=d,this.propertyName=n,this.type=a,this.sanitizeURL=I,this.removeEmptyString=D}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){F[n]=new B(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];F[a]=new B(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){F[n]=new B(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){F[n]=new B(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){F[n]=new B(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){F[n]=new B(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){F[n]=new B(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){F[n]=new B(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){F[n]=new B(n,5,!1,n.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function H(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(z,H);F[a]=new B(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(z,H);F[a]=new B(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(z,H);F[a]=new B(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){F[n]=new B(n,1,!1,n.toLowerCase(),null,!1,!1)}),F.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){F[n]=new B(n,1,!1,n.toLowerCase(),null,!0,!0)});function V(n,a,d,m){var S=F.hasOwnProperty(a)?F[a]:null;(S!==null?S.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,d,S,m)&&(d=null),m||S===null?N(a)&&(d===null?n.removeAttribute(a):n.setAttribute(a,""+d)):S.mustUseProperty?n[S.propertyName]=d===null?S.type===3?!1:"":d:(a=S.attributeName,m=S.attributeNamespace,d===null?n.removeAttribute(a):(S=S.type,d=S===3||S===4&&d===!0?"":""+d,m?n.setAttributeNS(m,a,d):n.setAttribute(a,d))))}var ne=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),ce=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),ue=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),Le=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),he=Symbol.iterator;function De(n){return n===null||typeof n!="object"?null:(n=he&&n[he]||n["@@iterator"],typeof n=="function"?n:null)}var fe=Object.assign,Z;function re(n){if(Z===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);Z=a&&a[1]||""}return`
`+Z+n}var me=!1;function we(n,a){if(!n||me)return"";me=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(le){var m=le}Reflect.construct(n,[],a)}else{try{a.call()}catch(le){m=le}n.call(a.prototype)}else{try{throw Error()}catch(le){m=le}n()}}catch(le){if(le&&m&&typeof le.stack=="string"){for(var S=le.stack.split(`
`),I=m.stack.split(`
`),D=S.length-1,W=I.length-1;1<=D&&0<=W&&S[D]!==I[W];)W--;for(;1<=D&&0<=W;D--,W--)if(S[D]!==I[W]){if(D!==1||W!==1)do if(D--,W--,0>W||S[D]!==I[W]){var Y=`
`+S[D].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=D&&0<=W);break}}}finally{me=!1,Error.prepareStackTrace=d}return(n=n?n.displayName||n.name:"")?re(n):""}function We(n){switch(n.tag){case 5:return re(n.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return n=we(n.type,!1),n;case 11:return n=we(n.type.render,!1),n;case 1:return n=we(n.type,!0),n;default:return""}}function pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case ce:return"Portal";case te:return"Profiler";case ue:return"StrictMode";case Ge:return"Suspense";case Re:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Le:return(n.displayName||"Context")+".Consumer";case _e:return(n._context.displayName||"Context")+".Provider";case Ne:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return a=n.displayName||null,a!==null?a:pe(n.type)||"Memo";case Ve:a=n._payload,n=n._init;try{return pe(n(a))}catch{}}return null}function Ue(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===ue?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Me(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function it(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ft(n){var a=it(n)?"checked":"value",d=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),m=""+n[a];if(!n.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,I=d.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return S.call(this)},set:function(D){m=""+D,I.call(this,D)}}),Object.defineProperty(n,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function _t(n){n._valueTracker||(n._valueTracker=ft(n))}function er(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return n&&(m=it(n)?n.checked?"true":"false":n.value),n=m,n!==d?(a.setValue(n),!0):!1}function ot(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Hn(n,a){var d=a.checked;return fe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??n._wrapperState.initialChecked})}function Ut(n,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=Me(a.value!=null?a.value:d),n._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function gr(n,a){a=a.checked,a!=null&&V(n,"checked",a,!1)}function xt(n,a){gr(n,a);var d=Me(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&n.value===""||n.value!=d)&&(n.value=""+d):n.value!==""+d&&(n.value=""+d);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?tt(n,a.type,d):a.hasOwnProperty("defaultValue")&&tt(n,a.type,Me(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function yt(n,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,d||a===n.value||(n.value=a),n.defaultValue=a}d=n.name,d!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,d!==""&&(n.name=d)}function tt(n,a,d){(a!=="number"||ot(n.ownerDocument)!==n)&&(d==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+d&&(n.defaultValue=""+d))}var ar=Array.isArray;function ve(n,a,d,m){if(n=n.options,a){a={};for(var S=0;S<d.length;S++)a["$"+d[S]]=!0;for(d=0;d<n.length;d++)S=a.hasOwnProperty("$"+n[d].value),n[d].selected!==S&&(n[d].selected=S),S&&m&&(n[d].defaultSelected=!0)}else{for(d=""+Me(d),a=null,S=0;S<n.length;S++){if(n[S].value===d){n[S].selected=!0,m&&(n[S].defaultSelected=!0);return}a!==null||n[S].disabled||(a=n[S])}a!==null&&(a.selected=!0)}}function $e(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return fe({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function At(n,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(s(92));if(ar(d)){if(1<d.length)throw Error(s(93));d=d[0]}a=d}a==null&&(a=""),d=a}n._wrapperState={initialValue:Me(d)}}function St(n,a){var d=Me(a.value),m=Me(a.defaultValue);d!=null&&(d=""+d,d!==n.value&&(n.value=d),a.defaultValue==null&&n.defaultValue!==d&&(n.defaultValue=d)),m!=null&&(n.defaultValue=""+m)}function Pn(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function wt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kt(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?wt(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dt,Lt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,S){MSApp.execUnsafeLocalFunction(function(){return n(a,d,m,S)})}:n}(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Dt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function Ln(n,a){if(a){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=a;return}}n.textContent=a}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ci=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(n){Ci.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),tr[a]=tr[n]})});function It(n,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||tr.hasOwnProperty(n)&&tr[n]?(""+a).trim():a+"px"}function be(n,a){n=n.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,S=It(d,a[d],m);d==="float"&&(d="cssFloat"),m?n.setProperty(d,S):n[d]=S}}var Qt=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(n,a){if(a){if(Qt[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function kt(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mr=null;function Ei(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ai=null,Ee=null,at=null;function bt(n){if(n=fa(n)){if(typeof Ai!="function")throw Error(s(280));var a=n.stateNode;a&&(a=Tl(a),Ai(n.stateNode,n.type,a))}}function wn(n){Ee?at?at.push(n):at=[n]:Ee=n}function Ye(){if(Ee){var n=Ee,a=at;if(at=Ee=null,bt(n),a)for(n=0;n<a.length;n++)bt(a[n])}}function En(n,a){return n(a)}function dn(){}var Mr=!1;function ri(n,a,d){if(Mr)return n(a,d);Mr=!0;try{return En(n,a,d)}finally{Mr=!1,(Ee!==null||at!==null)&&(dn(),Ye())}}function hn(n,a){var d=n.stateNode;if(d===null)return null;var m=Tl(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(s(231,a,typeof d));return d}var Hi=!1;if(C)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Hi=!1}function Wo(n,a,d,m,S,I,D,W,Y){var le=Array.prototype.slice.call(arguments,3);try{a.apply(d,le)}catch(ye){this.onError(ye)}}var vn=!1,_r=null,kn=!1,Oe=null,Gi={onError:function(n){vn=!0,_r=n}};function Ho(n,a,d,m,S,I,D,W,Y){vn=!1,_r=null,Wo.apply(Gi,arguments)}function Gn(n,a,d,m,S,I,D,W,Y){if(Ho.apply(this,arguments),vn){if(vn){var le=_r;vn=!1,_r=null}else throw Error(s(198));kn||(kn=!0,Oe=le)}}function lr(n){var a=n,d=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,a.flags&4098&&(d=a.return),n=a.return;while(n)}return a.tag===3?d:null}function Ts(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function Is(n){if(lr(n)!==n)throw Error(s(188))}function Dr(n){var a=n.alternate;if(!a){if(a=lr(n),a===null)throw Error(s(188));return a!==n?null:n}for(var d=n,m=a;;){var S=d.return;if(S===null)break;var I=S.alternate;if(I===null){if(m=S.return,m!==null){d=m;continue}break}if(S.child===I.child){for(I=S.child;I;){if(I===d)return Is(S),n;if(I===m)return Is(S),a;I=I.sibling}throw Error(s(188))}if(d.return!==m.return)d=S,m=I;else{for(var D=!1,W=S.child;W;){if(W===d){D=!0,d=S,m=I;break}if(W===m){D=!0,m=S,d=I;break}W=W.sibling}if(!D){for(W=I.child;W;){if(W===d){D=!0,d=I,m=S;break}if(W===m){D=!0,m=I,d=S;break}W=W.sibling}if(!D)throw Error(s(189))}}if(d.alternate!==m)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?n:a}function il(n){return n=Dr(n),n!==null?sl(n):null}function sl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=sl(n);if(a!==null)return a;n=n.sibling}return null}var yr=i.unstable_scheduleCallback,Rn=i.unstable_cancelCallback,zt=i.unstable_shouldYield,ol=i.unstable_requestPaint,Rt=i.unstable_now,Go=i.unstable_getCurrentPriorityLevel,de=i.unstable_ImmediatePriority,al=i.unstable_UserBlockingPriority,Ft=i.unstable_NormalPriority,Yi=i.unstable_LowPriority,ll=i.unstable_IdlePriority,mt=null,lt=null;function ht(n){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(mt,n,void 0,(n.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:pn,Yo=Math.log,Xo=Math.LN2;function pn(n){return n>>>=0,n===0?32:31-(Yo(n)/Xo|0)|0}var wr=64,ro=4194304;function jt(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vr(n,a){var d=n.pendingLanes;if(d===0)return 0;var m=0,S=n.suspendedLanes,I=n.pingedLanes,D=d&268435455;if(D!==0){var W=D&~S;W!==0?m=jt(W):(I&=D,I!==0&&(m=jt(I)))}else D=d&~S,D!==0?m=jt(D):I!==0&&(m=jt(I));if(m===0)return 0;if(a!==0&&a!==m&&!(a&S)&&(S=m&-m,I=a&-a,S>=I||S===16&&(I&4194240)!==0))return a;if(m&4&&(m|=d&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=m;0<a;)d=31-nr(a),S=1<<d,m|=n[d],a&=~S;return m}function Xu(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xi(n,a){for(var d=n.suspendedLanes,m=n.pingedLanes,S=n.expirationTimes,I=n.pendingLanes;0<I;){var D=31-nr(I),W=1<<D,Y=S[D];Y===-1?(!(W&d)||W&m)&&(S[D]=Xu(W,a)):Y<=a&&(n.expiredLanes|=W),I&=~W}}function Mt(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function An(){var n=wr;return wr<<=1,!(wr&4194240)&&(wr=64),n}function J(n){for(var a=[],d=0;31>d;d++)a.push(n);return a}function j(n,a,d){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-nr(a),n[a]=d}function He(n,a){var d=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<d;){var S=31-nr(d),I=1<<S;a[S]=0,m[S]=-1,n[S]=-1,d&=~I}}function on(n,a){var d=n.entangledLanes|=a;for(n=n.entanglements;d;){var m=31-nr(d),S=1<<m;S&a|n[m]&a&&(n[m]|=a),d&=~S}}var ut=0;function ul(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var io,Yn,Xe,Vt,Zo,Ko=!1,Zi=[],Cr=null,Or=null,ii=null,$t=new Map,Gr=new Map,Bn=[],qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cl(n,a){switch(n){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":$t.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(a.pointerId)}}function nt(n,a,d,m,S,I){return n===null||n.nativeEvent!==I?(n={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:I,targetContainers:[S]},a!==null&&(a=fa(a),a!==null&&Yn(a)),n):(n.eventSystemFlags|=m,a=n.targetContainers,S!==null&&a.indexOf(S)===-1&&a.push(S),n)}function Sn(n,a,d,m,S){switch(a){case"focusin":return Cr=nt(Cr,n,a,d,m,S),!0;case"dragenter":return Or=nt(Or,n,a,d,m,S),!0;case"mouseover":return ii=nt(ii,n,a,d,m,S),!0;case"pointerover":var I=S.pointerId;return $t.set(I,nt($t.get(I)||null,n,a,d,m,S)),!0;case"gotpointercapture":return I=S.pointerId,Gr.set(I,nt(Gr.get(I)||null,n,a,d,m,S)),!0}return!1}function fl(n){var a=ks(n.target);if(a!==null){var d=lr(a);if(d!==null){if(a=d.tag,a===13){if(a=Ts(d),a!==null){n.blockedOn=a,Zo(n.priority,function(){Xe(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ki(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var d=so(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(d===null){d=n.nativeEvent;var m=new d.constructor(d.type,d);mr=m,d.target.dispatchEvent(m),mr=null}else return a=fa(d),a!==null&&Yn(a),n.blockedOn=d,!1;a.shift()}return!0}function Qo(n,a,d){Ki(n)&&d.delete(a)}function Si(){Ko=!1,Cr!==null&&Ki(Cr)&&(Cr=null),Or!==null&&Ki(Or)&&(Or=null),ii!==null&&Ki(ii)&&(ii=null),$t.forEach(Qo),Gr.forEach(Qo)}function bs(n,a){n.blockedOn===a&&(n.blockedOn=null,Ko||(Ko=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Si)))}function Yr(n){function a(S){return bs(S,n)}if(0<Zi.length){bs(Zi[0],n);for(var d=1;d<Zi.length;d++){var m=Zi[d];m.blockedOn===n&&(m.blockedOn=null)}}for(Cr!==null&&bs(Cr,n),Or!==null&&bs(Or,n),ii!==null&&bs(ii,n),$t.forEach(a),Gr.forEach(a),d=0;d<Bn.length;d++)m=Bn[d],m.blockedOn===n&&(m.blockedOn=null);for(;0<Bn.length&&(d=Bn[0],d.blockedOn===null);)fl(d),d.blockedOn===null&&Bn.shift()}var Pr=ne.ReactCurrentBatchConfig,si=!0;function dl(n,a,d,m){var S=ut,I=Pr.transition;Pr.transition=null;try{ut=1,Ti(n,a,d,m)}finally{ut=S,Pr.transition=I}}function Ns(n,a,d,m){var S=ut,I=Pr.transition;Pr.transition=null;try{ut=4,Ti(n,a,d,m)}finally{ut=S,Pr.transition=I}}function Ti(n,a,d,m){if(si){var S=so(n,a,d,m);if(S===null)rc(n,a,m,Tn,d),cl(n,m);else if(Sn(S,n,a,d,m))m.stopPropagation();else if(cl(n,m),a&4&&-1<qe.indexOf(n)){for(;S!==null;){var I=fa(S);if(I!==null&&io(I),I=so(n,a,d,m),I===null&&rc(n,a,m,Tn,d),I===S)break;S=I}S!==null&&m.stopPropagation()}else rc(n,a,m,null,d)}}var Tn=null;function so(n,a,d,m){if(Tn=null,n=Ei(m),n=ks(n),n!==null)if(a=lr(n),a===null)n=null;else if(d=a.tag,d===13){if(n=Ts(a),n!==null)return n;n=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return Tn=n,null}function $o(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Go()){case de:return 1;case al:return 4;case Ft:case Yi:return 16;case ll:return 536870912;default:return 16}default:return 16}}var Xr=null,qo=null,oo=null;function hl(){if(oo)return oo;var n,a=qo,d=a.length,m,S="value"in Xr?Xr.value:Xr.textContent,I=S.length;for(n=0;n<d&&a[n]===S[n];n++);var D=d-n;for(m=1;m<=D&&a[d-m]===S[I-m];m++);return oo=S.slice(n,1<m?1-m:void 0)}function Ct(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Rs(){return!0}function Ms(){return!1}function an(n){function a(d,m,S,I,D){this._reactName=d,this._targetInst=S,this.type=m,this.nativeEvent=I,this.target=D,this.currentTarget=null;for(var W in n)n.hasOwnProperty(W)&&(d=n[W],this[W]=d?d(I):I[W]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Rs:Ms,this.isPropagationStopped=Ms,this}return fe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),a}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ae=an(Qi),st=fe({},Qi,{view:0,detail:0}),In=an(st),$i,ao,_s,lo=fe({},st,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_s&&(_s&&n.type==="mousemove"?($i=n.screenX-_s.screenX,ao=n.screenY-_s.screenY):ao=$i=0,_s=n),$i)},movementY:function(n){return"movementY"in n?n.movementY:ao}}),pl=an(lo),Jo=fe({},lo,{dataTransfer:0}),gn=an(Jo),ea=fe({},st,{relatedTarget:0}),Wt=an(ea),uo=fe({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ii=an(uo),Ot=fe({},Qi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ze=an(Ot),Zu=fe({},Qi,{data:0}),Bt=an(Zu),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Ku[n])?!!a[n]:!1}function Ds(){return Lr}var gl=fe({},st,{key:function(n){if(n.key){var a=bi[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Ct(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qi[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(n){return n.type==="keypress"?Ct(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ct(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ta=an(gl),ml=fe({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),na=an(ml),Qu=fe({},st,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Ji=an(Qu),ra=fe({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$u=an(ra),Os=fe({},lo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qu=an(Os),oi=[9,13,27,32],es=C&&"CompositionEvent"in window,Mn=null;C&&"documentMode"in document&&(Mn=document.documentMode);var xl=C&&"TextEvent"in window&&!Mn,Er=C&&(!es||Mn&&8<Mn&&11>=Mn),yl=" ",co=!1;function wl(n,a){switch(n){case"keyup":return oi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fn=!1;function Ju(n,a){switch(n){case"compositionend":return ia(a);case"keypress":return a.which!==32?null:(co=!0,yl);case"textInput":return n=a.data,n===yl&&co?null:n;default:return null}}function sa(n,a){if(Fn)return n==="compositionend"||!es&&wl(n,a)?(n=hl(),oo=qo=Xr=null,Fn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Er&&a.locale!=="ko"?null:a.data;default:return null}}var Ps={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Ps[n.type]:a==="textarea"}function Ls(n,a,d,m){wn(m),a=El(a,"onChange"),0<a.length&&(d=new ae("onChange","change",null,d,m),n.push({event:d,listeners:a}))}var R=null,e=null;function r(n){uh(n,0)}function o(n){var a=po(n);if(er(a))return n}function l(n,a){if(n==="change")return a}var u=!1;if(C){var f;if(C){var g="oninput"in document;if(!g){var w=document.createElement("div");w.setAttribute("oninput","return;"),g=typeof w.oninput=="function"}f=g}else f=!1;u=f&&(!document.documentMode||9<document.documentMode)}function A(){R&&(R.detachEvent("onpropertychange",b),e=R=null)}function b(n){if(n.propertyName==="value"&&o(e)){var a=[];Ls(a,e,n,Ei(n)),ri(r,a)}}function M(n,a,d){n==="focusin"?(A(),R=a,e=d,R.attachEvent("onpropertychange",b)):n==="focusout"&&A()}function P(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return o(e)}function U(n,a){if(n==="click")return o(a)}function G(n,a){if(n==="input"||n==="change")return o(a)}function X(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var $=typeof Object.is=="function"?Object.is:X;function oe(n,a){if($(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var d=Object.keys(n),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var S=d[m];if(!v.call(a,S)||!$(n[S],a[S]))return!1}return!0}function Ae(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Te(n,a){var d=Ae(n);n=0;for(var m;d;){if(d.nodeType===3){if(m=n+d.textContent.length,n<=a&&m>=a)return{node:d,offset:a-n};n=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ae(d)}}function xe(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?xe(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function ct(){for(var n=window,a=ot();a instanceof n.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)n=a.contentWindow;else break;a=ot(n.document)}return a}function rt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function Xn(n){var a=ct(),d=n.focusedElem,m=n.selectionRange;if(a!==d&&d&&d.ownerDocument&&xe(d.ownerDocument.documentElement,d)){if(m!==null&&rt(d)){if(a=m.start,n=m.end,n===void 0&&(n=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(n,d.value.length);else if(n=(a=d.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var S=d.textContent.length,I=Math.min(m.start,S);m=m.end===void 0?I:Math.min(m.end,S),!n.extend&&I>m&&(S=m,m=I,I=S),S=Te(d,I);var D=Te(d,m);S&&D&&(n.rangeCount!==1||n.anchorNode!==S.node||n.anchorOffset!==S.offset||n.focusNode!==D.node||n.focusOffset!==D.offset)&&(a=a.createRange(),a.setStart(S.node,S.offset),n.removeAllRanges(),I>m?(n.addRange(a),n.extend(D.node,D.offset)):(a.setEnd(D.node,D.offset),n.addRange(a)))}}for(a=[],n=d;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)n=a[d],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Ar=C&&"documentMode"in document&&11>=document.documentMode,mn=null,Nt=null,en=null,jn=!1;function Ni(n,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;jn||mn==null||mn!==ot(m)||(m=mn,"selectionStart"in m&&rt(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),en&&oe(en,m)||(en=m,m=El(Nt,"onSelect"),0<m.length&&(a=new ae("onSelect","select",null,a,d),n.push({event:a,listeners:m}),a.target=mn)))}function Zr(n,a){var d={};return d[n.toLowerCase()]=a.toLowerCase(),d["Webkit"+n]="webkit"+a,d["Moz"+n]="moz"+a,d}var ts={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},oa={},th={};C&&(th=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function vl(n){if(oa[n])return oa[n];if(!ts[n])return n;var a=ts[n],d;for(d in a)if(a.hasOwnProperty(d)&&d in th)return oa[n]=a[d];return n}var nh=vl("animationend"),rh=vl("animationiteration"),ih=vl("animationstart"),sh=vl("transitionend"),oh=new Map,ah="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(n,a){oh.set(n,a),p(a,[n])}for(var ec=0;ec<ah.length;ec++){var tc=ah[ec],Ex=tc.toLowerCase(),Ax=tc[0].toUpperCase()+tc.slice(1);ns(Ex,"on"+Ax)}ns(nh,"onAnimationEnd"),ns(rh,"onAnimationIteration"),ns(ih,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(sh,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function lh(n,a,d){var m=n.type||"unknown-event";n.currentTarget=d,Gn(m,a,void 0,n),n.currentTarget=null}function uh(n,a){a=(a&4)!==0;for(var d=0;d<n.length;d++){var m=n[d],S=m.event;m=m.listeners;e:{var I=void 0;if(a)for(var D=m.length-1;0<=D;D--){var W=m[D],Y=W.instance,le=W.currentTarget;if(W=W.listener,Y!==I&&S.isPropagationStopped())break e;lh(S,W,le),I=Y}else for(D=0;D<m.length;D++){if(W=m[D],Y=W.instance,le=W.currentTarget,W=W.listener,Y!==I&&S.isPropagationStopped())break e;lh(S,W,le),I=Y}}}if(kn)throw n=Oe,kn=!1,Oe=null,n}function Yt(n,a){var d=a[uc];d===void 0&&(d=a[uc]=new Set);var m=n+"__bubble";d.has(m)||(ch(a,n,2,!1),d.add(m))}function nc(n,a,d){var m=0;a&&(m|=4),ch(d,n,m,a)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function la(n){if(!n[Cl]){n[Cl]=!0,c.forEach(function(d){d!=="selectionchange"&&(Sx.has(d)||nc(d,!1,n),nc(d,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Cl]||(a[Cl]=!0,nc("selectionchange",!1,a))}}function ch(n,a,d,m){switch($o(a)){case 1:var S=dl;break;case 4:S=Ns;break;default:S=Ti}d=S.bind(null,a,d,n),S=void 0,!Hi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(S=!0),m?S!==void 0?n.addEventListener(a,d,{capture:!0,passive:S}):n.addEventListener(a,d,!0):S!==void 0?n.addEventListener(a,d,{passive:S}):n.addEventListener(a,d,!1)}function rc(n,a,d,m,S){var I=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var W=m.stateNode.containerInfo;if(W===S||W.nodeType===8&&W.parentNode===S)break;if(D===4)for(D=m.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&(Y=D.stateNode.containerInfo,Y===S||Y.nodeType===8&&Y.parentNode===S))return;D=D.return}for(;W!==null;){if(D=ks(W),D===null)return;if(Y=D.tag,Y===5||Y===6){m=I=D;continue e}W=W.parentNode}}m=m.return}ri(function(){var le=I,ye=Ei(d),Ce=[];e:{var ge=oh.get(n);if(ge!==void 0){var Pe=ae,Fe=n;switch(n){case"keypress":if(Ct(d)===0)break e;case"keydown":case"keyup":Pe=ta;break;case"focusin":Fe="focus",Pe=Wt;break;case"focusout":Fe="blur",Pe=Wt;break;case"beforeblur":case"afterblur":Pe=Wt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=Ji;break;case nh:case rh:case ih:Pe=Ii;break;case sh:Pe=$u;break;case"scroll":Pe=In;break;case"wheel":Pe=qu;break;case"copy":case"cut":case"paste":Pe=Ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=na}var je=(a&4)!==0,xn=!je&&n==="scroll",ee=je?ge!==null?ge+"Capture":null:ge;je=[];for(var K=le,ie;K!==null;){ie=K;var Ie=ie.stateNode;if(ie.tag===5&&Ie!==null&&(ie=Ie,ee!==null&&(Ie=hn(K,ee),Ie!=null&&je.push(ua(K,Ie,ie)))),xn)break;K=K.return}0<je.length&&(ge=new Pe(ge,Fe,null,d,ye),Ce.push({event:ge,listeners:je}))}}if(!(a&7)){e:{if(ge=n==="mouseover"||n==="pointerover",Pe=n==="mouseout"||n==="pointerout",ge&&d!==mr&&(Fe=d.relatedTarget||d.fromElement)&&(ks(Fe)||Fe[Ri]))break e;if((Pe||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Pe?(Fe=d.relatedTarget||d.toElement,Pe=le,Fe=Fe?ks(Fe):null,Fe!==null&&(xn=lr(Fe),Fe!==xn||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Pe=null,Fe=le),Pe!==Fe)){if(je=pl,Ie="onMouseLeave",ee="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(je=na,Ie="onPointerLeave",ee="onPointerEnter",K="pointer"),xn=Pe==null?ge:po(Pe),ie=Fe==null?ge:po(Fe),ge=new je(Ie,K+"leave",Pe,d,ye),ge.target=xn,ge.relatedTarget=ie,Ie=null,ks(ye)===le&&(je=new je(ee,K+"enter",Fe,d,ye),je.target=ie,je.relatedTarget=xn,Ie=je),xn=Ie,Pe&&Fe)t:{for(je=Pe,ee=Fe,K=0,ie=je;ie;ie=fo(ie))K++;for(ie=0,Ie=ee;Ie;Ie=fo(Ie))ie++;for(;0<K-ie;)je=fo(je),K--;for(;0<ie-K;)ee=fo(ee),ie--;for(;K--;){if(je===ee||ee!==null&&je===ee.alternate)break t;je=fo(je),ee=fo(ee)}je=null}else je=null;Pe!==null&&fh(Ce,ge,Pe,je,!1),Fe!==null&&xn!==null&&fh(Ce,xn,Fe,je,!0)}}e:{if(ge=le?po(le):window,Pe=ge.nodeName&&ge.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&ge.type==="file")var ze=l;else if(gt(ge))if(u)ze=G;else{ze=P;var Ke=M}else(Pe=ge.nodeName)&&Pe.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(ze=U);if(ze&&(ze=ze(n,le))){Ls(Ce,ze,d,ye);break e}Ke&&Ke(n,ge,le),n==="focusout"&&(Ke=ge._wrapperState)&&Ke.controlled&&ge.type==="number"&&tt(ge,"number",ge.value)}switch(Ke=le?po(le):window,n){case"focusin":(gt(Ke)||Ke.contentEditable==="true")&&(mn=Ke,Nt=le,en=null);break;case"focusout":en=Nt=mn=null;break;case"mousedown":jn=!0;break;case"contextmenu":case"mouseup":case"dragend":jn=!1,Ni(Ce,d,ye);break;case"selectionchange":if(Ar)break;case"keydown":case"keyup":Ni(Ce,d,ye)}var Qe;if(es)e:{switch(n){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Fn?wl(n,d)&&(et="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(et="onCompositionStart");et&&(Er&&d.locale!=="ko"&&(Fn||et!=="onCompositionStart"?et==="onCompositionEnd"&&Fn&&(Qe=hl()):(Xr=ye,qo="value"in Xr?Xr.value:Xr.textContent,Fn=!0)),Ke=El(le,et),0<Ke.length&&(et=new Bt(et,n,null,d,ye),Ce.push({event:et,listeners:Ke}),Qe?et.data=Qe:(Qe=ia(d),Qe!==null&&(et.data=Qe)))),(Qe=xl?Ju(n,d):sa(n,d))&&(le=El(le,"onBeforeInput"),0<le.length&&(ye=new Bt("onBeforeInput","beforeinput",null,d,ye),Ce.push({event:ye,listeners:le}),ye.data=Qe))}uh(Ce,a)})}function ua(n,a,d){return{instance:n,listener:a,currentTarget:d}}function El(n,a){for(var d=a+"Capture",m=[];n!==null;){var S=n,I=S.stateNode;S.tag===5&&I!==null&&(S=I,I=hn(n,d),I!=null&&m.unshift(ua(n,I,S)),I=hn(n,a),I!=null&&m.push(ua(n,I,S))),n=n.return}return m}function fo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function fh(n,a,d,m,S){for(var I=a._reactName,D=[];d!==null&&d!==m;){var W=d,Y=W.alternate,le=W.stateNode;if(Y!==null&&Y===m)break;W.tag===5&&le!==null&&(W=le,S?(Y=hn(d,I),Y!=null&&D.unshift(ua(d,Y,W))):S||(Y=hn(d,I),Y!=null&&D.push(ua(d,Y,W)))),d=d.return}D.length!==0&&n.push({event:a,listeners:D})}var Tx=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function dh(n){return(typeof n=="string"?n:""+n).replace(Tx,`
`).replace(Ix,"")}function Al(n,a,d){if(a=dh(a),dh(n)!==a&&d)throw Error(s(425))}function Sl(){}var ic=null,sc=null;function oc(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ac=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0,hh=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof hh<"u"?function(n){return hh.resolve(null).then(n).catch(Rx)}:ac;function Rx(n){setTimeout(function(){throw n})}function lc(n,a){var d=a,m=0;do{var S=d.nextSibling;if(n.removeChild(d),S&&S.nodeType===8)if(d=S.data,d==="/$"){if(m===0){n.removeChild(S),Yr(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=S}while(d);Yr(a)}function rs(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function ph(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return n;a--}else d==="/$"&&a++}n=n.previousSibling}return null}var ho=Math.random().toString(36).slice(2),ai="__reactFiber$"+ho,ca="__reactProps$"+ho,Ri="__reactContainer$"+ho,uc="__reactEvents$"+ho,Mx="__reactListeners$"+ho,_x="__reactHandles$"+ho;function ks(n){var a=n[ai];if(a)return a;for(var d=n.parentNode;d;){if(a=d[Ri]||d[ai]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(n=ph(n);n!==null;){if(d=n[ai])return d;n=ph(n)}return a}n=d,d=n.parentNode}return null}function fa(n){return n=n[ai]||n[Ri],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function po(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Tl(n){return n[ca]||null}var cc=[],go=-1;function is(n){return{current:n}}function Xt(n){0>go||(n.current=cc[go],cc[go]=null,go--)}function Ht(n,a){go++,cc[go]=n.current,n.current=a}var ss={},Zn=is(ss),ur=is(!1),Bs=ss;function mo(n,a){var d=n.type.contextTypes;if(!d)return ss;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var S={},I;for(I in d)S[I]=a[I];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=S),S}function cr(n){return n=n.childContextTypes,n!=null}function Il(){Xt(ur),Xt(Zn)}function gh(n,a,d){if(Zn.current!==ss)throw Error(s(168));Ht(Zn,a),Ht(ur,d)}function mh(n,a,d){var m=n.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var S in m)if(!(S in a))throw Error(s(108,Ue(n)||"Unknown",S));return fe({},d,m)}function bl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ss,Bs=Zn.current,Ht(Zn,n),Ht(ur,ur.current),!0}function xh(n,a,d){var m=n.stateNode;if(!m)throw Error(s(169));d?(n=mh(n,a,Bs),m.__reactInternalMemoizedMergedChildContext=n,Xt(ur),Xt(Zn),Ht(Zn,n)):Xt(ur),Ht(ur,d)}var Mi=null,Nl=!1,fc=!1;function yh(n){Mi===null?Mi=[n]:Mi.push(n)}function Dx(n){Nl=!0,yh(n)}function os(){if(!fc&&Mi!==null){fc=!0;var n=0,a=ut;try{var d=Mi;for(ut=1;n<d.length;n++){var m=d[n];do m=m(!0);while(m!==null)}Mi=null,Nl=!1}catch(S){throw Mi!==null&&(Mi=Mi.slice(n+1)),yr(de,os),S}finally{ut=a,fc=!1}}return null}var xo=[],yo=0,Rl=null,Ml=0,kr=[],Br=0,Fs=null,_i=1,Di="";function js(n,a){xo[yo++]=Ml,xo[yo++]=Rl,Rl=n,Ml=a}function wh(n,a,d){kr[Br++]=_i,kr[Br++]=Di,kr[Br++]=Fs,Fs=n;var m=_i;n=Di;var S=32-nr(m)-1;m&=~(1<<S),d+=1;var I=32-nr(a)+S;if(30<I){var D=S-S%5;I=(m&(1<<D)-1).toString(32),m>>=D,S-=D,_i=1<<32-nr(a)+S|d<<S|m,Di=I+n}else _i=1<<I|d<<S|m,Di=n}function dc(n){n.return!==null&&(js(n,1),wh(n,1,0))}function hc(n){for(;n===Rl;)Rl=xo[--yo],xo[yo]=null,Ml=xo[--yo],xo[yo]=null;for(;n===Fs;)Fs=kr[--Br],kr[Br]=null,Di=kr[--Br],kr[Br]=null,_i=kr[--Br],kr[Br]=null}var Sr=null,Tr=null,qt=!1,Kr=null;function vh(n,a){var d=zr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=n,a=n.deletions,a===null?(n.deletions=[d],n.flags|=16):a.push(d)}function Ch(n,a){switch(n.tag){case 5:var d=n.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,Sr=n,Tr=rs(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,Sr=n,Tr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Fs!==null?{id:_i,overflow:Di}:null,n.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=zr(18,null,null,0),d.stateNode=a,d.return=n,n.child=d,Sr=n,Tr=null,!0):!1;default:return!1}}function pc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function gc(n){if(qt){var a=Tr;if(a){var d=a;if(!Ch(n,a)){if(pc(n))throw Error(s(418));a=rs(d.nextSibling);var m=Sr;a&&Ch(n,a)?vh(m,d):(n.flags=n.flags&-4097|2,qt=!1,Sr=n)}}else{if(pc(n))throw Error(s(418));n.flags=n.flags&-4097|2,qt=!1,Sr=n}}}function Eh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Sr=n}function _l(n){if(n!==Sr)return!1;if(!qt)return Eh(n),qt=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!oc(n.type,n.memoizedProps)),a&&(a=Tr)){if(pc(n))throw Ah(),Error(s(418));for(;a;)vh(n,a),a=rs(a.nextSibling)}if(Eh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"){if(a===0){Tr=rs(n.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}n=n.nextSibling}Tr=null}}else Tr=Sr?rs(n.stateNode.nextSibling):null;return!0}function Ah(){for(var n=Tr;n;)n=rs(n.nextSibling)}function wo(){Tr=Sr=null,qt=!1}function mc(n){Kr===null?Kr=[n]:Kr.push(n)}var Ox=ne.ReactCurrentBatchConfig;function da(n,a,d){if(n=d.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(s(309));var m=d.stateNode}if(!m)throw Error(s(147,n));var S=m,I=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===I?a.ref:(a=function(D){var W=S.refs;D===null?delete W[I]:W[I]=D},a._stringRef=I,a)}if(typeof n!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,n))}return n}function Dl(n,a){throw n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function Sh(n){var a=n._init;return a(n._payload)}function Th(n){function a(ee,K){if(n){var ie=ee.deletions;ie===null?(ee.deletions=[K],ee.flags|=16):ie.push(K)}}function d(ee,K){if(!n)return null;for(;K!==null;)a(ee,K),K=K.sibling;return null}function m(ee,K){for(ee=new Map;K!==null;)K.key!==null?ee.set(K.key,K):ee.set(K.index,K),K=K.sibling;return ee}function S(ee,K){return ee=ps(ee,K),ee.index=0,ee.sibling=null,ee}function I(ee,K,ie){return ee.index=ie,n?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<K?(ee.flags|=2,K):ie):(ee.flags|=2,K)):(ee.flags|=1048576,K)}function D(ee){return n&&ee.alternate===null&&(ee.flags|=2),ee}function W(ee,K,ie,Ie){return K===null||K.tag!==6?(K=lf(ie,ee.mode,Ie),K.return=ee,K):(K=S(K,ie),K.return=ee,K)}function Y(ee,K,ie,Ie){var ze=ie.type;return ze===q?ye(ee,K,ie.props.children,Ie,ie.key):K!==null&&(K.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ve&&Sh(ze)===K.type)?(Ie=S(K,ie.props),Ie.ref=da(ee,K,ie),Ie.return=ee,Ie):(Ie=nu(ie.type,ie.key,ie.props,null,ee.mode,Ie),Ie.ref=da(ee,K,ie),Ie.return=ee,Ie)}function le(ee,K,ie,Ie){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=uf(ie,ee.mode,Ie),K.return=ee,K):(K=S(K,ie.children||[]),K.return=ee,K)}function ye(ee,K,ie,Ie,ze){return K===null||K.tag!==7?(K=Xs(ie,ee.mode,Ie,ze),K.return=ee,K):(K=S(K,ie),K.return=ee,K)}function Ce(ee,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number")return K=lf(""+K,ee.mode,ie),K.return=ee,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case se:return ie=nu(K.type,K.key,K.props,null,ee.mode,ie),ie.ref=da(ee,null,K),ie.return=ee,ie;case ce:return K=uf(K,ee.mode,ie),K.return=ee,K;case Ve:var Ie=K._init;return Ce(ee,Ie(K._payload),ie)}if(ar(K)||De(K))return K=Xs(K,ee.mode,ie,null),K.return=ee,K;Dl(ee,K)}return null}function ge(ee,K,ie,Ie){var ze=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ze!==null?null:W(ee,K,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case se:return ie.key===ze?Y(ee,K,ie,Ie):null;case ce:return ie.key===ze?le(ee,K,ie,Ie):null;case Ve:return ze=ie._init,ge(ee,K,ze(ie._payload),Ie)}if(ar(ie)||De(ie))return ze!==null?null:ye(ee,K,ie,Ie,null);Dl(ee,ie)}return null}function Pe(ee,K,ie,Ie,ze){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ee=ee.get(ie)||null,W(K,ee,""+Ie,ze);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case se:return ee=ee.get(Ie.key===null?ie:Ie.key)||null,Y(K,ee,Ie,ze);case ce:return ee=ee.get(Ie.key===null?ie:Ie.key)||null,le(K,ee,Ie,ze);case Ve:var Ke=Ie._init;return Pe(ee,K,ie,Ke(Ie._payload),ze)}if(ar(Ie)||De(Ie))return ee=ee.get(ie)||null,ye(K,ee,Ie,ze,null);Dl(K,Ie)}return null}function Fe(ee,K,ie,Ie){for(var ze=null,Ke=null,Qe=K,et=K=0,On=null;Qe!==null&&et<ie.length;et++){Qe.index>et?(On=Qe,Qe=null):On=Qe.sibling;var Tt=ge(ee,Qe,ie[et],Ie);if(Tt===null){Qe===null&&(Qe=On);break}n&&Qe&&Tt.alternate===null&&a(ee,Qe),K=I(Tt,K,et),Ke===null?ze=Tt:Ke.sibling=Tt,Ke=Tt,Qe=On}if(et===ie.length)return d(ee,Qe),qt&&js(ee,et),ze;if(Qe===null){for(;et<ie.length;et++)Qe=Ce(ee,ie[et],Ie),Qe!==null&&(K=I(Qe,K,et),Ke===null?ze=Qe:Ke.sibling=Qe,Ke=Qe);return qt&&js(ee,et),ze}for(Qe=m(ee,Qe);et<ie.length;et++)On=Pe(Qe,ee,et,ie[et],Ie),On!==null&&(n&&On.alternate!==null&&Qe.delete(On.key===null?et:On.key),K=I(On,K,et),Ke===null?ze=On:Ke.sibling=On,Ke=On);return n&&Qe.forEach(function(gs){return a(ee,gs)}),qt&&js(ee,et),ze}function je(ee,K,ie,Ie){var ze=De(ie);if(typeof ze!="function")throw Error(s(150));if(ie=ze.call(ie),ie==null)throw Error(s(151));for(var Ke=ze=null,Qe=K,et=K=0,On=null,Tt=ie.next();Qe!==null&&!Tt.done;et++,Tt=ie.next()){Qe.index>et?(On=Qe,Qe=null):On=Qe.sibling;var gs=ge(ee,Qe,Tt.value,Ie);if(gs===null){Qe===null&&(Qe=On);break}n&&Qe&&gs.alternate===null&&a(ee,Qe),K=I(gs,K,et),Ke===null?ze=gs:Ke.sibling=gs,Ke=gs,Qe=On}if(Tt.done)return d(ee,Qe),qt&&js(ee,et),ze;if(Qe===null){for(;!Tt.done;et++,Tt=ie.next())Tt=Ce(ee,Tt.value,Ie),Tt!==null&&(K=I(Tt,K,et),Ke===null?ze=Tt:Ke.sibling=Tt,Ke=Tt);return qt&&js(ee,et),ze}for(Qe=m(ee,Qe);!Tt.done;et++,Tt=ie.next())Tt=Pe(Qe,ee,et,Tt.value,Ie),Tt!==null&&(n&&Tt.alternate!==null&&Qe.delete(Tt.key===null?et:Tt.key),K=I(Tt,K,et),Ke===null?ze=Tt:Ke.sibling=Tt,Ke=Tt);return n&&Qe.forEach(function(d2){return a(ee,d2)}),qt&&js(ee,et),ze}function xn(ee,K,ie,Ie){if(typeof ie=="object"&&ie!==null&&ie.type===q&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case se:e:{for(var ze=ie.key,Ke=K;Ke!==null;){if(Ke.key===ze){if(ze=ie.type,ze===q){if(Ke.tag===7){d(ee,Ke.sibling),K=S(Ke,ie.props.children),K.return=ee,ee=K;break e}}else if(Ke.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===Ve&&Sh(ze)===Ke.type){d(ee,Ke.sibling),K=S(Ke,ie.props),K.ref=da(ee,Ke,ie),K.return=ee,ee=K;break e}d(ee,Ke);break}else a(ee,Ke);Ke=Ke.sibling}ie.type===q?(K=Xs(ie.props.children,ee.mode,Ie,ie.key),K.return=ee,ee=K):(Ie=nu(ie.type,ie.key,ie.props,null,ee.mode,Ie),Ie.ref=da(ee,K,ie),Ie.return=ee,ee=Ie)}return D(ee);case ce:e:{for(Ke=ie.key;K!==null;){if(K.key===Ke)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){d(ee,K.sibling),K=S(K,ie.children||[]),K.return=ee,ee=K;break e}else{d(ee,K);break}else a(ee,K);K=K.sibling}K=uf(ie,ee.mode,Ie),K.return=ee,ee=K}return D(ee);case Ve:return Ke=ie._init,xn(ee,K,Ke(ie._payload),Ie)}if(ar(ie))return Fe(ee,K,ie,Ie);if(De(ie))return je(ee,K,ie,Ie);Dl(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,K!==null&&K.tag===6?(d(ee,K.sibling),K=S(K,ie),K.return=ee,ee=K):(d(ee,K),K=lf(ie,ee.mode,Ie),K.return=ee,ee=K),D(ee)):d(ee,K)}return xn}var vo=Th(!0),Ih=Th(!1),Ol=is(null),Pl=null,Co=null,xc=null;function yc(){xc=Co=Pl=null}function wc(n){var a=Ol.current;Xt(Ol),n._currentValue=a}function vc(n,a,d){for(;n!==null;){var m=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),n===d)break;n=n.return}}function Eo(n,a){Pl=n,xc=Co=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&a&&(fr=!0),n.firstContext=null)}function Fr(n){var a=n._currentValue;if(xc!==n)if(n={context:n,memoizedValue:a,next:null},Co===null){if(Pl===null)throw Error(s(308));Co=n,Pl.dependencies={lanes:0,firstContext:n}}else Co=Co.next=n;return a}var Us=null;function Cc(n){Us===null?Us=[n]:Us.push(n)}function bh(n,a,d,m){var S=a.interleaved;return S===null?(d.next=d,Cc(a)):(d.next=S.next,S.next=d),a.interleaved=d,Oi(n,m)}function Oi(n,a){n.lanes|=a;var d=n.alternate;for(d!==null&&(d.lanes|=a),d=n,n=n.return;n!==null;)n.childLanes|=a,d=n.alternate,d!==null&&(d.childLanes|=a),d=n,n=n.return;return d.tag===3?d.stateNode:null}var as=!1;function Ec(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nh(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pi(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function ls(n,a,d){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,Et&2){var S=m.pending;return S===null?a.next=a:(a.next=S.next,S.next=a),m.pending=a,Oi(n,d)}return S=m.interleaved,S===null?(a.next=a,Cc(m)):(a.next=S.next,S.next=a),m.interleaved=a,Oi(n,d)}function Ll(n,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=n.pendingLanes,d|=m,a.lanes=d,on(n,d)}}function Rh(n,a){var d=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var S=null,I=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};I===null?S=I=D:I=I.next=D,d=d.next}while(d!==null);I===null?S=I=a:I=I.next=a}else S=I=a;d={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:I,shared:m.shared,effects:m.effects},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=a:n.next=a,d.lastBaseUpdate=a}function kl(n,a,d,m){var S=n.updateQueue;as=!1;var I=S.firstBaseUpdate,D=S.lastBaseUpdate,W=S.shared.pending;if(W!==null){S.shared.pending=null;var Y=W,le=Y.next;Y.next=null,D===null?I=le:D.next=le,D=Y;var ye=n.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==D&&(W===null?ye.firstBaseUpdate=le:W.next=le,ye.lastBaseUpdate=Y))}if(I!==null){var Ce=S.baseState;D=0,ye=le=Y=null,W=I;do{var ge=W.lane,Pe=W.eventTime;if((m&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Pe,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Fe=n,je=W;switch(ge=a,Pe=d,je.tag){case 1:if(Fe=je.payload,typeof Fe=="function"){Ce=Fe.call(Pe,Ce,ge);break e}Ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=je.payload,ge=typeof Fe=="function"?Fe.call(Pe,Ce,ge):Fe,ge==null)break e;Ce=fe({},Ce,ge);break e;case 2:as=!0}}W.callback!==null&&W.lane!==0&&(n.flags|=64,ge=S.effects,ge===null?S.effects=[W]:ge.push(W))}else Pe={eventTime:Pe,lane:ge,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(le=ye=Pe,Y=Ce):ye=ye.next=Pe,D|=ge;if(W=W.next,W===null){if(W=S.shared.pending,W===null)break;ge=W,W=ge.next,ge.next=null,S.lastBaseUpdate=ge,S.shared.pending=null}}while(!0);if(ye===null&&(Y=Ce),S.baseState=Y,S.firstBaseUpdate=le,S.lastBaseUpdate=ye,a=S.shared.interleaved,a!==null){S=a;do D|=S.lane,S=S.next;while(S!==a)}else I===null&&(S.shared.lanes=0);Ws|=D,n.lanes=D,n.memoizedState=Ce}}function Mh(n,a,d){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var m=n[a],S=m.callback;if(S!==null){if(m.callback=null,m=d,typeof S!="function")throw Error(s(191,S));S.call(m)}}}var ha={},li=is(ha),pa=is(ha),ga=is(ha);function zs(n){if(n===ha)throw Error(s(174));return n}function Ac(n,a){switch(Ht(ga,a),Ht(pa,n),Ht(li,ha),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Kt(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=Kt(a,n)}Xt(li),Ht(li,a)}function Ao(){Xt(li),Xt(pa),Xt(ga)}function _h(n){zs(ga.current);var a=zs(li.current),d=Kt(a,n.type);a!==d&&(Ht(pa,n),Ht(li,d))}function Sc(n){pa.current===n&&(Xt(li),Xt(pa))}var tn=is(0);function Bl(n){for(var a=n;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tc=[];function Ic(){for(var n=0;n<Tc.length;n++)Tc[n]._workInProgressVersionPrimary=null;Tc.length=0}var Fl=ne.ReactCurrentDispatcher,bc=ne.ReactCurrentBatchConfig,Vs=0,nn=null,bn=null,_n=null,jl=!1,ma=!1,xa=0,Px=0;function Kn(){throw Error(s(321))}function Nc(n,a){if(a===null)return!1;for(var d=0;d<a.length&&d<n.length;d++)if(!$(n[d],a[d]))return!1;return!0}function Rc(n,a,d,m,S,I){if(Vs=I,nn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Fl.current=n===null||n.memoizedState===null?Fx:jx,n=d(m,S),ma){I=0;do{if(ma=!1,xa=0,25<=I)throw Error(s(301));I+=1,_n=bn=null,a.updateQueue=null,Fl.current=Ux,n=d(m,S)}while(ma)}if(Fl.current=Vl,a=bn!==null&&bn.next!==null,Vs=0,_n=bn=nn=null,jl=!1,a)throw Error(s(300));return n}function Mc(){var n=xa!==0;return xa=0,n}function ui(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?nn.memoizedState=_n=n:_n=_n.next=n,_n}function jr(){if(bn===null){var n=nn.alternate;n=n!==null?n.memoizedState:null}else n=bn.next;var a=_n===null?nn.memoizedState:_n.next;if(a!==null)_n=a,bn=n;else{if(n===null)throw Error(s(310));bn=n,n={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},_n===null?nn.memoizedState=_n=n:_n=_n.next=n}return _n}function ya(n,a){return typeof a=="function"?a(n):a}function _c(n){var a=jr(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var m=bn,S=m.baseQueue,I=d.pending;if(I!==null){if(S!==null){var D=S.next;S.next=I.next,I.next=D}m.baseQueue=S=I,d.pending=null}if(S!==null){I=S.next,m=m.baseState;var W=D=null,Y=null,le=I;do{var ye=le.lane;if((Vs&ye)===ye)Y!==null&&(Y=Y.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),m=le.hasEagerState?le.eagerState:n(m,le.action);else{var Ce={lane:ye,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};Y===null?(W=Y=Ce,D=m):Y=Y.next=Ce,nn.lanes|=ye,Ws|=ye}le=le.next}while(le!==null&&le!==I);Y===null?D=m:Y.next=W,$(m,a.memoizedState)||(fr=!0),a.memoizedState=m,a.baseState=D,a.baseQueue=Y,d.lastRenderedState=m}if(n=d.interleaved,n!==null){S=n;do I=S.lane,nn.lanes|=I,Ws|=I,S=S.next;while(S!==n)}else S===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Dc(n){var a=jr(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var m=d.dispatch,S=d.pending,I=a.memoizedState;if(S!==null){d.pending=null;var D=S=S.next;do I=n(I,D.action),D=D.next;while(D!==S);$(I,a.memoizedState)||(fr=!0),a.memoizedState=I,a.baseQueue===null&&(a.baseState=I),d.lastRenderedState=I}return[I,m]}function Dh(){}function Oh(n,a){var d=nn,m=jr(),S=a(),I=!$(m.memoizedState,S);if(I&&(m.memoizedState=S,fr=!0),m=m.queue,Oc(kh.bind(null,d,m,n),[n]),m.getSnapshot!==a||I||_n!==null&&_n.memoizedState.tag&1){if(d.flags|=2048,wa(9,Lh.bind(null,d,m,S,a),void 0,null),Dn===null)throw Error(s(349));Vs&30||Ph(d,a,S)}return S}function Ph(n,a,d){n.flags|=16384,n={getSnapshot:a,value:d},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.stores=[n]):(d=a.stores,d===null?a.stores=[n]:d.push(n))}function Lh(n,a,d,m){a.value=d,a.getSnapshot=m,Bh(a)&&Fh(n)}function kh(n,a,d){return d(function(){Bh(a)&&Fh(n)})}function Bh(n){var a=n.getSnapshot;n=n.value;try{var d=a();return!$(n,d)}catch{return!0}}function Fh(n){var a=Oi(n,1);a!==null&&Jr(a,n,1,-1)}function jh(n){var a=ui();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:n},a.queue=n,n=n.dispatch=Bx.bind(null,nn,n),[a.memoizedState,n]}function wa(n,a,d,m){return n={tag:n,create:a,destroy:d,deps:m,next:null},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.lastEffect=n.next=n):(d=a.lastEffect,d===null?a.lastEffect=n.next=n:(m=d.next,d.next=n,n.next=m,a.lastEffect=n)),n}function Uh(){return jr().memoizedState}function Ul(n,a,d,m){var S=ui();nn.flags|=n,S.memoizedState=wa(1|a,d,void 0,m===void 0?null:m)}function zl(n,a,d,m){var S=jr();m=m===void 0?null:m;var I=void 0;if(bn!==null){var D=bn.memoizedState;if(I=D.destroy,m!==null&&Nc(m,D.deps)){S.memoizedState=wa(a,d,I,m);return}}nn.flags|=n,S.memoizedState=wa(1|a,d,I,m)}function zh(n,a){return Ul(8390656,8,n,a)}function Oc(n,a){return zl(2048,8,n,a)}function Vh(n,a){return zl(4,2,n,a)}function Wh(n,a){return zl(4,4,n,a)}function Hh(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Gh(n,a,d){return d=d!=null?d.concat([n]):null,zl(4,4,Hh.bind(null,a,n),d)}function Pc(){}function Yh(n,a){var d=jr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Nc(a,m[1])?m[0]:(d.memoizedState=[n,a],n)}function Xh(n,a){var d=jr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Nc(a,m[1])?m[0]:(n=n(),d.memoizedState=[n,a],n)}function Zh(n,a,d){return Vs&21?($(d,a)||(d=An(),nn.lanes|=d,Ws|=d,n.baseState=!0),a):(n.baseState&&(n.baseState=!1,fr=!0),n.memoizedState=d)}function Lx(n,a){var d=ut;ut=d!==0&&4>d?d:4,n(!0);var m=bc.transition;bc.transition={};try{n(!1),a()}finally{ut=d,bc.transition=m}}function Kh(){return jr().memoizedState}function kx(n,a,d){var m=ds(n);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},Qh(n))$h(a,d);else if(d=bh(n,a,d,m),d!==null){var S=ir();Jr(d,n,m,S),qh(d,a,m)}}function Bx(n,a,d){var m=ds(n),S={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(Qh(n))$h(a,S);else{var I=n.alternate;if(n.lanes===0&&(I===null||I.lanes===0)&&(I=a.lastRenderedReducer,I!==null))try{var D=a.lastRenderedState,W=I(D,d);if(S.hasEagerState=!0,S.eagerState=W,$(W,D)){var Y=a.interleaved;Y===null?(S.next=S,Cc(a)):(S.next=Y.next,Y.next=S),a.interleaved=S;return}}catch{}finally{}d=bh(n,a,S,m),d!==null&&(S=ir(),Jr(d,n,m,S),qh(d,a,m))}}function Qh(n){var a=n.alternate;return n===nn||a!==null&&a===nn}function $h(n,a){ma=jl=!0;var d=n.pending;d===null?a.next=a:(a.next=d.next,d.next=a),n.pending=a}function qh(n,a,d){if(d&4194240){var m=a.lanes;m&=n.pendingLanes,d|=m,a.lanes=d,on(n,d)}}var Vl={readContext:Fr,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},Fx={readContext:Fr,useCallback:function(n,a){return ui().memoizedState=[n,a===void 0?null:a],n},useContext:Fr,useEffect:zh,useImperativeHandle:function(n,a,d){return d=d!=null?d.concat([n]):null,Ul(4194308,4,Hh.bind(null,a,n),d)},useLayoutEffect:function(n,a){return Ul(4194308,4,n,a)},useInsertionEffect:function(n,a){return Ul(4,2,n,a)},useMemo:function(n,a){var d=ui();return a=a===void 0?null:a,n=n(),d.memoizedState=[n,a],n},useReducer:function(n,a,d){var m=ui();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},m.queue=n,n=n.dispatch=kx.bind(null,nn,n),[m.memoizedState,n]},useRef:function(n){var a=ui();return n={current:n},a.memoizedState=n},useState:jh,useDebugValue:Pc,useDeferredValue:function(n){return ui().memoizedState=n},useTransition:function(){var n=jh(!1),a=n[0];return n=Lx.bind(null,n[1]),ui().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,d){var m=nn,S=ui();if(qt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=a(),Dn===null)throw Error(s(349));Vs&30||Ph(m,a,d)}S.memoizedState=d;var I={value:d,getSnapshot:a};return S.queue=I,zh(kh.bind(null,m,I,n),[n]),m.flags|=2048,wa(9,Lh.bind(null,m,I,d,a),void 0,null),d},useId:function(){var n=ui(),a=Dn.identifierPrefix;if(qt){var d=Di,m=_i;d=(m&~(1<<32-nr(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=xa++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=Px++,a=":"+a+"r"+d.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},jx={readContext:Fr,useCallback:Yh,useContext:Fr,useEffect:Oc,useImperativeHandle:Gh,useInsertionEffect:Vh,useLayoutEffect:Wh,useMemo:Xh,useReducer:_c,useRef:Uh,useState:function(){return _c(ya)},useDebugValue:Pc,useDeferredValue:function(n){var a=jr();return Zh(a,bn.memoizedState,n)},useTransition:function(){var n=_c(ya)[0],a=jr().memoizedState;return[n,a]},useMutableSource:Dh,useSyncExternalStore:Oh,useId:Kh,unstable_isNewReconciler:!1},Ux={readContext:Fr,useCallback:Yh,useContext:Fr,useEffect:Oc,useImperativeHandle:Gh,useInsertionEffect:Vh,useLayoutEffect:Wh,useMemo:Xh,useReducer:Dc,useRef:Uh,useState:function(){return Dc(ya)},useDebugValue:Pc,useDeferredValue:function(n){var a=jr();return bn===null?a.memoizedState=n:Zh(a,bn.memoizedState,n)},useTransition:function(){var n=Dc(ya)[0],a=jr().memoizedState;return[n,a]},useMutableSource:Dh,useSyncExternalStore:Oh,useId:Kh,unstable_isNewReconciler:!1};function Qr(n,a){if(n&&n.defaultProps){a=fe({},a),n=n.defaultProps;for(var d in n)a[d]===void 0&&(a[d]=n[d]);return a}return a}function Lc(n,a,d,m){a=n.memoizedState,d=d(m,a),d=d==null?a:fe({},a,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var Wl={isMounted:function(n){return(n=n._reactInternals)?lr(n)===n:!1},enqueueSetState:function(n,a,d){n=n._reactInternals;var m=ir(),S=ds(n),I=Pi(m,S);I.payload=a,d!=null&&(I.callback=d),a=ls(n,I,S),a!==null&&(Jr(a,n,S,m),Ll(a,n,S))},enqueueReplaceState:function(n,a,d){n=n._reactInternals;var m=ir(),S=ds(n),I=Pi(m,S);I.tag=1,I.payload=a,d!=null&&(I.callback=d),a=ls(n,I,S),a!==null&&(Jr(a,n,S,m),Ll(a,n,S))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var d=ir(),m=ds(n),S=Pi(d,m);S.tag=2,a!=null&&(S.callback=a),a=ls(n,S,m),a!==null&&(Jr(a,n,m,d),Ll(a,n,m))}};function Jh(n,a,d,m,S,I,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,I,D):a.prototype&&a.prototype.isPureReactComponent?!oe(d,m)||!oe(S,I):!0}function e0(n,a,d){var m=!1,S=ss,I=a.contextType;return typeof I=="object"&&I!==null?I=Fr(I):(S=cr(a)?Bs:Zn.current,m=a.contextTypes,I=(m=m!=null)?mo(n,S):ss),a=new a(d,I),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Wl,n.stateNode=a,a._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=S,n.__reactInternalMemoizedMaskedChildContext=I),a}function t0(n,a,d,m){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==n&&Wl.enqueueReplaceState(a,a.state,null)}function kc(n,a,d,m){var S=n.stateNode;S.props=d,S.state=n.memoizedState,S.refs={},Ec(n);var I=a.contextType;typeof I=="object"&&I!==null?S.context=Fr(I):(I=cr(a)?Bs:Zn.current,S.context=mo(n,I)),S.state=n.memoizedState,I=a.getDerivedStateFromProps,typeof I=="function"&&(Lc(n,a,I,d),S.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(a=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),a!==S.state&&Wl.enqueueReplaceState(S,S.state,null),kl(n,d,S,m),S.state=n.memoizedState),typeof S.componentDidMount=="function"&&(n.flags|=4194308)}function So(n,a){try{var d="",m=a;do d+=We(m),m=m.return;while(m);var S=d}catch(I){S=`
Error generating stack: `+I.message+`
`+I.stack}return{value:n,source:a,stack:S,digest:null}}function Bc(n,a,d){return{value:n,source:null,stack:d??null,digest:a??null}}function Fc(n,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var zx=typeof WeakMap=="function"?WeakMap:Map;function n0(n,a,d){d=Pi(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){Ql||(Ql=!0,Jc=m),Fc(n,a)},d}function r0(n,a,d){d=Pi(-1,d),d.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var S=a.value;d.payload=function(){return m(S)},d.callback=function(){Fc(n,a)}}var I=n.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(d.callback=function(){Fc(n,a),typeof m!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var D=a.stack;this.componentDidCatch(a.value,{componentStack:D!==null?D:""})}),d}function i0(n,a,d){var m=n.pingCache;if(m===null){m=n.pingCache=new zx;var S=new Set;m.set(a,S)}else S=m.get(a),S===void 0&&(S=new Set,m.set(a,S));S.has(d)||(S.add(d),n=t2.bind(null,n,a,d),a.then(n,n))}function s0(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function o0(n,a,d,m,S){return n.mode&1?(n.flags|=65536,n.lanes=S,n):(n===a?n.flags|=65536:(n.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Pi(-1,1),a.tag=2,ls(d,a,1))),d.lanes|=1),n)}var Vx=ne.ReactCurrentOwner,fr=!1;function rr(n,a,d,m){a.child=n===null?Ih(a,null,d,m):vo(a,n.child,d,m)}function a0(n,a,d,m,S){d=d.render;var I=a.ref;return Eo(a,S),m=Rc(n,a,d,m,I,S),d=Mc(),n!==null&&!fr?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~S,Li(n,a,S)):(qt&&d&&dc(a),a.flags|=1,rr(n,a,m,S),a.child)}function l0(n,a,d,m,S){if(n===null){var I=d.type;return typeof I=="function"&&!af(I)&&I.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=I,u0(n,a,I,m,S)):(n=nu(d.type,null,m,a,a.mode,S),n.ref=a.ref,n.return=a,a.child=n)}if(I=n.child,!(n.lanes&S)){var D=I.memoizedProps;if(d=d.compare,d=d!==null?d:oe,d(D,m)&&n.ref===a.ref)return Li(n,a,S)}return a.flags|=1,n=ps(I,m),n.ref=a.ref,n.return=a,a.child=n}function u0(n,a,d,m,S){if(n!==null){var I=n.memoizedProps;if(oe(I,m)&&n.ref===a.ref)if(fr=!1,a.pendingProps=m=I,(n.lanes&S)!==0)n.flags&131072&&(fr=!0);else return a.lanes=n.lanes,Li(n,a,S)}return jc(n,a,d,m,S)}function c0(n,a,d){var m=a.pendingProps,S=m.children,I=n!==null?n.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Io,Ir),Ir|=d;else{if(!(d&1073741824))return n=I!==null?I.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,Ht(Io,Ir),Ir|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=I!==null?I.baseLanes:d,Ht(Io,Ir),Ir|=m}else I!==null?(m=I.baseLanes|d,a.memoizedState=null):m=d,Ht(Io,Ir),Ir|=m;return rr(n,a,S,d),a.child}function f0(n,a){var d=a.ref;(n===null&&d!==null||n!==null&&n.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function jc(n,a,d,m,S){var I=cr(d)?Bs:Zn.current;return I=mo(a,I),Eo(a,S),d=Rc(n,a,d,m,I,S),m=Mc(),n!==null&&!fr?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~S,Li(n,a,S)):(qt&&m&&dc(a),a.flags|=1,rr(n,a,d,S),a.child)}function d0(n,a,d,m,S){if(cr(d)){var I=!0;bl(a)}else I=!1;if(Eo(a,S),a.stateNode===null)Gl(n,a),e0(a,d,m),kc(a,d,m,S),m=!0;else if(n===null){var D=a.stateNode,W=a.memoizedProps;D.props=W;var Y=D.context,le=d.contextType;typeof le=="object"&&le!==null?le=Fr(le):(le=cr(d)?Bs:Zn.current,le=mo(a,le));var ye=d.getDerivedStateFromProps,Ce=typeof ye=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ce||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==m||Y!==le)&&t0(a,D,m,le),as=!1;var ge=a.memoizedState;D.state=ge,kl(a,m,D,S),Y=a.memoizedState,W!==m||ge!==Y||ur.current||as?(typeof ye=="function"&&(Lc(a,d,ye,m),Y=a.memoizedState),(W=as||Jh(a,d,W,m,ge,Y,le))?(Ce||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(a.flags|=4194308)):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=Y),D.props=m,D.state=Y,D.context=le,m=W):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{D=a.stateNode,Nh(n,a),W=a.memoizedProps,le=a.type===a.elementType?W:Qr(a.type,W),D.props=le,Ce=a.pendingProps,ge=D.context,Y=d.contextType,typeof Y=="object"&&Y!==null?Y=Fr(Y):(Y=cr(d)?Bs:Zn.current,Y=mo(a,Y));var Pe=d.getDerivedStateFromProps;(ye=typeof Pe=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==Ce||ge!==Y)&&t0(a,D,m,Y),as=!1,ge=a.memoizedState,D.state=ge,kl(a,m,D,S);var Fe=a.memoizedState;W!==Ce||ge!==Fe||ur.current||as?(typeof Pe=="function"&&(Lc(a,d,Pe,m),Fe=a.memoizedState),(le=as||Jh(a,d,le,m,ge,Fe,Y)||!1)?(ye||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,Fe,Y),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,Fe,Y)),typeof D.componentDidUpdate=="function"&&(a.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof D.componentDidUpdate!="function"||W===n.memoizedProps&&ge===n.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&ge===n.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Fe),D.props=m,D.state=Fe,D.context=Y,m=le):(typeof D.componentDidUpdate!="function"||W===n.memoizedProps&&ge===n.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&ge===n.memoizedState||(a.flags|=1024),m=!1)}return Uc(n,a,d,m,I,S)}function Uc(n,a,d,m,S,I){f0(n,a);var D=(a.flags&128)!==0;if(!m&&!D)return S&&xh(a,d,!1),Li(n,a,I);m=a.stateNode,Vx.current=a;var W=D&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,n!==null&&D?(a.child=vo(a,n.child,null,I),a.child=vo(a,null,W,I)):rr(n,a,W,I),a.memoizedState=m.state,S&&xh(a,d,!0),a.child}function h0(n){var a=n.stateNode;a.pendingContext?gh(n,a.pendingContext,a.pendingContext!==a.context):a.context&&gh(n,a.context,!1),Ac(n,a.containerInfo)}function p0(n,a,d,m,S){return wo(),mc(S),a.flags|=256,rr(n,a,d,m),a.child}var zc={dehydrated:null,treeContext:null,retryLane:0};function Vc(n){return{baseLanes:n,cachePool:null,transitions:null}}function g0(n,a,d){var m=a.pendingProps,S=tn.current,I=!1,D=(a.flags&128)!==0,W;if((W=D)||(W=n!==null&&n.memoizedState===null?!1:(S&2)!==0),W?(I=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(S|=1),Ht(tn,S&1),n===null)return gc(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(a.mode&1?n.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(D=m.children,n=m.fallback,I?(m=a.mode,I=a.child,D={mode:"hidden",children:D},!(m&1)&&I!==null?(I.childLanes=0,I.pendingProps=D):I=ru(D,m,0,null),n=Xs(n,m,d,null),I.return=a,n.return=a,I.sibling=n,a.child=I,a.child.memoizedState=Vc(d),a.memoizedState=zc,n):Wc(a,D));if(S=n.memoizedState,S!==null&&(W=S.dehydrated,W!==null))return Wx(n,a,D,m,W,S,d);if(I){I=m.fallback,D=a.mode,S=n.child,W=S.sibling;var Y={mode:"hidden",children:m.children};return!(D&1)&&a.child!==S?(m=a.child,m.childLanes=0,m.pendingProps=Y,a.deletions=null):(m=ps(S,Y),m.subtreeFlags=S.subtreeFlags&14680064),W!==null?I=ps(W,I):(I=Xs(I,D,d,null),I.flags|=2),I.return=a,m.return=a,m.sibling=I,a.child=m,m=I,I=a.child,D=n.child.memoizedState,D=D===null?Vc(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},I.memoizedState=D,I.childLanes=n.childLanes&~d,a.memoizedState=zc,m}return I=n.child,n=I.sibling,m=ps(I,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=d),m.return=a,m.sibling=null,n!==null&&(d=a.deletions,d===null?(a.deletions=[n],a.flags|=16):d.push(n)),a.child=m,a.memoizedState=null,m}function Wc(n,a){return a=ru({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function Hl(n,a,d,m){return m!==null&&mc(m),vo(a,n.child,null,d),n=Wc(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Wx(n,a,d,m,S,I,D){if(d)return a.flags&256?(a.flags&=-257,m=Bc(Error(s(422))),Hl(n,a,D,m)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(I=m.fallback,S=a.mode,m=ru({mode:"visible",children:m.children},S,0,null),I=Xs(I,S,D,null),I.flags|=2,m.return=a,I.return=a,m.sibling=I,a.child=m,a.mode&1&&vo(a,n.child,null,D),a.child.memoizedState=Vc(D),a.memoizedState=zc,I);if(!(a.mode&1))return Hl(n,a,D,null);if(S.data==="$!"){if(m=S.nextSibling&&S.nextSibling.dataset,m)var W=m.dgst;return m=W,I=Error(s(419)),m=Bc(I,m,void 0),Hl(n,a,D,m)}if(W=(D&n.childLanes)!==0,fr||W){if(m=Dn,m!==null){switch(D&-D){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=S&(m.suspendedLanes|D)?0:S,S!==0&&S!==I.retryLane&&(I.retryLane=S,Oi(n,S),Jr(m,n,S,-1))}return of(),m=Bc(Error(s(421))),Hl(n,a,D,m)}return S.data==="$?"?(a.flags|=128,a.child=n.child,a=n2.bind(null,n),S._reactRetry=a,null):(n=I.treeContext,Tr=rs(S.nextSibling),Sr=a,qt=!0,Kr=null,n!==null&&(kr[Br++]=_i,kr[Br++]=Di,kr[Br++]=Fs,_i=n.id,Di=n.overflow,Fs=a),a=Wc(a,m.children),a.flags|=4096,a)}function m0(n,a,d){n.lanes|=a;var m=n.alternate;m!==null&&(m.lanes|=a),vc(n.return,a,d)}function Hc(n,a,d,m,S){var I=n.memoizedState;I===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:S}:(I.isBackwards=a,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=d,I.tailMode=S)}function x0(n,a,d){var m=a.pendingProps,S=m.revealOrder,I=m.tail;if(rr(n,a,m.children,d),m=tn.current,m&2)m=m&1|2,a.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&m0(n,d,a);else if(n.tag===19)m0(n,d,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(Ht(tn,m),!(a.mode&1))a.memoizedState=null;else switch(S){case"forwards":for(d=a.child,S=null;d!==null;)n=d.alternate,n!==null&&Bl(n)===null&&(S=d),d=d.sibling;d=S,d===null?(S=a.child,a.child=null):(S=d.sibling,d.sibling=null),Hc(a,!1,S,d,I);break;case"backwards":for(d=null,S=a.child,a.child=null;S!==null;){if(n=S.alternate,n!==null&&Bl(n)===null){a.child=S;break}n=S.sibling,S.sibling=d,d=S,S=n}Hc(a,!0,d,null,I);break;case"together":Hc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Gl(n,a){!(a.mode&1)&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function Li(n,a,d){if(n!==null&&(a.dependencies=n.dependencies),Ws|=a.lanes,!(d&a.childLanes))return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,d=ps(n,n.pendingProps),a.child=d,d.return=a;n.sibling!==null;)n=n.sibling,d=d.sibling=ps(n,n.pendingProps),d.return=a;d.sibling=null}return a.child}function Hx(n,a,d){switch(a.tag){case 3:h0(a),wo();break;case 5:_h(a);break;case 1:cr(a.type)&&bl(a);break;case 4:Ac(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,S=a.memoizedProps.value;Ht(Ol,m._currentValue),m._currentValue=S;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Ht(tn,tn.current&1),a.flags|=128,null):d&a.child.childLanes?g0(n,a,d):(Ht(tn,tn.current&1),n=Li(n,a,d),n!==null?n.sibling:null);Ht(tn,tn.current&1);break;case 19:if(m=(d&a.childLanes)!==0,n.flags&128){if(m)return x0(n,a,d);a.flags|=128}if(S=a.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Ht(tn,tn.current),m)break;return null;case 22:case 23:return a.lanes=0,c0(n,a,d)}return Li(n,a,d)}var y0,Gc,w0,v0;y0=function(n,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Gc=function(){},w0=function(n,a,d,m){var S=n.memoizedProps;if(S!==m){n=a.stateNode,zs(li.current);var I=null;switch(d){case"input":S=Hn(n,S),m=Hn(n,m),I=[];break;case"select":S=fe({},S,{value:void 0}),m=fe({},m,{value:void 0}),I=[];break;case"textarea":S=$e(n,S),m=$e(n,m),I=[];break;default:typeof S.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=Sl)}vt(d,m);var D;d=null;for(le in S)if(!m.hasOwnProperty(le)&&S.hasOwnProperty(le)&&S[le]!=null)if(le==="style"){var W=S[le];for(D in W)W.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(h.hasOwnProperty(le)?I||(I=[]):(I=I||[]).push(le,null));for(le in m){var Y=m[le];if(W=S!=null?S[le]:void 0,m.hasOwnProperty(le)&&Y!==W&&(Y!=null||W!=null))if(le==="style")if(W){for(D in W)!W.hasOwnProperty(D)||Y&&Y.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in Y)Y.hasOwnProperty(D)&&W[D]!==Y[D]&&(d||(d={}),d[D]=Y[D])}else d||(I||(I=[]),I.push(le,d)),d=Y;else le==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(I=I||[]).push(le,Y)):le==="children"?typeof Y!="string"&&typeof Y!="number"||(I=I||[]).push(le,""+Y):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(h.hasOwnProperty(le)?(Y!=null&&le==="onScroll"&&Yt("scroll",n),I||W===Y||(I=[])):(I=I||[]).push(le,Y))}d&&(I=I||[]).push("style",d);var le=I;(a.updateQueue=le)&&(a.flags|=4)}},v0=function(n,a,d,m){d!==m&&(a.flags|=4)};function va(n,a){if(!qt)switch(n.tailMode){case"hidden":a=n.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Qn(n){var a=n.alternate!==null&&n.alternate.child===n.child,d=0,m=0;if(a)for(var S=n.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags&14680064,m|=S.flags&14680064,S.return=n,S=S.sibling;else for(S=n.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=n,S=S.sibling;return n.subtreeFlags|=m,n.childLanes=d,a}function Gx(n,a,d){var m=a.pendingProps;switch(hc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(a),null;case 1:return cr(a.type)&&Il(),Qn(a),null;case 3:return m=a.stateNode,Ao(),Xt(ur),Xt(Zn),Ic(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(_l(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Kr!==null&&(nf(Kr),Kr=null))),Gc(n,a),Qn(a),null;case 5:Sc(a);var S=zs(ga.current);if(d=a.type,n!==null&&a.stateNode!=null)w0(n,a,d,m,S),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(s(166));return Qn(a),null}if(n=zs(li.current),_l(a)){m=a.stateNode,d=a.type;var I=a.memoizedProps;switch(m[ai]=a,m[ca]=I,n=(a.mode&1)!==0,d){case"dialog":Yt("cancel",m),Yt("close",m);break;case"iframe":case"object":case"embed":Yt("load",m);break;case"video":case"audio":for(S=0;S<aa.length;S++)Yt(aa[S],m);break;case"source":Yt("error",m);break;case"img":case"image":case"link":Yt("error",m),Yt("load",m);break;case"details":Yt("toggle",m);break;case"input":Ut(m,I),Yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!I.multiple},Yt("invalid",m);break;case"textarea":At(m,I),Yt("invalid",m)}vt(d,I),S=null;for(var D in I)if(I.hasOwnProperty(D)){var W=I[D];D==="children"?typeof W=="string"?m.textContent!==W&&(I.suppressHydrationWarning!==!0&&Al(m.textContent,W,n),S=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(I.suppressHydrationWarning!==!0&&Al(m.textContent,W,n),S=["children",""+W]):h.hasOwnProperty(D)&&W!=null&&D==="onScroll"&&Yt("scroll",m)}switch(d){case"input":_t(m),yt(m,I,!0);break;case"textarea":_t(m),Pn(m);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(m.onclick=Sl)}m=S,a.updateQueue=m,m!==null&&(a.flags|=4)}else{D=S.nodeType===9?S:S.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wt(d)),n==="http://www.w3.org/1999/xhtml"?d==="script"?(n=D.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=D.createElement(d,{is:m.is}):(n=D.createElement(d),d==="select"&&(D=n,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):n=D.createElementNS(n,d),n[ai]=a,n[ca]=m,y0(n,a,!1,!1),a.stateNode=n;e:{switch(D=kt(d,m),d){case"dialog":Yt("cancel",n),Yt("close",n),S=m;break;case"iframe":case"object":case"embed":Yt("load",n),S=m;break;case"video":case"audio":for(S=0;S<aa.length;S++)Yt(aa[S],n);S=m;break;case"source":Yt("error",n),S=m;break;case"img":case"image":case"link":Yt("error",n),Yt("load",n),S=m;break;case"details":Yt("toggle",n),S=m;break;case"input":Ut(n,m),S=Hn(n,m),Yt("invalid",n);break;case"option":S=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},S=fe({},m,{value:void 0}),Yt("invalid",n);break;case"textarea":At(n,m),S=$e(n,m),Yt("invalid",n);break;default:S=m}vt(d,S),W=S;for(I in W)if(W.hasOwnProperty(I)){var Y=W[I];I==="style"?be(n,Y):I==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Lt(n,Y)):I==="children"?typeof Y=="string"?(d!=="textarea"||Y!=="")&&Ln(n,Y):typeof Y=="number"&&Ln(n,""+Y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(h.hasOwnProperty(I)?Y!=null&&I==="onScroll"&&Yt("scroll",n):Y!=null&&V(n,I,Y,D))}switch(d){case"input":_t(n),yt(n,m,!1);break;case"textarea":_t(n),Pn(n);break;case"option":m.value!=null&&n.setAttribute("value",""+Me(m.value));break;case"select":n.multiple=!!m.multiple,I=m.value,I!=null?ve(n,!!m.multiple,I,!1):m.defaultValue!=null&&ve(n,!!m.multiple,m.defaultValue,!0);break;default:typeof S.onClick=="function"&&(n.onclick=Sl)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Qn(a),null;case 6:if(n&&a.stateNode!=null)v0(n,a,n.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(s(166));if(d=zs(ga.current),zs(li.current),_l(a)){if(m=a.stateNode,d=a.memoizedProps,m[ai]=a,(I=m.nodeValue!==d)&&(n=Sr,n!==null))switch(n.tag){case 3:Al(m.nodeValue,d,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Al(m.nodeValue,d,(n.mode&1)!==0)}I&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[ai]=a,a.stateNode=m}return Qn(a),null;case 13:if(Xt(tn),m=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(qt&&Tr!==null&&a.mode&1&&!(a.flags&128))Ah(),wo(),a.flags|=98560,I=!1;else if(I=_l(a),m!==null&&m.dehydrated!==null){if(n===null){if(!I)throw Error(s(318));if(I=a.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(s(317));I[ai]=a}else wo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Qn(a),I=!1}else Kr!==null&&(nf(Kr),Kr=null),I=!0;if(!I)return a.flags&65536?a:null}return a.flags&128?(a.lanes=d,a):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(n===null||tn.current&1?Nn===0&&(Nn=3):of())),a.updateQueue!==null&&(a.flags|=4),Qn(a),null);case 4:return Ao(),Gc(n,a),n===null&&la(a.stateNode.containerInfo),Qn(a),null;case 10:return wc(a.type._context),Qn(a),null;case 17:return cr(a.type)&&Il(),Qn(a),null;case 19:if(Xt(tn),I=a.memoizedState,I===null)return Qn(a),null;if(m=(a.flags&128)!==0,D=I.rendering,D===null)if(m)va(I,!1);else{if(Nn!==0||n!==null&&n.flags&128)for(n=a.child;n!==null;){if(D=Bl(n),D!==null){for(a.flags|=128,va(I,!1),m=D.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)I=d,n=m,I.flags&=14680066,D=I.alternate,D===null?(I.childLanes=0,I.lanes=n,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=D.childLanes,I.lanes=D.lanes,I.child=D.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=D.memoizedProps,I.memoizedState=D.memoizedState,I.updateQueue=D.updateQueue,I.type=D.type,n=D.dependencies,I.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),d=d.sibling;return Ht(tn,tn.current&1|2),a.child}n=n.sibling}I.tail!==null&&Rt()>bo&&(a.flags|=128,m=!0,va(I,!1),a.lanes=4194304)}else{if(!m)if(n=Bl(D),n!==null){if(a.flags|=128,m=!0,d=n.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),va(I,!0),I.tail===null&&I.tailMode==="hidden"&&!D.alternate&&!qt)return Qn(a),null}else 2*Rt()-I.renderingStartTime>bo&&d!==1073741824&&(a.flags|=128,m=!0,va(I,!1),a.lanes=4194304);I.isBackwards?(D.sibling=a.child,a.child=D):(d=I.last,d!==null?d.sibling=D:a.child=D,I.last=D)}return I.tail!==null?(a=I.tail,I.rendering=a,I.tail=a.sibling,I.renderingStartTime=Rt(),a.sibling=null,d=tn.current,Ht(tn,m?d&1|2:d&1),a):(Qn(a),null);case 22:case 23:return sf(),m=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?Ir&1073741824&&(Qn(a),a.subtreeFlags&6&&(a.flags|=8192)):Qn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function Yx(n,a){switch(hc(a),a.tag){case 1:return cr(a.type)&&Il(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Ao(),Xt(ur),Xt(Zn),Ic(),n=a.flags,n&65536&&!(n&128)?(a.flags=n&-65537|128,a):null;case 5:return Sc(a),null;case 13:if(Xt(tn),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));wo()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return Xt(tn),null;case 4:return Ao(),null;case 10:return wc(a.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var Yl=!1,$n=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,Be=null;function To(n,a){var d=n.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){ln(n,a,m)}else d.current=null}function Yc(n,a,d){try{d()}catch(m){ln(n,a,m)}}var C0=!1;function Zx(n,a){if(ic=si,n=ct(),rt(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var S=m.anchorOffset,I=m.focusNode;m=m.focusOffset;try{d.nodeType,I.nodeType}catch{d=null;break e}var D=0,W=-1,Y=-1,le=0,ye=0,Ce=n,ge=null;t:for(;;){for(var Pe;Ce!==d||S!==0&&Ce.nodeType!==3||(W=D+S),Ce!==I||m!==0&&Ce.nodeType!==3||(Y=D+m),Ce.nodeType===3&&(D+=Ce.nodeValue.length),(Pe=Ce.firstChild)!==null;)ge=Ce,Ce=Pe;for(;;){if(Ce===n)break t;if(ge===d&&++le===S&&(W=D),ge===I&&++ye===m&&(Y=D),(Pe=Ce.nextSibling)!==null)break;Ce=ge,ge=Ce.parentNode}Ce=Pe}d=W===-1||Y===-1?null:{start:W,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(sc={focusedElem:n,selectionRange:d},si=!1,Be=a;Be!==null;)if(a=Be,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Be=n;else for(;Be!==null;){a=Be;try{var Fe=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var je=Fe.memoizedProps,xn=Fe.memoizedState,ee=a.stateNode,K=ee.getSnapshotBeforeUpdate(a.elementType===a.type?je:Qr(a.type,je),xn);ee.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ie){ln(a,a.return,Ie)}if(n=a.sibling,n!==null){n.return=a.return,Be=n;break}Be=a.return}return Fe=C0,C0=!1,Fe}function Ca(n,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&n)===n){var I=S.destroy;S.destroy=void 0,I!==void 0&&Yc(a,d,I)}S=S.next}while(S!==m)}}function Xl(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&n)===n){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function Xc(n){var a=n.ref;if(a!==null){var d=n.stateNode;switch(n.tag){case 5:n=d;break;default:n=d}typeof a=="function"?a(n):a.current=n}}function E0(n){var a=n.alternate;a!==null&&(n.alternate=null,E0(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[ai],delete a[ca],delete a[uc],delete a[Mx],delete a[_x])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function A0(n){return n.tag===5||n.tag===3||n.tag===4}function S0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||A0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zc(n,a,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(n,a):d.insertBefore(n,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(n,d)):(a=d,a.appendChild(n)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Sl));else if(m!==4&&(n=n.child,n!==null))for(Zc(n,a,d),n=n.sibling;n!==null;)Zc(n,a,d),n=n.sibling}function Kc(n,a,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,a?d.insertBefore(n,a):d.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Kc(n,a,d),n=n.sibling;n!==null;)Kc(n,a,d),n=n.sibling}var Un=null,$r=!1;function us(n,a,d){for(d=d.child;d!==null;)T0(n,a,d),d=d.sibling}function T0(n,a,d){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(mt,d)}catch{}switch(d.tag){case 5:$n||To(d,a);case 6:var m=Un,S=$r;Un=null,us(n,a,d),Un=m,$r=S,Un!==null&&($r?(n=Un,d=d.stateNode,n.nodeType===8?n.parentNode.removeChild(d):n.removeChild(d)):Un.removeChild(d.stateNode));break;case 18:Un!==null&&($r?(n=Un,d=d.stateNode,n.nodeType===8?lc(n.parentNode,d):n.nodeType===1&&lc(n,d),Yr(n)):lc(Un,d.stateNode));break;case 4:m=Un,S=$r,Un=d.stateNode.containerInfo,$r=!0,us(n,a,d),Un=m,$r=S;break;case 0:case 11:case 14:case 15:if(!$n&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){S=m=m.next;do{var I=S,D=I.destroy;I=I.tag,D!==void 0&&(I&2||I&4)&&Yc(d,a,D),S=S.next}while(S!==m)}us(n,a,d);break;case 1:if(!$n&&(To(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(W){ln(d,a,W)}us(n,a,d);break;case 21:us(n,a,d);break;case 22:d.mode&1?($n=(m=$n)||d.memoizedState!==null,us(n,a,d),$n=m):us(n,a,d);break;default:us(n,a,d)}}function I0(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var d=n.stateNode;d===null&&(d=n.stateNode=new Xx),a.forEach(function(m){var S=r2.bind(null,n,m);d.has(m)||(d.add(m),m.then(S,S))})}}function qr(n,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var S=d[m];try{var I=n,D=a,W=D;e:for(;W!==null;){switch(W.tag){case 5:Un=W.stateNode,$r=!1;break e;case 3:Un=W.stateNode.containerInfo,$r=!0;break e;case 4:Un=W.stateNode.containerInfo,$r=!0;break e}W=W.return}if(Un===null)throw Error(s(160));T0(I,D,S),Un=null,$r=!1;var Y=S.alternate;Y!==null&&(Y.return=null),S.return=null}catch(le){ln(S,a,le)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)b0(a,n),a=a.sibling}function b0(n,a){var d=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(qr(a,n),ci(n),m&4){try{Ca(3,n,n.return),Xl(3,n)}catch(je){ln(n,n.return,je)}try{Ca(5,n,n.return)}catch(je){ln(n,n.return,je)}}break;case 1:qr(a,n),ci(n),m&512&&d!==null&&To(d,d.return);break;case 5:if(qr(a,n),ci(n),m&512&&d!==null&&To(d,d.return),n.flags&32){var S=n.stateNode;try{Ln(S,"")}catch(je){ln(n,n.return,je)}}if(m&4&&(S=n.stateNode,S!=null)){var I=n.memoizedProps,D=d!==null?d.memoizedProps:I,W=n.type,Y=n.updateQueue;if(n.updateQueue=null,Y!==null)try{W==="input"&&I.type==="radio"&&I.name!=null&&gr(S,I),kt(W,D);var le=kt(W,I);for(D=0;D<Y.length;D+=2){var ye=Y[D],Ce=Y[D+1];ye==="style"?be(S,Ce):ye==="dangerouslySetInnerHTML"?Lt(S,Ce):ye==="children"?Ln(S,Ce):V(S,ye,Ce,le)}switch(W){case"input":xt(S,I);break;case"textarea":St(S,I);break;case"select":var ge=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!I.multiple;var Pe=I.value;Pe!=null?ve(S,!!I.multiple,Pe,!1):ge!==!!I.multiple&&(I.defaultValue!=null?ve(S,!!I.multiple,I.defaultValue,!0):ve(S,!!I.multiple,I.multiple?[]:"",!1))}S[ca]=I}catch(je){ln(n,n.return,je)}}break;case 6:if(qr(a,n),ci(n),m&4){if(n.stateNode===null)throw Error(s(162));S=n.stateNode,I=n.memoizedProps;try{S.nodeValue=I}catch(je){ln(n,n.return,je)}}break;case 3:if(qr(a,n),ci(n),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Yr(a.containerInfo)}catch(je){ln(n,n.return,je)}break;case 4:qr(a,n),ci(n);break;case 13:qr(a,n),ci(n),S=n.child,S.flags&8192&&(I=S.memoizedState!==null,S.stateNode.isHidden=I,!I||S.alternate!==null&&S.alternate.memoizedState!==null||(qc=Rt())),m&4&&I0(n);break;case 22:if(ye=d!==null&&d.memoizedState!==null,n.mode&1?($n=(le=$n)||ye,qr(a,n),$n=le):qr(a,n),ci(n),m&8192){if(le=n.memoizedState!==null,(n.stateNode.isHidden=le)&&!ye&&n.mode&1)for(Be=n,ye=n.child;ye!==null;){for(Ce=Be=ye;Be!==null;){switch(ge=Be,Pe=ge.child,ge.tag){case 0:case 11:case 14:case 15:Ca(4,ge,ge.return);break;case 1:To(ge,ge.return);var Fe=ge.stateNode;if(typeof Fe.componentWillUnmount=="function"){m=ge,d=ge.return;try{a=m,Fe.props=a.memoizedProps,Fe.state=a.memoizedState,Fe.componentWillUnmount()}catch(je){ln(m,d,je)}}break;case 5:To(ge,ge.return);break;case 22:if(ge.memoizedState!==null){M0(Ce);continue}}Pe!==null?(Pe.return=ge,Be=Pe):M0(Ce)}ye=ye.sibling}e:for(ye=null,Ce=n;;){if(Ce.tag===5){if(ye===null){ye=Ce;try{S=Ce.stateNode,le?(I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(W=Ce.stateNode,Y=Ce.memoizedProps.style,D=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=It("display",D))}catch(je){ln(n,n.return,je)}}}else if(Ce.tag===6){if(ye===null)try{Ce.stateNode.nodeValue=le?"":Ce.memoizedProps}catch(je){ln(n,n.return,je)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===n)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===n)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===n)break e;ye===Ce&&(ye=null),Ce=Ce.return}ye===Ce&&(ye=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:qr(a,n),ci(n),m&4&&I0(n);break;case 21:break;default:qr(a,n),ci(n)}}function ci(n){var a=n.flags;if(a&2){try{e:{for(var d=n.return;d!==null;){if(A0(d)){var m=d;break e}d=d.return}throw Error(s(160))}switch(m.tag){case 5:var S=m.stateNode;m.flags&32&&(Ln(S,""),m.flags&=-33);var I=S0(n);Kc(n,I,S);break;case 3:case 4:var D=m.stateNode.containerInfo,W=S0(n);Zc(n,W,D);break;default:throw Error(s(161))}}catch(Y){ln(n,n.return,Y)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Kx(n,a,d){Be=n,N0(n)}function N0(n,a,d){for(var m=(n.mode&1)!==0;Be!==null;){var S=Be,I=S.child;if(S.tag===22&&m){var D=S.memoizedState!==null||Yl;if(!D){var W=S.alternate,Y=W!==null&&W.memoizedState!==null||$n;W=Yl;var le=$n;if(Yl=D,($n=Y)&&!le)for(Be=S;Be!==null;)D=Be,Y=D.child,D.tag===22&&D.memoizedState!==null?_0(S):Y!==null?(Y.return=D,Be=Y):_0(S);for(;I!==null;)Be=I,N0(I),I=I.sibling;Be=S,Yl=W,$n=le}R0(n)}else S.subtreeFlags&8772&&I!==null?(I.return=S,Be=I):R0(n)}}function R0(n){for(;Be!==null;){var a=Be;if(a.flags&8772){var d=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:$n||Xl(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!$n)if(d===null)m.componentDidMount();else{var S=a.elementType===a.type?d.memoizedProps:Qr(a.type,d.memoizedProps);m.componentDidUpdate(S,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var I=a.updateQueue;I!==null&&Mh(a,I,m);break;case 3:var D=a.updateQueue;if(D!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}Mh(a,D,d)}break;case 5:var W=a.stateNode;if(d===null&&a.flags&4){d=W;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&d.focus();break;case"img":Y.src&&(d.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var le=a.alternate;if(le!==null){var ye=le.memoizedState;if(ye!==null){var Ce=ye.dehydrated;Ce!==null&&Yr(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}$n||a.flags&512&&Xc(a)}catch(ge){ln(a,a.return,ge)}}if(a===n){Be=null;break}if(d=a.sibling,d!==null){d.return=a.return,Be=d;break}Be=a.return}}function M0(n){for(;Be!==null;){var a=Be;if(a===n){Be=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Be=d;break}Be=a.return}}function _0(n){for(;Be!==null;){var a=Be;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Xl(4,a)}catch(Y){ln(a,d,Y)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var S=a.return;try{m.componentDidMount()}catch(Y){ln(a,S,Y)}}var I=a.return;try{Xc(a)}catch(Y){ln(a,I,Y)}break;case 5:var D=a.return;try{Xc(a)}catch(Y){ln(a,D,Y)}}}catch(Y){ln(a,a.return,Y)}if(a===n){Be=null;break}var W=a.sibling;if(W!==null){W.return=a.return,Be=W;break}Be=a.return}}var Qx=Math.ceil,Zl=ne.ReactCurrentDispatcher,Qc=ne.ReactCurrentOwner,Ur=ne.ReactCurrentBatchConfig,Et=0,Dn=null,Cn=null,zn=0,Ir=0,Io=is(0),Nn=0,Ea=null,Ws=0,Kl=0,$c=0,Aa=null,dr=null,qc=0,bo=1/0,ki=null,Ql=!1,Jc=null,cs=null,$l=!1,fs=null,ql=0,Sa=0,ef=null,Jl=-1,eu=0;function ir(){return Et&6?Rt():Jl!==-1?Jl:Jl=Rt()}function ds(n){return n.mode&1?Et&2&&zn!==0?zn&-zn:Ox.transition!==null?(eu===0&&(eu=An()),eu):(n=ut,n!==0||(n=window.event,n=n===void 0?16:$o(n.type)),n):1}function Jr(n,a,d,m){if(50<Sa)throw Sa=0,ef=null,Error(s(185));j(n,d,m),(!(Et&2)||n!==Dn)&&(n===Dn&&(!(Et&2)&&(Kl|=d),Nn===4&&hs(n,zn)),hr(n,m),d===1&&Et===0&&!(a.mode&1)&&(bo=Rt()+500,Nl&&os()))}function hr(n,a){var d=n.callbackNode;Xi(n,a);var m=vr(n,n===Dn?zn:0);if(m===0)d!==null&&Rn(d),n.callbackNode=null,n.callbackPriority=0;else if(a=m&-m,n.callbackPriority!==a){if(d!=null&&Rn(d),a===1)n.tag===0?Dx(O0.bind(null,n)):yh(O0.bind(null,n)),Nx(function(){!(Et&6)&&os()}),d=null;else{switch(ul(m)){case 1:d=de;break;case 4:d=al;break;case 16:d=Ft;break;case 536870912:d=ll;break;default:d=Ft}d=z0(d,D0.bind(null,n))}n.callbackPriority=a,n.callbackNode=d}}function D0(n,a){if(Jl=-1,eu=0,Et&6)throw Error(s(327));var d=n.callbackNode;if(No()&&n.callbackNode!==d)return null;var m=vr(n,n===Dn?zn:0);if(m===0)return null;if(m&30||m&n.expiredLanes||a)a=tu(n,m);else{a=m;var S=Et;Et|=2;var I=L0();(Dn!==n||zn!==a)&&(ki=null,bo=Rt()+500,Gs(n,a));do try{Jx();break}catch(W){P0(n,W)}while(!0);yc(),Zl.current=I,Et=S,Cn!==null?a=0:(Dn=null,zn=0,a=Nn)}if(a!==0){if(a===2&&(S=Mt(n),S!==0&&(m=S,a=tf(n,S))),a===1)throw d=Ea,Gs(n,0),hs(n,m),hr(n,Rt()),d;if(a===6)hs(n,m);else{if(S=n.current.alternate,!(m&30)&&!$x(S)&&(a=tu(n,m),a===2&&(I=Mt(n),I!==0&&(m=I,a=tf(n,I))),a===1))throw d=Ea,Gs(n,0),hs(n,m),hr(n,Rt()),d;switch(n.finishedWork=S,n.finishedLanes=m,a){case 0:case 1:throw Error(s(345));case 2:Ys(n,dr,ki);break;case 3:if(hs(n,m),(m&130023424)===m&&(a=qc+500-Rt(),10<a)){if(vr(n,0)!==0)break;if(S=n.suspendedLanes,(S&m)!==m){ir(),n.pingedLanes|=n.suspendedLanes&S;break}n.timeoutHandle=ac(Ys.bind(null,n,dr,ki),a);break}Ys(n,dr,ki);break;case 4:if(hs(n,m),(m&4194240)===m)break;for(a=n.eventTimes,S=-1;0<m;){var D=31-nr(m);I=1<<D,D=a[D],D>S&&(S=D),m&=~I}if(m=S,m=Rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Qx(m/1960))-m,10<m){n.timeoutHandle=ac(Ys.bind(null,n,dr,ki),m);break}Ys(n,dr,ki);break;case 5:Ys(n,dr,ki);break;default:throw Error(s(329))}}}return hr(n,Rt()),n.callbackNode===d?D0.bind(null,n):null}function tf(n,a){var d=Aa;return n.current.memoizedState.isDehydrated&&(Gs(n,a).flags|=256),n=tu(n,a),n!==2&&(a=dr,dr=d,a!==null&&nf(a)),n}function nf(n){dr===null?dr=n:dr.push.apply(dr,n)}function $x(n){for(var a=n;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var S=d[m],I=S.getSnapshot;S=S.value;try{if(!$(I(),S))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hs(n,a){for(a&=~$c,a&=~Kl,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var d=31-nr(a),m=1<<d;n[d]=-1,a&=~m}}function O0(n){if(Et&6)throw Error(s(327));No();var a=vr(n,0);if(!(a&1))return hr(n,Rt()),null;var d=tu(n,a);if(n.tag!==0&&d===2){var m=Mt(n);m!==0&&(a=m,d=tf(n,m))}if(d===1)throw d=Ea,Gs(n,0),hs(n,a),hr(n,Rt()),d;if(d===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,Ys(n,dr,ki),hr(n,Rt()),null}function rf(n,a){var d=Et;Et|=1;try{return n(a)}finally{Et=d,Et===0&&(bo=Rt()+500,Nl&&os())}}function Hs(n){fs!==null&&fs.tag===0&&!(Et&6)&&No();var a=Et;Et|=1;var d=Ur.transition,m=ut;try{if(Ur.transition=null,ut=1,n)return n()}finally{ut=m,Ur.transition=d,Et=a,!(Et&6)&&os()}}function sf(){Ir=Io.current,Xt(Io)}function Gs(n,a){n.finishedWork=null,n.finishedLanes=0;var d=n.timeoutHandle;if(d!==-1&&(n.timeoutHandle=-1,bx(d)),Cn!==null)for(d=Cn.return;d!==null;){var m=d;switch(hc(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Il();break;case 3:Ao(),Xt(ur),Xt(Zn),Ic();break;case 5:Sc(m);break;case 4:Ao();break;case 13:Xt(tn);break;case 19:Xt(tn);break;case 10:wc(m.type._context);break;case 22:case 23:sf()}d=d.return}if(Dn=n,Cn=n=ps(n.current,null),zn=Ir=a,Nn=0,Ea=null,$c=Kl=Ws=0,dr=Aa=null,Us!==null){for(a=0;a<Us.length;a++)if(d=Us[a],m=d.interleaved,m!==null){d.interleaved=null;var S=m.next,I=d.pending;if(I!==null){var D=I.next;I.next=S,m.next=D}d.pending=m}Us=null}return n}function P0(n,a){do{var d=Cn;try{if(yc(),Fl.current=Vl,jl){for(var m=nn.memoizedState;m!==null;){var S=m.queue;S!==null&&(S.pending=null),m=m.next}jl=!1}if(Vs=0,_n=bn=nn=null,ma=!1,xa=0,Qc.current=null,d===null||d.return===null){Nn=1,Ea=a,Cn=null;break}e:{var I=n,D=d.return,W=d,Y=a;if(a=zn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var le=Y,ye=W,Ce=ye.tag;if(!(ye.mode&1)&&(Ce===0||Ce===11||Ce===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Pe=s0(D);if(Pe!==null){Pe.flags&=-257,o0(Pe,D,W,I,a),Pe.mode&1&&i0(I,le,a),a=Pe,Y=le;var Fe=a.updateQueue;if(Fe===null){var je=new Set;je.add(Y),a.updateQueue=je}else Fe.add(Y);break e}else{if(!(a&1)){i0(I,le,a),of();break e}Y=Error(s(426))}}else if(qt&&W.mode&1){var xn=s0(D);if(xn!==null){!(xn.flags&65536)&&(xn.flags|=256),o0(xn,D,W,I,a),mc(So(Y,W));break e}}I=Y=So(Y,W),Nn!==4&&(Nn=2),Aa===null?Aa=[I]:Aa.push(I),I=D;do{switch(I.tag){case 3:I.flags|=65536,a&=-a,I.lanes|=a;var ee=n0(I,Y,a);Rh(I,ee);break e;case 1:W=Y;var K=I.type,ie=I.stateNode;if(!(I.flags&128)&&(typeof K.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(cs===null||!cs.has(ie)))){I.flags|=65536,a&=-a,I.lanes|=a;var Ie=r0(I,W,a);Rh(I,Ie);break e}}I=I.return}while(I!==null)}B0(d)}catch(ze){a=ze,Cn===d&&d!==null&&(Cn=d=d.return);continue}break}while(!0)}function L0(){var n=Zl.current;return Zl.current=Vl,n===null?Vl:n}function of(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Dn===null||!(Ws&268435455)&&!(Kl&268435455)||hs(Dn,zn)}function tu(n,a){var d=Et;Et|=2;var m=L0();(Dn!==n||zn!==a)&&(ki=null,Gs(n,a));do try{qx();break}catch(S){P0(n,S)}while(!0);if(yc(),Et=d,Zl.current=m,Cn!==null)throw Error(s(261));return Dn=null,zn=0,Nn}function qx(){for(;Cn!==null;)k0(Cn)}function Jx(){for(;Cn!==null&&!zt();)k0(Cn)}function k0(n){var a=U0(n.alternate,n,Ir);n.memoizedProps=n.pendingProps,a===null?B0(n):Cn=a,Qc.current=null}function B0(n){var a=n;do{var d=a.alternate;if(n=a.return,a.flags&32768){if(d=Yx(d,a),d!==null){d.flags&=32767,Cn=d;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nn=6,Cn=null;return}}else if(d=Gx(d,a,Ir),d!==null){Cn=d;return}if(a=a.sibling,a!==null){Cn=a;return}Cn=a=n}while(a!==null);Nn===0&&(Nn=5)}function Ys(n,a,d){var m=ut,S=Ur.transition;try{Ur.transition=null,ut=1,e2(n,a,d,m)}finally{Ur.transition=S,ut=m}return null}function e2(n,a,d,m){do No();while(fs!==null);if(Et&6)throw Error(s(327));d=n.finishedWork;var S=n.finishedLanes;if(d===null)return null;if(n.finishedWork=null,n.finishedLanes=0,d===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var I=d.lanes|d.childLanes;if(He(n,I),n===Dn&&(Cn=Dn=null,zn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||$l||($l=!0,z0(Ft,function(){return No(),null})),I=(d.flags&15990)!==0,d.subtreeFlags&15990||I){I=Ur.transition,Ur.transition=null;var D=ut;ut=1;var W=Et;Et|=4,Qc.current=null,Zx(n,d),b0(d,n),Xn(sc),si=!!ic,sc=ic=null,n.current=d,Kx(d),ol(),Et=W,ut=D,Ur.transition=I}else n.current=d;if($l&&($l=!1,fs=n,ql=S),I=n.pendingLanes,I===0&&(cs=null),ht(d.stateNode),hr(n,Rt()),a!==null)for(m=n.onRecoverableError,d=0;d<a.length;d++)S=a[d],m(S.value,{componentStack:S.stack,digest:S.digest});if(Ql)throw Ql=!1,n=Jc,Jc=null,n;return ql&1&&n.tag!==0&&No(),I=n.pendingLanes,I&1?n===ef?Sa++:(Sa=0,ef=n):Sa=0,os(),null}function No(){if(fs!==null){var n=ul(ql),a=Ur.transition,d=ut;try{if(Ur.transition=null,ut=16>n?16:n,fs===null)var m=!1;else{if(n=fs,fs=null,ql=0,Et&6)throw Error(s(331));var S=Et;for(Et|=4,Be=n.current;Be!==null;){var I=Be,D=I.child;if(Be.flags&16){var W=I.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var le=W[Y];for(Be=le;Be!==null;){var ye=Be;switch(ye.tag){case 0:case 11:case 15:Ca(8,ye,I)}var Ce=ye.child;if(Ce!==null)Ce.return=ye,Be=Ce;else for(;Be!==null;){ye=Be;var ge=ye.sibling,Pe=ye.return;if(E0(ye),ye===le){Be=null;break}if(ge!==null){ge.return=Pe,Be=ge;break}Be=Pe}}}var Fe=I.alternate;if(Fe!==null){var je=Fe.child;if(je!==null){Fe.child=null;do{var xn=je.sibling;je.sibling=null,je=xn}while(je!==null)}}Be=I}}if(I.subtreeFlags&2064&&D!==null)D.return=I,Be=D;else e:for(;Be!==null;){if(I=Be,I.flags&2048)switch(I.tag){case 0:case 11:case 15:Ca(9,I,I.return)}var ee=I.sibling;if(ee!==null){ee.return=I.return,Be=ee;break e}Be=I.return}}var K=n.current;for(Be=K;Be!==null;){D=Be;var ie=D.child;if(D.subtreeFlags&2064&&ie!==null)ie.return=D,Be=ie;else e:for(D=K;Be!==null;){if(W=Be,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Xl(9,W)}}catch(ze){ln(W,W.return,ze)}if(W===D){Be=null;break e}var Ie=W.sibling;if(Ie!==null){Ie.return=W.return,Be=Ie;break e}Be=W.return}}if(Et=S,os(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(mt,n)}catch{}m=!0}return m}finally{ut=d,Ur.transition=a}}return!1}function F0(n,a,d){a=So(d,a),a=n0(n,a,1),n=ls(n,a,1),a=ir(),n!==null&&(j(n,1,a),hr(n,a))}function ln(n,a,d){if(n.tag===3)F0(n,n,d);else for(;a!==null;){if(a.tag===3){F0(a,n,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(cs===null||!cs.has(m))){n=So(d,n),n=r0(a,n,1),a=ls(a,n,1),n=ir(),a!==null&&(j(a,1,n),hr(a,n));break}}a=a.return}}function t2(n,a,d){var m=n.pingCache;m!==null&&m.delete(a),a=ir(),n.pingedLanes|=n.suspendedLanes&d,Dn===n&&(zn&d)===d&&(Nn===4||Nn===3&&(zn&130023424)===zn&&500>Rt()-qc?Gs(n,0):$c|=d),hr(n,a)}function j0(n,a){a===0&&(n.mode&1?(a=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):a=1);var d=ir();n=Oi(n,a),n!==null&&(j(n,a,d),hr(n,d))}function n2(n){var a=n.memoizedState,d=0;a!==null&&(d=a.retryLane),j0(n,d)}function r2(n,a){var d=0;switch(n.tag){case 13:var m=n.stateNode,S=n.memoizedState;S!==null&&(d=S.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(s(314))}m!==null&&m.delete(a),j0(n,d)}var U0;U0=function(n,a,d){if(n!==null)if(n.memoizedProps!==a.pendingProps||ur.current)fr=!0;else{if(!(n.lanes&d)&&!(a.flags&128))return fr=!1,Hx(n,a,d);fr=!!(n.flags&131072)}else fr=!1,qt&&a.flags&1048576&&wh(a,Ml,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Gl(n,a),n=a.pendingProps;var S=mo(a,Zn.current);Eo(a,d),S=Rc(null,a,m,n,S,d);var I=Mc();return a.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,cr(m)?(I=!0,bl(a)):I=!1,a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,Ec(a),S.updater=Wl,a.stateNode=S,S._reactInternals=a,kc(a,m,n,d),a=Uc(null,a,m,!0,I,d)):(a.tag=0,qt&&I&&dc(a),rr(null,a,S,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Gl(n,a),n=a.pendingProps,S=m._init,m=S(m._payload),a.type=m,S=a.tag=s2(m),n=Qr(m,n),S){case 0:a=jc(null,a,m,n,d);break e;case 1:a=d0(null,a,m,n,d);break e;case 11:a=a0(null,a,m,n,d);break e;case 14:a=l0(null,a,m,Qr(m.type,n),d);break e}throw Error(s(306,m,""))}return a;case 0:return m=a.type,S=a.pendingProps,S=a.elementType===m?S:Qr(m,S),jc(n,a,m,S,d);case 1:return m=a.type,S=a.pendingProps,S=a.elementType===m?S:Qr(m,S),d0(n,a,m,S,d);case 3:e:{if(h0(a),n===null)throw Error(s(387));m=a.pendingProps,I=a.memoizedState,S=I.element,Nh(n,a),kl(a,m,null,d);var D=a.memoizedState;if(m=D.element,I.isDehydrated)if(I={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},a.updateQueue.baseState=I,a.memoizedState=I,a.flags&256){S=So(Error(s(423)),a),a=p0(n,a,m,d,S);break e}else if(m!==S){S=So(Error(s(424)),a),a=p0(n,a,m,d,S);break e}else for(Tr=rs(a.stateNode.containerInfo.firstChild),Sr=a,qt=!0,Kr=null,d=Ih(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(wo(),m===S){a=Li(n,a,d);break e}rr(n,a,m,d)}a=a.child}return a;case 5:return _h(a),n===null&&gc(a),m=a.type,S=a.pendingProps,I=n!==null?n.memoizedProps:null,D=S.children,oc(m,S)?D=null:I!==null&&oc(m,I)&&(a.flags|=32),f0(n,a),rr(n,a,D,d),a.child;case 6:return n===null&&gc(a),null;case 13:return g0(n,a,d);case 4:return Ac(a,a.stateNode.containerInfo),m=a.pendingProps,n===null?a.child=vo(a,null,m,d):rr(n,a,m,d),a.child;case 11:return m=a.type,S=a.pendingProps,S=a.elementType===m?S:Qr(m,S),a0(n,a,m,S,d);case 7:return rr(n,a,a.pendingProps,d),a.child;case 8:return rr(n,a,a.pendingProps.children,d),a.child;case 12:return rr(n,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,S=a.pendingProps,I=a.memoizedProps,D=S.value,Ht(Ol,m._currentValue),m._currentValue=D,I!==null)if($(I.value,D)){if(I.children===S.children&&!ur.current){a=Li(n,a,d);break e}}else for(I=a.child,I!==null&&(I.return=a);I!==null;){var W=I.dependencies;if(W!==null){D=I.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===m){if(I.tag===1){Y=Pi(-1,d&-d),Y.tag=2;var le=I.updateQueue;if(le!==null){le=le.shared;var ye=le.pending;ye===null?Y.next=Y:(Y.next=ye.next,ye.next=Y),le.pending=Y}}I.lanes|=d,Y=I.alternate,Y!==null&&(Y.lanes|=d),vc(I.return,d,a),W.lanes|=d;break}Y=Y.next}}else if(I.tag===10)D=I.type===a.type?null:I.child;else if(I.tag===18){if(D=I.return,D===null)throw Error(s(341));D.lanes|=d,W=D.alternate,W!==null&&(W.lanes|=d),vc(D,d,a),D=I.sibling}else D=I.child;if(D!==null)D.return=I;else for(D=I;D!==null;){if(D===a){D=null;break}if(I=D.sibling,I!==null){I.return=D.return,D=I;break}D=D.return}I=D}rr(n,a,S.children,d),a=a.child}return a;case 9:return S=a.type,m=a.pendingProps.children,Eo(a,d),S=Fr(S),m=m(S),a.flags|=1,rr(n,a,m,d),a.child;case 14:return m=a.type,S=Qr(m,a.pendingProps),S=Qr(m.type,S),l0(n,a,m,S,d);case 15:return u0(n,a,a.type,a.pendingProps,d);case 17:return m=a.type,S=a.pendingProps,S=a.elementType===m?S:Qr(m,S),Gl(n,a),a.tag=1,cr(m)?(n=!0,bl(a)):n=!1,Eo(a,d),e0(a,m,S),kc(a,m,S,d),Uc(null,a,m,!0,n,d);case 19:return x0(n,a,d);case 22:return c0(n,a,d)}throw Error(s(156,a.tag))};function z0(n,a){return yr(n,a)}function i2(n,a,d,m){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(n,a,d,m){return new i2(n,a,d,m)}function af(n){return n=n.prototype,!(!n||!n.isReactComponent)}function s2(n){if(typeof n=="function")return af(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ne)return 11;if(n===Q)return 14}return 2}function ps(n,a){var d=n.alternate;return d===null?(d=zr(n.tag,a,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=a,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&14680064,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,a=n.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d}function nu(n,a,d,m,S,I){var D=2;if(m=n,typeof n=="function")af(n)&&(D=1);else if(typeof n=="string")D=5;else e:switch(n){case q:return Xs(d.children,S,I,a);case ue:D=8,S|=8;break;case te:return n=zr(12,d,a,S|2),n.elementType=te,n.lanes=I,n;case Ge:return n=zr(13,d,a,S),n.elementType=Ge,n.lanes=I,n;case Re:return n=zr(19,d,a,S),n.elementType=Re,n.lanes=I,n;case Se:return ru(d,S,I,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _e:D=10;break e;case Le:D=9;break e;case Ne:D=11;break e;case Q:D=14;break e;case Ve:D=16,m=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return a=zr(D,d,a,S),a.elementType=n,a.type=m,a.lanes=I,a}function Xs(n,a,d,m){return n=zr(7,n,m,a),n.lanes=d,n}function ru(n,a,d,m){return n=zr(22,n,m,a),n.elementType=Se,n.lanes=d,n.stateNode={isHidden:!1},n}function lf(n,a,d){return n=zr(6,n,null,a),n.lanes=d,n}function uf(n,a,d){return a=zr(4,n.children!==null?n.children:[],n.key,a),a.lanes=d,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function o2(n,a,d,m,S){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=J(0),this.expirationTimes=J(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J(0),this.identifierPrefix=m,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function cf(n,a,d,m,S,I,D,W,Y){return n=new o2(n,a,d,W,Y),a===1?(a=1,I===!0&&(a|=8)):a=0,I=zr(3,null,null,a),n.current=I,I.stateNode=n,I.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ec(I),n}function a2(n,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:m==null?null:""+m,children:n,containerInfo:a,implementation:d}}function V0(n){if(!n)return ss;n=n._reactInternals;e:{if(lr(n)!==n||n.tag!==1)throw Error(s(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(cr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(n.tag===1){var d=n.type;if(cr(d))return mh(n,d,a)}return a}function W0(n,a,d,m,S,I,D,W,Y){return n=cf(d,m,!0,n,S,I,D,W,Y),n.context=V0(null),d=n.current,m=ir(),S=ds(d),I=Pi(m,S),I.callback=a??null,ls(d,I,S),n.current.lanes=S,j(n,S,m),hr(n,m),n}function iu(n,a,d,m){var S=a.current,I=ir(),D=ds(S);return d=V0(d),a.context===null?a.context=d:a.pendingContext=d,a=Pi(I,D),a.payload={element:n},m=m===void 0?null:m,m!==null&&(a.callback=m),n=ls(S,a,D),n!==null&&(Jr(n,S,D,I),Ll(n,S,D)),D}function su(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function H0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<a?d:a}}function ff(n,a){H0(n,a),(n=n.alternate)&&H0(n,a)}function l2(){return null}var G0=typeof reportError=="function"?reportError:function(n){console.error(n)};function df(n){this._internalRoot=n}ou.prototype.render=df.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));iu(n,a,null,null)},ou.prototype.unmount=df.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Hs(function(){iu(null,n,null,null)}),a[Ri]=null}};function ou(n){this._internalRoot=n}ou.prototype.unstable_scheduleHydration=function(n){if(n){var a=Vt();n={blockedOn:null,target:n,priority:a};for(var d=0;d<Bn.length&&a!==0&&a<Bn[d].priority;d++);Bn.splice(d,0,n),d===0&&fl(n)}};function hf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function au(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function u2(n,a,d,m,S){if(S){if(typeof m=="function"){var I=m;m=function(){var le=su(D);I.call(le)}}var D=W0(a,m,n,0,null,!1,!1,"",Y0);return n._reactRootContainer=D,n[Ri]=D.current,la(n.nodeType===8?n.parentNode:n),Hs(),D}for(;S=n.lastChild;)n.removeChild(S);if(typeof m=="function"){var W=m;m=function(){var le=su(Y);W.call(le)}}var Y=cf(n,0,!1,null,null,!1,!1,"",Y0);return n._reactRootContainer=Y,n[Ri]=Y.current,la(n.nodeType===8?n.parentNode:n),Hs(function(){iu(a,Y,d,m)}),Y}function lu(n,a,d,m,S){var I=d._reactRootContainer;if(I){var D=I;if(typeof S=="function"){var W=S;S=function(){var Y=su(D);W.call(Y)}}iu(a,D,n,S)}else D=u2(d,a,n,S,m);return su(D)}io=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var d=jt(a.pendingLanes);d!==0&&(on(a,d|1),hr(a,Rt()),!(Et&6)&&(bo=Rt()+500,os()))}break;case 13:Hs(function(){var m=Oi(n,1);if(m!==null){var S=ir();Jr(m,n,1,S)}}),ff(n,1)}},Yn=function(n){if(n.tag===13){var a=Oi(n,134217728);if(a!==null){var d=ir();Jr(a,n,134217728,d)}ff(n,134217728)}},Xe=function(n){if(n.tag===13){var a=ds(n),d=Oi(n,a);if(d!==null){var m=ir();Jr(d,n,a,m)}ff(n,a)}},Vt=function(){return ut},Zo=function(n,a){var d=ut;try{return ut=n,a()}finally{ut=d}},Ai=function(n,a,d){switch(a){case"input":if(xt(n,d),a=d.name,d.type==="radio"&&a!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==n&&m.form===n.form){var S=Tl(m);if(!S)throw Error(s(90));er(m),xt(m,S)}}}break;case"textarea":St(n,d);break;case"select":a=d.value,a!=null&&ve(n,!!d.multiple,a,!1)}},En=rf,dn=Hs;var c2={usingClientEntryPoint:!1,Events:[fa,po,Tl,wn,Ye,rf]},Ta={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f2={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=il(n),n===null?null:n.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||l2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{mt=uu.inject(f2),lt=uu}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c2,pr.createPortal=function(n,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(a))throw Error(s(200));return a2(n,a,null,d)},pr.createRoot=function(n,a){if(!hf(n))throw Error(s(299));var d=!1,m="",S=G0;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),a=cf(n,1,!1,null,null,d,!1,m,S),n[Ri]=a.current,la(n.nodeType===8?n.parentNode:n),new df(a)},pr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=il(a),n=n===null?null:n.stateNode,n},pr.flushSync=function(n){return Hs(n)},pr.hydrate=function(n,a,d){if(!au(a))throw Error(s(200));return lu(null,n,a,!0,d)},pr.hydrateRoot=function(n,a,d){if(!hf(n))throw Error(s(405));var m=d!=null&&d.hydratedSources||null,S=!1,I="",D=G0;if(d!=null&&(d.unstable_strictMode===!0&&(S=!0),d.identifierPrefix!==void 0&&(I=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),a=W0(a,null,n,1,d??null,S,!1,I,D),n[Ri]=a.current,la(n),m)for(n=0;n<m.length;n++)d=m[n],S=d._getVersion,S=S(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,S]:a.mutableSourceEagerHydrationData.push(d,S);return new ou(a)},pr.render=function(n,a,d){if(!au(a))throw Error(s(200));return lu(null,n,a,!1,d)},pr.unmountComponentAtNode=function(n){if(!au(n))throw Error(s(40));return n._reactRootContainer?(Hs(function(){lu(null,null,n,!1,function(){n._reactRootContainer=null,n[Ri]=null})}),!0):!1},pr.unstable_batchedUpdates=rf,pr.unstable_renderSubtreeIntoContainer=function(n,a,d,m){if(!au(d))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return lu(n,a,d,!1,m)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var e1;function v2(){if(e1)return mf.exports;e1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),mf.exports=w2(),mf.exports}var t1;function C2(){if(t1)return fu;t1=1;var t=v2();return fu.createRoot=t.createRoot,fu.hydrateRoot=t.hydrateRoot,fu}var E2=C2();const xi=L.createContext(null),A2=({children:t})=>{const[i,s]=L.useState(null),[c,h]=L.useState(null),[p,y]=L.useState(null),[C,v]=L.useState(null),[x,E]=L.useState(!1),[T,N]=L.useState(null),O=async()=>{const z=localStorage.getItem("access_token");if(z)try{const H=await fetch(window.server_url+"/load_user",{headers:{Authorization:`Bearer ${z}`}});if(H.ok){E(!0);const V=await H.json();console.log("USER DATA:",V),s(V.username),h(V.profile),N(V.permissions),console.log("PERMISSIONS:",V.permissions)}else console.log("TOKEN INVALID"),localStorage.removeItem("token"),s(null),h(null),y(null),v(null),E(!1)}catch(H){console.log("ERROR:",H)}};L.useEffect(()=>{O()},[]);const k=z=>{s(z.username),y(z.access_token),v(z.refresh_token),N(z.permissions),console.log("PRE SAVE USERNAME:",z.username),localStorage.setItem("user",z.username),localStorage.setItem("access_token",z.access_token),localStorage.setItem("refresh_token",z.refresh_token)},B=async(z,H)=>{const V=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:z,password:H})});if(V.ok){const ne=await V.json();console.log("SIGNED UP, userData:",ne)}},F=()=>{s(null),h(null),y(null),v(null),E(!1)};return _.jsx(xi.Provider,{value:{user:i,login:k,signup:B,logout:F,userProfile:c,checkAuth:O,permissions:T},children:t})};var Ff=function(t,i){return Ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(s[h]=c[h])},Ff(t,i)};function S2(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Ff(t,i);function s(){this.constructor=t}t.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}var Vn=function(){return Vn=Object.assign||function(i){for(var s,c=1,h=arguments.length;c<h;c++){s=arguments[c];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(i[p]=s[p])}return i},Vn.apply(this,arguments)};var wf,n1;function T2(){if(n1)return wf;n1=1;var t=!1,i,s,c,h,p,y,C,v,x,E,T,N,O,k,B;function F(){if(!t){t=!0;var H=navigator.userAgent,V=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(H),ne=/(Mac OS X)|(Windows)|(Linux)/.exec(H);if(N=/\b(iPhone|iP[ao]d)/.exec(H),O=/\b(iP[ao]d)/.exec(H),E=/Android/i.exec(H),k=/FBAN\/\w+;/i.exec(H),B=/Mobile/i.exec(H),T=!!/Win64/.exec(H),V){i=V[1]?parseFloat(V[1]):V[5]?parseFloat(V[5]):NaN,i&&document&&document.documentMode&&(i=document.documentMode);var se=/(?:Trident\/(\d+.\d+))/.exec(H);y=se?parseFloat(se[1])+4:i,s=V[2]?parseFloat(V[2]):NaN,c=V[3]?parseFloat(V[3]):NaN,h=V[4]?parseFloat(V[4]):NaN,h?(V=/(?:Chrome\/(\d+\.\d+))/.exec(H),p=V&&V[1]?parseFloat(V[1]):NaN):p=NaN}else i=s=c=p=h=NaN;if(ne){if(ne[1]){var ce=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(H);C=ce?parseFloat(ce[1].replace("_",".")):!0}else C=!1;v=!!ne[2],x=!!ne[3]}else C=v=x=!1}}var z={ie:function(){return F()||i},ieCompatibilityMode:function(){return F()||y>i},ie64:function(){return z.ie()&&T},firefox:function(){return F()||s},opera:function(){return F()||c},webkit:function(){return F()||h},safari:function(){return z.webkit()},chrome:function(){return F()||p},windows:function(){return F()||v},osx:function(){return F()||C},linux:function(){return F()||x},iphone:function(){return F()||N},mobile:function(){return F()||N||O||E||B},nativeApp:function(){return F()||k},android:function(){return F()||E},ipad:function(){return F()||O}};return wf=z,wf}var vf,r1;function I2(){if(r1)return vf;r1=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return vf=i,vf}var Cf,i1;function b2(){if(i1)return Cf;i1=1;var t=I2(),i;t.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function s(c,h){if(!t.canUseDOM||h&&!("addEventListener"in document))return!1;var p="on"+c,y=p in document;if(!y){var C=document.createElement("div");C.setAttribute(p,"return;"),y=typeof C[p]=="function"}return!y&&i&&c==="wheel"&&(y=document.implementation.hasFeature("Events.wheel","3.0")),y}return Cf=s,Cf}var Ef,s1;function N2(){if(s1)return Ef;s1=1;var t=T2(),i=b2(),s=10,c=40,h=800;function p(y){var C=0,v=0,x=0,E=0;return"detail"in y&&(v=y.detail),"wheelDelta"in y&&(v=-y.wheelDelta/120),"wheelDeltaY"in y&&(v=-y.wheelDeltaY/120),"wheelDeltaX"in y&&(C=-y.wheelDeltaX/120),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(C=v,v=0),x=C*s,E=v*s,"deltaY"in y&&(E=y.deltaY),"deltaX"in y&&(x=y.deltaX),(x||E)&&y.deltaMode&&(y.deltaMode==1?(x*=c,E*=c):(x*=h,E*=h)),x&&!C&&(C=x<1?-1:1),E&&!v&&(v=E<1?-1:1),{spinX:C,spinY:v,pixelX:x,pixelY:E}}return p.getEventType=function(){return t.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},Ef=p,Ef}var Af,o1;function R2(){return o1||(o1=1,Af=N2()),Af}var M2=R2();const _2=cd(M2);function D2(t,i,s,c,h,p){p===void 0&&(p=0);var y=ko(t,i,p),C=y.width,v=y.height,x=Math.min(C,s),E=Math.min(v,c);return x>E*h?{width:E*h,height:E}:{width:x,height:x/h}}function O2(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function ba(t,i,s,c,h){h===void 0&&(h=0);var p=ko(i.width,i.height,h),y=p.width,C=p.height;return{x:a1(t.x,y,s.width,c),y:a1(t.y,C,s.height,c)}}function a1(t,i,s,c){var h=i*c/2-s/2;return Fu(t,-h,h)}function l1(t,i){return Math.sqrt(Math.pow(t.y-i.y,2)+Math.pow(t.x-i.x,2))}function u1(t,i){return Math.atan2(i.y-t.y,i.x-t.x)*180/Math.PI}function P2(t,i,s,c,h,p,y){p===void 0&&(p=0),y===void 0&&(y=!0);var C=y?L2:k2,v=ko(i.width,i.height,p),x=ko(i.naturalWidth,i.naturalHeight,p),E={x:C(100,((v.width-s.width/h)/2-t.x/h)/v.width*100),y:C(100,((v.height-s.height/h)/2-t.y/h)/v.height*100),width:C(100,s.width/v.width*100/h),height:C(100,s.height/v.height*100/h)},T=Math.round(C(x.width,E.width*x.width/100)),N=Math.round(C(x.height,E.height*x.height/100)),O=x.width>=x.height*c,k=O?{width:Math.round(N*c),height:N}:{width:T,height:Math.round(T/c)},B=Vn(Vn({},k),{x:Math.round(C(x.width-k.width,E.x*x.width/100)),y:Math.round(C(x.height-k.height,E.y*x.height/100))});return{croppedAreaPercentages:E,croppedAreaPixels:B}}function L2(t,i){return Math.min(t,Math.max(0,i))}function k2(t,i){return i}function B2(t,i,s,c,h,p){var y=ko(i.width,i.height,s),C=Fu(c.width/y.width*(100/t.width),h,p),v={x:C*y.width/2-c.width/2-y.width*C*(t.x/100),y:C*y.height/2-c.height/2-y.height*C*(t.y/100)};return{crop:v,zoom:C}}function F2(t,i,s){var c=O2(i);return s.height>s.width?s.height/(t.height*c):s.width/(t.width*c)}function j2(t,i,s,c,h,p){s===void 0&&(s=0);var y=ko(i.naturalWidth,i.naturalHeight,s),C=Fu(F2(t,i,c),h,p),v=c.height>c.width?c.height/t.height:c.width/t.width,x={x:((y.width-t.width)/2-t.x)*v,y:((y.height-t.height)/2-t.y)*v};return{crop:x,zoom:C}}function c1(t,i){return{x:(i.x+t.x)/2,y:(i.y+t.y)/2}}function U2(t){return t*Math.PI/180}function ko(t,i,s){var c=U2(s);return{width:Math.abs(Math.cos(c)*t)+Math.abs(Math.sin(c)*i),height:Math.abs(Math.sin(c)*t)+Math.abs(Math.cos(c)*i)}}function Fu(t,i,s){return Math.min(Math.max(t,i),s)}function du(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.filter(function(s){return typeof s=="string"&&s.length>0}).join(" ").trim()}var z2=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,V2=1,W2=3,H2=1,ig=function(t){S2(i,t);function i(){var s=t!==null&&t.apply(this,arguments)||this;return s.imageRef=L.createRef(),s.videoRef=L.createRef(),s.containerPosition={x:0,y:0},s.containerRef=null,s.styleRef=null,s.containerRect=null,s.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},s.dragStartPosition={x:0,y:0},s.dragStartCrop={x:0,y:0},s.gestureZoomStart=0,s.gestureRotationStart=0,s.isTouching=!1,s.lastPinchDistance=0,s.lastPinchRotation=0,s.rafDragTimeout=null,s.rafPinchTimeout=null,s.wheelTimer=null,s.currentDoc=typeof document<"u"?document:null,s.currentWindow=typeof window<"u"?window:null,s.resizeObserver=null,s.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},s.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!s.containerRef)){var c=!0;s.resizeObserver=new window.ResizeObserver(function(h){if(c){c=!1;return}s.computeSizes()}),s.resizeObserver.observe(s.containerRef)}},s.preventZoomSafari=function(c){return c.preventDefault()},s.cleanEvents=function(){s.currentDoc&&(s.currentDoc.removeEventListener("mousemove",s.onMouseMove),s.currentDoc.removeEventListener("mouseup",s.onDragStopped),s.currentDoc.removeEventListener("touchmove",s.onTouchMove),s.currentDoc.removeEventListener("touchend",s.onDragStopped),s.currentDoc.removeEventListener("gesturemove",s.onGestureMove),s.currentDoc.removeEventListener("gestureend",s.onGestureEnd),s.currentDoc.removeEventListener("scroll",s.onScroll))},s.clearScrollEvent=function(){s.containerRef&&s.containerRef.removeEventListener("wheel",s.onWheel),s.wheelTimer&&clearTimeout(s.wheelTimer)},s.onMediaLoad=function(){var c=s.computeSizes();c&&(s.emitCropData(),s.setInitialCrop(c)),s.props.onMediaLoaded&&s.props.onMediaLoaded(s.mediaSize)},s.setInitialCrop=function(c){if(s.props.initialCroppedAreaPercentages){var h=B2(s.props.initialCroppedAreaPercentages,s.mediaSize,s.props.rotation,c,s.props.minZoom,s.props.maxZoom),p=h.crop,y=h.zoom;s.props.onCropChange(p),s.props.onZoomChange&&s.props.onZoomChange(y)}else if(s.props.initialCroppedAreaPixels){var C=j2(s.props.initialCroppedAreaPixels,s.mediaSize,s.props.rotation,c,s.props.minZoom,s.props.maxZoom),p=C.crop,y=C.zoom;s.props.onCropChange(p),s.props.onZoomChange&&s.props.onZoomChange(y)}},s.computeSizes=function(){var c,h,p,y,C,v,x=s.imageRef.current||s.videoRef.current;if(x&&s.containerRef){s.containerRect=s.containerRef.getBoundingClientRect(),s.saveContainerPosition();var E=s.containerRect.width/s.containerRect.height,T=((c=s.imageRef.current)===null||c===void 0?void 0:c.naturalWidth)||((h=s.videoRef.current)===null||h===void 0?void 0:h.videoWidth)||0,N=((p=s.imageRef.current)===null||p===void 0?void 0:p.naturalHeight)||((y=s.videoRef.current)===null||y===void 0?void 0:y.videoHeight)||0,O=x.offsetWidth<T||x.offsetHeight<N,k=T/N,B=void 0;if(O)switch(s.state.mediaObjectFit){default:case"contain":B=E>k?{width:s.containerRect.height*k,height:s.containerRect.height}:{width:s.containerRect.width,height:s.containerRect.width/k};break;case"horizontal-cover":B={width:s.containerRect.width,height:s.containerRect.width/k};break;case"vertical-cover":B={width:s.containerRect.height*k,height:s.containerRect.height};break}else B={width:x.offsetWidth,height:x.offsetHeight};s.mediaSize=Vn(Vn({},B),{naturalWidth:T,naturalHeight:N}),s.props.setMediaSize&&s.props.setMediaSize(s.mediaSize);var F=s.props.cropSize?s.props.cropSize:D2(s.mediaSize.width,s.mediaSize.height,s.containerRect.width,s.containerRect.height,s.props.aspect,s.props.rotation);return(((C=s.state.cropSize)===null||C===void 0?void 0:C.height)!==F.height||((v=s.state.cropSize)===null||v===void 0?void 0:v.width)!==F.width)&&s.props.onCropSizeChange&&s.props.onCropSizeChange(F),s.setState({cropSize:F},s.recomputeCropPosition),s.props.setCropSize&&s.props.setCropSize(F),F}},s.saveContainerPosition=function(){if(s.containerRef){var c=s.containerRef.getBoundingClientRect();s.containerPosition={x:c.left,y:c.top}}},s.onMouseDown=function(c){s.currentDoc&&(c.preventDefault(),s.currentDoc.addEventListener("mousemove",s.onMouseMove),s.currentDoc.addEventListener("mouseup",s.onDragStopped),s.saveContainerPosition(),s.onDragStart(i.getMousePoint(c)))},s.onMouseMove=function(c){return s.onDrag(i.getMousePoint(c))},s.onScroll=function(c){s.currentDoc&&(c.preventDefault(),s.saveContainerPosition())},s.onTouchStart=function(c){s.currentDoc&&(s.isTouching=!0,!(s.props.onTouchRequest&&!s.props.onTouchRequest(c))&&(s.currentDoc.addEventListener("touchmove",s.onTouchMove,{passive:!1}),s.currentDoc.addEventListener("touchend",s.onDragStopped),s.saveContainerPosition(),c.touches.length===2?s.onPinchStart(c):c.touches.length===1&&s.onDragStart(i.getTouchPoint(c.touches[0]))))},s.onTouchMove=function(c){c.preventDefault(),c.touches.length===2?s.onPinchMove(c):c.touches.length===1&&s.onDrag(i.getTouchPoint(c.touches[0]))},s.onGestureStart=function(c){s.currentDoc&&(c.preventDefault(),s.currentDoc.addEventListener("gesturechange",s.onGestureMove),s.currentDoc.addEventListener("gestureend",s.onGestureEnd),s.gestureZoomStart=s.props.zoom,s.gestureRotationStart=s.props.rotation)},s.onGestureMove=function(c){if(c.preventDefault(),!s.isTouching){var h=i.getMousePoint(c),p=s.gestureZoomStart-1+c.scale;if(s.setNewZoom(p,h,{shouldUpdatePosition:!0}),s.props.onRotationChange){var y=s.gestureRotationStart+c.rotation;s.props.onRotationChange(y)}}},s.onGestureEnd=function(c){s.cleanEvents()},s.onDragStart=function(c){var h,p,y=c.x,C=c.y;s.dragStartPosition={x:y,y:C},s.dragStartCrop=Vn({},s.props.crop),(p=(h=s.props).onInteractionStart)===null||p===void 0||p.call(h)},s.onDrag=function(c){var h=c.x,p=c.y;s.currentWindow&&(s.rafDragTimeout&&s.currentWindow.cancelAnimationFrame(s.rafDragTimeout),s.rafDragTimeout=s.currentWindow.requestAnimationFrame(function(){if(s.state.cropSize&&!(h===void 0||p===void 0)){var y=h-s.dragStartPosition.x,C=p-s.dragStartPosition.y,v={x:s.dragStartCrop.x+y,y:s.dragStartCrop.y+C},x=s.props.restrictPosition?ba(v,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):v;s.props.onCropChange(x)}}))},s.onDragStopped=function(){var c,h;s.isTouching=!1,s.cleanEvents(),s.emitCropData(),(h=(c=s.props).onInteractionEnd)===null||h===void 0||h.call(c)},s.onWheel=function(c){if(s.currentWindow&&!(s.props.onWheelRequest&&!s.props.onWheelRequest(c))){c.preventDefault();var h=i.getMousePoint(c),p=_2(c).pixelY,y=s.props.zoom-p*s.props.zoomSpeed/200;s.setNewZoom(y,h,{shouldUpdatePosition:!0}),s.state.hasWheelJustStarted||s.setState({hasWheelJustStarted:!0},function(){var C,v;return(v=(C=s.props).onInteractionStart)===null||v===void 0?void 0:v.call(C)}),s.wheelTimer&&clearTimeout(s.wheelTimer),s.wheelTimer=s.currentWindow.setTimeout(function(){return s.setState({hasWheelJustStarted:!1},function(){var C,v;return(v=(C=s.props).onInteractionEnd)===null||v===void 0?void 0:v.call(C)})},250)}},s.getPointOnContainer=function(c,h){var p=c.x,y=c.y;if(!s.containerRect)throw new Error("The Cropper is not mounted");return{x:s.containerRect.width/2-(p-h.x),y:s.containerRect.height/2-(y-h.y)}},s.getPointOnMedia=function(c){var h=c.x,p=c.y,y=s.props,C=y.crop,v=y.zoom;return{x:(h+C.x)/v,y:(p+C.y)/v}},s.setNewZoom=function(c,h,p){var y=p===void 0?{}:p,C=y.shouldUpdatePosition,v=C===void 0?!0:C;if(!(!s.state.cropSize||!s.props.onZoomChange)){var x=Fu(c,s.props.minZoom,s.props.maxZoom);if(v){var E=s.getPointOnContainer(h,s.containerPosition),T=s.getPointOnMedia(E),N={x:T.x*x-E.x,y:T.y*x-E.y},O=s.props.restrictPosition?ba(N,s.mediaSize,s.state.cropSize,x,s.props.rotation):N;s.props.onCropChange(O)}s.props.onZoomChange(x)}},s.getCropData=function(){if(!s.state.cropSize)return null;var c=s.props.restrictPosition?ba(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;return P2(c,s.mediaSize,s.state.cropSize,s.getAspect(),s.props.zoom,s.props.rotation,s.props.restrictPosition)},s.emitCropData=function(){var c=s.getCropData();if(c){var h=c.croppedAreaPercentages,p=c.croppedAreaPixels;s.props.onCropComplete&&s.props.onCropComplete(h,p),s.props.onCropAreaChange&&s.props.onCropAreaChange(h,p)}},s.emitCropAreaChange=function(){var c=s.getCropData();if(c){var h=c.croppedAreaPercentages,p=c.croppedAreaPixels;s.props.onCropAreaChange&&s.props.onCropAreaChange(h,p)}},s.recomputeCropPosition=function(){if(s.state.cropSize){var c=s.props.restrictPosition?ba(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;s.props.onCropChange(c),s.emitCropData()}},s.onKeyDown=function(c){var h=s.props,p=h.crop,y=h.onCropChange,C=h.keyboardStep,v=h.zoom,x=h.rotation,E=C;if(s.state.cropSize){c.shiftKey&&(E*=.2);var T=Vn({},p);switch(c.key){case"ArrowUp":T.y-=E,c.preventDefault();break;case"ArrowDown":T.y+=E,c.preventDefault();break;case"ArrowLeft":T.x-=E,c.preventDefault();break;case"ArrowRight":T.x+=E,c.preventDefault();break;default:return}s.props.restrictPosition&&(T=ba(T,s.mediaSize,s.state.cropSize,v,x)),y(T)}},s}return i.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=z2,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},i.prototype.componentWillUnmount=function(){var s,c;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(s=this.resizeObserver)===null||s===void 0||s.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((c=this.styleRef.parentNode)===null||c===void 0||c.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},i.prototype.componentDidUpdate=function(s){var c,h,p,y,C,v,x,E,T;s.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):s.aspect!==this.props.aspect?this.computeSizes():s.objectFit!==this.props.objectFit?this.computeSizes():s.zoom!==this.props.zoom?this.recomputeCropPosition():((c=s.cropSize)===null||c===void 0?void 0:c.height)!==((h=this.props.cropSize)===null||h===void 0?void 0:h.height)||((p=s.cropSize)===null||p===void 0?void 0:p.width)!==((y=this.props.cropSize)===null||y===void 0?void 0:y.width)?this.computeSizes():(((C=s.crop)===null||C===void 0?void 0:C.x)!==((v=this.props.crop)===null||v===void 0?void 0:v.x)||((x=s.crop)===null||x===void 0?void 0:x.y)!==((E=this.props.crop)===null||E===void 0?void 0:E.y))&&this.emitCropAreaChange(),s.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),s.video!==this.props.video&&((T=this.videoRef.current)===null||T===void 0||T.load());var N=this.getObjectFit();N!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:N},this.computeSizes)},i.prototype.getAspect=function(){var s=this.props,c=s.cropSize,h=s.aspect;return c?c.width/c.height:h},i.prototype.getObjectFit=function(){var s,c,h,p;if(this.props.objectFit==="cover"){var y=this.imageRef.current||this.videoRef.current;if(y&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var C=this.containerRect.width/this.containerRect.height,v=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((c=this.videoRef.current)===null||c===void 0?void 0:c.videoWidth)||0,x=((h=this.imageRef.current)===null||h===void 0?void 0:h.naturalHeight)||((p=this.videoRef.current)===null||p===void 0?void 0:p.videoHeight)||0,E=v/x;return E<C?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},i.prototype.onPinchStart=function(s){var c=i.getTouchPoint(s.touches[0]),h=i.getTouchPoint(s.touches[1]);this.lastPinchDistance=l1(c,h),this.lastPinchRotation=u1(c,h),this.onDragStart(c1(c,h))},i.prototype.onPinchMove=function(s){var c=this;if(!(!this.currentDoc||!this.currentWindow)){var h=i.getTouchPoint(s.touches[0]),p=i.getTouchPoint(s.touches[1]),y=c1(h,p);this.onDrag(y),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var C=l1(h,p),v=c.props.zoom*(C/c.lastPinchDistance);c.setNewZoom(v,y,{shouldUpdatePosition:!1}),c.lastPinchDistance=C;var x=u1(h,p),E=c.props.rotation+(x-c.lastPinchRotation);c.props.onRotationChange&&c.props.onRotationChange(E),c.lastPinchRotation=x})}},i.prototype.render=function(){var s=this,c,h=this.props,p=h.image,y=h.video,C=h.mediaProps,v=h.transform,x=h.crop,E=x.x,T=x.y,N=h.rotation,O=h.zoom,k=h.cropShape,B=h.showGrid,F=h.style,z=F.containerStyle,H=F.cropAreaStyle,V=F.mediaStyle,ne=h.classes,se=ne.containerClassName,ce=ne.cropAreaClassName,q=ne.mediaClassName,ue=(c=this.state.mediaObjectFit)!==null&&c!==void 0?c:this.getObjectFit();return L.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(_e){return s.containerRef=_e},"data-testid":"container",style:z,className:du("reactEasyCrop_Container",se)},p?L.createElement("img",Vn({alt:"",className:du("reactEasyCrop_Image",ue==="contain"&&"reactEasyCrop_Contain",ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",q)},C,{src:p,ref:this.imageRef,style:Vn(Vn({},V),{transform:v||"translate(".concat(E,"px, ").concat(T,"px) rotate(").concat(N,"deg) scale(").concat(O,")")}),onLoad:this.onMediaLoad})):y&&L.createElement("video",Vn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:du("reactEasyCrop_Video",ue==="contain"&&"reactEasyCrop_Contain",ue==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ue==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",q)},C,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Vn(Vn({},V),{transform:v||"translate(".concat(E,"px, ").concat(T,"px) rotate(").concat(N,"deg) scale(").concat(O,")")}),controls:!1}),(Array.isArray(y)?y:[{src:y}]).map(function(te){return L.createElement("source",Vn({key:te.src},te))})),this.state.cropSize&&L.createElement("div",{style:Vn(Vn({},H),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:du("reactEasyCrop_CropArea",k==="round"&&"reactEasyCrop_CropAreaRound",B&&"reactEasyCrop_CropAreaGrid",ce)}))},i.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:W2,minZoom:V2,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:H2},i.getMousePoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},i.getTouchPoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},i}(L.Component),Na={},f1;function G2(){return f1||(f1=1,Na.createCanvas=function(t,i){return Object.assign(document.createElement("canvas"),{width:t,height:i})},Na.createImageData=function(t,i,s){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,i);default:return new ImageData(t,i,s)}},Na.loadImage=function(t,i){return new Promise(function(s,c){const h=Object.assign(document.createElement("img"),i);function p(){h.onload=null,h.onerror=null}h.onload=function(){p(),s(h)},h.onerror=function(){p(),c(new Error('Failed to load the image "'+t+'"'))},h.src=t})}),Na}G2();async function sg(t,i){return console.log("Image source being cropped:",t),new Promise((s,c)=>{const h=new Image;h.onload=()=>{const p=document.createElement("canvas"),y=p.getContext("2d");p.width=i.width,p.height=i.height,y.drawImage(h,i.x,i.y,i.width,i.height,0,0,i.width,i.height);try{const C=p.toDataURL("image/jpeg");s(C)}catch{c(new Error("Error converting canvas to base64"))}},h.onerror=p=>c(new Error(`Image load error: ${p.message}`)),h.src=t})}const Y2=({onSubmit:t,onClose:i,existingProfile:s})=>{const{user:c,userProfile:h,checkAuth:p}=L.useContext(xi),[y,C]=L.useState({name:(h==null?void 0:h.name)||"",image:null,imagePreview:h!=null&&h.image_data?`data:image/jpeg;base64,${h.image_data}`:"/assets/fakeprofile.png",croppedImage:null}),[v,x]=L.useState({x:0,y:0}),[E,T]=L.useState(1),[N,O]=L.useState(null),[k,B]=L.useState(!1),[F,z]=L.useState(!1),H=se=>{const ce=se.target.files[0];if(ce){const q=new FileReader;q.onload=ue=>{C(te=>({...te,image:ce,imagePreview:ue.target.result})),B(!0)},q.readAsDataURL(ce)}},V=(se,ce)=>{console.log("Cropped Area Pixels:",ce),O(ce)};async function ne(se){se.preventDefault();let ce;if(y.croppedImage)ce=y.croppedImage.split(",")[1];else if(y.image instanceof File){const te=await y.image.arrayBuffer();ce=btoa(new Uint8Array(te).reduce((_e,Le)=>_e+String.fromCharCode(Le),""))}else if(h!=null&&h.image_data)ce=h.image_data;else{console.error("No valid image provided");return}const q={name:y.name,image_data:ce};console.log("Image data (first 100 chars):",ce.substring(0,100));const ue=localStorage.getItem("access_token");try{const te=await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify(q)});if(!te.ok)throw new Error("Failed to update profile");const _e=await te.json();await p(),console.log("Profile updated successfully:",_e),i()}catch(te){console.error("Error updating profile:",te)}}return _.jsx("div",{className:"profile-creation-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:_.jsxs("div",{className:"profile-creation-modal",style:{width:"70%",maxWidth:"500px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"2rem",boxShadow:"0 10px 30px rgba(20,77,255,0.15)",position:"relative",border:"1px solid rgba(20,77,255,0.1)"},children:[_.jsx("button",{onClick:i,style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"#144dff",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:"×"}),_.jsx("h2",{style:{fontSize:"clamp(1.8rem, 6vw, 2.5rem)",color:"#144dff",textAlign:"center",marginBottom:"2rem",fontWeight:"600"},children:"Your Profile"}),_.jsxs("form",{onSubmit:ne,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[_.jsx("label",{style:{color:"#144dff",fontWeight:"500",fontSize:"1rem"},children:"Your Name"}),_.jsx("input",{type:"text",value:y.name,onChange:se=>C({...y,name:se.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #e0e0e0",fontSize:"0.9rem",transition:"all 0.3s ease",backgroundColor:"rgba(255,255,255,0.9)","&:focus":{borderColor:"#144dff",outline:"none",boxShadow:"0 0 0 3px rgba(20,77,255,0.1)"}}})]}),!k&&_.jsx("div",{style:{width:"250px",height:"250px",margin:"0 auto",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:_.jsx("img",{src:y.croppedImage?y.croppedImage:y.imagePreview?y.imagePreview:h!=null&&h.image_data?`data:image/jpeg;base64,${h.image_data}`:"/assets/fakeprofile.png",alt:"Profile preview",style:{width:"100%",height:"100%",objectFit:"cover"}})}),_.jsxs("div",{style:{textAlign:"center"},children:[_.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:H,style:{display:"none"}}),_.jsx("label",{htmlFor:"image-upload",style:{padding:"0.8rem 1.2rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",borderRadius:"25px",cursor:"pointer",display:"inline-block",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Upload New Image"})]}),k&&_.jsxs("div",{style:{width:"100%",maxWidth:"300px",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.2rem"},children:[_.jsx("div",{style:{position:"relative",width:"250px",height:"250px",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)"},children:_.jsx(ig,{image:y.imagePreview,crop:v,zoom:E,aspect:1,onCropComplete:V,onCropChange:x,onZoomChange:T})}),_.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[_.jsx("button",{type:"button",onClick:()=>{B(!1),y.croppedImage||C(se=>({...se,imagePreview:null}))},style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"2px solid #144dff",background:"white",color:"#144dff",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease","&:hover":{background:"rgba(20,77,255,0.1)"}},children:"Cancel"}),_.jsx("button",{type:"button",onClick:async()=>{try{const se=await sg(y.imagePreview,N);C(ce=>({...ce,croppedImage:se,imagePreview:se})),B(!1),z(!0),setTimeout(()=>z(!1),1e4)}catch(se){console.error("Error cropping image:",se)}},className:`save-profile-button ${F?"glow-bounce":""}`,style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"none",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(20,77,255,0.2)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Cropped Image"})]})]}),_.jsx("button",{type:"submit",className:`save-profile-button ${F?"glow-bounce":""}`,style:{padding:"1rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Profile"})]})]})})};var Ra={},d1;function X2(){if(d1)return Ra;d1=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.parse=y,Ra.serialize=x;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,p=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function y(N,O){const k=new p,B=N.length;if(B<2)return k;const F=(O==null?void 0:O.decode)||E;let z=0;do{const H=N.indexOf("=",z);if(H===-1)break;const V=N.indexOf(";",z),ne=V===-1?B:V;if(H>ne){z=N.lastIndexOf(";",H-1)+1;continue}const se=C(N,z,H),ce=v(N,H,se),q=N.slice(se,ce);if(k[q]===void 0){let ue=C(N,H+1,ne),te=v(N,ne,ue);const _e=F(N.slice(ue,te));k[q]=_e}z=ne+1}while(z<B);return k}function C(N,O,k){do{const B=N.charCodeAt(O);if(B!==32&&B!==9)return O}while(++O<k);return k}function v(N,O,k){for(;O>k;){const B=N.charCodeAt(--O);if(B!==32&&B!==9)return O+1}return k}function x(N,O,k){const B=(k==null?void 0:k.encode)||encodeURIComponent;if(!t.test(N))throw new TypeError(`argument name is invalid: ${N}`);const F=B(O);if(!i.test(F))throw new TypeError(`argument val is invalid: ${O}`);let z=N+"="+F;if(!k)return z;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);z+="; Max-Age="+k.maxAge}if(k.domain){if(!s.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);z+="; Domain="+k.domain}if(k.path){if(!c.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);z+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);z+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(z+="; HttpOnly"),k.secure&&(z+="; Secure"),k.partitioned&&(z+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return z}function E(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function T(N){return h.call(N)==="[object Date]"}return Ra}X2();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var h1="popstate";function Z2(t={}){function i(c,h){let{pathname:p,search:y,hash:C}=c.location;return jf("",{pathname:p,search:y,hash:C},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(c,h){return typeof h=="string"?h:Ua(h)}return Q2(i,s,null,t)}function sn(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function mi(t,i){if(!t){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function K2(){return Math.random().toString(36).substring(2,10)}function p1(t,i){return{usr:t.state,key:t.key,idx:i}}function jf(t,i,s=null,c){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof i=="string"?jo(i):i,state:s,key:i&&i.key||c||K2()}}function Ua({pathname:t="/",search:i="",hash:s=""}){return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function jo(t){let i={};if(t){let s=t.indexOf("#");s>=0&&(i.hash=t.substring(s),t=t.substring(0,s));let c=t.indexOf("?");c>=0&&(i.search=t.substring(c),t=t.substring(0,c)),t&&(i.pathname=t)}return i}function Q2(t,i,s,c={}){let{window:h=document.defaultView,v5Compat:p=!1}=c,y=h.history,C="POP",v=null,x=E();x==null&&(x=0,y.replaceState({...y.state,idx:x},""));function E(){return(y.state||{idx:null}).idx}function T(){C="POP";let F=E(),z=F==null?null:F-x;x=F,v&&v({action:C,location:B.location,delta:z})}function N(F,z){C="PUSH";let H=jf(B.location,F,z);x=E()+1;let V=p1(H,x),ne=B.createHref(H);try{y.pushState(V,"",ne)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;h.location.assign(ne)}p&&v&&v({action:C,location:B.location,delta:1})}function O(F,z){C="REPLACE";let H=jf(B.location,F,z);x=E();let V=p1(H,x),ne=B.createHref(H);y.replaceState(V,"",ne),p&&v&&v({action:C,location:B.location,delta:0})}function k(F){let z=h.location.origin!=="null"?h.location.origin:h.location.href,H=typeof F=="string"?F:Ua(F);return H=H.replace(/ $/,"%20"),sn(z,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,z)}let B={get action(){return C},get location(){return t(h,y)},listen(F){if(v)throw new Error("A history only accepts one active listener");return h.addEventListener(h1,T),v=F,()=>{h.removeEventListener(h1,T),v=null}},createHref(F){return i(h,F)},createURL:k,encodeLocation(F){let z=k(F);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:O,go(F){return y.go(F)}};return B}function og(t,i,s="/"){return $2(t,i,s,!1)}function $2(t,i,s,c){let h=typeof i=="string"?jo(i):i,p=ws(h.pathname||"/",s);if(p==null)return null;let y=ag(t);q2(y);let C=null;for(let v=0;C==null&&v<y.length;++v){let x=uy(p);C=ay(y[v],x,c)}return C}function ag(t,i=[],s=[],c=""){let h=(p,y,C)=>{let v={relativePath:C===void 0?p.path||"":C,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};v.relativePath.startsWith("/")&&(sn(v.relativePath.startsWith(c),`Absolute route path "${v.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(c.length));let x=zi([c,v.relativePath]),E=s.concat(v);p.children&&p.children.length>0&&(sn(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),ag(p.children,i,E,x)),!(p.path==null&&!p.index)&&i.push({path:x,score:sy(x,p.index),routesMeta:E})};return t.forEach((p,y)=>{var C;if(p.path===""||!((C=p.path)!=null&&C.includes("?")))h(p,y);else for(let v of lg(p.path))h(p,y,v)}),i}function lg(t){let i=t.split("/");if(i.length===0)return[];let[s,...c]=i,h=s.endsWith("?"),p=s.replace(/\?$/,"");if(c.length===0)return h?[p,""]:[p];let y=lg(c.join("/")),C=[];return C.push(...y.map(v=>v===""?p:[p,v].join("/"))),h&&C.push(...y),C.map(v=>t.startsWith("/")&&v===""?"/":v)}function q2(t){t.sort((i,s)=>i.score!==s.score?s.score-i.score:oy(i.routesMeta.map(c=>c.childrenIndex),s.routesMeta.map(c=>c.childrenIndex)))}var J2=/^:[\w-]+$/,ey=3,ty=2,ny=1,ry=10,iy=-2,g1=t=>t==="*";function sy(t,i){let s=t.split("/"),c=s.length;return s.some(g1)&&(c+=iy),i&&(c+=ty),s.filter(h=>!g1(h)).reduce((h,p)=>h+(J2.test(p)?ey:p===""?ny:ry),c)}function oy(t,i){return t.length===i.length&&t.slice(0,-1).every((c,h)=>c===i[h])?t[t.length-1]-i[i.length-1]:0}function ay(t,i,s=!1){let{routesMeta:c}=t,h={},p="/",y=[];for(let C=0;C<c.length;++C){let v=c[C],x=C===c.length-1,E=p==="/"?i:i.slice(p.length)||"/",T=Iu({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},E),N=v.route;if(!T&&x&&s&&!c[c.length-1].route.index&&(T=Iu({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},E)),!T)return null;Object.assign(h,T.params),y.push({params:h,pathname:zi([p,T.pathname]),pathnameBase:hy(zi([p,T.pathnameBase])),route:N}),T.pathnameBase!=="/"&&(p=zi([p,T.pathnameBase]))}return y}function Iu(t,i){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,c]=ly(t.path,t.caseSensitive,t.end),h=i.match(s);if(!h)return null;let p=h[0],y=p.replace(/(.)\/+$/,"$1"),C=h.slice(1);return{params:c.reduce((x,{paramName:E,isOptional:T},N)=>{if(E==="*"){let k=C[N]||"";y=p.slice(0,p.length-k.length).replace(/(.)\/+$/,"$1")}const O=C[N];return T&&!O?x[E]=void 0:x[E]=(O||"").replace(/%2F/g,"/"),x},{}),pathname:p,pathnameBase:y,pattern:t}}function ly(t,i=!1,s=!0){mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let c=[],h="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,C,v)=>(c.push({paramName:C,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(c.push({paramName:"*"}),h+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":t!==""&&t!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,i?void 0:"i"),c]}function uy(t){try{return t.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return mi(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),t}}function ws(t,i){if(i==="/")return t;if(!t.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,c=t.charAt(s);return c&&c!=="/"?null:t.slice(s)||"/"}function cy(t,i="/"){let{pathname:s,search:c="",hash:h=""}=typeof t=="string"?jo(t):t;return{pathname:s?s.startsWith("/")?s:fy(s,i):i,search:py(c),hash:gy(h)}}function fy(t,i){let s=i.replace(/\/+$/,"").split("/");return t.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function Sf(t,i,s,c){return`Cannot include a '${t}' character in a manually specified \`to.${i}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dy(t){return t.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function ug(t){let i=dy(t);return i.map((s,c)=>c===i.length-1?s.pathname:s.pathnameBase)}function cg(t,i,s,c=!1){let h;typeof t=="string"?h=jo(t):(h={...t},sn(!h.pathname||!h.pathname.includes("?"),Sf("?","pathname","search",h)),sn(!h.pathname||!h.pathname.includes("#"),Sf("#","pathname","hash",h)),sn(!h.search||!h.search.includes("#"),Sf("#","search","hash",h)));let p=t===""||h.pathname==="",y=p?"/":h.pathname,C;if(y==null)C=s;else{let T=i.length-1;if(!c&&y.startsWith("..")){let N=y.split("/");for(;N[0]==="..";)N.shift(),T-=1;h.pathname=N.join("/")}C=T>=0?i[T]:"/"}let v=cy(h,C),x=y&&y!=="/"&&y.endsWith("/"),E=(p||y===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(x||E)&&(v.pathname+="/"),v}var zi=t=>t.join("/").replace(/\/\/+/g,"/"),hy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),py=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function my(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var fg=["POST","PUT","PATCH","DELETE"];new Set(fg);var xy=["GET",...fg];new Set(xy);var Uo=L.createContext(null);Uo.displayName="DataRouter";var ju=L.createContext(null);ju.displayName="DataRouterState";var dg=L.createContext({isTransitioning:!1});dg.displayName="ViewTransition";var yy=L.createContext(new Map);yy.displayName="Fetchers";var wy=L.createContext(null);wy.displayName="Await";var yi=L.createContext(null);yi.displayName="Navigation";var Qa=L.createContext(null);Qa.displayName="Location";var wi=L.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var dd=L.createContext(null);dd.displayName="RouteError";function vy(t,{relative:i}={}){sn($a(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:c}=L.useContext(yi),{hash:h,pathname:p,search:y}=qa(t,{relative:i}),C=p;return s!=="/"&&(C=p==="/"?s:zi([s,p])),c.createHref({pathname:C,search:y,hash:h})}function $a(){return L.useContext(Qa)!=null}function vi(){return sn($a(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Qa).location}var hg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pg(t){L.useContext(yi).static||L.useLayoutEffect(t)}function ni(){let{isDataRoute:t}=L.useContext(wi);return t?Py():Cy()}function Cy(){sn($a(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Uo),{basename:i,navigator:s}=L.useContext(yi),{matches:c}=L.useContext(wi),{pathname:h}=vi(),p=JSON.stringify(ug(c)),y=L.useRef(!1);return pg(()=>{y.current=!0}),L.useCallback((v,x={})=>{if(mi(y.current,hg),!y.current)return;if(typeof v=="number"){s.go(v);return}let E=cg(v,JSON.parse(p),h,x.relative==="path");t==null&&i!=="/"&&(E.pathname=E.pathname==="/"?i:zi([i,E.pathname])),(x.replace?s.replace:s.push)(E,x.state,x)},[i,s,p,h,t])}L.createContext(null);function Ey(){let{matches:t}=L.useContext(wi),i=t[t.length-1];return i?i.params:{}}function qa(t,{relative:i}={}){let{matches:s}=L.useContext(wi),{pathname:c}=vi(),h=JSON.stringify(ug(s));return L.useMemo(()=>cg(t,JSON.parse(h),c,i==="path"),[t,h,c,i])}function Ay(t,i){return gg(t,i)}function gg(t,i,s,c){var z;sn($a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=L.useContext(yi),{matches:p}=L.useContext(wi),y=p[p.length-1],C=y?y.params:{},v=y?y.pathname:"/",x=y?y.pathnameBase:"/",E=y&&y.route;{let H=E&&E.path||"";mg(v,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=vi(),N;if(i){let H=typeof i=="string"?jo(i):i;sn(x==="/"||((z=H.pathname)==null?void 0:z.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${H.pathname}" was given in the \`location\` prop.`),N=H}else N=T;let O=N.pathname||"/",k=O;if(x!=="/"){let H=x.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=og(t,{pathname:k});mi(E||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),mi(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Ny(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},C,H.params),pathname:zi([x,h.encodeLocation?h.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?x:zi([x,h.encodeLocation?h.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),p,s,c);return i&&F?L.createElement(Qa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function Sy(){let t=Oy(),i=my(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,c="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:c},p={padding:"2px 4px",backgroundColor:c},y=null;return console.error("Error handled by React Router default ErrorBoundary:",t),y=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:p},"ErrorBoundary")," or"," ",L.createElement("code",{style:p},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},i),s?L.createElement("pre",{style:h},s):null,y)}var Ty=L.createElement(Sy,null),Iy=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?L.createElement(wi.Provider,{value:this.props.routeContext},L.createElement(dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function by({routeContext:t,match:i,children:s}){let c=L.useContext(Uo);return c&&c.static&&c.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=i.route.id),L.createElement(wi.Provider,{value:t},s)}function Ny(t,i=[],s=null,c=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let h=t,p=s==null?void 0:s.errors;if(p!=null){let v=h.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);sn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let y=!1,C=-1;if(s)for(let v=0;v<h.length;v++){let x=h[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(C=v),x.route.id){let{loaderData:E,errors:T}=s,N=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!T||T[x.route.id]===void 0);if(x.route.lazy||N){y=!0,C>=0?h=h.slice(0,C+1):h=[h[0]];break}}}return h.reduceRight((v,x,E)=>{let T,N=!1,O=null,k=null;s&&(T=p&&x.route.id?p[x.route.id]:void 0,O=x.route.errorElement||Ty,y&&(C<0&&E===0?(mg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):C===E&&(N=!0,k=x.route.hydrateFallbackElement||null)));let B=i.concat(h.slice(0,E+1)),F=()=>{let z;return T?z=O:N?z=k:x.route.Component?z=L.createElement(x.route.Component,null):x.route.element?z=x.route.element:z=v,L.createElement(by,{match:x,routeContext:{outlet:v,matches:B,isDataRoute:s!=null},children:z})};return s&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?L.createElement(Iy,{location:s.location,revalidation:s.revalidation,component:O,error:T,children:F(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):F()},null)}function hd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ry(t){let i=L.useContext(Uo);return sn(i,hd(t)),i}function My(t){let i=L.useContext(ju);return sn(i,hd(t)),i}function _y(t){let i=L.useContext(wi);return sn(i,hd(t)),i}function pd(t){let i=_y(t),s=i.matches[i.matches.length-1];return sn(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function Dy(){return pd("useRouteId")}function Oy(){var c;let t=L.useContext(dd),i=My("useRouteError"),s=pd("useRouteError");return t!==void 0?t:(c=i.errors)==null?void 0:c[s]}function Py(){let{router:t}=Ry("useNavigate"),i=pd("useNavigate"),s=L.useRef(!1);return pg(()=>{s.current=!0}),L.useCallback(async(h,p={})=>{mi(s.current,hg),s.current&&(typeof h=="number"?t.navigate(h):await t.navigate(h,{fromRouteId:i,...p}))},[t,i])}var m1={};function mg(t,i,s){!i&&!m1[t]&&(m1[t]=!0,mi(!1,s))}L.memo(Ly);function Ly({routes:t,future:i,state:s}){return gg(t,void 0,s,i)}function ji(t){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ky({basename:t="/",children:i=null,location:s,navigationType:c="POP",navigator:h,static:p=!1}){sn(!$a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=t.replace(/^\/*/,"/"),C=L.useMemo(()=>({basename:y,navigator:h,static:p,future:{}}),[y,h,p]);typeof s=="string"&&(s=jo(s));let{pathname:v="/",search:x="",hash:E="",state:T=null,key:N="default"}=s,O=L.useMemo(()=>{let k=ws(v,y);return k==null?null:{location:{pathname:k,search:x,hash:E,state:T,key:N},navigationType:c}},[y,v,x,E,T,N,c]);return mi(O!=null,`<Router basename="${y}"> is not able to match the URL "${v}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:L.createElement(yi.Provider,{value:C},L.createElement(Qa.Provider,{children:i,value:O}))}function By({children:t,location:i}){return Ay(Uf(t),i)}function Uf(t,i=[]){let s=[];return L.Children.forEach(t,(c,h)=>{if(!L.isValidElement(c))return;let p=[...i,h];if(c.type===L.Fragment){s.push.apply(s,Uf(c.props.children,p));return}sn(c.type===ji,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!c.props.index||!c.props.children,"An index route cannot have child routes.");let y={id:c.props.id||p.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(y.children=Uf(c.props.children,p)),s.push(y)}),s}var vu="get",Cu="application/x-www-form-urlencoded";function Uu(t){return t!=null&&typeof t.tagName=="string"}function Fy(t){return Uu(t)&&t.tagName.toLowerCase()==="button"}function jy(t){return Uu(t)&&t.tagName.toLowerCase()==="form"}function Uy(t){return Uu(t)&&t.tagName.toLowerCase()==="input"}function zy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vy(t,i){return t.button===0&&(!i||i==="_self")&&!zy(t)}var hu=null;function Wy(){if(hu===null)try{new FormData(document.createElement("form"),0),hu=!1}catch{hu=!0}return hu}var Hy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(t){return t!=null&&!Hy.has(t)?(mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cu}"`),null):t}function Gy(t,i){let s,c,h,p,y;if(jy(t)){let C=t.getAttribute("action");c=C?ws(C,i):null,s=t.getAttribute("method")||vu,h=Tf(t.getAttribute("enctype"))||Cu,p=new FormData(t)}else if(Fy(t)||Uy(t)&&(t.type==="submit"||t.type==="image")){let C=t.form;if(C==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||C.getAttribute("action");if(c=v?ws(v,i):null,s=t.getAttribute("formmethod")||C.getAttribute("method")||vu,h=Tf(t.getAttribute("formenctype"))||Tf(C.getAttribute("enctype"))||Cu,p=new FormData(C,t),!Wy()){let{name:x,type:E,value:T}=t;if(E==="image"){let N=x?`${x}.`:"";p.append(`${N}x`,"0"),p.append(`${N}y`,"0")}else x&&p.append(x,T)}}else{if(Uu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=vu,c=null,h=Cu,y=t}return p&&h==="text/plain"&&(y=p,p=void 0),{action:c,method:s.toLowerCase(),encType:h,formData:p,body:y}}function gd(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}async function Yy(t,i){if(t.id in i)return i[t.id];try{let s=await import(t.module);return i[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xy(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Zy(t,i,s){let c=await Promise.all(t.map(async h=>{let p=i.routes[h.route.id];if(p){let y=await Yy(p,s);return y.links?y.links():[]}return[]}));return qy(c.flat(1).filter(Xy).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function x1(t,i,s,c,h,p){let y=(v,x)=>s[x]?v.route.id!==s[x].route.id:!0,C=(v,x)=>{var E;return s[x].pathname!==v.pathname||((E=s[x].route.path)==null?void 0:E.endsWith("*"))&&s[x].params["*"]!==v.params["*"]};return p==="assets"?i.filter((v,x)=>y(v,x)||C(v,x)):p==="data"?i.filter((v,x)=>{var T;let E=c.routes[v.route.id];if(!E||!E.hasLoader)return!1;if(y(v,x)||C(v,x))return!0;if(v.route.shouldRevalidate){let N=v.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((T=s[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Ky(t,i){return Qy(t.map(s=>{let c=i.routes[s.route.id];if(!c)return[];let h=[c.module];return c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function Qy(t){return[...new Set(t)]}function $y(t){let i={},s=Object.keys(t).sort();for(let c of s)i[c]=t[c];return i}function qy(t,i){let s=new Set;return new Set(i),t.reduce((c,h)=>{let p=JSON.stringify($y(h));return s.has(p)||(s.add(p),c.push({key:p,link:h})),c},[])}function Jy(t){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname="_root.data":i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function ew(){let t=L.useContext(Uo);return gd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tw(){let t=L.useContext(ju);return gd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var md=L.createContext(void 0);md.displayName="FrameworkContext";function xg(){let t=L.useContext(md);return gd(t,"You must render this element inside a <HydratedRouter> element"),t}function nw(t,i){let s=L.useContext(md),[c,h]=L.useState(!1),[p,y]=L.useState(!1),{onFocus:C,onBlur:v,onMouseEnter:x,onMouseLeave:E,onTouchStart:T}=i,N=L.useRef(null);L.useEffect(()=>{if(t==="render"&&y(!0),t==="viewport"){let B=z=>{z.forEach(H=>{y(H.isIntersecting)})},F=new IntersectionObserver(B,{threshold:.5});return N.current&&F.observe(N.current),()=>{F.disconnect()}}},[t]),L.useEffect(()=>{if(c){let B=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(B)}}},[c]);let O=()=>{h(!0)},k=()=>{h(!1),y(!1)};return s?t!=="intent"?[p,N,{}]:[p,N,{onFocus:Ma(C,O),onBlur:Ma(v,k),onMouseEnter:Ma(x,O),onMouseLeave:Ma(E,k),onTouchStart:Ma(T,O)}]:[!1,N,{}]}function Ma(t,i){return s=>{t&&t(s),s.defaultPrevented||i(s)}}function rw({page:t,...i}){let{router:s}=ew(),c=L.useMemo(()=>og(s.routes,t,s.basename),[s.routes,t,s.basename]);return c?L.createElement(sw,{page:t,matches:c,...i}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function iw(t){let{manifest:i,routeModules:s}=xg(),[c,h]=L.useState([]);return L.useEffect(()=>{let p=!1;return Zy(t,i,s).then(y=>{p||h(y)}),()=>{p=!0}},[t,i,s]),c}function sw({page:t,matches:i,...s}){let c=vi(),{manifest:h,routeModules:p}=xg(),{loaderData:y,matches:C}=tw(),v=L.useMemo(()=>x1(t,i,C,h,c,"data"),[t,i,C,h,c]),x=L.useMemo(()=>x1(t,i,C,h,c,"assets"),[t,i,C,h,c]),E=L.useMemo(()=>{if(t===c.pathname+c.search+c.hash)return[];let O=new Set,k=!1;if(i.forEach(F=>{var H;let z=h.routes[F.route.id];!z||!z.hasLoader||(!v.some(V=>V.route.id===F.route.id)&&F.route.id in y&&((H=p[F.route.id])!=null&&H.shouldRevalidate)||z.hasClientLoader?k=!0:O.add(F.route.id))}),O.size===0)return[];let B=Jy(t);return k&&O.size>0&&B.searchParams.set("_routes",i.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[B.pathname+B.search]},[y,c,h,v,i,t,p]),T=L.useMemo(()=>Ky(x,h),[x,h]),N=iw(x);return L.createElement(L.Fragment,null,E.map(O=>L.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...s})),T.map(O=>L.createElement("link",{key:O,rel:"modulepreload",href:O,...s})),N.map(({key:O,link:k})=>L.createElement("link",{key:O,...k})))}function ow(...t){return i=>{t.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var yg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yg&&(window.__reactRouterVersion="7.0.2")}catch{}function aw({basename:t,children:i,window:s}){let c=L.useRef();c.current==null&&(c.current=Z2({window:s,v5Compat:!0}));let h=c.current,[p,y]=L.useState({action:h.action,location:h.location}),C=L.useCallback(v=>{L.startTransition(()=>y(v))},[y]);return L.useLayoutEffect(()=>h.listen(C),[h,C]),L.createElement(ky,{basename:t,children:i,location:p.location,navigationType:p.action,navigator:h})}var wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vg=L.forwardRef(function({onClick:i,discover:s="render",prefetch:c="none",relative:h,reloadDocument:p,replace:y,state:C,target:v,to:x,preventScrollReset:E,viewTransition:T,...N},O){let{basename:k}=L.useContext(yi),B=typeof x=="string"&&wg.test(x),F,z=!1;if(typeof x=="string"&&B&&(F=x,yg))try{let te=new URL(window.location.href),_e=x.startsWith("//")?new URL(te.protocol+x):new URL(x),Le=ws(_e.pathname,k);_e.origin===te.origin&&Le!=null?x=Le+_e.search+_e.hash:z=!0}catch{mi(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=vy(x,{relative:h}),[V,ne,se]=nw(c,N),ce=fw(x,{replace:y,state:C,target:v,preventScrollReset:E,relative:h,viewTransition:T});function q(te){i&&i(te),te.defaultPrevented||ce(te)}let ue=L.createElement("a",{...N,...se,href:F||H,onClick:z||p?i:q,ref:ow(O,ne),target:v,"data-discover":!B&&s==="render"?"true":void 0});return V&&!B?L.createElement(L.Fragment,null,ue,L.createElement(rw,{page:H})):ue});vg.displayName="Link";var lw=L.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:c="",end:h=!1,style:p,to:y,viewTransition:C,children:v,...x},E){let T=qa(y,{relative:x.relative}),N=vi(),O=L.useContext(ju),{navigator:k,basename:B}=L.useContext(yi),F=O!=null&&mw(T)&&C===!0,z=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,H=N.pathname,V=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;s||(H=H.toLowerCase(),V=V?V.toLowerCase():null,z=z.toLowerCase()),V&&B&&(V=ws(V,B)||V);const ne=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let se=H===z||!h&&H.startsWith(z)&&H.charAt(ne)==="/",ce=V!=null&&(V===z||!h&&V.startsWith(z)&&V.charAt(z.length)==="/"),q={isActive:se,isPending:ce,isTransitioning:F},ue=se?i:void 0,te;typeof c=="function"?te=c(q):te=[c,se?"active":null,ce?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let _e=typeof p=="function"?p(q):p;return L.createElement(vg,{...x,"aria-current":ue,className:te,ref:E,style:_e,to:y,viewTransition:C},typeof v=="function"?v(q):v)});lw.displayName="NavLink";var uw=L.forwardRef(({discover:t="render",fetcherKey:i,navigate:s,reloadDocument:c,replace:h,state:p,method:y=vu,action:C,onSubmit:v,relative:x,preventScrollReset:E,viewTransition:T,...N},O)=>{let k=pw(),B=gw(C,{relative:x}),F=y.toLowerCase()==="get"?"get":"post",z=typeof C=="string"&&wg.test(C),H=V=>{if(v&&v(V),V.defaultPrevented)return;V.preventDefault();let ne=V.nativeEvent.submitter,se=(ne==null?void 0:ne.getAttribute("formmethod"))||y;k(ne||V.currentTarget,{fetcherKey:i,method:se,navigate:s,replace:h,state:p,relative:x,preventScrollReset:E,viewTransition:T})};return L.createElement("form",{ref:O,method:F,action:B,onSubmit:c?v:H,...N,"data-discover":!z&&t==="render"?"true":void 0})});uw.displayName="Form";function cw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cg(t){let i=L.useContext(Uo);return sn(i,cw(t)),i}function fw(t,{target:i,replace:s,state:c,preventScrollReset:h,relative:p,viewTransition:y}={}){let C=ni(),v=vi(),x=qa(t,{relative:p});return L.useCallback(E=>{if(Vy(E,i)){E.preventDefault();let T=s!==void 0?s:Ua(v)===Ua(x);C(t,{replace:T,state:c,preventScrollReset:h,relative:p,viewTransition:y})}},[v,C,x,s,c,i,t,h,p,y])}var dw=0,hw=()=>`__${String(++dw)}__`;function pw(){let{router:t}=Cg("useSubmit"),{basename:i}=L.useContext(yi),s=Dy();return L.useCallback(async(c,h={})=>{let{action:p,method:y,encType:C,formData:v,body:x}=Gy(c,i);if(h.navigate===!1){let E=h.fetcherKey||hw();await t.fetch(E,s,h.action||p,{preventScrollReset:h.preventScrollReset,formData:v,body:x,formMethod:h.method||y,formEncType:h.encType||C,flushSync:h.flushSync})}else await t.navigate(h.action||p,{preventScrollReset:h.preventScrollReset,formData:v,body:x,formMethod:h.method||y,formEncType:h.encType||C,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[t,i,s])}function gw(t,{relative:i}={}){let{basename:s}=L.useContext(yi),c=L.useContext(wi);sn(c,"useFormAction must be used inside a RouteContext");let[h]=c.matches.slice(-1),p={...qa(t||".",{relative:i})},y=vi();if(t==null){p.search=y.search;let C=new URLSearchParams(p.search),v=C.getAll("index");if(v.some(E=>E==="")){C.delete("index"),v.filter(T=>T).forEach(T=>C.append("index",T));let E=C.toString();p.search=E?`?${E}`:""}}return(!t||t===".")&&h.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(p.pathname=p.pathname==="/"?s:zi([s,p.pathname])),Ua(p)}function mw(t,i={}){let s=L.useContext(dg);sn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=Cg("useViewTransitionState"),h=qa(t,{relative:i.relative});if(!s.isTransitioning)return!1;let p=ws(s.currentLocation.pathname,c)||s.currentLocation.pathname,y=ws(s.nextLocation.pathname,c)||s.nextLocation.pathname;return Iu(h.pathname,y)!=null||Iu(h.pathname,p)!=null}new TextEncoder;function Eg(){const t="./assets",i="/sounds/banger.mp3",s=ni(),c=L.useRef(new Audio(t+i)),[h,p]=L.useState(!1),[y,C]=L.useState(!1),[v,x]=L.useState(null),[E,T]=L.useState(!1),[N,O]=L.useState(!1);L.useEffect(()=>{const V=c.current,ne=()=>{V.pause(),V.currentTime=0,C(!1),z(),s("/")};return V.addEventListener("ended",ne),()=>V.removeEventListener("ended",ne)},[N]);function k(){x(null),c.current.load(),c.current.play().then(()=>{c.current.pause(),c.current.currentTime=0,p(!0),C(!0),T(!0),F()}).catch(V=>{console.error("Error loading audio:",V),x("Failed to load audio. Please check the file path and format."),T(!1)})}function B(){return!!(c.current&&!c.current.paused)}function F(){c.current.paused?c.current.play().catch(V=>{console.error("Error playing audio:",V),x("Failed to play audio. Please try again.")}):c.current.currentTime=0}function z(){c.current&&(c.current.pause(),c.current.currentTime=0,c.current.src="",c.current=null)}function H(V){c.current.currentTime=V}return{audioRef:c,error:v,playSound:F,loadSound:k,seekTo:H,cancelSound:z,checkSound:B,soundEnabled:E,setSoundEnabled:T,isPlaying:y}}var ke;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ke||(ke={}));var y1=new Map([[ke.QR_CODE,"QR_CODE"],[ke.AZTEC,"AZTEC"],[ke.CODABAR,"CODABAR"],[ke.CODE_39,"CODE_39"],[ke.CODE_93,"CODE_93"],[ke.CODE_128,"CODE_128"],[ke.DATA_MATRIX,"DATA_MATRIX"],[ke.MAXICODE,"MAXICODE"],[ke.ITF,"ITF"],[ke.EAN_13,"EAN_13"],[ke.EAN_8,"EAN_8"],[ke.PDF_417,"PDF_417"],[ke.RSS_14,"RSS_14"],[ke.RSS_EXPANDED,"RSS_EXPANDED"],[ke.UPC_A,"UPC_A"],[ke.UPC_E,"UPC_E"],[ke.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),w1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(w1||(w1={}));function xw(t){return Object.values(ke).includes(t)}var vs;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(vs||(vs={}));var ti=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[vs.SCAN_TYPE_CAMERA,vs.SCAN_TYPE_FILE],t}(),Ag=function(){function t(i,s){this.format=i,this.formatName=s}return t.prototype.toString=function(){return this.formatName},t.create=function(i){if(!y1.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new t(i,y1.get(i))},t}(),v1=function(){function t(){}return t.createFromText=function(i){var s={text:i};return{decodedText:i,result:s}},t.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},t}(),zf;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(zf||(zf={}));var Sg=function(){function t(){}return t.createFrom=function(i){return{errorMessage:i,type:zf.UNKWOWN_ERROR}},t}(),Tg=function(){function t(i){this.verbose=i}return t.prototype.log=function(i){this.verbose&&console.log(i)},t.prototype.warn=function(i){this.verbose&&console.warn(i)},t.prototype.logError=function(i,s){(this.verbose||s===!0)&&console.error(i)},t.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},t}();function fi(t){return typeof t>"u"||t===null}function yw(t,i,s){return t>s?s:t<i?i:t}var Ro=function(){function t(){}return t.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},t.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Pt=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(i){return"Last Match: ".concat(i)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),C1=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),Ig=function(){function t(){}return t.isMediaStreamConstraintsValid=function(i,s){if(typeof i!="object"){var c=typeof i;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(c,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(h),y=Object.keys(i),C=0,v=y;C<v.length;C++){var x=v[C];if(p.has(x))return s.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),Da={exports:{}},ww=Da.exports,E1;function vw(){return E1||(E1=1,function(t,i){(function(s,c){c(i)})(ww,function(s){function c(R){return R==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,e){R.__proto__=e}||function(R,e){for(var r in e)e.hasOwnProperty(r)&&(R[r]=e[r])};function p(R,e){h(R,e);function r(){this.constructor=R}R.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function y(R,e){var r=Object.setPrototypeOf;r?r(R,e):R.__proto__=e}function C(R,e){e===void 0&&(e=R.constructor);var r=Error.captureStackTrace;r&&r(R,e)}var v=function(R){p(e,R);function e(r){var o=this.constructor,l=R.call(this,r)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),y(l,o.prototype),C(l),l}return e}(Error);class x extends v{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class T extends x{}T.kind="IllegalArgumentException";class N{constructor(e){if(this.binarizer=e,e===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,o,l){const u=this.binarizer.getLuminanceSource().crop(e,r,o,l);return new N(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends x{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class k{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(e,r,o,l,u){for(;u--;)o[l++]=e[r++]}static currentTimeMillis(){return Date.now()}}class F extends x{}F.kind="IndexOutOfBoundsException";class z extends F{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}z.kind="ArrayIndexOutOfBoundsException";class H{static fill(e,r){for(let o=0,l=e.length;o<l;o++)e[o]=r}static fillWithin(e,r,o,l){H.rangeCheck(e.length,r,o);for(let u=r;u<o;u++)e[u]=l}static rangeCheck(e,r,o){if(r>o)throw new T("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new z(r);if(o>e)throw new z(o)}static asList(...e){return e}static create(e,r,o){return Array.from({length:e}).map(u=>Array.from({length:r}).fill(o))}static createInt32Array(e,r,o){return Array.from({length:e}).map(u=>Int32Array.from({length:r}).fill(o))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let o=0,l=e.length;o<l;o++)if(e[o]!==r[o])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const o of e)r=31*r+o;return r}static fillUint8Array(e,r){for(let o=0;o!==e.length;o++)e[o]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const o=new Uint8Array(r);return o.set(e),o}return e.slice(0,r)}static copyOfRange(e,r,o){const l=o-r,u=new Int32Array(l);return B.arraycopy(e,r,u,0,l),u}static binarySearch(e,r,o){o===void 0&&(o=H.numberComparator);let l=0,u=e.length-1;for(;l<=u;){const f=u+l>>1,g=o(r,e[f]);if(g>0)l=f+1;else if(g<0)u=f-1;else return f}return-l-1}static numberComparator(e,r){return e-r}}class V{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let o=31;return r=e<<16,r!==0&&(o-=16,e=r),r=e<<8,r!==0&&(o-=8,e=r),r=e<<4,r!==0&&(o-=4,e=r),r=e<<2,r!==0&&(o-=2,e=r),o-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ne{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=ne.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=ne.makeArray(e);B.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const o=this.bits;let l=Math.floor(e/32),u=o[l];u&=~((1<<(e&31))-1);const f=o.length;for(;u===0;){if(++l===f)return r;u=o[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>r?r:g}getNextUnset(e){const r=this.size;if(e>=r)return r;const o=this.bits;let l=Math.floor(e/32),u=~o[l];u&=~((1<<(e&31))-1);const f=o.length;for(;u===0;){if(++l===f)return r;u=~o[l]}const g=l*32+V.numberOfTrailingZeros(u);return g>r?r:g}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new T;if(r===e)return;r--;const o=Math.floor(e/32),l=Math.floor(r/32),u=this.bits;for(let f=o;f<=l;f++){const g=f>o?0:e&31,A=(2<<(f<l?31:r&31))-(1<<g);u[f]|=A}}clear(){const e=this.bits.length,r=this.bits;for(let o=0;o<e;o++)r[o]=0}isRange(e,r,o){if(r<e||e<0||r>this.size)throw new T;if(r===e)return!0;r--;const l=Math.floor(e/32),u=Math.floor(r/32),f=this.bits;for(let g=l;g<=u;g++){const w=g>l?0:e&31,b=(2<<(g<u?31:r&31))-(1<<w)&4294967295;if((f[g]&b)!==(o?b:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((e>>o-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(e.get(o))}xor(e){if(this.size!==e.size)throw new T("Sizes don't match");const r=this.bits;for(let o=0,l=r.length;o<l;o++)r[o]^=e.bits[o]}toBytes(e,r,o,l){for(let u=0;u<l;u++){let f=0;for(let g=0;g<8;g++)this.get(e)&&(f|=1<<7-g),e++;r[o+u]=f}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,l=this.bits;for(let u=0;u<o;u++){let f=l[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,e[r-u]=f}if(this.size!==o*32){const u=o*32-this.size;let f=e[0]>>>u;for(let g=1;g<o;g++){const w=e[g];f|=w<<32-u,e[g-1]=f,f=w>>>u}e[o-1]=f}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ne))return!1;const r=e;return this.size===r.size&&H.equals(this.bits,r.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let e="";for(let r=0,o=this.size;r<o;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new ne(this.size,this.bits.slice())}}var se;(function(R){R[R.OTHER=0]="OTHER",R[R.PURE_BARCODE=1]="PURE_BARCODE",R[R.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",R[R.TRY_HARDER=3]="TRY_HARDER",R[R.CHARACTER_SET=4]="CHARACTER_SET",R[R.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",R[R.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",R[R.ASSUME_GS1=7]="ASSUME_GS1",R[R.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",R[R.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",R[R.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(se||(se={}));var ce=se;class q extends x{static getFormatInstance(){return new q}}q.kind="FormatException";var ue;(function(R){R[R.Cp437=0]="Cp437",R[R.ISO8859_1=1]="ISO8859_1",R[R.ISO8859_2=2]="ISO8859_2",R[R.ISO8859_3=3]="ISO8859_3",R[R.ISO8859_4=4]="ISO8859_4",R[R.ISO8859_5=5]="ISO8859_5",R[R.ISO8859_6=6]="ISO8859_6",R[R.ISO8859_7=7]="ISO8859_7",R[R.ISO8859_8=8]="ISO8859_8",R[R.ISO8859_9=9]="ISO8859_9",R[R.ISO8859_10=10]="ISO8859_10",R[R.ISO8859_11=11]="ISO8859_11",R[R.ISO8859_13=12]="ISO8859_13",R[R.ISO8859_14=13]="ISO8859_14",R[R.ISO8859_15=14]="ISO8859_15",R[R.ISO8859_16=15]="ISO8859_16",R[R.SJIS=16]="SJIS",R[R.Cp1250=17]="Cp1250",R[R.Cp1251=18]="Cp1251",R[R.Cp1252=19]="Cp1252",R[R.Cp1256=20]="Cp1256",R[R.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",R[R.UTF8=22]="UTF8",R[R.ASCII=23]="ASCII",R[R.Big5=24]="Big5",R[R.GB18030=25]="GB18030",R[R.EUC_KR=26]="EUC_KR"})(ue||(ue={}));class te{constructor(e,r,o,...l){this.valueIdentifier=e,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,te.VALUE_IDENTIFIER_TO_ECI.set(e,this),te.NAME_TO_ECI.set(o,this);const u=this.values;for(let f=0,g=u.length;f!==g;f++){const w=u[f];te.VALUES_TO_ECI.set(w,this)}for(const f of l)te.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new q("incorect value");const r=te.VALUES_TO_ECI.get(e);if(r===void 0)throw new q("incorect value");return r}static getCharacterSetECIByName(e){const r=te.NAME_TO_ECI.get(e);if(r===void 0)throw new q("incorect value");return r}equals(e){if(!(e instanceof te))return!1;const r=e;return this.getName()===r.getName()}}te.VALUE_IDENTIFIER_TO_ECI=new Map,te.VALUES_TO_ECI=new Map,te.NAME_TO_ECI=new Map,te.Cp437=new te(ue.Cp437,Int32Array.from([0,2]),"Cp437"),te.ISO8859_1=new te(ue.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),te.ISO8859_2=new te(ue.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),te.ISO8859_3=new te(ue.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),te.ISO8859_4=new te(ue.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),te.ISO8859_5=new te(ue.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),te.ISO8859_6=new te(ue.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),te.ISO8859_7=new te(ue.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),te.ISO8859_8=new te(ue.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),te.ISO8859_9=new te(ue.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),te.ISO8859_10=new te(ue.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),te.ISO8859_11=new te(ue.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),te.ISO8859_13=new te(ue.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),te.ISO8859_14=new te(ue.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),te.ISO8859_15=new te(ue.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),te.ISO8859_16=new te(ue.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),te.SJIS=new te(ue.SJIS,20,"SJIS","Shift_JIS"),te.Cp1250=new te(ue.Cp1250,21,"Cp1250","windows-1250"),te.Cp1251=new te(ue.Cp1251,22,"Cp1251","windows-1251"),te.Cp1252=new te(ue.Cp1252,23,"Cp1252","windows-1252"),te.Cp1256=new te(ue.Cp1256,24,"Cp1256","windows-1256"),te.UnicodeBigUnmarked=new te(ue.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),te.UTF8=new te(ue.UTF8,26,"UTF8","UTF-8"),te.ASCII=new te(ue.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),te.Big5=new te(ue.Big5,28,"Big5"),te.GB18030=new te(ue.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),te.EUC_KR=new te(ue.EUC_KR,30,"EUC_KR","EUC-KR");class _e extends x{}_e.kind="UnsupportedOperationException";class Le{static decode(e,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(e,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(e,o):new TextDecoder(o).decode(e)}static shouldDecodeOnFallback(e){return!Le.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(e,o):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof te?e:te.getCharacterSetECIByName(e)}static decodeFallback(e,r){const o=this.encodingCharacterSet(r);if(Le.isDecodeFallbackSupported(o)){let l="";for(let u=0,f=e.length;u<f;u++){let g=e[u].toString(16);g.length<2&&(g="0"+g),l+="%"+g}return decodeURIComponent(l)}if(o.equals(te.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _e(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(te.UTF8)||e.equals(te.ISO8859_1)||e.equals(te.ASCII)}static encodeFallback(e){const o=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let u=0;u<o.length;u++)l.push(o[u].charCodeAt(0));return new Uint8Array(l)}}class Ne{static castAsNonUtf8Char(e,r=null){const o=r?r.getName():this.ISO88591;return Le.decode(new Uint8Array([e]),o)}static guessEncoding(e,r){if(r!=null&&r.get(ce.CHARACTER_SET)!==void 0)return r.get(ce.CHARACTER_SET).toString();const o=e.length;let l=!0,u=!0,f=!0,g=0,w=0,A=0,b=0,M=0,P=0,U=0,G=0,X=0,$=0,oe=0;const Ae=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Te=0;Te<o&&(l||u||f);Te++){const xe=e[Te]&255;f&&(g>0?xe&128?g--:f=!1:xe&128&&(xe&64?(g++,xe&32?(g++,xe&16?(g++,xe&8?f=!1:b++):A++):w++):f=!1)),l&&(xe>127&&xe<160?l=!1:xe>159&&(xe<192||xe===215||xe===247)&&oe++),u&&(M>0?xe<64||xe===127||xe>252?u=!1:M--:xe===128||xe===160||xe>239?u=!1:xe>160&&xe<224?(P++,G=0,U++,U>X&&(X=U)):xe>127?(M++,U=0,G++,G>$&&($=G)):(U=0,G=0))}return f&&g>0&&(f=!1),u&&M>0&&(u=!1),f&&(Ae||w+A+b>0)?Ne.UTF8:u&&(Ne.ASSUME_SHIFT_JIS||X>=3||$>=3)?Ne.SHIFT_JIS:l&&u?X===2&&P===2||oe*10>=o?Ne.SHIFT_JIS:Ne.ISO88591:l?Ne.ISO88591:u?Ne.SHIFT_JIS:f?Ne.UTF8:Ne.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let o=-1;function l(f,g,w,A,b,M){if(f==="%%")return"%";if(r[++o]===void 0)return;f=A?parseInt(A.substr(1)):void 0;let P=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=r[o];break;case"c":U=r[o][0];break;case"f":U=parseFloat(r[o]).toFixed(f);break;case"p":U=parseFloat(r[o]).toPrecision(f);break;case"e":U=parseFloat(r[o]).toExponential(f);break;case"x":U=parseInt(r[o]).toString(P||16);break;case"d":U=parseFloat(parseInt(r[o],P||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(P);let G=parseInt(w),X=w&&w[0]+""=="0"?"0":" ";for(;U.length<G;)U=g!==void 0?U+X:X+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}static getBytes(e,r){return Le.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}Ne.SHIFT_JIS=te.SJIS.getName(),Ne.GB2312="GB2312",Ne.ISO88591=te.ISO8859_1.getName(),Ne.EUC_JP="EUC_JP",Ne.UTF8=te.UTF8.getName(),Ne.PLATFORM_DEFAULT_ENCODING=Ne.UTF8,Ne.ASSUME_SHIFT_JIS=!1;class Ge{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ne.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,o){for(let l=r;r<r+o;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class Re{constructor(e,r,o,l){if(this.width=e,this.height=r,this.rowSize=o,this.bits=l,r==null&&(r=e),this.height=r,e<1||r<1)throw new T("Both dimensions must be greater than 0");o==null&&(o=Math.floor((e+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,o=e[0].length,l=new Re(o,r);for(let u=0;u<r;u++){const f=e[u];for(let g=0;g<o;g++)f[g]&&l.set(g,u)}return l}static parseFromString(e,r,o){if(e===null)throw new T("stringRepresentation cannot be null");const l=new Array(e.length);let u=0,f=0,g=-1,w=0,A=0;for(;A<e.length;)if(e.charAt(A)===`
`||e.charAt(A)==="\r"){if(u>f){if(g===-1)g=u-f;else if(u-f!==g)throw new T("row lengths do not match");f=u,w++}A++}else if(e.substring(A,A+r.length)===r)A+=r.length,l[u]=!0,u++;else if(e.substring(A,A+o.length)===o)A+=o.length,l[u]=!1,u++;else throw new T("illegal character encountered: "+e.substring(A));if(u>f){if(g===-1)g=u-f;else if(u-f!==g)throw new T("row lengths do not match");w++}const b=new Re(g,w);for(let M=0;M<u;M++)l[M]&&b.set(Math.floor(M%g),Math.floor(M/g));return b}get(e,r){const o=r*this.rowSize+Math.floor(e/32);return(this.bits[o]>>>(e&31)&1)!==0}set(e,r){const o=r*this.rowSize+Math.floor(e/32);this.bits[o]|=1<<(e&31)&4294967295}unset(e,r){const o=r*this.rowSize+Math.floor(e/32);this.bits[o]&=~(1<<(e&31)&4294967295)}flip(e,r){const o=r*this.rowSize+Math.floor(e/32);this.bits[o]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new T("input matrix dimensions do not match");const r=new ne(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let u=0,f=this.height;u<f;u++){const g=u*o,w=e.getRow(u,r).getBitArray();for(let A=0;A<o;A++)l[g+A]^=w[A]}}clear(){const e=this.bits,r=e.length;for(let o=0;o<r;o++)e[o]=0}setRegion(e,r,o,l){if(r<0||e<0)throw new T("Left and top must be nonnegative");if(l<1||o<1)throw new T("Height and width must be at least 1");const u=e+o,f=r+l;if(f>this.height||u>this.width)throw new T("The region must fit inside the matrix");const g=this.rowSize,w=this.bits;for(let A=r;A<f;A++){const b=A*g;for(let M=e;M<u;M++)w[b+Math.floor(M/32)]|=1<<(M&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new ne(this.width):r.clear();const o=this.rowSize,l=this.bits,u=e*o;for(let f=0;f<o;f++)r.setBulk(f*32,l[u+f]);return r}setRow(e,r){B.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let o=new ne(e),l=new ne(e);for(let u=0,f=Math.floor((r+1)/2);u<f;u++)o=this.getRow(u,o),l=this.getRow(r-1-u,l),o.reverse(),l.reverse(),this.setRow(u,l),this.setRow(r-1-u,o)}getEnclosingRectangle(){const e=this.width,r=this.height,o=this.rowSize,l=this.bits;let u=e,f=r,g=-1,w=-1;for(let A=0;A<r;A++)for(let b=0;b<o;b++){const M=l[A*o+b];if(M!==0){if(A<f&&(f=A),A>w&&(w=A),b*32<u){let P=0;for(;!(M<<31-P&4294967295);)P++;b*32+P<u&&(u=b*32+P)}if(b*32+31>g){let P=31;for(;!(M>>>P);)P--;b*32+P>g&&(g=b*32+P)}}}return g<u||w<f?null:Int32Array.from([u,f,g-u+1,w-f+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const l=o/e;let u=o%e*32;const f=r[o];let g=0;for(;!(f<<31-g&4294967295);)g++;return u+=g,Int32Array.from([u,l])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/e);let u=Math.floor(o%e)*32;const f=r[o];let g=31;for(;!(f>>>g);)g--;return u+=g,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Re))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&H.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+H.hashCode(this.bits),e}toString(e="X ",r="  ",o=`
`){return this.buildToString(e,r,o)}buildToString(e,r,o){let l=new Ge;for(let u=0,f=this.height;u<f;u++){for(let g=0,w=this.width;g<w;g++)l.append(this.get(g,u)?e:r);l.append(o)}return l.toString()}clone(){return new Re(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends x{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class Ve extends k{constructor(e){super(e),this.luminances=Ve.EMPTY,this.buckets=new Int32Array(Ve.LUMINANCE_BUCKETS)}getBlackRow(e,r){const o=this.getLuminanceSource(),l=o.getWidth();r==null||r.getSize()<l?r=new ne(l):r.clear(),this.initArrays(l);const u=o.getRow(e,this.luminances),f=this.buckets;for(let w=0;w<l;w++)f[(u[w]&255)>>Ve.LUMINANCE_SHIFT]++;const g=Ve.estimateBlackPoint(f);if(l<3)for(let w=0;w<l;w++)(u[w]&255)<g&&r.set(w);else{let w=u[0]&255,A=u[1]&255;for(let b=1;b<l-1;b++){const M=u[b+1]&255;(A*4-w-M)/2<g&&r.set(b),w=A,A=M}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),o=e.getHeight(),l=new Re(r,o);this.initArrays(r);const u=this.buckets;for(let w=1;w<5;w++){const A=Math.floor(o*w/5),b=e.getRow(A,this.luminances),M=Math.floor(r*4/5);for(let P=Math.floor(r/5);P<M;P++){const U=b[P]&255;u[U>>Ve.LUMINANCE_SHIFT]++}}const f=Ve.estimateBlackPoint(u),g=e.getMatrix();for(let w=0;w<o;w++){const A=w*r;for(let b=0;b<r;b++)(g[A+b]&255)<f&&l.set(b,w)}return l}createBinarizer(e){return new Ve(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let o=0;o<Ve.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(e){const r=e.length;let o=0,l=0,u=0;for(let b=0;b<r;b++)e[b]>u&&(l=b,u=e[b]),e[b]>o&&(o=e[b]);let f=0,g=0;for(let b=0;b<r;b++){const M=b-l,P=e[b]*M*M;P>g&&(f=b,g=P)}if(l>f){const b=l;l=f,f=b}if(f-l<=r/16)throw new Q;let w=f-1,A=-1;for(let b=f-1;b>l;b--){const M=b-l,P=M*M*(f-b)*(o-e[b]);P>A&&(w=b,A=P)}return w<<Ve.LUMINANCE_SHIFT}}Ve.LUMINANCE_BITS=5,Ve.LUMINANCE_SHIFT=8-Ve.LUMINANCE_BITS,Ve.LUMINANCE_BUCKETS=1<<Ve.LUMINANCE_BITS,Ve.EMPTY=Uint8ClampedArray.from([0]);class Se extends Ve{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),o=e.getHeight();if(r>=Se.MINIMUM_DIMENSION&&o>=Se.MINIMUM_DIMENSION){const l=e.getMatrix();let u=r>>Se.BLOCK_SIZE_POWER;r&Se.BLOCK_SIZE_MASK&&u++;let f=o>>Se.BLOCK_SIZE_POWER;o&Se.BLOCK_SIZE_MASK&&f++;const g=Se.calculateBlackPoints(l,u,f,r,o),w=new Re(r,o);Se.calculateThresholdForBlock(l,u,f,r,o,g,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Se(e)}static calculateThresholdForBlock(e,r,o,l,u,f,g){const w=u-Se.BLOCK_SIZE,A=l-Se.BLOCK_SIZE;for(let b=0;b<o;b++){let M=b<<Se.BLOCK_SIZE_POWER;M>w&&(M=w);const P=Se.cap(b,2,o-3);for(let U=0;U<r;U++){let G=U<<Se.BLOCK_SIZE_POWER;G>A&&(G=A);const X=Se.cap(U,2,r-3);let $=0;for(let Ae=-2;Ae<=2;Ae++){const Te=f[P+Ae];$+=Te[X-2]+Te[X-1]+Te[X]+Te[X+1]+Te[X+2]}const oe=$/25;Se.thresholdBlock(e,G,M,oe,l,g)}}}static cap(e,r,o){return e<r?r:e>o?o:e}static thresholdBlock(e,r,o,l,u,f){for(let g=0,w=o*u+r;g<Se.BLOCK_SIZE;g++,w+=u)for(let A=0;A<Se.BLOCK_SIZE;A++)(e[w+A]&255)<=l&&f.set(r+A,o+g)}static calculateBlackPoints(e,r,o,l,u){const f=u-Se.BLOCK_SIZE,g=l-Se.BLOCK_SIZE,w=new Array(o);for(let A=0;A<o;A++){w[A]=new Int32Array(r);let b=A<<Se.BLOCK_SIZE_POWER;b>f&&(b=f);for(let M=0;M<r;M++){let P=M<<Se.BLOCK_SIZE_POWER;P>g&&(P=g);let U=0,G=255,X=0;for(let oe=0,Ae=b*l+P;oe<Se.BLOCK_SIZE;oe++,Ae+=l){for(let Te=0;Te<Se.BLOCK_SIZE;Te++){const xe=e[Ae+Te]&255;U+=xe,xe<G&&(G=xe),xe>X&&(X=xe)}if(X-G>Se.MIN_DYNAMIC_RANGE)for(oe++,Ae+=l;oe<Se.BLOCK_SIZE;oe++,Ae+=l)for(let Te=0;Te<Se.BLOCK_SIZE;Te++)U+=e[Ae+Te]&255}let $=U>>Se.BLOCK_SIZE_POWER*2;if(X-G<=Se.MIN_DYNAMIC_RANGE&&($=G/2,A>0&&M>0)){const oe=(w[A-1][M]+2*w[A][M-1]+w[A-1][M-1])/4;G<oe&&($=oe)}w[A][M]=$}}return w}}Se.BLOCK_SIZE_POWER=3,Se.BLOCK_SIZE=1<<Se.BLOCK_SIZE_POWER,Se.BLOCK_SIZE_MASK=Se.BLOCK_SIZE-1,Se.MINIMUM_DIMENSION=Se.BLOCK_SIZE*5,Se.MIN_DYNAMIC_RANGE=24;class he{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,o,l){throw new _e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _e("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new Ge;for(let o=0;o<this.height;o++){const l=this.getRow(o,e);for(let u=0;u<this.width;u++){const f=l[u]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",r.append(g)}r.append(`
`)}return r.toString()}}class De extends he{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const o=this.delegate.getRow(e,r),l=this.getWidth();for(let u=0;u<l;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let l=0;l<r;l++)o[l]=255-(e[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,o,l){return new De(this.delegate.crop(e,r,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new De(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new De(this.delegate.rotateCounterClockwise45())}}class fe extends he{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return fe.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,o){const l=new Uint8ClampedArray(r*o);for(let u=0,f=0,g=e.length;u<g;u+=4,f++){let w;if(e[u+3]===0)w=255;else{const b=e[u],M=e[u+1],P=e[u+2];w=306*b+601*M+117*P+512>>10}l[f]=w}return l}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth(),l=e*o;return r===null?r=this.buffer.slice(l,l+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(l,l+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,o,l){return super.crop(e,r,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),o=r.getContext("2d"),l=e*fe.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*f),w=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*f);return r.width=g,r.height=w,o.translate(g/2,w/2),o.rotate(l),o.drawImage(this.canvas,u/-2,f/-2),this.buffer=fe.makeBufferFromCanvasImageData(r),this}invert(){return new De(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class Z{constructor(e,r,o){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||cu||self||window||void 0)&&(globalThis||cu||self||window||void 0).__awaiter||function(R,e,r,o){function l(u){return u instanceof r?u:new r(function(f){f(u)})}return new(r||(r=Promise))(function(u,f){function g(b){try{A(o.next(b))}catch(M){f(M)}}function w(b){try{A(o.throw(b))}catch(M){f(M)}}function A(b){b.done?u(b.value):l(b.value).then(g,w)}A((o=o.apply(R,e||[])).next())})};class me{constructor(e,r=500,o){this.reader=e,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of e){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const u=o.deviceId||o.id,f=o.label||`Video device ${r.length+1}`,g=o.groupId,w={deviceId:u,label:f,kind:l,groupId:g};r.push(w)}return r})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Z(r.deviceId,r.label))})}findDeviceById(e){return re(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return re(this,void 0,void 0,function*(){this.reset();let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(e,r){return re(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(e,r){return re(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(e,r,o){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,o)})}decodeFromVideoDevice(e,r,o){return re(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,r,o)})}decodeFromConstraints(e,r,o){return re(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,r,o)})}decodeFromStream(e,r,o){return re(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return re(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,e),this.videoElement=o,this.stream=e,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(e){return new Promise((r,o)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const o=document.getElementById(e);if(!o)throw new E(`element with id '${e}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new E(`element with id '${e}' must be an ${r} element`);return o}decodeFromImage(e,r){if(!e&&!r)throw new E("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new E("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,o){if(e===void 0&&r===void 0)throw new E("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(e,o)}decodeFromImageElement(e){if(!e)throw new E("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const o=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(e){if(!e)throw new E("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=e,o}decodeFromVideoUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=e,o}decodeFromVideoUrlContinuously(e,r){if(!e)throw new E("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,r);return o.src=e,l}_decodeOnLoadImage(e){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,o),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,o=!0){this._stopAsyncDecode=!1;const l=(u,f)=>{if(this._stopAsyncDecode){f(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(e);u(g)}catch(g){const w=r&&g instanceof Q,b=(g instanceof O||g instanceof q)&&o;if(w||b)return setTimeout(l,this._timeBetweenDecodingAttempts,u,f);f(g)}};return new Promise((u,f)=>l(u,f))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);r(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){r(null,l);const u=l instanceof O||l instanceof q,f=l instanceof Q;(u||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,o){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),o=new fe(r),l=new Se(o);return new N(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(o=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(o=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),r.style.width=o+"px",r.style.height=l+"px",r.width=o,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class we{constructor(e,r,o=r==null?0:8*r.length,l,u,f=B.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=o,this.resultPoints=l,this.format=u,this.timestamp=f,this.text=e,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=l,this.format=u,this.resultMetadata=null,f==null?this.timestamp=B.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const o=new Array(r.length+e.length);B.arraycopy(r,0,o,0,r.length),B.arraycopy(e,0,o,r.length,e.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var We;(function(R){R[R.AZTEC=0]="AZTEC",R[R.CODABAR=1]="CODABAR",R[R.CODE_39=2]="CODE_39",R[R.CODE_93=3]="CODE_93",R[R.CODE_128=4]="CODE_128",R[R.DATA_MATRIX=5]="DATA_MATRIX",R[R.EAN_8=6]="EAN_8",R[R.EAN_13=7]="EAN_13",R[R.ITF=8]="ITF",R[R.MAXICODE=9]="MAXICODE",R[R.PDF_417=10]="PDF_417",R[R.QR_CODE=11]="QR_CODE",R[R.RSS_14=12]="RSS_14",R[R.RSS_EXPANDED=13]="RSS_EXPANDED",R[R.UPC_A=14]="UPC_A",R[R.UPC_E=15]="UPC_E",R[R.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(We||(We={}));var pe=We,Ue;(function(R){R[R.OTHER=0]="OTHER",R[R.ORIENTATION=1]="ORIENTATION",R[R.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",R[R.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",R[R.ISSUE_NUMBER=4]="ISSUE_NUMBER",R[R.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",R[R.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",R[R.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",R[R.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",R[R.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",R[R.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ue||(Ue={}));var Me=Ue;class it{constructor(e,r,o,l,u=-1,f=-1){this.rawBytes=e,this.text=r,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ft{exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class _t{constructor(e,r){if(r.length===0)throw new T;this.field=e;const o=r.length;if(o>1&&r[0]===0){let l=1;for(;l<o&&r[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),B.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(e===1){o=0;for(let f=0,g=r.length;f!==g;f++){const w=r[f];o=ft.addOrSubtract(o,w)}return o}o=r[0];const l=r.length,u=this.field;for(let f=1;f<l;f++)o=ft.addOrSubtract(u.multiply(e,o),r[f]);return o}addOrSubtract(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,o=e.coefficients;if(r.length>o.length){const f=r;r=o,o=f}let l=new Int32Array(o.length);const u=o.length-r.length;B.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=ft.addOrSubtract(r[f-u],o[f]);return new _t(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,l=e.coefficients,u=l.length,f=new Int32Array(o+u-1),g=this.field;for(let w=0;w<o;w++){const A=r[w];for(let b=0;b<u;b++)f[w+b]=ft.addOrSubtract(f[w+b],g.multiply(A,l[b]))}return new _t(g,f)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,o=this.field,l=new Int32Array(r),u=this.coefficients;for(let f=0;f<r;f++)l[f]=o.multiply(u[f],e);return new _t(o,l)}multiplyByMonomial(e,r){if(e<0)throw new T;if(r===0)return this.field.getZero();const o=this.coefficients,l=o.length,u=new Int32Array(l+e),f=this.field;for(let g=0;g<l;g++)u[g]=f.multiply(o[g],r);return new _t(f,u)}divide(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new T("Divide by 0");const r=this.field;let o=r.getZero(),l=this;const u=e.getCoefficient(e.getDegree()),f=r.inverse(u);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const g=l.getDegree()-e.getDegree(),w=r.multiply(l.getCoefficient(l.getDegree()),f),A=e.multiplyByMonomial(g,w),b=r.buildMonomial(g,w);o=o.addOrSubtract(b),l=l.addOrSubtract(A)}return[o,l]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(e+=" - ",o=-o):e.length>0&&(e+=" + "),r===0||o!==1){const l=this.field.log(o);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class er extends x{}er.kind="ArithmeticException";class ot extends ft{constructor(e,r,o){super(),this.primitive=e,this.size=r,this.generatorBase=o;const l=new Int32Array(r);let u=1;for(let g=0;g<r;g++)l[g]=u,u*=2,u>=r&&(u^=e,u&=r-1);this.expTable=l;const f=new Int32Array(r);for(let g=0;g<r-1;g++)f[l[g]]=g;this.logTable=f,this.zero=new _t(this,Int32Array.from([0])),this.one=new _t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new T;if(r===0)return this.zero;const o=new Int32Array(e+1);return o[0]=r,new _t(this,o)}inverse(e){if(e===0)throw new er;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class Hn extends x{}Hn.kind="ReedSolomonException";class Ut extends x{}Ut.kind="IllegalStateException";class gr{constructor(e){this.field=e}decode(e,r){const o=this.field,l=new _t(o,e),u=new Int32Array(r);let f=!0;for(let U=0;U<r;U++){const G=l.evaluateAt(o.exp(U+o.getGeneratorBase()));u[u.length-1-U]=G,G!==0&&(f=!1)}if(f)return;const g=new _t(o,u),w=this.runEuclideanAlgorithm(o.buildMonomial(r,1),g,r),A=w[0],b=w[1],M=this.findErrorLocations(A),P=this.findErrorMagnitudes(b,M);for(let U=0;U<M.length;U++){const G=e.length-1-o.log(M[U]);if(G<0)throw new Hn("Bad error location");e[G]=ot.addOrSubtract(e[G],P[U])}}runEuclideanAlgorithm(e,r,o){if(e.getDegree()<r.getDegree()){const U=e;e=r,r=U}const l=this.field;let u=e,f=r,g=l.getZero(),w=l.getOne();for(;f.getDegree()>=(o/2|0);){let U=u,G=g;if(u=f,g=w,u.isZero())throw new Hn("r_{i-1} was zero");f=U;let X=l.getZero();const $=u.getCoefficient(u.getDegree()),oe=l.inverse($);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const Ae=f.getDegree()-u.getDegree(),Te=l.multiply(f.getCoefficient(f.getDegree()),oe);X=X.addOrSubtract(l.buildMonomial(Ae,Te)),f=f.addOrSubtract(u.multiplyByMonomial(Ae,Te))}if(w=X.multiply(g).addOrSubtract(G),f.getDegree()>=u.getDegree())throw new Ut("Division algorithm failed to reduce polynomial?")}const A=w.getCoefficient(0);if(A===0)throw new Hn("sigmaTilde(0) was zero");const b=l.inverse(A),M=w.multiplyScalar(b),P=f.multiplyScalar(b);return[M,P]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const o=new Int32Array(r);let l=0;const u=this.field;for(let f=1;f<u.getSize()&&l<r;f++)e.evaluateAt(f)===0&&(o[l]=u.inverse(f),l++);if(l!==r)throw new Hn("Error locator degree does not match number of roots");return o}findErrorMagnitudes(e,r){const o=r.length,l=new Int32Array(o),u=this.field;for(let f=0;f<o;f++){const g=u.inverse(r[f]);let w=1;for(let A=0;A<o;A++)if(f!==A){const b=u.multiply(r[A],g),M=b&1?b&-2:b|1;w=u.multiply(w,M)}l[f]=u.multiply(e.evaluateAt(g),u.inverse(w)),u.getGeneratorBase()!==0&&(l[f]=u.multiply(l[f],g))}return l}}var xt;(function(R){R[R.UPPER=0]="UPPER",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.DIGIT=3]="DIGIT",R[R.PUNCT=4]="PUNCT",R[R.BINARY=5]="BINARY"})(xt||(xt={}));class yt{decode(e){this.ddata=e;let r=e.getBits(),o=this.extractBits(r),l=this.correctBits(o),u=yt.convertBoolArrayToByteArray(l),f=yt.getEncodedData(l),g=new it(u,f,null,null);return g.setNumBits(l.length),g}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,o=xt.UPPER,l=xt.UPPER,u="",f=0;for(;f<r;)if(l===xt.BINARY){if(r-f<5)break;let g=yt.readCode(e,f,5);if(f+=5,g===0){if(r-f<11)break;g=yt.readCode(e,f,11)+31,f+=11}for(let w=0;w<g;w++){if(r-f<8){f=r;break}const A=yt.readCode(e,f,8);u+=Ne.castAsNonUtf8Char(A),f+=8}l=o}else{let g=l===xt.DIGIT?4:5;if(r-f<g)break;let w=yt.readCode(e,f,g);f+=g;let A=yt.getCharacter(l,w);A.startsWith("CTRL_")?(o=l,l=yt.getTable(A.charAt(5)),A.charAt(6)==="L"&&(o=l)):(u+=A,l=o)}return u}static getTable(e){switch(e){case"L":return xt.LOWER;case"P":return xt.PUNCT;case"M":return xt.MIXED;case"D":return xt.DIGIT;case"B":return xt.BINARY;case"U":default:return xt.UPPER}}static getCharacter(e,r){switch(e){case xt.UPPER:return yt.UPPER_TABLE[r];case xt.LOWER:return yt.LOWER_TABLE[r];case xt.MIXED:return yt.MIXED_TABLE[r];case xt.PUNCT:return yt.PUNCT_TABLE[r];case xt.DIGIT:return yt.DIGIT_TABLE[r];default:throw new Ut("Bad table")}}correctBits(e){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=ot.AZTEC_DATA_10):(o=12,r=ot.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=e.length/o;if(u<l)throw new q;let f=e.length%o,g=new Int32Array(u);for(let P=0;P<u;P++,f+=o)g[P]=yt.readCode(e,f,o);try{new gr(r).decode(g,u-l)}catch(P){throw new q(P)}let w=(1<<o)-1,A=0;for(let P=0;P<l;P++){let U=g[P];if(U===0||U===w)throw new q;(U===1||U===w-1)&&A++}let b=new Array(l*o-A),M=0;for(let P=0;P<l;P++){let U=g[P];if(U===1||U===w-1)b.fill(U>1,M,M+o-1),M+=o-1;else for(let G=o-1;G>=0;--G)b[M++]=(U&1<<G)!==0}return b}extractBits(e){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(r?11:14)+o*4,u=new Int32Array(l),f=new Array(this.totalBitsInLayer(o,r));if(r)for(let g=0;g<u.length;g++)u[g]=g;else{let g=l+1+2*V.truncDivision(V.truncDivision(l,2)-1,15),w=l/2,A=V.truncDivision(g,2);for(let b=0;b<w;b++){let M=b+V.truncDivision(b,15);u[w-b-1]=A-M-1,u[w+b]=A+M+1}}for(let g=0,w=0;g<o;g++){let A=(o-g)*4+(r?9:12),b=g*2,M=l-1-b;for(let P=0;P<A;P++){let U=P*2;for(let G=0;G<2;G++)f[w+U+G]=e.get(u[b+G],u[b+P]),f[w+2*A+U+G]=e.get(u[b+P],u[M-G]),f[w+4*A+U+G]=e.get(u[M-G],u[M-P]),f[w+6*A+U+G]=e.get(u[M-P],u[b+G])}w+=A*8}return f}static readCode(e,r,o){let l=0;for(let u=r;u<r+o;u++)l<<=1,e[u]&&(l|=1);return l}static readByte(e,r){let o=e.length-r;return o>=8?yt.readCode(e,r,8):yt.readCode(e,r,o)<<8-o}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let o=0;o<r.length;o++)r[o]=yt.readByte(e,8*o);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}yt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],yt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],yt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],yt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],yt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class tt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,o,l){const u=e-o,f=r-l;return Math.sqrt(u*u+f*f)}static sum(e){let r=0;for(let o=0,l=e.length;o!==l;o++){const u=e[o];r+=u}return r}}class ar{static floatToIntBits(e){return e}}ar.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ve{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof ve){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ar.floatToIntBits(this.x)+ar.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),o=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let u,f,g;if(o>=r&&o>=l?(f=e[0],u=e[1],g=e[2]):l>=o&&l>=r?(f=e[1],u=e[0],g=e[2]):(f=e[2],u=e[0],g=e[1]),this.crossProductZ(u,f,g)<0){const w=u;u=g,g=w}e[0]=u,e[1]=f,e[2]=g}static distance(e,r){return tt.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,o){const l=r.x,u=r.y;return(o.x-l)*(e.y-u)-(o.y-u)*(e.x-l)}}class $e{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class At extends $e{constructor(e,r,o,l,u){super(e,r),this.compact=o,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class St{constructor(e,r,o,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=St.INIT_SIZE),o==null&&(o=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const u=r/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let e=this.leftInit,r=this.rightInit,o=this.upInit,l=this.downInit,u=!1,f=!0,g=!1,w=!1,A=!1,b=!1,M=!1;const P=this.width,U=this.height;for(;f;){f=!1;let G=!0;for(;(G||!w)&&r<P;)G=this.containsBlackPoint(o,l,r,!1),G?(r++,f=!0,w=!0):w||r++;if(r>=P){u=!0;break}let X=!0;for(;(X||!A)&&l<U;)X=this.containsBlackPoint(e,r,l,!0),X?(l++,f=!0,A=!0):A||l++;if(l>=U){u=!0;break}let $=!0;for(;($||!b)&&e>=0;)$=this.containsBlackPoint(o,l,e,!1),$?(e--,f=!0,b=!0):b||e--;if(e<0){u=!0;break}let oe=!0;for(;(oe||!M)&&o>=0;)oe=this.containsBlackPoint(e,r,o,!0),oe?(o--,f=!0,M=!0):M||o--;if(o<0){u=!0;break}f&&(g=!0)}if(!u&&g){const G=r-e;let X=null;for(let Te=1;X===null&&Te<G;Te++)X=this.getBlackPointOnSegment(e,l-Te,e+Te,l);if(X==null)throw new Q;let $=null;for(let Te=1;$===null&&Te<G;Te++)$=this.getBlackPointOnSegment(e,o+Te,e+Te,o);if($==null)throw new Q;let oe=null;for(let Te=1;oe===null&&Te<G;Te++)oe=this.getBlackPointOnSegment(r,o+Te,r-Te,o);if(oe==null)throw new Q;let Ae=null;for(let Te=1;Ae===null&&Te<G;Te++)Ae=this.getBlackPointOnSegment(r,l-Te,r-Te,l);if(Ae==null)throw new Q;return this.centerEdges(Ae,X,oe,$)}else throw new Q}getBlackPointOnSegment(e,r,o,l){const u=tt.round(tt.distance(e,r,o,l)),f=(o-e)/u,g=(l-r)/u,w=this.image;for(let A=0;A<u;A++){const b=tt.round(e+A*f),M=tt.round(r+A*g);if(w.get(b,M))return new ve(b,M)}return null}centerEdges(e,r,o,l){const u=e.getX(),f=e.getY(),g=r.getX(),w=r.getY(),A=o.getX(),b=o.getY(),M=l.getX(),P=l.getY(),U=St.CORR;return u<this.width/2?[new ve(M-U,P+U),new ve(g+U,w+U),new ve(A-U,b-U),new ve(u+U,f-U)]:[new ve(M+U,P+U),new ve(g+U,w-U),new ve(A-U,b+U),new ve(u-U,f-U)]}containsBlackPoint(e,r,o,l){const u=this.image;if(l){for(let f=e;f<=r;f++)if(u.get(f,o))return!0}else for(let f=e;f<=r;f++)if(u.get(o,f))return!0;return!1}}St.INIT_SIZE=10,St.CORR=1;class Pn{static checkAndNudgePoints(e,r){const o=e.getWidth(),l=e.getHeight();let u=!0;for(let f=0;f<r.length&&u;f+=2){const g=Math.floor(r[f]),w=Math.floor(r[f+1]);if(g<-1||g>o||w<-1||w>l)throw new Q;u=!1,g===-1?(r[f]=0,u=!0):g===o&&(r[f]=o-1,u=!0),w===-1?(r[f+1]=0,u=!0):w===l&&(r[f+1]=l-1,u=!0)}u=!0;for(let f=r.length-2;f>=0&&u;f-=2){const g=Math.floor(r[f]),w=Math.floor(r[f+1]);if(g<-1||g>o||w<-1||w>l)throw new Q;u=!1,g===-1?(r[f]=0,u=!0):g===o&&(r[f]=o-1,u=!0),w===-1?(r[f+1]=0,u=!0):w===l&&(r[f+1]=l-1,u=!0)}}}class wt{constructor(e,r,o,l,u,f,g,w,A){this.a11=e,this.a21=r,this.a31=o,this.a12=l,this.a22=u,this.a32=f,this.a13=g,this.a23=w,this.a33=A}static quadrilateralToQuadrilateral(e,r,o,l,u,f,g,w,A,b,M,P,U,G,X,$){const oe=wt.quadrilateralToSquare(e,r,o,l,u,f,g,w);return wt.squareToQuadrilateral(A,b,M,P,U,G,X,$).times(oe)}transformPoints(e){const r=e.length,o=this.a11,l=this.a12,u=this.a13,f=this.a21,g=this.a22,w=this.a23,A=this.a31,b=this.a32,M=this.a33;for(let P=0;P<r;P+=2){const U=e[P],G=e[P+1],X=u*U+w*G+M;e[P]=(o*U+f*G+A)/X,e[P+1]=(l*U+g*G+b)/X}}transformPointsWithValues(e,r){const o=this.a11,l=this.a12,u=this.a13,f=this.a21,g=this.a22,w=this.a23,A=this.a31,b=this.a32,M=this.a33,P=e.length;for(let U=0;U<P;U++){const G=e[U],X=r[U],$=u*G+w*X+M;e[U]=(o*G+f*X+A)/$,r[U]=(l*G+g*X+b)/$}}static squareToQuadrilateral(e,r,o,l,u,f,g,w){const A=e-o+u-g,b=r-l+f-w;if(A===0&&b===0)return new wt(o-e,u-o,e,l-r,f-l,r,0,0,1);{const M=o-u,P=g-u,U=l-f,G=w-f,X=M*G-P*U,$=(A*G-P*b)/X,oe=(M*b-A*U)/X;return new wt(o-e+$*o,g-e+oe*g,e,l-r+$*l,w-r+oe*w,r,$,oe,1)}}static quadrilateralToSquare(e,r,o,l,u,f,g,w){return wt.squareToQuadrilateral(e,r,o,l,u,f,g,w).buildAdjoint()}buildAdjoint(){return new wt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new wt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Kt extends Pn{sampleGrid(e,r,o,l,u,f,g,w,A,b,M,P,U,G,X,$,oe,Ae,Te){const xe=wt.quadrilateralToQuadrilateral(l,u,f,g,w,A,b,M,P,U,G,X,$,oe,Ae,Te);return this.sampleGridWithTransform(e,r,o,xe)}sampleGridWithTransform(e,r,o,l){if(r<=0||o<=0)throw new Q;const u=new Re(r,o),f=new Float32Array(2*r);for(let g=0;g<o;g++){const w=f.length,A=g+.5;for(let b=0;b<w;b+=2)f[b]=b/2+.5,f[b+1]=A;l.transformPoints(f),Pn.checkAndNudgePoints(e,f);try{for(let b=0;b<w;b+=2)e.get(Math.floor(f[b]),Math.floor(f[b+1]))&&u.set(b/2,g)}catch{throw new Q}}return u}}class Dt{static setGridSampler(e){Dt.gridSampler=e}static getInstance(){return Dt.gridSampler}}Dt.gridSampler=new Kt;class Lt{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new ve(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ln{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(e){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new At(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Q;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(o,r);let l=0;for(let f=0;f<4;f++){let g=o[(this.shift+f)%4];this.compact?(l<<=7,l+=g>>1&127):(l<<=10,l+=(g>>2&992)+(g>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(e,r){let o=0;e.forEach((l,u,f)=>{let g=(l>>r-2<<1)+(l&1);o=(o<<3)+g}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(V.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new Q}getCorrectedParameterData(e,r){let o,l;r?(o=7,l=2):(o=10,l=4);let u=o-l,f=new Int32Array(o);for(let w=o-1;w>=0;--w)f[w]=e&15,e>>=4;try{new gr(ot.AZTEC_PARAM).decode(f,u)}catch{throw new Q}let g=0;for(let w=0;w<l;w++)g=(g<<4)+f[w];return g}getBullsEyeCorners(e){let r=e,o=e,l=e,u=e,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let M=this.getFirstDifferent(r,f,1,-1),P=this.getFirstDifferent(o,f,1,1),U=this.getFirstDifferent(l,f,-1,1),G=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(G,M)*this.nbCenterLayers/(this.distancePoint(u,r)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(M,P,U,G))break}r=M,o=P,l=U,u=G,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let g=new ve(r.getX()+.5,r.getY()-.5),w=new ve(o.getX()+.5,o.getY()+.5),A=new ve(l.getX()-.5,l.getY()+.5),b=new ve(u.getX()-.5,u.getY()-.5);return this.expandSquare([g,w,A,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,o,l;try{let g=new St(this.image).detect();e=g[0],r=g[1],o=g[2],l=g[3]}catch{let w=this.image.getWidth()/2,A=this.image.getHeight()/2;e=this.getFirstDifferent(new Lt(w+7,A-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Lt(w+7,A+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Lt(w-7,A+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Lt(w-7,A-7),!1,-1,-1).toResultPoint()}let u=tt.round((e.getX()+l.getX()+r.getX()+o.getX())/4),f=tt.round((e.getY()+l.getY()+r.getY()+o.getY())/4);try{let g=new St(this.image,15,u,f).detect();e=g[0],r=g[1],o=g[2],l=g[3]}catch{e=this.getFirstDifferent(new Lt(u+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Lt(u+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Lt(u-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Lt(u-7,f-7),!1,-1,-1).toResultPoint()}return u=tt.round((e.getX()+l.getX()+r.getX()+o.getX())/4),f=tt.round((e.getY()+l.getY()+r.getY()+o.getY())/4),new Lt(u,f)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,o,l,u){let f=Dt.getInstance(),g=this.getDimension(),w=g/2-this.nbCenterLayers,A=g/2+this.nbCenterLayers;return f.sampleGrid(e,g,g,w,w,A,w,A,A,w,A,r.getX(),r.getY(),o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(e,r,o){let l=0,u=this.distanceResultPoint(e,r),f=u/o,g=e.getX(),w=e.getY(),A=f*(r.getX()-e.getX())/u,b=f*(r.getY()-e.getY())/u;for(let M=0;M<o;M++)this.image.get(tt.round(g+M*A),tt.round(w+M*b))&&(l|=1<<o-M-1);return l}isWhiteOrBlackRectangle(e,r,o,l){let u=3;e=new Lt(e.getX()-u,e.getY()+u),r=new Lt(r.getX()-u,r.getY()-u),o=new Lt(o.getX()+u,o.getY()-u),l=new Lt(l.getX()+u,l.getY()+u);let f=this.getColor(l,e);if(f===0)return!1;let g=this.getColor(e,r);return g!==f||(g=this.getColor(r,o),g!==f)?!1:(g=this.getColor(o,l),g===f)}getColor(e,r){let o=this.distancePoint(e,r),l=(r.getX()-e.getX())/o,u=(r.getY()-e.getY())/o,f=0,g=e.getX(),w=e.getY(),A=this.image.get(e.getX(),e.getY()),b=Math.ceil(o);for(let P=0;P<b;P++)g+=l,w+=u,this.image.get(tt.round(g),tt.round(w))!==A&&f++;let M=f/o;return M>.1&&M<.9?0:M<=.1===A?1:-1}getFirstDifferent(e,r,o,l){let u=e.getX()+o,f=e.getY()+l;for(;this.isValid(u,f)&&this.image.get(u,f)===r;)u+=o,f+=l;for(u-=o,f-=l;this.isValid(u,f)&&this.image.get(u,f)===r;)u+=o;for(u-=o;this.isValid(u,f)&&this.image.get(u,f)===r;)f+=l;return f-=l,new Lt(u,f)}expandSquare(e,r,o){let l=o/(2*r),u=e[0].getX()-e[2].getX(),f=e[0].getY()-e[2].getY(),g=(e[0].getX()+e[2].getX())/2,w=(e[0].getY()+e[2].getY())/2,A=new ve(g+l*u,w+l*f),b=new ve(g-l*u,w-l*f);u=e[1].getX()-e[3].getX(),f=e[1].getY()-e[3].getY(),g=(e[1].getX()+e[3].getX())/2,w=(e[1].getY()+e[3].getY())/2;let M=new ve(g+l*u,w+l*f),P=new ve(g-l*u,w-l*f);return[A,M,b,P]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=tt.round(e.getX()),o=tt.round(e.getY());return this.isValid(r,o)}distancePoint(e,r){return tt.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return tt.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class tr{decode(e,r=null){let o=null,l=new Ln(e.getBlackMatrix()),u=null,f=null;try{let b=l.detectMirror(!1);u=b.getPoints(),this.reportFoundResultPoints(r,u),f=new yt().decode(b)}catch(b){o=b}if(f==null)try{let b=l.detectMirror(!0);u=b.getPoints(),this.reportFoundResultPoints(r,u),f=new yt().decode(b)}catch(b){throw o??b}let g=new we(f.getText(),f.getRawBytes(),f.getNumBits(),u,pe.AZTEC,B.currentTimeMillis()),w=f.getByteSegments();w!=null&&g.putMetadata(Me.BYTE_SEGMENTS,w);let A=f.getECLevel();return A!=null&&g.putMetadata(Me.ERROR_CORRECTION_LEVEL,A),g}reportFoundResultPoints(e,r){if(e!=null){let o=e.get(ce.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((l,u,f)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class Ci extends me{constructor(e=500){super(new tr,e)}}class It{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(ce.TRY_HARDER)===!0&&e.isRotateSupported()){const u=e.rotateCounterClockwise(),f=this.doDecode(u,r),g=f.getResultMetadata();let w=270;g!==null&&g.get(Me.ORIENTATION)===!0&&(w=w+g.get(Me.ORIENTATION)%360),f.putMetadata(Me.ORIENTATION,w);const A=f.getResultPoints();if(A!==null){const b=u.getHeight();for(let M=0;M<A.length;M++)A[M]=new ve(b-A[M].getY()-1,A[M].getX())}return f}else throw new Q}}reset(){}doDecode(e,r){const o=e.getWidth(),l=e.getHeight();let u=new ne(o);const f=r&&r.get(ce.TRY_HARDER)===!0,g=Math.max(1,l>>(f?8:5));let w;f?w=l:w=15;const A=Math.trunc(l/2);for(let b=0;b<w;b++){const M=Math.trunc((b+1)/2),P=(b&1)===0,U=A+g*(P?M:-M);if(U<0||U>=l)break;try{u=e.getBlackRow(U,u)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(u.reverse(),r&&r.get(ce.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;r.forEach(($,oe)=>X.set(oe,$)),X.delete(ce.NEED_RESULT_POINT_CALLBACK),r=X}try{const X=this.decodeRow(U,u,r);if(G===1){X.putMetadata(Me.ORIENTATION,180);const $=X.getResultPoints();$!==null&&($[0]=new ve(o-$[0].getX()-1,$[0].getY()),$[1]=new ve(o-$[1].getX()-1,$[1].getY()))}return X}catch{}}}throw new Q}static recordPattern(e,r,o){const l=o.length;for(let A=0;A<l;A++)o[A]=0;const u=e.getSize();if(r>=u)throw new Q;let f=!e.get(r),g=0,w=r;for(;w<u;){if(e.get(w)!==f)o[g]++;else{if(++g===l)break;o[g]=1,f=!f}w++}if(!(g===l||g===l-1&&w===u))throw new Q}static recordPatternInReverse(e,r,o){let l=o.length,u=e.get(r);for(;r>0&&l>=0;)e.get(--r)!==u&&(l--,u=!u);if(l>=0)throw new Q;It.recordPattern(e,r+1,o)}static patternMatchVariance(e,r,o){const l=e.length;let u=0,f=0;for(let A=0;A<l;A++)u+=e[A],f+=r[A];if(u<f)return Number.POSITIVE_INFINITY;const g=u/f;o*=g;let w=0;for(let A=0;A<l;A++){const b=e[A],M=r[A]*g,P=b>M?b-M:M-b;if(P>o)return Number.POSITIVE_INFINITY;w+=P}return w/u}}class be extends It{static findStartPattern(e){const r=e.getSize(),o=e.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),f=o,g=!1;const w=6;for(let A=o;A<r;A++)if(e.get(A)!==g)u[l]++;else{if(l===w-1){let b=be.MAX_AVG_VARIANCE,M=-1;for(let P=be.CODE_START_A;P<=be.CODE_START_C;P++){const U=It.patternMatchVariance(u,be.CODE_PATTERNS[P],be.MAX_INDIVIDUAL_VARIANCE);U<b&&(b=U,M=P)}if(M>=0&&e.isRange(Math.max(0,f-(A-f)/2),f,!1))return Int32Array.from([f,A,M]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,g=!g}throw new Q}static decodeCode(e,r,o){It.recordPattern(e,o,r);let l=be.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<be.CODE_PATTERNS.length;f++){const g=be.CODE_PATTERNS[f],w=this.patternMatchVariance(r,g,be.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,u=f)}if(u>=0)return u;throw new Q}decodeRow(e,r,o){const l=o&&o.get(ce.ASSUME_GS1)===!0,u=be.findStartPattern(r),f=u[2];let g=0;const w=new Uint8Array(20);w[g++]=f;let A;switch(f){case be.CODE_START_A:A=be.CODE_CODE_A;break;case be.CODE_START_B:A=be.CODE_CODE_B;break;case be.CODE_START_C:A=be.CODE_CODE_C;break;default:throw new q}let b=!1,M=!1,P="",U=u[0],G=u[1];const X=Int32Array.from([0,0,0,0,0,0]);let $=0,oe=0,Ae=f,Te=0,xe=!0,ct=!1,rt=!1;for(;!b;){const Zr=M;switch(M=!1,$=oe,oe=be.decodeCode(r,X,G),w[g++]=oe,oe!==be.CODE_STOP&&(xe=!0),oe!==be.CODE_STOP&&(Te++,Ae+=Te*oe),U=G,G+=X.reduce((ts,oa)=>ts+oa,0),oe){case be.CODE_START_A:case be.CODE_START_B:case be.CODE_START_C:throw new q}switch(A){case be.CODE_CODE_A:if(oe<64)rt===ct?P+=String.fromCharCode(32+oe):P+=String.fromCharCode(32+oe+128),rt=!1;else if(oe<96)rt===ct?P+=String.fromCharCode(oe-64):P+=String.fromCharCode(oe+64),rt=!1;else switch(oe!==be.CODE_STOP&&(xe=!1),oe){case be.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_A:!ct&&rt?(ct=!0,rt=!1):ct&&rt?(ct=!1,rt=!1):rt=!0;break;case be.CODE_SHIFT:M=!0,A=be.CODE_CODE_B;break;case be.CODE_CODE_B:A=be.CODE_CODE_B;break;case be.CODE_CODE_C:A=be.CODE_CODE_C;break;case be.CODE_STOP:b=!0;break}break;case be.CODE_CODE_B:if(oe<96)rt===ct?P+=String.fromCharCode(32+oe):P+=String.fromCharCode(32+oe+128),rt=!1;else switch(oe!==be.CODE_STOP&&(xe=!1),oe){case be.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_B:!ct&&rt?(ct=!0,rt=!1):ct&&rt?(ct=!1,rt=!1):rt=!0;break;case be.CODE_SHIFT:M=!0,A=be.CODE_CODE_A;break;case be.CODE_CODE_A:A=be.CODE_CODE_A;break;case be.CODE_CODE_C:A=be.CODE_CODE_C;break;case be.CODE_STOP:b=!0;break}break;case be.CODE_CODE_C:if(oe<100)oe<10&&(P+="0"),P+=oe;else switch(oe!==be.CODE_STOP&&(xe=!1),oe){case be.CODE_FNC_1:l&&(P.length===0?P+="]C1":P+="");break;case be.CODE_CODE_A:A=be.CODE_CODE_A;break;case be.CODE_CODE_B:A=be.CODE_CODE_B;break;case be.CODE_STOP:b=!0;break}break}Zr&&(A=A===be.CODE_CODE_A?be.CODE_CODE_B:be.CODE_CODE_A)}const Xn=G-U;if(G=r.getNextUnset(G),!r.isRange(G,Math.min(r.getSize(),G+(G-U)/2),!1))throw new Q;if(Ae-=Te*$,Ae%103!==$)throw new O;const Ar=P.length;if(Ar===0)throw new Q;Ar>0&&xe&&(A===be.CODE_CODE_C?P=P.substring(0,Ar-2):P=P.substring(0,Ar-1));const mn=(u[1]+u[0])/2,Nt=U+Xn/2,en=w.length,jn=new Uint8Array(en);for(let Zr=0;Zr<en;Zr++)jn[Zr]=w[Zr];const Ni=[new ve(mn,e),new ve(Nt,e)];return new we(P,jn,0,Ni,pe.CODE_128,new Date().getTime())}}be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],be.MAX_AVG_VARIANCE=.25,be.MAX_INDIVIDUAL_VARIANCE=.7,be.CODE_SHIFT=98,be.CODE_CODE_C=99,be.CODE_CODE_B=100,be.CODE_CODE_A=101,be.CODE_FNC_1=102,be.CODE_FNC_2=97,be.CODE_FNC_3=96,be.CODE_FNC_4_A=101,be.CODE_FNC_4_B=100,be.CODE_START_A=103,be.CODE_START_B=104,be.CODE_START_C=105,be.CODE_STOP=106;class Qt extends It{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=Qt.findAsteriskPattern(r,l),f=r.getNextSet(u[1]),g=r.getSize(),w,A;do{Qt.recordPattern(r,f,l);let X=Qt.toNarrowWidePattern(l);if(X<0)throw new Q;w=Qt.patternToChar(X),this.decodeRowResult+=w,A=f;for(let $ of l)f+=$;f=r.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let X of l)b+=X;let M=f-A-b;if(f!==g&&M*2<b)throw new Q;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,$=0;for(let oe=0;oe<X;oe++)$+=Qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(oe));if(this.decodeRowResult.charAt(X)!==Qt.ALPHABET_STRING.charAt($%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new Q;let P;this.extendedMode?P=Qt.decodeExtended(this.decodeRowResult):P=this.decodeRowResult;let U=(u[1]+u[0])/2,G=A+b/2;return new we(P,null,0,[new ve(U,e),new ve(G,e)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let o=e.getSize(),l=e.getNextSet(0),u=0,f=l,g=!1,w=r.length;for(let A=l;A<o;A++)if(e.get(A)!==g)r[u]++;else{if(u===w-1){if(this.toNarrowWidePattern(r)===Qt.ASTERISK_ENCODING&&e.isRange(Math.max(0,f-Math.floor((A-f)/2)),f,!1))return[f,A];f+=r[0]+r[1],r.copyWithin(0,2,2+u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,g=!g}throw new Q}static toNarrowWidePattern(e){let r=e.length,o=0,l;do{let u=2147483647;for(let w of e)w<u&&w>o&&(u=w);o=u,l=0;let f=0,g=0;for(let w=0;w<r;w++){let A=e[w];A>o&&(g|=1<<r-1-w,l++,f+=A)}if(l===3){for(let w=0;w<r&&l>0;w++){let A=e[w];if(A>o&&(l--,A*2>=f))return-1}return g}}while(l>3);return-1}static patternToChar(e){for(let r=0;r<Qt.CHARACTER_ENCODINGS.length;r++)if(Qt.CHARACTER_ENCODINGS[r]===e)return Qt.ALPHABET_STRING.charAt(r);if(e===Qt.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(e){let r=e.length,o="";for(let l=0;l<r;l++){let u=e.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=e.charAt(l+1),g="\0";switch(u){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new q;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new q;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new q;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new q;break}o+=g,l++}else o+=u}return o}}Qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Qt.ASTERISK_ENCODING=148;class vt extends It{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,o){let l=this.decodeStart(r),u=this.decodeEnd(r),f=new Ge;vt.decodeMiddle(r,l[1],u[0],f);let g=f.toString(),w=null;o!=null&&(w=o.get(ce.ALLOWED_LENGTHS)),w==null&&(w=vt.DEFAULT_ALLOWED_LENGTHS);let A=g.length,b=!1,M=0;for(let G of w){if(A===G){b=!0;break}G>M&&(M=G)}if(!b&&A>M&&(b=!0),!b)throw new q;const P=[new ve(l[1],e),new ve(u[0],e)];return new we(g,null,0,P,pe.ITF,new Date().getTime())}static decodeMiddle(e,r,o,l){let u=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(u.fill(0),f.fill(0),g.fill(0);r<o;){It.recordPattern(e,r,u);for(let A=0;A<5;A++){let b=2*A;f[A]=u[b],g[A]=u[b+1]}let w=vt.decodeDigit(f);l.append(w.toString()),w=this.decodeDigit(g),l.append(w.toString()),u.forEach(function(A){r+=A})}}decodeStart(e){let r=vt.skipWhiteSpace(e),o=vt.findGuardPattern(e,r,vt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(e,o[0]),o}validateQuietZone(e,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let l=r-1;o>0&&l>=0&&!e.get(l);l--)o--;if(o!==0)throw new Q}static skipWhiteSpace(e){const r=e.getSize(),o=e.getNextSet(0);if(o===r)throw new Q;return o}decodeEnd(e){e.reverse();try{let r=vt.skipWhiteSpace(e),o;try{o=vt.findGuardPattern(e,r,vt.END_PATTERN_REVERSED[0])}catch(u){u instanceof Q&&(o=vt.findGuardPattern(e,r,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,o[0]);let l=o[0];return o[0]=e.getSize()-o[1],o[1]=e.getSize()-l,o}finally{e.reverse()}}static findGuardPattern(e,r,o){let l=o.length,u=new Int32Array(l),f=e.getSize(),g=!1,w=0,A=r;u.fill(0);for(let b=r;b<f;b++)if(e.get(b)!==g)u[w]++;else{if(w===l-1){if(It.patternMatchVariance(u,o,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[A,b];A+=u[0]+u[1],B.arraycopy(u,2,u,0,w-1),u[w-1]=0,u[w]=0,w--}else w++;u[w]=1,g=!g}throw new Q}static decodeDigit(e){let r=vt.MAX_AVG_VARIANCE,o=-1,l=vt.PATTERNS.length;for(let u=0;u<l;u++){let f=vt.PATTERNS[u],g=It.patternMatchVariance(e,f,vt.MAX_INDIVIDUAL_VARIANCE);g<r?(r=g,o=u):g===r&&(o=-1)}if(o>=0)return o%10;throw new Q}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class kt extends It{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,o,l=0,u=Int32Array.from([0,0,0]);for(;!r;){u=Int32Array.from([0,0,0]),o=kt.findGuardPattern(e,l,!1,this.START_END_PATTERN,u);let f=o[0];l=o[1];let g=f-(l-f);g>=0&&(r=e.isRange(g,f,!1))}return o}static checkChecksum(e){return kt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let o=parseInt(e.charAt(r-1),10);return kt.getStandardUPCEANChecksum(e.substring(0,r-1))===o}static getStandardUPCEANChecksum(e){let r=e.length,o=0;for(let l=r-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new q;o+=u}o*=3;for(let l=r-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new q;o+=u}return(1e3-o)%10}static decodeEnd(e,r){return kt.findGuardPattern(e,r,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,o,l){return this.findGuardPattern(e,r,o,l,new Int32Array(l.length))}static findGuardPattern(e,r,o,l,u){let f=e.getSize();r=o?e.getNextUnset(r):e.getNextSet(r);let g=0,w=r,A=l.length,b=o;for(let M=r;M<f;M++)if(e.get(M)!==b)u[g]++;else{if(g===A-1){if(It.patternMatchVariance(u,l,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return Int32Array.from([w,M]);w+=u[0]+u[1];let P=u.slice(2,u.length-1);for(let U=0;U<g-1;U++)u[U]=P[U];u[g-1]=0,u[g]=0,g--}else g++;u[g]=1,b=!b}throw new Q}static decodeDigit(e,r,o,l){this.recordPattern(e,o,r);let u=this.MAX_AVG_VARIANCE,f=-1,g=l.length;for(let w=0;w<g;w++){let A=l[w],b=It.patternMatchVariance(r,A,kt.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,f=w)}if(f>=0)return f;throw new Q}}kt.MAX_AVG_VARIANCE=.48,kt.MAX_INDIVIDUAL_VARIANCE=.7,kt.START_END_PATTERN=Int32Array.from([1,1,1]),kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class mr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(r,o,l),f=l.toString(),g=mr.parseExtensionString(f),w=[new ve((o[0]+o[1])/2,e),new ve(u,e)],A=new we(f,null,0,w,pe.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(e,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=r[1],g=0;for(let A=0;A<5&&f<u;A++){let b=kt.decodeDigit(e,l,f,kt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<4-A),A!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==5)throw new Q;let w=this.determineCheckDigit(g);if(mr.extensionChecksum(o.toString())!==w)throw new Q;return f}static extensionChecksum(e){let r=e.length,o=0;for(let l=r-2;l>=0;l-=2)o+=e.charAt(l).charCodeAt(0)-48;o*=3;for(let l=r-1;l>=0;l-=2)o+=e.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Q}static parseExtensionString(e){if(e.length!==5)return null;let r=mr.parseExtension5String(e);return r==null?null:new Map([[Me.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(e.substring(1)),l=(o/100).toString(),u=o%100,f=u<10?"0"+u:u.toString();return r+l+"."+f}}class Ei{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(r,o,l),f=l.toString(),g=Ei.parseExtensionString(f),w=[new ve((o[0]+o[1])/2,e),new ve(u,e)],A=new we(f,null,0,w,pe.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&A.putAllMetadata(g),A}decodeMiddle(e,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=r[1],g=0;for(let w=0;w<2&&f<u;w++){let A=kt.decodeDigit(e,l,f,kt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+A%10);for(let b of l)f+=b;A>=10&&(g|=1<<1-w),w!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==2)throw new Q;if(parseInt(o.toString())%4!==g)throw new Q;return f}static parseExtensionString(e){return e.length!==2?null:new Map([[Me.ISSUE_NUMBER,parseInt(e)]])}}class Ai{static decodeRow(e,r,o){let l=kt.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new mr().decodeRow(e,r,l)}catch{return new Ei().decodeRow(e,r,l)}}}Ai.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ee extends kt{constructor(){super(),this.decodeRowStringBuffer="",Ee.L_AND_G_PATTERNS=Ee.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=Ee.L_PATTERNS[e-10],o=new Int32Array(r.length);for(let l=0;l<r.length;l++)o[l]=r[r.length-l-1];Ee.L_AND_G_PATTERNS[e]=o}}decodeRow(e,r,o){let l=Ee.findStartGuardPattern(r),u=o==null?null:o.get(ce.NEED_RESULT_POINT_CALLBACK);if(u!=null){const xe=new ve((l[0]+l[1])/2,e);u.foundPossibleResultPoint(xe)}let f=this.decodeMiddle(r,l,this.decodeRowStringBuffer),g=f.rowOffset,w=f.resultString;if(u!=null){const xe=new ve(g,e);u.foundPossibleResultPoint(xe)}let A=this.decodeEnd(r,g);if(u!=null){const xe=new ve((A[0]+A[1])/2,e);u.foundPossibleResultPoint(xe)}let b=A[1],M=b+(b-A[0]);if(M>=r.getSize()||!r.isRange(b,M,!1))throw new Q;let P=w.toString();if(P.length<8)throw new q;if(!Ee.checkChecksum(P))throw new O;let U=(l[1]+l[0])/2,G=(A[1]+A[0])/2,X=this.getBarcodeFormat(),$=[new ve(U,e),new ve(G,e)],oe=new we(P,null,0,$,X,new Date().getTime()),Ae=0;try{let xe=Ai.decodeRow(e,r,A[1]);oe.putMetadata(Me.UPC_EAN_EXTENSION,xe.getText()),oe.putAllMetadata(xe.getResultMetadata()),oe.addResultPoints(xe.getResultPoints()),Ae=xe.getText().length}catch{}let Te=o==null?null:o.get(ce.ALLOWED_EAN_EXTENSIONS);if(Te!=null){let xe=!1;for(let ct in Te)if(Ae.toString()===ct){xe=!0;break}if(!xe)throw new Q}return oe}decodeEnd(e,r){return Ee.findGuardPattern(e,r,!1,Ee.START_END_PATTERN,new Int32Array(Ee.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Ee.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let o=parseInt(e.charAt(r-1),10);return Ee.getStandardUPCEANChecksum(e.substring(0,r-1))===o}static getStandardUPCEANChecksum(e){let r=e.length,o=0;for(let l=r-1;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new q;o+=u}o*=3;for(let l=r-2;l>=0;l-=2){let u=e.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new q;o+=u}return(1e3-o)%10}}class at extends Ee{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=r[1],g=0;for(let A=0;A<6&&f<u;A++){let b=Ee.decodeDigit(e,l,f,Ee.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<5-A)}o=at.determineFirstDigit(o,g),f=Ee.findGuardPattern(e,f,!0,Ee.MIDDLE_PATTERN,new Int32Array(Ee.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<6&&f<u;A++){let b=Ee.decodeDigit(e,l,f,Ee.L_PATTERNS);o+=String.fromCharCode(48+b);for(let M of l)f+=M}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(e,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return e=String.fromCharCode(48+o)+e,e;throw new Q}}at.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class bt extends Ee{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f=r[1];for(let w=0;w<4&&f<u;w++){let A=Ee.decodeDigit(e,l,f,Ee.L_PATTERNS);o+=String.fromCharCode(48+A);for(let b of l)f+=b}f=Ee.findGuardPattern(e,f,!0,Ee.MIDDLE_PATTERN,new Int32Array(Ee.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<u;w++){let A=Ee.decodeDigit(e,l,f,Ee.L_PATTERNS);o+=String.fromCharCode(48+A);for(let b of l)f+=b}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return pe.EAN_8}}class wn extends Ee{constructor(){super(...arguments),this.ean13Reader=new at}getBarcodeFormat(){return pe.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,o))}decodeMiddle(e,r,o){return this.ean13Reader.decodeMiddle(e,r,o)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let o=new we(r.substring(1),null,null,e.getResultPoints(),pe.UPC_A);return e.getResultMetadata()!=null&&o.putAllMetadata(e.getResultMetadata()),o}else throw new Q}reset(){this.ean13Reader.reset()}}class Ye extends Ee{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,o){const l=this.decodeMiddleCounters.map(A=>A);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=e.getSize();let f=r[1],g=0;for(let A=0;A<6&&f<u;A++){const b=Ye.decodeDigit(e,l,f,Ye.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let M of l)f+=M;b>=10&&(g|=1<<5-A)}let w=Ye.determineNumSysAndCheckDigit(o,g);return{rowOffset:f,resultString:w}}decodeEnd(e,r){return Ye.findGuardPatternWithoutCounters(e,r,!0,Ye.MIDDLE_END_PATTERN)}checkChecksum(e){return Ee.checkChecksum(Ye.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let u=String.fromCharCode(48+o),f=String.fromCharCode(48+l);return u+e+f}throw Q.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new Ge;o.append(e.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(l),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(l);break}return e.length>=8&&o.append(e.charAt(7)),o.toString()}}Ye.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ye.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class En extends It{constructor(e){super();let r=e==null?null:e.get(ce.POSSIBLE_FORMATS),o=[];c(r)?(o.push(new at),o.push(new wn),o.push(new bt),o.push(new Ye)):(r.indexOf(pe.EAN_13)>-1&&o.push(new at),r.indexOf(pe.UPC_A)>-1&&o.push(new wn),r.indexOf(pe.EAN_8)>-1&&o.push(new bt),r.indexOf(pe.UPC_E)>-1&&o.push(new Ye)),this.readers=o}decodeRow(e,r,o){for(let l of this.readers)try{const u=l.decodeRow(e,r,o),f=u.getBarcodeFormat()===pe.EAN_13&&u.getText().charAt(0)==="0",g=o==null?null:o.get(ce.POSSIBLE_FORMATS),w=g==null||g.includes(pe.UPC_A);if(f&&w){const A=u.getRawBytes(),b=new we(u.getText().substring(1),A,A?A.length:null,u.getResultPoints(),pe.UPC_A);return b.putAllMetadata(u.getResultMetadata()),b}return u}catch{}throw new Q}reset(){for(let e of this.readers)e.reset()}}class dn extends It{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let o=0;o<r.length;o++)if(It.patternMatchVariance(e,r[o],dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return o;throw new Q}static count(e){return tt.sum(new Int32Array(e))}static increment(e,r){let o=0,l=r[0];for(let u=1;u<e.length;u++)r[u]>l&&(l=r[u],o=u);e[o]++}static decrement(e,r){let o=0,l=r[0];for(let u=1;u<e.length;u++)r[u]<l&&(l=r[u],o=u);e[o]--}static isFinderPattern(e){let r=e[0]+e[1],o=r+e[2]+e[3],l=r/o;if(l>=dn.MIN_FINDER_PATTERN_RATIO&&l<=dn.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of e)g>f&&(f=g),g<u&&(u=g);return f<10*u}return!1}}dn.MAX_AVG_VARIANCE=.2,dn.MAX_INDIVIDUAL_VARIANCE=.45,dn.MIN_FINDER_PATTERN_RATIO=9.5/12,dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Mr{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Mr))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ri{constructor(e,r,o,l,u){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ve(o,u)),this.resultPoints.push(new ve(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ri))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class hn{constructor(){}static getRSSvalue(e,r,o){let l=0;for(let w of e)l+=w;let u=0,f=0,g=e.length;for(let w=0;w<g-1;w++){let A;for(A=1,f|=1<<w;A<e[w];A++,f&=~(1<<w)){let b=hn.combins(l-A-1,g-w-2);if(o&&f===0&&l-A-(g-w-1)>=g-w-1&&(b-=hn.combins(l-A-(g-w),g-w-2)),g-w-1>1){let M=0;for(let P=l-A-(g-w-2);P>r;P--)M+=hn.combins(l-A-P-1,g-w-3);b-=M*(g-1-w)}else l-A>r&&b--;u+=b}l-=A}return u}static combins(e,r){let o,l;e-r>r?(l=r,o=e-r):(l=e-r,o=r);let u=1,f=1;for(let g=e;g>o;g--)u*=g,f<=l&&(u/=f,f++);for(;f<=l;)u/=f,f++;return u}}class Hi{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let o=12*r,l=new ne(o),u=0,g=e[0].getRightChar().getValue();for(let w=11;w>=0;--w)g&1<<w&&l.set(u),u++;for(let w=1;w<e.length;++w){let A=e[w],b=A.getLeftChar().getValue();for(let M=11;M>=0;--M)b&1<<M&&l.set(u),u++;if(A.getRightChar()!=null){let M=A.getRightChar().getValue();for(let P=11;P>=0;--P)M&1<<P&&l.set(u),u++}}return l}}class xr{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Wo{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class vn extends Wo{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===vn.FNC1}}vn.FNC1="$";class _r extends Wo{constructor(e,r,o){super(e),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class kn extends Wo{constructor(e,r,o){if(super(e),r<0||r>10||o<0||o>10)throw new q;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===kn.FNC1}isSecondDigitFNC1(){return this.secondDigit===kn.FNC1}isAnyFNC1(){return this.firstDigit===kn.FNC1||this.secondDigit===kn.FNC1}}kn.FNC1=10;class Oe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new Q;let r=e.substring(0,2);for(let u of Oe.TWO_DIGIT_DATA_LENGTH)if(u[0]===r)return u[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(2,u[2],e):Oe.processFixedAI(2,u[1],e);if(e.length<3)throw new Q;let o=e.substring(0,3);for(let u of Oe.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(3,u[2],e):Oe.processFixedAI(3,u[1],e);for(let u of Oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(4,u[2],e):Oe.processFixedAI(4,u[1],e);if(e.length<4)throw new Q;let l=e.substring(0,4);for(let u of Oe.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(4,u[2],e):Oe.processFixedAI(4,u[1],e);throw new Q}static processFixedAI(e,r,o){if(o.length<e)throw new Q;let l=o.substring(0,e);if(o.length<e+r)throw new Q;let u=o.substring(e,e+r),f=o.substring(e+r),g="("+l+")"+u,w=Oe.parseFieldsInGeneralPurpose(f);return w==null?g:g+w}static processVariableAI(e,r,o){let l=o.substring(0,e),u;o.length<e+r?u=o.length:u=e+r;let f=o.substring(e,u),g=o.substring(u),w="("+l+")"+f,A=Oe.parseFieldsInGeneralPurpose(g);return A==null?w:w+A}}Oe.VARIABLE_LENGTH=[],Oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Oe.VARIABLE_LENGTH,20],["22",Oe.VARIABLE_LENGTH,29],["30",Oe.VARIABLE_LENGTH,8],["37",Oe.VARIABLE_LENGTH,8],["90",Oe.VARIABLE_LENGTH,30],["91",Oe.VARIABLE_LENGTH,30],["92",Oe.VARIABLE_LENGTH,30],["93",Oe.VARIABLE_LENGTH,30],["94",Oe.VARIABLE_LENGTH,30],["95",Oe.VARIABLE_LENGTH,30],["96",Oe.VARIABLE_LENGTH,30],["97",Oe.VARIABLE_LENGTH,3],["98",Oe.VARIABLE_LENGTH,30],["99",Oe.VARIABLE_LENGTH,30]],Oe.THREE_DIGIT_DATA_LENGTH=[["240",Oe.VARIABLE_LENGTH,30],["241",Oe.VARIABLE_LENGTH,30],["242",Oe.VARIABLE_LENGTH,6],["250",Oe.VARIABLE_LENGTH,30],["251",Oe.VARIABLE_LENGTH,30],["253",Oe.VARIABLE_LENGTH,17],["254",Oe.VARIABLE_LENGTH,20],["400",Oe.VARIABLE_LENGTH,30],["401",Oe.VARIABLE_LENGTH,30],["402",17],["403",Oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Oe.VARIABLE_LENGTH,20],["421",Oe.VARIABLE_LENGTH,15],["422",3],["423",Oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Oe.VARIABLE_LENGTH,15],["391",Oe.VARIABLE_LENGTH,18],["392",Oe.VARIABLE_LENGTH,15],["393",Oe.VARIABLE_LENGTH,18],["703",Oe.VARIABLE_LENGTH,30]],Oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Oe.VARIABLE_LENGTH,20],["8003",Oe.VARIABLE_LENGTH,30],["8004",Oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Oe.VARIABLE_LENGTH,30],["8008",Oe.VARIABLE_LENGTH,12],["8018",18],["8020",Oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Oe.VARIABLE_LENGTH,70],["8200",Oe.VARIABLE_LENGTH,70]];class Gi{constructor(e){this.buffer=new Ge,this.information=e}decodeAllCodes(e,r){let o=r,l=null;do{let u=this.decodeGeneralPurposeField(o,l),f=Oe.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&e.append(f),u.isRemaining()?l=""+u.getRemainingValue():l=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(e,4);return u===0?new kn(this.information.getSize(),kn.FNC1,kn.FNC1):new kn(this.information.getSize(),u-1,kn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),o=(r-8)/11,l=(r-8)%11;return new kn(e+7,o,l)}extractNumericValueFromBitArray(e,r){return Gi.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,o){let l=0;for(let u=0;u<o;++u)e.get(r+u)&&(l|=1<<o-u-1);return l}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new _r(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new _r(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(o!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new _r(this.current.getPosition(),this.buffer.toString()):r=new _r(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new xr(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new _r(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new _r(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new _r(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new vn(e+5,vn.FNC1);if(r>=5&&r<15)return new vn(e+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<90)return new vn(e+7,""+(o+1));if(o>=90&&o<116)return new vn(e+7,""+(o+7));let l=this.extractNumericValueFromBitArray(e,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new q}return new vn(e+8,u)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,6);return o>=16&&o<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new vn(e+5,vn.FNC1);if(r>=5&&r<15)return new vn(e+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(e,6);if(o>=32&&o<58)return new vn(e+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Ut("Decoding invalid alphanumeric value: "+o)}return new vn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class Ho{constructor(e){this.information=e,this.generalDecoder=new Gi(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gn extends Ho{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let o=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,o)}encodeCompressedGtinWithoutAI(e,r,o){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);u/100===0&&e.append("0"),u/10===0&&e.append("0"),e.append(u)}Gn.appendCheckDigit(e,o)}static appendCheckDigit(e,r){let o=0;for(let l=0;l<13;l++){let u=e.charAt(l+r).charCodeAt(0)-48;o+=l&1?u:3*u}o=10-o%10,o===10&&(o=0),e.append(o)}}Gn.GTIN_SIZE=40;class lr extends Gn{constructor(e){super(e)}parseInformation(){let e=new Ge;e.append("(01)");let r=e.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(lr.HEADER_SIZE,4);return e.append(o),this.encodeCompressedGtinWithoutAI(e,lr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,lr.HEADER_SIZE+44)}}lr.HEADER_SIZE=4;class Ts extends Ho{constructor(e){super(e)}parseInformation(){let e=new Ge;return this.getGeneralDecoder().decodeAllCodes(e,Ts.HEADER_SIZE)}}Ts.HEADER_SIZE=5;class Is extends Gn{constructor(e){super(e)}encodeCompressedWeight(e,r,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(e,l);let u=this.checkWeight(l),f=1e5;for(let g=0;g<5;++g)u/f===0&&e.append("0"),f/=10;e.append(u)}}class Dr extends Is{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Dr.HEADER_SIZE+Is.GTIN_SIZE+Dr.WEIGHT_SIZE)throw new Q;let e=new Ge;return this.encodeCompressedGtin(e,Dr.HEADER_SIZE),this.encodeCompressedWeight(e,Dr.HEADER_SIZE+Is.GTIN_SIZE,Dr.WEIGHT_SIZE),e.toString()}}Dr.HEADER_SIZE=5,Dr.WEIGHT_SIZE=15;class il extends Dr{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class sl extends Dr{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class yr extends Gn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<yr.HEADER_SIZE+Gn.GTIN_SIZE)throw new Q;let e=new Ge;this.encodeCompressedGtin(e,yr.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(yr.HEADER_SIZE+Gn.GTIN_SIZE,yr.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(yr.HEADER_SIZE+Gn.GTIN_SIZE+yr.LAST_DIGIT_SIZE,null);return e.append(o.getNewString()),e.toString()}}yr.HEADER_SIZE=8,yr.LAST_DIGIT_SIZE=2;class Rn extends Gn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Rn.HEADER_SIZE+Gn.GTIN_SIZE)throw new Q;let e=new Ge;this.encodeCompressedGtin(e,Rn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+Gn.GTIN_SIZE,Rn.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+Gn.GTIN_SIZE+Rn.LAST_DIGIT_SIZE,Rn.FIRST_THREE_DIGITS_SIZE);o/100==0&&e.append("0"),o/10==0&&e.append("0"),e.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Rn.HEADER_SIZE+Gn.GTIN_SIZE+Rn.LAST_DIGIT_SIZE+Rn.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Rn.HEADER_SIZE=8,Rn.LAST_DIGIT_SIZE=2,Rn.FIRST_THREE_DIGITS_SIZE=10;class zt extends Is{constructor(e,r,o){super(e),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE+zt.DATE_SIZE)throw new Q;let e=new Ge;return this.encodeCompressedGtin(e,zt.HEADER_SIZE),this.encodeCompressedWeight(e,zt.HEADER_SIZE+zt.GTIN_SIZE,zt.WEIGHT_SIZE),this.encodeCompressedDate(e,zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,zt.DATE_SIZE);if(o==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=o%32;o/=32;let u=o%12+1;o/=12;let f=o;f/10==0&&e.append("0"),e.append(f),u/10==0&&e.append("0"),e.append(u),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}zt.HEADER_SIZE=8,zt.WEIGHT_SIZE=20,zt.DATE_SIZE=16;function ol(R){try{if(R.get(1))return new lr(R);if(!R.get(2))return new Ts(R);switch(Gi.extractNumericValueFromBitArray(R,1,4)){case 4:return new il(R);case 5:return new sl(R)}switch(Gi.extractNumericValueFromBitArray(R,1,5)){case 12:return new yr(R);case 13:return new Rn(R)}switch(Gi.extractNumericValueFromBitArray(R,1,7)){case 56:return new zt(R,"310","11");case 57:return new zt(R,"320","11");case 58:return new zt(R,"310","13");case 59:return new zt(R,"320","13");case 60:return new zt(R,"310","15");case 61:return new zt(R,"320","15");case 62:return new zt(R,"310","17");case 63:return new zt(R,"320","17")}}catch(e){throw console.log(e),new Ut("unknown decoder: "+R)}}class Rt{constructor(e,r,o,l){this.leftchar=e,this.rightchar=r,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof Rt?Rt.equalsOrNull(e.leftchar,r.leftchar)&&Rt.equalsOrNull(e.rightchar,r.rightchar)&&Rt.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:Rt.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Go{constructor(e,r,o){this.pairs=e,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof Go?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let o;return e.forEach((l,u)=>{r.forEach(f=>{l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class de extends dn{constructor(e){super(...arguments),this.pairs=new Array(de.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,o){this.pairs.length=0,this.startFromEven=!1;try{return de.constructResult(this.decodeRow2pairs(e,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,de.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(u){if(u instanceof Q){if(!this.pairs.length)throw new Q;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Q}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let o=r;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let f of e)this.pairs.push(f.getPairs());if(this.pairs.push(l.getPairs()),!de.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(e);u.push(l);try{return this.checkRows(u,o+1)}catch(f){this.verbose&&console.log(f)}}throw new Q}static isValidSequence(e){for(let r of de.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let o=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=r[l]){o=!1;break}if(o)return!0}return!1}storeRow(e,r){let o=0,l=!1,u=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>e){u=f.isEquivalent(this.pairs);break}l=f.isEquivalent(this.pairs),o++}u||l||de.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Go(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let o of r)if(o.getPairs().length!==e.length){for(let l of o.getPairs())for(let u of e)if(Rt.equals(l,u))break}}static isPartialRow(e,r){for(let o of r){let l=!0;for(let u of e){let f=!1;for(let g of o.getPairs())if(u.equals(g)){f=!0;break}if(!f){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=Hi.buildBitArray(e),l=ol(r).parseInformation(),u=e[0].getFinderPattern().getResultPoints(),f=e[e.length-1].getFinderPattern().getResultPoints(),g=[u[0],u[1],f[0],f[1]];return new we(l,null,null,g,pe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),o=e.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),u=2;for(let g=1;g<this.pairs.size();++g){let w=this.pairs.get(g);l+=w.getLeftChar().getChecksumPortion(),u++;let A=w.getRightChar();A!=null&&(l+=A.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==r.getValue()}static getNextSecondBar(e,r){let o;return e.get(r)?(o=e.getNextUnset(r),o=e.getNextSet(o)):(o=e.getNextSet(r),o=e.getNextUnset(o)),o}retrieveNextPair(e,r,o){let l=r.length%2==0;this.startFromEven&&(l=!l);let u,f=!0,g=-1;do this.findNextPair(e,r,g),u=this.parseFoundFinderPattern(e,o,l),u==null?g=de.getNextSecondBar(e,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(e,u,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Q;let A;try{A=this.decodeDataCharacter(e,u,l,!1)}catch(b){A=null,this.verbose&&console.log(b)}return new Rt(w,A,u,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),f;o>=0?f=o:this.isEmptyPair(r)?f=0:f=r[r.length-1].getFinderPattern().getStartEnd()[1];let g=r.length%2!=0;this.startFromEven&&(g=!g);let w=!1;for(;f<u&&(w=!e.get(f),!!w);)f++;let A=0,b=f;for(let M=f;M<u;M++)if(e.get(M)!=w)l[A]++;else{if(A==3){if(g&&de.reverseCounters(l),de.isFinderPattern(l)){this.startEnd[0]=b,this.startEnd[1]=M;return}g&&de.reverseCounters(l),b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,A--}else A++;l[A]=1,w=!w}throw new Q}static reverseCounters(e){let r=e.length;for(let o=0;o<r/2;++o){let l=e[o];e[o]=e[r-o-1],e[r-o-1]=l}}parseFoundFinderPattern(e,r,o){let l,u,f;if(o){let A=this.startEnd[0]-1;for(;A>=0&&!e.get(A);)A--;A++,l=this.startEnd[0]-A,u=A,f=this.startEnd[1]}else u=this.startEnd[0],f=e.getNextUnset(this.startEnd[1]+1),l=f-this.startEnd[1];let g=this.getDecodeFinderCounters();B.arraycopy(g,0,g,1,g.length-1),g[0]=l;let w;try{w=this.parseFinderValue(g,de.FINDER_PATTERNS)}catch{return null}return new ri(w,[u,f],u,f,r)}decodeDataCharacter(e,r,o,l){let u=this.getDataCharacterCounters();for(let Nt=0;Nt<u.length;Nt++)u[Nt]=0;if(l)de.recordPatternInReverse(e,r.getStartEnd()[0],u);else{de.recordPattern(e,r.getStartEnd()[1],u);for(let Nt=0,en=u.length-1;Nt<en;Nt++,en--){let jn=u[Nt];u[Nt]=u[en],u[en]=jn}}let f=17,g=tt.sum(new Int32Array(u))/f,w=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(g-w)/w>.3)throw new Q;let A=this.getOddCounts(),b=this.getEvenCounts(),M=this.getOddRoundingErrors(),P=this.getEvenRoundingErrors();for(let Nt=0;Nt<u.length;Nt++){let en=1*u[Nt]/g,jn=en+.5;if(jn<1){if(en<.3)throw new Q;jn=1}else if(jn>8){if(en>8.7)throw new Q;jn=8}let Ni=Nt/2;Nt&1?(b[Ni]=jn,P[Ni]=en-jn):(A[Ni]=jn,M[Ni]=en-jn)}this.adjustOddEvenCounts(f);let U=4*r.getValue()+(o?0:2)+(l?0:1)-1,G=0,X=0;for(let Nt=A.length-1;Nt>=0;Nt--){if(de.isNotA1left(r,o,l)){let en=de.WEIGHTS[U][2*Nt];X+=A[Nt]*en}G+=A[Nt]}let $=0;for(let Nt=b.length-1;Nt>=0;Nt--)if(de.isNotA1left(r,o,l)){let en=de.WEIGHTS[U][2*Nt+1];$+=b[Nt]*en}let oe=X+$;if(G&1||G>13||G<4)throw new Q;let Ae=(13-G)/2,Te=de.SYMBOL_WIDEST[Ae],xe=9-Te,ct=hn.getRSSvalue(A,Te,!0),rt=hn.getRSSvalue(b,xe,!1),Xn=de.EVEN_TOTAL_SUBSET[Ae],Ar=de.GSUM[Ae],mn=ct*Xn+rt+Ar;return new Mr(mn,oe)}static isNotA1left(e,r,o){return!(e.getValue()==0&&r&&o)}adjustOddEvenCounts(e){let r=tt.sum(new Int32Array(this.getOddCounts())),o=tt.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;r>13?u=!0:r<4&&(l=!0);let f=!1,g=!1;o>13?g=!0:o<4&&(f=!0);let w=r+o-e,A=(r&1)==1,b=(o&1)==0;if(w==1)if(A){if(b)throw new Q;u=!0}else{if(!b)throw new Q;g=!0}else if(w==-1)if(A){if(b)throw new Q;l=!0}else{if(!b)throw new Q;f=!0}else if(w==0){if(A){if(!b)throw new Q;r<o?(l=!0,g=!0):(u=!0,f=!0)}else if(b)throw new Q}else throw new Q;if(l){if(u)throw new Q;de.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&de.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new Q;de.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&de.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.SYMBOL_WIDEST=[7,5,4,3,1],de.EVEN_TOTAL_SUBSET=[4,20,52,104,204],de.GSUM=[0,348,1388,2948,3988],de.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],de.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],de.FINDER_PAT_A=0,de.FINDER_PAT_B=1,de.FINDER_PAT_C=2,de.FINDER_PAT_D=3,de.FINDER_PAT_E=4,de.FINDER_PAT_F=5,de.FINDER_PATTERN_SEQUENCES=[[de.FINDER_PAT_A,de.FINDER_PAT_A],[de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B],[de.FINDER_PAT_A,de.FINDER_PAT_C,de.FINDER_PAT_B,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_C],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F]],de.MAX_PAIRS=11;class al extends Mr{constructor(e,r,o){super(e,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ft extends dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,o){const l=this.decodePair(r,!1,e,o);Ft.addOrTally(this.possibleLeftPairs,l),r.reverse();let u=this.decodePair(r,!0,e,o);Ft.addOrTally(this.possibleRightPairs,u),r.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Ft.checkChecksum(f,g))return Ft.constructResult(f,g)}throw new Q}static addOrTally(e,r){if(r==null)return;let o=!1;for(let l of e)if(l.getValue()===r.getValue()){l.incrementCount(),o=!0;break}o||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let o=4537077*e.getValue()+r.getValue(),l=new String(o).toString(),u=new Ge;for(let A=13-l.length;A>0;A--)u.append("0");u.append(l);let f=0;for(let A=0;A<13;A++){let b=u.charAt(A).charCodeAt(0)-48;f+=A&1?b:3*b}f=10-f%10,f===10&&(f=0),u.append(f.toString());let g=e.getFinderPattern().getResultPoints(),w=r.getFinderPattern().getResultPoints();return new we(u.toString(),null,0,[g[0],g[1],w[0],w[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(e,r){let o=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(e,r,o,l){try{let u=this.findFinderPattern(e,r),f=this.parseFoundFinderPattern(e,o,r,u),g=l==null?null:l.get(ce.NEED_RESULT_POINT_CALLBACK);if(g!=null){let b=(u[0]+u[1])/2;r&&(b=e.getSize()-1-b),g.foundPossibleResultPoint(new ve(b,o))}let w=this.decodeDataCharacter(e,f,!0),A=this.decodeDataCharacter(e,f,!1);return new al(1597*w.getValue()+A.getValue(),w.getChecksumPortion()+4*A.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(e,r,o){let l=this.getDataCharacterCounters();for(let $=0;$<l.length;$++)l[$]=0;if(o)It.recordPatternInReverse(e,r.getStartEnd()[0],l);else{It.recordPattern(e,r.getStartEnd()[1]+1,l);for(let $=0,oe=l.length-1;$<oe;$++,oe--){let Ae=l[$];l[$]=l[oe],l[oe]=Ae}}let u=o?16:15,f=tt.sum(new Int32Array(l))/u,g=this.getOddCounts(),w=this.getEvenCounts(),A=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let $=0;$<l.length;$++){let oe=l[$]/f,Ae=Math.floor(oe+.5);Ae<1?Ae=1:Ae>8&&(Ae=8);let Te=Math.floor($/2);$&1?(w[Te]=Ae,b[Te]=oe-Ae):(g[Te]=Ae,A[Te]=oe-Ae)}this.adjustOddEvenCounts(o,u);let M=0,P=0;for(let $=g.length-1;$>=0;$--)P*=9,P+=g[$],M+=g[$];let U=0,G=0;for(let $=w.length-1;$>=0;$--)U*=9,U+=w[$],G+=w[$];let X=P+3*U;if(o){if(M&1||M>12||M<4)throw new Q;let $=(12-M)/2,oe=Ft.OUTSIDE_ODD_WIDEST[$],Ae=9-oe,Te=hn.getRSSvalue(g,oe,!1),xe=hn.getRSSvalue(w,Ae,!0),ct=Ft.OUTSIDE_EVEN_TOTAL_SUBSET[$],rt=Ft.OUTSIDE_GSUM[$];return new Mr(Te*ct+xe+rt,X)}else{if(G&1||G>10||G<4)throw new Q;let $=(10-G)/2,oe=Ft.INSIDE_ODD_WIDEST[$],Ae=9-oe,Te=hn.getRSSvalue(g,oe,!0),xe=hn.getRSSvalue(w,Ae,!1),ct=Ft.INSIDE_ODD_TOTAL_SUBSET[$],rt=Ft.INSIDE_GSUM[$];return new Mr(xe*ct+Te+rt,X)}}findFinderPattern(e,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),u=!1,f=0;for(;f<l&&(u=!e.get(f),r!==u);)f++;let g=0,w=f;for(let A=f;A<l;A++)if(e.get(A)!==u)o[g]++;else{if(g===3){if(dn.isFinderPattern(o))return[w,A];w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,u=!u}throw new Q}parseFoundFinderPattern(e,r,o,l){let u=e.get(l[0]),f=l[0]-1;for(;f>=0&&u!==e.get(f);)f--;f++;const g=l[0]-f,w=this.getDecodeFinderCounters(),A=new Int32Array(w.length);B.arraycopy(w,0,A,1,w.length-1),A[0]=g;const b=this.parseFinderValue(A,Ft.FINDER_PATTERNS);let M=f,P=l[1];return o&&(M=e.getSize()-1-M,P=e.getSize()-1-P),new ri(b,[f,l[1]],M,P,r)}adjustOddEvenCounts(e,r){let o=tt.sum(new Int32Array(this.getOddCounts())),l=tt.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,g=!1,w=!1;e?(o>12?f=!0:o<4&&(u=!0),l>12?w=!0:l<4&&(g=!0)):(o>11?f=!0:o<5&&(u=!0),l>10?w=!0:l<4&&(g=!0));let A=o+l-r,b=(o&1)===(e?1:0),M=(l&1)===1;if(A===1)if(b){if(M)throw new Q;f=!0}else{if(!M)throw new Q;w=!0}else if(A===-1)if(b){if(M)throw new Q;u=!0}else{if(!M)throw new Q;g=!0}else if(A===0){if(b){if(!M)throw new Q;o<l?(u=!0,w=!0):(f=!0,g=!0)}else if(M)throw new Q}else throw new Q;if(u){if(f)throw new Q;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new Q;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ft.OUTSIDE_GSUM=[0,161,961,2015,2715],Ft.INSIDE_GSUM=[0,336,1036,1516],Ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ft.INSIDE_ODD_WIDEST=[2,4,6,8],Ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Yi extends It{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const o=e?e.get(ce.POSSIBLE_FORMATS):null,l=e&&e.get(ce.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(pe.EAN_13)||o.includes(pe.UPC_A)||o.includes(pe.EAN_8)||o.includes(pe.UPC_E))&&this.readers.push(new En(e)),o.includes(pe.CODE_39)&&this.readers.push(new Qt(l)),o.includes(pe.CODE_128)&&this.readers.push(new be),o.includes(pe.ITF)&&this.readers.push(new vt),o.includes(pe.RSS_14)&&this.readers.push(new Ft),o.includes(pe.RSS_EXPANDED)&&this.readers.push(new de(this.verbose))):(this.readers.push(new En(e)),this.readers.push(new Qt),this.readers.push(new En(e)),this.readers.push(new be),this.readers.push(new vt),this.readers.push(new Ft),this.readers.push(new de(this.verbose)))}decodeRow(e,r,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,r,o)}catch{}throw new Q}reset(){this.readers.forEach(e=>e.reset())}}class ll extends me{constructor(e=500,r){super(new Yi(r),e,r)}}class mt{constructor(e,r,o){this.ecCodewords=e,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class lt{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,r,o,l,u,f){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=f;let g=0;const w=f.getECCodewords(),A=f.getECBlocks();for(let b of A)g+=b.getCount()*(b.getDataCodewords()+w);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(e&1||r&1)throw new q;for(let o of ht.VERSIONS)if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new mt(5,new lt(1,3))),new ht(2,12,12,10,10,new mt(7,new lt(1,5))),new ht(3,14,14,12,12,new mt(10,new lt(1,8))),new ht(4,16,16,14,14,new mt(12,new lt(1,12))),new ht(5,18,18,16,16,new mt(14,new lt(1,18))),new ht(6,20,20,18,18,new mt(18,new lt(1,22))),new ht(7,22,22,20,20,new mt(20,new lt(1,30))),new ht(8,24,24,22,22,new mt(24,new lt(1,36))),new ht(9,26,26,24,24,new mt(28,new lt(1,44))),new ht(10,32,32,14,14,new mt(36,new lt(1,62))),new ht(11,36,36,16,16,new mt(42,new lt(1,86))),new ht(12,40,40,18,18,new mt(48,new lt(1,114))),new ht(13,44,44,20,20,new mt(56,new lt(1,144))),new ht(14,48,48,22,22,new mt(68,new lt(1,174))),new ht(15,52,52,24,24,new mt(42,new lt(2,102))),new ht(16,64,64,14,14,new mt(56,new lt(2,140))),new ht(17,72,72,16,16,new mt(36,new lt(4,92))),new ht(18,80,80,18,18,new mt(48,new lt(4,114))),new ht(19,88,88,20,20,new mt(56,new lt(4,144))),new ht(20,96,96,22,22,new mt(68,new lt(4,174))),new ht(21,104,104,24,24,new mt(56,new lt(6,136))),new ht(22,120,120,18,18,new mt(68,new lt(6,175))),new ht(23,132,132,20,20,new mt(62,new lt(8,163))),new ht(24,144,144,22,22,new mt(62,new lt(8,156),new lt(2,155))),new ht(25,8,18,6,16,new mt(7,new lt(1,5))),new ht(26,8,32,6,14,new mt(11,new lt(1,10))),new ht(27,12,26,10,24,new mt(14,new lt(1,16))),new ht(28,12,36,10,16,new mt(18,new lt(1,22))),new ht(29,16,36,14,16,new mt(24,new lt(1,32))),new ht(30,16,48,14,22,new mt(28,new lt(1,49)))]}}ht.VERSIONS=ht.buildVersions();class nr{constructor(e){const r=e.getHeight();if(r<8||r>144||r&1)throw new q;this.version=nr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),o=e.getWidth();return ht.getVersionForDimensions(r,o)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,l=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,w=!1,A=!1,b=!1;do if(o===u&&l===0&&!g)e[r++]=this.readCorner1(u,f)&255,o-=2,l+=2,g=!0;else if(o===u-2&&l===0&&f&3&&!w)e[r++]=this.readCorner2(u,f)&255,o-=2,l+=2,w=!0;else if(o===u+4&&l===2&&!(f&7)&&!A)e[r++]=this.readCorner3(u,f)&255,o-=2,l+=2,A=!0;else if(o===u-2&&l===0&&(f&7)===4&&!b)e[r++]=this.readCorner4(u,f)&255,o-=2,l+=2,b=!0;else{do o<u&&l>=0&&!this.readMappingMatrix.get(l,o)&&(e[r++]=this.readUtah(o,l,u,f)&255),o-=2,l+=2;while(o>=0&&l<f);o+=1,l+=3;do o>=0&&l<f&&!this.readMappingMatrix.get(l,o)&&(e[r++]=this.readUtah(o,l,u,f)&255),o+=2,l-=2;while(o<u&&l>=0);o+=3,l+=1}while(o<u||l<f);if(r!==this.version.getTotalCodewords())throw new q;return e}readModule(e,r,o,l){return e<0&&(e+=o,r+=4-(o+4&7)),r<0&&(r+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,o,l){let u=0;return this.readModule(e-2,r-2,o,l)&&(u|=1),u<<=1,this.readModule(e-2,r-1,o,l)&&(u|=1),u<<=1,this.readModule(e-1,r-2,o,l)&&(u|=1),u<<=1,this.readModule(e-1,r-1,o,l)&&(u|=1),u<<=1,this.readModule(e-1,r,o,l)&&(u|=1),u<<=1,this.readModule(e,r-2,o,l)&&(u|=1),u<<=1,this.readModule(e,r-1,o,l)&&(u|=1),u<<=1,this.readModule(e,r,o,l)&&(u|=1),u}readCorner1(e,r){let o=0;return this.readModule(e-1,0,e,r)&&(o|=1),o<<=1,this.readModule(e-1,1,e,r)&&(o|=1),o<<=1,this.readModule(e-1,2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-1,e,r)&&(o|=1),o<<=1,this.readModule(1,r-1,e,r)&&(o|=1),o<<=1,this.readModule(2,r-1,e,r)&&(o|=1),o<<=1,this.readModule(3,r-1,e,r)&&(o|=1),o}readCorner2(e,r){let o=0;return this.readModule(e-3,0,e,r)&&(o|=1),o<<=1,this.readModule(e-2,0,e,r)&&(o|=1),o<<=1,this.readModule(e-1,0,e,r)&&(o|=1),o<<=1,this.readModule(0,r-4,e,r)&&(o|=1),o<<=1,this.readModule(0,r-3,e,r)&&(o|=1),o<<=1,this.readModule(0,r-2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-1,e,r)&&(o|=1),o<<=1,this.readModule(1,r-1,e,r)&&(o|=1),o}readCorner3(e,r){let o=0;return this.readModule(e-1,0,e,r)&&(o|=1),o<<=1,this.readModule(e-1,r-1,e,r)&&(o|=1),o<<=1,this.readModule(0,r-3,e,r)&&(o|=1),o<<=1,this.readModule(0,r-2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-1,e,r)&&(o|=1),o<<=1,this.readModule(1,r-3,e,r)&&(o|=1),o<<=1,this.readModule(1,r-2,e,r)&&(o|=1),o<<=1,this.readModule(1,r-1,e,r)&&(o|=1),o}readCorner4(e,r){let o=0;return this.readModule(e-3,0,e,r)&&(o|=1),o<<=1,this.readModule(e-2,0,e,r)&&(o|=1),o<<=1,this.readModule(e-1,0,e,r)&&(o|=1),o<<=1,this.readModule(0,r-2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-1,e,r)&&(o|=1),o<<=1,this.readModule(1,r-1,e,r)&&(o|=1),o<<=1,this.readModule(2,r-1,e,r)&&(o|=1),o<<=1,this.readModule(3,r-1,e,r)&&(o|=1),o}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new T("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=r/l|0,g=o/u|0,w=f*l,A=g*u,b=new Re(A,w);for(let M=0;M<f;++M){const P=M*l;for(let U=0;U<g;++U){const G=U*u;for(let X=0;X<l;++X){const $=M*(l+2)+1+X,oe=P+X;for(let Ae=0;Ae<u;++Ae){const Te=U*(u+2)+1+Ae;if(e.get(Te,$)){const xe=G+Ae;b.set(xe,oe)}}}}}return b}}class Yo{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const o=r.getECBlocks();let l=0;const u=o.getECBlocks();for(let X of u)l+=X.getCount();const f=new Array(l);let g=0;for(let X of u)for(let $=0;$<X.getCount();$++){const oe=X.getDataCodewords(),Ae=o.getECCodewords()+oe;f[g++]=new Yo(oe,new Uint8Array(Ae))}const A=f[0].codewords.length-o.getECCodewords(),b=A-1;let M=0;for(let X=0;X<b;X++)for(let $=0;$<g;$++)f[$].codewords[X]=e[M++];const P=r.getVersionNumber()===24,U=P?8:g;for(let X=0;X<U;X++)f[X].codewords[A-1]=e[M++];const G=f[0].codewords.length;for(let X=A;X<G;X++)for(let $=0;$<g;$++){const oe=P?($+8)%g:$,Ae=P&&oe>7?X-1:X;f[oe].codewords[Ae]=e[M++]}if(M!==e.length)throw new T;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new T(""+e);let r=0,o=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(o>0){const f=8-o,g=e<f?e:f,w=f-g,A=255>>8-g<<w;r=(u[l]&A)>>w,e-=g,o+=g,o===8&&(o=0,l++)}if(e>0){for(;e>=8;)r=r<<8|u[l]&255,l++,e-=8;if(e>0){const f=8-e,g=255>>f<<f;r=r<<e|(u[l]&g)>>f,o+=e}}return this.bitOffset=o,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pn;(function(R){R[R.PAD_ENCODE=0]="PAD_ENCODE",R[R.ASCII_ENCODE=1]="ASCII_ENCODE",R[R.C40_ENCODE=2]="C40_ENCODE",R[R.TEXT_ENCODE=3]="TEXT_ENCODE",R[R.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",R[R.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",R[R.BASE256_ENCODE=6]="BASE256_ENCODE"})(pn||(pn={}));class wr{static decode(e){const r=new Xo(e),o=new Ge,l=new Ge,u=new Array;let f=pn.ASCII_ENCODE;do if(f===pn.ASCII_ENCODE)f=this.decodeAsciiSegment(r,o,l);else{switch(f){case pn.C40_ENCODE:this.decodeC40Segment(r,o);break;case pn.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case pn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case pn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case pn.BASE256_ENCODE:this.decodeBase256Segment(r,o,u);break;default:throw new q}f=pn.ASCII_ENCODE}while(f!==pn.PAD_ENCODE&&r.available()>0);return l.length()>0&&o.append(l.toString()),new it(e,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(e,r,o){let l=!1;do{let u=e.readBits(8);if(u===0)throw new q;if(u<=128)return l&&(u+=128),r.append(String.fromCharCode(u-1)),pn.ASCII_ENCODE;if(u===129)return pn.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&r.append("0"),r.append(""+f)}else switch(u){case 230:return pn.C40_ENCODE;case 231:return pn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return pn.ANSIX12_ENCODE;case 239:return pn.TEXT_ENCODE;case 240:return pn.EDIFACT_ENCODE;case 241:break;default:if(u!==254||e.available()!==0)throw new q;break}}while(e.available()>0);return pn.ASCII_ENCODE}static decodeC40Segment(e,r){let o=!1;const l=[];let u=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),l);for(let g=0;g<3;g++){const w=l[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const A=this.C40_BASIC_SET_CHARS[w];o?(r.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):r.append(A)}else throw new q;break;case 1:o?(r.append(String.fromCharCode(w+128)),o=!1):r.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const A=this.C40_SHIFT2_SET_CHARS[w];o?(r.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):r.append(A)}else switch(w){case 27:r.append("");break;case 30:o=!0;break;default:throw new q}u=0;break;case 3:o?(r.append(String.fromCharCode(w+224)),o=!1):r.append(String.fromCharCode(w+96)),u=0;break;default:throw new q}}}while(e.available()>0)}static decodeTextSegment(e,r){let o=!1,l=[],u=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),l);for(let g=0;g<3;g++){const w=l[g];switch(u){case 0:if(w<3)u=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const A=this.TEXT_BASIC_SET_CHARS[w];o?(r.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):r.append(A)}else throw new q;break;case 1:o?(r.append(String.fromCharCode(w+128)),o=!1):r.append(String.fromCharCode(w)),u=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const A=this.TEXT_SHIFT2_SET_CHARS[w];o?(r.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):r.append(A)}else switch(w){case 27:r.append("");break;case 30:o=!0;break;default:throw new q}u=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const A=this.TEXT_SHIFT3_SET_CHARS[w];o?(r.append(String.fromCharCode(A.charCodeAt(0)+128)),o=!1):r.append(A),u=0}else throw new q;break;default:throw new q}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const o=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(f){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(f<14)r.append(String.fromCharCode(f+44));else if(f<40)r.append(String.fromCharCode(f+51));else throw new q;break}}}while(e.available()>0)}static parseTwoBytes(e,r,o){let l=(e<<8)+r-1,u=Math.floor(l/1600);o[0]=u,l-=u*1600,u=Math.floor(l/40),o[1]=u,o[2]=l-u*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let o=0;o<4;o++){let l=e.readBits(6);if(l===31){const u=8-e.getBitOffset();u!==8&&e.readBits(u);return}l&32||(l|=64),r.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,r,o){let l=1+e.getByteOffset();const u=this.unrandomize255State(e.readBits(8),l++);let f;if(u===0?f=e.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(e.readBits(8),l++),f<0)throw new q;const g=new Uint8Array(f);for(let w=0;w<f;w++){if(e.available()<8)throw new q;g[w]=this.unrandomize255State(e.readBits(8),l++)}o.push(g);try{r.append(Le.decode(g,Ne.ISO88591))}catch(w){throw new Ut("Platform does not support required encoding: "+w.message)}}static unrandomize255State(e,r){const o=149*r%255+1,l=e-o;return l>=0?l:l+256}}wr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],wr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wr.TEXT_SHIFT2_SET_CHARS=wr.C40_SHIFT2_SET_CHARS,wr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ro{constructor(){this.rsDecoder=new gr(ot.DATA_MATRIX_FIELD_256)}decode(e){const r=new nr(e),o=r.getVersion(),l=r.readCodewords(),u=Yo.getDataBlocks(l,o);let f=0;for(let A of u)f+=A.getNumDataCodewords();const g=new Uint8Array(f),w=u.length;for(let A=0;A<w;A++){const b=u[A],M=b.getCodewords(),P=b.getNumDataCodewords();this.correctErrors(M,P);for(let U=0;U<P;U++)g[U*w+A]=M[U]}return wr.decode(g)}correctErrors(e,r){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-r)}catch{throw new O}for(let l=0;l<r;l++)e[l]=o[l]}}class jt{constructor(e){this.image=e,this.rectangleDetector=new St(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Q;r=this.shiftToModuleCenter(r);const o=r[0],l=r[1],u=r[2],f=r[3];let g=this.transitionsBetween(o,f)+1,w=this.transitionsBetween(u,f)+1;(g&1)===1&&(g+=1),(w&1)===1&&(w+=1),4*g<7*w&&4*w<7*g&&(g=w=Math.max(g,w));let A=jt.sampleGrid(this.image,o,l,u,f,g,w);return new $e(A,[o,l,u,f])}static shiftPoint(e,r,o){let l=(r.getX()-e.getX())/(o+1),u=(r.getY()-e.getY())/(o+1);return new ve(e.getX()+l,e.getY()+u)}static moveAway(e,r,o){let l=e.getX(),u=e.getY();return l<r?l-=1:l+=1,u<o?u-=1:u+=1,new ve(l,u)}detectSolid1(e){let r=e[0],o=e[1],l=e[3],u=e[2],f=this.transitionsBetween(r,o),g=this.transitionsBetween(o,l),w=this.transitionsBetween(l,u),A=this.transitionsBetween(u,r),b=f,M=[u,r,o,l];return b>g&&(b=g,M[0]=r,M[1]=o,M[2]=l,M[3]=u),b>w&&(b=w,M[0]=o,M[1]=l,M[2]=u,M[3]=r),b>A&&(M[0]=l,M[1]=u,M[2]=r,M[3]=o),M}detectSolid2(e){let r=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(r,u),g=jt.shiftPoint(o,l,(f+1)*4),w=jt.shiftPoint(l,o,(f+1)*4),A=this.transitionsBetween(g,r),b=this.transitionsBetween(w,u);return A<b?(e[0]=r,e[1]=o,e[2]=l,e[3]=u):(e[0]=o,e[1]=l,e[2]=u,e[3]=r),e}correctTopRight(e){let r=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(r,u),g=this.transitionsBetween(o,u),w=jt.shiftPoint(r,o,(g+1)*4),A=jt.shiftPoint(l,o,(f+1)*4);f=this.transitionsBetween(w,u),g=this.transitionsBetween(A,u);let b=new ve(u.getX()+(l.getX()-o.getX())/(f+1),u.getY()+(l.getY()-o.getY())/(f+1)),M=new ve(u.getX()+(r.getX()-o.getX())/(g+1),u.getY()+(r.getY()-o.getY())/(g+1));if(!this.isValid(b))return this.isValid(M)?M:null;if(!this.isValid(M))return b;let P=this.transitionsBetween(w,b)+this.transitionsBetween(A,b),U=this.transitionsBetween(w,M)+this.transitionsBetween(A,M);return P>U?b:M}shiftToModuleCenter(e){let r=e[0],o=e[1],l=e[2],u=e[3],f=this.transitionsBetween(r,u)+1,g=this.transitionsBetween(l,u)+1,w=jt.shiftPoint(r,o,g*4),A=jt.shiftPoint(l,o,f*4);f=this.transitionsBetween(w,u)+1,g=this.transitionsBetween(A,u)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let b=(r.getX()+o.getX()+l.getX()+u.getX())/4,M=(r.getY()+o.getY()+l.getY()+u.getY())/4;r=jt.moveAway(r,b,M),o=jt.moveAway(o,b,M),l=jt.moveAway(l,b,M),u=jt.moveAway(u,b,M);let P,U;return w=jt.shiftPoint(r,o,g*4),w=jt.shiftPoint(w,u,f*4),P=jt.shiftPoint(o,r,g*4),P=jt.shiftPoint(P,l,f*4),A=jt.shiftPoint(l,u,g*4),A=jt.shiftPoint(A,o,f*4),U=jt.shiftPoint(u,l,g*4),U=jt.shiftPoint(U,r,f*4),[w,P,A,U]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,o,l,u,f,g){return Dt.getInstance().sampleGrid(e,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,r.getX(),r.getY(),u.getX(),u.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(e,r){let o=Math.trunc(e.getX()),l=Math.trunc(e.getY()),u=Math.trunc(r.getX()),f=Math.trunc(r.getY()),g=Math.abs(f-l)>Math.abs(u-o);if(g){let X=o;o=l,l=X,X=u,u=f,f=X}let w=Math.abs(u-o),A=Math.abs(f-l),b=-w/2,M=l<f?1:-1,P=o<u?1:-1,U=0,G=this.image.get(g?l:o,g?o:l);for(let X=o,$=l;X!==u;X+=P){let oe=this.image.get(g?$:X,g?X:$);if(oe!==G&&(U++,G=oe),b+=A,b>0){if($===f)break;$+=M,b-=w}}return U}}class vr{constructor(){this.decoder=new ro}decode(e,r=null){let o,l;if(r!=null&&r.has(ce.PURE_BARCODE)){const A=vr.extractPureBits(e.getBlackMatrix());o=this.decoder.decode(A),l=vr.NO_POINTS}else{const A=new jt(e.getBlackMatrix()).detect();o=this.decoder.decode(A.getBits()),l=A.getPoints()}const u=o.getRawBytes(),f=new we(o.getText(),u,8*u.length,l,pe.DATA_MATRIX,B.currentTimeMillis()),g=o.getByteSegments();g!=null&&f.putMetadata(Me.BYTE_SEGMENTS,g);const w=o.getECLevel();return w!=null&&f.putMetadata(Me.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(r==null||o==null)throw new Q;const l=this.moduleSize(r,e);let u=r[1];const f=o[1];let g=r[0];const A=(o[0]-g+1)/l,b=(f-u+1)/l;if(A<=0||b<=0)throw new Q;const M=l/2;u+=M,g+=M;const P=new Re(A,b);for(let U=0;U<b;U++){const G=u+U*l;for(let X=0;X<A;X++)e.get(g+X*l,G)&&P.set(X,U)}return P}static moduleSize(e,r){const o=r.getWidth();let l=e[0];const u=e[1];for(;l<o&&r.get(l,u);)l++;if(l===o)throw new Q;const f=l-e[0];if(f===0)throw new Q;return f}}vr.NO_POINTS=[];class Xu extends me{constructor(e=500){super(new vr,e)}}var Xi;(function(R){R[R.L=0]="L",R[R.M=1]="M",R[R.Q=2]="Q",R[R.H=3]="H"})(Xi||(Xi={}));class Mt{constructor(e,r,o){this.value=e,this.stringValue=r,this.bits=o,Mt.FOR_BITS.set(o,this),Mt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Mt.L;case"M":return Mt.M;case"Q":return Mt.Q;case"H":return Mt.H;default:throw new E(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Mt))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=Mt.FOR_BITS.size)throw new T;return Mt.FOR_BITS.get(e)}}Mt.FOR_BITS=new Map,Mt.FOR_VALUE=new Map,Mt.L=new Mt(Xi.L,"L",1),Mt.M=new Mt(Xi.M,"M",0),Mt.Q=new Mt(Xi.Q,"Q",3),Mt.H=new Mt(Xi.H,"H",2);class An{constructor(e){this.errorCorrectionLevel=Mt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return V.bitCount(e^r)}static decodeFormatInformation(e,r){const o=An.doDecodeFormatInformation(e,r);return o!==null?o:An.doDecodeFormatInformation(e^An.FORMAT_INFO_MASK_QR,r^An.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let o=Number.MAX_SAFE_INTEGER,l=0;for(const u of An.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===e||f===r)return new An(u[1]);let g=An.numBitsDiffering(e,f);g<o&&(l=u[1],o=g),e!==r&&(g=An.numBitsDiffering(r,f),g<o&&(l=u[1],o=g))}return o<=3?new An(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof An))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}An.FORMAT_INFO_MASK_QR=21522,An.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class J{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const o of r)e+=o.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class He{constructor(e,r,...o){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;let l=0;const u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const g of f)l+=g.getCount()*(g.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new q;try{return this.getVersionForNumber((e-17)/4)}catch{throw new q}}static getVersionForNumber(e){if(e<1||e>40)throw new T;return He.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<He.VERSION_DECODE_INFO.length;l++){const u=He.VERSION_DECODE_INFO[l];if(u===e)return He.getVersionForNumber(l+7);const f=An.numBitsDiffering(e,u);f<r&&(o=l+7,r=f)}return r<=3?He.getVersionForNumber(o):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new Re(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const u=this.alignmentPatternCenters[l]-2;for(let f=0;f<o;f++)l===0&&(f===0||f===o-1)||l===o-1&&f===0||r.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}He.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),He.VERSIONS=[new He(1,new Int32Array(0),new J(7,new j(1,19)),new J(10,new j(1,16)),new J(13,new j(1,13)),new J(17,new j(1,9))),new He(2,Int32Array.from([6,18]),new J(10,new j(1,34)),new J(16,new j(1,28)),new J(22,new j(1,22)),new J(28,new j(1,16))),new He(3,Int32Array.from([6,22]),new J(15,new j(1,55)),new J(26,new j(1,44)),new J(18,new j(2,17)),new J(22,new j(2,13))),new He(4,Int32Array.from([6,26]),new J(20,new j(1,80)),new J(18,new j(2,32)),new J(26,new j(2,24)),new J(16,new j(4,9))),new He(5,Int32Array.from([6,30]),new J(26,new j(1,108)),new J(24,new j(2,43)),new J(18,new j(2,15),new j(2,16)),new J(22,new j(2,11),new j(2,12))),new He(6,Int32Array.from([6,34]),new J(18,new j(2,68)),new J(16,new j(4,27)),new J(24,new j(4,19)),new J(28,new j(4,15))),new He(7,Int32Array.from([6,22,38]),new J(20,new j(2,78)),new J(18,new j(4,31)),new J(18,new j(2,14),new j(4,15)),new J(26,new j(4,13),new j(1,14))),new He(8,Int32Array.from([6,24,42]),new J(24,new j(2,97)),new J(22,new j(2,38),new j(2,39)),new J(22,new j(4,18),new j(2,19)),new J(26,new j(4,14),new j(2,15))),new He(9,Int32Array.from([6,26,46]),new J(30,new j(2,116)),new J(22,new j(3,36),new j(2,37)),new J(20,new j(4,16),new j(4,17)),new J(24,new j(4,12),new j(4,13))),new He(10,Int32Array.from([6,28,50]),new J(18,new j(2,68),new j(2,69)),new J(26,new j(4,43),new j(1,44)),new J(24,new j(6,19),new j(2,20)),new J(28,new j(6,15),new j(2,16))),new He(11,Int32Array.from([6,30,54]),new J(20,new j(4,81)),new J(30,new j(1,50),new j(4,51)),new J(28,new j(4,22),new j(4,23)),new J(24,new j(3,12),new j(8,13))),new He(12,Int32Array.from([6,32,58]),new J(24,new j(2,92),new j(2,93)),new J(22,new j(6,36),new j(2,37)),new J(26,new j(4,20),new j(6,21)),new J(28,new j(7,14),new j(4,15))),new He(13,Int32Array.from([6,34,62]),new J(26,new j(4,107)),new J(22,new j(8,37),new j(1,38)),new J(24,new j(8,20),new j(4,21)),new J(22,new j(12,11),new j(4,12))),new He(14,Int32Array.from([6,26,46,66]),new J(30,new j(3,115),new j(1,116)),new J(24,new j(4,40),new j(5,41)),new J(20,new j(11,16),new j(5,17)),new J(24,new j(11,12),new j(5,13))),new He(15,Int32Array.from([6,26,48,70]),new J(22,new j(5,87),new j(1,88)),new J(24,new j(5,41),new j(5,42)),new J(30,new j(5,24),new j(7,25)),new J(24,new j(11,12),new j(7,13))),new He(16,Int32Array.from([6,26,50,74]),new J(24,new j(5,98),new j(1,99)),new J(28,new j(7,45),new j(3,46)),new J(24,new j(15,19),new j(2,20)),new J(30,new j(3,15),new j(13,16))),new He(17,Int32Array.from([6,30,54,78]),new J(28,new j(1,107),new j(5,108)),new J(28,new j(10,46),new j(1,47)),new J(28,new j(1,22),new j(15,23)),new J(28,new j(2,14),new j(17,15))),new He(18,Int32Array.from([6,30,56,82]),new J(30,new j(5,120),new j(1,121)),new J(26,new j(9,43),new j(4,44)),new J(28,new j(17,22),new j(1,23)),new J(28,new j(2,14),new j(19,15))),new He(19,Int32Array.from([6,30,58,86]),new J(28,new j(3,113),new j(4,114)),new J(26,new j(3,44),new j(11,45)),new J(26,new j(17,21),new j(4,22)),new J(26,new j(9,13),new j(16,14))),new He(20,Int32Array.from([6,34,62,90]),new J(28,new j(3,107),new j(5,108)),new J(26,new j(3,41),new j(13,42)),new J(30,new j(15,24),new j(5,25)),new J(28,new j(15,15),new j(10,16))),new He(21,Int32Array.from([6,28,50,72,94]),new J(28,new j(4,116),new j(4,117)),new J(26,new j(17,42)),new J(28,new j(17,22),new j(6,23)),new J(30,new j(19,16),new j(6,17))),new He(22,Int32Array.from([6,26,50,74,98]),new J(28,new j(2,111),new j(7,112)),new J(28,new j(17,46)),new J(30,new j(7,24),new j(16,25)),new J(24,new j(34,13))),new He(23,Int32Array.from([6,30,54,78,102]),new J(30,new j(4,121),new j(5,122)),new J(28,new j(4,47),new j(14,48)),new J(30,new j(11,24),new j(14,25)),new J(30,new j(16,15),new j(14,16))),new He(24,Int32Array.from([6,28,54,80,106]),new J(30,new j(6,117),new j(4,118)),new J(28,new j(6,45),new j(14,46)),new J(30,new j(11,24),new j(16,25)),new J(30,new j(30,16),new j(2,17))),new He(25,Int32Array.from([6,32,58,84,110]),new J(26,new j(8,106),new j(4,107)),new J(28,new j(8,47),new j(13,48)),new J(30,new j(7,24),new j(22,25)),new J(30,new j(22,15),new j(13,16))),new He(26,Int32Array.from([6,30,58,86,114]),new J(28,new j(10,114),new j(2,115)),new J(28,new j(19,46),new j(4,47)),new J(28,new j(28,22),new j(6,23)),new J(30,new j(33,16),new j(4,17))),new He(27,Int32Array.from([6,34,62,90,118]),new J(30,new j(8,122),new j(4,123)),new J(28,new j(22,45),new j(3,46)),new J(30,new j(8,23),new j(26,24)),new J(30,new j(12,15),new j(28,16))),new He(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new j(3,117),new j(10,118)),new J(28,new j(3,45),new j(23,46)),new J(30,new j(4,24),new j(31,25)),new J(30,new j(11,15),new j(31,16))),new He(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new j(7,116),new j(7,117)),new J(28,new j(21,45),new j(7,46)),new J(30,new j(1,23),new j(37,24)),new J(30,new j(19,15),new j(26,16))),new He(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new j(5,115),new j(10,116)),new J(28,new j(19,47),new j(10,48)),new J(30,new j(15,24),new j(25,25)),new J(30,new j(23,15),new j(25,16))),new He(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new j(13,115),new j(3,116)),new J(28,new j(2,46),new j(29,47)),new J(30,new j(42,24),new j(1,25)),new J(30,new j(23,15),new j(28,16))),new He(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new j(17,115)),new J(28,new j(10,46),new j(23,47)),new J(30,new j(10,24),new j(35,25)),new J(30,new j(19,15),new j(35,16))),new He(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new j(17,115),new j(1,116)),new J(28,new j(14,46),new j(21,47)),new J(30,new j(29,24),new j(19,25)),new J(30,new j(11,15),new j(46,16))),new He(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new j(13,115),new j(6,116)),new J(28,new j(14,46),new j(23,47)),new J(30,new j(44,24),new j(7,25)),new J(30,new j(59,16),new j(1,17))),new He(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new j(12,121),new j(7,122)),new J(28,new j(12,47),new j(26,48)),new J(30,new j(39,24),new j(14,25)),new J(30,new j(22,15),new j(41,16))),new He(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new j(6,121),new j(14,122)),new J(28,new j(6,47),new j(34,48)),new J(30,new j(46,24),new j(10,25)),new J(30,new j(2,15),new j(64,16))),new He(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new j(17,122),new j(4,123)),new J(28,new j(29,46),new j(14,47)),new J(30,new j(49,24),new j(10,25)),new J(30,new j(24,15),new j(46,16))),new He(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new j(4,122),new j(18,123)),new J(28,new j(13,46),new j(32,47)),new J(30,new j(48,24),new j(14,25)),new J(30,new j(42,15),new j(32,16))),new He(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new j(20,117),new j(4,118)),new J(28,new j(40,47),new j(7,48)),new J(30,new j(43,24),new j(22,25)),new J(30,new j(10,15),new j(67,16))),new He(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new j(19,118),new j(6,119)),new J(28,new j(18,47),new j(31,48)),new J(30,new j(34,24),new j(34,25)),new J(30,new j(20,15),new j(61,16)))];var on;(function(R){R[R.DATA_MASK_000=0]="DATA_MASK_000",R[R.DATA_MASK_001=1]="DATA_MASK_001",R[R.DATA_MASK_010=2]="DATA_MASK_010",R[R.DATA_MASK_011=3]="DATA_MASK_011",R[R.DATA_MASK_100=4]="DATA_MASK_100",R[R.DATA_MASK_101=5]="DATA_MASK_101",R[R.DATA_MASK_110=6]="DATA_MASK_110",R[R.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class ut{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let o=0;o<r;o++)for(let l=0;l<r;l++)this.isMasked(o,l)&&e.flip(l,o)}}ut.values=new Map([[on.DATA_MASK_000,new ut(on.DATA_MASK_000,(R,e)=>(R+e&1)===0)],[on.DATA_MASK_001,new ut(on.DATA_MASK_001,(R,e)=>(R&1)===0)],[on.DATA_MASK_010,new ut(on.DATA_MASK_010,(R,e)=>e%3===0)],[on.DATA_MASK_011,new ut(on.DATA_MASK_011,(R,e)=>(R+e)%3===0)],[on.DATA_MASK_100,new ut(on.DATA_MASK_100,(R,e)=>(Math.floor(R/2)+Math.floor(e/3)&1)===0)],[on.DATA_MASK_101,new ut(on.DATA_MASK_101,(R,e)=>R*e%6===0)],[on.DATA_MASK_110,new ut(on.DATA_MASK_110,(R,e)=>R*e%6<3)],[on.DATA_MASK_111,new ut(on.DATA_MASK_111,(R,e)=>(R+e+R*e%3&1)===0)]]);class ul{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new q;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let u=0;u<6;u++)e=this.copyBit(u,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let u=5;u>=0;u--)e=this.copyBit(8,u,e);const r=this.bitMatrix.getHeight();let o=0;const l=r-7;for(let u=r-1;u>=l;u--)o=this.copyBit(8,u,o);for(let u=r-8;u<r;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=An.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return He.getVersionForNumber(r);let o=0;const l=e-11;for(let f=5;f>=0;f--)for(let g=e-9;g>=l;g--)o=this.copyBit(g,f,o);let u=He.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;o=0;for(let f=5;f>=0;f--)for(let g=e-9;g>=l;g--)o=this.copyBit(f,g,o);if(u=He.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===e)return this.parsedVersion=u,u;throw new q}copyBit(e,r,o){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?o<<1|1:o<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),o=ut.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const u=r.buildFunctionPattern();let f=!0;const g=new Uint8Array(r.getTotalCodewords());let w=0,A=0,b=0;for(let M=l-1;M>0;M-=2){M===6&&M--;for(let P=0;P<l;P++){const U=f?l-1-P:P;for(let G=0;G<2;G++)u.get(M-G,U)||(b++,A<<=1,this.bitMatrix.get(M-G,U)&&(A|=1),b===8&&(g[w++]=A,b=0,A=0))}f=!f}if(w!==r.getTotalCodewords())throw new q;return g}remask(){if(this.parsedFormatInfo===null)return;const e=ut.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,o=e.getWidth();r<o;r++)for(let l=r+1,u=e.getHeight();l<u;l++)e.get(r,l)!==e.get(l,r)&&(e.flip(l,r),e.flip(r,l))}}class io{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,o){if(e.length!==r.getTotalCodewords())throw new T;const l=r.getECBlocksForLevel(o);let u=0;const f=l.getECBlocks();for(const G of f)u+=G.getCount();const g=new Array(u);let w=0;for(const G of f)for(let X=0;X<G.getCount();X++){const $=G.getDataCodewords(),oe=l.getECCodewordsPerBlock()+$;g[w++]=new io($,new Uint8Array(oe))}const A=g[0].codewords.length;let b=g.length-1;for(;b>=0&&g[b].codewords.length!==A;)b--;b++;const M=A-l.getECCodewordsPerBlock();let P=0;for(let G=0;G<M;G++)for(let X=0;X<w;X++)g[X].codewords[G]=e[P++];for(let G=b;G<w;G++)g[G].codewords[M]=e[P++];const U=g[0].codewords.length;for(let G=M;G<U;G++)for(let X=0;X<w;X++){const $=X<b?G:G+1;g[X].codewords[$]=e[P++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Yn;(function(R){R[R.TERMINATOR=0]="TERMINATOR",R[R.NUMERIC=1]="NUMERIC",R[R.ALPHANUMERIC=2]="ALPHANUMERIC",R[R.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",R[R.BYTE=4]="BYTE",R[R.ECI=5]="ECI",R[R.KANJI=6]="KANJI",R[R.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",R[R.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",R[R.HANZI=9]="HANZI"})(Yn||(Yn={}));class Xe{constructor(e,r,o,l){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=l,Xe.FOR_BITS.set(l,this),Xe.FOR_VALUE.set(e,this)}static forBits(e){const r=Xe.FOR_BITS.get(e);if(r===void 0)throw new T;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Xe))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Xe.FOR_BITS=new Map,Xe.FOR_VALUE=new Map,Xe.TERMINATOR=new Xe(Yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Xe.NUMERIC=new Xe(Yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Xe.ALPHANUMERIC=new Xe(Yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Xe.STRUCTURED_APPEND=new Xe(Yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Xe.BYTE=new Xe(Yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Xe.ECI=new Xe(Yn.ECI,"ECI",Int32Array.from([0,0,0]),7),Xe.KANJI=new Xe(Yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Xe.FNC1_FIRST_POSITION=new Xe(Yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Xe.FNC1_SECOND_POSITION=new Xe(Yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Xe.HANZI=new Xe(Yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Vt{static decode(e,r,o,l){const u=new Xo(e);let f=new Ge;const g=new Array;let w=-1,A=-1;try{let b=null,M=!1,P;do{if(u.available()<4)P=Xe.TERMINATOR;else{const U=u.readBits(4);P=Xe.forBits(U)}switch(P){case Xe.TERMINATOR:break;case Xe.FNC1_FIRST_POSITION:case Xe.FNC1_SECOND_POSITION:M=!0;break;case Xe.STRUCTURED_APPEND:if(u.available()<16)throw new q;w=u.readBits(8),A=u.readBits(8);break;case Xe.ECI:const U=Vt.parseECIValue(u);if(b=te.getCharacterSetECIByValue(U),b===null)throw new q;break;case Xe.HANZI:const G=u.readBits(4),X=u.readBits(P.getCharacterCountBits(r));G===Vt.GB2312_SUBSET&&Vt.decodeHanziSegment(u,f,X);break;default:const $=u.readBits(P.getCharacterCountBits(r));switch(P){case Xe.NUMERIC:Vt.decodeNumericSegment(u,f,$);break;case Xe.ALPHANUMERIC:Vt.decodeAlphanumericSegment(u,f,$,M);break;case Xe.BYTE:Vt.decodeByteSegment(u,f,$,b,g,l);break;case Xe.KANJI:Vt.decodeKanjiSegment(u,f,$);break;default:throw new q}break}}while(P!==Xe.TERMINATOR)}catch{throw new q}return new it(e,f.toString(),g.length===0?null:g,o===null?null:o.toString(),w,A)}static decodeHanziSegment(e,r,o){if(o*13>e.available())throw new q;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=e.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,l[u]=g>>8&255,l[u+1]=g&255,u+=2,o--}try{r.append(Le.decode(l,Ne.GB2312))}catch(f){throw new q(f)}}static decodeKanjiSegment(e,r,o){if(o*13>e.available())throw new q;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const f=e.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,l[u]=g>>8,l[u+1]=g,u+=2,o--}try{r.append(Le.decode(l,Ne.SHIFT_JIS))}catch(f){throw new q(f)}}static decodeByteSegment(e,r,o,l,u,f){if(8*o>e.available())throw new q;const g=new Uint8Array(o);for(let A=0;A<o;A++)g[A]=e.readBits(8);let w;l===null?w=Ne.guessEncoding(g,f):w=l.getName();try{r.append(Le.decode(g,w))}catch(A){throw new q(A)}u.push(g)}static toAlphaNumericChar(e){if(e>=Vt.ALPHANUMERIC_CHARS.length)throw new q;return Vt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,o,l){const u=r.length();for(;o>1;){if(e.available()<11)throw new q;const f=e.readBits(11);r.append(Vt.toAlphaNumericChar(Math.floor(f/45))),r.append(Vt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(e.available()<6)throw new q;r.append(Vt.toAlphaNumericChar(e.readBits(6)))}if(l)for(let f=u;f<r.length();f++)r.charAt(f)==="%"&&(f<r.length()-1&&r.charAt(f+1)==="%"?r.deleteCharAt(f+1):r.setCharAt(f,""))}static decodeNumericSegment(e,r,o){for(;o>=3;){if(e.available()<10)throw new q;const l=e.readBits(10);if(l>=1e3)throw new q;r.append(Vt.toAlphaNumericChar(Math.floor(l/100))),r.append(Vt.toAlphaNumericChar(Math.floor(l/10)%10)),r.append(Vt.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(e.available()<7)throw new q;const l=e.readBits(7);if(l>=100)throw new q;r.append(Vt.toAlphaNumericChar(Math.floor(l/10))),r.append(Vt.toAlphaNumericChar(l%10))}else if(o===1){if(e.available()<4)throw new q;const l=e.readBits(4);if(l>=10)throw new q;r.append(Vt.toAlphaNumericChar(l))}}static parseECIValue(e){const r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=e.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=e.readBits(16);return(r&31)<<16&4294967295|o}throw new q}}Vt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Vt.GB2312_SUBSET=1;class Zo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class Ko{constructor(){this.rsDecoder=new gr(ot.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(Re.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const o=new ul(e);let l=null;try{return this.decodeBitMatrixParser(o,r)}catch(u){l=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,r);return u.setOther(new Zo(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(e,r){const o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),u=e.readCodewords(),f=io.getDataBlocks(u,o,l);let g=0;for(const b of f)g+=b.getNumDataCodewords();const w=new Uint8Array(g);let A=0;for(const b of f){const M=b.getCodewords(),P=b.getNumDataCodewords();this.correctErrors(M,P);for(let U=0;U<P;U++)w[A++]=M[U]}return Vt.decode(w,o,l,r)}correctErrors(e,r){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-r)}catch{throw new O}for(let l=0;l<r;l++)e[l]=o[l]}}class Zi extends ve{constructor(e,r,o){super(e,r),this.estimatedModuleSize=o}aboutEquals(e,r,o){if(Math.abs(r-this.getY())<=e&&Math.abs(o-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,r,o){const l=(this.getX()+r)/2,u=(this.getY()+e)/2,f=(this.estimatedModuleSize+o)/2;return new Zi(l,u,f)}}class Cr{constructor(e,r,o,l,u,f,g){this.image=e,this.startX=r,this.startY=o,this.width=l,this.height=u,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,o=this.width,l=e+o,u=this.startY+r/2,f=new Int32Array(3),g=this.image;for(let w=0;w<r;w++){const A=u+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let b=e;for(;b<l&&!g.get(b,A);)b++;let M=0;for(;b<l;){if(g.get(b,A))if(M===1)f[1]++;else if(M===2){if(this.foundPatternCross(f)){const P=this.handlePossibleCenter(f,A,b);if(P!==null)return P}f[0]=f[2],f[1]=1,f[2]=0,M=1}else f[++M]++;else M===1&&M++,f[M]++;b++}if(this.foundPatternCross(f)){const P=this.handlePossibleCenter(f,A,l);if(P!==null)return P}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,o=r/2;for(let l=0;l<3;l++)if(Math.abs(r-e[l])>=o)return!1;return!0}crossCheckVertical(e,r,o,l){const u=this.image,f=u.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let w=e;for(;w>=0&&u.get(r,w)&&g[1]<=o;)g[1]++,w--;if(w<0||g[1]>o)return NaN;for(;w>=0&&!u.get(r,w)&&g[0]<=o;)g[0]++,w--;if(g[0]>o)return NaN;for(w=e+1;w<f&&u.get(r,w)&&g[1]<=o;)g[1]++,w++;if(w===f||g[1]>o)return NaN;for(;w<f&&!u.get(r,w)&&g[2]<=o;)g[2]++,w++;if(g[2]>o)return NaN;const A=g[0]+g[1]+g[2];return 5*Math.abs(A-l)>=2*l?NaN:this.foundPatternCross(g)?Cr.centerFromEnd(g,w):NaN}handlePossibleCenter(e,r,o){const l=e[0]+e[1]+e[2],u=Cr.centerFromEnd(e,o),f=this.crossCheckVertical(r,u,2*e[1],l);if(!isNaN(f)){const g=(e[0]+e[1]+e[2])/3;for(const A of this.possibleCenters)if(A.aboutEquals(g,f,u))return A.combineEstimate(f,u,g);const w=new Zi(u,f,g);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Or extends ve{constructor(e,r,o,l){super(e,r),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,o){if(Math.abs(r-this.getY())<=e&&Math.abs(o-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,r,o){const l=this.count+1,u=(this.count*this.getX()+r)/l,f=(this.count*this.getY()+e)/l,g=(this.count*this.estimatedModuleSize+o)/l;return new Or(u,f,g,l)}}class ii{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(ce.TRY_HARDER)!==void 0,o=e!=null&&e.get(ce.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),f=l.getWidth();let g=Math.floor(3*u/(4*$t.MAX_MODULES));(g<$t.MIN_SKIP||r)&&(g=$t.MIN_SKIP);let w=!1;const A=new Int32Array(5);for(let M=g-1;M<u&&!w;M+=g){A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0;let P=0;for(let U=0;U<f;U++)if(l.get(U,M))(P&1)===1&&P++,A[P]++;else if(P&1)A[P]++;else if(P===4)if($t.foundPatternCross(A)){if(this.handlePossibleCenter(A,M,U,o)===!0)if(g=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>A[2]&&(M+=X-A[2]-g,U=f-1)}else{A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,P=3;continue}P=0,A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0}else A[0]=A[2],A[1]=A[3],A[2]=A[4],A[3]=1,A[4]=0,P=3;else A[++P]++;$t.foundPatternCross(A)&&this.handlePossibleCenter(A,M,f,o)===!0&&(g=A[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return ve.orderBestPatterns(b),new ii(b)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let u=0;u<5;u++){const f=e[u];if(f===0)return!1;r+=f}if(r<7)return!1;const o=r/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,o,l){const u=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;e>=f&&r>=f&&g.get(r-f,e-f);)u[2]++,f++;if(e<f||r<f)return!1;for(;e>=f&&r>=f&&!g.get(r-f,e-f)&&u[1]<=o;)u[1]++,f++;if(e<f||r<f||u[1]>o)return!1;for(;e>=f&&r>=f&&g.get(r-f,e-f)&&u[0]<=o;)u[0]++,f++;if(u[0]>o)return!1;const w=g.getHeight(),A=g.getWidth();for(f=1;e+f<w&&r+f<A&&g.get(r+f,e+f);)u[2]++,f++;if(e+f>=w||r+f>=A)return!1;for(;e+f<w&&r+f<A&&!g.get(r+f,e+f)&&u[3]<o;)u[3]++,f++;if(e+f>=w||r+f>=A||u[3]>=o)return!1;for(;e+f<w&&r+f<A&&g.get(r+f,e+f)&&u[4]<o;)u[4]++,f++;if(u[4]>=o)return!1;const b=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(b-l)<2*l&&$t.foundPatternCross(u)}crossCheckVertical(e,r,o,l){const u=this.image,f=u.getHeight(),g=this.getCrossCheckStateCount();let w=e;for(;w>=0&&u.get(r,w);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(r,w)&&g[1]<=o;)g[1]++,w--;if(w<0||g[1]>o)return NaN;for(;w>=0&&u.get(r,w)&&g[0]<=o;)g[0]++,w--;if(g[0]>o)return NaN;for(w=e+1;w<f&&u.get(r,w);)g[2]++,w++;if(w===f)return NaN;for(;w<f&&!u.get(r,w)&&g[3]<o;)g[3]++,w++;if(w===f||g[3]>=o)return NaN;for(;w<f&&u.get(r,w)&&g[4]<o;)g[4]++,w++;if(g[4]>=o)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-l)>=2*l?NaN:$t.foundPatternCross(g)?$t.centerFromEnd(g,w):NaN}crossCheckHorizontal(e,r,o,l){const u=this.image,f=u.getWidth(),g=this.getCrossCheckStateCount();let w=e;for(;w>=0&&u.get(w,r);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!u.get(w,r)&&g[1]<=o;)g[1]++,w--;if(w<0||g[1]>o)return NaN;for(;w>=0&&u.get(w,r)&&g[0]<=o;)g[0]++,w--;if(g[0]>o)return NaN;for(w=e+1;w<f&&u.get(w,r);)g[2]++,w++;if(w===f)return NaN;for(;w<f&&!u.get(w,r)&&g[3]<o;)g[3]++,w++;if(w===f||g[3]>=o)return NaN;for(;w<f&&u.get(w,r)&&g[4]<o;)g[4]++,w++;if(g[4]>=o)return NaN;const A=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(A-l)>=l?NaN:$t.foundPatternCross(g)?$t.centerFromEnd(g,w):NaN}handlePossibleCenter(e,r,o,l){const u=e[0]+e[1]+e[2]+e[3]+e[4];let f=$t.centerFromEnd(e,o),g=this.crossCheckVertical(r,Math.floor(f),e[2],u);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),e[2],u),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),e[2],u)))){const w=u/7;let A=!1;const b=this.possibleCenters;for(let M=0,P=b.length;M<P;M++){const U=b[M];if(U.aboutEquals(w,g,f)){b[M]=U.combineEstimate(g,f,w),A=!0;break}}if(!A){const M=new Or(f,g,w);b.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=$t.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=$t.CENTER_QUORUM&&(e++,r+=f.getEstimatedModuleSize());if(e<3)return!1;const l=r/o;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-l);return u<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new Q;const r=this.possibleCenters;let o;if(e>3){let l=0,u=0;for(const w of this.possibleCenters){const A=w.getEstimatedModuleSize();l+=A,u+=A*A}o=l/e;let f=Math.sqrt(u/e-o*o);r.sort((w,A)=>{const b=Math.abs(A.getEstimatedModuleSize()-o),M=Math.abs(w.getEstimatedModuleSize()-o);return b<M?-1:b>M?1:0});const g=Math.max(.2*o,f);for(let w=0;w<r.length&&r.length>3;w++){const A=r[w];Math.abs(A.getEstimatedModuleSize()-o)>g&&(r.splice(w,1),w--)}}if(r.length>3){let l=0;for(const u of r)l+=u.getEstimatedModuleSize();o=l/r.length,r.sort((u,f)=>{if(f.getCount()===u.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-o),w=Math.abs(u.getEstimatedModuleSize()-o);return g<w?1:g>w?-1:0}else return f.getCount()-u.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class Gr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(ce.NEED_RESULT_POINT_CALLBACK);const o=new $t(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(o)}processFinderPatternInfo(e){const r=e.getTopLeft(),o=e.getTopRight(),l=e.getBottomLeft(),u=this.calculateModuleSize(r,o,l);if(u<1)throw new Q("No pattern found in proccess finder.");const f=Gr.computeDimension(r,o,l,u),g=He.getProvisionalVersionForDimension(f),w=g.getDimensionForVersion()-7;let A=null;if(g.getAlignmentPatternCenters().length>0){const U=o.getX()-r.getX()+l.getX(),G=o.getY()-r.getY()+l.getY(),X=1-3/w,$=Math.floor(r.getX()+X*(U-r.getX())),oe=Math.floor(r.getY()+X*(G-r.getY()));for(let Ae=4;Ae<=16;Ae<<=1)try{A=this.findAlignmentInRegion(u,$,oe,Ae);break}catch(Te){if(!(Te instanceof Q))throw Te}}const b=Gr.createTransform(r,o,l,A,f),M=Gr.sampleGrid(this.image,b,f);let P;return A===null?P=[l,r,o]:P=[l,r,o,A],new $e(M,P)}static createTransform(e,r,o,l,u){const f=u-3.5;let g,w,A,b;return l!==null?(g=l.getX(),w=l.getY(),A=f-3,b=A):(g=r.getX()-e.getX()+o.getX(),w=r.getY()-e.getY()+o.getY(),A=f,b=f),wt.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,A,b,3.5,f,e.getX(),e.getY(),r.getX(),r.getY(),g,w,o.getX(),o.getY())}static sampleGrid(e,r,o){return Dt.getInstance().sampleGridWithTransform(e,o,o,r)}static computeDimension(e,r,o,l){const u=tt.round(ve.distance(e,r)/l),f=tt.round(ve.distance(e,o)/l);let g=Math.floor((u+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new Q("Dimensions could be not found.")}return g}calculateModuleSize(e,r,o){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,o))/2}calculateModuleSizeOneWay(e,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,o,l){let u=this.sizeOfBlackWhiteBlackRun(e,r,o,l),f=1,g=e-(o-e);g<0?(f=e/(e-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-e)/(g-e),g=this.image.getWidth()-1);let w=Math.floor(r-(l-r)*f);return f=1,w<0?(f=r/(r-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-r)/(w-r),w=this.image.getHeight()-1),g=Math.floor(e+(g-e)*f),u+=this.sizeOfBlackWhiteBlackRun(e,r,g,w),u-1}sizeOfBlackWhiteBlackRun(e,r,o,l){const u=Math.abs(l-r)>Math.abs(o-e);if(u){let U=e;e=r,r=U,U=o,o=l,l=U}const f=Math.abs(o-e),g=Math.abs(l-r);let w=-f/2;const A=e<o?1:-1,b=r<l?1:-1;let M=0;const P=o+A;for(let U=e,G=r;U!==P;U+=A){const X=u?G:U,$=u?U:G;if(M===1===this.image.get(X,$)){if(M===2)return tt.distance(U,G,e,r);M++}if(w+=g,w>0){if(G===l)break;G+=b,w-=f}}return M===2?tt.distance(o+A,l,e,r):NaN}findAlignmentInRegion(e,r,o,l){const u=Math.floor(l*e),f=Math.max(0,r-u),g=Math.min(this.image.getWidth()-1,r+u);if(g-f<e*3)throw new Q("Alignment top exceeds estimated module size.");const w=Math.max(0,o-u),A=Math.min(this.image.getHeight()-1,o+u);if(A-w<e*3)throw new Q("Alignment bottom exceeds estimated module size.");return new Cr(this.image,f,w,g-f,A-w,e,this.resultPointCallback).find()}}class Bn{constructor(){this.decoder=new Ko}getDecoder(){return this.decoder}decode(e,r){let o,l;if(r!=null&&r.get(ce.PURE_BARCODE)!==void 0){const w=Bn.extractPureBits(e.getBlackMatrix());o=this.decoder.decodeBitMatrix(w,r),l=Bn.NO_POINTS}else{const w=new Gr(e.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(w.getBits(),r),l=w.getPoints()}o.getOther()instanceof Zo&&o.getOther().applyMirroredCorrection(l);const u=new we(o.getText(),o.getRawBytes(),void 0,l,pe.QR_CODE,void 0),f=o.getByteSegments();f!==null&&u.putMetadata(Me.BYTE_SEGMENTS,f);const g=o.getECLevel();return g!==null&&u.putMetadata(Me.ERROR_CORRECTION_LEVEL,g),o.hasStructuredAppend()&&(u.putMetadata(Me.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(Me.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(r===null||o===null)throw new Q;const l=this.moduleSize(r,e);let u=r[1],f=o[1],g=r[0],w=o[0];if(g>=w||u>=f)throw new Q;if(f-u!==w-g&&(w=g+(f-u),w>=e.getWidth()))throw new Q;const A=Math.round((w-g+1)/l),b=Math.round((f-u+1)/l);if(A<=0||b<=0)throw new Q;if(b!==A)throw new Q;const M=Math.floor(l/2);u+=M,g+=M;const P=g+Math.floor((A-1)*l)-w;if(P>0){if(P>M)throw new Q;g-=P}const U=u+Math.floor((b-1)*l)-f;if(U>0){if(U>M)throw new Q;u-=U}const G=new Re(A,b);for(let X=0;X<b;X++){const $=u+Math.floor(X*l);for(let oe=0;oe<A;oe++)e.get(g+Math.floor(oe*l),$)&&G.set(oe,X)}return G}static moduleSize(e,r){const o=r.getHeight(),l=r.getWidth();let u=e[0],f=e[1],g=!0,w=0;for(;u<l&&f<o;){if(g!==r.get(u,f)){if(++w===5)break;g=!g}u++,f++}if(u===l||f===o)throw new Q;return(u-e[0])/7}}Bn.NO_POINTS=new Array;class qe{PDF417Common(){}static getBitCountSum(e){return tt.sum(e)}static toIntArray(e){if(e==null||!e.length)return qe.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let o=0;for(const l of e)r[o++]=l;return r}static getCodeword(e){const r=H.binarySearch(qe.SYMBOL_TABLE,e&262143);return r<0?-1:(qe.CODEWORD_TABLE[r]-1)%qe.NUMBER_OF_CODEWORDS}}qe.NUMBER_OF_CODEWORDS=929,qe.MAX_CODEWORDS_IN_BARCODE=qe.NUMBER_OF_CODEWORDS-1,qe.MIN_ROWS_IN_BARCODE=3,qe.MAX_ROWS_IN_BARCODE=90,qe.MODULES_IN_CODEWORD=17,qe.MODULES_IN_STOP_PATTERN=18,qe.BARS_IN_MODULE=8,qe.EMPTY_INT_ARRAY=new Int32Array([]),qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class cl{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class nt{static detectMultiple(e,r,o){let l=e.getBlackMatrix(),u=nt.detect(o,l);return u.length||(l=l.clone(),l.rotate180(),u=nt.detect(o,l)),new cl(l,u)}static detect(e,r){const o=new Array;let l=0,u=0,f=!1;for(;l<r.getHeight();){const g=nt.findVertices(r,l,u);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,u=0;for(const w of o)w[1]!=null&&(l=Math.trunc(Math.max(l,w[1].getY()))),w[3]!=null&&(l=Math.max(l,Math.trunc(w[3].getY())));l+=nt.ROW_STEP;continue}if(f=!0,o.push(g),!e)break;g[2]!=null?(u=Math.trunc(g[2].getX()),l=Math.trunc(g[2].getY())):(u=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY()))}return o}static findVertices(e,r,o){const l=e.getHeight(),u=e.getWidth(),f=new Array(8);return nt.copyToResult(f,nt.findRowsWithPattern(e,l,u,r,o,nt.START_PATTERN),nt.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),r=Math.trunc(f[4].getY())),nt.copyToResult(f,nt.findRowsWithPattern(e,l,u,r,o,nt.STOP_PATTERN),nt.INDEXES_STOP_PATTERN),f}static copyToResult(e,r,o){for(let l=0;l<o.length;l++)e[o[l]]=r[l]}static findRowsWithPattern(e,r,o,l,u,f){const g=new Array(4);let w=!1;const A=new Int32Array(f.length);for(;l<r;l+=nt.ROW_STEP){let M=nt.findGuardPattern(e,u,l,o,!1,f,A);if(M!=null){for(;l>0;){const P=nt.findGuardPattern(e,u,--l,o,!1,f,A);if(P!=null)M=P;else{l++;break}}g[0]=new ve(M[0],l),g[1]=new ve(M[1],l),w=!0;break}}let b=l+1;if(w){let M=0,P=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;b<r;b++){const U=nt.findGuardPattern(e,P[0],b,o,!1,f,A);if(U!=null&&Math.abs(P[0]-U[0])<nt.MAX_PATTERN_DRIFT&&Math.abs(P[1]-U[1])<nt.MAX_PATTERN_DRIFT)P=U,M=0;else{if(M>nt.SKIPPED_ROW_COUNT_MAX)break;M++}}b-=M+1,g[2]=new ve(P[0],b),g[3]=new ve(P[1],b)}return b-l<nt.BARCODE_MIN_HEIGHT&&H.fill(g,null),g}static findGuardPattern(e,r,o,l,u,f,g){H.fillWithin(g,0,g.length,0);let w=r,A=0;for(;e.get(w,o)&&w>0&&A++<nt.MAX_PIXEL_DRIFT;)w--;let b=w,M=0,P=f.length;for(let U=u;b<l;b++)if(e.get(b,o)!==U)g[M]++;else{if(M===P-1){if(nt.patternMatchVariance(g,f,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return new Int32Array([w,b]);w+=g[0]+g[1],B.arraycopy(g,2,g,0,M-1),g[M-1]=0,g[M]=0,M--}else M++;g[M]=1,U=!U}return M===P-1&&nt.patternMatchVariance(g,f,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE?new Int32Array([w,b-1]):null}static patternMatchVariance(e,r,o){let l=e.length,u=0,f=0;for(let A=0;A<l;A++)u+=e[A],f+=r[A];if(u<f)return 1/0;let g=u/f;o*=g;let w=0;for(let A=0;A<l;A++){let b=e[A],M=r[A]*g,P=b>M?b-M:M-b;if(P>o)return 1/0;w+=P}return w/u}}nt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),nt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),nt.MAX_AVG_VARIANCE=.42,nt.MAX_INDIVIDUAL_VARIANCE=.8,nt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),nt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),nt.MAX_PIXEL_DRIFT=3,nt.MAX_PATTERN_DRIFT=5,nt.SKIPPED_ROW_COUNT_MAX=25,nt.ROW_STEP=5,nt.BARCODE_MIN_HEIGHT=10;class Sn{constructor(e,r){if(r.length===0)throw new T;this.field=e;let o=r.length;if(o>1&&r[0]===0){let l=1;for(;l<o&&r[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),B.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let r=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)r=this.field.add(this.field.multiply(e,r),this.coefficients[l]);return r}add(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,o=e.coefficients;if(r.length>o.length){let f=r;r=o,o=f}let l=new Int32Array(o.length),u=o.length-r.length;B.arraycopy(o,0,l,0,u);for(let f=u;f<o.length;f++)l[f]=this.field.add(r[f-u],o[f]);return new Sn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Sn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Sn(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,l=e.coefficients,u=l.length,f=new Int32Array(o+u-1);for(let g=0;g<o;g++){let w=r[g];for(let A=0;A<u;A++)f[g+A]=this.field.add(f[g+A],this.field.multiply(w,l[A]))}return new Sn(this.field,f)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let o=0;o<e;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new Sn(this.field,r)}multiplyScalar(e){if(e===0)return new Sn(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let l=0;l<r;l++)o[l]=this.field.multiply(this.coefficients[l],e);return new Sn(this.field,o)}multiplyByMonomial(e,r){if(e<0)throw new T;if(r===0)return new Sn(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+e);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],r);return new Sn(this.field,l)}toString(){let e=new Ge;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(e.append(" - "),o=-o):e.length()>0&&e.append(" + "),(r===0||o!==1)&&e.append(o),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class fl{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}inverse(e){if(e===0)throw new er;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ki extends fl{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let o=1;for(let l=0;l<e;l++)this.expTable[l]=o,o=o*r%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Sn(this,new Int32Array([0])),this.one=new Sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new T;if(r===0)return this.zero;let o=new Int32Array(e+1);return o[0]=r,new Sn(this,o)}}Ki.PDF417_GF=new Ki(qe.NUMBER_OF_CODEWORDS,3);class Qo{constructor(){this.field=Ki.PDF417_GF}decode(e,r,o){let l=new Sn(this.field,e),u=new Int32Array(r),f=!1;for(let G=r;G>0;G--){let X=l.evaluateAt(this.field.exp(G));u[r-G]=X,X!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(o!=null)for(const G of o){let X=this.field.exp(e.length-1-G),$=new Sn(this.field,new Int32Array([this.field.subtract(0,X),1]));g=g.multiply($)}let w=new Sn(this.field,u),A=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),w,r),b=A[0],M=A[1],P=this.findErrorLocations(b),U=this.findErrorMagnitudes(M,b,P);for(let G=0;G<P.length;G++){let X=e.length-1-this.field.log(P[G]);if(X<0)throw O.getChecksumInstance();e[X]=this.field.subtract(e[X],U[G])}return P.length}runEuclideanAlgorithm(e,r,o){if(e.getDegree()<r.getDegree()){let P=e;e=r,r=P}let l=e,u=r,f=this.field.getZero(),g=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let P=l,U=f;if(l=u,f=g,l.isZero())throw O.getChecksumInstance();u=P;let G=this.field.getZero(),X=l.getCoefficient(l.getDegree()),$=this.field.inverse(X);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let oe=u.getDegree()-l.getDegree(),Ae=this.field.multiply(u.getCoefficient(u.getDegree()),$);G=G.add(this.field.buildMonomial(oe,Ae)),u=u.subtract(l.multiplyByMonomial(oe,Ae))}g=G.multiply(f).subtract(U).negative()}let w=g.getCoefficient(0);if(w===0)throw O.getChecksumInstance();let A=this.field.inverse(w),b=g.multiply(A),M=u.multiply(A);return[b,M]}findErrorLocations(e){let r=e.getDegree(),o=new Int32Array(r),l=0;for(let u=1;u<this.field.getSize()&&l<r;u++)e.evaluateAt(u)===0&&(o[l]=this.field.inverse(u),l++);if(l!==r)throw O.getChecksumInstance();return o}findErrorMagnitudes(e,r,o){let l=r.getDegree(),u=new Int32Array(l);for(let A=1;A<=l;A++)u[l-A]=this.field.multiply(A,r.getCoefficient(A));let f=new Sn(this.field,u),g=o.length,w=new Int32Array(g);for(let A=0;A<g;A++){let b=this.field.inverse(o[A]),M=this.field.subtract(0,e.evaluateAt(b)),P=this.field.inverse(f.evaluateAt(b));w[A]=this.field.multiply(M,P)}return w}}class Si{constructor(e,r,o,l,u){e instanceof Si?this.constructor_2(e):this.constructor_1(e,r,o,l,u)}constructor_1(e,r,o,l,u){const f=r==null||o==null,g=l==null||u==null;if(f&&g)throw new Q;f?(r=new ve(0,l.getY()),o=new ve(0,u.getY())):g&&(l=new ve(e.getWidth()-1,r.getY()),u=new ve(e.getWidth()-1,o.getY())),this.image=e,this.topLeft=r,this.bottomLeft=o,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new Si(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,o){let l=this.topLeft,u=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(e>0){let w=o?this.topLeft:this.topRight,A=Math.trunc(w.getY()-e);A<0&&(A=0);let b=new ve(w.getX(),A);o?l=b:f=b}if(r>0){let w=o?this.bottomLeft:this.bottomRight,A=Math.trunc(w.getY()+r);A>=this.image.getHeight()&&(A=this.image.getHeight()-1);let b=new ve(w.getX(),A);o?u=b:g=b}return new Si(this.image,l,u,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class bs{constructor(e,r,o,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yr{constructor(){this.buffer=""}static form(e,r){let o=-1;function l(f,g,w,A,b,M){if(f==="%%")return"%";if(r[++o]===void 0)return;f=A?parseInt(A.substr(1)):void 0;let P=b?parseInt(b.substr(1)):void 0,U;switch(M){case"s":U=r[o];break;case"c":U=r[o][0];break;case"f":U=parseFloat(r[o]).toFixed(f);break;case"p":U=parseFloat(r[o]).toPrecision(f);break;case"e":U=parseFloat(r[o]).toExponential(f);break;case"x":U=parseInt(r[o]).toString(P||16);break;case"d":U=parseFloat(parseInt(r[o],P||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(P);let G=parseInt(w),X=w&&w[0]+""=="0"?"0":" ";for(;U.length<G;)U=g!==void 0?U+X:X+U;return U}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(u,l)}format(e,...r){this.buffer+=Yr.form(e,r)}toString(){return this.buffer}}class Pr{constructor(e){this.boundingBox=new Si(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let o=1;o<Pr.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(e)-o;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(e)+o,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Yr;let r=0;for(const o of this.codewords){if(o==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return e.toString()}}Pr.MAX_NEARBY_DISTANCE=5;class si{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[o,l]of this.values.entries()){const u={getKey:()=>o,getValue:()=>l};u.getValue()>e?(e=u.getValue(),r=[],r.push(u.getKey())):u.getValue()===e&&r.push(u.getKey())}return qe.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class dl extends Pr{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(u.getY())),w=-1,A=1,b=0;for(let M=f;M<g;M++){if(r[M]==null)continue;let P=r[M],U=P.getRowNumber()-w;if(U===0)b++;else if(U===1)A=Math.max(A,b),b=1,w=P.getRowNumber();else if(U<0||P.getRowNumber()>=e.getRowCount()||U>M)r[M]=null;else{let G;A>2?G=(A-2)*U:G=U;let X=G>=M;for(let $=1;$<=G&&!X;$++)X=r[M-$]!=null;X?r[M]=null:(w=P.getRowNumber(),b=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.getCodewords(),w=-1;for(let A=u;A<f;A++){if(g[A]==null)continue;let b=g[A];b.setRowNumberAsRowIndicatorColumn();let M=b.getRowNumber()-w;M===0||(M===1?w=b.getRowNumber():b.getRowNumber()>=e.getRowCount()?g[A]=null:w=b.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new si,o=new si,l=new si,u=new si;for(let g of e){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let w=g.getValue()%30,A=g.getRowNumber();switch(this._isLeft||(A+=2),A%3){case 0:o.setValue(w*3+1);break;case 1:u.setValue(w/3),l.setValue(w%3);break;case 2:r.setValue(w+1);break}}if(r.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<qe.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>qe.MAX_ROWS_IN_BARCODE)return null;let f=new bs(r.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(e,f),f}removeIncorrectCodewords(e,r){for(let o=0;o<e.length;o++){let l=e[o];if(e[o]==null)continue;let u=l.getValue()%30,f=l.getRowNumber();if(f>r.getRowCount()){e[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==r.getRowCountUpperPart()&&(e[o]=null);break;case 1:(Math.trunc(u/3)!==r.getErrorCorrectionLevel()||u%3!==r.getRowCountLowerPart())&&(e[o]=null);break;case 2:u+1!==r.getColumnCount()&&(e[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ns{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=qe.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,o))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<e.length;o++)if(e[o]!=null&&r[o]!=null&&e[o].getRowNumber()===r[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[o];u!=null&&(u.setRowNumber(e[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let l=r[o].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[o];g!=null&&(u=Ns.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let l=r[o].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[o];g!=null&&(u=Ns.adjustRowNumberIfValid(l,u,g),g.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(e)?(o.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,o){if(!this.detectionResultColumns[e-1])return;let l=o[r],u=this.detectionResultColumns[e-1].getCodewords(),f=u;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());let g=new Array(14);g[2]=u[r],g[3]=f[r],r>0&&(g[0]=o[r-1],g[4]=u[r-1],g[5]=f[r-1]),r>1&&(g[8]=o[r-2],g[10]=u[r-2],g[11]=f[r-2]),r<o.length-1&&(g[1]=o[r+1],g[6]=u[r+1],g[7]=f[r+1]),r<o.length-2&&(g[9]=o[r+2],g[12]=u[r+2],g[13]=f[r+2]);for(let w of g)if(Ns.adjustRowNumber(l,w))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Yr;for(let o=0;o<e.getCodewords().length;o++){r.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[o];if(u==null){r.format("    |   ");continue}r.format(" %3d|%3d",u.getRowNumber(),u.getValue())}r.format("%n")}return r.toString()}}class Ti{constructor(e,r,o,l){this.rowNumber=Ti.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ti.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ti.BARCODE_ROW_UNKNOWN=-1;class Tn{static initialize(){for(let e=0;e<qe.SYMBOL_TABLE.length;e++){let r=qe.SYMBOL_TABLE[e],o=r&1;for(let l=0;l<qe.BARS_IN_MODULE;l++){let u=0;for(;(r&1)===o;)u+=1,r>>=1;o=r&1,Tn.RATIOS_TABLE[e]||(Tn.RATIOS_TABLE[e]=new Array(qe.BARS_IN_MODULE)),Tn.RATIOS_TABLE[e][qe.BARS_IN_MODULE-l-1]=Math.fround(u/qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=Tn.getDecodedCodewordValue(Tn.sampleBitCounts(e));return r!==-1?r:Tn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=tt.sum(e),o=new Int32Array(qe.BARS_IN_MODULE),l=0,u=0;for(let f=0;f<qe.MODULES_IN_CODEWORD;f++){let g=r/(2*qe.MODULES_IN_CODEWORD)+f*r/qe.MODULES_IN_CODEWORD;u+e[l]<=g&&(u+=e[l],l++),o[l]++}return o}static getDecodedCodewordValue(e){let r=Tn.getBitValue(e);return qe.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let o=0;o<e.length;o++)for(let l=0;l<e[o];l++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=tt.sum(e),o=new Array(qe.BARS_IN_MODULE);if(r>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(e[f]/r);let l=ar.MAX_VALUE,u=-1;this.bSymbolTableReady||Tn.initialize();for(let f=0;f<Tn.RATIOS_TABLE.length;f++){let g=0,w=Tn.RATIOS_TABLE[f];for(let A=0;A<qe.BARS_IN_MODULE;A++){let b=Math.fround(w[A]-o[A]);if(g+=Math.fround(b*b),g>=l)break}g<l&&(l=g,u=qe.SYMBOL_TABLE[f])}return u}}Tn.bSymbolTableReady=!1,Tn.RATIOS_TABLE=new Array(qe.SYMBOL_TABLE.length).map(R=>new Array(qe.BARS_IN_MODULE));class so{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class $o{static parseLong(e,r=void 0){return parseInt(e,r)}}class Xr extends x{}Xr.kind="NullPointerException";class qo{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,o){if(e==null)throw new Xr;if(r<0||r>e.length||o<0||r+o>e.length||r+o<0)throw new F;if(o===0)return;for(let l=0;l<o;l++)this.write(e[r+l])}flush(){}close(){}}class oo extends x{}class hl extends qo{constructor(e=32){if(super(),this.count=0,e<0)throw new T("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let o=this.buf.length<<1;if(o-e<0&&(o=e),o<0){if(e<0)throw new oo;o=V.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,o)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,o){if(r<0||r>e.length||o<0||r+o-e.length>0)throw new F;this.ensureCapacity(this.count+o),B.arraycopy(e,r,this.buf,this.count,o),this.count+=o}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ct;(function(R){R[R.ALPHA=0]="ALPHA",R[R.LOWER=1]="LOWER",R[R.MIXED=2]="MIXED",R[R.PUNCT=3]="PUNCT",R[R.ALPHA_SHIFT=4]="ALPHA_SHIFT",R[R.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function Rs(){if(typeof window<"u")return window.BigInt||null;if(typeof cu<"u")return cu.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ms;function an(R){if(typeof Ms>"u"&&(Ms=Rs()),Ms===null)throw new Error("BigInt is not supported!");return Ms(R)}function Qi(){let R=[];R[0]=an(1);let e=an(900);R[1]=e;for(let r=2;r<16;r++)R[r]=R[r-1]*e;return R}class ae{static decode(e,r){let o=new Ge(""),l=te.ISO8859_1;o.enableDecoding(l);let u=1,f=e[u++],g=new so;for(;u<e[0];){switch(f){case ae.TEXT_COMPACTION_MODE_LATCH:u=ae.textCompaction(e,u,o);break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:u=ae.byteCompaction(f,e,l,u,o);break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[u++]);break;case ae.NUMERIC_COMPACTION_MODE_LATCH:u=ae.numericCompaction(e,u,o);break;case ae.ECI_CHARSET:te.getCharacterSetECIByValue(e[u++]);break;case ae.ECI_GENERAL_PURPOSE:u+=2;break;case ae.ECI_USER_DEFINED:u++;break;case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=ae.decodeMacroBlock(e,u,g);break;case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:throw new q;default:u--,u=ae.textCompaction(e,u,o);break}if(u<e.length)f=e[u++];else throw q.getFormatInstance()}if(o.length()===0)throw q.getFormatInstance();let w=new it(null,o.toString(),null,r);return w.setOther(g),w}static decodeMacroBlock(e,r,o){if(r+ae.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw q.getFormatInstance();let l=new Int32Array(ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<ae.NUMBER_OF_SEQUENCE_CODEWORDS;g++,r++)l[g]=e[r];o.setSegmentIndex(V.parseInt(ae.decodeBase900toBase10(l,ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new Ge;r=ae.textCompaction(e,r,u),o.setFileId(u.toString());let f=-1;for(e[r]===ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=r+1);r<e[0];)switch(e[r]){case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Ge;r=ae.textCompaction(e,r+1,g),o.setFileName(g.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Ge;r=ae.textCompaction(e,r+1,w),o.setSender(w.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let A=new Ge;r=ae.textCompaction(e,r+1,A),o.setAddressee(A.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new Ge;r=ae.numericCompaction(e,r+1,b),o.setSegmentCount(V.parseInt(b.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let M=new Ge;r=ae.numericCompaction(e,r+1,M),o.setTimestamp($o.parseLong(M.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let P=new Ge;r=ae.numericCompaction(e,r+1,P),o.setChecksum(V.parseInt(P.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new Ge;r=ae.numericCompaction(e,r+1,U),o.setFileSize($o.parseLong(U.toString()));break;default:throw q.getFormatInstance()}break;case ae.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(f!==-1){let g=r-f;o.isLastSegment()&&g--,o.setOptionalData(H.copyOfRange(e,f,f+g))}return r}static textCompaction(e,r,o){let l=new Int32Array((e[0]-r)*2),u=new Int32Array((e[0]-r)*2),f=0,g=!1;for(;r<e[0]&&!g;){let w=e[r++];if(w<ae.TEXT_COMPACTION_MODE_LATCH)l[f]=w/30,l[f+1]=w%30,f+=2;else switch(w){case ae.TEXT_COMPACTION_MODE_LATCH:l[f++]=ae.TEXT_COMPACTION_MODE_LATCH;break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:r--,g=!0;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=e[r++],u[f]=w,f++;break}}return ae.decodeTextCompaction(l,u,f,o),r}static decodeTextCompaction(e,r,o,l){let u=Ct.ALPHA,f=Ct.ALPHA,g=0;for(;g<o;){let w=e[g],A="";switch(u){case Ct.ALPHA:if(w<26)A=String.fromCharCode(65+w);else switch(w){case 26:A=" ";break;case ae.LL:u=Ct.LOWER;break;case ae.ML:u=Ct.MIXED;break;case ae.PS:f=u,u=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.LOWER:if(w<26)A=String.fromCharCode(97+w);else switch(w){case 26:A=" ";break;case ae.AS:f=u,u=Ct.ALPHA_SHIFT;break;case ae.ML:u=Ct.MIXED;break;case ae.PS:f=u,u=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.MIXED:if(w<ae.PL)A=ae.MIXED_CHARS[w];else switch(w){case ae.PL:u=Ct.PUNCT;break;case 26:A=" ";break;case ae.LL:u=Ct.LOWER;break;case ae.AL:u=Ct.ALPHA;break;case ae.PS:f=u,u=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.PUNCT:if(w<ae.PAL)A=ae.PUNCT_CHARS[w];else switch(w){case ae.PAL:u=Ct.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(u=f,w<26)A=String.fromCharCode(65+w);else switch(w){case 26:A=" ";break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(u=f,w<ae.PAL)A=ae.PUNCT_CHARS[w];else switch(w){case ae.PAL:u=Ct.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:u=Ct.ALPHA;break}break}A!==""&&l.append(A),g++}}static byteCompaction(e,r,o,l,u){let f=new hl,g=0,w=0,A=!1;switch(e){case ae.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),M=r[l++];for(;l<r[0]&&!A;)switch(b[g++]=M,w=900*w+M,M=r[l++],M){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,A=!0;break;default:if(g%5===0&&g>0){for(let P=0;P<6;++P)f.write(Number(an(w)>>an(8*(5-P))));w=0,g=0}break}l===r[0]&&M<ae.TEXT_COMPACTION_MODE_LATCH&&(b[g++]=M);for(let P=0;P<g;P++)f.write(b[P]);break;case ae.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!A;){let P=r[l++];if(P<ae.TEXT_COMPACTION_MODE_LATCH)g++,w=900*w+P;else switch(P){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,A=!0;break}if(g%5===0&&g>0){for(let U=0;U<6;++U)f.write(Number(an(w)>>an(8*(5-U))));w=0,g=0}}break}return u.append(Le.decode(f.toByteArray(),o)),l}static numericCompaction(e,r,o){let l=0,u=!1,f=new Int32Array(ae.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!u;){let g=e[r++];if(r===e[0]&&(u=!0),g<ae.TEXT_COMPACTION_MODE_LATCH)f[l]=g,l++;else switch(g){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:r--,u=!0;break}(l%ae.MAX_NUMERIC_CODEWORDS===0||g===ae.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(o.append(ae.decodeBase900toBase10(f,l)),l=0)}return r}static decodeBase900toBase10(e,r){let o=an(0);for(let u=0;u<r;u++)o+=ae.EXP900[r-u-1]*an(e[u]);let l=o.toString();if(l.charAt(0)!=="1")throw new q;return l.substring(1)}}ae.TEXT_COMPACTION_MODE_LATCH=900,ae.BYTE_COMPACTION_MODE_LATCH=901,ae.NUMERIC_COMPACTION_MODE_LATCH=902,ae.BYTE_COMPACTION_MODE_LATCH_6=924,ae.ECI_USER_DEFINED=925,ae.ECI_GENERAL_PURPOSE=926,ae.ECI_CHARSET=927,ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ae.MACRO_PDF417_TERMINATOR=922,ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ae.MAX_NUMERIC_CODEWORDS=15,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ae.PL=25,ae.LL=27,ae.AS=27,ae.ML=28,ae.AL=28,ae.PS=29,ae.PAL=29,ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ae.EXP900=Rs()?Qi():[],ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class st{constructor(){}static decode(e,r,o,l,u,f,g){let w=new Si(e,r,o,l,u),A=null,b=null,M;for(let G=!0;;G=!1){if(r!=null&&(A=st.getRowIndicatorColumn(e,w,r,!0,f,g)),l!=null&&(b=st.getRowIndicatorColumn(e,w,l,!1,f,g)),M=st.merge(A,b),M==null)throw Q.getNotFoundInstance();let X=M.getBoundingBox();if(G&&X!=null&&(X.getMinY()<w.getMinY()||X.getMaxY()>w.getMaxY()))w=X;else break}M.setBoundingBox(w);let P=M.getBarcodeColumnCount()+1;M.setDetectionResultColumn(0,A),M.setDetectionResultColumn(P,b);let U=A!=null;for(let G=1;G<=P;G++){let X=U?G:P-G;if(M.getDetectionResultColumn(X)!==void 0)continue;let $;X===0||X===P?$=new dl(w,X===0):$=new Pr(w),M.setDetectionResultColumn(X,$);let oe=-1,Ae=oe;for(let Te=w.getMinY();Te<=w.getMaxY();Te++){if(oe=st.getStartColumn(M,X,Te,U),oe<0||oe>w.getMaxX()){if(Ae===-1)continue;oe=Ae}let xe=st.detectCodeword(e,w.getMinX(),w.getMaxX(),U,oe,Te,f,g);xe!=null&&($.setCodeword(Te,xe),Ae=oe,f=Math.min(f,xe.getWidth()),g=Math.max(g,xe.getWidth()))}}return st.createDecoderResult(M)}static merge(e,r){if(e==null&&r==null)return null;let o=st.getBarcodeMetadata(e,r);if(o==null)return null;let l=Si.merge(st.adjustBoundingBox(e),st.adjustBoundingBox(r));return new Ns(o,l)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let o=st.getMax(r),l=0;for(let g of r)if(l+=o-g,g>0)break;let u=e.getCodewords();for(let g=0;l>0&&u[g]==null;g++)l--;let f=0;for(let g=r.length-1;g>=0&&(f+=o-r[g],!(r[g]>0));g--);for(let g=u.length-1;f>0&&u[g]==null;g--)f--;return e.getBoundingBox().addMissingRows(l,f,e.isLeft())}static getMax(e){let r=-1;for(let o of e)r=Math.max(r,o);return r}static getBarcodeMetadata(e,r){let o;if(e==null||(o=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(e,r,o,l,u,f){let g=new dl(r,l);for(let w=0;w<2;w++){let A=w===0?1:-1,b=Math.trunc(Math.trunc(o.getX()));for(let M=Math.trunc(Math.trunc(o.getY()));M<=r.getMaxY()&&M>=r.getMinY();M+=A){let P=st.detectCodeword(e,0,e.getWidth(),l,b,M,u,f);P!=null&&(g.setCodeword(M,P),l?b=P.getStartX():b=P.getEndX())}}return g}static adjustCodewordCount(e,r){let o=r[0][1],l=o.getValue(),u=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-st.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(u<1||u>qe.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();o.setValue(u)}else l[0]!==u&&o.setValue(u)}static createDecoderResult(e){let r=st.createBarcodeMatrix(e);st.adjustCodewordCount(e,r);let o=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),u=[],f=new Array;for(let w=0;w<e.getBarcodeRowCount();w++)for(let A=0;A<e.getBarcodeColumnCount();A++){let b=r[w][A+1].getValue(),M=w*e.getBarcodeColumnCount()+A;b.length===0?o.push(M):b.length===1?l[M]=b[0]:(f.push(M),u.push(b))}let g=new Array(u.length);for(let w=0;w<g.length;w++)g[w]=u[w];return st.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,qe.toIntArray(o),qe.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(e,r,o,l,u){let f=new Int32Array(l.length),g=100;for(;g-- >0;){for(let w=0;w<f.length;w++)r[l[w]]=u[w][f[w]];try{return st.decodeCodewords(r,e,o)}catch(w){if(!(w instanceof O))throw w}if(f.length===0)throw O.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<u[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let u=0;u<r[l].length;u++)r[l][u]=new si;let o=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=r.length)continue;r[f][o].setValue(u.getValue())}}}o++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,o,l){let u=l?1:-1,f=null;if(st.isValidBarcodeColumn(e,r-u)&&(f=e.getDetectionResultColumn(r-u).getCodeword(o)),f!=null)return l?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(r).getCodewordNearby(o),f!=null)return l?f.getStartX():f.getEndX();if(st.isValidBarcodeColumn(e,r-u)&&(f=e.getDetectionResultColumn(r-u).getCodewordNearby(o)),f!=null)return l?f.getEndX():f.getStartX();let g=0;for(;st.isValidBarcodeColumn(e,r-u);){r-=u;for(let w of e.getDetectionResultColumn(r).getCodewords())if(w!=null)return(l?w.getEndX():w.getStartX())+u*g*(w.getEndX()-w.getStartX());g++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,o,l,u,f,g,w){u=st.adjustCodewordStartColumn(e,r,o,l,u,f);let A=st.getModuleBitCount(e,r,o,l,u,f);if(A==null)return null;let b,M=tt.sum(A);if(l)b=u+M;else{for(let G=0;G<A.length/2;G++){let X=A[G];A[G]=A[A.length-1-G],A[A.length-1-G]=X}b=u,u=b-M}if(!st.checkCodewordSkew(M,g,w))return null;let P=Tn.getDecodedValue(A),U=qe.getCodeword(P);return U===-1?null:new Ti(u,b,st.getCodewordBucketNumber(P),U)}static getModuleBitCount(e,r,o,l,u,f){let g=u,w=new Int32Array(8),A=0,b=l?1:-1,M=l;for(;(l?g<o:g>=r)&&A<w.length;)e.get(g,f)===M?(w[A]++,g+=b):(A++,M=!M);return A===w.length||g===(l?o:r)&&A===w.length-1?w:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,o,l,u,f){let g=u,w=l?-1:1;for(let A=0;A<2;A++){for(;(l?g>=r:g<o)&&l===e.get(g,f);){if(Math.abs(u-g)>st.CODEWORD_SKEW_SIZE)return u;g+=w}w=-w,l=!l}return g}static checkCodewordSkew(e,r,o){return r-st.CODEWORD_SKEW_SIZE<=e&&e<=o+st.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,o){if(e.length===0)throw q.getFormatInstance();let l=1<<r+1,u=st.correctErrors(e,o,l);st.verifyCodewordCount(e,l);let f=ae.decode(e,""+r);return f.setErrorsCorrected(u),f.setErasures(o.length),f}static correctErrors(e,r,o){if(r!=null&&r.length>o/2+st.MAX_ERRORS||o<0||o>st.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return st.errorCorrection.decode(e,o,r)}static verifyCodewordCount(e,r){if(e.length<4)throw q.getFormatInstance();let o=e[0];if(o>e.length)throw q.getFormatInstance();if(o===0)if(r<e.length)e[0]=e.length-r;else throw q.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),o=0,l=r.length-1;for(;!((e&1)!==o&&(o=e&1,l--,l<0));)r[l]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return st.getCodewordBucketNumber(st.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new Yr;for(let o=0;o<e.length;o++){r.format("Row %2d: ",o);for(let l=0;l<e[o].length;l++){let u=e[o][l];u.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}r.format("%n")}return r.toString()}}st.CODEWORD_SKEW_SIZE=2,st.MAX_ERRORS=3,st.MAX_EC_CODEWORDS=512,st.errorCorrection=new Qo;class In{decode(e,r=null){let o=In.decode(e,r,!1);if(o==null||o.length===0||o[0]==null)throw Q.getNotFoundInstance();return o[0]}decodeMultiple(e,r=null){try{return In.decode(e,r,!0)}catch(o){throw o instanceof q||o instanceof O?Q.getNotFoundInstance():o}}static decode(e,r,o){const l=new Array,u=nt.detectMultiple(e,r,o);for(const f of u.getPoints()){const g=st.decode(u.getBits(),f[4],f[5],f[6],f[7],In.getMinCodewordWidth(f),In.getMaxCodewordWidth(f)),w=new we(g.getText(),g.getRawBytes(),void 0,f,pe.PDF_417);w.putMetadata(Me.ERROR_CORRECTION_LEVEL,g.getECLevel());const A=g.getOther();A!=null&&w.putMetadata(Me.PDF417_EXTRA_METADATA,A),l.push(w)}return l.map(f=>f)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?V.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(In.getMaxWidth(e[0],e[4]),In.getMaxWidth(e[6],e[2])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN),Math.max(In.getMaxWidth(e[1],e[5]),In.getMaxWidth(e[7],e[3])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(In.getMinWidth(e[0],e[4]),In.getMinWidth(e[6],e[2])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN),Math.min(In.getMinWidth(e[1],e[5]),In.getMinWidth(e[7],e[3])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class $i extends x{}$i.kind="ReaderException";class ao{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!c(e)&&e.get(ce.TRY_HARDER)===!0,o=c(e)?null:e.get(ce.POSSIBLE_FORMATS),l=new Array;if(!c(o)){const u=o.some(f=>f===pe.UPC_A||f===pe.UPC_E||f===pe.EAN_13||f===pe.EAN_8||f===pe.CODABAR||f===pe.CODE_39||f===pe.CODE_93||f===pe.CODE_128||f===pe.ITF||f===pe.RSS_14||f===pe.RSS_EXPANDED);u&&!r&&l.push(new Yi(e,this.verbose)),o.includes(pe.QR_CODE)&&l.push(new Bn),o.includes(pe.DATA_MATRIX)&&l.push(new vr),o.includes(pe.AZTEC)&&l.push(new tr),o.includes(pe.PDF_417)&&l.push(new In),u&&r&&l.push(new Yi(e,this.verbose))}l.length===0&&(r||l.push(new Yi(e,this.verbose)),l.push(new Bn),l.push(new vr),l.push(new tr),l.push(new In),r&&l.push(new Yi(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new $i("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(o){if(o instanceof $i)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class _s extends me{constructor(e=null,r=500){const o=new ao;o.setHints(e),super(o,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class lo extends me{constructor(e=500){super(new In,e)}}class pl extends me{constructor(e=500){super(new Bn,e)}}var Jo;(function(R){R[R.ERROR_CORRECTION=0]="ERROR_CORRECTION",R[R.CHARACTER_SET=1]="CHARACTER_SET",R[R.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",R[R.MIN_SIZE=3]="MIN_SIZE",R[R.MAX_SIZE=4]="MAX_SIZE",R[R.MARGIN=5]="MARGIN",R[R.PDF417_COMPACT=6]="PDF417_COMPACT",R[R.PDF417_COMPACTION=7]="PDF417_COMPACTION",R[R.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",R[R.AZTEC_LAYERS=9]="AZTEC_LAYERS",R[R.QR_VERSION=10]="QR_VERSION"})(Jo||(Jo={}));var gn=Jo;class ea{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new _t(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let o=r[r.length-1];const l=this.field;for(let u=r.length;u<=e;u++){const f=o.multiply(new _t(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));r.push(f),o=f}}return r[e]}encode(e,r){if(r===0)throw new T("No error correction bytes");const o=e.length-r;if(o<=0)throw new T("No data bytes provided");const l=this.buildGenerator(r),u=new Int32Array(o);B.arraycopy(e,0,u,0,o);let f=new _t(this.field,u);f=f.multiplyByMonomial(r,1);const w=f.divide(l)[1].getCoefficients(),A=r-w.length;for(let b=0;b<A;b++)e[o+b]=0;B.arraycopy(w,0,e,o+A,w.length)}}class Wt{constructor(){}static applyMaskPenaltyRule1(e){return Wt.applyMaskPenaltyRule1Internal(e,!0)+Wt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let f=0;f<u-1;f++){const g=o[f];for(let w=0;w<l-1;w++){const A=g[w];A===g[w+1]&&A===o[f+1][w]&&A===o[f+1][w+1]&&r++}}return Wt.N2*r}static applyMaskPenaltyRule3(e){let r=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let f=0;f<u;f++)for(let g=0;g<l;g++){const w=o[f];g+6<l&&w[g]===1&&w[g+1]===0&&w[g+2]===1&&w[g+3]===1&&w[g+4]===1&&w[g+5]===0&&w[g+6]===1&&(Wt.isWhiteHorizontal(w,g-4,g)||Wt.isWhiteHorizontal(w,g+7,g+11))&&r++,f+6<u&&o[f][g]===1&&o[f+1][g]===0&&o[f+2][g]===1&&o[f+3][g]===1&&o[f+4][g]===1&&o[f+5][g]===0&&o[f+6][g]===1&&(Wt.isWhiteVertical(o,g,f-4,f)||Wt.isWhiteVertical(o,g,f+7,f+11))&&r++}return r*Wt.N3}static isWhiteHorizontal(e,r,o){r=Math.max(r,0),o=Math.min(o,e.length);for(let l=r;l<o;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,r,o,l){o=Math.max(o,0),l=Math.min(l,e.length);for(let u=o;u<l;u++)if(e[u][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const o=e.getArray(),l=e.getWidth(),u=e.getHeight();for(let w=0;w<u;w++){const A=o[w];for(let b=0;b<l;b++)A[b]===1&&r++}const f=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-f)*10/f)*Wt.N4}static getDataMaskBit(e,r,o){let l,u;switch(e){case 0:l=o+r&1;break;case 1:l=o&1;break;case 2:l=r%3;break;case 3:l=(o+r)%3;break;case 4:l=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:u=o*r,l=(u&1)+u%3;break;case 6:u=o*r,l=(u&1)+u%3&1;break;case 7:u=o*r,l=u%3+(o+r&1)&1;break;default:throw new T("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,r){let o=0;const l=r?e.getHeight():e.getWidth(),u=r?e.getWidth():e.getHeight(),f=e.getArray();for(let g=0;g<l;g++){let w=0,A=-1;for(let b=0;b<u;b++){const M=r?f[g][b]:f[b][g];M===A?w++:(w>=5&&(o+=Wt.N1+(w-5)),w=1,A=M)}w>=5&&(o+=Wt.N1+(w-5))}return o}}Wt.N1=3,Wt.N2=3,Wt.N3=40,Wt.N4=10;class uo{constructor(e,r){this.width=e,this.height=r;const o=new Array(r);for(let l=0;l!==r;l++)o[l]=new Uint8Array(e);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,o){this.bytes[r][e]=o}setBoolean(e,r,o){this.bytes[r][e]=o?1:0}clear(e){for(const r of this.bytes)H.fill(r,e)}equals(e){if(!(e instanceof uo))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o],f=r.bytes[o];for(let g=0,w=this.width;g<w;++g)if(u[g]!==f[g])return!1}return!0}toString(){const e=new Ge;for(let r=0,o=this.height;r<o;++r){const l=this.bytes[r];for(let u=0,f=this.width;u<f;++u)switch(l[u]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Ii{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ge;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ii.NUM_MASK_PATTERNS}}Ii.NUM_MASK_PATTERNS=8;class Ot extends x{}Ot.kind="WriterException";class Ze{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,o,l,u){Ze.clearMatrix(u),Ze.embedBasicPatterns(o,u),Ze.embedTypeInfo(r,l,u),Ze.maybeEmbedVersionInfo(o,u),Ze.embedDataBits(e,l,u)}static embedBasicPatterns(e,r){Ze.embedPositionDetectionPatternsAndSeparators(r),Ze.embedDarkDotAtLeftBottomCorner(r),Ze.maybeEmbedPositionAdjustmentPatterns(e,r),Ze.embedTimingPatterns(r)}static embedTypeInfo(e,r,o){const l=new ne;Ze.makeTypeInfoBits(e,r,l);for(let u=0,f=l.getSize();u<f;++u){const g=l.get(l.getSize()-1-u),w=Ze.TYPE_INFO_COORDINATES[u],A=w[0],b=w[1];if(o.setBoolean(A,b,g),u<8){const M=o.getWidth()-u-1;o.setBoolean(M,8,g)}else{const P=o.getHeight()-7+(u-8);o.setBoolean(8,P,g)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const o=new ne;Ze.makeVersionInfoBits(e,o);let l=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const g=o.get(l);l--,r.setBoolean(u,r.getHeight()-11+f,g),r.setBoolean(r.getHeight()-11+f,u,g)}}static embedDataBits(e,r,o){let l=0,u=-1,f=o.getWidth()-1,g=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<o.getHeight();){for(let w=0;w<2;++w){const A=f-w;if(!Ze.isEmpty(o.get(A,g)))continue;let b;l<e.getSize()?(b=e.get(l),++l):b=!1,r!==255&&Wt.getDataMaskBit(r,A,g)&&(b=!b),o.setBoolean(A,g,b)}g+=u}u=-u,g+=u,f-=2}if(l!==e.getSize())throw new Ot("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-V.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new T("0 polynomial");const o=Ze.findMSBSet(r);for(e<<=o-1;Ze.findMSBSet(e)>=o;)e^=r<<Ze.findMSBSet(e)-o;return e}static makeTypeInfoBits(e,r,o){if(!Ii.isValidMaskPattern(r))throw new Ot("Invalid mask pattern");const l=e.getBits()<<3|r;o.appendBits(l,5);const u=Ze.calculateBCHCode(l,Ze.TYPE_INFO_POLY);o.appendBits(u,10);const f=new ne;if(f.appendBits(Ze.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Ot("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const o=Ze.calculateBCHCode(e.getVersionNumber(),Ze.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new Ot("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const o=(r+1)%2;Ze.isEmpty(e.get(r,6))&&e.setNumber(r,6,o),Ze.isEmpty(e.get(6,r))&&e.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ot;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,o){for(let l=0;l<8;++l){if(!Ze.isEmpty(o.get(e+l,r)))throw new Ot;o.setNumber(e+l,r,0)}}static embedVerticalSeparationPattern(e,r,o){for(let l=0;l<7;++l){if(!Ze.isEmpty(o.get(e,r+l)))throw new Ot;o.setNumber(e,r+l,0)}}static embedPositionAdjustmentPattern(e,r,o){for(let l=0;l<5;++l){const u=Ze.POSITION_ADJUSTMENT_PATTERN[l];for(let f=0;f<5;++f)o.setNumber(e+f,r+l,u[f])}}static embedPositionDetectionPattern(e,r,o){for(let l=0;l<7;++l){const u=Ze.POSITION_DETECTION_PATTERN[l];for(let f=0;f<7;++f)o.setNumber(e+f,r+l,u[f])}}static embedPositionDetectionPatternsAndSeparators(e){const r=Ze.POSITION_DETECTION_PATTERN[0].length;Ze.embedPositionDetectionPattern(0,0,e),Ze.embedPositionDetectionPattern(e.getWidth()-r,0,e),Ze.embedPositionDetectionPattern(0,e.getWidth()-r,e);const o=8;Ze.embedHorizontalSeparationPattern(0,o-1,e),Ze.embedHorizontalSeparationPattern(e.getWidth()-o,o-1,e),Ze.embedHorizontalSeparationPattern(0,e.getWidth()-o,e);const l=7;Ze.embedVerticalSeparationPattern(l,0,e),Ze.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Ze.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const o=e.getVersionNumber()-1,l=Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,f=l.length;u!==f;u++){const g=l[u];if(g>=0)for(let w=0;w!==f;w++){const A=l[w];A>=0&&Ze.isEmpty(r.get(A,g))&&Ze.embedPositionAdjustmentPattern(A-2,g-2,r)}}}}Ze.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ze.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ze.VERSION_INFO_POLY=7973,Ze.TYPE_INFO_POLY=1335,Ze.TYPE_INFO_MASK_PATTERN=21522;class Zu{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Bt{constructor(){}static calculateMaskPenalty(e){return Wt.applyMaskPenaltyRule1(e)+Wt.applyMaskPenaltyRule2(e)+Wt.applyMaskPenaltyRule3(e)+Wt.applyMaskPenaltyRule4(e)}static encode(e,r,o=null){let l=Bt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(gn.CHARACTER_SET)!==void 0;u&&(l=o.get(gn.CHARACTER_SET).toString());const f=this.chooseMode(e,l),g=new ne;if(f===Xe.BYTE&&(u||Bt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Te=te.getCharacterSetECIByName(l);Te!==void 0&&this.appendECI(Te,g)}this.appendModeInfo(f,g);const w=new ne;this.appendBytes(e,f,w,l);let A;if(o!==null&&o.get(gn.QR_VERSION)!==void 0){const Te=Number.parseInt(o.get(gn.QR_VERSION).toString(),10);A=He.getVersionForNumber(Te);const xe=this.calculateBitsNeeded(f,g,w,A);if(!this.willFit(xe,A,r))throw new Ot("Data too big for requested version")}else A=this.recommendVersion(r,f,g,w);const b=new ne;b.appendBitArray(g);const M=f===Xe.BYTE?w.getSizeInBytes():e.length;this.appendLengthInfo(M,A,f,b),b.appendBitArray(w);const P=A.getECBlocksForLevel(r),U=A.getTotalCodewords()-P.getTotalECCodewords();this.terminateBits(U,b);const G=this.interleaveWithECBytes(b,A.getTotalCodewords(),U,P.getNumBlocks()),X=new Ii;X.setECLevel(r),X.setMode(f),X.setVersion(A);const $=A.getDimensionForVersion(),oe=new uo($,$),Ae=this.chooseMaskPattern(G,r,A,oe);return X.setMaskPattern(Ae),Ze.buildMatrix(G,r,A,Ae,oe),X.setMatrix(oe),X}static recommendVersion(e,r,o,l){const u=this.calculateBitsNeeded(r,o,l,He.getVersionForNumber(1)),f=this.chooseVersion(u,e),g=this.calculateBitsNeeded(r,o,l,f);return this.chooseVersion(g,e)}static calculateBitsNeeded(e,r,o,l){return r.getSize()+e.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(e){return e<Bt.ALPHANUMERIC_TABLE.length?Bt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(te.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Xe.KANJI;let o=!1,l=!1;for(let u=0,f=e.length;u<f;++u){const g=e.charAt(u);if(Bt.isDigit(g))o=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)l=!0;else return Xe.BYTE}return l?Xe.ALPHANUMERIC:o?Xe.NUMERIC:Xe.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=Le.encode(e,te.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const u=r[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(e,r,o,l){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<Ii.NUM_MASK_PATTERNS;g++){Ze.buildMatrix(e,r,o,g,l);let w=this.calculateMaskPenalty(l);w<u&&(u=w,f=g)}return f}static chooseVersion(e,r){for(let o=1;o<=40;o++){const l=He.getVersionForNumber(o);if(Bt.willFit(e,l,r))return l}throw new Ot("Data too big")}static willFit(e,r,o){const l=r.getTotalCodewords(),f=r.getECBlocksForLevel(o).getTotalECCodewords(),g=l-f,w=(e+7)/8;return g>=w}static terminateBits(e,r){const o=e*8;if(r.getSize()>o)throw new Ot("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let f=0;f<4&&r.getSize()<o;++f)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let f=l;f<8;f++)r.appendBit(!1);const u=e-r.getSizeInBytes();for(let f=0;f<u;++f)r.appendBits(f&1?17:236,8);if(r.getSize()!==o)throw new Ot("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,o,l,u,f){if(l>=o)throw new Ot("Block ID too large");const g=e%o,w=o-g,A=Math.floor(e/o),b=A+1,M=Math.floor(r/o),P=M+1,U=A-M,G=b-P;if(U!==G)throw new Ot("EC bytes mismatch");if(o!==w+g)throw new Ot("RS blocks mismatch");if(e!==(M+U)*w+(P+G)*g)throw new Ot("Total bytes mismatch");l<w?(u[0]=M,f[0]=U):(u[0]=P,f[0]=G)}static interleaveWithECBytes(e,r,o,l){if(e.getSizeInBytes()!==o)throw new Ot("Number of bits and data bytes does not match");let u=0,f=0,g=0;const w=new Array;for(let b=0;b<l;++b){const M=new Int32Array(1),P=new Int32Array(1);Bt.getNumDataBytesAndNumECBytesForBlockID(r,o,l,b,M,P);const U=M[0],G=new Uint8Array(U);e.toBytes(8*u,G,0,U);const X=Bt.generateECBytes(G,P[0]);w.push(new Zu(G,X)),f=Math.max(f,U),g=Math.max(g,X.length),u+=M[0]}if(o!==u)throw new Ot("Data bytes does not match offset");const A=new ne;for(let b=0;b<f;++b)for(const M of w){const P=M.getDataBytes();b<P.length&&A.appendBits(P[b],8)}for(let b=0;b<g;++b)for(const M of w){const P=M.getErrorCorrectionBytes();b<P.length&&A.appendBits(P[b],8)}if(r!==A.getSizeInBytes())throw new Ot("Interleaving error: "+r+" and "+A.getSizeInBytes()+" differ.");return A}static generateECBytes(e,r){const o=e.length,l=new Int32Array(o+r);for(let f=0;f<o;f++)l[f]=e[f]&255;new ea(ot.QR_CODE_FIELD_256).encode(l,r);const u=new Uint8Array(r);for(let f=0;f<r;f++)u[f]=l[o+f];return u}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,o,l){const u=o.getCharacterCountBits(r);if(e>=1<<u)throw new Ot(e+" is bigger than "+((1<<u)-1));l.appendBits(e,u)}static appendBytes(e,r,o,l){switch(r){case Xe.NUMERIC:Bt.appendNumericBytes(e,o);break;case Xe.ALPHANUMERIC:Bt.appendAlphanumericBytes(e,o);break;case Xe.BYTE:Bt.append8BitBytes(e,o,l);break;case Xe.KANJI:Bt.appendKanjiBytes(e,o);break;default:throw new Ot("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=Bt.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const o=e.length;let l=0;for(;l<o;){const u=Bt.getDigit(e.charAt(l));if(l+2<o){const f=Bt.getDigit(e.charAt(l+1)),g=Bt.getDigit(e.charAt(l+2));r.appendBits(u*100+f*10+g,10),l+=3}else if(l+1<o){const f=Bt.getDigit(e.charAt(l+1));r.appendBits(u*10+f,7),l+=2}else r.appendBits(u,4),l++}}static appendAlphanumericBytes(e,r){const o=e.length;let l=0;for(;l<o;){const u=Bt.getAlphanumericCode(e.charCodeAt(l));if(u===-1)throw new Ot;if(l+1<o){const f=Bt.getAlphanumericCode(e.charCodeAt(l+1));if(f===-1)throw new Ot;r.appendBits(u*45+f,11),l+=2}else r.appendBits(u,6),l++}}static append8BitBytes(e,r,o){let l;try{l=Le.encode(e,o)}catch(u){throw new Ot(u)}for(let u=0,f=l.length;u!==f;u++){const g=l[u];r.appendBits(g,8)}}static appendKanjiBytes(e,r){let o;try{o=Le.encode(e,te.SJIS)}catch(u){throw new Ot(u)}const l=o.length;for(let u=0;u<l;u+=2){const f=o[u]&255,g=o[u+1]&255,w=f<<8&4294967295|g;let A=-1;if(w>=33088&&w<=40956?A=w-33088:w>=57408&&w<=60351&&(A=w-49472),A===-1)throw new Ot("Invalid byte sequence");const b=(A>>8)*192+(A&255);r.appendBits(b,13)}}static appendECI(e,r){r.appendBits(Xe.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}Bt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Bt.DEFAULT_BYTE_MODE_ENCODING=te.UTF8.getName();class bi{write(e,r,o,l=null){if(e.length===0)throw new T("Found empty contents");if(r<0||o<0)throw new T("Requested dimensions are too small: "+r+"x"+o);let u=Mt.L,f=bi.QUIET_ZONE_SIZE;l!==null&&(l.get(gn.ERROR_CORRECTION)!==void 0&&(u=Mt.fromString(l.get(gn.ERROR_CORRECTION).toString())),l.get(gn.MARGIN)!==void 0&&(f=Number.parseInt(l.get(gn.MARGIN).toString(),10)));const g=Bt.encode(e,u,l);return this.renderResult(g,r,o,f)}writeToDom(e,r,o,l,u=null){typeof e=="string"&&(e=document.querySelector(e));const f=this.write(r,o,l,u);e&&e.appendChild(f)}renderResult(e,r,o,l){const u=e.getMatrix();if(u===null)throw new Ut;const f=u.getWidth(),g=u.getHeight(),w=f+l*2,A=g+l*2,b=Math.max(r,w),M=Math.max(o,A),P=Math.min(Math.floor(b/w),Math.floor(M/A)),U=Math.floor((b-f*P)/2),G=Math.floor((M-g*P)/2),X=this.createSVGElement(b,M);for(let $=0,oe=G;$<g;$++,oe+=P)for(let Ae=0,Te=U;Ae<f;Ae++,Te+=P)if(u.get(Ae,$)===1){const xe=this.createSvgRectElement(Te,oe,P,P);X.appendChild(xe)}return X}createSVGElement(e,r){const o=document.createElementNS(bi.SVG_NS,"svg");return o.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(e,r,o,l){const u=document.createElementNS(bi.SVG_NS,"rect");return u.setAttributeNS(null,"x",e.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}bi.QUIET_ZONE_SIZE=4,bi.SVG_NS="http://www.w3.org/2000/svg";class qi{encode(e,r,o,l,u){if(e.length===0)throw new T("Found empty contents");if(r!==pe.QR_CODE)throw new T("Can only encode QR_CODE, but got "+r);if(o<0||l<0)throw new T(`Requested dimensions are too small: ${o}x${l}`);let f=Mt.L,g=qi.QUIET_ZONE_SIZE;u!==null&&(u.get(gn.ERROR_CORRECTION)!==void 0&&(f=Mt.fromString(u.get(gn.ERROR_CORRECTION).toString())),u.get(gn.MARGIN)!==void 0&&(g=Number.parseInt(u.get(gn.MARGIN).toString(),10)));const w=Bt.encode(e,f,u);return qi.renderResult(w,o,l,g)}static renderResult(e,r,o,l){const u=e.getMatrix();if(u===null)throw new Ut;const f=u.getWidth(),g=u.getHeight(),w=f+l*2,A=g+l*2,b=Math.max(r,w),M=Math.max(o,A),P=Math.min(Math.floor(b/w),Math.floor(M/A)),U=Math.floor((b-f*P)/2),G=Math.floor((M-g*P)/2),X=new Re(b,M);for(let $=0,oe=G;$<g;$++,oe+=P)for(let Ae=0,Te=U;Ae<f;Ae++,Te+=P)u.get(Ae,$)===1&&X.setRegion(Te,oe,P,P);return X}}qi.QUIET_ZONE_SIZE=4;class Ku{encode(e,r,o,l,u){let f;switch(r){case pe.QR_CODE:f=new qi;break;default:throw new T("No encoder available for format "+r)}return f.encode(e,r,o,l,u)}}class Lr extends he{constructor(e,r,o,l,u,f,g,w){if(super(f,g),this.yuvData=e,this.dataWidth=r,this.dataHeight=o,this.left=l,this.top=u,l+f>r||u+g>o)throw new T("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,g)}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const l=(e+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,l,r,0,o),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=e*r,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return B.arraycopy(this.yuvData,u,l,0,o),l;for(let f=0;f<r;f++){const g=f*e;B.arraycopy(this.yuvData,u,l,g,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,r,o,l){return new Lr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,o,l,!1)}renderThumbnail(){const e=this.getWidth()/Lr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Lr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(e*r),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<r;f++){const g=f*e;for(let w=0;w<e;w++){const A=l[u+w*Lr.THUMBNAIL_SCALE_FACTOR]&255;o[g+w]=4278190080|A*65793}u+=this.dataWidth*Lr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Lr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Lr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const o=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<r;l++,u+=this.dataWidth){const f=u+e/2;for(let g=u,w=u+e-1;g<f;g++,w--){const A=o[g];o[g]=o[w],o[w]=A}}}invert(){return new De(this)}}Lr.THUMBNAIL_SCALE_FACTOR=2;class Ds extends he{constructor(e,r,o,l,u,f,g){if(super(r,o),this.dataWidth=l,this.dataHeight=u,this.left=f,this.top=g,e.BYTES_PER_ELEMENT===4){const w=r*o,A=new Uint8ClampedArray(w);for(let b=0;b<w;b++){const M=e[b],P=M>>16&255,U=M>>7&510,G=M&255;A[b]=(P+U+G)/4&255}this.luminances=A}else this.luminances=e;if(l===void 0&&(this.dataWidth=r),u===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const l=(e+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,l,r,0,o),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=e*r,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return B.arraycopy(this.luminances,u,l,0,o),l;for(let f=0;f<r;f++){const g=f*e;B.arraycopy(this.luminances,u,l,g,e),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,r,o,l){return new Ds(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new De(this)}}class gl extends te{static forName(e){return this.getCharacterSetECIByName(e)}}class ta{}ta.ISO_8859_1=te.ISO8859_1;class ml{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class na{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class Qu{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Ji extends Qu{constructor(e,r,o){super(e),this.value=r,this.bitCount=o}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new Ji(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ji(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+V.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ra extends Ji{constructor(e,r,o){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(e,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):o===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(e,r){return new ra(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $u(R,e,r){return new ra(R,e,r)}function Os(R,e,r){return new Ji(R,e,r)}const qu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oi=0,es=1,Mn=2,xl=3,Er=4,yl=new Ji(null,0,0),co=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function wl(R){for(let e of R)H.fill(e,-1);return R[oi][Er]=0,R[es][Er]=0,R[es][oi]=28,R[xl][Er]=0,R[Mn][Er]=0,R[Mn][oi]=15,R}const ia=wl(H.createInt32Array(6,6));class Fn{constructor(e,r,o,l){this.token=e,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let o=this.bitCount,l=this.token;if(e!==this.mode){let f=co[this.mode][e];l=Os(l,f&65535,f>>16),o+=f>>16}let u=e===Mn?4:5;return l=Os(l,r,u),new Fn(l,e,0,o+u)}shiftAndAppend(e,r){let o=this.token,l=this.mode===Mn?4:5;return o=Os(o,ia[this.mode][e],l),o=Os(o,r,5),new Fn(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let r=this.token,o=this.mode,l=this.bitCount;if(this.mode===Er||this.mode===Mn){let g=co[o][oi];r=Os(r,g&65535,g>>16),l+=g>>16,o=oi}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Fn(r,o,this.binaryShiftByteCount+1,l+u);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(e+1)),f}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=$u(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Fn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(co[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=Fn.calculateBinaryShiftCost(e)-Fn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())r.unshift(l);let o=new ne;for(const l of r)l.appendTo(o,e);return o}toString(){return Ne.format("%s bits=%d bytes=%d",qu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Fn.INITIAL_STATE=new Fn(yl,oi,0,0);function Ju(R){const e=Ne.getCharCode(" "),r=Ne.getCharCode("."),o=Ne.getCharCode(",");R[oi][e]=1;const l=Ne.getCharCode("Z"),u=Ne.getCharCode("A");for(let P=u;P<=l;P++)R[oi][P]=P-u+2;R[es][e]=1;const f=Ne.getCharCode("z"),g=Ne.getCharCode("a");for(let P=g;P<=f;P++)R[es][P]=P-g+2;R[Mn][e]=1;const w=Ne.getCharCode("9"),A=Ne.getCharCode("0");for(let P=A;P<=w;P++)R[Mn][P]=P-A+2;R[Mn][o]=12,R[Mn][r]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let P=0;P<b.length;P++)R[xl][Ne.getCharCode(b[P])]=P;const M=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let P=0;P<M.length;P++)Ne.getCharCode(M[P])>0&&(R[Er][Ne.getCharCode(M[P])]=P);return R}const sa=Ju(H.createInt32Array(5,256));class Ps{constructor(e){this.text=e}encode(){const e=Ne.getCharCode(" "),r=Ne.getCharCode(`
`);let o=na.singletonList(Fn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,g=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Ne.getCharCode("\r"):f=g===r?2:0;break;case Ne.getCharCode("."):f=g===e?3:0;break;case Ne.getCharCode(","):f=g===e?4:0;break;case Ne.getCharCode(":"):f=g===e?5:0;break;default:f=0}f>0?(o=Ps.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}return na.min(o,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const o=[];for(let l of e)this.updateStateForChar(l,r,o);return Ps.simplifyStates(o)}updateStateForChar(e,r,o){let l=this.text[r]&255,u=sa[e.getMode()][l]>0,f=null;for(let g=0;g<=Er;g++){let w=sa[g][l];if(w>0){if(f==null&&(f=e.endBinaryShift(r)),!u||g===e.getMode()||g===Mn){const A=f.latchAndAppend(g,w);o.push(A)}if(!u&&ia[e.getMode()][g]>=0){const A=f.shiftAndAppend(g,w);o.push(A)}}}if(e.getBinaryShiftByteCount()>0||sa[e.getMode()][l]===0){let g=e.addBinaryShiftChar(r);o.push(g)}}static updateStateListForPair(e,r,o){const l=[];for(let u of e)this.updateStateForPair(u,r,o,l);return this.simplifyStates(l)}static updateStateForPair(e,r,o,l){let u=e.endBinaryShift(r);if(l.push(u.latchAndAppend(Er,o)),e.getMode()!==Er&&l.push(u.shiftAndAppend(Er,o)),o===3||o===4){let f=u.latchAndAppend(Mn,16-o).latchAndAppend(Mn,1);l.push(f)}if(e.getBinaryShiftByteCount()>0){let f=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(f)}}static simplifyStates(e){let r=[];for(const o of e){let l=!0;for(const u of r){if(u.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(u)&&(r=r.filter(f=>f!==u))}l&&r.push(o)}return r}}class gt{constructor(){}static encodeBytes(e){return gt.encode(e,gt.DEFAULT_EC_PERCENT,gt.DEFAULT_AZTEC_LAYERS)}static encode(e,r,o){let l=new Ps(e).encode(),u=V.truncDivision(l.getSize()*r,100)+11,f=l.getSize()+u,g,w,A,b,M;if(o!==gt.DEFAULT_AZTEC_LAYERS){if(g=o<0,w=Math.abs(o),w>(g?gt.MAX_NB_BITS_COMPACT:gt.MAX_NB_BITS))throw new T(Ne.format("Illegal value %s for layers",o));A=gt.totalBitsInLayer(w,g),b=gt.WORD_SIZE[w];let xe=A-A%b;if(M=gt.stuffBits(l,b),M.getSize()+u>xe)throw new T("Data to large for user specified layer");if(g&&M.getSize()>b*64)throw new T("Data to large for user specified layer")}else{b=0,M=null;for(let xe=0;;xe++){if(xe>gt.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(g=xe<=3,w=g?xe+1:xe,A=gt.totalBitsInLayer(w,g),f>A)continue;(M==null||b!==gt.WORD_SIZE[w])&&(b=gt.WORD_SIZE[w],M=gt.stuffBits(l,b));let ct=A-A%b;if(!(g&&M.getSize()>b*64)&&M.getSize()+u<=ct)break}}let P=gt.generateCheckWords(M,A,b),U=M.getSize()/b,G=gt.generateModeMessage(g,w,U),X=(g?11:14)+w*4,$=new Int32Array(X),oe;if(g){oe=X;for(let xe=0;xe<$.length;xe++)$[xe]=xe}else{oe=X+1+2*V.truncDivision(V.truncDivision(X,2)-1,15);let xe=V.truncDivision(X,2),ct=V.truncDivision(oe,2);for(let rt=0;rt<xe;rt++){let Xn=rt+V.truncDivision(rt,15);$[xe-rt-1]=ct-Xn-1,$[xe+rt]=ct+Xn+1}}let Ae=new Re(oe);for(let xe=0,ct=0;xe<w;xe++){let rt=(w-xe)*4+(g?9:12);for(let Xn=0;Xn<rt;Xn++){let Ar=Xn*2;for(let mn=0;mn<2;mn++)P.get(ct+Ar+mn)&&Ae.set($[xe*2+mn],$[xe*2+Xn]),P.get(ct+rt*2+Ar+mn)&&Ae.set($[xe*2+Xn],$[X-1-xe*2-mn]),P.get(ct+rt*4+Ar+mn)&&Ae.set($[X-1-xe*2-mn],$[X-1-xe*2-Xn]),P.get(ct+rt*6+Ar+mn)&&Ae.set($[X-1-xe*2-Xn],$[xe*2+mn])}ct+=rt*8}if(gt.drawModeMessage(Ae,g,oe,G),g)gt.drawBullsEye(Ae,V.truncDivision(oe,2),5);else{gt.drawBullsEye(Ae,V.truncDivision(oe,2),7);for(let xe=0,ct=0;xe<V.truncDivision(X,2)-1;xe+=15,ct+=16)for(let rt=V.truncDivision(oe,2)&1;rt<oe;rt+=2)Ae.set(V.truncDivision(oe,2)-ct,rt),Ae.set(V.truncDivision(oe,2)+ct,rt),Ae.set(rt,V.truncDivision(oe,2)-ct),Ae.set(rt,V.truncDivision(oe,2)+ct)}let Te=new ml;return Te.setCompact(g),Te.setSize(oe),Te.setLayers(w),Te.setCodeWords(U),Te.setMatrix(Ae),Te}static drawBullsEye(e,r,o){for(let l=0;l<o;l+=2)for(let u=r-l;u<=r+l;u++)e.set(u,r-l),e.set(u,r+l),e.set(r-l,u),e.set(r+l,u);e.set(r-o,r-o),e.set(r-o+1,r-o),e.set(r-o,r-o+1),e.set(r+o,r-o),e.set(r+o,r-o+1),e.set(r+o,r+o-1)}static generateModeMessage(e,r,o){let l=new ne;return e?(l.appendBits(r-1,2),l.appendBits(o-1,6),l=gt.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(o-1,11),l=gt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,r,o,l){let u=V.truncDivision(o,2);if(r)for(let f=0;f<7;f++){let g=u-3+f;l.get(f)&&e.set(g,u-5),l.get(f+7)&&e.set(u+5,g),l.get(20-f)&&e.set(g,u+5),l.get(27-f)&&e.set(u-5,g)}else for(let f=0;f<10;f++){let g=u-5+f+V.truncDivision(f,5);l.get(f)&&e.set(g,u-7),l.get(f+10)&&e.set(u+7,g),l.get(29-f)&&e.set(g,u+7),l.get(39-f)&&e.set(u-7,g)}}static generateCheckWords(e,r,o){let l=e.getSize()/o,u=new ea(gt.getGF(o)),f=V.truncDivision(r,o),g=gt.bitsToWords(e,o,f);u.encode(g,f-l);let w=r%o,A=new ne;A.appendBits(0,w);for(const b of Array.from(g))A.appendBits(b,o);return A}static bitsToWords(e,r,o){let l=new Int32Array(o),u,f;for(u=0,f=e.getSize()/r;u<f;u++){let g=0;for(let w=0;w<r;w++)g|=e.get(u*r+w)?1<<r-w-1:0;l[u]=g}return l}static getGF(e){switch(e){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new T("Unsupported word size "+e)}}static stuffBits(e,r){let o=new ne,l=e.getSize(),u=(1<<r)-2;for(let f=0;f<l;f+=r){let g=0;for(let w=0;w<r;w++)(f+w>=l||e.get(f+w))&&(g|=1<<r-1-w);(g&u)===u?(o.appendBits(g&u,r),f--):g&u?o.appendBits(g,r):(o.appendBits(g|1,r),f--)}return o}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}gt.DEFAULT_EC_PERCENT=33,gt.DEFAULT_AZTEC_LAYERS=0,gt.MAX_NB_BITS=32,gt.MAX_NB_BITS_COMPACT=4,gt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ls{encode(e,r,o,l){return this.encodeWithHints(e,r,o,l,null)}encodeWithHints(e,r,o,l,u){let f=ta.ISO_8859_1,g=gt.DEFAULT_EC_PERCENT,w=gt.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(gn.CHARACTER_SET)&&(f=gl.forName(u.get(gn.CHARACTER_SET).toString())),u.has(gn.ERROR_CORRECTION)&&(g=V.parseInt(u.get(gn.ERROR_CORRECTION).toString())),u.has(gn.AZTEC_LAYERS)&&(w=V.parseInt(u.get(gn.AZTEC_LAYERS).toString()))),Ls.encodeLayers(e,r,o,l,f,g,w)}static encodeLayers(e,r,o,l,u,f,g){if(r!==pe.AZTEC)throw new T("Can only encode AZTEC, but got "+r);let w=gt.encode(Ne.getBytes(e,u),f,g);return Ls.renderResult(w,o,l)}static renderResult(e,r,o){let l=e.getMatrix();if(l==null)throw new Ut;let u=l.getWidth(),f=l.getHeight(),g=Math.max(r,u),w=Math.max(o,f),A=Math.min(g/u,w/f),b=(g-u*A)/2,M=(w-f*A)/2,P=new Re(g,w);for(let U=0,G=M;U<f;U++,G+=A)for(let X=0,$=b;X<u;X++,$+=A)l.get(X,U)&&P.setRegion($,G,A,A);return P}}s.AbstractExpandedDecoder=Ho,s.ArgumentException=E,s.ArithmeticException=er,s.AztecCode=ml,s.AztecCodeReader=tr,s.AztecCodeWriter=Ls,s.AztecDecoder=yt,s.AztecDetector=Ln,s.AztecDetectorResult=At,s.AztecEncoder=gt,s.AztecHighLevelEncoder=Ps,s.AztecPoint=Lt,s.BarcodeFormat=pe,s.Binarizer=k,s.BinaryBitmap=N,s.BitArray=ne,s.BitMatrix=Re,s.BitSource=Xo,s.BrowserAztecCodeReader=Ci,s.BrowserBarcodeReader=ll,s.BrowserCodeReader=me,s.BrowserDatamatrixCodeReader=Xu,s.BrowserMultiFormatReader=_s,s.BrowserPDF417Reader=lo,s.BrowserQRCodeReader=pl,s.BrowserQRCodeSvgWriter=bi,s.CharacterSetECI=te,s.ChecksumException=O,s.Code128Reader=be,s.Code39Reader=Qt,s.DataMatrixDecodedBitStreamParser=wr,s.DataMatrixReader=vr,s.DecodeHintType=ce,s.DecoderResult=it,s.DefaultGridSampler=Kt,s.DetectorResult=$e,s.EAN13Reader=at,s.EncodeHintType=gn,s.Exception=x,s.FormatException=q,s.GenericGF=ot,s.GenericGFPoly=_t,s.GlobalHistogramBinarizer=Ve,s.GridSampler=Pn,s.GridSamplerInstance=Dt,s.HTMLCanvasElementLuminanceSource=fe,s.HybridBinarizer=Se,s.ITFReader=vt,s.IllegalArgumentException=T,s.IllegalStateException=Ut,s.InvertedLuminanceSource=De,s.LuminanceSource=he,s.MathUtils=tt,s.MultiFormatOneDReader=Yi,s.MultiFormatReader=ao,s.MultiFormatWriter=Ku,s.NotFoundException=Q,s.OneDReader=It,s.PDF417DecodedBitStreamParser=ae,s.PDF417DecoderErrorCorrection=Qo,s.PDF417Reader=In,s.PDF417ResultMetadata=so,s.PerspectiveTransform=wt,s.PlanarYUVLuminanceSource=Lr,s.QRCodeByteMatrix=uo,s.QRCodeDataMask=ut,s.QRCodeDecodedBitStreamParser=Vt,s.QRCodeDecoderErrorCorrectionLevel=Mt,s.QRCodeDecoderFormatInformation=An,s.QRCodeEncoder=Bt,s.QRCodeEncoderQRCode=Ii,s.QRCodeMaskUtil=Wt,s.QRCodeMatrixUtil=Ze,s.QRCodeMode=Xe,s.QRCodeReader=Bn,s.QRCodeVersion=He,s.QRCodeWriter=qi,s.RGBLuminanceSource=Ds,s.RSS14Reader=Ft,s.RSSExpandedReader=de,s.ReaderException=$i,s.ReedSolomonDecoder=gr,s.ReedSolomonEncoder=ea,s.ReedSolomonException=Hn,s.Result=we,s.ResultMetadataType=Me,s.ResultPoint=ve,s.StringUtils=Ne,s.UnsupportedOperationException=_e,s.VideoInputDevice=Z,s.WhiteRectangleDetector=St,s.WriterException=Ot,s.ZXingArrays=H,s.ZXingCharset=gl,s.ZXingInteger=V,s.ZXingStandardCharsets=ta,s.ZXingStringBuilder=Ge,s.ZXingStringEncoding=Le,s.ZXingSystem=B,s.createAbstractExpandedDecoder=ol,Object.defineProperty(s,"__esModule",{value:!0})})}(Da,Da.exports)),Da.exports}var Zt=vw();const Cw=cd(Zt),Ew=h2({__proto__:null,default:Cw},[Zt]);var A1=function(){function t(i,s,c){if(this.formatMap=new Map([[ke.QR_CODE,Zt.BarcodeFormat.QR_CODE],[ke.AZTEC,Zt.BarcodeFormat.AZTEC],[ke.CODABAR,Zt.BarcodeFormat.CODABAR],[ke.CODE_39,Zt.BarcodeFormat.CODE_39],[ke.CODE_93,Zt.BarcodeFormat.CODE_93],[ke.CODE_128,Zt.BarcodeFormat.CODE_128],[ke.DATA_MATRIX,Zt.BarcodeFormat.DATA_MATRIX],[ke.MAXICODE,Zt.BarcodeFormat.MAXICODE],[ke.ITF,Zt.BarcodeFormat.ITF],[ke.EAN_13,Zt.BarcodeFormat.EAN_13],[ke.EAN_8,Zt.BarcodeFormat.EAN_8],[ke.PDF_417,Zt.BarcodeFormat.PDF_417],[ke.RSS_14,Zt.BarcodeFormat.RSS_14],[ke.RSS_EXPANDED,Zt.BarcodeFormat.RSS_EXPANDED],[ke.UPC_A,Zt.BarcodeFormat.UPC_A],[ke.UPC_E,Zt.BarcodeFormat.UPC_E],[ke.UPC_EAN_EXTENSION,Zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ew)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=c;var h=this.createZXingFormats(i),p=new Map;p.set(Zt.DecodeHintType.POSSIBLE_FORMATS,h),p.set(Zt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return t.prototype.decodeAsync=function(i){var s=this;return new Promise(function(c,h){try{c(s.decode(i))}catch(p){h(p)}})},t.prototype.decode=function(i){var s=new Zt.MultiFormatReader(this.verbose,this.hints),c=new Zt.HTMLCanvasElementLuminanceSource(i),h=new Zt.BinaryBitmap(new Zt.HybridBinarizer(c)),p=s.decode(h);return{text:p.text,format:Ag.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,c,h){i.set(s,c)}),i},t.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},t.prototype.createZXingFormats=function(i){for(var s=[],c=0,h=i;c<h.length;c++){var p=h[c];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return s},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),Aw=function(t,i,s,c){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(c.next(E))}catch(T){y(T)}}function v(E){try{x(c.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((c=c.apply(t,i||[])).next())})},Sw=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},S1=function(){function t(i,s,c){if(this.formatMap=new Map([[ke.QR_CODE,"qr_code"],[ke.AZTEC,"aztec"],[ke.CODABAR,"codabar"],[ke.CODE_39,"code_39"],[ke.CODE_93,"code_93"],[ke.CODE_128,"code_128"],[ke.DATA_MATRIX,"data_matrix"],[ke.ITF,"itf"],[ke.EAN_13,"ean_13"],[ke.EAN_8,"ean_8"],[ke.PDF_417,"pdf417"],[ke.UPC_A,"upc_a"],[ke.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=c;var h=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},t.prototype.decodeAsync=function(i){return Aw(this,void 0,void 0,function(){var s,c;return Sw(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(i)];case 1:if(s=h.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return c=this.selectLargestBarcode(s),[2,{text:c.rawValue,format:Ag.create(this.toHtml5QrcodeSupportedFormats(c.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(i){for(var s=null,c=0,h=0,p=i;h<p.length;h++){var y=p[h],C=y.boundingBox.width*y.boundingBox.height;C>c&&(c=C,s=y)}if(!s)throw"No largest barcode found";return s},t.prototype.createBarcodeDetectorFormats=function(i){for(var s=[],c=0,h=i;c<h.length;c++){var p=h[c];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},t.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},t.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,c,h){i.set(s,c)}),i},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),T1=function(t,i,s,c){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(c.next(E))}catch(T){y(T)}}function v(E){try{x(c.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((c=c.apply(t,i||[])).next())})},I1=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Tw=function(){function t(i,s,c,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=c,s&&S1.isSupported()?(this.primaryDecoder=new S1(i,c,h),this.secondaryDecoder=new A1(i,c,h)):this.primaryDecoder=new A1(i,c,h)}return t.prototype.decodeAsync=function(i){return T1(this,void 0,void 0,function(){var s;return I1(this,function(c){switch(c.label){case 0:s=performance.now(),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,c.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(i){return T1(this,void 0,void 0,function(){var s,c;return I1(this,function(h){switch(h.label){case 0:s=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,h.sent()];case 3:if(c=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw c;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(i){if(this.verbose){var s=performance.now()-i;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,s=0,c=this.executionResults;s<c.length;s++){var h=c[s];i+=h}var p=i/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),xd=function(){var t=function(i,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])},t(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),bu=function(t,i,s,c){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(c.next(E))}catch(T){y(T)}}function v(E){try{x(c.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((c=c.apply(t,i||[])).next())})},Nu=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},bg=function(){function t(i,s){this.name=i,this.track=s}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(i){var s={};s[this.name]=i;var c={advanced:[s]};return this.track.applyConstraints(c)},t.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var s=i[this.name];return s}return null},t}(),Iw=function(t){xd(i,t);function i(s,c){return t.call(this,s,c)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(s){var c={};c[this.name]=s;var h={advanced:[c]};return this.track.applyConstraints(h)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),c=s[this.name];return{min:c.min,max:c.max,step:c.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i}(bg),bw=function(t){xd(i,t);function i(s){return t.call(this,"zoom",s)||this}return i}(Iw),Nw=function(t){xd(i,t);function i(s){return t.call(this,"torch",s)||this}return i}(bg),Rw=function(){function t(i){this.track=i}return t.prototype.zoomFeature=function(){return new bw(this.track)},t.prototype.torchFeature=function(){return new Nw(this.track)},t}(),Mw=function(){function t(i,s,c){this.isClosed=!1,this.parentElement=i,this.mediaStream=s,this.callbacks=c,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return t.prototype.createVideoElement=function(i){var s=document.createElement("video");return s.style.width="".concat(i,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},t.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var c=i.surface.clientWidth,h=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(c,h),i.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(i,s,c,h){return bu(this,void 0,void 0,function(){var p,y;return Nu(this,function(C){switch(C.label){case 0:return p=new t(i,s,h),c.aspectRatio?(y={aspectRatio:c.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:C.sent(),C.label=2;case 2:return p.setupSurface(),[2,p]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(i){this.failIfClosed();var s=this,c=function(){setTimeout(i,200),s.surface.removeEventListener("playing",c)};this.surface.addEventListener("playing",c),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(i){return bu(this,void 0,void 0,function(){return Nu(this,function(s){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(s,c){var h=i.mediaStream.getVideoTracks(),p=h.length,y=0;i.mediaStream.getVideoTracks().forEach(function(C){i.mediaStream.removeTrack(C),C.stop(),++y,y>=p&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),s())})})},t.prototype.getCapabilities=function(){return new Rw(this.getFirstTrackOrFail())},t}(),_w=function(){function t(i){this.mediaStream=i}return t.prototype.render=function(i,s,c){return bu(this,void 0,void 0,function(){return Nu(this,function(h){return[2,Mw.create(i,this.mediaStream,s,c)]})})},t.create=function(i){return bu(this,void 0,void 0,function(){var s,c;return Nu(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return c=h.sent(),[2,new t(c)]}})})},t}(),b1=function(t,i,s,c){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(c.next(E))}catch(T){y(T)}}function v(E){try{x(c.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((c=c.apply(t,i||[])).next())})},N1=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Dw=function(){function t(){}return t.failIfNotSupported=function(){return b1(this,void 0,void 0,function(){return N1(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(i){return b1(this,void 0,void 0,function(){return N1(this,function(s){return[2,_w.create(i)]})})},t}(),Ow=function(t,i,s,c){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(c.next(E))}catch(T){y(T)}}function v(E){try{x(c.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((c=c.apply(t,i||[])).next())})},Pw=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Lw=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var i=Ro.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(i=Ro.insecureContextCameraQueryError()),Promise.reject(i)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},t.getCamerasFromMediaDevices=function(){return Ow(this,void 0,void 0,function(){var i,s,c,h,p,y,C;return Pw(this,function(v){switch(v.label){case 0:return i=function(x){for(var E=x.getVideoTracks(),T=0,N=E;T<N.length;T++){var O=N[T];O.enabled=!1,O.stop(),x.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(c=v.sent(),h=[],p=0,y=c;p<y.length;p++)C=y[p],C.kind==="videoinput"&&h.push({id:C.deviceId,label:C.label});return i(s),[2,h]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,s){var c=function(p){for(var y=[],C=0,v=p;C<v.length;C++){var x=v[C];x.kind==="video"&&y.push({id:x.id,label:x.label})}i(y)},h=MediaStreamTrack;h.getSources(c)})},t}(),cn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(cn||(cn={}));var kw=function(){function t(){this.state=cn.NOT_STARTED,this.onGoingTransactionNewState=cn.UNKNOWN}return t.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},t.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===cn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=cn.UNKNOWN,this.directTransition(i)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===cn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=cn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==cn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(i){switch(this.state){case cn.UNKNOWN:throw"Transition from unknown is not allowed";case cn.NOT_STARTED:this.failIfNewStateIs(i,[cn.PAUSED]);break;case cn.SCANNING:break;case cn.PAUSED:break}},t.prototype.failIfNewStateIs=function(i,s){for(var c=0,h=s;c<h.length;c++){var p=h[c];if(i===p)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},t}(),Bw=function(){function t(i){this.stateManager=i}return t.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},t.prototype.directTransition=function(i){this.stateManager.directTransition(i)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===cn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==cn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===cn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===cn.PAUSED},t}(),Fw=function(){function t(){}return t.create=function(){return new Bw(new kw)},t}(),jw=function(){var t=function(i,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(c[p]=h[p])},t(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(i,s);function c(){this.constructor=i}i.prototype=s===null?Object.create(s):(c.prototype=s.prototype,new c)}}(),br=function(t){jw(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i}(ti),Uw=function(){function t(i,s){this.logger=s,this.fps=br.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=br.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ig.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!fi(this.qrbox)},t.create=function(i,s){return new t(i,s)},t}(),R1=function(){function t(i,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var c;typeof s=="boolean"?this.verbose=s===!0:s&&(c=s,this.verbose=c.verbose===!0,c.experimentalFeatures),this.logger=new Tg(this.verbose),this.qrcode=new Tw(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(c),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Fw.create()}return t.prototype.start=function(i,s,c,h){var p=this;if(!i)throw"cameraIdOrConfig is required";if(!c||typeof c!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;h?y=h:y=this.verbose?this.logger.log:function(){};var C=Uw.create(s,this.logger);this.clearElement();var v=!1;C.videoConstraints&&(C.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:br.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var T=this,N=this.stateManagerProxy.startTransition(cn.SCANNING);return new Promise(function(O,k){var B=x?C.videoConstraints:T.createVideoConstraints(i);if(!B){N.cancel(),k("videoConstraints should be defined");return}var F={};(!x||C.aspectRatio)&&(F.aspectRatio=C.aspectRatio);var z={onRenderSurfaceReady:function(H,V){T.setupUi(H,V,C),T.isScanning=!0,T.foreverScan(C,c,y)}};Dw.failIfNotSupported().then(function(H){H.create(B).then(function(V){return V.render(p.element,F,z).then(function(ne){T.renderedCamera=ne,N.execute(),O(null)}).catch(function(ne){N.cancel(),k(ne)})}).catch(function(V){N.cancel(),k(Ro.errorGettingUserMedia(V))})}).catch(function(H){N.cancel(),k(Ro.cameraStreamingNotSupported())})})},t.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(cn.PAUSED),this.showPausedState(),(fi(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,s=function(){i.stateManagerProxy.directTransition(cn.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(cn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var c=function(){if(i.element){var p=document.getElementById(br.SHADED_REGION_ELEMENT_ID);p&&i.element.removeChild(p)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),c(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),s.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(i,s){return this.scanFileV2(i,s).then(function(c){return c.decodedText})},t.prototype.scanFileV2=function(i,s){var c=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fi(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,p){c.possiblyCloseLastScanImageFile(),c.clearElement(),c.lastScanImageFile=URL.createObjectURL(i);var y=new Image;y.onload=function(){var C=y.width,v=y.height,x=document.getElementById(c.elementId),E=x.clientWidth?x.clientWidth:br.DEFAULT_WIDTH,T=Math.max(x.clientHeight?x.clientHeight:v,br.FILE_SCAN_MIN_HEIGHT),N=c.computeCanvasDrawConfig(C,v,E,T);if(s){var O=c.createCanvasElement(E,T,"qr-canvas-visible");O.style.display="inline-block",x.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=E,k.canvas.height=T,k.drawImage(y,0,0,C,v,N.x,N.y,N.width,N.height)}var B=br.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(y.width,N.width),z=Math.max(y.height,N.height),H=F+2*B,V=z+2*B,ne=c.createCanvasElement(H,V);x.appendChild(ne);var se=ne.getContext("2d");if(!se)throw"Unable to get 2d context from canvas";se.canvas.width=H,se.canvas.height=V,se.drawImage(y,0,0,C,v,B,B,F,z);try{c.qrcode.decodeRobustlyAsync(ne).then(function(ce){h(v1.createFromQrcodeResult(ce))}).catch(p)}catch(ce){p("QR code parse error, error = ".concat(ce))}},y.onerror=p,y.onabort=p,y.onstalled=p,y.onsuspend=p,y.src=URL.createObjectURL(i)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Lw.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(i){if(i){if(!Ig.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(i){var s=[ke.QR_CODE,ke.AZTEC,ke.CODABAR,ke.CODE_39,ke.CODE_93,ke.CODE_128,ke.DATA_MATRIX,ke.MAXICODE,ke.ITF,ke.EAN_13,ke.EAN_8,ke.PDF_417,ke.RSS_14,ke.RSS_EXPANDED,ke.UPC_A,ke.UPC_E,ke.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return s;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var c=[],h=0,p=i.formatsToSupport;h<p.length;h++){var y=p[h];xw(y)?c.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(c.length===0)throw"None of formatsToSupport match supported values.";return c},t.prototype.getUseBarCodeDetectorIfSupported=function(i){if(fi(i))return!0;if(!fi(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(fi(i.experimentalFeatures))return!0;var s=i.experimentalFeatures;return fi(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(i,s,c){var h=this,p=c.qrbox;this.validateQrboxConfig(p);var y=this.toQrdimensions(i,s,p),C=function(x){if(x<br.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(br.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>i&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=i),x};C(y.width),C(y.height),y.width=v(y.width)},t.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(i,s,c){if(typeof c=="number")return{width:c,height:c};if(typeof c=="function")try{return c(i,s)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return c},t.prototype.setupUi=function(i,s,c){c.isShadedBoxEnabled()&&this.validateQrboxSize(i,s,c);var h=fi(c.qrbox)?{width:i,height:s}:c.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(i,s,h);p.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=c.isShadedBoxEnabled()&&p.height<=s,C={x:0,y:0,width:i,height:s},v=y?this.getShadedRegionBounds(i,s,p):C,x=this.createCanvasElement(v.width,v.height),E={willReadFrequently:!0},T=x.getContext("2d",E);T.canvas.width=v.width,T.canvas.height=v.height,this.element.append(x),y&&this.possiblyInsertShadingElement(this.element,i,s,p),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=T,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(i){var s=document.createElement("div");s.innerText=Ro.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",i.appendChild(s),this.scannerPausedUiElement=s},t.prototype.scanContext=function(i,s){var c=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return i(h.text,v1.createFromQrcodeResult(h)),c.possiblyUpdateShaders(!0),!0}).catch(function(h){c.possiblyUpdateShaders(!1);var p=Ro.codeParseError(h);return s(p,Sg.createFrom(p)),!1})},t.prototype.foreverScan=function(i,s,c){var h=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),y=p.videoWidth/p.clientWidth,C=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*y,x=this.qrRegion.height*C,E=this.qrRegion.x*y,T=this.qrRegion.y*C;this.context.drawImage(p,E,T,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(i,s,c)},h.getTimeoutFps(i.fps))};this.scanContext(s,c).then(function(O){!O&&i.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(s,c).finally(function(){N()})):N()}).catch(function(O){h.logger.logError("Error happend while scanning context",O),N()})}},t.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var s="facingMode",c="deviceId",h={user:!0,environment:!0},p="exact",y=function(k){if(k in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},C=Object.keys(i);if(C.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(C.length," keys");var v=Object.keys(i)[0];if(v!==s&&v!==c)throw"Only '".concat(s,"' and '").concat(c,"' ")+" are supported for 'cameraIdOrConfig'";if(v===s){var x=i.facingMode;if(typeof x=="string"){if(y(x))return{facingMode:x}}else if(typeof x=="object")if(p in x){if(y(x["".concat(p)]))return{facingMode:{exact:x["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var T=i.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(p in T)return{deviceId:{exact:T["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var N=typeof T;throw"Invalid type of 'deviceId' = ".concat(N)}}}var O=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},t.prototype.computeCanvasDrawConfig=function(i,s,c,h){if(i<=c&&s<=h){var p=(c-i)/2,y=(h-s)/2;return{x:p,y,width:i,height:s}}else{var C=i,v=s;return i>c&&(s=c/i*s,i=c),s>h&&(i=h/s*i,s=h),this.logger.log("Image downsampled from "+"".concat(C,"X").concat(v)+" to ".concat(i,"X").concat(s,".")),this.computeCanvasDrawConfig(i,s,c,h)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},t.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=i?br.BORDER_SHADER_MATCH_COLOR:br.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(i,s,c){var h=i,p=s,y=document.createElement("canvas");return y.style.width="".concat(h,"px"),y.style.height="".concat(p,"px"),y.style.display="none",y.id=fi(c)?"qr-canvas":c,y},t.prototype.getShadedRegionBounds=function(i,s,c){if(c.width>i||c.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-c.width)/2,y:(s-c.height)/2,width:c.width,height:c.height}},t.prototype.possiblyInsertShadingElement=function(i,s,c,h){if(!(s-h.width<1||c-h.height<1)){var p=document.createElement("div");p.style.position="absolute";var y=(s-h.width)/2,C=(c-h.height)/2;if(p.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(br.SHADED_REGION_ELEMENT_ID),s-h.width<11||c-h.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(p,x,v,-v,null,0,!0),this.insertShaderBorders(p,x,v,-v,null,0,!1),this.insertShaderBorders(p,x,v,null,-v,0,!0),this.insertShaderBorders(p,x,v,null,-v,0,!1),this.insertShaderBorders(p,v,x+v,-v,null,-v,!0),this.insertShaderBorders(p,v,x+v,null,-v,-v,!0),this.insertShaderBorders(p,v,x+v,-v,null,-v,!1),this.insertShaderBorders(p,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}i.append(p)}},t.prototype.insertShaderBorders=function(i,s,c,h,p,y,C){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=br.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(s,"px"),v.style.height="".concat(c,"px"),h!==null&&(v.style.top="".concat(h,"px")),p!==null&&(v.style.bottom="".concat(p,"px")),C?v.style.left="".concat(y,"px"):v.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),i.appendChild(v)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(i){return 1e3/i},t}(),yd="data:image/svg+xml;base64,",zw=yd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Vw=yd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",M1=yd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Ww="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",_1=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),Hw=function(){function t(){this.data=_1.createDefault();var i=localStorage.getItem(t.LOCAL_STORAGE_KEY);i?this.data=JSON.parse(i):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(i){this.data.hasPermission=i,this.flush()},t.prototype.setLastUsedCameraId=function(i){this.data.lastUsedCameraId=i,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=_1.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),Gw=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(i){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=C1.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var c=document.createElement("br"),h=document.createElement("br");this.infoDiv.appendChild(c),this.infoDiv.appendChild(h);var p=document.createElement("a");p.innerText=C1.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),i.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),Yw=function(){function t(i,s){this.isShowingInfoIcon=!0,this.onTapIn=i,this.onTapOut=s,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(i){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=M1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(c){return s.onHoverIn()},this.infoIcon.onmouseout=function(c){return s.onHoverOut()},this.infoIcon.onclick=function(c){return s.onClick()},i.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Ww,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=M1,this.infoIcon.style.opacity="0.6")},t}(),Xw=function(){function t(){var i=this;this.infoDiv=new Gw,this.infoIcon=new Yw(function(){i.infoDiv.show()},function(){i.infoDiv.hide()})}return t.prototype.renderInto=function(i){this.infoDiv.renderInto(i),this.infoIcon.renderInto(i)},t}(),Zw=function(t,i,s,c){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(c.next(E))}catch(T){y(T)}}function v(E){try{x(c.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((c=c.apply(t,i||[])).next())})},Kw=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},D1=function(){function t(){}return t.hasPermissions=function(){return Zw(this,void 0,void 0,function(){var i,s,c,h;return Kw(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(i=p.sent(),s=0,c=i;s<c.length;s++)if(h=c[s],h.kind==="videoinput"&&h.label)return[2,!0];return[2,!1]}})})},t}(),ms=function(){function t(i){this.supportedScanTypes=this.validateAndReturnScanTypes(i)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var i=0,s=this.supportedScanTypes;i<s.length;i++){var c=s[i];if(t.isCameraScanType(c))return!0}return!1},t.isCameraScanType=function(i){return i===vs.SCAN_TYPE_CAMERA},t.isFileScanType=function(i){return i===vs.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(i){if(!i||i.length===0)return ti.DEFAULT_SUPPORTED_SCAN_TYPE;var s=ti.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(i.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var c=0,h=i;c<h.length;c++){var p=h[c];if(!ti.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return i},t}(),Rr=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Ui=function(){function t(){}return t.createElement=function(i,s){var c=document.createElement(i);return c.id=s,c.classList.add(Rr.ALL_ELEMENT_CLASS),i==="button"&&c.setAttribute("type","button"),c},t}(),Ng=function(t,i,s,c){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(c.next(E))}catch(T){y(T)}}function v(E){try{x(c.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((c=c.apply(t,i||[])).next())})},Rg=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},c,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(c)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(c=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{c=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},O1=function(){function t(i,s,c){this.isTorchOn=!1,this.torchCapability=i,this.buttonController=s,this.onTorchActionFailureCallback=c}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return Ng(this,void 0,void 0,function(){var i,s;return Rg(this,function(c){switch(c.label){case 0:this.buttonController.disable(),i=!this.isTorchOn,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.torchCapability.apply(i)];case 2:return c.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),i),[3,4];case 3:return s=c.sent(),this.propagateFailure(i,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(i,s){i===s?(this.buttonController.setText(s?Pt.torchOffButton():Pt.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},t.prototype.propagateFailure=function(i,s){var c=i?Pt.torchOnFailedMessage():Pt.torchOffFailedMessage();s&&(c+="; Error = "+s),this.onTorchActionFailureCallback(c)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),Qw=function(){function t(i,s){this.onTorchActionFailureCallback=s,this.torchButton=Ui.createElement("button",Rr.TORCH_BUTTON_ID),this.torchController=new O1(i,this,s)}return t.prototype.render=function(i,s){var c=this;this.torchButton.innerText=Pt.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var h=this;this.torchButton.addEventListener("click",function(p){return Ng(c,void 0,void 0,function(){return Rg(this,function(y){switch(y.label){case 0:return[4,h.torchController.flipState()];case 1:return y.sent(),h.torchController.isTorchEnabled()?(h.torchButton.classList.remove(Rr.TORCH_BUTTON_CLASS_TORCH_OFF),h.torchButton.classList.add(Rr.TORCH_BUTTON_CLASS_TORCH_ON)):(h.torchButton.classList.remove(Rr.TORCH_BUTTON_CLASS_TORCH_ON),h.torchButton.classList.add(Rr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),i.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(i){this.torchController=new O1(i,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(i){this.torchButton.innerText=i},t.prototype.reset=function(){this.torchButton.innerText=Pt.torchOnButton(),this.torchController.reset()},t.create=function(i,s,c,h){var p=new t(s,h);return p.render(i,c),p},t}(),$w=function(){function t(i,s,c){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",i.appendChild(this.fileBasedScanRegion);var h=document.createElement("label");h.setAttribute("for",this.getFileScanInputId()),h.style.display="inline-block",this.fileBasedScanRegion.appendChild(h),this.fileSelectionButton=Ui.createElement("button",Rr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(C){h.click()}),h.append(this.fileSelectionButton),this.fileScanInput=Ui.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",h.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(C){if(!(C==null||C.target==null)){var v=C.target;if(!(v.files&&v.files.length===0)){var x=v.files,E=x[0],T=E.name;p.setImageNameToButton(T),c(E)}}});var y=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(y),this.fileBasedScanRegion.addEventListener("dragenter",function(C){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(C){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(C){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(C){C.stopPropagation(),C.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var v=C.dataTransfer;if(v){var x=v.files;if(!x||x.length===0)return;for(var E=!1,T=0;T<x.length;++T){var N=x.item(T);if(N){var O=/image.*/;if(N.type.match(O)){E=!0;var k=N.name;p.setImageNameToButton(k),c(N),y.innerText=Pt.dragAndDropMessage();break}}}E||(y.innerText=Pt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var i=document.createElement("div");return i.style.textAlign="center",i.style.margin="auto",i.style.width="80%",i.style.maxWidth="600px",i.style.border=this.fileBasedScanRegionDefaultBorder(),i.style.padding="10px",i.style.marginBottom="10px",i},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var i=document.createElement("div");return i.innerText=Pt.dragAndDropMessage(),i.style.fontWeight="400",i},t.prototype.setImageNameToButton=function(i){var s=20;if(i.length>s){var c=i.substring(0,8),h=i.length,p=i.substring(h-8,h);i="".concat(c,"....").concat(p)}var y=Pt.fileSelectionChooseAnother()+" - "+i;this.fileSelectionButton.innerText=y},t.prototype.setInitialValueToButton=function(){var i=Pt.fileSelectionChooseImage()+" - "+Pt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=i},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(i,s,c){var h=new t(i,s,c);return h},t}(),qw=function(){function t(i){this.selectElement=Ui.createElement("select",Rr.CAMERA_SELECTION_SELECT_ID),this.cameras=i,this.options=[]}return t.prototype.render=function(i){var s=document.createElement("span");s.style.marginRight="10px";var c=this.cameras.length;if(c===0)throw new Error("No cameras found");if(c===1)s.style.display="none";else{var h=Pt.selectCamera();s.innerText="".concat(h," (").concat(this.cameras.length,")  ")}for(var p=1,y=0,C=this.cameras;y<C.length;y++){var v=C[y],x=v.id,E=v.label==null?x:v.label;(!E||E==="")&&(E=[Pt.anonymousCameraPrefix(),p++].join(" "));var T=document.createElement("option");T.value=x,T.innerText=E,this.options.push(T),this.selectElement.appendChild(T)}s.appendChild(this.selectElement),i.appendChild(s)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(i){for(var s=0,c=this.options;s<c.length;s++){var h=c[s];if(h.value===i)return!0}return!1},t.prototype.setValue=function(i){if(!this.hasValue(i))throw new Error("".concat(i," is not present in the camera list."));this.selectElement.value=i},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(i,s){var c=new t(s);return c.render(i),c},t}(),Jw=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ui.createElement("input",Rr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(i,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",i.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var c=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.rangeText.style.marginRight="10px";var h=this;this.rangeInput.addEventListener("input",function(){return h.onValueChange()}),this.rangeInput.addEventListener("change",function(){return h.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var i=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(i,s,c,h){this.rangeInput.min=i.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=h.toString(),this.rangeInput.value=c.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(i){this.onChangeCallback=i},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(i,s){var c=new t;return c.render(i,s),c},t}(),Nr;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Nr||(Nr={}));function ev(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function tv(t,i){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:i}}var nv=function(){function t(i,s,c){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=i,this.config=this.createConfig(s),this.verbose=c===!0,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.scanTypeSelector=new ms(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Tg(this.verbose),this.persistedDataManager=new Hw,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(i,s){var c=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,y){if(i)i(p,y);else{if(c.lastMatchFound===p)return;c.lastMatchFound=p,c.setHeaderMessage(Pt.lastMatch(p),Nr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,y){s&&s(p,y)};var h=document.getElementById(this.elementId);if(!h)throw"HTML Element with id=".concat(this.elementId," not found");h.innerHTML="",this.createBasicLayout(h),this.html5Qrcode=new R1(this.getScanRegionId(),tv(this.config,this.verbose))},t.prototype.pause=function(i){(fi(i)||i!==!0)&&(i=!1),this.getHtml5QrcodeOrFail().pause(i)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var i=this,s=function(){var c=document.getElementById(i.elementId);c&&(c.innerHTML="",i.resetBasicLayout(c))};return this.html5Qrcode?new Promise(function(c,h){if(!i.html5Qrcode){c();return}i.html5Qrcode.isScanning?i.html5Qrcode.stop().then(function(p){if(!i.html5Qrcode){c();return}i.html5Qrcode.clear(),s(),c()}).catch(function(p){i.verbose&&i.logger.logError("Unable to stop qrcode scanner",p),h(p)}):(i.html5Qrcode.clear(),s(),c())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(i){return this.getHtml5QrcodeOrFail().applyVideoConstraints(i)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(i){return i?(i.fps||(i.fps=ti.SCAN_DEFAULT_FPS),i.rememberLastUsedCamera!==!ti.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(i.rememberLastUsedCamera=ti.DEFAULT_REMEMBER_LAST_CAMERA_USED),i.supportedScanTypes||(i.supportedScanTypes=ti.DEFAULT_SUPPORTED_SCAN_TYPE),i):{fps:ti.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ti.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ti.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(i){i.style.position="relative",i.style.padding="0px",i.style.border="1px solid silver",this.createHeader(i);var s=document.createElement("div"),c=this.getScanRegionId();s.id=c,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",i.appendChild(s),ms.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var h=document.createElement("div"),p=this.getDashboardId();h.id=p,h.style.width="100%",i.appendChild(h),this.setupInitialDashboard(h)},t.prototype.resetBasicLayout=function(i){i.style.border="none"},t.prototype.setupInitialDashboard=function(i){this.createSection(i),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(i){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",i.appendChild(s);var c=new Xw;c.renderInto(s);var h=document.createElement("div");h.id=this.getHeaderMessageContainerId(),h.style.display="none",h.style.textAlign="center",h.style.fontSize="14px",h.style.padding="2px 10px",h.style.margin="4px",h.style.borderTop="1px solid #f6f6f6",s.appendChild(h)},t.prototype.createSection=function(i){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",i.appendChild(s)},t.prototype.createCameraListUi=function(i,s,c){var h=this;h.showHideScanTypeSwapLink(!1),h.setHeaderMessage(Pt.cameraPermissionRequesting());var p=function(){c||h.createPermissionButton(i,s)};R1.getCameras().then(function(y){h.persistedDataManager.setHasPermission(!0),h.showHideScanTypeSwapLink(!0),h.resetHeaderMessage(),y&&y.length>0?(i.removeChild(s),h.renderCameraSelection(y)):(h.setHeaderMessage(Pt.noCameraFound(),Nr.STATUS_WARNING),p())}).catch(function(y){h.persistedDataManager.setHasPermission(!1),c?c.disabled=!1:p(),h.setHeaderMessage(y,Nr.STATUS_WARNING),h.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(i,s){var c=this,h=Ui.createElement("button",this.getCameraPermissionButtonId());h.innerText=Pt.cameraPermissionTitle(),h.addEventListener("click",function(){h.disabled=!0,c.createCameraListUi(i,s,h)}),s.appendChild(h)},t.prototype.createPermissionsUi=function(i,s){var c=this;if(ms.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){D1.hasPermissions().then(function(h){h?c.createCameraListUi(i,s):(c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(i,s))}).catch(function(h){c.persistedDataManager.setHasPermission(!1),c.createPermissionButton(i,s)});return}this.createPermissionButton(i,s)},t.prototype.createSectionControlPanel=function(){var i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");i.appendChild(s);var c=document.createElement("div");c.id=this.getDashboardSectionCameraScanRegionId(),c.style.display=ms.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(c);var h=document.createElement("div");h.style.textAlign="center",c.appendChild(h),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(c,h),this.renderFileScanUi(s)},t.prototype.renderFileScanUi=function(i){var s=ms.isFileScanType(this.currentScanType),c=this,h=function(p){if(!c.html5Qrcode)throw"html5Qrcode not defined";ms.isFileScanType(c.currentScanType)&&(c.setHeaderMessage(Pt.loadingImage()),c.html5Qrcode.scanFileV2(p,!0).then(function(y){c.resetHeaderMessage(),c.qrCodeSuccessCallback(y.decodedText,y)}).catch(function(y){c.setHeaderMessage(y,Nr.STATUS_WARNING),c.qrCodeErrorCallback(y,Sg.createFrom(y))}))};this.fileSelectionUi=$w.create(i,s,h)},t.prototype.renderCameraSelection=function(i){var s=this,c=this,h=document.getElementById(this.getDashboardSectionCameraScanRegionId());h.style.textAlign="center";var p=Jw.create(h,!1),y=function(B){var F=B.zoomFeature();if(F.isSupported()){p.setOnCameraZoomValueChangeCallback(function(H){F.apply(H)});var z=1;s.config.defaultZoomValueIfSupported&&(z=s.config.defaultZoomValueIfSupported),z=yw(z,F.min(),F.max()),p.setValues(F.min(),F.max(),z,F.step()),p.show()}},C=qw.create(h,i),v=document.createElement("span"),x=Ui.createElement("button",Rr.CAMERA_START_BUTTON_ID);x.innerText=Pt.scanButtonStartScanningText(),v.appendChild(x);var E=Ui.createElement("button",Rr.CAMERA_STOP_BUTTON_ID);E.innerText=Pt.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,v.appendChild(E);var T,N=function(B){if(!B.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(B.torchFeature()):T=Qw.create(v,B.torchFeature(),{display:"none",marginLeft:"5px"},function(F){c.setHeaderMessage(F,Nr.STATUS_WARNING)}),T.show()};h.appendChild(v);var O=function(B){B||(x.style.display="none"),x.innerText=Pt.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,B&&(x.style.display="inline-block")};if(x.addEventListener("click",function(B){x.innerText=Pt.scanButtonScanningStarting(),C.disable(),x.disabled=!0,x.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!1),c.resetHeaderMessage();var F=C.getValue();c.persistedDataManager.setLastUsedCameraId(F),c.html5Qrcode.start(F,ev(c.config),c.qrCodeSuccessCallback,c.qrCodeErrorCallback).then(function(z){E.disabled=!1,E.style.display="inline-block",O(!1);var H=c.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&N(H),s.config.showZoomSliderIfSupported===!0&&y(H)}).catch(function(z){c.showHideScanTypeSwapLink(!0),C.enable(),O(!0),c.setHeaderMessage(z,Nr.STATUS_WARNING)})}),C.hasSingleItem()&&x.click(),E.addEventListener("click",function(B){if(!c.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,c.html5Qrcode.stop().then(function(F){s.scanTypeSelector.hasMoreThanOneScanType()&&c.showHideScanTypeSwapLink(!0),C.enable(),x.disabled=!1,E.style.display="none",x.style.display="inline-block",T&&(T.reset(),T.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),c.insertCameraScanImageToScanRegion()}).catch(function(F){E.disabled=!1,c.setHeaderMessage(F,Nr.STATUS_WARNING)})}),c.persistedDataManager.getLastUsedCameraId()){var k=c.persistedDataManager.getLastUsedCameraId();C.hasValue(k)?(C.setValue(k),x.click()):c.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var i=this,s=Pt.textIfCameraScanSelected(),c=Pt.textIfFileScanSelected(),h=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var y=Ui.createElement("span",this.getDashboardSectionSwapLinkId());y.style.textDecoration="underline",y.style.cursor="pointer",y.innerText=ms.isCameraScanType(this.currentScanType)?s:c,y.addEventListener("click",function(){if(!i.sectionSwapAllowed){i.verbose&&i.logger.logError("Section swap called when not allowed");return}i.resetHeaderMessage(),i.fileSelectionUi.resetValue(),i.sectionSwapAllowed=!1,ms.isCameraScanType(i.currentScanType)?(i.clearScanRegion(),i.getCameraScanRegion().style.display="none",i.fileSelectionUi.show(),y.innerText=c,i.currentScanType=vs.SCAN_TYPE_FILE,i.insertFileScanImageToScanRegion()):(i.clearScanRegion(),i.getCameraScanRegion().style.display="block",i.fileSelectionUi.hide(),y.innerText=s,i.currentScanType=vs.SCAN_TYPE_CAMERA,i.insertCameraScanImageToScanRegion(),i.startCameraScanIfPermissionExistsOnSwap()),i.sectionSwapAllowed=!0}),p.appendChild(y),h.appendChild(p)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var i=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){D1.hasPermissions().then(function(c){if(c){var h=document.getElementById(s.getCameraPermissionButtonId());if(!h)throw i.logger.logError("Permission button not found, fail;"),"Permission button not found";h.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(c){s.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var i=document.getElementById(this.getHeaderMessageContainerId());i.style.display="none"},t.prototype.setHeaderMessage=function(i,s){s||(s=Nr.STATUS_DEFAULT);var c=this.getHeaderMessageDiv();switch(c.innerText=i,c.style.display="block",s){case Nr.STATUS_SUCCESS:c.style.background="rgba(106, 175, 80, 0.26)",c.style.color="#477735";break;case Nr.STATUS_WARNING:c.style.background="rgba(203, 36, 49, 0.14)",c.style.color="#cb2431";break;case Nr.STATUS_DEFAULT:default:c.style.background="rgba(0, 0, 0, 0)",c.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(i){this.scanTypeSelector.hasMoreThanOneScanType()&&(i!==!0&&(i=!1),this.sectionSwapAllowed=i,this.getDashboardSectionSwapLink().style.display=i?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(i.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=zw,this.cameraScanImage.alt=Pt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(c){s.innerHTML="<br>",s.appendChild(i.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Vw,this.fileScanImage.alt=Pt.fileScanAltText()},t.prototype.clearScanRegion=function(){var i=document.getElementById(this.getScanRegionId());i.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Rr.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Rr.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const rv=({user:t})=>{const i=ni();return _.jsx("div",{children:_.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",width:"94%",height:"10px",left:"3%"},children:t==null?_.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[_.jsx("button",{className:"login-button",onClick:()=>i("/login"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:_.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Login"})}),_.jsx("button",{className:"login-button",onClick:()=>i("/signup"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:_.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Sign up"})})]}):_.jsx("div",{children:_.jsx("button",{className:"login-button",onClick:()=>i("/logout"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:_.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Logout"})})})})})},wd=L.createContext({});function vd(t){const i=L.useRef(null);return i.current===null&&(i.current=t()),i.current}const Cd=typeof window<"u",Mg=Cd?L.useLayoutEffect:L.useEffect,zu=L.createContext(null),Ed=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class iv extends L.Component{getSnapshotBeforeUpdate(i){const s=this.props.childRef.current;if(s&&i.isPresent&&!this.props.isPresent){const c=s.offsetParent,h=c instanceof HTMLElement&&c.offsetWidth||0,p=this.props.sizeRef.current;p.height=s.offsetHeight||0,p.width=s.offsetWidth||0,p.top=s.offsetTop,p.left=s.offsetLeft,p.right=h-p.width-p.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sv({children:t,isPresent:i,anchorX:s}){const c=L.useId(),h=L.useRef(null),p=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=L.useContext(Ed);return L.useInsertionEffect(()=>{const{width:C,height:v,top:x,left:E,right:T}=p.current;if(i||!h.current||!C||!v)return;const N=s==="left"?`left: ${E}`:`right: ${T}`;h.current.dataset.motionPopId=c;const O=document.createElement("style");return y&&(O.nonce=y),document.head.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${v}px !important;
            ${N}px !important;
            top: ${x}px !important;
          }
        `),()=>{document.head.removeChild(O)}},[i]),_.jsx(iv,{isPresent:i,childRef:h,sizeRef:p,children:L.cloneElement(t,{ref:h})})}const ov=({children:t,initial:i,isPresent:s,onExitComplete:c,custom:h,presenceAffectsLayout:p,mode:y,anchorX:C})=>{const v=vd(av),x=L.useId(),E=L.useCallback(N=>{v.set(N,!0);for(const O of v.values())if(!O)return;c&&c()},[v,c]),T=L.useMemo(()=>({id:x,initial:i,isPresent:s,custom:h,onExitComplete:E,register:N=>(v.set(N,!1),()=>v.delete(N))}),p?[Math.random(),E]:[s,E]);return L.useMemo(()=>{v.forEach((N,O)=>v.set(O,!1))},[s]),L.useEffect(()=>{!s&&!v.size&&c&&c()},[s]),y==="popLayout"&&(t=_.jsx(sv,{isPresent:s,anchorX:C,children:t})),_.jsx(zu.Provider,{value:T,children:t})};function av(){return new Map}function _g(t=!0){const i=L.useContext(zu);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:c,register:h}=i,p=L.useId();L.useEffect(()=>{if(t)return h(p)},[t]);const y=L.useCallback(()=>t&&c&&c(p),[p,c,t]);return!s&&c?[!1,y]:[!0]}const pu=t=>t.key||"";function P1(t){const i=[];return L.Children.forEach(t,s=>{L.isValidElement(s)&&i.push(s)}),i}const L1=({children:t,custom:i,initial:s=!0,onExitComplete:c,presenceAffectsLayout:h=!0,mode:p="sync",propagate:y=!1,anchorX:C="left"})=>{const[v,x]=_g(y),E=L.useMemo(()=>P1(t),[t]),T=y&&!v?[]:E.map(pu),N=L.useRef(!0),O=L.useRef(E),k=vd(()=>new Map),[B,F]=L.useState(E),[z,H]=L.useState(E);Mg(()=>{N.current=!1,O.current=E;for(let se=0;se<z.length;se++){const ce=pu(z[se]);T.includes(ce)?k.delete(ce):k.get(ce)!==!0&&k.set(ce,!1)}},[z,T.length,T.join("-")]);const V=[];if(E!==B){let se=[...E];for(let ce=0;ce<z.length;ce++){const q=z[ce],ue=pu(q);T.includes(ue)||(se.splice(ce,0,q),V.push(q))}return p==="wait"&&V.length&&(se=V),H(P1(se)),F(E),null}const{forceRender:ne}=L.useContext(wd);return _.jsx(_.Fragment,{children:z.map(se=>{const ce=pu(se),q=y&&!v?!1:E===z||T.includes(ce),ue=()=>{if(k.has(ce))k.set(ce,!0);else return;let te=!0;k.forEach(_e=>{_e||(te=!1)}),te&&(ne==null||ne(),H(O.current),y&&(x==null||x()),c&&c())};return _.jsx(ov,{isPresent:q,initial:!N.current||s?void 0:!1,custom:i,presenceAffectsLayout:h,mode:p,onExitComplete:q?void 0:ue,anchorX:C,children:se},ce)})})};function Ad(t,i){t.indexOf(i)===-1&&t.push(i)}function Sd(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}let Dg=()=>{};const lv={useManualTiming:!1};function Td(t){let i;return()=>(i===void 0&&(i=t()),i)}const Hr=t=>t,za=(t,i,s)=>{const c=i-t;return c===0?1:(s-t)/c};class Id{constructor(){this.subscriptions=[]}add(i){return Ad(this.subscriptions,i),()=>Sd(this.subscriptions,i)}notify(i,s,c){const h=this.subscriptions.length;if(h)if(h===1)this.subscriptions[0](i,s,c);else for(let p=0;p<h;p++){const y=this.subscriptions[p];y&&y(i,s,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const di=t=>t*1e3,hi=t=>t/1e3;function Og(t,i){return i?t*(1e3/i):0}const uv=Td(()=>window.ScrollTimeline!==void 0);class cv{constructor(i){this.stop=()=>this.runAll("stop"),this.animations=i.filter(Boolean)}get finished(){return Promise.all(this.animations.map(i=>i.finished))}getAll(i){return this.animations[0][i]}setAll(i,s){for(let c=0;c<this.animations.length;c++)this.animations[c][i]=s}attachTimeline(i,s){const c=this.animations.map(h=>{if(uv()&&h.attachTimeline)return h.attachTimeline(i);if(typeof s=="function")return s(h)});return()=>{c.forEach((h,p)=>{h&&h(),this.animations[p].stop()})}}get time(){return this.getAll("time")}set time(i){this.setAll("time",i)}get speed(){return this.getAll("speed")}set speed(i){this.setAll("speed",i)}get startTime(){return this.getAll("startTime")}get duration(){let i=0;for(let s=0;s<this.animations.length;s++)i=Math.max(i,this.animations[s].duration);return i}runAll(i){this.animations.forEach(s=>s[i]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class fv extends cv{then(i,s){return this.finished.finally(i).then(()=>{})}}const k1={value:null},bd=t=>Array.isArray(t)&&typeof t[0]=="number",dv={};function hv(t,i){const s=Td(t);return()=>dv[i]??s()}const Va=hv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pg=(t,i,s=10)=>{let c="";const h=Math.max(Math.round(i/s),2);for(let p=0;p<h;p++)c+=t(p/(h-1))+", ";return`linear(${c.substring(0,c.length-2)})`},Oa=([t,i,s,c])=>`cubic-bezier(${t}, ${i}, ${s}, ${c})`,Vf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oa([0,.65,.55,1]),circOut:Oa([.55,0,1,.45]),backIn:Oa([.31,.01,.66,-.59]),backOut:Oa([.33,1.53,.69,.99])};function Lg(t,i){if(t)return typeof t=="function"&&Va()?Pg(t,i):bd(t)?Oa(t):Array.isArray(t)?t.map(s=>Lg(s,i)||Vf.easeOut):Vf[t]}function pv(t,i,s,{delay:c=0,duration:h=300,repeat:p=0,repeatType:y="loop",ease:C="easeInOut",times:v}={},x=void 0){const E={[i]:s};v&&(E.offset=v);const T=Lg(C,h);return Array.isArray(T)&&(E.easing=T),t.animate(E,{delay:c,duration:h,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:p+1,direction:y==="reverse"?"alternate":"normal",pseudoElement:x})}function Nd(t){return typeof t=="function"&&"applyToOptions"in t}function Rd(t,i){return(t==null?void 0:t[i])??(t==null?void 0:t.default)??t}const Ru=2e4;function Md(t){let i=0;const s=50;let c=t.next(i);for(;!c.done&&i<Ru;)i+=s,c=t.next(i);return i>=Ru?1/0:i}function gv(t,i=100,s){const c=s({...t,keyframes:[0,i]}),h=Math.min(Md(c),Ru);return{type:"keyframes",ease:p=>c.next(h*p).value/i,duration:hi(h)}}function kg(t){return!!(typeof t=="function"&&Va()||!t||typeof t=="string"&&(t in Vf||Va())||bd(t)||Array.isArray(t)&&t.every(kg))}function B1(t,i){t.timeline=i,t.onfinish=null}const gu=["read","resolveKeyframes","update","preRender","render","postRender"];function mv(t,i){let s=new Set,c=new Set,h=!1,p=!1;const y=new WeakSet;let C={delta:0,timestamp:0,isProcessing:!1},v=0;function x(T){y.has(T)&&(E.schedule(T),t()),v++,T(C)}const E={schedule:(T,N=!1,O=!1)=>{const B=O&&h?s:c;return N&&y.add(T),B.has(T)||B.add(T),T},cancel:T=>{c.delete(T),y.delete(T)},process:T=>{if(C=T,h){p=!0;return}h=!0,[s,c]=[c,s],s.forEach(x),i&&k1.value&&k1.value.frameloop[i].push(v),v=0,s.clear(),h=!1,p&&(p=!1,E.process(T))}};return E}const xv=40;function Bg(t,i){let s=!1,c=!0;const h={delta:0,timestamp:0,isProcessing:!1},p=()=>s=!0,y=gu.reduce((z,H)=>(z[H]=mv(p,i?H:void 0),z),{}),{read:C,resolveKeyframes:v,update:x,preRender:E,render:T,postRender:N}=y,O=()=>{const z=performance.now();s=!1,h.delta=c?1e3/60:Math.max(Math.min(z-h.timestamp,xv),1),h.timestamp=z,h.isProcessing=!0,C.process(h),v.process(h),x.process(h),E.process(h),T.process(h),N.process(h),h.isProcessing=!1,s&&i&&(c=!1,t(O))},k=()=>{s=!0,c=!0,h.isProcessing||t(O)};return{schedule:gu.reduce((z,H)=>{const V=y[H];return z[H]=(ne,se=!1,ce=!1)=>(s||k(),V.schedule(ne,se,ce)),z},{}),cancel:z=>{for(let H=0;H<gu.length;H++)y[gu[H]].cancel(z)},state:h,steps:y}}const{schedule:Gt,cancel:Cs,state:Wn,steps:If}=Bg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0),{schedule:_d}=Bg(queueMicrotask,!1);let Eu;function yv(){Eu=void 0}const pi={now:()=>(Eu===void 0&&pi.set(Wn.isProcessing||lv.useManualTiming?Wn.timestamp:performance.now()),Eu),set:t=>{Eu=t,queueMicrotask(yv)}},ei={x:!1,y:!1};function Fg(){return ei.x||ei.y}function wv(t){return t==="x"||t==="y"?ei[t]?null:(ei[t]=!0,()=>{ei[t]=!1}):ei.x||ei.y?null:(ei.x=ei.y=!0,()=>{ei.x=ei.y=!1})}function vv(t,i,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const h=document.querySelectorAll(t);return h?Array.from(h):[]}return Array.from(t)}function jg(t,i){const s=vv(t),c=new AbortController,h={passive:!0,...i,signal:c.signal};return[s,h,()=>c.abort()]}function F1(t){return!(t.pointerType==="touch"||Fg())}function Cv(t,i,s={}){const[c,h,p]=jg(t,s),y=C=>{if(!F1(C))return;const{target:v}=C,x=i(v,C);if(typeof x!="function"||!v)return;const E=T=>{F1(T)&&(x(T),v.removeEventListener("pointerleave",E))};v.addEventListener("pointerleave",E,h)};return c.forEach(C=>{C.addEventListener("pointerenter",y,h)}),p}const Ug=(t,i)=>i?t===i?!0:Ug(t,i.parentElement):!1,Dd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ev=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Av(t){return Ev.has(t.tagName)||t.tabIndex!==-1}const Pa=new WeakSet;function j1(t){return i=>{i.key==="Enter"&&t(i)}}function bf(t,i){t.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const Sv=(t,i)=>{const s=t.currentTarget;if(!s)return;const c=j1(()=>{if(Pa.has(s))return;bf(s,"down");const h=j1(()=>{bf(s,"up")}),p=()=>bf(s,"cancel");s.addEventListener("keyup",h,i),s.addEventListener("blur",p,i)});s.addEventListener("keydown",c,i),s.addEventListener("blur",()=>s.removeEventListener("keydown",c),i)};function U1(t){return Dd(t)&&!Fg()}function Tv(t,i,s={}){const[c,h,p]=jg(t,s),y=C=>{const v=C.currentTarget;if(!U1(C)||Pa.has(v))return;Pa.add(v);const x=i(v,C),E=(O,k)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",N),!(!U1(O)||!Pa.has(v))&&(Pa.delete(v),typeof x=="function"&&x(O,{success:k}))},T=O=>{E(O,v===window||v===document||s.useGlobalTarget||Ug(v,O.target))},N=O=>{E(O,!1)};window.addEventListener("pointerup",T,h),window.addEventListener("pointercancel",N,h)};return c.forEach(C=>{(s.useGlobalTarget?window:C).addEventListener("pointerdown",y,h),C instanceof HTMLElement&&(C.addEventListener("focus",x=>Sv(x,h)),!Av(C)&&!C.hasAttribute("tabindex")&&(C.tabIndex=0))}),p}const z1=30,Iv=t=>!isNaN(parseFloat(t));class bv{constructor(i,s={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(c,h=!0)=>{const p=pi.now();this.updatedAt!==p&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(c),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),h&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.owner=s.owner}setCurrent(i){this.current=i,this.updatedAt=pi.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=Iv(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,s){this.events[i]||(this.events[i]=new Id);const c=this.events[i].add(s);return i==="change"?()=>{c(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,s){this.passiveEffect=i,this.stopPassiveEffect=s}set(i,s=!0){!s||!this.passiveEffect?this.updateAndNotify(i,s):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,s,c){this.set(s),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-c}jump(i,s=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>z1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,z1);return Og(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(i){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=i(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(t,i){return new bv(t,i)}const zg=L.createContext({strict:!1}),V1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in V1)Bo[t]={isEnabled:i=>V1[t].some(s=>!!i[s])};function Nv(t){for(const i in t)Bo[i]={...Bo[i],...t[i]}}const Rv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Rv.has(t)}let Vg=t=>!Mu(t);function Mv(t){t&&(Vg=i=>i.startsWith("on")?!Mu(i):t(i))}try{Mv(require("@emotion/is-prop-valid").default)}catch{}function _v(t,i,s){const c={};for(const h in t)h==="values"&&typeof t.values=="object"||(Vg(h)||s===!0&&Mu(h)||!i&&!Mu(h)||t.draggable&&h.startsWith("onDrag"))&&(c[h]=t[h]);return c}function Dv(t){if(typeof Proxy>"u")return t;const i=new Map,s=(...c)=>t(...c);return new Proxy(s,{get:(c,h)=>h==="create"?t:(i.has(h)||i.set(h,t(h)),i.get(h))})}const Vu=L.createContext({});function Wu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ha(t){return typeof t=="string"||Array.isArray(t)}const Od=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pd=["initial",...Od];function Hu(t){return Wu(t.animate)||Pd.some(i=>Ha(t[i]))}function Wg(t){return!!(Hu(t)||t.variants)}function Ov(t,i){if(Hu(t)){const{initial:s,animate:c}=t;return{initial:s===!1||Ha(s)?s:void 0,animate:Ha(c)?c:void 0}}return t.inherit!==!1?i:{}}function Pv(t){const{initial:i,animate:s}=Ov(t,L.useContext(Vu));return L.useMemo(()=>({initial:i,animate:s}),[W1(i),W1(s)])}function W1(t){return Array.isArray(t)?t.join(" "):t}const Lv=Symbol.for("motionComponentSymbol");function Mo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kv(t,i,s){return L.useCallback(c=>{c&&t.onMount&&t.onMount(c),i&&(c?i.mount(c):i.unmount()),s&&(typeof s=="function"?s(c):Mo(s)&&(s.current=c))},[i])}const Ld=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bv="framerAppearId",Hg="data-"+Ld(Bv),Gg=L.createContext({});function Fv(t,i,s,c,h){var B,F;const{visualElement:p}=L.useContext(Vu),y=L.useContext(zg),C=L.useContext(zu),v=L.useContext(Ed).reducedMotion,x=L.useRef(null);c=c||y.renderer,!x.current&&c&&(x.current=c(t,{visualState:i,parent:p,props:s,presenceContext:C,blockInitialAnimation:C?C.initial===!1:!1,reducedMotionConfig:v}));const E=x.current,T=L.useContext(Gg);E&&!E.projection&&h&&(E.type==="html"||E.type==="svg")&&jv(x.current,s,h,T);const N=L.useRef(!1);L.useInsertionEffect(()=>{E&&N.current&&E.update(s,C)});const O=s[Hg],k=L.useRef(!!O&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,O))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,O)));return Mg(()=>{E&&(N.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),_d.render(E.render),k.current&&E.animationState&&E.animationState.animateChanges())}),L.useEffect(()=>{E&&(!k.current&&E.animationState&&E.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)==null||z.call(window,O)}),k.current=!1))}),E}function jv(t,i,s,c){const{layoutId:h,layout:p,drag:y,dragConstraints:C,layoutScroll:v,layoutRoot:x}=i;t.projection=new s(t.latestValues,i["data-framer-portal-id"]?void 0:Yg(t.parent)),t.projection.setOptions({layoutId:h,layout:p,alwaysMeasureLayout:!!y||C&&Mo(C),visualElement:t,animationType:typeof p=="string"?p:"both",initialPromotionConfig:c,layoutScroll:v,layoutRoot:x})}function Yg(t){if(t)return t.options.allowProjection!==!1?t.projection:Yg(t.parent)}function Uv({preloadedFeatures:t,createVisualElement:i,useRender:s,useVisualState:c,Component:h}){t&&Nv(t);function p(C,v){let x;const E={...L.useContext(Ed),...C,layoutId:zv(C)},{isStatic:T}=E,N=Pv(C),O=c(C,T);if(!T&&Cd){Vv();const k=Wv(E);x=k.MeasureLayout,N.visualElement=Fv(h,O,E,i,k.ProjectionNode)}return _.jsxs(Vu.Provider,{value:N,children:[x&&N.visualElement?_.jsx(x,{visualElement:N.visualElement,...E}):null,s(h,C,kv(O,N.visualElement,v),O,T,N.visualElement)]})}p.displayName=`motion.${typeof h=="string"?h:`create(${h.displayName??h.name??""})`}`;const y=L.forwardRef(p);return y[Lv]=h,y}function zv({layoutId:t}){const i=L.useContext(wd).id;return i&&t!==void 0?i+"-"+t:t}function Vv(t,i){L.useContext(zg).strict}function Wv(t){const{drag:i,layout:s}=Bo;if(!i&&!s)return{};const c={...i,...s};return{MeasureLayout:i!=null&&i.isEnabled(t)||s!=null&&s.isEnabled(t)?c.MeasureLayout:void 0,ProjectionNode:c.ProjectionNode}}const Xg=t=>i=>typeof i=="string"&&i.startsWith(t),kd=Xg("--"),Hv=Xg("var(--"),Bd=t=>Hv(t)?Gv.test(t.split("/*")[0].trim()):!1,Gv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ga={};function Yv(t){for(const i in t)Ga[i]=t[i],kd(i)&&(Ga[i].isCSSVariable=!0)}const zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],to=new Set(zo);function Zg(t,{layout:i,layoutId:s}){return to.has(t)||t.startsWith("origin")||(i||s!==void 0)&&(!!Ga[t]||t==="opacity")}const Jn=t=>!!(t&&t.getVelocity),Kg=(t,i)=>i&&typeof t=="number"?i.transform(t):t,Vi=(t,i,s)=>s>i?i:s<t?t:s,Vo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ya={...Vo,transform:t=>Vi(0,1,t)},mu={...Vo,default:1},Ja=t=>({test:i=>typeof i=="string"&&i.endsWith(t)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${t}`}),xs=Ja("deg"),gi=Ja("%"),Je=Ja("px"),Xv=Ja("vh"),Zv=Ja("vw"),H1={...gi,parse:t=>gi.parse(t)/100,transform:t=>gi.transform(t*100)},Kv={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je},Qv={rotate:xs,rotateX:xs,rotateY:xs,rotateZ:xs,scale:mu,scaleX:mu,scaleY:mu,scaleZ:mu,skew:xs,skewX:xs,skewY:xs,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:Ya,originX:H1,originY:H1,originZ:Je},G1={...Vo,transform:Math.round},Fd={...Kv,...Qv,zIndex:G1,size:Je,fillOpacity:Ya,strokeOpacity:Ya,numOctaves:G1},$v={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qv=zo.length;function Jv(t,i,s){let c="",h=!0;for(let p=0;p<qv;p++){const y=zo[p],C=t[y];if(C===void 0)continue;let v=!0;if(typeof C=="number"?v=C===(y.startsWith("scale")?1:0):v=parseFloat(C)===0,!v||s){const x=Kg(C,Fd[y]);if(!v){h=!1;const E=$v[y]||y;c+=`${E}(${x}) `}s&&(i[y]=x)}}return c=c.trim(),s?c=s(i,h?"":c):h&&(c="none"),c}function jd(t,i,s){const{style:c,vars:h,transformOrigin:p}=t;let y=!1,C=!1;for(const v in i){const x=i[v];if(to.has(v)){y=!0;continue}else if(kd(v)){h[v]=x;continue}else{const E=Kg(x,Fd[v]);v.startsWith("origin")?(C=!0,p[v]=E):c[v]=E}}if(i.transform||(y||s?c.transform=Jv(i,t.transform,s):c.transform&&(c.transform="none")),C){const{originX:v="50%",originY:x="50%",originZ:E=0}=p;c.transformOrigin=`${v} ${x} ${E}`}}const Ud=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Qg(t,i,s){for(const c in i)!Jn(i[c])&&!Zg(c,s)&&(t[c]=i[c])}function eC({transformTemplate:t},i){return L.useMemo(()=>{const s=Ud();return jd(s,i,t),Object.assign({},s.vars,s.style)},[i])}function tC(t,i){const s=t.style||{},c={};return Qg(c,s,t),Object.assign(c,eC(t,i)),c}function nC(t,i){const s={},c=tC(t,i);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=c,s}const rC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zd(t){return typeof t!="string"||t.includes("-")?!1:!!(rC.indexOf(t)>-1||/[A-Z]/u.test(t))}const iC={offset:"stroke-dashoffset",array:"stroke-dasharray"},sC={offset:"strokeDashoffset",array:"strokeDasharray"};function oC(t,i,s=1,c=0,h=!0){t.pathLength=1;const p=h?iC:sC;t[p.offset]=Je.transform(-c);const y=Je.transform(i),C=Je.transform(s);t[p.array]=`${y} ${C}`}function Y1(t,i,s){return typeof t=="string"?t:Je.transform(i+s*t)}function aC(t,i,s){const c=Y1(i,t.x,t.width),h=Y1(s,t.y,t.height);return`${c} ${h}`}function Vd(t,{attrX:i,attrY:s,attrScale:c,originX:h,originY:p,pathLength:y,pathSpacing:C=1,pathOffset:v=0,...x},E,T){if(jd(t,x,T),E){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:N,style:O,dimensions:k}=t;N.transform&&(k&&(O.transform=N.transform),delete N.transform),k&&(h!==void 0||p!==void 0||O.transform)&&(O.transformOrigin=aC(k,h!==void 0?h:.5,p!==void 0?p:.5)),i!==void 0&&(N.x=i),s!==void 0&&(N.y=s),c!==void 0&&(N.scale=c),y!==void 0&&oC(N,y,C,v,!1)}const $g=()=>({...Ud(),attrs:{}}),Wd=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lC(t,i,s,c){const h=L.useMemo(()=>{const p=$g();return Vd(p,i,Wd(c),t.transformTemplate),{...p.attrs,style:{...p.style}}},[i]);if(t.style){const p={};Qg(p,t.style,t),h.style={...p,...h.style}}return h}function uC(t=!1){return(s,c,h,{latestValues:p},y)=>{const v=(zd(s)?lC:nC)(c,p,y,s),x=_v(c,typeof s=="string",t),E=s!==L.Fragment?{...x,...v,ref:h}:{},{children:T}=c,N=L.useMemo(()=>Jn(T)?T.get():T,[T]);return L.createElement(s,{...E,children:N})}}function X1(t){const i=[{},{}];return t==null||t.values.forEach((s,c)=>{i[0][c]=s.get(),i[1][c]=s.getVelocity()}),i}function Hd(t,i,s,c){if(typeof i=="function"){const[h,p]=X1(c);i=i(s!==void 0?s:t.custom,h,p)}if(typeof i=="string"&&(i=t.variants&&t.variants[i]),typeof i=="function"){const[h,p]=X1(c);i=i(s!==void 0?s:t.custom,h,p)}return i}const Wf=t=>Array.isArray(t),cC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),fC=t=>Wf(t)?t[t.length-1]||0:t;function Au(t){const i=Jn(t)?t.get():t;return cC(i)?i.toValue():i}function dC({scrapeMotionValuesFromProps:t,createRenderState:i,onUpdate:s},c,h,p){const y={latestValues:hC(c,h,p,t),renderState:i()};return s&&(y.onMount=C=>s({props:c,current:C,...y}),y.onUpdate=C=>s(C)),y}const qg=t=>(i,s)=>{const c=L.useContext(Vu),h=L.useContext(zu),p=()=>dC(t,i,c,h);return s?p():vd(p)};function hC(t,i,s,c){const h={},p=c(t,{});for(const N in p)h[N]=Au(p[N]);let{initial:y,animate:C}=t;const v=Hu(t),x=Wg(t);i&&x&&!v&&t.inherit!==!1&&(y===void 0&&(y=i.initial),C===void 0&&(C=i.animate));let E=s?s.initial===!1:!1;E=E||y===!1;const T=E?C:y;if(T&&typeof T!="boolean"&&!Wu(T)){const N=Array.isArray(T)?T:[T];for(let O=0;O<N.length;O++){const k=Hd(t,N[O]);if(k){const{transitionEnd:B,transition:F,...z}=k;for(const H in z){let V=z[H];if(Array.isArray(V)){const ne=E?V.length-1:0;V=V[ne]}V!==null&&(h[H]=V)}for(const H in B)h[H]=B[H]}}}return h}function Gd(t,i,s){var p;const{style:c}=t,h={};for(const y in c)(Jn(c[y])||i.style&&Jn(i.style[y])||Zg(y,t)||((p=s==null?void 0:s.getValue(y))==null?void 0:p.liveStyle)!==void 0)&&(h[y]=c[y]);return h}const pC={useVisualState:qg({scrapeMotionValuesFromProps:Gd,createRenderState:Ud})};function Jg(t,i){try{i.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}function em(t,{style:i,vars:s},c,h){Object.assign(t.style,i,h&&h.getProjectionStyles(c));for(const p in s)t.style.setProperty(p,s[p])}const tm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nm(t,i,s,c){em(t,i,void 0,c);for(const h in i.attrs)t.setAttribute(tm.has(h)?h:Ld(h),i.attrs[h])}function rm(t,i,s){const c=Gd(t,i,s);for(const h in t)if(Jn(t[h])||Jn(i[h])){const p=zo.indexOf(h)!==-1?"attr"+h.charAt(0).toUpperCase()+h.substring(1):h;c[p]=t[h]}return c}const Z1=["x","y","width","height","cx","cy","r"],gC={useVisualState:qg({scrapeMotionValuesFromProps:rm,createRenderState:$g,onUpdate:({props:t,prevProps:i,current:s,renderState:c,latestValues:h})=>{if(!s)return;let p=!!t.drag;if(!p){for(const C in h)if(to.has(C)){p=!0;break}}if(!p)return;let y=!i;if(i)for(let C=0;C<Z1.length;C++){const v=Z1[C];t[v]!==i[v]&&(y=!0)}y&&Gt.read(()=>{Jg(s,c),Gt.render(()=>{Vd(c,h,Wd(s.tagName),t.transformTemplate),nm(s,c)})})}})};function mC(t,i){return function(c,{forwardMotionProps:h}={forwardMotionProps:!1}){const y={...zd(c)?gC:pC,preloadedFeatures:t,useRender:uC(h),createVisualElement:i,Component:c};return Uv(y)}}function Xa(t,i,s){const c=t.getProps();return Hd(c,i,s!==void 0?s:c.custom,t)}const im=new Set(["width","height","top","left","right","bottom",...zo]);function xC(t,i,s){t.hasValue(i)?t.getValue(i).set(s):t.addValue(i,Wa(s))}function yC(t,i){const s=Xa(t,i);let{transitionEnd:c={},transition:h={},...p}=s||{};p={...p,...c};for(const y in p){const C=fC(p[y]);xC(t,y,C)}}function wC(t){return!!(Jn(t)&&t.add)}function Hf(t,i){const s=t.getValue("willChange");if(wC(s))return s.add(i)}function sm(t){return t.props[Hg]}const om=(t,i,s)=>(((1-3*s+3*i)*t+(3*s-6*i))*t+3*i)*t,vC=1e-7,CC=12;function EC(t,i,s,c,h){let p,y,C=0;do y=i+(s-i)/2,p=om(y,c,h)-t,p>0?s=y:i=y;while(Math.abs(p)>vC&&++C<CC);return y}function el(t,i,s,c){if(t===i&&s===c)return Hr;const h=p=>EC(p,0,1,t,s);return p=>p===0||p===1?p:om(h(p),i,c)}const am=t=>i=>i<=.5?t(2*i)/2:(2-t(2*(1-i)))/2,lm=t=>i=>1-t(1-i),um=el(.33,1.53,.69,.99),Yd=lm(um),cm=am(Yd),fm=t=>(t*=2)<1?.5*Yd(t):.5*(2-Math.pow(2,-10*(t-1))),Xd=t=>1-Math.sin(Math.acos(t)),dm=lm(Xd),hm=am(Xd),pm=t=>/^0[^.\s]+$/u.test(t);function AC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pm(t):!0}const La=t=>Math.round(t*1e5)/1e5,Zd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SC(t){return t==null}const TC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kd=(t,i)=>s=>!!(typeof s=="string"&&TC.test(s)&&s.startsWith(t)||i&&!SC(s)&&Object.prototype.hasOwnProperty.call(s,i)),gm=(t,i,s)=>c=>{if(typeof c!="string")return c;const[h,p,y,C]=c.match(Zd);return{[t]:parseFloat(h),[i]:parseFloat(p),[s]:parseFloat(y),alpha:C!==void 0?parseFloat(C):1}},IC=t=>Vi(0,255,t),Nf={...Vo,transform:t=>Math.round(IC(t))},Qs={test:Kd("rgb","red"),parse:gm("red","green","blue"),transform:({red:t,green:i,blue:s,alpha:c=1})=>"rgba("+Nf.transform(t)+", "+Nf.transform(i)+", "+Nf.transform(s)+", "+La(Ya.transform(c))+")"};function bC(t){let i="",s="",c="",h="";return t.length>5?(i=t.substring(1,3),s=t.substring(3,5),c=t.substring(5,7),h=t.substring(7,9)):(i=t.substring(1,2),s=t.substring(2,3),c=t.substring(3,4),h=t.substring(4,5),i+=i,s+=s,c+=c,h+=h),{red:parseInt(i,16),green:parseInt(s,16),blue:parseInt(c,16),alpha:h?parseInt(h,16)/255:1}}const Gf={test:Kd("#"),parse:bC,transform:Qs.transform},_o={test:Kd("hsl","hue"),parse:gm("hue","saturation","lightness"),transform:({hue:t,saturation:i,lightness:s,alpha:c=1})=>"hsla("+Math.round(t)+", "+gi.transform(La(i))+", "+gi.transform(La(s))+", "+La(Ya.transform(c))+")"},qn={test:t=>Qs.test(t)||Gf.test(t)||_o.test(t),parse:t=>Qs.test(t)?Qs.parse(t):_o.test(t)?_o.parse(t):Gf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qs.transform(t):_o.transform(t)},NC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RC(t){var i,s;return isNaN(t)&&typeof t=="string"&&(((i=t.match(Zd))==null?void 0:i.length)||0)+(((s=t.match(NC))==null?void 0:s.length)||0)>0}const mm="number",xm="color",MC="var",_C="var(",K1="${}",DC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Za(t){const i=t.toString(),s=[],c={color:[],number:[],var:[]},h=[];let p=0;const C=i.replace(DC,v=>(qn.test(v)?(c.color.push(p),h.push(xm),s.push(qn.parse(v))):v.startsWith(_C)?(c.var.push(p),h.push(MC),s.push(v)):(c.number.push(p),h.push(mm),s.push(parseFloat(v))),++p,K1)).split(K1);return{values:s,split:C,indexes:c,types:h}}function ym(t){return Za(t).values}function wm(t){const{split:i,types:s}=Za(t),c=i.length;return h=>{let p="";for(let y=0;y<c;y++)if(p+=i[y],h[y]!==void 0){const C=s[y];C===mm?p+=La(h[y]):C===xm?p+=qn.transform(h[y]):p+=h[y]}return p}}const OC=t=>typeof t=="number"?0:t;function PC(t){const i=ym(t);return wm(t)(i.map(OC))}const Es={test:RC,parse:ym,createTransformer:wm,getAnimatableNone:PC},LC=new Set(["brightness","contrast","saturate","opacity"]);function kC(t){const[i,s]=t.slice(0,-1).split("(");if(i==="drop-shadow")return t;const[c]=s.match(Zd)||[];if(!c)return t;const h=s.replace(c,"");let p=LC.has(i)?1:0;return c!==s&&(p*=100),i+"("+p+h+")"}const BC=/\b([a-z-]*)\(.*?\)/gu,Yf={...Es,getAnimatableNone:t=>{const i=t.match(BC);return i?i.map(kC).join(" "):t}},FC={...Fd,color:qn,backgroundColor:qn,outlineColor:qn,fill:qn,stroke:qn,borderColor:qn,borderTopColor:qn,borderRightColor:qn,borderBottomColor:qn,borderLeftColor:qn,filter:Yf,WebkitFilter:Yf},vm=t=>FC[t];function Cm(t,i){let s=vm(t);return s!==Yf&&(s=Es),s.getAnimatableNone?s.getAnimatableNone(i):void 0}const jC=new Set(["auto","none","0"]);function UC(t,i,s){let c=0,h;for(;c<t.length&&!h;){const p=t[c];typeof p=="string"&&!jC.has(p)&&Za(p).values.length&&(h=t[c]),c++}if(h&&s)for(const p of i)t[p]=Cm(s,h)}const $s=t=>t*180/Math.PI,Xf=t=>{const i=$s(Math.atan2(t[1],t[0]));return Zf(i)},zC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xf,rotateZ:Xf,skewX:t=>$s(Math.atan(t[1])),skewY:t=>$s(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zf=t=>(t=t%360,t<0&&(t+=360),t),Q1=Xf,$1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),q1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),VC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$1,scaleY:q1,scale:t=>($1(t)+q1(t))/2,rotateX:t=>Zf($s(Math.atan2(t[6],t[5]))),rotateY:t=>Zf($s(Math.atan2(-t[2],t[0]))),rotateZ:Q1,rotate:Q1,skewX:t=>$s(Math.atan(t[4])),skewY:t=>$s(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function J1(t){return t.includes("scale")?1:0}function Kf(t,i){if(!t||t==="none")return J1(i);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let c,h;if(s)c=VC,h=s;else{const C=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);c=zC,h=C}if(!h)return J1(i);const p=c[i],y=h[1].split(",").map(HC);return typeof p=="function"?p(y):y[p]}const WC=(t,i)=>{const{transform:s="none"}=getComputedStyle(t);return Kf(s,i)};function HC(t){return parseFloat(t.trim())}const ep=t=>t===Vo||t===Je,GC=new Set(["x","y","z"]),YC=zo.filter(t=>!GC.has(t));function XC(t){const i=[];return YC.forEach(s=>{const c=t.getValue(s);c!==void 0&&(i.push([s,c.get()]),c.set(s.startsWith("scale")?1:0))}),i}const Fo={width:({x:t},{paddingLeft:i="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(i)-parseFloat(s),height:({y:t},{paddingTop:i="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(i)-parseFloat(s),top:(t,{top:i})=>parseFloat(i),left:(t,{left:i})=>parseFloat(i),bottom:({y:t},{top:i})=>parseFloat(i)+(t.max-t.min),right:({x:t},{left:i})=>parseFloat(i)+(t.max-t.min),x:(t,{transform:i})=>Kf(i,"x"),y:(t,{transform:i})=>Kf(i,"y")};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const Js=new Set;let Qf=!1,$f=!1;function Em(){if($f){const t=Array.from(Js).filter(c=>c.needsMeasurement),i=new Set(t.map(c=>c.element)),s=new Map;i.forEach(c=>{const h=XC(c);h.length&&(s.set(c,h),c.render())}),t.forEach(c=>c.measureInitialState()),i.forEach(c=>{c.render();const h=s.get(c);h&&h.forEach(([p,y])=>{var C;(C=c.getValue(p))==null||C.set(y)})}),t.forEach(c=>c.measureEndState()),t.forEach(c=>{c.suspendedScrollY!==void 0&&window.scrollTo(0,c.suspendedScrollY)})}$f=!1,Qf=!1,Js.forEach(t=>t.complete()),Js.clear()}function Am(){Js.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($f=!0)})}function ZC(){Am(),Em()}class Qd{constructor(i,s,c,h,p,y=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=s,this.name=c,this.motionValue=h,this.element=p,this.isAsync=y}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Js.add(this),Qf||(Qf=!0,Gt.read(Am),Gt.resolveKeyframes(Em))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:s,element:c,motionValue:h}=this;for(let p=0;p<i.length;p++)if(i[p]===null)if(p===0){const y=h==null?void 0:h.get(),C=i[i.length-1];if(y!==void 0)i[0]=y;else if(c&&s){const v=c.readValue(s,C);v!=null&&(i[0]=v)}i[0]===void 0&&(i[0]=C),h&&y===void 0&&h.set(i[0])}else i[p]=i[p-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Js.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Js.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Sm=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),KC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QC(t){const i=KC.exec(t);if(!i)return[,];const[,s,c,h]=i;return[`--${s??c}`,h]}function Tm(t,i,s=1){const[c,h]=QC(t);if(!c)return;const p=window.getComputedStyle(i).getPropertyValue(c);if(p){const y=p.trim();return Sm(y)?parseFloat(y):y}return Bd(h)?Tm(h,i,s+1):h}const Im=t=>i=>i.test(t),$C={test:t=>t==="auto",parse:t=>t},bm=[Vo,Je,gi,xs,Zv,Xv,$C],tp=t=>bm.find(Im(t));class Nm extends Qd{constructor(i,s,c,h,p){super(i,s,c,h,p,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:s,name:c}=this;if(!s||!s.current)return;super.readKeyframes();for(let v=0;v<i.length;v++){let x=i[v];if(typeof x=="string"&&(x=x.trim(),Bd(x))){const E=Tm(x,s.current);E!==void 0&&(i[v]=E),v===i.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!im.has(c)||i.length!==2)return;const[h,p]=i,y=tp(h),C=tp(p);if(y!==C)if(ep(y)&&ep(C))for(let v=0;v<i.length;v++){const x=i[v];typeof x=="string"&&(i[v]=parseFloat(x))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:s}=this,c=[];for(let h=0;h<i.length;h++)AC(i[h])&&c.push(h);c.length&&UC(i,c,s)}measureInitialState(){const{element:i,unresolvedKeyframes:s,name:c}=this;if(!i||!i.current)return;c==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[c](i.measureViewportBox(),window.getComputedStyle(i.current)),s[0]=this.measuredOrigin;const h=s[s.length-1];h!==void 0&&i.getValue(c,h).jump(h,!1)}measureEndState(){var C;const{element:i,name:s,unresolvedKeyframes:c}=this;if(!i||!i.current)return;const h=i.getValue(s);h&&h.jump(this.measuredOrigin,!1);const p=c.length-1,y=c[p];c[p]=Fo[s](i.measureViewportBox(),window.getComputedStyle(i.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),(C=this.removedTransforms)!=null&&C.length&&this.removedTransforms.forEach(([v,x])=>{i.getValue(v).set(x)}),this.resolveNoneKeyframes()}}const np=(t,i)=>i==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Es.test(t)||t==="0")&&!t.startsWith("url("));function qC(t){const i=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==i)return!0}function JC(t,i,s,c){const h=t[0];if(h===null)return!1;if(i==="display"||i==="visibility")return!0;const p=t[t.length-1],y=np(h,i),C=np(p,i);return!y||!C?!1:qC(t)||(s==="spring"||Nd(s))&&c}const eE=t=>t!==null;function Gu(t,{repeat:i,repeatType:s="loop"},c){const h=t.filter(eE),p=i&&s!=="loop"&&i%2===1?0:h.length-1;return!p||c===void 0?h[p]:c}const tE=40;class Rm{constructor({autoplay:i=!0,delay:s=0,type:c="keyframes",repeat:h=0,repeatDelay:p=0,repeatType:y="loop",...C}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pi.now(),this.options={autoplay:i,delay:s,type:c,repeat:h,repeatDelay:p,repeatType:y,...C},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ZC(),this._resolved}onKeyframesResolved(i,s){this.resolvedAt=pi.now(),this.hasAttemptedResolve=!0;const{name:c,type:h,velocity:p,delay:y,onComplete:C,onUpdate:v,isGenerator:x}=this.options;if(!x&&!JC(i,c,h,p))if(y)this.options.duration=0;else{v&&v(Gu(i,this.options,s)),C&&C(),this.resolveFinishedPromise();return}const E=this.initPlayback(i,s);E!==!1&&(this._resolved={keyframes:i,finalKeyframe:s,...E},this.onPostResolved())}onPostResolved(){}then(i,s){return this.currentFinishedPromise.then(i,s)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}const rn=(t,i,s)=>t+(i-t)*s;function Rf(t,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(i-t)*6*s:s<1/2?i:s<2/3?t+(i-t)*(2/3-s)*6:t}function nE({hue:t,saturation:i,lightness:s,alpha:c}){t/=360,i/=100,s/=100;let h=0,p=0,y=0;if(!i)h=p=y=s;else{const C=s<.5?s*(1+i):s+i-s*i,v=2*s-C;h=Rf(v,C,t+1/3),p=Rf(v,C,t),y=Rf(v,C,t-1/3)}return{red:Math.round(h*255),green:Math.round(p*255),blue:Math.round(y*255),alpha:c}}function _u(t,i){return s=>s>0?i:t}const Mf=(t,i,s)=>{const c=t*t,h=s*(i*i-c)+c;return h<0?0:Math.sqrt(h)},rE=[Gf,Qs,_o],iE=t=>rE.find(i=>i.test(t));function rp(t){const i=iE(t);if(!i)return!1;let s=i.parse(t);return i===_o&&(s=nE(s)),s}const ip=(t,i)=>{const s=rp(t),c=rp(i);if(!s||!c)return _u(t,i);const h={...s};return p=>(h.red=Mf(s.red,c.red,p),h.green=Mf(s.green,c.green,p),h.blue=Mf(s.blue,c.blue,p),h.alpha=rn(s.alpha,c.alpha,p),Qs.transform(h))},sE=(t,i)=>s=>i(t(s)),tl=(...t)=>t.reduce(sE),qf=new Set(["none","hidden"]);function oE(t,i){return qf.has(t)?s=>s<=0?t:i:s=>s>=1?i:t}function aE(t,i){return s=>rn(t,i,s)}function $d(t){return typeof t=="number"?aE:typeof t=="string"?Bd(t)?_u:qn.test(t)?ip:cE:Array.isArray(t)?Mm:typeof t=="object"?qn.test(t)?ip:lE:_u}function Mm(t,i){const s=[...t],c=s.length,h=t.map((p,y)=>$d(p)(p,i[y]));return p=>{for(let y=0;y<c;y++)s[y]=h[y](p);return s}}function lE(t,i){const s={...t,...i},c={};for(const h in s)t[h]!==void 0&&i[h]!==void 0&&(c[h]=$d(t[h])(t[h],i[h]));return h=>{for(const p in c)s[p]=c[p](h);return s}}function uE(t,i){const s=[],c={color:0,var:0,number:0};for(let h=0;h<i.values.length;h++){const p=i.types[h],y=t.indexes[p][c[p]],C=t.values[y]??0;s[h]=C,c[p]++}return s}const cE=(t,i)=>{const s=Es.createTransformer(i),c=Za(t),h=Za(i);return c.indexes.var.length===h.indexes.var.length&&c.indexes.color.length===h.indexes.color.length&&c.indexes.number.length>=h.indexes.number.length?qf.has(t)&&!h.values.length||qf.has(i)&&!c.values.length?oE(t,i):tl(Mm(uE(c,h),h.values),s):_u(t,i)};function _m(t,i,s){return typeof t=="number"&&typeof i=="number"&&typeof s=="number"?rn(t,i,s):$d(t)(t,i)}const fE=5;function Dm(t,i,s){const c=Math.max(i-fE,0);return Og(s-t(c),i-c)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sp=.001;function dE({duration:t=fn.duration,bounce:i=fn.bounce,velocity:s=fn.velocity,mass:c=fn.mass}){let h,p,y=1-i;y=Vi(fn.minDamping,fn.maxDamping,y),t=Vi(fn.minDuration,fn.maxDuration,hi(t)),y<1?(h=x=>{const E=x*y,T=E*t,N=E-s,O=Jf(x,y),k=Math.exp(-T);return sp-N/O*k},p=x=>{const T=x*y*t,N=T*s+s,O=Math.pow(y,2)*Math.pow(x,2)*t,k=Math.exp(-T),B=Jf(Math.pow(x,2),y);return(-h(x)+sp>0?-1:1)*((N-O)*k)/B}):(h=x=>{const E=Math.exp(-x*t),T=(x-s)*t+1;return-.001+E*T},p=x=>{const E=Math.exp(-x*t),T=(s-x)*(t*t);return E*T});const C=5/t,v=pE(h,p,C);if(t=di(t),isNaN(v))return{stiffness:fn.stiffness,damping:fn.damping,duration:t};{const x=Math.pow(v,2)*c;return{stiffness:x,damping:y*2*Math.sqrt(c*x),duration:t}}}const hE=12;function pE(t,i,s){let c=s;for(let h=1;h<hE;h++)c=c-t(c)/i(c);return c}function Jf(t,i){return t*Math.sqrt(1-i*i)}const gE=["duration","bounce"],mE=["stiffness","damping","mass"];function op(t,i){return i.some(s=>t[s]!==void 0)}function xE(t){let i={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...t};if(!op(t,mE)&&op(t,gE))if(t.visualDuration){const s=t.visualDuration,c=2*Math.PI/(s*1.2),h=c*c,p=2*Vi(.05,1,1-(t.bounce||0))*Math.sqrt(h);i={...i,mass:fn.mass,stiffness:h,damping:p}}else{const s=dE(t);i={...i,...s,mass:fn.mass},i.isResolvedFromDuration=!0}return i}function Du(t=fn.visualDuration,i=fn.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:i}:t;let{restSpeed:c,restDelta:h}=s;const p=s.keyframes[0],y=s.keyframes[s.keyframes.length-1],C={done:!1,value:p},{stiffness:v,damping:x,mass:E,duration:T,velocity:N,isResolvedFromDuration:O}=xE({...s,velocity:-hi(s.velocity||0)}),k=N||0,B=x/(2*Math.sqrt(v*E)),F=y-p,z=hi(Math.sqrt(v/E)),H=Math.abs(F)<5;c||(c=H?fn.restSpeed.granular:fn.restSpeed.default),h||(h=H?fn.restDelta.granular:fn.restDelta.default);let V;if(B<1){const se=Jf(z,B);V=ce=>{const q=Math.exp(-B*z*ce);return y-q*((k+B*z*F)/se*Math.sin(se*ce)+F*Math.cos(se*ce))}}else if(B===1)V=se=>y-Math.exp(-z*se)*(F+(k+z*F)*se);else{const se=z*Math.sqrt(B*B-1);V=ce=>{const q=Math.exp(-B*z*ce),ue=Math.min(se*ce,300);return y-q*((k+B*z*F)*Math.sinh(ue)+se*F*Math.cosh(ue))/se}}const ne={calculatedDuration:O&&T||null,next:se=>{const ce=V(se);if(O)C.done=se>=T;else{let q=0;B<1&&(q=se===0?di(k):Dm(V,se,ce));const ue=Math.abs(q)<=c,te=Math.abs(y-ce)<=h;C.done=ue&&te}return C.value=C.done?y:ce,C},toString:()=>{const se=Math.min(Md(ne),Ru),ce=Pg(q=>ne.next(se*q).value,se,30);return se+"ms "+ce},toTransition:()=>{}};return ne}Du.applyToOptions=t=>{const i=gv(t,100,Du);return t.ease=Va()?i.ease:"easeOut",t.duration=di(i.duration),t.type="keyframes",t};function ap({keyframes:t,velocity:i=0,power:s=.8,timeConstant:c=325,bounceDamping:h=10,bounceStiffness:p=500,modifyTarget:y,min:C,max:v,restDelta:x=.5,restSpeed:E}){const T=t[0],N={done:!1,value:T},O=ue=>C!==void 0&&ue<C||v!==void 0&&ue>v,k=ue=>C===void 0?v:v===void 0||Math.abs(C-ue)<Math.abs(v-ue)?C:v;let B=s*i;const F=T+B,z=y===void 0?F:y(F);z!==F&&(B=z-T);const H=ue=>-B*Math.exp(-ue/c),V=ue=>z+H(ue),ne=ue=>{const te=H(ue),_e=V(ue);N.done=Math.abs(te)<=x,N.value=N.done?z:_e};let se,ce;const q=ue=>{O(N.value)&&(se=ue,ce=Du({keyframes:[N.value,k(N.value)],velocity:Dm(V,ue,N.value),damping:h,stiffness:p,restDelta:x,restSpeed:E}))};return q(0),{calculatedDuration:null,next:ue=>{let te=!1;return!ce&&se===void 0&&(te=!0,ne(ue),q(ue)),se!==void 0&&ue>=se?ce.next(ue-se):(!te&&ne(ue),N)}}}const yE=el(.42,0,1,1),wE=el(0,0,.58,1),Om=el(.42,0,.58,1),vE=t=>Array.isArray(t)&&typeof t[0]!="number",CE={linear:Hr,easeIn:yE,easeInOut:Om,easeOut:wE,circIn:Xd,circInOut:hm,circOut:dm,backIn:Yd,backInOut:cm,backOut:um,anticipate:fm},lp=t=>{if(bd(t)){Dg(t.length===4);const[i,s,c,h]=t;return el(i,s,c,h)}else if(typeof t=="string")return CE[t];return t};function EE(t,i,s){const c=[],h=s||_m,p=t.length-1;for(let y=0;y<p;y++){let C=h(t[y],t[y+1]);if(i){const v=Array.isArray(i)?i[y]||Hr:i;C=tl(v,C)}c.push(C)}return c}function AE(t,i,{clamp:s=!0,ease:c,mixer:h}={}){const p=t.length;if(Dg(p===i.length),p===1)return()=>i[0];if(p===2&&i[0]===i[1])return()=>i[1];const y=t[0]===t[1];t[0]>t[p-1]&&(t=[...t].reverse(),i=[...i].reverse());const C=EE(i,c,h),v=C.length,x=E=>{if(y&&E<t[0])return i[0];let T=0;if(v>1)for(;T<t.length-2&&!(E<t[T+1]);T++);const N=za(t[T],t[T+1],E);return C[T](N)};return s?E=>x(Vi(t[0],t[p-1],E)):x}function SE(t,i){const s=t[t.length-1];for(let c=1;c<=i;c++){const h=za(0,i,c);t.push(rn(s,1,h))}}function TE(t){const i=[0];return SE(i,t.length-1),i}function IE(t,i){return t.map(s=>s*i)}function bE(t,i){return t.map(()=>i||Om).splice(0,t.length-1)}function Ou({duration:t=300,keyframes:i,times:s,ease:c="easeInOut"}){const h=vE(c)?c.map(lp):lp(c),p={done:!1,value:i[0]},y=IE(s&&s.length===i.length?s:TE(i),t),C=AE(y,i,{ease:Array.isArray(h)?h:bE(i,h)});return{calculatedDuration:t,next:v=>(p.value=C(v),p.done=v>=t,p)}}const NE=t=>{const i=({timestamp:s})=>t(s);return{start:()=>Gt.update(i,!0),stop:()=>Cs(i),now:()=>Wn.isProcessing?Wn.timestamp:pi.now()}},RE={decay:ap,inertia:ap,tween:Ou,keyframes:Ou,spring:Du},ME=t=>t/100;class qd extends Rm{constructor(i){super(i),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:v}=this.options;v&&v()};const{name:s,motionValue:c,element:h,keyframes:p}=this.options,y=(h==null?void 0:h.KeyframeResolver)||Qd,C=(v,x)=>this.onKeyframesResolved(v,x);this.resolver=new y(p,C,s,c,h),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(i){const{type:s="keyframes",repeat:c=0,repeatDelay:h=0,repeatType:p,velocity:y=0}=this.options,C=Nd(s)?s:RE[s]||Ou;let v,x;C!==Ou&&typeof i[0]!="number"&&(v=tl(ME,_m(i[0],i[1])),i=[0,100]);const E=C({...this.options,keyframes:i});p==="mirror"&&(x=C({...this.options,keyframes:[...i].reverse(),velocity:-y})),E.calculatedDuration===null&&(E.calculatedDuration=Md(E));const{calculatedDuration:T}=E,N=T+h,O=N*(c+1)-h;return{generator:E,mirroredGenerator:x,mapPercentToKeyframes:v,calculatedDuration:T,resolvedDuration:N,totalDuration:O}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,s=!1){const{resolved:c}=this;if(!c){const{keyframes:ue}=this.options;return{done:!0,value:ue[ue.length-1]}}const{finalKeyframe:h,generator:p,mirroredGenerator:y,mapPercentToKeyframes:C,keyframes:v,calculatedDuration:x,totalDuration:E,resolvedDuration:T}=c;if(this.startTime===null)return p.next(0);const{delay:N,repeat:O,repeatType:k,repeatDelay:B,onUpdate:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-E/this.speed,this.startTime)),s?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const z=this.currentTime-N*(this.speed>=0?1:-1),H=this.speed>=0?z<0:z>E;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=E);let V=this.currentTime,ne=p;if(O){const ue=Math.min(this.currentTime,E)/T;let te=Math.floor(ue),_e=ue%1;!_e&&ue>=1&&(_e=1),_e===1&&te--,te=Math.min(te,O+1),!!(te%2)&&(k==="reverse"?(_e=1-_e,B&&(_e-=B/T)):k==="mirror"&&(ne=y)),V=Vi(0,1,_e)*T}const se=H?{done:!1,value:v[0]}:ne.next(V);C&&(se.value=C(se.value));let{done:ce}=se;!H&&x!==null&&(ce=this.speed>=0?this.currentTime>=E:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return q&&h!==void 0&&(se.value=Gu(v,this.options,h)),F&&F(se.value),q&&this.finish(),se}get duration(){const{resolved:i}=this;return i?hi(i.calculatedDuration):0}get time(){return hi(this.currentTime)}set time(i){i=di(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const s=this.playbackSpeed!==i;this.playbackSpeed=i,s&&(this.time=hi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=NE,onPlay:s,startTime:c}=this.options;this.driver||(this.driver=i(p=>this.tick(p))),s&&s();const h=this.driver.now();this.holdTime!==null?this.startTime=h-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=h):this.startTime=c??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}get finished(){return this.currentFinishedPromise}}const _E=new Set(["opacity","clipPath","filter","transform"]),DE=Td(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Pu=10,OE=2e4;function PE(t){return Nd(t.type)||t.type==="spring"||!kg(t.ease)}function LE(t,i){const s=new qd({...i,keyframes:t,repeat:0,delay:0,isGenerator:!0});let c={done:!1,value:t[0]};const h=[];let p=0;for(;!c.done&&p<OE;)c=s.sample(p),h.push(c.value),p+=Pu;return{times:void 0,keyframes:h,duration:p-Pu,ease:"linear"}}const Pm={anticipate:fm,backInOut:cm,circInOut:hm};function kE(t){return t in Pm}class up extends Rm{constructor(i){super(i);const{name:s,motionValue:c,element:h,keyframes:p}=this.options;this.resolver=new Nm(p,(y,C)=>this.onKeyframesResolved(y,C),s,c,h),this.resolver.scheduleResolve()}initPlayback(i,s){let{duration:c=300,times:h,ease:p,type:y,motionValue:C,name:v,startTime:x}=this.options;if(!C.owner||!C.owner.current)return!1;if(typeof p=="string"&&Va()&&kE(p)&&(p=Pm[p]),PE(this.options)){const{onComplete:T,onUpdate:N,motionValue:O,element:k,...B}=this.options,F=LE(i,B);i=F.keyframes,i.length===1&&(i[1]=i[0]),c=F.duration,h=F.times,p=F.ease,y="keyframes"}const E=pv(C.owner.current,v,i,{...this.options,duration:c,times:h,ease:p});return E.startTime=x??this.calcStartTime(),this.pendingTimeline?(B1(E,this.pendingTimeline),this.pendingTimeline=void 0):E.onfinish=()=>{const{onComplete:T}=this.options;C.set(Gu(i,this.options,s)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:E,duration:c,times:h,type:y,ease:p,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:s}=i;return hi(s)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:s}=i;return hi(s.currentTime||0)}set time(i){const{resolved:s}=this;if(!s)return;const{animation:c}=s;c.currentTime=di(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:s}=i;return s.playbackRate}get finished(){return this.resolved.animation.finished}set speed(i){const{resolved:s}=this;if(!s)return;const{animation:c}=s;c.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:s}=i;return s.playState}get startTime(){const{resolved:i}=this;if(!i)return null;const{animation:s}=i;return s.startTime}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:s}=this;if(!s)return Hr;const{animation:c}=s;B1(c,i)}return Hr}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:i}=this;if(!i)return;const{animation:s,keyframes:c,duration:h,type:p,ease:y,times:C}=i;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:x,onUpdate:E,onComplete:T,element:N,...O}=this.options,k=new qd({...O,keyframes:c,duration:h,type:p,ease:y,times:C,isGenerator:!0}),B=di(this.time);x.setWithVelocity(k.sample(B-Pu).value,k.sample(B).value,Pu)}const{onStop:v}=this.options;v&&v(),this.cancel()}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:s,name:c,repeatDelay:h,repeatType:p,damping:y,type:C}=i;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:v,transformTemplate:x}=s.owner.getProps();return DE()&&c&&_E.has(c)&&(c!=="transform"||!x)&&!v&&!h&&p!=="mirror"&&y!==0&&C!=="inertia"}}const BE={type:"spring",stiffness:500,damping:25,restSpeed:10},FE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jE={type:"keyframes",duration:.8},UE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zE=(t,{keyframes:i})=>i.length>2?jE:to.has(t)?t.startsWith("scale")?FE(i[1]):BE:UE;function VE({when:t,delay:i,delayChildren:s,staggerChildren:c,staggerDirection:h,repeat:p,repeatType:y,repeatDelay:C,from:v,elapsed:x,...E}){return!!Object.keys(E).length}const Jd=(t,i,s,c={},h,p)=>y=>{const C=Rd(c,t)||{},v=C.delay||c.delay||0;let{elapsed:x=0}=c;x=x-di(v);let E={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:i.getVelocity(),...C,delay:-x,onUpdate:N=>{i.set(N),C.onUpdate&&C.onUpdate(N)},onComplete:()=>{y(),C.onComplete&&C.onComplete()},name:t,motionValue:i,element:p?void 0:h};VE(C)||(E={...E,...zE(t,E)}),E.duration&&(E.duration=di(E.duration)),E.repeatDelay&&(E.repeatDelay=di(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let T=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(T=!0)),E.allowFlatten=!C.type&&!C.ease,T&&!p&&i.get()!==void 0){const N=Gu(E.keyframes,C);if(N!==void 0)return Gt.update(()=>{E.onUpdate(N),E.onComplete()}),new fv([])}return!p&&up.supports(E)?new up(E):new qd(E)};function WE({protectedKeys:t,needsAnimating:i},s){const c=t.hasOwnProperty(s)&&i[s]!==!0;return i[s]=!1,c}function Lm(t,i,{delay:s=0,transitionOverride:c,type:h}={}){let{transition:p=t.getDefaultTransition(),transitionEnd:y,...C}=i;c&&(p=c);const v=[],x=h&&t.animationState&&t.animationState.getState()[h];for(const E in C){const T=t.getValue(E,t.latestValues[E]??null),N=C[E];if(N===void 0||x&&WE(x,E))continue;const O={delay:s,...Rd(p||{},E)};let k=!1;if(window.MotionHandoffAnimation){const F=sm(t);if(F){const z=window.MotionHandoffAnimation(F,E,Gt);z!==null&&(O.startTime=z,k=!0)}}Hf(t,E),T.start(Jd(E,T,N,t.shouldReduceMotion&&im.has(E)?{type:!1}:O,t,k));const B=T.animation;B&&v.push(B)}return y&&Promise.all(v).then(()=>{Gt.update(()=>{y&&yC(t,y)})}),v}function ed(t,i,s={}){var v;const c=Xa(t,i,s.type==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);let{transition:h=t.getDefaultTransition()||{}}=c||{};s.transitionOverride&&(h=s.transitionOverride);const p=c?()=>Promise.all(Lm(t,c,s)):()=>Promise.resolve(),y=t.variantChildren&&t.variantChildren.size?(x=0)=>{const{delayChildren:E=0,staggerChildren:T,staggerDirection:N}=h;return HE(t,i,E+x,T,N,s)}:()=>Promise.resolve(),{when:C}=h;if(C){const[x,E]=C==="beforeChildren"?[p,y]:[y,p];return x().then(()=>E())}else return Promise.all([p(),y(s.delay)])}function HE(t,i,s=0,c=0,h=1,p){const y=[],C=(t.variantChildren.size-1)*c,v=h===1?(x=0)=>x*c:(x=0)=>C-x*c;return Array.from(t.variantChildren).sort(GE).forEach((x,E)=>{x.notify("AnimationStart",i),y.push(ed(x,i,{...p,delay:s+v(E)}).then(()=>x.notify("AnimationComplete",i)))}),Promise.all(y)}function GE(t,i){return t.sortNodePosition(i)}function YE(t,i,s={}){t.notify("AnimationStart",i);let c;if(Array.isArray(i)){const h=i.map(p=>ed(t,p,s));c=Promise.all(h)}else if(typeof i=="string")c=ed(t,i,s);else{const h=typeof i=="function"?Xa(t,i,s.custom):i;c=Promise.all(Lm(t,h,s))}return c.then(()=>{t.notify("AnimationComplete",i)})}function km(t,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==t.length)return!1;for(let c=0;c<s;c++)if(i[c]!==t[c])return!1;return!0}const XE=Pd.length;function Bm(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Bm(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const i={};for(let s=0;s<XE;s++){const c=Pd[s],h=t.props[c];(Ha(h)||h===!1)&&(i[c]=h)}return i}const ZE=[...Od].reverse(),KE=Od.length;function QE(t){return i=>Promise.all(i.map(({animation:s,options:c})=>YE(t,s,c)))}function $E(t){let i=QE(t),s=cp(),c=!0;const h=v=>(x,E)=>{var N;const T=Xa(t,E,v==="exit"?(N=t.presenceContext)==null?void 0:N.custom:void 0);if(T){const{transition:O,transitionEnd:k,...B}=T;x={...x,...B,...k}}return x};function p(v){i=v(t)}function y(v){const{props:x}=t,E=Bm(t.parent)||{},T=[],N=new Set;let O={},k=1/0;for(let F=0;F<KE;F++){const z=ZE[F],H=s[z],V=x[z]!==void 0?x[z]:E[z],ne=Ha(V),se=z===v?H.isActive:null;se===!1&&(k=F);let ce=V===E[z]&&V!==x[z]&&ne;if(ce&&c&&t.manuallyAnimateOnMount&&(ce=!1),H.protectedKeys={...O},!H.isActive&&se===null||!V&&!H.prevProp||Wu(V)||typeof V=="boolean")continue;const q=qE(H.prevProp,V);let ue=q||z===v&&H.isActive&&!ce&&ne||F>k&&ne,te=!1;const _e=Array.isArray(V)?V:[V];let Le=_e.reduce(h(z),{});se===!1&&(Le={});const{prevResolvedValues:Ne={}}=H,Ge={...Ne,...Le},Re=Se=>{ue=!0,N.has(Se)&&(te=!0,N.delete(Se)),H.needsAnimating[Se]=!0;const he=t.getValue(Se);he&&(he.liveStyle=!1)};for(const Se in Ge){const he=Le[Se],De=Ne[Se];if(O.hasOwnProperty(Se))continue;let fe=!1;Wf(he)&&Wf(De)?fe=!km(he,De):fe=he!==De,fe?he!=null?Re(Se):N.add(Se):he!==void 0&&N.has(Se)?Re(Se):H.protectedKeys[Se]=!0}H.prevProp=V,H.prevResolvedValues=Le,H.isActive&&(O={...O,...Le}),c&&t.blockInitialAnimation&&(ue=!1),ue&&(!(ce&&q)||te)&&T.push(..._e.map(Se=>({animation:Se,options:{type:z}})))}if(N.size){const F={};if(typeof x.initial!="boolean"){const z=Xa(t,Array.isArray(x.initial)?x.initial[0]:x.initial);z&&z.transition&&(F.transition=z.transition)}N.forEach(z=>{const H=t.getBaseTarget(z),V=t.getValue(z);V&&(V.liveStyle=!0),F[z]=H??null}),T.push({animation:F})}let B=!!T.length;return c&&(x.initial===!1||x.initial===x.animate)&&!t.manuallyAnimateOnMount&&(B=!1),c=!1,B?i(T):Promise.resolve()}function C(v,x){var T;if(s[v].isActive===x)return Promise.resolve();(T=t.variantChildren)==null||T.forEach(N=>{var O;return(O=N.animationState)==null?void 0:O.setActive(v,x)}),s[v].isActive=x;const E=y(v);for(const N in s)s[N].protectedKeys={};return E}return{animateChanges:y,setActive:C,setAnimateFunction:p,getState:()=>s,reset:()=>{s=cp(),c=!0}}}function qE(t,i){return typeof i=="string"?i!==t:Array.isArray(i)?!km(i,t):!1}function Zs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cp(){return{animate:Zs(!0),whileInView:Zs(),whileHover:Zs(),whileTap:Zs(),whileDrag:Zs(),whileFocus:Zs(),exit:Zs()}}class As{constructor(i){this.isMounted=!1,this.node=i}update(){}}class JE extends As{constructor(i){super(i),i.animationState||(i.animationState=$E(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();Wu(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:s}=this.node.prevProps||{};i!==s&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let e3=0;class t3 extends As{constructor(){super(...arguments),this.id=e3++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:s}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===c)return;const h=this.node.animationState.setActive("exit",!i);s&&!i&&h.then(()=>{s(this.id)})}mount(){const{register:i,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const n3={animation:{Feature:JE},exit:{Feature:t3}};function Ka(t,i,s,c={passive:!0}){return t.addEventListener(i,s,c),()=>t.removeEventListener(i,s)}function nl(t){return{point:{x:t.pageX,y:t.pageY}}}const r3=t=>i=>Dd(i)&&t(i,nl(i));function ka(t,i,s,c){return Ka(t,i,r3(s),c)}function Fm({top:t,left:i,right:s,bottom:c}){return{x:{min:i,max:s},y:{min:t,max:c}}}function i3({x:t,y:i}){return{top:i.min,right:t.max,bottom:i.max,left:t.min}}function s3(t,i){if(!i)return t;const s=i({x:t.left,y:t.top}),c=i({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:c.y,right:c.x}}const jm=1e-4,o3=1-jm,a3=1+jm,Um=.01,l3=0-Um,u3=0+Um;function or(t){return t.max-t.min}function c3(t,i,s){return Math.abs(t-i)<=s}function fp(t,i,s,c=.5){t.origin=c,t.originPoint=rn(i.min,i.max,t.origin),t.scale=or(s)/or(i),t.translate=rn(s.min,s.max,t.origin)-t.originPoint,(t.scale>=o3&&t.scale<=a3||isNaN(t.scale))&&(t.scale=1),(t.translate>=l3&&t.translate<=u3||isNaN(t.translate))&&(t.translate=0)}function Ba(t,i,s,c){fp(t.x,i.x,s.x,c?c.originX:void 0),fp(t.y,i.y,s.y,c?c.originY:void 0)}function dp(t,i,s){t.min=s.min+i.min,t.max=t.min+or(i)}function f3(t,i,s){dp(t.x,i.x,s.x),dp(t.y,i.y,s.y)}function hp(t,i,s){t.min=i.min-s.min,t.max=t.min+or(i)}function Fa(t,i,s){hp(t.x,i.x,s.x),hp(t.y,i.y,s.y)}const pp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:pp(),y:pp()}),gp=()=>({min:0,max:0}),yn=()=>({x:gp(),y:gp()});function Wr(t){return[t("x"),t("y")]}function _f(t){return t===void 0||t===1}function td({scale:t,scaleX:i,scaleY:s}){return!_f(t)||!_f(i)||!_f(s)}function Ks(t){return td(t)||zm(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zm(t){return mp(t.x)||mp(t.y)}function mp(t){return t&&t!=="0%"}function Lu(t,i,s){const c=t-s,h=i*c;return s+h}function xp(t,i,s,c,h){return h!==void 0&&(t=Lu(t,h,c)),Lu(t,s,c)+i}function nd(t,i=0,s=1,c,h){t.min=xp(t.min,i,s,c,h),t.max=xp(t.max,i,s,c,h)}function Vm(t,{x:i,y:s}){nd(t.x,i.translate,i.scale,i.originPoint),nd(t.y,s.translate,s.scale,s.originPoint)}const yp=.999999999999,wp=1.0000000000001;function d3(t,i,s,c=!1){const h=s.length;if(!h)return;i.x=i.y=1;let p,y;for(let C=0;C<h;C++){p=s[C],y=p.projectionDelta;const{visualElement:v}=p.options;v&&v.props.style&&v.props.style.display==="contents"||(c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Po(t,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),y&&(i.x*=y.x.scale,i.y*=y.y.scale,Vm(t,y)),c&&Ks(p.latestValues)&&Po(t,p.latestValues))}i.x<wp&&i.x>yp&&(i.x=1),i.y<wp&&i.y>yp&&(i.y=1)}function Oo(t,i){t.min=t.min+i,t.max=t.max+i}function vp(t,i,s,c,h=.5){const p=rn(t.min,t.max,h);nd(t,i,s,p,c)}function Po(t,i){vp(t.x,i.x,i.scaleX,i.scale,i.originX),vp(t.y,i.y,i.scaleY,i.scale,i.originY)}function Wm(t,i){return Fm(s3(t.getBoundingClientRect(),i))}function h3(t,i,s){const c=Wm(t,s),{scroll:h}=i;return h&&(Oo(c.x,h.offset.x),Oo(c.y,h.offset.y)),c}const Hm=({current:t})=>t?t.ownerDocument.defaultView:null,Cp=(t,i)=>Math.abs(t-i);function p3(t,i){const s=Cp(t.x,i.x),c=Cp(t.y,i.y);return Math.sqrt(s**2+c**2)}class Gm{constructor(i,s,{transformPagePoint:c,contextWindow:h,dragSnapToOrigin:p=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Of(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,O=p3(T.offset,{x:0,y:0})>=3;if(!N&&!O)return;const{point:k}=T,{timestamp:B}=Wn;this.history.push({...k,timestamp:B});const{onStart:F,onMove:z}=this.handlers;N||(F&&F(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,T)},this.handlePointerMove=(T,N)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Df(N,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(T,N)=>{this.end();const{onEnd:O,onSessionEnd:k,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Of(T.type==="pointercancel"?this.lastMoveEventInfo:Df(N,this.transformPagePoint),this.history);this.startEvent&&O&&O(T,F),k&&k(T,F)},!Dd(i))return;this.dragSnapToOrigin=p,this.handlers=s,this.transformPagePoint=c,this.contextWindow=h||window;const y=nl(i),C=Df(y,this.transformPagePoint),{point:v}=C,{timestamp:x}=Wn;this.history=[{...v,timestamp:x}];const{onSessionStart:E}=s;E&&E(i,Of(C,this.history)),this.removeListeners=tl(ka(this.contextWindow,"pointermove",this.handlePointerMove),ka(this.contextWindow,"pointerup",this.handlePointerUp),ka(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),Cs(this.updatePoint)}}function Df(t,i){return i?{point:i(t.point)}:t}function Ep(t,i){return{x:t.x-i.x,y:t.y-i.y}}function Of({point:t},i){return{point:t,delta:Ep(t,Ym(i)),offset:Ep(t,g3(i)),velocity:m3(i,.1)}}function g3(t){return t[0]}function Ym(t){return t[t.length-1]}function m3(t,i){if(t.length<2)return{x:0,y:0};let s=t.length-1,c=null;const h=Ym(t);for(;s>=0&&(c=t[s],!(h.timestamp-c.timestamp>di(i)));)s--;if(!c)return{x:0,y:0};const p=hi(h.timestamp-c.timestamp);if(p===0)return{x:0,y:0};const y={x:(h.x-c.x)/p,y:(h.y-c.y)/p};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function x3(t,{min:i,max:s},c){return i!==void 0&&t<i?t=c?rn(i,t,c.min):Math.max(t,i):s!==void 0&&t>s&&(t=c?rn(s,t,c.max):Math.min(t,s)),t}function Ap(t,i,s){return{min:i!==void 0?t.min+i:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function y3(t,{top:i,left:s,bottom:c,right:h}){return{x:Ap(t.x,s,h),y:Ap(t.y,i,c)}}function Sp(t,i){let s=i.min-t.min,c=i.max-t.max;return i.max-i.min<t.max-t.min&&([s,c]=[c,s]),{min:s,max:c}}function w3(t,i){return{x:Sp(t.x,i.x),y:Sp(t.y,i.y)}}function v3(t,i){let s=.5;const c=or(t),h=or(i);return h>c?s=za(i.min,i.max-c,t.min):c>h&&(s=za(t.min,t.max-h,i.min)),Vi(0,1,s)}function C3(t,i){const s={};return i.min!==void 0&&(s.min=i.min-t.min),i.max!==void 0&&(s.max=i.max-t.min),s}const rd=.35;function E3(t=rd){return t===!1?t=0:t===!0&&(t=rd),{x:Tp(t,"left","right"),y:Tp(t,"top","bottom")}}function Tp(t,i,s){return{min:Ip(t,i),max:Ip(t,s)}}function Ip(t,i){return typeof t=="number"?t:t[i]||0}const A3=new WeakMap;class S3{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.visualElement=i}start(i,{snapToCursor:s=!1}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const h=E=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(nl(E).point)},p=(E,T)=>{const{drag:N,dragPropagation:O,onDragStart:k}=this.getProps();if(N&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wv(N),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wr(F=>{let z=this.getAxisMotionValue(F).get()||0;if(gi.test(z)){const{projection:H}=this.visualElement;if(H&&H.layout){const V=H.layout.layoutBox[F];V&&(z=or(V)*(parseFloat(z)/100))}}this.originPoint[F]=z}),k&&Gt.postRender(()=>k(E,T)),Hf(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},y=(E,T)=>{const{dragPropagation:N,dragDirectionLock:O,onDirectionLock:k,onDrag:B}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:F}=T;if(O&&this.currentDirection===null){this.currentDirection=T3(F),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",T.point,F),this.updateAxis("y",T.point,F),this.visualElement.render(),B&&B(E,T)},C=(E,T)=>this.stop(E,T),v=()=>Wr(E=>{var T;return this.getAnimationState(E)==="paused"&&((T=this.getAxisMotionValue(E).animation)==null?void 0:T.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new Gm(i,{onSessionStart:h,onStart:p,onMove:y,onSessionEnd:C,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:Hm(this.visualElement)})}stop(i,s){const c=this.isDragging;if(this.cancel(),!c)return;const{velocity:h}=s;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p&&Gt.postRender(()=>p(i,s))}cancel(){this.isDragging=!1;const{projection:i,animationState:s}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(i,s,c){const{drag:h}=this.getProps();if(!c||!xu(i,h,this.currentDirection))return;const p=this.getAxisMotionValue(i);let y=this.originPoint[i]+c[i];this.constraints&&this.constraints[i]&&(y=x3(y,this.constraints[i],this.elastic[i])),p.set(y)}resolveConstraints(){var p;const{dragConstraints:i,dragElastic:s}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(p=this.visualElement.projection)==null?void 0:p.layout,h=this.constraints;i&&Mo(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&c?this.constraints=y3(c.layoutBox,i):this.constraints=!1,this.elastic=E3(s),h!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&Wr(y=>{this.constraints!==!1&&this.getAxisMotionValue(y)&&(this.constraints[y]=C3(c.layoutBox[y],this.constraints[y]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:s}=this.getProps();if(!i||!Mo(i))return!1;const c=i.current,{projection:h}=this.visualElement;if(!h||!h.layout)return!1;const p=h3(c,h.root,this.visualElement.getTransformPagePoint());let y=w3(h.layout.layoutBox,p);if(s){const C=s(i3(y));this.hasMutatedConstraints=!!C,C&&(y=Fm(C))}return y}startAnimation(i){const{drag:s,dragMomentum:c,dragElastic:h,dragTransition:p,dragSnapToOrigin:y,onDragTransitionEnd:C}=this.getProps(),v=this.constraints||{},x=Wr(E=>{if(!xu(E,s,this.currentDirection))return;let T=v&&v[E]||{};y&&(T={min:0,max:0});const N=h?200:1e6,O=h?40:1e7,k={type:"inertia",velocity:c?i[E]:0,bounceStiffness:N,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...p,...T};return this.startAxisValueAnimation(E,k)});return Promise.all(x).then(C)}startAxisValueAnimation(i,s){const c=this.getAxisMotionValue(i);return Hf(this.visualElement,i),c.start(Jd(i,c,0,s,this.visualElement,!1))}stopAnimation(){Wr(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){Wr(i=>{var s;return(s=this.getAxisMotionValue(i).animation)==null?void 0:s.pause()})}getAnimationState(i){var s;return(s=this.getAxisMotionValue(i).animation)==null?void 0:s.state}getAxisMotionValue(i){const s=`_drag${i.toUpperCase()}`,c=this.visualElement.getProps(),h=c[s];return h||this.visualElement.getValue(i,(c.initial?c.initial[i]:void 0)||0)}snapToCursor(i){Wr(s=>{const{drag:c}=this.getProps();if(!xu(s,c,this.currentDirection))return;const{projection:h}=this.visualElement,p=this.getAxisMotionValue(s);if(h&&h.layout){const{min:y,max:C}=h.layout.layoutBox[s];p.set(i[s]-rn(y,C,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:s}=this.getProps(),{projection:c}=this.visualElement;if(!Mo(s)||!c||!this.constraints)return;this.stopAnimation();const h={x:0,y:0};Wr(y=>{const C=this.getAxisMotionValue(y);if(C&&this.constraints!==!1){const v=C.get();h[y]=v3({min:v,max:v},this.constraints[y])}});const{transformTemplate:p}=this.visualElement.getProps();this.visualElement.current.style.transform=p?p({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.resolveConstraints(),Wr(y=>{if(!xu(y,i,null))return;const C=this.getAxisMotionValue(y),{min:v,max:x}=this.constraints[y];C.set(rn(v,x,h[y]))})}addListeners(){if(!this.visualElement.current)return;A3.set(this.visualElement,this);const i=this.visualElement.current,s=ka(i,"pointerdown",v=>{const{drag:x,dragListener:E=!0}=this.getProps();x&&E&&this.start(v)}),c=()=>{const{dragConstraints:v}=this.getProps();Mo(v)&&v.current&&(this.constraints=this.resolveRefConstraints())},{projection:h}=this.visualElement,p=h.addEventListener("measure",c);h&&!h.layout&&(h.root&&h.root.updateScroll(),h.updateLayout()),Gt.read(c);const y=Ka(window,"resize",()=>this.scalePositionWithinConstraints()),C=h.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x})=>{this.isDragging&&x&&(Wr(E=>{const T=this.getAxisMotionValue(E);T&&(this.originPoint[E]+=v[E].translate,T.set(T.get()+v[E].translate))}),this.visualElement.render())});return()=>{y(),s(),p(),C&&C()}}getProps(){const i=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:c=!1,dragPropagation:h=!1,dragConstraints:p=!1,dragElastic:y=rd,dragMomentum:C=!0}=i;return{...i,drag:s,dragDirectionLock:c,dragPropagation:h,dragConstraints:p,dragElastic:y,dragMomentum:C}}}function xu(t,i,s){return(i===!0||i===t)&&(s===null||s===t)}function T3(t,i=10){let s=null;return Math.abs(t.y)>i?s="y":Math.abs(t.x)>i&&(s="x"),s}class I3 extends As{constructor(i){super(i),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new S3(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const bp=t=>(i,s)=>{t&&Gt.postRender(()=>t(i,s))};class b3 extends As{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(i){this.session=new Gm(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hm(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:s,onPan:c,onPanEnd:h}=this.node.getProps();return{onSessionStart:bp(i),onStart:bp(s),onMove:c,onEnd:(p,y)=>{delete this.session,h&&Gt.postRender(()=>h(p,y))}}}mount(){this.removePointerDownListener=ka(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Su={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Np(t,i){return i.max===i.min?0:t/(i.max-i.min)*100}const _a={correct:(t,i)=>{if(!i.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const s=Np(t,i.target.x),c=Np(t,i.target.y);return`${s}% ${c}%`}},N3={correct:(t,{treeScale:i,projectionDelta:s})=>{const c=t,h=Es.parse(t);if(h.length>5)return c;const p=Es.createTransformer(t),y=typeof h[0]!="number"?1:0,C=s.x.scale*i.x,v=s.y.scale*i.y;h[0+y]/=C,h[1+y]/=v;const x=rn(C,v,.5);return typeof h[2+y]=="number"&&(h[2+y]/=x),typeof h[3+y]=="number"&&(h[3+y]/=x),p(h)}};class R3 extends L.Component{componentDidMount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:c,layoutId:h}=this.props,{projection:p}=i;Yv(M3),p&&(s.group&&s.group.add(p),c&&c.register&&h&&c.register(p),p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),Su.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:s,visualElement:c,drag:h,isPresent:p}=this.props,y=c.projection;return y&&(y.isPresent=p,h||i.layoutDependency!==s||s===void 0||i.isPresent!==p?y.willUpdate():this.safeToRemove(),i.isPresent!==p&&(p?y.promote():y.relegate()||Gt.postRender(()=>{const C=y.getStack();(!C||!C.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),_d.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:c}=this.props,{projection:h}=i;h&&(h.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(h),c&&c.deregister&&c.deregister(h))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function Xm(t){const[i,s]=_g(),c=L.useContext(wd);return _.jsx(R3,{...t,layoutGroup:c,switchLayoutGroup:L.useContext(Gg),isPresent:i,safeToRemove:s})}const M3={borderRadius:{..._a,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_a,borderTopRightRadius:_a,borderBottomLeftRadius:_a,borderBottomRightRadius:_a,boxShadow:N3};function _3(t,i,s){const c=Jn(t)?t:Wa(t);return c.start(Jd("",c,i,s)),c.animation}function D3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const O3=(t,i)=>t.depth-i.depth;class P3{constructor(){this.children=[],this.isDirty=!1}add(i){Ad(this.children,i),this.isDirty=!0}remove(i){Sd(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(O3),this.isDirty=!1,this.children.forEach(i)}}function L3(t,i){const s=pi.now(),c=({timestamp:h})=>{const p=h-s;p>=i&&(Cs(c),t(p-i))};return Gt.read(c,!0),()=>Cs(c)}const Zm=["TopLeft","TopRight","BottomLeft","BottomRight"],k3=Zm.length,Rp=t=>typeof t=="string"?parseFloat(t):t,Mp=t=>typeof t=="number"||Je.test(t);function B3(t,i,s,c,h,p){h?(t.opacity=rn(0,s.opacity!==void 0?s.opacity:1,F3(c)),t.opacityExit=rn(i.opacity!==void 0?i.opacity:1,0,j3(c))):p&&(t.opacity=rn(i.opacity!==void 0?i.opacity:1,s.opacity!==void 0?s.opacity:1,c));for(let y=0;y<k3;y++){const C=`border${Zm[y]}Radius`;let v=_p(i,C),x=_p(s,C);if(v===void 0&&x===void 0)continue;v||(v=0),x||(x=0),v===0||x===0||Mp(v)===Mp(x)?(t[C]=Math.max(rn(Rp(v),Rp(x),c),0),(gi.test(x)||gi.test(v))&&(t[C]+="%")):t[C]=x}(i.rotate||s.rotate)&&(t.rotate=rn(i.rotate||0,s.rotate||0,c))}function _p(t,i){return t[i]!==void 0?t[i]:t.borderRadius}const F3=Km(0,.5,dm),j3=Km(.5,.95,Hr);function Km(t,i,s){return c=>c<t?0:c>i?1:s(za(t,i,c))}function Dp(t,i){t.min=i.min,t.max=i.max}function Vr(t,i){Dp(t.x,i.x),Dp(t.y,i.y)}function Op(t,i){t.translate=i.translate,t.scale=i.scale,t.originPoint=i.originPoint,t.origin=i.origin}function Pp(t,i,s,c,h){return t-=i,t=Lu(t,1/s,c),h!==void 0&&(t=Lu(t,1/h,c)),t}function U3(t,i=0,s=1,c=.5,h,p=t,y=t){if(gi.test(i)&&(i=parseFloat(i),i=rn(y.min,y.max,i/100)-y.min),typeof i!="number")return;let C=rn(p.min,p.max,c);t===p&&(C-=i),t.min=Pp(t.min,i,s,C,h),t.max=Pp(t.max,i,s,C,h)}function Lp(t,i,[s,c,h],p,y){U3(t,i[s],i[c],i[h],i.scale,p,y)}const z3=["x","scaleX","originX"],V3=["y","scaleY","originY"];function kp(t,i,s,c){Lp(t.x,i,z3,s?s.x:void 0,c?c.x:void 0),Lp(t.y,i,V3,s?s.y:void 0,c?c.y:void 0)}function Bp(t){return t.translate===0&&t.scale===1}function Qm(t){return Bp(t.x)&&Bp(t.y)}function Fp(t,i){return t.min===i.min&&t.max===i.max}function W3(t,i){return Fp(t.x,i.x)&&Fp(t.y,i.y)}function jp(t,i){return Math.round(t.min)===Math.round(i.min)&&Math.round(t.max)===Math.round(i.max)}function $m(t,i){return jp(t.x,i.x)&&jp(t.y,i.y)}function Up(t){return or(t.x)/or(t.y)}function zp(t,i){return t.translate===i.translate&&t.scale===i.scale&&t.originPoint===i.originPoint}class H3{constructor(){this.members=[]}add(i){Ad(this.members,i),i.scheduleRender()}remove(i){if(Sd(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(i){const s=this.members.findIndex(h=>i===h);if(s===0)return!1;let c;for(let h=s;h>=0;h--){const p=this.members[h];if(p.isPresent!==!1){c=p;break}}return c?(this.promote(c),!0):!1}promote(i,s){const c=this.lead;if(i!==c&&(this.prevLead=c,this.lead=i,i.show(),c)){c.instance&&c.scheduleRender(),i.scheduleRender(),i.resumeFrom=c,s&&(i.resumeFrom.preserveOpacity=!0),c.snapshot&&(i.snapshot=c.snapshot,i.snapshot.latestValues=c.animationValues||c.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:h}=i.options;h===!1&&c.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:s,resumingFrom:c}=i;s.onExitComplete&&s.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G3(t,i,s){let c="";const h=t.x.translate/i.x,p=t.y.translate/i.y,y=(s==null?void 0:s.z)||0;if((h||p||y)&&(c=`translate3d(${h}px, ${p}px, ${y}px) `),(i.x!==1||i.y!==1)&&(c+=`scale(${1/i.x}, ${1/i.y}) `),s){const{transformPerspective:x,rotate:E,rotateX:T,rotateY:N,skewX:O,skewY:k}=s;x&&(c=`perspective(${x}px) ${c}`),E&&(c+=`rotate(${E}deg) `),T&&(c+=`rotateX(${T}deg) `),N&&(c+=`rotateY(${N}deg) `),O&&(c+=`skewX(${O}deg) `),k&&(c+=`skewY(${k}deg) `)}const C=t.x.scale*i.x,v=t.y.scale*i.y;return(C!==1||v!==1)&&(c+=`scale(${C}, ${v})`),c||"none"}const Pf=["","X","Y","Z"],Y3={visibility:"hidden"},Vp=1e3;let X3=0;function Lf(t,i,s,c){const{latestValues:h}=i;h[t]&&(s[t]=h[t],i.setStaticValue(t,0),c&&(c[t]=0))}function qm(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:i}=t.options;if(!i)return;const s=sm(i);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:h,layoutId:p}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Gt,!(h||p))}const{parent:c}=t;c&&!c.hasCheckedOptimisedAppear&&qm(c)}function Jm({attachResizeListener:t,defaultParent:i,measureScroll:s,checkIsScrollRoot:c,resetTransform:h}){return class{constructor(y={},C=i==null?void 0:i()){this.id=X3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Q3),this.nodes.forEach(tA),this.nodes.forEach(nA),this.nodes.forEach($3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=y,this.root=C?C.root||C:this,this.path=C?[...C.path,C]:[],this.parent=C,this.depth=C?C.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new P3)}addEventListener(y,C){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new Id),this.eventHandlers.get(y).add(C)}notifyListeners(y,...C){const v=this.eventHandlers.get(y);v&&v.notify(...C)}hasListeners(y){return this.eventHandlers.has(y)}mount(y,C=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=D3(y),this.instance=y;const{layoutId:v,layout:x,visualElement:E}=this.options;if(E&&!E.current&&E.mount(y),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),C&&(x||v)&&(this.isLayoutDirty=!0),t){let T;const N=()=>this.root.updateBlockedByResize=!1;t(y,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=L3(N,250),Su.hasAnimatedSinceResize&&(Su.hasAnimatedSinceResize=!1,this.nodes.forEach(Hp))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&E&&(v||x)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:N,hasRelativeLayoutChanged:O,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||E.getDefaultTransition()||aA,{onLayoutAnimationStart:F,onLayoutAnimationComplete:z}=E.getProps(),H=!this.targetLayout||!$m(this.targetLayout,k),V=!N&&O;if(this.options.layoutRoot||this.resumeFrom||V||N&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,V);const ne={...Rd(B,"layout"),onPlay:F,onComplete:z};(E.shouldReduceMotion||this.options.layoutRoot)&&(ne.delay=0,ne.type=!1),this.startAnimation(ne)}else N||Hp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const y=this.getStack();y&&y.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rA),this.animationId++)}getTransformTemplate(){const{visualElement:y}=this.options;return y&&y.getProps().transformTemplate}willUpdate(y=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qm(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const T=this.path[E];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:C,layout:v}=this.options;if(C===void 0&&!v)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wp);return}this.isUpdating||this.nodes.forEach(J3),this.isUpdating=!1,this.nodes.forEach(eA),this.nodes.forEach(Z3),this.nodes.forEach(K3),this.clearAllSnapshots();const C=pi.now();Wn.delta=Vi(0,1e3/60,C-Wn.timestamp),Wn.timestamp=C,Wn.isProcessing=!0,If.update.process(Wn),If.preRender.process(Wn),If.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_d.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q3),this.sharedNodes.forEach(iA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!or(this.snapshot.measuredBox.x)&&!or(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const y=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:C}=this.options;C&&C.notify("LayoutMeasure",this.layout.layoutBox,y?y.layoutBox:void 0)}updateScroll(y="measure"){let C=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===y&&(C=!1),C){const v=c(this.instance);this.scroll={animationId:this.root.animationId,phase:y,isRoot:v,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:v}}}resetTransform(){if(!h)return;const y=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,C=this.projectionDelta&&!Qm(this.projectionDelta),v=this.getTransformTemplate(),x=v?v(this.latestValues,""):void 0,E=x!==this.prevTransformTemplateValue;y&&(C||Ks(this.latestValues)||E)&&(h(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const C=this.measurePageBox();let v=this.removeElementScroll(C);return y&&(v=this.removeTransform(v)),lA(v),{animationId:this.root.animationId,measuredBox:C,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){var x;const{visualElement:y}=this.options;if(!y)return yn();const C=y.measureViewportBox();if(!(((x=this.scroll)==null?void 0:x.wasRoot)||this.path.some(uA))){const{scroll:E}=this.root;E&&(Oo(C.x,E.offset.x),Oo(C.y,E.offset.y))}return C}removeElementScroll(y){var v;const C=yn();if(Vr(C,y),(v=this.scroll)!=null&&v.wasRoot)return C;for(let x=0;x<this.path.length;x++){const E=this.path[x],{scroll:T,options:N}=E;E!==this.root&&T&&N.layoutScroll&&(T.wasRoot&&Vr(C,y),Oo(C.x,T.offset.x),Oo(C.y,T.offset.y))}return C}applyTransform(y,C=!1){const v=yn();Vr(v,y);for(let x=0;x<this.path.length;x++){const E=this.path[x];!C&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Po(v,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Ks(E.latestValues)&&Po(v,E.latestValues)}return Ks(this.latestValues)&&Po(v,this.latestValues),v}removeTransform(y){const C=yn();Vr(C,y);for(let v=0;v<this.path.length;v++){const x=this.path[v];if(!x.instance||!Ks(x.latestValues))continue;td(x.latestValues)&&x.updateSnapshot();const E=yn(),T=x.measurePageBox();Vr(E,T),kp(C,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,E)}return Ks(this.latestValues)&&kp(C,this.latestValues),C}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(y=!1){var N;const C=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=C.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=C.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=C.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==C;if(!(y||v&&this.isSharedProjectionDirty||this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:T}=this.options;if(!(!this.layout||!(E||T))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const O=this.getClosestProjectingParent();O&&O.layout&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Fa(this.relativeTargetOrigin,this.layout.layoutBox,O.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),Vm(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const O=this.getClosestProjectingParent();O&&!!O.resumingFrom==!!this.resumingFrom&&!O.options.layoutScroll&&O.target&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Fa(this.relativeTargetOrigin,this.target,O.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||td(this.parent.latestValues)||zm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const y=this.getLead(),C=!!this.resumingFrom||this!==y;let v=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(v=!1),C&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(v=!1),v)return;const{layout:x,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||E))return;Vr(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,N=this.treeScale.y;d3(this.layoutCorrected,this.treeScale,this.path,C),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=yn());const{target:O}=y;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Op(this.prevProjectionDelta.x,this.projectionDelta.x),Op(this.prevProjectionDelta.y,this.projectionDelta.y)),Ba(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==N||!zp(this.projectionDelta.x,this.prevProjectionDelta.x)||!zp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){var C;if((C=this.options.visualElement)==null||C.scheduleRender(),y){const v=this.getStack();v&&v.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(y,C=!1){const v=this.snapshot,x=v?v.latestValues:{},E={...this.latestValues},T=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!C;const N=yn(),O=v?v.source:void 0,k=this.layout?this.layout.source:void 0,B=O!==k,F=this.getStack(),z=!F||F.members.length<=1,H=!!(B&&!z&&this.options.crossfade===!0&&!this.path.some(oA));this.animationProgress=0;let V;this.mixTargetDelta=ne=>{const se=ne/1e3;Gp(T.x,y.x,se),Gp(T.y,y.y,se),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fa(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sA(this.relativeTarget,this.relativeTargetOrigin,N,se),V&&W3(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=yn()),Vr(V,this.relativeTarget)),B&&(this.animationValues=E,B3(E,x,this.latestValues,se,H,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(y){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Su.hasAnimatedSinceResize=!0,this.currentAnimation=_3(0,Vp,{...y,onUpdate:C=>{this.mixTargetDelta(C),y.onUpdate&&y.onUpdate(C)},onStop:()=>{},onComplete:()=>{y.onComplete&&y.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const y=this.getStack();y&&y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:C,target:v,layout:x,latestValues:E}=y;if(!(!C||!v||!x)){if(this!==y&&this.layout&&x&&ex(this.options.animationType,this.layout.layoutBox,x.layoutBox)){v=this.target||yn();const T=or(this.layout.layoutBox.x);v.x.min=y.target.x.min,v.x.max=v.x.min+T;const N=or(this.layout.layoutBox.y);v.y.min=y.target.y.min,v.y.max=v.y.min+N}Vr(C,v),Po(C,E),Ba(this.projectionDeltaWithTransform,this.layoutCorrected,C,E)}}registerSharedNode(y,C){this.sharedNodes.has(y)||this.sharedNodes.set(y,new H3),this.sharedNodes.get(y).add(C);const x=C.options.initialPromotionConfig;C.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(C):void 0})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){var C;const{layoutId:y}=this.options;return y?((C=this.getStack())==null?void 0:C.lead)||this:this}getPrevLead(){var C;const{layoutId:y}=this.options;return y?(C=this.getStack())==null?void 0:C.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:C,preserveFollowOpacity:v}={}){const x=this.getStack();x&&x.promote(this,v),y&&(this.projectionDelta=void 0,this.needsReset=!0),C&&this.setOptions({transition:C})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetSkewAndRotation(){const{visualElement:y}=this.options;if(!y)return;let C=!1;const{latestValues:v}=y;if((v.z||v.rotate||v.rotateX||v.rotateY||v.rotateZ||v.skewX||v.skewY)&&(C=!0),!C)return;const x={};v.z&&Lf("z",y,x,this.animationValues);for(let E=0;E<Pf.length;E++)Lf(`rotate${Pf[E]}`,y,x,this.animationValues),Lf(`skew${Pf[E]}`,y,x,this.animationValues);y.render();for(const E in x)y.setStaticValue(E,x[E]),this.animationValues&&(this.animationValues[E]=x[E]);y.scheduleRender()}getProjectionStyles(y){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Y3;const C={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,C.opacity="",C.pointerEvents=Au(y==null?void 0:y.pointerEvents)||"",C.transform=v?v(this.latestValues,""):"none",C;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Au(y==null?void 0:y.pointerEvents)||""),this.hasProjected&&!Ks(this.latestValues)&&(O.transform=v?v({},""):"none",this.hasProjected=!1),O}const E=x.animationValues||x.latestValues;this.applyTransformsToTarget(),C.transform=G3(this.projectionDeltaWithTransform,this.treeScale,E),v&&(C.transform=v(E,C.transform));const{x:T,y:N}=this.projectionDelta;C.transformOrigin=`${T.origin*100}% ${N.origin*100}% 0`,x.animationValues?C.opacity=x===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:C.opacity=x===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const O in Ga){if(E[O]===void 0)continue;const{correct:k,applyTo:B,isCSSVariable:F}=Ga[O],z=C.transform==="none"?E[O]:k(E[O],x);if(B){const H=B.length;for(let V=0;V<H;V++)C[B[V]]=z}else F?this.options.visualElement.renderState.vars[O]=z:C[O]=z}return this.options.layoutId&&(C.pointerEvents=x===this?Au(y==null?void 0:y.pointerEvents)||"":"none"),C}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>{var C;return(C=y.currentAnimation)==null?void 0:C.stop()}),this.root.nodes.forEach(Wp),this.root.sharedNodes.clear()}}}function Z3(t){t.updateLayout()}function K3(t){var s;const i=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:c,measuredBox:h}=t.layout,{animationType:p}=t.options,y=i.source!==t.layout.source;p==="size"?Wr(T=>{const N=y?i.measuredBox[T]:i.layoutBox[T],O=or(N);N.min=c[T].min,N.max=N.min+O}):ex(p,i.layoutBox,c)&&Wr(T=>{const N=y?i.measuredBox[T]:i.layoutBox[T],O=or(c[T]);N.max=N.min+O,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+O)});const C=Do();Ba(C,c,i.layoutBox);const v=Do();y?Ba(v,t.applyTransform(h,!0),i.measuredBox):Ba(v,c,i.layoutBox);const x=!Qm(C);let E=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:N,layout:O}=T;if(N&&O){const k=yn();Fa(k,i.layoutBox,N.layoutBox);const B=yn();Fa(B,c,O.layoutBox),$m(k,B)||(E=!0),T.options.layoutRoot&&(t.relativeTarget=B,t.relativeTargetOrigin=k,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:c,snapshot:i,delta:v,layoutDelta:C,hasLayoutChanged:x,hasRelativeLayoutChanged:E})}else if(t.isLead()){const{onExitComplete:c}=t.options;c&&c()}t.options.transition=void 0}function Q3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q3(t){t.clearSnapshot()}function Wp(t){t.clearMeasurements()}function J3(t){t.isLayoutDirty=!1}function eA(t){const{visualElement:i}=t.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),t.resetTransform()}function Hp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tA(t){t.resolveTargetDelta()}function nA(t){t.calcProjection()}function rA(t){t.resetSkewAndRotation()}function iA(t){t.removeLeadSnapshot()}function Gp(t,i,s){t.translate=rn(i.translate,0,s),t.scale=rn(i.scale,1,s),t.origin=i.origin,t.originPoint=i.originPoint}function Yp(t,i,s,c){t.min=rn(i.min,s.min,c),t.max=rn(i.max,s.max,c)}function sA(t,i,s,c){Yp(t.x,i.x,s.x,c),Yp(t.y,i.y,s.y,c)}function oA(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aA={duration:.45,ease:[.4,0,.1,1]},Xp=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Zp=Xp("applewebkit/")&&!Xp("chrome/")?Math.round:Hr;function Kp(t){t.min=Zp(t.min),t.max=Zp(t.max)}function lA(t){Kp(t.x),Kp(t.y)}function ex(t,i,s){return t==="position"||t==="preserve-aspect"&&!c3(Up(i),Up(s),.2)}function uA(t){var i;return t!==t.root&&((i=t.scroll)==null?void 0:i.wasRoot)}const cA=Jm({attachResizeListener:(t,i)=>Ka(t,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kf={current:void 0},tx=Jm({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kf.current){const t=new cA({});t.mount(window),t.setOptions({layoutScroll:!0}),kf.current=t}return kf.current},resetTransform:(t,i)=>{t.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fA={pan:{Feature:b3},drag:{Feature:I3,ProjectionNode:tx,MeasureLayout:Xm}};function Qp(t,i,s){const{props:c}=t;t.animationState&&c.whileHover&&t.animationState.setActive("whileHover",s==="Start");const h="onHover"+s,p=c[h];p&&Gt.postRender(()=>p(i,nl(i)))}class dA extends As{mount(){const{current:i}=this.node;i&&(this.unmount=Cv(i,(s,c)=>(Qp(this.node,c,"Start"),h=>Qp(this.node,h,"End"))))}unmount(){}}class hA extends As{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tl(Ka(this.node.current,"focus",()=>this.onFocus()),Ka(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $p(t,i,s){const{props:c}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&c.whileTap&&t.animationState.setActive("whileTap",s==="Start");const h="onTap"+(s==="End"?"":s),p=c[h];p&&Gt.postRender(()=>p(i,nl(i)))}class pA extends As{mount(){const{current:i}=this.node;i&&(this.unmount=Tv(i,(s,c)=>($p(this.node,c,"Start"),(h,{success:p})=>$p(this.node,h,p?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const id=new WeakMap,Bf=new WeakMap,gA=t=>{const i=id.get(t.target);i&&i(t)},mA=t=>{t.forEach(gA)};function xA({root:t,...i}){const s=t||document;Bf.has(s)||Bf.set(s,{});const c=Bf.get(s),h=JSON.stringify(i);return c[h]||(c[h]=new IntersectionObserver(mA,{root:t,...i})),c[h]}function yA(t,i,s){const c=xA(i);return id.set(t,s),c.observe(t),()=>{id.delete(t),c.unobserve(t)}}const wA={some:0,all:1};class vA extends As{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:s,margin:c,amount:h="some",once:p}=i,y={root:s?s.current:void 0,rootMargin:c,threshold:typeof h=="number"?h:wA[h]},C=v=>{const{isIntersecting:x}=v;if(this.isInView===x||(this.isInView=x,p&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:E,onViewportLeave:T}=this.node.getProps(),N=x?E:T;N&&N(v)};return yA(this.node.current,y,C)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:s}=this.node;["amount","margin","root"].some(CA(i,s))&&this.startObserver()}unmount(){}}function CA({viewport:t={}},{viewport:i={}}={}){return s=>t[s]!==i[s]}const EA={inView:{Feature:vA},tap:{Feature:pA},focus:{Feature:hA},hover:{Feature:dA}},AA={layout:{ProjectionNode:tx,MeasureLayout:Xm}},sd={current:null},nx={current:!1};function SA(){if(nx.current=!0,!!Cd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),i=()=>sd.current=t.matches;t.addListener(i),i()}else sd.current=!1}const TA=[...bm,qn,Es],IA=t=>TA.find(Im(t)),bA=new WeakMap;function NA(t,i,s){for(const c in i){const h=i[c],p=s[c];if(Jn(h))t.addValue(c,h);else if(Jn(p))t.addValue(c,Wa(h,{owner:t}));else if(p!==h)if(t.hasValue(c)){const y=t.getValue(c);y.liveStyle===!0?y.jump(h):y.hasAnimated||y.set(h)}else{const y=t.getStaticValue(c);t.addValue(c,Wa(y!==void 0?y:h,{owner:t}))}}for(const c in s)i[c]===void 0&&t.removeValue(c);return i}const qp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RA{scrapeMotionValuesFromProps(i,s,c){return{}}constructor({parent:i,props:s,presenceContext:c,reducedMotionConfig:h,blockInitialAnimation:p,visualState:y},C={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const O=pi.now();this.renderScheduledAt<O&&(this.renderScheduledAt=O,Gt.render(this.render,!1,!0))};const{latestValues:v,renderState:x,onUpdate:E}=y;this.onUpdate=E,this.latestValues=v,this.baseTarget={...v},this.initialValues=s.initial?{...v}:{},this.renderState=x,this.parent=i,this.props=s,this.presenceContext=c,this.depth=i?i.depth+1:0,this.reducedMotionConfig=h,this.options=C,this.blockInitialAnimation=!!p,this.isControllingVariants=Hu(s),this.isVariantNode=Wg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:T,...N}=this.scrapeMotionValuesFromProps(s,{},this);for(const O in N){const k=N[O];v[O]!==void 0&&Jn(k)&&k.set(v[O],!1)}}mount(i){this.current=i,bA.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,c)=>this.bindToMotionValue(c,s)),nx.current||SA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cs(this.notifyUpdate),Cs(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(i,s){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const c=to.has(i);c&&this.onBindTransform&&this.onBindTransform();const h=s.on("change",C=>{this.latestValues[i]=C,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),c&&this.projection&&(this.projection.isTransformDirty=!0)}),p=s.on("renderRequest",this.scheduleRender);let y;window.MotionCheckAppearSync&&(y=window.MotionCheckAppearSync(this,i,s)),this.valueSubscriptions.set(i,()=>{h(),p(),y&&y(),s.owner&&s.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in Bo){const s=Bo[i];if(!s)continue;const{isEnabled:c,Feature:h}=s;if(!this.features[i]&&h&&c(this.props)&&(this.features[i]=new h(this)),this.features[i]){const p=this.features[i];p.isMounted?p.update():(p.mount(),p.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,s){this.latestValues[i]=s}update(i,s){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let c=0;c<qp.length;c++){const h=qp[c];this.propEventSubscriptions[h]&&(this.propEventSubscriptions[h](),delete this.propEventSubscriptions[h]);const p="on"+h,y=i[p];y&&(this.propEventSubscriptions[h]=this.on(h,y))}this.prevMotionValues=NA(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(i),()=>s.variantChildren.delete(i)}addValue(i,s){const c=this.values.get(i);s!==c&&(c&&this.removeValue(i),this.bindToMotionValue(i,s),this.values.set(i,s),this.latestValues[i]=s.get())}removeValue(i){this.values.delete(i);const s=this.valueSubscriptions.get(i);s&&(s(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,s){if(this.props.values&&this.props.values[i])return this.props.values[i];let c=this.values.get(i);return c===void 0&&s!==void 0&&(c=Wa(s===null?void 0:s,{owner:this}),this.addValue(i,c)),c}readValue(i,s){let c=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return c!=null&&(typeof c=="string"&&(Sm(c)||pm(c))?c=parseFloat(c):!IA(c)&&Es.test(s)&&(c=Cm(i,s)),this.setBaseTarget(i,Jn(c)?c.get():c)),Jn(c)?c.get():c}setBaseTarget(i,s){this.baseTarget[i]=s}getBaseTarget(i){var p;const{initial:s}=this.props;let c;if(typeof s=="string"||typeof s=="object"){const y=Hd(this.props,s,(p=this.presenceContext)==null?void 0:p.custom);y&&(c=y[i])}if(s&&c!==void 0)return c;const h=this.getBaseTargetFromProps(this.props,i);return h!==void 0&&!Jn(h)?h:this.initialValues[i]!==void 0&&c===void 0?void 0:this.baseTarget[i]}on(i,s){return this.events[i]||(this.events[i]=new Id),this.events[i].add(s)}notify(i,...s){this.events[i]&&this.events[i].notify(...s)}}class rx extends RA{constructor(){super(...arguments),this.KeyframeResolver=Nm}sortInstanceNodePosition(i,s){return i.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(i,s){return i.style?i.style[s]:void 0}removeValueFromRenderState(i,{vars:s,style:c}){delete s[i],delete c[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Jn(i)&&(this.childSubscription=i.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function MA(t){return window.getComputedStyle(t)}class _A extends rx{constructor(){super(...arguments),this.type="html",this.renderInstance=em}readValueFromInstance(i,s){if(to.has(s))return WC(i,s);{const c=MA(i),h=(kd(s)?c.getPropertyValue(s):c[s])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(i,{transformPagePoint:s}){return Wm(i,s)}build(i,s,c){jd(i,s,c.transformTemplate)}scrapeMotionValuesFromProps(i,s,c){return Gd(i,s,c)}}class DA extends rx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Jg(this.current,this.renderState)}}getBaseTargetFromProps(i,s){return i[s]}readValueFromInstance(i,s){if(to.has(s)){const c=vm(s);return c&&c.default||0}return s=tm.has(s)?s:Ld(s),i.getAttribute(s)}scrapeMotionValuesFromProps(i,s,c){return rm(i,s,c)}onBindTransform(){this.current&&!this.renderState.dimensions&&Gt.postRender(this.updateDimensions)}build(i,s,c){Vd(i,s,this.isSVGTag,c.transformTemplate)}renderInstance(i,s,c,h){nm(i,s,c,h)}mount(i){this.isSVGTag=Wd(i.tagName),super.mount(i)}}const OA=(t,i)=>zd(t)?new DA(i):new _A(i,{allowProjection:t!==L.Fragment}),PA=mC({...n3,...EA,...fA,...AA},OA),Bi=Dv(PA),LA=()=>{const{login:t,signup:i,user:s,logout:c,checkAuth:h}=L.useContext(xi),[p,y]=L.useState(""),[C,v]=L.useState(""),[x,E]=L.useState(""),[T,N]=L.useState(null),[O,k]=L.useState(null),[B,F]=L.useState(""),[z,H]=L.useState(0),[V,ne]=L.useState({x:0,y:0}),[se,ce]=L.useState(1),[q,ue]=L.useState(null),[te,_e]=L.useState(!1),[Le,Ne]=L.useState(!1),[Ge,Re]=L.useState({}),[Q,Ve]=L.useState({}),[Se,he]=L.useState(!1),[De,fe]=L.useState(!1),[Z,re]=L.useState(null),me=ni(),we=vi(),We=new URLSearchParams(we.search),pe=We.get("redirect"),Ue=We.get("code");L.useEffect(()=>{z===2&&x&&ft(x)&&(he(!0),Ve($e=>({...$e,displayName:!0})),Re($e=>({...$e,displayName:""})))},[z,x]);const Me=$e=>{const At=/^[a-z0-9]+$/;return $e.length>=2&&At.test($e)},it=$e=>$e.length>=2,ft=$e=>$e.length>=2,_t=()=>{z<ve.length-1&&(z===0&&!x&&(E(p),Ve($e=>({...$e,displayName:!0})),Re($e=>({...$e,displayName:""}))),z===1&&x&&x.length>=2?he(!0):he(!1),H($e=>$e+1))},er=()=>{if(z>0){const $e=z-1;H($e);const At=ve[$e];if(At.validate){const St=At.value;At.validate(St)&&he(!0)}else he(!0)}},ot=($e,At,St)=>{St($e.target.value);const Pn=$e.target.value;At(Pn)?(Ve(wt=>({...wt,[ve[z].id]:!0})),Re(wt=>({...wt,[ve[z].id]:""})),he(!0)):(Ve(wt=>({...wt,[ve[z].id]:!1})),Re(wt=>({...wt,[ve[z].id]:"Must be at least 2 characters"})),he(!1))},Hn=$e=>{const At=$e.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(At),Me(At)?(Ve(St=>({...St,username:!0})),Re(St=>({...St,username:""})),he(!0)):(Ve(St=>({...St,username:!1})),Re(St=>({...St,username:"Must be at least 2 characters"})),he(!1))},Ut=$e=>{ot($e,it,v)},gr=$e=>{ot($e,ft,E)},xt=$e=>{const At=$e.target.files[0];if(At){const St=new FileReader;St.onload=Pn=>{const wt=new Image;wt.onload=()=>{let Kt=wt.width,Dt=wt.height;const Lt=1500;Kt>Dt&&Kt>Lt?(Dt=Dt*Lt/Kt,Kt=Lt):Dt>Kt&&Dt>Lt&&(Kt=Kt*Lt/Dt,Dt=Lt);const Ln=document.createElement("canvas");Ln.width=Kt,Ln.height=Dt,Ln.getContext("2d").drawImage(wt,0,0,Kt,Dt);const Ci=Ln.toDataURL("image/jpeg",.75);N(At),k(Ci),_e(!0),Ve(It=>({...It,image:!0})),Re(It=>({...It,image:""})),he(!0)},wt.src=Pn.target.result},St.readAsDataURL(At)}},yt=($e,At)=>{ue(At)},tt=async()=>{try{const $e=await sg(O,q);k($e),_e(!1)}catch($e){console.error("Error cropping the image:",$e),F("Failed to crop image. Please try again.")}},ar=async $e=>{if($e.preventDefault(),Ne(!0),F(""),!p||!C||!x){F("All fields are required"),Ne(!1);return}if(!T||!O){F("Your profile picture is required👆🏼"),Ne(!1);return}try{const St=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:p,password:C})}),Pn=await St.json();if(Pn.error==="Username already taken"){F("Username is taken"),Ne(!1);return}if(!St.ok){F(Pn.message||"Signup failed"),Ne(!1);return}t(Pn),await h();const wt=localStorage.getItem("access_token");if(!wt)throw new Error("Authentication failed");let Kt=null;if(T)Kt=O,Kt=Kt.split(",")[1];else{const tr=await(await(await fetch("/assets/fakeprofile.png")).blob()).arrayBuffer();Kt=btoa(new Uint8Array(tr).reduce((Ci,It)=>Ci+String.fromCharCode(It),""))}if(!(await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${wt}`,"Content-Type":"application/json"},body:JSON.stringify({name:x,image_data:Kt})})).ok)throw new Error("Failed to update profile");await h(),me(pe==="lobby"?Ue?`/lobby?code=${Ue}`:"/?showLobbyModal=true":pe==="product-selection"?"/product-selection":"/")}catch(At){console.error("Error:",At),F("An error occurred. Please try again.")}Ne(!1)},ve=[{id:"username",label:"Username",value:p,onChange:Hn,type:"text",placeholder:"Enter a username",validate:Me},{id:"password",label:"Password",value:C,onChange:Ut,type:"text",placeholder:"Create a password",validate:it},{id:"displayName",label:"Display Name (what people will see)",value:x,onChange:gr,type:"text",placeholder:"Enter your preferred name",validate:ft},{id:"image",label:"Upload a Selfie so people can find you",type:"file",onChange:xt,accept:"image/*"}];return _.jsxs("div",{className:"signup-container",children:[_.jsx("button",{onClick:()=>me("/"),className:"homescreen-button",children:"Home"}),_.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),_.jsx("h3",{className:"signup-header",children:"Sign Up to Join"}),_.jsxs("p",{className:"login-link-text",children:["Already have an account? ",_.jsx("a",{href:"#",onClick:$e=>{$e.preventDefault(),me("/login")},className:"login-link",children:"Login here"})]}),_.jsxs("div",{className:"step-form-container",children:[_.jsx("div",{className:"step-progress",children:ve.map(($e,At)=>_.jsx("div",{className:`progress-dot ${At===z?"active":""} ${At<z?"completed":""}`},At))}),_.jsxs("form",{onSubmit:ar,children:[_.jsx(L1,{mode:"wait",initial:!1,children:_.jsxs(Bi.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{type:"spring",stiffness:500,damping:25,mass:.3},className:"step active",style:{willChange:"transform, opacity"},children:[_.jsx("div",{className:"step-content",children:_.jsxs(Bi.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[_.jsx("label",{className:"step-label",children:ve[z].label}),_.jsx(Bi.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.15,ease:"easeOut"},children:ve[z].type==="file"?_.jsx("div",{className:"image-upload-container",children:te?_.jsxs("div",{className:"cropper-container",children:[_.jsx("div",{className:"cropper-wrapper",children:_.jsx(ig,{image:O,crop:V,zoom:se,aspect:1,onCropComplete:yt,onCropChange:ne,onZoomChange:ce})}),_.jsxs("div",{className:"cropper-controls",children:[_.jsx("button",{type:"button",onClick:()=>{_e(!1),k(null),N(null)},className:"cancel-crop-button",children:"Cancel"}),_.jsx("button",{type:"button",onClick:tt,className:"save-crop-button",children:"Good"})]})]}):_.jsxs(_.Fragment,{children:[_.jsx("input",{type:"file",onChange:ve[z].onChange,accept:ve[z].accept,className:"step-input"}),O&&_.jsx("div",{children:_.jsx("img",{src:O,alt:"Profile preview",className:"profile-preview-image"})})]})}):_.jsx("input",{type:ve[z].type,value:ve[z].value,onChange:ve[z].onChange,placeholder:ve[z].placeholder,className:"step-input",autoFocus:!0})}),_.jsxs(L1,{mode:"wait",children:[Ge[ve[z].id]&&_.jsx(Bi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"step-error",children:Ge[ve[z].id]}),Q[ve[z].id]&&_.jsx(Bi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"step-success",children:"✓ Valid"})]})]})}),!te&&_.jsxs("div",{className:"button-container",children:[z>0&&_.jsx(Bi.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:er,className:"backz-button",children:"← Back"}),Se&&z<ve.length-1&&_.jsx(Bi.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:_t,className:"nextz-button",children:"Next →"})]})]},z)}),B&&_.jsx(Bi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"error-message",children:B}),z===ve.length-1&&_.jsx(Bi.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},type:"submit",className:"primary-button",disabled:Le,children:Le?"Loading...":"Complete Signup"})]})]})]})},kA=5e3,ix=(t,i=null,s=null)=>{L.useEffect(()=>{const c=async()=>{try{const p=s?`${window.server_url}/display_lobby_metadata?lobby_code=${s}`:`${window.server_url}/display_lobby_metadata`,y=localStorage.getItem("access_token"),C=await fetch(p,{headers:{Authorization:`Bearer ${y}`,lobby_code:s}});if(!C.ok){console.error("Failed to fetch lobby metadata");return}const v=await C.json();t(v.player_count),i&&i(v.lobby_state)}catch(p){console.error("Error fetching lobby metadata:",p)}};c();const h=setInterval(c,kA);return()=>clearInterval(h)},[t,i,s])},BA=()=>{const[t,i]=L.useState(!1),[s,c]=L.useState(!1),[h,p]=L.useState(""),[y,C]=L.useState(""),[v,x]=L.useState(""),[E,T]=L.useState(null);Eg();const{user:N,userProfile:O,checkAuth:k,permissions:B}=L.useContext(xi),[F,z]=L.useState(null),[H,V]=L.useState(null),[ne,se]=L.useState([]),[ce,q]=L.useState(!1),ue=ni();ix(z,V);const[te,_e]=L.useState(!1);L.useRef(null);const Le=L.useRef(null),Ne=async()=>{if(N){q(!0);try{const fe=localStorage.getItem("access_token"),Z=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${fe}`}});if(Z.ok){const re=await Z.json();console.log("User's active lobbies:",re),re&&re.lobbies&&Array.isArray(re.lobbies)?se(re.lobbies):se([])}else console.error("Failed to fetch user's active lobbies"),se([])}catch(fe){console.error("Error fetching user's active lobbies:",fe),se([])}finally{q(!1)}}};L.useEffect(()=>{N&&Ne()},[N]),L.useEffect(()=>{k()},[]),L.useEffect(()=>{if(new URLSearchParams(window.location.search).get("showLobbyModal")==="true"&&N){c(!0);const re=window.location.pathname;window.history.replaceState({},"",re)}},[N]);const Ge=fe=>{(B==="admin"||B==="organizer")&&ue(`/admin_lobby_view?code=${fe}`)},Re=fe=>{fe.preventDefault();const re=new FormData(fe.target).get("name");if(!re||re.trim()===""){C("Please enter a lobby code");return}const me=re.toLowerCase().replace(/[^a-z0-9]/g,"");if(me===""){C("Lobby code must contain only letters and numbers");return}x(me),c(!1),console.log(me),p(me),ue(`/lobby?code=${me}`),p(""),C("")},Q=()=>{_e(!0),setTimeout(()=>{if(!document.getElementById("qr-reader")){console.error("QR reader element not found"),_e(!1);return}const Z=new nv("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,disableFlip:!1,rememberLastUsedCamera:!0,showScanButton:!1,showStopButton:!1},!1);Le.current=Z,Z.render(Ve,Se),setTimeout(()=>{const re=document.querySelectorAll("#qr-reader__dashboard button");if(re.length>0){const me=re[re.length-1];me.style.display="none"}},500)},100)},Ve=fe=>{he(),window.location.href=fe},Se=fe=>{fe&&fe.includes&&(fe.includes("No MultiFormat Readers")||fe.includes("No MultiFormat Readers")||fe.includes("No MultiFormat Readers"))&&console.warn(`QR code scanning error: ${fe}`)},he=()=>{_e(!1),Le.current&&(Le.current.clear(),Le.current=null)},De=()=>s?_.jsx("div",{className:"lobby-modal-overlay",children:_.jsxs("div",{className:"lobby-modal-container",children:[_.jsx("button",{onClick:()=>{c(!1),p(""),C(""),he()},className:"lobby-modal-close",children:"×"}),_.jsx("h2",{className:"lobby-modal-title",children:"Join Lobby"}),_.jsxs("form",{onSubmit:Re,className:"lobby-form",children:[_.jsxs("div",{className:"lobby-input-container",children:[_.jsx("input",{type:"text",name:"name",placeholder:"Enter Lobby Code",className:"lobby-input",pattern:"[a-zA-Z0-9]+",title:"Only letters and numbers are allowed",required:!0}),y&&_.jsx("div",{className:"lobby-error-message",children:y})]}),_.jsx("button",{type:"submit",className:"lobby-submit-button",children:"Join"}),te?_.jsxs("div",{className:"lobby-scan-container",children:[_.jsx("div",{id:"qr-reader",className:"lobby-scan-video"}),_.jsx("button",{type:"button",className:"lobby-scan-close",onClick:he,children:"Close Scanner"})]}):_.jsx("button",{type:"button",className:"lobby-scan-button",onClick:Q,children:"Scan"})]})]})}):null;return _.jsxs("div",{style:{position:"relative",height:"100vh",overflow:"hidden"},children:[_.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/assets/demo_app_home_video_cover.jpg",children:[_.jsx("source",{src:"/assets/demo_app_home_video_X2_small.mp4",type:"video/mp4"}),_.jsx("source",{src:"/assets/app_home_video_2.webm",type:"video/webm"}),_.jsx("img",{src:"/assets/demo_app_home_video_cover.jpg",alt:"Background fallback",style:{width:"100%",height:"100%",objectFit:"cover"}}),"Your browser does not support the video tag."]}),_.jsxs("div",{style:{position:"relative",zIndex:1,color:"white"},children:[_.jsx("div",{style:{position:"absolute",top:"-.5rem",left:"50%",transform:"translateX(-50%)"},children:_.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Logo",style:{width:"120px",height:"120px",objectFit:"contain"}})}),_.jsxs("div",{style:{marginTop:"10%",display:"flex",flexDirection:"column"},children:[_.jsx(rv,{user:N}),N&&_.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",top:"-.8rem",right:"3%"},children:_.jsx("button",{style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},className:"login-button",onClick:()=>i(!0),children:_.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Profile"})})})]}),t&&_.jsx(Y2,{onSubmit:fe=>{i(!1)},onClose:()=>i(!1),existingProfile:O}),_.jsx("div",{style:{position:"absolute",top:"5rem",left:"50%",transform:"translateX(-50%)",width:"90%",maxWidth:"1200px",textAlign:"center",marginBottom:"4rem",marginLeft:"auto",marginRight:"auto",zIndex:1},children:_.jsx("h2",{className:"welcome-header",style:{color:"#ffffff",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:"4px 4px 8px rgba(0,0,0,0.9)",margin:0},children:N&&O&&(B==="admin"||B==="organizer")?(()=>{const fe="Elevate your events",Z=O?O.name.slice(0,15):"";return _.jsxs(_.Fragment,{children:[fe.split("").map((re,me)=>_.jsx("span",{style:{"--i":me+1,marginRight:re===" "?"0.5em":"1px"},children:re},`main-${me}`)),_.jsx("br",{}),Z&&Z.split("").map((re,me)=>_.jsx("span",{style:{"--i":me+1,marginRight:re===" "?"0.5em":"1px"},children:re},`name-${me}`))]})})():(N&&O?`Break the Ice ${O.name.slice(0,10)}`:"Break the Ice").split("").map((Z,re)=>_.jsx("span",{style:{"--i":re+1,marginRight:Z===" "?"0.5em":"1px"},children:Z},re))})}),_.jsx("div",{style:{marginTop:"20rem",width:"94%",marginLeft:"auto",marginRight:"auto",display:"flex",flexDirection:"column",gap:"1rem"},children:_.jsx("div",{className:"event-item",style:{width:"50%",maxWidth:"400px",margin:"0 auto",padding:"10px 20px",borderRadius:"16px",marginBottom:"20px",cursor:"pointer",opacity:1,display:"flex",flexDirection:"column",alignItems:"center",":hover":{transform:"translateY(-5px)"}},children:_.jsxs("div",{style:{display:"flex",gap:"18px",flexDirection:"column"},children:[_.jsx("button",{className:`primary-button ${B!=="admin"&&B!=="organizer"?"join-lobby-button":""}`,onClick:()=>N?c(!0):ue("/signup?redirect=lobby"),disabled:F===null||H==="terminate",style:{opacity:1,cursor:F===null||H==="terminate"?"not-allowed":"pointer",padding:"12px 24px",backgroundColor:B!=="admin"&&B!=="organizer"?"transparent":"#144dff",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",margin:"0 auto",display:"block",position:"relative",zIndex:1,outline:B!=="admin"&&B!=="organizer"?"none":"1px solid rgba(58, 53, 53, 0.7)",":hover":{backgroundColor:B!=="admin"&&B!=="organizer"?"transparent":"#535bf2",transform:"scale(1.02)"}},children:_.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Join A Lobby"})}),B!=="admin"&&B!=="organizer"&&_.jsx("button",{className:"primary-button join-lobby-button",onClick:()=>window.location.href="https://www.meet-tx.com/become-an-organizer",style:{padding:"12px 24px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",margin:"0 auto",display:"block",position:"relative",zIndex:1,outline:"none",":hover":{transform:"scale(1.02)"}},children:_.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Become a Host"})}),(B==="admin"||B==="organizer")&&_.jsx("button",{className:`primary-button ${B==="admin"||B==="organizer"?"create-lobby-button":""}`,onClick:()=>ue("/create_lobby"),style:{padding:"12px 24px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",marginTop:"-5px",position:"relative",zIndex:1,":hover":{transform:"scale(1.02)"}},children:_.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Create Lobby"})})]})})}),(B==="admin"||B==="organizer")&&_.jsx("div",{className:"events-list",style:{marginTop:"2rem",width:"65%",height:"60%",marginLeft:"auto",marginRight:"auto",marginBottom:".5rem"},children:ce?_.jsx("div",{style:{textAlign:"center",color:"white"},children:_.jsx("p",{children:"Loading your lobbies..."})}):ne.length>0?_.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem"},children:ne.map((fe,Z)=>_.jsxs("div",{className:"card",style:{width:"200px",background:"#ffffff",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.6)",border:"1px solid rgba(255, 255, 255, 0.5)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out",cursor:"pointer",padding:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},onClick:()=>Ge(fe),onMouseEnter:re=>{re.currentTarget.style.transform="translateY(-5px)",re.currentTarget.style.boxShadow="0 12px 40px rgba(0, 0, 0, 0.7)"},onMouseLeave:re=>{re.currentTarget.style.transform="translateY(0)",re.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.6)"},children:[_.jsx("div",{className:"glow-button",style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#144dff",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:fe&&fe.length>0?fe.charAt(0).toUpperCase():"?"}),_.jsxs("h3",{style:{margin:"0 0 0.5rem 0",color:"#2d3748",fontWeight:"600",fontSize:"1.1em",textAlign:"center"},children:["Lobby ",fe||"Unknown"]}),_.jsx("p",{style:{margin:"0",color:"#4299e1",fontWeight:"500",fontSize:"0.9em",textAlign:"center"},children:"Click to Control"})]},Z))}):_.jsx("div",{style:{}})})]}),_.jsx(De,{})]})};function FA(){const{pathname:t}=vi();return L.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const jA=()=>{const{login:t,signup:i,user:s,logout:c,checkAuth:h}=L.useContext(xi),[p,y]=L.useState(""),[C,v]=L.useState(""),[x,E]=L.useState(""),[T,N]=L.useState(""),[O,k]=L.useState(!0),[B,F]=L.useState({}),[z,H]=L.useState(!1),V=ni(),ne=q=>{const ue=/^[a-z0-9]+$/;return q.length>=2&&ue.test(q)},se=q=>{const ue=q.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(ue),ue.length>0?H(!0):H(!1),ne(ue)?F(te=>({...te,username:""})):F(te=>({...te,username:" "}))},ce=async q=>{if(q.preventDefault(),N(""),!ne(p)){N("Please enter a valid username");return}try{const ue=O?"/login":"/signup",te=await fetch(window.server_url+ue,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:p,password:C}),mode:"cors"});if(te.ok){const _e=await te.json();t(_e),h(),V("/")}else{const _e=await te.json();N(_e.message||`${O?"Login":"Signup"} failed`)}}catch(ue){N("Network error occurred. Please try again."),console.error("Error:",ue)}};return _.jsxs("div",{className:"login-container",children:[_.jsx("button",{onClick:()=>V("/"),className:"homescreen-button",children:"Home"}),_.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),_.jsx("h1",{className:"login-header",children:"Login"}),_.jsxs("div",{className:"login-signup-form",children:[T&&_.jsx("div",{className:"error-message",children:T}),_.jsxs("form",{onSubmit:ce,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("input",{type:"text",placeholder:"Username",className:"login-input",value:p,onChange:se,required:!0}),z&&_.jsx("div",{className:"step-success",children:"lowercase letters and numbers only"})]}),_.jsx("div",{className:"form-group",children:_.jsx("input",{type:"text",placeholder:"Password",className:"login-input",value:C,onChange:q=>v(q.target.value),required:!0})}),_.jsx("button",{type:"submit",className:"login-primary-button",children:"Login"})]})]})]})},UA=()=>{const t=ni(),{logout:i}=L.useContext(xi);return localStorage.removeItem("access_token"),L.useEffect(()=>{console.log("LogoutPage useEffect"),setTimeout(()=>{i(),t("/")},100)},[]),_.jsx("div",{children:"Logged out redirecting to homescreen"})};var zA=Object.defineProperty,ku=Object.getOwnPropertySymbols,sx=Object.prototype.hasOwnProperty,ox=Object.prototype.propertyIsEnumerable,Jp=(t,i,s)=>i in t?zA(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s,od=(t,i)=>{for(var s in i||(i={}))sx.call(i,s)&&Jp(t,s,i[s]);if(ku)for(var s of ku(i))ox.call(i,s)&&Jp(t,s,i[s]);return t},ad=(t,i)=>{var s={};for(var c in t)sx.call(t,c)&&i.indexOf(c)<0&&(s[c]=t[c]);if(t!=null&&ku)for(var c of ku(t))i.indexOf(c)<0&&ox.call(t,c)&&(s[c]=t[c]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var eo;(t=>{const i=class pt{constructor(v,x,E,T){if(this.version=v,this.errorCorrectionLevel=x,this.modules=[],this.isFunction=[],v<pt.MIN_VERSION||v>pt.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=v*4+17;let N=[];for(let k=0;k<this.size;k++)N.push(!1);for(let k=0;k<this.size;k++)this.modules.push(N.slice()),this.isFunction.push(N.slice());this.drawFunctionPatterns();const O=this.addEccAndInterleave(E);if(this.drawCodewords(O),T==-1){let k=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const F=this.getPenaltyScore();F<k&&(T=B,k=F),this.applyMask(B)}}h(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(v,x){const E=t.QrSegment.makeSegments(v);return pt.encodeSegments(E,x)}static encodeBinary(v,x){const E=t.QrSegment.makeBytes(v);return pt.encodeSegments([E],x)}static encodeSegments(v,x,E=1,T=40,N=-1,O=!0){if(!(pt.MIN_VERSION<=E&&E<=T&&T<=pt.MAX_VERSION)||N<-1||N>7)throw new RangeError("Invalid value");let k,B;for(k=E;;k++){const V=pt.getNumDataCodewords(k,x)*8,ne=y.getTotalBits(v,k);if(ne<=V){B=ne;break}if(k>=T)throw new RangeError("Data too long")}for(const V of[pt.Ecc.MEDIUM,pt.Ecc.QUARTILE,pt.Ecc.HIGH])O&&B<=pt.getNumDataCodewords(k,V)*8&&(x=V);let F=[];for(const V of v){s(V.mode.modeBits,4,F),s(V.numChars,V.mode.numCharCountBits(k),F);for(const ne of V.getData())F.push(ne)}h(F.length==B);const z=pt.getNumDataCodewords(k,x)*8;h(F.length<=z),s(0,Math.min(4,z-F.length),F),s(0,(8-F.length%8)%8,F),h(F.length%8==0);for(let V=236;F.length<z;V^=253)s(V,8,F);let H=[];for(;H.length*8<F.length;)H.push(0);return F.forEach((V,ne)=>H[ne>>>3]|=V<<7-(ne&7)),new pt(k,x,H,N)}getModule(v,x){return 0<=v&&v<this.size&&0<=x&&x<this.size&&this.modules[x][v]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const v=this.getAlignmentPatternPositions(),x=v.length;for(let E=0;E<x;E++)for(let T=0;T<x;T++)E==0&&T==0||E==0&&T==x-1||E==x-1&&T==0||this.drawAlignmentPattern(v[E],v[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(v){const x=this.errorCorrectionLevel.formatBits<<3|v;let E=x;for(let N=0;N<10;N++)E=E<<1^(E>>>9)*1335;const T=(x<<10|E)^21522;h(T>>>15==0);for(let N=0;N<=5;N++)this.setFunctionModule(8,N,c(T,N));this.setFunctionModule(8,7,c(T,6)),this.setFunctionModule(8,8,c(T,7)),this.setFunctionModule(7,8,c(T,8));for(let N=9;N<15;N++)this.setFunctionModule(14-N,8,c(T,N));for(let N=0;N<8;N++)this.setFunctionModule(this.size-1-N,8,c(T,N));for(let N=8;N<15;N++)this.setFunctionModule(8,this.size-15+N,c(T,N));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let v=this.version;for(let E=0;E<12;E++)v=v<<1^(v>>>11)*7973;const x=this.version<<12|v;h(x>>>18==0);for(let E=0;E<18;E++){const T=c(x,E),N=this.size-11+E%3,O=Math.floor(E/3);this.setFunctionModule(N,O,T),this.setFunctionModule(O,N,T)}}drawFinderPattern(v,x){for(let E=-4;E<=4;E++)for(let T=-4;T<=4;T++){const N=Math.max(Math.abs(T),Math.abs(E)),O=v+T,k=x+E;0<=O&&O<this.size&&0<=k&&k<this.size&&this.setFunctionModule(O,k,N!=2&&N!=4)}}drawAlignmentPattern(v,x){for(let E=-2;E<=2;E++)for(let T=-2;T<=2;T++)this.setFunctionModule(v+T,x+E,Math.max(Math.abs(T),Math.abs(E))!=1)}setFunctionModule(v,x,E){this.modules[x][v]=E,this.isFunction[x][v]=!0}addEccAndInterleave(v){const x=this.version,E=this.errorCorrectionLevel;if(v.length!=pt.getNumDataCodewords(x,E))throw new RangeError("Invalid argument");const T=pt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][x],N=pt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][x],O=Math.floor(pt.getNumRawDataModules(x)/8),k=T-O%T,B=Math.floor(O/T);let F=[];const z=pt.reedSolomonComputeDivisor(N);for(let V=0,ne=0;V<T;V++){let se=v.slice(ne,ne+B-N+(V<k?0:1));ne+=se.length;const ce=pt.reedSolomonComputeRemainder(se,z);V<k&&se.push(0),F.push(se.concat(ce))}let H=[];for(let V=0;V<F[0].length;V++)F.forEach((ne,se)=>{(V!=B-N||se>=k)&&H.push(ne[V])});return h(H.length==O),H}drawCodewords(v){if(v.length!=Math.floor(pt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let x=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let T=0;T<this.size;T++)for(let N=0;N<2;N++){const O=E-N,B=(E+1&2)==0?this.size-1-T:T;!this.isFunction[B][O]&&x<v.length*8&&(this.modules[B][O]=c(v[x>>>3],7-(x&7)),x++)}}h(x==v.length*8)}applyMask(v){if(v<0||v>7)throw new RangeError("Mask value out of range");for(let x=0;x<this.size;x++)for(let E=0;E<this.size;E++){let T;switch(v){case 0:T=(E+x)%2==0;break;case 1:T=x%2==0;break;case 2:T=E%3==0;break;case 3:T=(E+x)%3==0;break;case 4:T=(Math.floor(E/3)+Math.floor(x/2))%2==0;break;case 5:T=E*x%2+E*x%3==0;break;case 6:T=(E*x%2+E*x%3)%2==0;break;case 7:T=((E+x)%2+E*x%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[x][E]&&T&&(this.modules[x][E]=!this.modules[x][E])}}getPenaltyScore(){let v=0;for(let N=0;N<this.size;N++){let O=!1,k=0,B=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[N][F]==O?(k++,k==5?v+=pt.PENALTY_N1:k>5&&v++):(this.finderPenaltyAddHistory(k,B),O||(v+=this.finderPenaltyCountPatterns(B)*pt.PENALTY_N3),O=this.modules[N][F],k=1);v+=this.finderPenaltyTerminateAndCount(O,k,B)*pt.PENALTY_N3}for(let N=0;N<this.size;N++){let O=!1,k=0,B=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[F][N]==O?(k++,k==5?v+=pt.PENALTY_N1:k>5&&v++):(this.finderPenaltyAddHistory(k,B),O||(v+=this.finderPenaltyCountPatterns(B)*pt.PENALTY_N3),O=this.modules[F][N],k=1);v+=this.finderPenaltyTerminateAndCount(O,k,B)*pt.PENALTY_N3}for(let N=0;N<this.size-1;N++)for(let O=0;O<this.size-1;O++){const k=this.modules[N][O];k==this.modules[N][O+1]&&k==this.modules[N+1][O]&&k==this.modules[N+1][O+1]&&(v+=pt.PENALTY_N2)}let x=0;for(const N of this.modules)x=N.reduce((O,k)=>O+(k?1:0),x);const E=this.size*this.size,T=Math.ceil(Math.abs(x*20-E*10)/E)-1;return h(0<=T&&T<=9),v+=T*pt.PENALTY_N4,h(0<=v&&v<=2568888),v}getAlignmentPatternPositions(){if(this.version==1)return[];{const v=Math.floor(this.version/7)+2,x=this.version==32?26:Math.ceil((this.version*4+4)/(v*2-2))*2;let E=[6];for(let T=this.size-7;E.length<v;T-=x)E.splice(1,0,T);return E}}static getNumRawDataModules(v){if(v<pt.MIN_VERSION||v>pt.MAX_VERSION)throw new RangeError("Version number out of range");let x=(16*v+128)*v+64;if(v>=2){const E=Math.floor(v/7)+2;x-=(25*E-10)*E-55,v>=7&&(x-=36)}return h(208<=x&&x<=29648),x}static getNumDataCodewords(v,x){return Math.floor(pt.getNumRawDataModules(v)/8)-pt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][v]*pt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][v]}static reedSolomonComputeDivisor(v){if(v<1||v>255)throw new RangeError("Degree out of range");let x=[];for(let T=0;T<v-1;T++)x.push(0);x.push(1);let E=1;for(let T=0;T<v;T++){for(let N=0;N<x.length;N++)x[N]=pt.reedSolomonMultiply(x[N],E),N+1<x.length&&(x[N]^=x[N+1]);E=pt.reedSolomonMultiply(E,2)}return x}static reedSolomonComputeRemainder(v,x){let E=x.map(T=>0);for(const T of v){const N=T^E.shift();E.push(0),x.forEach((O,k)=>E[k]^=pt.reedSolomonMultiply(O,N))}return E}static reedSolomonMultiply(v,x){if(v>>>8||x>>>8)throw new RangeError("Byte out of range");let E=0;for(let T=7;T>=0;T--)E=E<<1^(E>>>7)*285,E^=(x>>>T&1)*v;return h(E>>>8==0),E}finderPenaltyCountPatterns(v){const x=v[1];h(x<=this.size*3);const E=x>0&&v[2]==x&&v[3]==x*3&&v[4]==x&&v[5]==x;return(E&&v[0]>=x*4&&v[6]>=x?1:0)+(E&&v[6]>=x*4&&v[0]>=x?1:0)}finderPenaltyTerminateAndCount(v,x,E){return v&&(this.finderPenaltyAddHistory(x,E),x=0),x+=this.size,this.finderPenaltyAddHistory(x,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(v,x){x[0]==0&&(v+=this.size),x.pop(),x.unshift(v)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=i;function s(C,v,x){if(v<0||v>31||C>>>v)throw new RangeError("Value out of range");for(let E=v-1;E>=0;E--)x.push(C>>>E&1)}function c(C,v){return(C>>>v&1)!=0}function h(C){if(!C)throw new Error("Assertion error")}const p=class un{constructor(v,x,E){if(this.mode=v,this.numChars=x,this.bitData=E,x<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(v){let x=[];for(const E of v)s(E,8,x);return new un(un.Mode.BYTE,v.length,x)}static makeNumeric(v){if(!un.isNumeric(v))throw new RangeError("String contains non-numeric characters");let x=[];for(let E=0;E<v.length;){const T=Math.min(v.length-E,3);s(parseInt(v.substring(E,E+T),10),T*3+1,x),E+=T}return new un(un.Mode.NUMERIC,v.length,x)}static makeAlphanumeric(v){if(!un.isAlphanumeric(v))throw new RangeError("String contains unencodable characters in alphanumeric mode");let x=[],E;for(E=0;E+2<=v.length;E+=2){let T=un.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E))*45;T+=un.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E+1)),s(T,11,x)}return E<v.length&&s(un.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E)),6,x),new un(un.Mode.ALPHANUMERIC,v.length,x)}static makeSegments(v){return v==""?[]:un.isNumeric(v)?[un.makeNumeric(v)]:un.isAlphanumeric(v)?[un.makeAlphanumeric(v)]:[un.makeBytes(un.toUtf8ByteArray(v))]}static makeEci(v){let x=[];if(v<0)throw new RangeError("ECI assignment value out of range");if(v<128)s(v,8,x);else if(v<16384)s(2,2,x),s(v,14,x);else if(v<1e6)s(6,3,x),s(v,21,x);else throw new RangeError("ECI assignment value out of range");return new un(un.Mode.ECI,0,x)}static isNumeric(v){return un.NUMERIC_REGEX.test(v)}static isAlphanumeric(v){return un.ALPHANUMERIC_REGEX.test(v)}getData(){return this.bitData.slice()}static getTotalBits(v,x){let E=0;for(const T of v){const N=T.mode.numCharCountBits(x);if(T.numChars>=1<<N)return 1/0;E+=4+N+T.bitData.length}return E}static toUtf8ByteArray(v){v=encodeURI(v);let x=[];for(let E=0;E<v.length;E++)v.charAt(E)!="%"?x.push(v.charCodeAt(E)):(x.push(parseInt(v.substring(E+1,E+3),16)),E+=2);return x}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let y=p;t.QrSegment=p})(eo||(eo={}));(t=>{(i=>{const s=class{constructor(h,p){this.ordinal=h,this.formatBits=p}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),i.Ecc=s})(t.QrCode||(t.QrCode={}))})(eo||(eo={}));(t=>{(i=>{const s=class{constructor(h,p){this.modeBits=h,this.numBitsCharCount=p}numCharCountBits(h){return this.numBitsCharCount[Math.floor((h+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),i.Mode=s})(t.QrSegment||(t.QrSegment={}))})(eo||(eo={}));var Lo=eo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var VA={L:Lo.QrCode.Ecc.LOW,M:Lo.QrCode.Ecc.MEDIUM,Q:Lo.QrCode.Ecc.QUARTILE,H:Lo.QrCode.Ecc.HIGH},ax=128,lx="L",ux="#FFFFFF",cx="#000000",fx=!1,dx=1,WA=4,HA=0,GA=.1;function hx(t,i=0){const s=[];return t.forEach(function(c,h){let p=null;c.forEach(function(y,C){if(!y&&p!==null){s.push(`M${p+i} ${h+i}h${C-p}v1H${p+i}z`),p=null;return}if(C===c.length-1){if(!y)return;p===null?s.push(`M${C+i},${h+i} h1v1H${C+i}z`):s.push(`M${p+i},${h+i} h${C+1-p}v1H${p+i}z`);return}y&&p===null&&(p=C)})}),s.join("")}function px(t,i){return t.slice().map((s,c)=>c<i.y||c>=i.y+i.h?s:s.map((h,p)=>p<i.x||p>=i.x+i.w?h:!1))}function YA(t,i,s,c){if(c==null)return null;const h=t.length+s*2,p=Math.floor(i*GA),y=h/i,C=(c.width||p)*y,v=(c.height||p)*y,x=c.x==null?t.length/2-C/2:c.x*y,E=c.y==null?t.length/2-v/2:c.y*y,T=c.opacity==null?1:c.opacity;let N=null;if(c.excavate){let k=Math.floor(x),B=Math.floor(E),F=Math.ceil(C+x-k),z=Math.ceil(v+E-B);N={x:k,y:B,w:F,h:z}}const O=c.crossOrigin;return{x,y:E,h:v,w:C,excavation:N,opacity:T,crossOrigin:O}}function XA(t,i){return i!=null?Math.max(Math.floor(i),0):t?WA:HA}function gx({value:t,level:i,minVersion:s,includeMargin:c,marginSize:h,imageSettings:p,size:y,boostLevel:C}){let v=Jt.useMemo(()=>{const k=(Array.isArray(t)?t:[t]).reduce((B,F)=>(B.push(...Lo.QrSegment.makeSegments(F)),B),[]);return Lo.QrCode.encodeSegments(k,VA[i],s,void 0,void 0,C)},[t,i,s,C]);const{cells:x,margin:E,numCells:T,calculatedImageSettings:N}=Jt.useMemo(()=>{let O=v.getModules();const k=XA(c,h),B=O.length+k*2,F=YA(O,y,k,p);return{cells:O,margin:k,numCells:B,calculatedImageSettings:F}},[v,y,p,c,h]);return{qrcode:v,margin:E,cells:x,numCells:T,calculatedImageSettings:N}}var ZA=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),KA=Jt.forwardRef(function(i,s){const c=i,{value:h,size:p=ax,level:y=lx,bgColor:C=ux,fgColor:v=cx,includeMargin:x=fx,minVersion:E=dx,boostLevel:T,marginSize:N,imageSettings:O}=c,B=ad(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:F}=B,z=ad(B,["style"]),H=O==null?void 0:O.src,V=Jt.useRef(null),ne=Jt.useRef(null),se=Jt.useCallback(Re=>{V.current=Re,typeof s=="function"?s(Re):s&&(s.current=Re)},[s]),[ce,q]=Jt.useState(!1),{margin:ue,cells:te,numCells:_e,calculatedImageSettings:Le}=gx({value:h,level:y,minVersion:E,boostLevel:T,includeMargin:x,marginSize:N,imageSettings:O,size:p});Jt.useEffect(()=>{if(V.current!=null){const Re=V.current,Q=Re.getContext("2d");if(!Q)return;let Ve=te;const Se=ne.current,he=Le!=null&&Se!==null&&Se.complete&&Se.naturalHeight!==0&&Se.naturalWidth!==0;he&&Le.excavation!=null&&(Ve=px(te,Le.excavation));const De=window.devicePixelRatio||1;Re.height=Re.width=p*De;const fe=p/_e*De;Q.scale(fe,fe),Q.fillStyle=C,Q.fillRect(0,0,_e,_e),Q.fillStyle=v,ZA?Q.fill(new Path2D(hx(Ve,ue))):te.forEach(function(Z,re){Z.forEach(function(me,we){me&&Q.fillRect(we+ue,re+ue,1,1)})}),Le&&(Q.globalAlpha=Le.opacity),he&&Q.drawImage(Se,Le.x+ue,Le.y+ue,Le.w,Le.h)}}),Jt.useEffect(()=>{q(!1)},[H]);const Ne=od({height:p,width:p},F);let Ge=null;return H!=null&&(Ge=Jt.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{q(!0)},ref:ne,crossOrigin:Le==null?void 0:Le.crossOrigin})),Jt.createElement(Jt.Fragment,null,Jt.createElement("canvas",od({style:Ne,height:p,width:p,ref:se,role:"img"},z)),Ge)});KA.displayName="QRCodeCanvas";var mx=Jt.forwardRef(function(i,s){const c=i,{value:h,size:p=ax,level:y=lx,bgColor:C=ux,fgColor:v=cx,includeMargin:x=fx,minVersion:E=dx,boostLevel:T,title:N,marginSize:O,imageSettings:k}=c,B=ad(c,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:F,cells:z,numCells:H,calculatedImageSettings:V}=gx({value:h,level:y,minVersion:E,boostLevel:T,includeMargin:x,marginSize:O,imageSettings:k,size:p});let ne=z,se=null;k!=null&&V!=null&&(V.excavation!=null&&(ne=px(z,V.excavation)),se=Jt.createElement("image",{href:k.src,height:V.h,width:V.w,x:V.x+F,y:V.y+F,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const ce=hx(ne,F);return Jt.createElement("svg",od({height:p,width:p,viewBox:`0 0 ${H} ${H}`,ref:s,role:"img"},B),!!N&&Jt.createElement("title",null,N),Jt.createElement("path",{fill:C,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),Jt.createElement("path",{fill:v,d:ce,shapeRendering:"crispEdges"}),se)});mx.displayName="QRCodeSVG";const QA=({player:t})=>_.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"350px",height:"500px",margin:"0 auto",position:"relative"},children:t!=null&&t.image_data?_.jsxs("div",{style:{position:"relative",width:"350px",height:"450px"},children:[_.jsx("img",{src:`data:image/jpeg;base64,${t.image_data}`,alt:t.name,style:{width:"350px",height:"450px",objectFit:"cover",borderRadius:"50px",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",margin:"auto",display:"block"},onError:i=>{console.error("Image failed to load:",i),i.target.style.display="none"}}),_.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:t.name})]}):_.jsxs("div",{style:{width:"350px",height:"450px",backgroundColor:"#f0f0f0",borderRadius:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:[_.jsx("p",{style:{marginBottom:"60px"},children:"No image available"}),_.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:t.name})]})});var eg=typeof window>"u"?L.useEffect:L.useLayoutEffect,$A=({isPlaying:t,duration:i,startAt:s=0,updateInterval:c=0,onComplete:h,onUpdate:p})=>{let[y,C]=L.useState(s),v=L.useRef(0),x=L.useRef(s),E=L.useRef(s*-1e3),T=L.useRef(null),N=L.useRef(null),O=L.useRef(null),k=z=>{let H=z/1e3;if(N.current===null){N.current=H,T.current=requestAnimationFrame(k);return}let V=H-N.current,ne=v.current+V;N.current=H,v.current=ne;let se=x.current+(c===0?ne:(ne/c|0)*c),ce=x.current+ne,q=typeof i=="number"&&ce>=i;C(q?i:se),q||(T.current=requestAnimationFrame(k))},B=()=>{T.current&&cancelAnimationFrame(T.current),O.current&&clearTimeout(O.current),N.current=null},F=L.useCallback(z=>{B(),v.current=0;let H=typeof z=="number"?z:s;x.current=H,C(H),t&&(T.current=requestAnimationFrame(k))},[t,s]);return eg(()=>{if(p==null||p(y),i&&y>=i){E.current+=i*1e3;let{shouldRepeat:z=!1,delay:H=0,newStartAt:V}=(h==null?void 0:h(E.current/1e3))||{};z&&(O.current=setTimeout(()=>F(V),H*1e3))}},[y,i]),eg(()=>(t&&(T.current=requestAnimationFrame(k)),B),[t,i,c]),{elapsedTime:y,reset:F}},qA=(t,i,s)=>{let c=t/2,h=i/2,p=c-h,y=2*p,C=s==="clockwise"?"1,0":"0,1",v=2*Math.PI*p;return{path:`m ${c},${h} a ${p},${p} 0 ${C} 0,${y} a ${p},${p} 0 ${C} 0,-${y}`,pathLength:v}},tg=(t,i)=>t===0||t===i?0:typeof i=="number"?t-i:0,JA=t=>({position:"relative",width:t,height:t}),eS={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},xx=(t,i,s,c,h)=>{if(c===0)return i;let p=(h?c-t:t)/c;return i+s*p},ng=t=>{var i,s;return(s=(i=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(c,h,p,y)=>`#${h}${h}${p}${p}${y}${y}`).substring(1).match(/.{2}/g))==null?void 0:i.map(c=>parseInt(c,16)))!=null?s:[]},tS=(t,i)=>{var s;let{colors:c,colorsTime:h,isSmoothColorTransition:p=!0}=t;if(typeof c=="string")return c;let y=(s=h==null?void 0:h.findIndex((N,O)=>N>=i&&i>=h[O+1]))!=null?s:-1;if(!h||y===-1)return c[0];if(!p)return c[y];let C=h[y]-i,v=h[y]-h[y+1],x=ng(c[y]),E=ng(c[y+1]),T=!!t.isGrowing;return`rgb(${x.map((N,O)=>xx(C,N,E[O]-N,v,T)|0).join(",")})`},nS=t=>{let{duration:i,initialRemainingTime:s,updateInterval:c,size:h=180,strokeWidth:p=12,trailStrokeWidth:y,isPlaying:C=!1,isGrowing:v=!1,rotation:x="clockwise",onComplete:E,onUpdate:T}=t,N=L.useRef(),O=Math.max(p,y??0),{path:k,pathLength:B}=qA(h,O,x),{elapsedTime:F}=$A({isPlaying:C,duration:i,startAt:tg(i,s),updateInterval:c,onUpdate:typeof T=="function"?H=>{let V=Math.ceil(i-H);V!==N.current&&(N.current=V,T(V))}:void 0,onComplete:typeof E=="function"?H=>{var V;let{shouldRepeat:ne,delay:se,newInitialRemainingTime:ce}=(V=E(H))!=null?V:{};if(ne)return{shouldRepeat:ne,delay:se,newStartAt:tg(i,ce)}}:void 0}),z=i-F;return{elapsedTime:F,path:k,pathLength:B,remainingTime:Math.ceil(z),rotation:x,size:h,stroke:tS(t,z),strokeDashoffset:xx(F,0,B,i,v),strokeWidth:p}},eh=t=>{let{children:i,strokeLinecap:s,trailColor:c,trailStrokeWidth:h}=t,{path:p,pathLength:y,stroke:C,strokeDashoffset:v,remainingTime:x,elapsedTime:E,size:T,strokeWidth:N}=nS(t);return Jt.createElement("div",{style:JA(T)},Jt.createElement("svg",{viewBox:`0 0 ${T} ${T}`,width:T,height:T,xmlns:"http://www.w3.org/2000/svg"},Jt.createElement("path",{d:p,fill:"none",stroke:c??"#d9d9d9",strokeWidth:h??N}),Jt.createElement("path",{d:p,fill:"none",stroke:C,strokeLinecap:s??"round",strokeWidth:N,strokeDasharray:y,strokeDashoffset:v})),typeof i=="function"&&Jt.createElement("div",{style:eS},i({remainingTime:x,elapsedTime:E,color:C})))};eh.displayName="CountdownCircleTimer";const rS=({onComplete:t})=>{const[i,s]=L.useState(5),[c,h]=L.useState(!1);return L.useEffect(()=>{const p=setInterval(()=>{h(!0),setTimeout(()=>{s(y=>y<=1?(clearInterval(p),t&&t(),0):y-1),h(!1)},500)},1500);return()=>clearInterval(p)},[t]),_.jsx("div",{className:"lobby-countdown-overlay",children:_.jsxs("div",{className:`lobby-countdown-container ${c?"pop-burst":""}`,children:[_.jsx("div",{className:"lobby-countdown-number",children:i}),_.jsx("div",{className:"lobby-countdown-text",children:i>0?"Get ready!":"Starting..."})]})})},iS=({onComplete:t,lobbyCode:i="this"})=>{const[s,c]=L.useState(0),[h,p]=L.useState(!1),[y,C]=L.useState(!1),[v,x]=L.useState([0]),[E,T]=L.useState(!1),N=L.useRef(null),O=L.useRef(null),k=[{image:"/assets/how_to_pt1_1.svg",duration:1500,animatedText:"Find your match using their profile picture!"},{image:"/assets/how_to_pt2_2.svg",duration:4e3,animatedText:"Raise the volume to find your next match, dont keep them waiting!"},{image:"/assets/how_to_pt3_3.svg",duration:4e3,animatedText:"Take a break so people dont get matched with you."}];return L.useEffect(()=>{const B=()=>{if(s>=k.length-1){clearInterval(N.current),t&&t();return}p(!0);const F=s+1;x([s,F]),O.current=setTimeout(()=>{T(!1),c(F),p(!1),setTimeout(()=>{x([F]),C(!0),k[F].animatedText&&T(!0)},500)},500)};return N.current=setInterval(B,k[s].duration),C(!0),s===0&&k[0].animatedText&&T(!0),()=>{N.current&&clearInterval(N.current),O.current&&clearTimeout(O.current)}},[s,k.length,t]),_.jsx("div",{className:"tutorial-overlay",children:_.jsxs("div",{className:"tutorial-container",children:[v.map(B=>_.jsxs("div",{className:`tutorial-slide ${B===s?"current":B<s?"previous":"next"}`,children:[B===s&&k[B].animatedText&&E&&_.jsx("div",{className:"animated-text pop-burst",children:k[B].animatedText}),_.jsx("div",{className:"tutorial-image-container",children:_.jsx("img",{src:k[B].image,alt:`Tutorial step ${B+1}`,className:"tutorial-image"})}),_.jsx("div",{className:`tutorial-text ${y&&B===s?"text-animate":""}`,children:k[B].text})]},B)),_.jsx("div",{className:"tutorial-progress",children:k.map((B,F)=>_.jsx("div",{className:`progress-dot ${F===s?"active":""}`},F))})]})})},yu=9,sS=5,oS=5e3,aS=()=>{const[t,i]=L.useState([]),[s,c]=L.useState("self"),[h,p]=L.useState(!1),[y,C]=L.useState(""),v=L.useRef(null),x=L.useRef(null),{loadSound:E,seekTo:T,cancelSound:N,checkSound:O,soundEnabled:k,setSoundEnabled:B,isPlaying:F}=Eg(),[z,H]=L.useState("yonder"),V=ni(),{code:ne}=Ey(),[se,ce]=L.useState(null);ix(ce,null,z);const{user:q,userProfile:ue,checkAuth:te,permissions:_e}=L.useContext(xi);L.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token"))try{q||await te()}catch(bt){console.error("Authentication error:",bt);const Ye=new URLSearchParams(window.location.search).get("code")||ne;V(Ye?`/signup?redirect=lobby&code=${Ye}`:"/signup?redirect=lobby")}else{const wn=new URLSearchParams(window.location.search).get("code")||ne;V(wn?`/signup?redirect=lobby&code=${wn}`:"/signup?redirect=lobby")}})()},[V,ne,te,q]),L.useEffect(()=>{(()=>{const bt=new URLSearchParams(window.location.search).get("code")||ne;if(bt){H(bt);const wn=`hasSeenTutorial_${bt}`,Ye=localStorage.getItem(wn),En=!!localStorage.getItem("access_token");console.log("Tutorial check:",{codeParam:bt,lobbyTutorialKey:wn,hasSeenLobbyTutorial:Ye,isAuthenticated:En}),!Ye&&En&&(mr(!0),localStorage.setItem(wn,"true"))}})()},[ne]);const[Le,Ne]=L.useState(null),[Ge,Re]=L.useState(null),[Q,Ve]=L.useState(null),[Se,he]=L.useState(null),[De,fe]=L.useState(null),Z=L.useRef(!1),re=L.useRef(null),[me,we]=L.useState(null),[We,pe]=L.useState(null),[Ue,Me]=L.useState(null),[it,ft]=L.useState(null),[_t,er]=L.useState(!0),ot=300,Hn=L.useRef(0),[Ut,gr]=L.useState(null),[xt,yt]=L.useState(null),[tt,ar]=L.useState([]),[ve,$e]=L.useState([]),[At,St]=L.useState(!document.hidden),Pn=L.useRef("yonder");L.useEffect(()=>{Pn.current=z},[z]);async function wt(Ee,at){const bt=localStorage.getItem("access_token"),Ye=await(await fetch(window.server_url+"/set_profile_info",{method:"POST",headers:{Authorization:`Bearer ${bt}`,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify({tags_work:Ee,tags_desiring_work:at})})).json();console.log("SET PROFILE INFO:",Ye)}async function Kt(){try{const Ee=localStorage.getItem("access_token");N(),(await fetch(window.server_url+"/disconnect_lobby",{headers:{Authorization:`Bearer ${Ee}`,lobby_code:z}})).ok&&V("/")}catch(Ee){console.error("Error disconnecting from lobby:",Ee),V("/")}finally{N(),V("/"),console.log("finally")}}async function Dt(){try{Hn.current+=1,Hn.current>5&&(Hn.current=0,Z.current=!1);const Ee=localStorage.getItem("access_token"),at=!document.hidden,bt=Pn.current;if(console.log("lobby code fr:",bt),bt=="yonder"){console.log("lobby code is not set");return}const wn=await fetch(`${window.server_url}/lobby?is_visible=${at}`,{headers:{Authorization:`Bearer ${Ee}`,is_visible_t_f:at?"t":"f",lobby_code:bt}});if(wn.ok){const Ye=await wn.json();console.log("LOBBY PAIR DATA:",bt,Ye),Ye.status=="inactive"&&(N(),V("/")),Ve(Ye.opponent_name),Ye.opponent_name==null&&Ne(null),i(Ye.custom_tags),we(Ye.lobby_state),ft(Ye.lobby_duration);const En=typeof Ye.round_time_left=="number"&&!isNaN(Ye.round_time_left)?Ye.round_time_left:0;console.log("Timer Debug:",{roundDuration:Ye.lobby_duration,timeLeft:En,lobbyState:Ye.lobby_state,usingDefaultDuration:!Ye.lobby_duration}),re.current=En,pe(Math.floor(En));const dn=Math.floor(En/60),Mr=Math.floor(En%60);Me(`${dn}:${Mr.toString().padStart(2,"0")}`),fe(Ye.table_number),Ye.player_tags!=null&&Ye.player_tags.tags_work!=null&&ar(Ye.player_tags.tags_work),Ye.player_tags!=null&&Ye.player_tags.desiring_tags_work!=null&&$e(Ye.player_tags.desiring_tags_work),re.current!=null&&Ye.lobby_state=="active"&&re.current!=0&&(T(ot-re.current),console.log("seeking to",ot-re.current));const ri=await fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${bt}`,{headers:{Authorization:`Bearer ${Ee}`,lobby_code:bt}});if(ri.ok){const hn=await ri.json();ce(hn.player_count)}if((Q!=Ye.opponent_name||Le==null)&&!Z.current&&Ye.opponent_name!=null){Z.current=!0,console.log("fetching profile");const hn=await fetch(window.server_url+"/paired_player_profile",{headers:{Authorization:`Bearer ${Ee}`}});if(hn.ok){const Hi=await hn.json();Ne(Hi),console.log("profile fetched:",Hi.name)}else console.log("profile fetch failed");Z.current=!1}}}catch(Ee){console.error("Error fetching lobby data:",Ee)}}L.useEffect(()=>{O()?B(!0):B(!1);const Ee=setInterval(async()=>{Dt()},oS);return()=>clearInterval(Ee)},[]),L.useEffect(()=>{const Ee=setTimeout(Dt,1e3);return()=>clearTimeout(Ee)},[me,z]),L.useEffect(()=>{const Ee=()=>{const at=!document.hidden;at&&!At&&(console.log("Page became visible - fetching latest data"),Dt()),St(at)};return document.addEventListener("visibilitychange",Ee),()=>{document.removeEventListener("visibilitychange",Ee)}},[At]);const Lt=()=>_.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:_.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",position:"relative",minWidth:"300px"},children:[_.jsx("button",{onClick:()=>er(!1),style:{color:"#144fff",position:"absolute",right:"10px",top:"10px",border:"none",background:"none",fontSize:"2px",cursor:"pointer"},children:"X"}),_.jsx("h2",{style:{marginTop:"5px"},children:"The Sound is Important"}),_.jsx("h3",{style:{marginTop:"5px"},children:"Raise your volume also"}),_.jsx("p",{style:{color:"#144dff"},children:"You'll need this for the best experience."}),_.jsx("button",{onClick:()=>{E(),er(!1)},style:{padding:"10px 20px",marginTop:"20px",backgroundColor:"#144dff",color:"#ffffff",border:"none",borderRadius:"14px",fontWeight:"bold",cursor:"pointer"},children:"Enable Sound"})]})}),Ln=(Ee,at)=>{Ut==null&&gr(tt),xt==null&&yt(ve);const bt=Ee==="self"?Ut:xt;if(!(bt!=null&&bt.includes(at))&&(bt==null?void 0:bt.length)>=sS){C("Reached tag limit for this section"),setTimeout(()=>{var Ye;(Ye=x.current)==null||Ye.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{C("")},3e3);return}Ee==="self"?gr(Ye=>Ye.includes(at)?Ye.filter(En=>En!==at):[...Ye,at]):yt(Ye=>Ye.includes(at)?Ye.filter(En=>En!==at):[...Ye,at])},tr=()=>{Ut!=null&&wt(Ut,xt||[]),c("desiring"),setTimeout(()=>{var Ee;(Ee=v.current)==null||Ee.scrollIntoView({behavior:"smooth",block:"start"})},100)},Ci=()=>{xt!=null&&wt(Ut||[],xt),window.scrollTo({top:0,behavior:"smooth"})},It=()=>{c("self")},[be,Qt]=L.useState(!1);L.useEffect(()=>{if(me==="interrim")Qt(!0);else if(me==="active"){const Ee=setTimeout(()=>{Qt(!1)},1e3);return()=>clearTimeout(Ee)}},[me]);const vt=()=>{console.log("Lobby countdown animation completed")},[kt,mr]=L.useState(!1),Ei=()=>{mr(!1)},Ai=L.useRef(null);return L.useEffect(()=>{var Ee;!h&&!(tt!=null&&tt.length)&&!(ve!=null&&ve.length)&&(t==null?void 0:t.length)>0&&((Ee=Ai.current)==null||Ee.scrollIntoView({behavior:"smooth"}),p(!0))},[tt,ve,t,h]),_.jsxs("div",{className:"lobby-container",children:[_.jsxs("div",{className:"lobby-content",children:[_.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0",marginTop:"-1.5rem"},children:_.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),(me==="checkin"||me==="active"&&!Le||me==="interrim")&&_.jsx("div",{className:"user-profile-container",children:_.jsxs("div",{className:"user-profile",children:[_.jsx("img",{src:ue!=null&&ue.image_data?`data:image/jpeg;base64,${ue.image_data}`:"/assets/player_icon_trans.png",alt:"Your Profile",className:"user-profile-picture"}),_.jsx("div",{className:"user-profile-glow"})]})}),_.jsx("div",{className:"lobby-header",style:{marginTop:"-50px"},children:_.jsx("h2",{children:me==="active"&&Le?_.jsxs("span",{className:"lobby-pop-burst",children:["Go find ",Le.name,"!"]}):me==="checkin"?_.jsxs(_.Fragment,{children:["You're in ",ue.name.slice(0,15),"!",_.jsx("br",{}),"Your host will start the experience."]}):me==="active"&&!Le?"You will be paired with someone in the next round.":me==="interrim"?"Get ready for the next round!":me==="terminated"?"This session has ended. Thank you for participating!":""})},me),me!=="checkin"&&_.jsx("div",{className:"time-left",style:{display:"flex",flexDirection:"column",alignItems:"center",background:"white",marginTop:"-2rem"},children:(me==="active"||me==="interrim")&&We?_.jsxs(_.Fragment,{children:[_.jsx(eh,{isPlaying:me==="active",duration:it||300,initialRemainingTime:We||0,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>(Dt(),{shouldRepeat:!1}),children:({remainingTime:Ee})=>{const at=typeof Ee=="number"&&!isNaN(Ee)?Ee:0,bt=Math.floor(at/60),wn=Math.floor(at%60);return _.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[bt,":",String(wn).padStart(2,"0")]})}},`${me}-${We}`),_.jsx("span",{style:{fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff"},children:"round time left"}),_.jsx("div",{style:{height:"18px"}})]}):_.jsx("span",{className:"time-left-text"})}),_.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",margin:"0 auto"},children:me==="active"||me==="interrim"?Le?_.jsx("div",{style:{marginTop:"-4.5rem",width:"100%",display:"flex",justifyContent:"center"},children:_.jsx(QA,{player:Le})}):_.jsx(_.Fragment,{}):me==="terminated"?_.jsx("div",{className:"status-message",children:_.jsxs("h2",{children:["This session has ended.",_.jsx("br",{}),"Thank you for participating!"]})}):null}),(me==="checkin"||me==="active"&&!Le)&&se!==null&&_.jsx("div",{className:"player-count-container",children:_.jsxs("div",{className:"player-count-bubble",children:[_.jsx("div",{className:"player-count-icon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:_.jsx("img",{src:"/assets/players_display_icon.png",alt:"Players in lobby",className:"player-count-img",style:{width:"40px",height:"40px",objectFit:"contain"}})}),_.jsxs("div",{className:"player-count-text",children:[_.jsx("span",{className:"player-count-number",children:se}),_.jsxs("span",{className:"player-count-label",children:[""," in ",z," lobby"]})]})]})}),(me==="checkin"||me==="active"&&!Le)&&_.jsx("div",{className:"lobby-profiles-container",children:_.jsx("div",{className:"lobby-profiles-grid",children:se>0?_.jsxs(_.Fragment,{children:[Array.from({length:Math.min(se,yu)}).map((Ee,at)=>_.jsxs("div",{className:`profile-icon-wrapper ${at===Math.min(se,yu)-1?"pop-in":""}`,children:[_.jsx("img",{src:at===0&&ue!=null&&ue.image_data?`data:image/jpeg;base64,${ue.image_data}`:"/assets/player_icon_trans.png",alt:at===0?"Your Profile":`Profile ${at+1}`,className:"profile-icon",loading:"lazy"}),_.jsx("div",{className:"profile-icon-glow"})]},`profile-${at}`)),se>yu&&_.jsx("div",{className:"profile-icon-wrapper more-profiles",children:_.jsxs("div",{className:"more-profiles-bubble",children:["+",se-yu]})})]}):_.jsx("div",{children:"No profiles to display"})})}),(me==="checkin"||me==="active")&&_.jsxs("div",{className:"selected-tags-container",children:[Ut&&Ut.length>0&&_.jsxs("div",{className:"tag-category",children:[_.jsx("h4",{children:"What I do:"}),_.jsx("div",{className:"tag-list",children:Ut.map(Ee=>_.jsx("span",{className:"tag-item",children:Ee},`self-${Ee}`))})]}),xt&&xt.length>0&&_.jsxs("div",{className:"tag-category",children:[_.jsx("h4",{children:"Looking for:"}),_.jsx("div",{className:"tag-list",children:xt.map(Ee=>_.jsx("span",{className:"tag-item",children:Ee},`desiring-${Ee}`))})]})]}),_.jsx("button",{className:"leave-lobby-button",onClick:Kt,children:"Leave"}),_.jsx("button",{className:"how-to-tutorial-button",onClick:()=>mr(!0),children:"Tutorial"}),_e==="admin"&&_.jsx("button",{className:"admin-view-button",onClick:()=>V(`/admin_lobby_view?code=${z}`),children:"Manage"}),Array.isArray(t)&&t.length>0&&_.jsx("form",{onSubmit:Ee=>{Ee.preventDefault(),s==="self"?tr():Ci()},children:_.jsxs("div",{className:"tags-section",ref:Ai,children:[_.jsx("div",{className:"progress-bar-container",children:_.jsx("div",{className:`progress-bar ${s==="desiring"?"progress-complete":""}`,onClick:It})}),_.jsxs("div",{className:`tag-group ${s==="self"?"active":"hidden"}`,children:[_.jsx("div",{className:"bounce-wrapper",children:_.jsx("h2",{children:"Who are you?"})}),_.jsx("div",{className:"tag-labels-container",children:t.map(Ee=>_.jsxs("label",{className:"tag-label",children:[_.jsx("input",{type:"checkbox",checked:Ut!=null?Ut.includes(Ee):tt.includes(Ee),onChange:()=>Ln("self",Ee)}),Ee]},`self-${Ee}`))})]}),_.jsxs("div",{className:`tag-group ${s==="desiring"?"active":"hidden"}`,ref:v,children:[_.jsx("div",{className:"bounce-wrapper",children:_.jsx("h2",{children:"Who do you want to meet?"})}),_.jsx("div",{className:"tag-labels-container",children:t.map(Ee=>_.jsxs("label",{className:"tag-label",children:[_.jsx("input",{type:"checkbox",checked:xt!=null?xt.includes(Ee):ve.includes(Ee),onChange:()=>Ln("desiring",Ee)}),Ee]},`desiring-${Ee}`))})]}),_.jsx("button",{type:"submit",className:"tag-selection-button",ref:x,children:s==="self"?"Continue":"Save"}),y&&_.jsx("div",{style:{color:"#144dff",textAlign:"center",marginTop:"1rem",fontSize:"0.9rem",fontWeight:"600"},children:y})]})})]}),k||!_t||me=="checkin"||me==null||F?null:_.jsx(Lt,{}),be&&_.jsx(rS,{onComplete:vt}),kt&&_.jsx(iS,{onComplete:Ei,lobbyCode:z})]})};let lS={data:""},uS=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||lS,cS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fS=/\/\*[^]*?\*\/|  +/g,rg=/\n+/g,ys=(t,i)=>{let s="",c="",h="";for(let p in t){let y=t[p];p[0]=="@"?p[1]=="i"?s=p+" "+y+";":c+=p[1]=="f"?ys(y,p):p+"{"+ys(y,p[1]=="k"?"":i)+"}":typeof y=="object"?c+=ys(y,i?i.replace(/([^,])+/g,C=>p.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,C):C?C+" "+v:v)):p):y!=null&&(p=/^--/.test(p)?p:p.replace(/[A-Z]/g,"-$&").toLowerCase(),h+=ys.p?ys.p(p,y):p+":"+y+";")}return s+(i&&h?i+"{"+h+"}":h)+c},Fi={},yx=t=>{if(typeof t=="object"){let i="";for(let s in t)i+=s+yx(t[s]);return i}return t},dS=(t,i,s,c,h)=>{let p=yx(t),y=Fi[p]||(Fi[p]=(v=>{let x=0,E=11;for(;x<v.length;)E=101*E+v.charCodeAt(x++)>>>0;return"go"+E})(p));if(!Fi[y]){let v=p!==t?t:(x=>{let E,T,N=[{}];for(;E=cS.exec(x.replace(fS,""));)E[4]?N.shift():E[3]?(T=E[3].replace(rg," ").trim(),N.unshift(N[0][T]=N[0][T]||{})):N[0][E[1]]=E[2].replace(rg," ").trim();return N[0]})(t);Fi[y]=ys(h?{["@keyframes "+y]:v}:v,s?"":"."+y)}let C=s&&Fi.g?Fi.g:null;return s&&(Fi.g=Fi[y]),((v,x,E,T)=>{T?x.data=x.data.replace(T,v):x.data.indexOf(v)===-1&&(x.data=E?v+x.data:x.data+v)})(Fi[y],i,c,C),y},hS=(t,i,s)=>t.reduce((c,h,p)=>{let y=i[p];if(y&&y.call){let C=y(s),v=C&&C.props&&C.props.className||/^go/.test(C)&&C;y=v?"."+v:C&&typeof C=="object"?C.props?"":ys(C,""):C===!1?"":C}return c+h+(y??"")},"");function Yu(t){let i=this||{},s=t.call?t(i.p):t;return dS(s.unshift?s.raw?hS(s,[].slice.call(arguments,1),i.p):s.reduce((c,h)=>Object.assign(c,h&&h.call?h(i.p):h),{}):s,uS(i.target),i.g,i.o,i.k)}let wx,ld,ud;Yu.bind({g:1});let Wi=Yu.bind({k:1});function pS(t,i,s,c){ys.p=i,wx=t,ld=s,ud=c}function Ss(t,i){let s=this||{};return function(){let c=arguments;function h(p,y){let C=Object.assign({},p),v=C.className||h.className;s.p=Object.assign({theme:ld&&ld()},C),s.o=/ *go\d+/.test(v),C.className=Yu.apply(s,c)+(v?" "+v:"");let x=t;return t[0]&&(x=C.as||t,delete C.as),ud&&x[0]&&ud(C),wx(x,C)}return h}}var gS=t=>typeof t=="function",Bu=(t,i)=>gS(t)?t(i):t,mS=(()=>{let t=0;return()=>(++t).toString()})(),vx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),xS=20,Cx=(t,i)=>{switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,xS)};case 1:return{...t,toasts:t.toasts.map(p=>p.id===i.toast.id?{...p,...i.toast}:p)};case 2:let{toast:s}=i;return Cx(t,{type:t.toasts.find(p=>p.id===s.id)?1:0,toast:s});case 3:let{toastId:c}=i;return{...t,toasts:t.toasts.map(p=>p.id===c||c===void 0?{...p,dismissed:!0,visible:!1}:p)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(p=>p.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let h=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(p=>({...p,pauseDuration:p.pauseDuration+h}))}}},Tu=[],qs={toasts:[],pausedAt:void 0},no=t=>{qs=Cx(qs,t),Tu.forEach(i=>{i(qs)})},yS={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wS=(t={})=>{let[i,s]=L.useState(qs),c=L.useRef(qs);L.useEffect(()=>(c.current!==qs&&s(qs),Tu.push(s),()=>{let p=Tu.indexOf(s);p>-1&&Tu.splice(p,1)}),[]);let h=i.toasts.map(p=>{var y,C,v;return{...t,...t[p.type],...p,removeDelay:p.removeDelay||((y=t[p.type])==null?void 0:y.removeDelay)||(t==null?void 0:t.removeDelay),duration:p.duration||((C=t[p.type])==null?void 0:C.duration)||(t==null?void 0:t.duration)||yS[p.type],style:{...t.style,...(v=t[p.type])==null?void 0:v.style,...p.style}}});return{...i,toasts:h}},vS=(t,i="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||mS()}),rl=t=>(i,s)=>{let c=vS(i,t,s);return no({type:2,toast:c}),c.id},sr=(t,i)=>rl("blank")(t,i);sr.error=rl("error");sr.success=rl("success");sr.loading=rl("loading");sr.custom=rl("custom");sr.dismiss=t=>{no({type:3,toastId:t})};sr.remove=t=>no({type:4,toastId:t});sr.promise=(t,i,s)=>{let c=sr.loading(i.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(h=>{let p=i.success?Bu(i.success,h):void 0;return p?sr.success(p,{id:c,...s,...s==null?void 0:s.success}):sr.dismiss(c),h}).catch(h=>{let p=i.error?Bu(i.error,h):void 0;p?sr.error(p,{id:c,...s,...s==null?void 0:s.error}):sr.dismiss(c)}),t};var CS=(t,i)=>{no({type:1,toast:{id:t,height:i}})},ES=()=>{no({type:5,time:Date.now()})},ja=new Map,AS=1e3,SS=(t,i=AS)=>{if(ja.has(t))return;let s=setTimeout(()=>{ja.delete(t),no({type:4,toastId:t})},i);ja.set(t,s)},TS=t=>{let{toasts:i,pausedAt:s}=wS(t);L.useEffect(()=>{if(s)return;let p=Date.now(),y=i.map(C=>{if(C.duration===1/0)return;let v=(C.duration||0)+C.pauseDuration-(p-C.createdAt);if(v<0){C.visible&&sr.dismiss(C.id);return}return setTimeout(()=>sr.dismiss(C.id),v)});return()=>{y.forEach(C=>C&&clearTimeout(C))}},[i,s]);let c=L.useCallback(()=>{s&&no({type:6,time:Date.now()})},[s]),h=L.useCallback((p,y)=>{let{reverseOrder:C=!1,gutter:v=8,defaultPosition:x}=y||{},E=i.filter(O=>(O.position||x)===(p.position||x)&&O.height),T=E.findIndex(O=>O.id===p.id),N=E.filter((O,k)=>k<T&&O.visible).length;return E.filter(O=>O.visible).slice(...C?[N+1]:[0,N]).reduce((O,k)=>O+(k.height||0)+v,0)},[i]);return L.useEffect(()=>{i.forEach(p=>{if(p.dismissed)SS(p.id,p.removeDelay);else{let y=ja.get(p.id);y&&(clearTimeout(y),ja.delete(p.id))}})},[i]),{toasts:i,handlers:{updateHeight:CS,startPause:ES,endPause:c,calculateOffset:h}}},IS=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bS=Wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NS=Wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RS=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${NS} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,MS=Wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_S=Ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${MS} 1s linear infinite;
`,DS=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OS=Wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,PS=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LS=Ss("div")`
  position: absolute;
`,kS=Ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,BS=Wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FS=Ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${BS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jS=({toast:t})=>{let{icon:i,type:s,iconTheme:c}=t;return i!==void 0?typeof i=="string"?L.createElement(FS,null,i):i:s==="blank"?null:L.createElement(kS,null,L.createElement(_S,{...c}),s!=="loading"&&L.createElement(LS,null,s==="error"?L.createElement(RS,{...c}):L.createElement(PS,{...c})))},US=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zS=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,VS="0%{opacity:0;} 100%{opacity:1;}",WS="0%{opacity:1;} 100%{opacity:0;}",HS=Ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GS=Ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,YS=(t,i)=>{let s=t.includes("top")?1:-1,[c,h]=vx()?[VS,WS]:[US(s),zS(s)];return{animation:i?`${Wi(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wi(h)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XS=L.memo(({toast:t,position:i,style:s,children:c})=>{let h=t.height?YS(t.position||i||"top-center",t.visible):{opacity:0},p=L.createElement(jS,{toast:t}),y=L.createElement(GS,{...t.ariaProps},Bu(t.message,t));return L.createElement(HS,{className:t.className,style:{...h,...s,...t.style}},typeof c=="function"?c({icon:p,message:y}):L.createElement(L.Fragment,null,p,y))});pS(L.createElement);var ZS=({id:t,className:i,style:s,onHeightUpdate:c,children:h})=>{let p=L.useCallback(y=>{if(y){let C=()=>{let v=y.getBoundingClientRect().height;c(t,v)};C(),new MutationObserver(C).observe(y,{subtree:!0,childList:!0,characterData:!0})}},[t,c]);return L.createElement("div",{ref:p,className:i,style:s},h)},KS=(t,i)=>{let s=t.includes("top"),c=s?{top:0}:{bottom:0},h=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(s?1:-1)}px)`,...c,...h}},QS=Yu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wu=16,$S=({reverseOrder:t,position:i="top-center",toastOptions:s,gutter:c,children:h,containerStyle:p,containerClassName:y})=>{let{toasts:C,handlers:v}=TS(s);return L.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:wu,left:wu,right:wu,bottom:wu,pointerEvents:"none",...p},className:y,onMouseEnter:v.startPause,onMouseLeave:v.endPause},C.map(x=>{let E=x.position||i,T=v.calculateOffset(x,{reverseOrder:t,gutter:c,defaultPosition:i}),N=KS(E,T);return L.createElement(ZS,{id:x.id,key:x.id,onHeightUpdate:v.updateHeight,className:x.visible?QS:"",style:N},x.type==="custom"?Bu(x.message,x):h?h(x):L.createElement(XS,{toast:x,position:E}))}))},qS=sr;const JS=({isOpen:t,onClose:i,onConfirm:s,userName:c})=>t?_.jsx("div",{className:"kick-modal",children:_.jsxs("div",{className:"kick-modal-content",children:[_.jsx("h2",{className:"kick-modal-title",children:"Kick User"}),_.jsxs("p",{className:"kick-modal-message",children:["Are you sure you want to kick ",c," from the lobby?"]}),_.jsxs("div",{className:"kick-modal-actions",children:[_.jsx("button",{onClick:s,className:"admin-button admin-button-danger",children:"Yes, Kick User"}),_.jsx("button",{onClick:i,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,e4=({isOpen:t,onClose:i,onConfirm:s})=>t?_.jsx("div",{className:"join-modal",children:_.jsxs("div",{className:"join-modal-content",children:[_.jsx("h2",{className:"join-modal-title",children:"Join Lobby"}),_.jsx("p",{className:"join-modal-message",children:"Are you sure you want to join? You will be paired up with your attendees."}),_.jsxs("div",{className:"join-modal-actions",children:[_.jsx("button",{onClick:s,className:"admin-button admin-button-join",children:"Yes, Join Lobby"}),_.jsx("button",{onClick:i,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,t4=({lobbyState:t,playerCount:i,onStart:s,onEnd:c})=>{const h=t==="checkin",p=i>=2&&t==="checkin",y=t==="active",C=t==="active",v=t==="terminated",[x,E]=L.useState(null),T=()=>{p&&E("start")},N=()=>{C&&E("end")},O=()=>{x==="start"?(s(),qS.success("Rounds started!",{position:"top-center"})):x==="end"&&c(),E(null)},k=()=>E(null),B=(F,z)=>F?"progress-arrow active-shimmer":z?"progress-arrow available-shimmer":"progress-arrow inactive";return _.jsxs("div",{className:"lobby-progress-bar",children:[_.jsx("div",{className:B(h,!1),tabIndex:0,title:"Check-in phase",style:{cursor:"default"},children:"Check-in"}),_.jsx("div",{className:B(y,p&&!y),tabIndex:0,title:p?"Start rounds":"At least 2 players required",onClick:T,style:{cursor:p?"pointer":"default"},children:"Start Rounds"}),_.jsx("div",{className:B(v,C&&!v),tabIndex:0,title:C?"End rounds":"Cannot end yet",onClick:N,style:{cursor:C?"pointer":"default"},children:"End Rounds"}),x&&_.jsx("div",{className:"progress-modal-overlay",children:_.jsxs("div",{className:"progress-modal",children:[_.jsx("div",{className:"progress-modal-title",children:x==="start"?"Are you sure you want to start rounds?":"Are you sure you want to end the rounds?"}),_.jsxs("div",{className:"progress-modal-actions",children:[_.jsx("button",{className:"progress-modal-btn confirm",onClick:O,children:"Confirm"}),_.jsx("button",{className:"progress-modal-btn cancel",onClick:k,children:"Cancel"})]})]})})]})},n4=()=>{const{user:t,userProfile:i,checkAuth:s,permissions:c}=L.useContext(xi),h=ni(),p=vi(),C=new URLSearchParams(p.search).get("code"),[v,x]=L.useState(C||"test");L.useEffect(()=>{C||(console.log("No lobby code found in URL, using default 'test' value"),(async()=>{try{const We=localStorage.getItem("access_token"),pe=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${We}`}});if(pe.ok){const Ue=await pe.json();if(console.log("Active lobbies response:",Ue),Ue&&Ue.lobbies&&Ue.lobbies.length>0){const Me=Ue.lobbies[0];x(Me),window.history.replaceState({},"",`/admin_lobby_view?code=${Me}`)}}}catch(We){console.error("Error fetching active lobby:",We)}})())},[C]);const[E,T]=L.useState(!1),[N,O]=L.useState(null),[k,B]=L.useState(!1),[F,z]=L.useState(null),[H,V]=L.useState(null),[ne,se]=L.useState(null),[ce,q]=L.useState(null),[ue,te]=L.useState(null),[_e,Le]=L.useState({}),[Ne,Ge]=L.useState([]),Re=((H==null?void 0:H.length)||0)+((F==null?void 0:F.length)*2||0);L.useEffect(()=>{if(s(),c!=="admin"&&c!=="organizer"){h("/");return}const we=async pe=>{if(_e[pe])return _e[pe];try{const Ue=await fetch(`${window.server_url}/pfp_small_icon?username=${encodeURIComponent(pe)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(Ue.ok){let Me=await Ue.text();Me.startsWith('"')&&Me.endsWith('"')&&(Me=Me.slice(1,-1));const it=Me.startsWith("data:image")?Me:`data:image/jpeg;base64,${Me}`;return Le(ft=>({...ft,[pe]:it})),it}return null}catch(Ue){return console.error(`Error fetching profile picture for ${pe}:`,Ue),null}},We=setInterval(async()=>{try{const pe=await fetch(window.server_url+"/admin_lobby_data",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:v}});if(pe.ok){const Ue=await pe.json();if(console.log("Admin lobby data:",v,Ue),Ue&&Ue.unpaired_players){const Me=await Promise.all(Ue.unpaired_players.map(async ft=>{const _t=await we(ft.username);return{...ft,pfp_data:_t}})),it=await Promise.all((Ue.pairs_data||[]).map(async ft=>{const _t=await we(ft[0].username),er=await we(ft[1].username);return[{...ft[0],pfp_data:_t},{...ft[1],pfp_data:er}]}));V(Me),z(it),se(Ue.round_time_left),q(Ue.lobby_state),te(Ue.lobby_duration||300),Ge(Ue.custom_tags||[])}else console.error("Invalid lobby data structure:",Ue),V([]),z([])}else console.error("Failed to fetch admin lobby data:",pe.status)}catch(pe){console.error("Error fetching admin lobby data:",pe)}},1e3);return()=>clearInterval(We)},[_e]);const Q=we=>{O(we),T(!0)},Ve=()=>{T(!1),O(null)},Se=()=>{N&&fetch(window.server_url+"/kick_user",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({username:N.username,lobby_code:v})}).then(we=>{we.ok?console.log(`User ${N.name} kicked successfully`):console.error(`Failed to kick user ${N.name}`)}).catch(we=>{console.error("Error kicking user:",we)}).finally(()=>{Ve()})},he=()=>{B(!0)},De=()=>{B(!1)},fe=()=>{h(`/lobby?code=${v}`),De()};async function Z(){const we=document.getElementById("admin-qr-svg");if(!we)return;const pe=new XMLSerializer().serializeToString(we),Ue=new window.Image,Me=512,it=document.createElement("canvas");it.width=Me,it.height=Me;const ft=it.getContext("2d");Ue.onload=async()=>{ft.clearRect(0,0,Me,Me),ft.drawImage(Ue,0,0,Me,Me),it.toBlob(async _t=>{try{await navigator.clipboard.write([new window.ClipboardItem({"image/png":_t})]),alert("QR code copied as PNG!")}catch{alert("Copy failed. Try a Chromium-based browser.")}},"image/png")},Ue.onerror=()=>alert("Failed to render QR code image."),Ue.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(pe)))}const re=async()=>{await fetch(window.server_url+"/start_rounds",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:v}})},me=async()=>{(await fetch(window.server_url+"/terminate_lobby",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:v}})).ok&&h("/")};return _.jsxs(_.Fragment,{children:[_.jsx($S,{position:"top-center"}),_.jsxs("div",{className:"admin-lobby-container",children:[_.jsx("div",{className:"admin-view-logo",children:_.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Reuneo Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),_.jsx(t4,{lobbyState:ce,playerCount:Re,onStart:re,onEnd:me}),_.jsxs("div",{className:"page-controls-header",children:[_.jsx("button",{onClick:()=>h("/"),className:"page-control-button page-control-home",children:"Home"}),_.jsxs("div",{className:"admin-profile",children:[_.jsx("img",{src:i!=null&&i.image_data?`data:image/jpeg;base64,${i.image_data}`:"/assets/player_icon_trans.png",alt:"Your Profile",className:"admin-profile-picture"}),_.jsx("span",{className:"admin-profile-name",children:i!=null&&i.name?i.name.slice(0,20):t==null?void 0:t.slice(0,20)})]}),_.jsx("button",{onClick:he,className:"page-control-button page-control-join",children:"Join"})]}),_.jsx("div",{className:"lobby-code-container",children:_.jsxs("div",{className:"lobby-code-display",onClick:()=>{navigator.clipboard.writeText(v);const we=document.querySelector(".lobby-code-display");we.classList.add("copied"),setTimeout(()=>we.classList.remove("copied"),250)},children:[_.jsx("span",{className:"lobby-code-label",children:"lobby code: "}),_.jsx("span",{className:"lobby-code-value",children:v}),_.jsx("span",{className:"copy-icon","aria-label":"Copy",children:_.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[_.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),_.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]})}),_.jsxs("div",{className:"admin-lobby-body",children:[_.jsxs("div",{className:"admin-lobby-qr",onClick:Z,style:{cursor:"pointer"},children:[_.jsx("div",{style:{position:"relative",display:"inline-block"},children:_.jsx(mx,{value:`${window.location.origin}/lobby?code=${v}`,size:140,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"admin-qr-svg"})}),_.jsxs("span",{className:"qr-label",style:{display:"flex",alignItems:"center",gap:"0.4rem",marginTop:"0.5rem"},children:["People scan to join",_.jsx("span",{className:"copy-icon","aria-label":"Copy",children:_.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[_.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),_.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]})]}),_.jsx("div",{className:"admin-lobby-actions",children:_.jsx("div",{className:"admin-lobby-event-settings",children:_.jsxs("div",{className:"setting-item",children:[_.jsx("span",{className:"setting-label",children:"Round Duration:"}),_.jsxs("span",{className:"setting-value",children:[Math.floor(ue/60)," min"]}),_.jsx("span",{className:"setting-label",children:"Tags:"}),Ne&&Ne.length>0&&_.jsx("div",{className:"setting-item",children:_.jsxs("div",{className:"tags-container",children:[Ne.slice(0,3).map((we,We)=>_.jsx("span",{className:"tag-pill",children:we},We)),Ne.length>3&&_.jsxs("span",{className:"tag-pill more-tags",children:["+",Ne.length-3," more"]})]})})]})})})]}),(ce==="active"||ce==="interrim")&&ne&&_.jsx("div",{className:"admin-lobby-timer-container",children:_.jsxs("div",{className:"admin-lobby-timer",children:[_.jsx(eh,{isPlaying:ce==="active",duration:ue,initialRemainingTime:ne,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>({shouldRepeat:!1}),children:({remainingTime:we})=>{const We=Math.floor(we/60),pe=Math.floor(we%60);return _.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[We,":",String(pe).padStart(2,"0")]})}},`${ce}-${Math.floor(ne)}`),_.jsx("span",{style:{fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff"},children:"round time left"})]})}),_.jsx("div",{className:"admin-lobby-stats",children:_.jsxs("div",{className:"stat-card",children:[_.jsx("div",{className:"stat-title",children:"Total Players"}),_.jsx("div",{className:"stat-value",children:((H==null?void 0:H.length)||0)+((F==null?void 0:F.length)*2||0)}),_.jsx("div",{className:"stat-title",children:"Paired Players"}),_.jsx("div",{className:"stat-value",children:(F==null?void 0:F.length)*2||0}),_.jsx("div",{className:"stat-title",children:"Unpaired Players"}),_.jsx("div",{className:"stat-value",children:(H==null?void 0:H.length)||0})]})}),F&&_.jsx("div",{className:"admin-lobby-players",children:_.jsxs("div",{className:"player-section",children:[_.jsxs("div",{className:"section-header",children:["Paired Players: ",(F==null?void 0:F.length)*2||0]}),_.jsx("div",{className:"player-grid",children:F.map((we,We)=>_.jsxs("div",{className:"paired-player-card",children:[_.jsxs("div",{className:"paired-player",onClick:()=>Q(we[0]),children:[_.jsx("img",{src:we[0].pfp_data,alt:we[0].name,className:"paired-player-avatar"}),_.jsx("h3",{className:"paired-player-name",children:we[0].name})]}),_.jsxs("div",{className:"paired-player",onClick:()=>Q(we[1]),children:[_.jsx("img",{src:we[1].pfp_data,alt:we[1].name,className:"paired-player-avatar"}),_.jsx("h3",{className:"paired-player-name",children:we[1].name})]})]},We))})]})}),H&&_.jsx("div",{className:"admin-lobby-players",children:_.jsxs("div",{className:"player-section",children:[_.jsxs("div",{className:"section-header",children:["Unpaired Players: ",(H==null?void 0:H.length)||0]}),_.jsx("div",{className:"player-grid",children:H.map((we,We)=>_.jsxs("div",{className:"player-card",onClick:()=>Q(we),children:[_.jsx("img",{src:we.pfp_data,alt:we.name,className:"player-avatar"}),_.jsx("h3",{className:"player-name",children:we.name})]},We))})]})}),_.jsx(e4,{isOpen:k,onClose:De,onConfirm:fe}),_.jsx(JS,{isOpen:E,onClose:Ve,onConfirm:Se,userName:(N==null?void 0:N.name)||"this user"})]})]})},r4=()=>{const t=ni(),{user:i}=L.useContext(xi),s=()=>{window.location.href="https://reunio.app/become-an-organizer"};return _.jsxs("div",{className:"product-selection-container",children:[_.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[_.jsx("source",{src:"/assets/purchase_plan_video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),_.jsxs("div",{className:"product-selection-content",children:[_.jsx("div",{className:"product-selection-header",children:_.jsx("h1",{children:"Product Selection"})}),_.jsxs("div",{className:"plans-section",children:[_.jsx("h2",{children:"Available Plans"}),_.jsxs("div",{className:"plan-card",children:[_.jsx("h3",{children:"Organizer Plan"}),_.jsxs("div",{className:"plan-description",children:[_.jsx("p",{children:"Create experiences for your community with our beta plan."}),_.jsxs("ul",{children:[_.jsx("li",{children:"Create unlimited experiences"}),_.jsx("li",{children:"Access to organizer dashboard"}),_.jsx("li",{children:"Priority customer support"})]})]}),_.jsx("button",{className:"purchase-button",onClick:s,children:"Contact Us"})]})]}),_.jsx("button",{className:"back-button",onClick:()=>t("/"),children:"Home"})]})]})},i4=()=>{const{user:t,userProfile:i,checkAuth:s,permissions:c}=L.useContext(xi),[h,p]=L.useState(""),[y,C]=L.useState(""),[v,x]=L.useState(!1),[E,T]=L.useState(""),[N,O]=L.useState(!1),[k,B]=L.useState([]),[F,z]=L.useState(""),[H,V]=L.useState("5"),[ne,se]=L.useState("0"),ce=ni(),q=L.useRef(null);L.useEffect(()=>{window.scrollTo(0,0),t&&(p(t),C(t)),q.current&&q.current.focus()},[t]);const ue=Re=>{const Q=/^[a-z0-9]+$/;return Re.length>=2&&Q.test(Re)},te=Re=>{const Q=Re.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");C(Q),O(!0),setTimeout(()=>{O(!1)},500)},_e=()=>{F.trim()&&!k.includes(F.trim())&&(B([...k,F.trim()]),z(""))},Le=Re=>{B(k.filter(Q=>Q!==Re))},Ne=Re=>{Re.key==="Enter"&&F.trim()&&(Re.preventDefault(),_e())},Ge=async Re=>{if(Re.preventDefault(),!ue(y)){T("Lobby code must be at least 2 characters long and contain only lowercase letters and numbers");return}x(!0),T("");const Q=parseInt(H)*60+parseInt(ne);try{const Ve=await fetch(window.server_url+"/create_lobby",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({lobby_code:y,custom_tags:k,lobby_duration:Q})});if(Ve.ok)console.log("Lobby created successfully"),console.log(await Ve.json()),ce(`/admin_lobby_view?code=${y}`);else{const Se=await Ve.json();T(Se.message||"Failed to create lobby"),console.error("Failed to create lobby")}}catch(Ve){T("An error occurred while creating the lobby"),console.error("Error creating lobby:",Ve)}finally{x(!1)}};return _.jsx("div",{className:"create-lobby-background",children:_.jsxs("div",{className:"create-lobby-container",children:[_.jsx("h1",{className:"create-lobby-title",children:"Create a New Lobby"}),_.jsxs("form",{onSubmit:Ge,className:"create-lobby-form",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"lobbyCode",children:"Lobby Code"}),_.jsx("input",{ref:q,type:"text",id:"lobbyCode",value:y,onChange:te,placeholder:"Enter lobby code (lowercase letters and numbers only)",required:!0,className:`form-input ${N?"typing":""}`,autoComplete:"off"}),_.jsx("div",{className:"input-hint",children:"lowercase letters and numbers only"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Round Duration"}),_.jsxs("div",{className:"duration-input-container",children:[_.jsxs("div",{className:"duration-input-group",children:[_.jsx("input",{type:"number",id:"minutes",value:H,onChange:Re=>{const Q=Re.target.value;(Q===""||parseInt(Q)>0&&parseInt(Q)<=5)&&V(Q)},min:"1",max:"5",placeholder:"1-5",className:"form-input duration-input",autoComplete:"off"}),_.jsx("label",{htmlFor:"minutes",className:"duration-label",children:"Minutes"})]}),_.jsxs("div",{className:"duration-input-group",children:[_.jsx("input",{type:"number",id:"seconds",value:ne,onChange:Re=>{const Q=Re.target.value;(Q===""||parseInt(Q)>=0&&parseInt(Q)<=59)&&se(Q)},min:"0",max:"59",placeholder:"0-59",className:"form-input duration-input",autoComplete:"off"}),_.jsx("label",{htmlFor:"seconds",className:"duration-label",children:"Seconds"})]})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"tagInput",children:"Matchmaking Tags"}),_.jsxs("div",{className:"tag-input-container",children:[_.jsx("input",{type:"text",id:"tagInput",value:F,onChange:Re=>z(Re.target.value),onKeyDown:Ne,placeholder:"Add tags (press + to add)",className:"form-input",autoComplete:"off"}),_.jsx("button",{type:"button",onClick:_e,className:"tag-add-button",children:"+"})]}),k.length>0&&_.jsx("div",{className:"tag-list",children:k.map((Re,Q)=>_.jsxs("div",{className:"tag-item",children:[Re,_.jsx("button",{type:"button",onClick:()=>Le(Re),className:"tag-remove-button",children:"×"})]},Q))}),_.jsx("div",{className:"input-hint",children:"If you want to match people based on role/interests"})]}),E&&_.jsx("div",{className:"error-message",children:E}),_.jsxs("div",{className:"button-group",children:[_.jsx("button",{type:"button",className:"back-button",onClick:()=>ce(-1),children:"← Back"}),_.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"Creating...":"Create Lobby"})]})]})]})})};E2.createRoot(document.getElementById("root")).render(_.jsx(L.StrictMode,{children:_.jsx(A2,{children:_.jsxs(aw,{basename:"/",children:[_.jsx(FA,{}),_.jsxs(By,{children:[_.jsx(ji,{path:"/",element:_.jsx(BA,{})}),_.jsx(ji,{path:"/login",element:_.jsx(jA,{})}),_.jsx(ji,{path:"/signup",element:_.jsx(LA,{})}),_.jsx(ji,{path:"/logout",element:_.jsx(UA,{})}),_.jsx(ji,{path:"/lobby",element:_.jsx(aS,{})}),_.jsx(ji,{path:"/admin_lobby_view",element:_.jsx(n4,{})}),_.jsx(ji,{path:"/create_lobby",element:_.jsx(i4,{})}),_.jsx(ji,{path:"/product-selection",element:_.jsx(r4,{})})]})]})})}));
