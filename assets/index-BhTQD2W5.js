(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const x of p)if(x.type==="childList")for(const y of x.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function a(p){const x={};return p.integrity&&(x.integrity=p.integrity),p.referrerPolicy&&(x.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?x.credentials="include":p.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(p){if(p.ep)return;p.ep=!0;const x=a(p);fetch(p.href,x)}})();var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nf={exports:{}},wa={},rf={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function Ux(){if(V0)return Et;V0=1;var r=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),T=Symbol.iterator;function R(Y){return Y===null||typeof Y!="object"?null:(Y=T&&Y[T]||Y["@@iterator"],typeof Y=="function"?Y:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,j={};function B(Y,te,ve){this.props=Y,this.context=te,this.refs=j,this.updater=ve||k}B.prototype.isReactComponent={},B.prototype.setState=function(Y,te){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,te,"setState")},B.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function U(){}U.prototype=B.prototype;function H(Y,te,ve){this.props=Y,this.context=te,this.refs=j,this.updater=ve||k}var W=H.prototype=new U;W.constructor=H,L(W,B.prototype),W.isPureReactComponent=!0;var Q=Array.isArray,ue=Object.prototype.hasOwnProperty,se={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function ce(Y,te,ve){var je,at={},xe=null,$e=null;if(te!=null)for(je in te.ref!==void 0&&($e=te.ref),te.key!==void 0&&(xe=""+te.key),te)ue.call(te,je)&&!J.hasOwnProperty(je)&&(at[je]=te[je]);var Ce=arguments.length-2;if(Ce===1)at.children=ve;else if(1<Ce){for(var _e=Array(Ce),st=0;st<Ce;st++)_e[st]=arguments[st+2];at.children=_e}if(Y&&Y.defaultProps)for(je in Ce=Y.defaultProps,Ce)at[je]===void 0&&(at[je]=Ce[je]);return{$$typeof:r,type:Y,key:xe,ref:$e,props:at,_owner:se.current}}function q(Y,te){return{$$typeof:r,type:Y.type,key:te,ref:Y.ref,props:Y.props,_owner:Y._owner}}function Ne(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===r}function Xe(Y){var te={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ve){return te[ve]})}var Ie=/\/+/g;function Me(Y,te){return typeof Y=="object"&&Y!==null&&Y.key!=null?Xe(""+Y.key):te.toString(36)}function Fe(Y,te,ve,je,at){var xe=typeof Y;(xe==="undefined"||xe==="boolean")&&(Y=null);var $e=!1;if(Y===null)$e=!0;else switch(xe){case"string":case"number":$e=!0;break;case"object":switch(Y.$$typeof){case r:case o:$e=!0}}if($e)return $e=Y,at=at($e),Y=je===""?"."+Me($e,0):je,Q(at)?(ve="",Y!=null&&(ve=Y.replace(Ie,"$&/")+"/"),Fe(at,te,ve,"",function(st){return st})):at!=null&&(Ne(at)&&(at=q(at,ve+(!at.key||$e&&$e.key===at.key?"":(""+at.key).replace(Ie,"$&/")+"/")+Y)),te.push(at)),1;if($e=0,je=je===""?".":je+":",Q(Y))for(var Ce=0;Ce<Y.length;Ce++){xe=Y[Ce];var _e=je+Me(xe,Ce);$e+=Fe(xe,te,ve,_e,at)}else if(_e=R(Y),typeof _e=="function")for(Y=_e.call(Y),Ce=0;!(xe=Y.next()).done;)xe=xe.value,_e=je+Me(xe,Ce++),$e+=Fe(xe,te,ve,_e,at);else if(xe==="object")throw te=String(Y),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return $e}function ee(Y,te,ve){if(Y==null)return Y;var je=[],at=0;return Fe(Y,je,"","",function(xe){return te.call(ve,xe,at++)}),je}function Oe(Y){if(Y._status===-1){var te=Y._result;te=te(),te.then(function(ve){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ve)},function(ve){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ve)}),Y._status===-1&&(Y._status=0,Y._result=te)}if(Y._status===1)return Y._result.default;throw Y._result}var pe={current:null},de={transition:null},Re={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:de,ReactCurrentOwner:se};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Et.Children={map:ee,forEach:function(Y,te,ve){ee(Y,function(){te.apply(this,arguments)},ve)},count:function(Y){var te=0;return ee(Y,function(){te++}),te},toArray:function(Y){return ee(Y,function(te){return te})||[]},only:function(Y){if(!Ne(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Et.Component=B,Et.Fragment=a,Et.Profiler=p,Et.PureComponent=H,Et.StrictMode=d,Et.Suspense=w,Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Re,Et.act=fe,Et.cloneElement=function(Y,te,ve){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var je=L({},Y.props),at=Y.key,xe=Y.ref,$e=Y._owner;if(te!=null){if(te.ref!==void 0&&(xe=te.ref,$e=se.current),te.key!==void 0&&(at=""+te.key),Y.type&&Y.type.defaultProps)var Ce=Y.type.defaultProps;for(_e in te)ue.call(te,_e)&&!J.hasOwnProperty(_e)&&(je[_e]=te[_e]===void 0&&Ce!==void 0?Ce[_e]:te[_e])}var _e=arguments.length-2;if(_e===1)je.children=ve;else if(1<_e){Ce=Array(_e);for(var st=0;st<_e;st++)Ce[st]=arguments[st+2];je.children=Ce}return{$$typeof:r,type:Y.type,key:at,ref:xe,props:je,_owner:$e}},Et.createContext=function(Y){return Y={$$typeof:y,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:x,_context:Y},Y.Consumer=Y},Et.createElement=ce,Et.createFactory=function(Y){var te=ce.bind(null,Y);return te.type=Y,te},Et.createRef=function(){return{current:null}},Et.forwardRef=function(Y){return{$$typeof:A,render:Y}},Et.isValidElement=Ne,Et.lazy=function(Y){return{$$typeof:S,_payload:{_status:-1,_result:Y},_init:Oe}},Et.memo=function(Y,te){return{$$typeof:E,type:Y,compare:te===void 0?null:te}},Et.startTransition=function(Y){var te=de.transition;de.transition={};try{Y()}finally{de.transition=te}},Et.unstable_act=fe,Et.useCallback=function(Y,te){return pe.current.useCallback(Y,te)},Et.useContext=function(Y){return pe.current.useContext(Y)},Et.useDebugValue=function(){},Et.useDeferredValue=function(Y){return pe.current.useDeferredValue(Y)},Et.useEffect=function(Y,te){return pe.current.useEffect(Y,te)},Et.useId=function(){return pe.current.useId()},Et.useImperativeHandle=function(Y,te,ve){return pe.current.useImperativeHandle(Y,te,ve)},Et.useInsertionEffect=function(Y,te){return pe.current.useInsertionEffect(Y,te)},Et.useLayoutEffect=function(Y,te){return pe.current.useLayoutEffect(Y,te)},Et.useMemo=function(Y,te){return pe.current.useMemo(Y,te)},Et.useReducer=function(Y,te,ve){return pe.current.useReducer(Y,te,ve)},Et.useRef=function(Y){return pe.current.useRef(Y)},Et.useState=function(Y){return pe.current.useState(Y)},Et.useSyncExternalStore=function(Y,te,ve){return pe.current.useSyncExternalStore(Y,te,ve)},Et.useTransition=function(){return pe.current.useTransition()},Et.version="18.3.1",Et}var U0;function Jf(){return U0||(U0=1,rf.exports=Ux()),rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function zx(){if(z0)return wa;z0=1;var r=Jf(),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,p=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function y(A,w,E){var S,T={},R=null,k=null;E!==void 0&&(R=""+E),w.key!==void 0&&(R=""+w.key),w.ref!==void 0&&(k=w.ref);for(S in w)d.call(w,S)&&!x.hasOwnProperty(S)&&(T[S]=w[S]);if(A&&A.defaultProps)for(S in w=A.defaultProps,w)T[S]===void 0&&(T[S]=w[S]);return{$$typeof:o,type:A,key:R,ref:k,props:T,_owner:p.current}}return wa.Fragment=a,wa.jsx=y,wa.jsxs=y,wa}var W0;function Wx(){return W0||(W0=1,nf.exports=zx()),nf.exports}var I=Wx(),P=Jf();const nn=Vp(P);var Jl={},sf={exports:{}},yr={},of={exports:{}},af={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H0;function Hx(){return H0||(H0=1,function(r){function o(de,Re){var fe=de.length;de.push(Re);e:for(;0<fe;){var Y=fe-1>>>1,te=de[Y];if(0<p(te,Re))de[Y]=Re,de[fe]=te,fe=Y;else break e}}function a(de){return de.length===0?null:de[0]}function d(de){if(de.length===0)return null;var Re=de[0],fe=de.pop();if(fe!==Re){de[0]=fe;e:for(var Y=0,te=de.length,ve=te>>>1;Y<ve;){var je=2*(Y+1)-1,at=de[je],xe=je+1,$e=de[xe];if(0>p(at,fe))xe<te&&0>p($e,at)?(de[Y]=$e,de[xe]=fe,Y=xe):(de[Y]=at,de[je]=fe,Y=je);else if(xe<te&&0>p($e,fe))de[Y]=$e,de[xe]=fe,Y=xe;else break e}}return Re}function p(de,Re){var fe=de.sortIndex-Re.sortIndex;return fe!==0?fe:de.id-Re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var y=Date,A=y.now();r.unstable_now=function(){return y.now()-A}}var w=[],E=[],S=1,T=null,R=3,k=!1,L=!1,j=!1,B=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(de){for(var Re=a(E);Re!==null;){if(Re.callback===null)d(E);else if(Re.startTime<=de)d(E),Re.sortIndex=Re.expirationTime,o(w,Re);else break;Re=a(E)}}function Q(de){if(j=!1,W(de),!L)if(a(w)!==null)L=!0,Oe(ue);else{var Re=a(E);Re!==null&&pe(Q,Re.startTime-de)}}function ue(de,Re){L=!1,j&&(j=!1,U(ce),ce=-1),k=!0;var fe=R;try{for(W(Re),T=a(w);T!==null&&(!(T.expirationTime>Re)||de&&!Xe());){var Y=T.callback;if(typeof Y=="function"){T.callback=null,R=T.priorityLevel;var te=Y(T.expirationTime<=Re);Re=r.unstable_now(),typeof te=="function"?T.callback=te:T===a(w)&&d(w),W(Re)}else d(w);T=a(w)}if(T!==null)var ve=!0;else{var je=a(E);je!==null&&pe(Q,je.startTime-Re),ve=!1}return ve}finally{T=null,R=fe,k=!1}}var se=!1,J=null,ce=-1,q=5,Ne=-1;function Xe(){return!(r.unstable_now()-Ne<q)}function Ie(){if(J!==null){var de=r.unstable_now();Ne=de;var Re=!0;try{Re=J(!0,de)}finally{Re?Me():(se=!1,J=null)}}else se=!1}var Me;if(typeof H=="function")Me=function(){H(Ie)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,ee=Fe.port2;Fe.port1.onmessage=Ie,Me=function(){ee.postMessage(null)}}else Me=function(){B(Ie,0)};function Oe(de){J=de,se||(se=!0,Me())}function pe(de,Re){ce=B(function(){de(r.unstable_now())},Re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(de){de.callback=null},r.unstable_continueExecution=function(){L||k||(L=!0,Oe(ue))},r.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<de?Math.floor(1e3/de):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return a(w)},r.unstable_next=function(de){switch(R){case 1:case 2:case 3:var Re=3;break;default:Re=R}var fe=R;R=Re;try{return de()}finally{R=fe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(de,Re){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var fe=R;R=de;try{return Re()}finally{R=fe}},r.unstable_scheduleCallback=function(de,Re,fe){var Y=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Y+fe:Y):fe=Y,de){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=fe+te,de={id:S++,callback:Re,priorityLevel:de,startTime:fe,expirationTime:te,sortIndex:-1},fe>Y?(de.sortIndex=fe,o(E,de),a(w)===null&&de===a(E)&&(j?(U(ce),ce=-1):j=!0,pe(Q,fe-Y))):(de.sortIndex=te,o(w,de),L||k||(L=!0,Oe(ue))),de},r.unstable_shouldYield=Xe,r.unstable_wrapCallback=function(de){var Re=R;return function(){var fe=R;R=Re;try{return de.apply(this,arguments)}finally{R=fe}}}}(af)),af}var G0;function Gx(){return G0||(G0=1,of.exports=Hx()),of.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function Xx(){if(X0)return yr;X0=1;var r=Jf(),o=Gx();function a(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,p={};function x(t,s){y(t,s),y(t+"Capture",s)}function y(t,s){for(p[t]=s,t=0;t<s.length;t++)d.add(s[t])}var A=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},T={};function R(t){return w.call(T,t)?!0:w.call(S,t)?!1:E.test(t)?T[t]=!0:(S[t]=!0,!1)}function k(t,s,f,g){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L(t,s,f,g){if(s===null||typeof s>"u"||k(t,s,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function j(t,s,f,g,C,b,M){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=C,this.mustUseProperty=f,this.propertyName=t,this.type=s,this.sanitizeURL=b,this.removeEmptyString=M}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];B[s]=new j(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function H(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(U,H);B[s]=new j(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(U,H);B[s]=new j(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(U,H);B[s]=new j(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function W(t,s,f,g){var C=B.hasOwnProperty(s)?B[s]:null;(C!==null?C.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,f,C,g)&&(f=null),g||C===null?R(s)&&(f===null?t.removeAttribute(s):t.setAttribute(s,""+f)):C.mustUseProperty?t[C.propertyName]=f===null?C.type===3?!1:"":f:(s=C.attributeName,g=C.attributeNamespace,f===null?t.removeAttribute(s):(C=C.type,f=C===3||C===4&&f===!0?"":""+f,g?t.setAttributeNS(g,s,f):t.setAttribute(s,f))))}var Q=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),se=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Xe=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),de=Symbol.iterator;function Re(t){return t===null||typeof t!="object"?null:(t=de&&t[de]||t["@@iterator"],typeof t=="function"?t:null)}var fe=Object.assign,Y;function te(t){if(Y===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);Y=s&&s[1]||""}return`
`+Y+t}var ve=!1;function je(t,s){if(!t||ve)return"";ve=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(le){var g=le}Reflect.construct(t,[],s)}else{try{s.call()}catch(le){g=le}t.call(s.prototype)}else{try{throw Error()}catch(le){g=le}t()}}catch(le){if(le&&g&&typeof le.stack=="string"){for(var C=le.stack.split(`
`),b=g.stack.split(`
`),M=C.length-1,z=b.length-1;1<=M&&0<=z&&C[M]!==b[z];)z--;for(;1<=M&&0<=z;M--,z--)if(C[M]!==b[z]){if(M!==1||z!==1)do if(M--,z--,0>z||C[M]!==b[z]){var X=`
`+C[M].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=M&&0<=z);break}}}finally{ve=!1,Error.prepareStackTrace=f}return(t=t?t.displayName||t.name:"")?te(t):""}function at(t){switch(t.tag){case 5:return te(t.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return t=je(t.type,!1),t;case 11:return t=je(t.type.render,!1),t;case 1:return t=je(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case J:return"Fragment";case se:return"Portal";case q:return"Profiler";case ce:return"StrictMode";case Me:return"Suspense";case Fe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xe:return(t.displayName||"Context")+".Consumer";case Ne:return(t._context.displayName||"Context")+".Provider";case Ie:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return s=t.displayName||null,s!==null?s:xe(t.type)||"Memo";case Oe:s=t._payload,t=t._init;try{return xe(t(s))}catch{}}return null}function $e(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(s);case 8:return s===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _e(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function st(t){var s=_e(t)?"checked":"value",f=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),g=""+t[s];if(!t.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var C=f.get,b=f.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return C.call(this)},set:function(M){g=""+M,b.call(this,M)}}),Object.defineProperty(t,s,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Qe(t){t._valueTracker||(t._valueTracker=st(t))}function ut(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var f=s.getValue(),g="";return t&&(g=_e(t)?t.checked?"true":"false":t.value),t=g,t!==f?(s.setValue(t),!0):!1}function Ue(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ht(t,s){var f=s.checked;return fe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??t._wrapperState.initialChecked})}function Rt(t,s){var f=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;f=Ce(s.value!=null?s.value:f),t._wrapperState={initialChecked:g,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function fn(t,s){s=s.checked,s!=null&&W(t,"checked",s,!1)}function Ft(t,s){fn(t,s);var f=Ce(s.value),g=s.type;if(f!=null)g==="number"?(f===0&&t.value===""||t.value!=f)&&(t.value=""+f):t.value!==""+f&&(t.value=""+f);else if(g==="submit"||g==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?ft(t,s.type,f):s.hasOwnProperty("defaultValue")&&ft(t,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function bt(t,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,f||s===t.value||(t.value=s),t.defaultValue=s}f=t.name,f!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,f!==""&&(t.name=f)}function ft(t,s,f){(s!=="number"||Ue(t.ownerDocument)!==t)&&(f==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+f&&(t.defaultValue=""+f))}var $t=Array.isArray;function Pe(t,s,f,g){if(t=t.options,s){s={};for(var C=0;C<f.length;C++)s["$"+f[C]]=!0;for(f=0;f<t.length;f++)C=s.hasOwnProperty("$"+t[f].value),t[f].selected!==C&&(t[f].selected=C),C&&g&&(t[f].defaultSelected=!0)}else{for(f=""+Ce(f),s=null,C=0;C<t.length;C++){if(t[C].value===f){t[C].selected=!0,g&&(t[C].defaultSelected=!0);return}s!==null||t[C].disabled||(s=t[C])}s!==null&&(s.selected=!0)}}function rn(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(a(91));return fe({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ze(t,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(a(92));if($t(f)){if(1<f.length)throw Error(a(93));f=f[0]}s=f}s==null&&(s=""),f=s}t._wrapperState={initialValue:Ce(f)}}function we(t,s){var f=Ce(s.value),g=Ce(s.defaultValue);f!=null&&(f=""+f,f!==t.value&&(t.value=f),s.defaultValue==null&&t.defaultValue!==f&&(t.defaultValue=f)),g!=null&&(t.defaultValue=""+g)}function Je(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function Ze(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?Ze(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mt,vt=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,g,C){MSApp.execUnsafeLocalFunction(function(){return t(s,f,g,C)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Mt(t,s){if(s){var f=t.firstChild;if(f&&f===t.lastChild&&f.nodeType===3){f.nodeValue=s;return}}t.textContent=s}var It={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sn=["Webkit","ms","Moz","O"];Object.keys(It).forEach(function(t){Sn.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),It[s]=It[t]})});function jt(t,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||It.hasOwnProperty(t)&&It[t]?(""+s).trim():s+"px"}function Se(t,s){t=t.style;for(var f in s)if(s.hasOwnProperty(f)){var g=f.indexOf("--")===0,C=jt(f,s[f],g);f==="float"&&(f="cssFloat"),g?t.setProperty(f,C):t[f]=C}}var _t=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dt(t,s){if(s){if(_t[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(a(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(a(61))}if(s.style!=null&&typeof s.style!="object")throw Error(a(62))}}function zt(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nr=null;function ji(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vi=null,xt=null,Kn=null;function Ui(t){if(t=ia(t)){if(typeof Vi!="function")throw Error(a(280));var s=t.stateNode;s&&(s=hl(s),Vi(t.stateNode,t.type,s))}}function ws(t){xt?Kn?Kn.push(t):Kn=[t]:xt=t}function Zn(){if(xt){var t=xt,s=Kn;if(Kn=xt=null,Ui(t),s)for(t=0;t<s.length;t++)Ui(s[t])}}function ti(t,s){return t(s)}function xn(){}var wr=!1;function Wr(t,s,f){if(wr)return t(s,f);wr=!0;try{return ti(t,s,f)}finally{wr=!1,(xt!==null||Kn!==null)&&(xn(),Zn())}}function bn(t,s){var f=t.stateNode;if(f===null)return null;var g=hl(f);if(g===null)return null;f=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(t=t.type,g=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!g;break e;default:t=!1}if(t)return null;if(f&&typeof f!="function")throw Error(a(231,s,typeof f));return f}var vs=!1;if(A)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){vs=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{vs=!1}function Cs(t,s,f,g,C,b,M,z,X){var le=Array.prototype.slice.call(arguments,3);try{s.apply(f,le)}catch(ye){this.onError(ye)}}var sn=!1,fr=null,In=!1,ke=null,ni={onError:function(t){sn=!0,fr=t}};function zi(t,s,f,g,C,b,M,z,X){sn=!1,fr=null,Cs.apply(ni,arguments)}function kn(t,s,f,g,C,b,M,z,X){if(zi.apply(this,arguments),sn){if(sn){var le=fr;sn=!1,fr=null}else throw Error(a(198));In||(In=!0,ke=le)}}function $n(t){var s=t,f=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(f=s.return),t=s.return;while(t)}return s.tag===3?f:null}function Hr(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function wi(t){if($n(t)!==t)throw Error(a(188))}function sr(t){var s=t.alternate;if(!s){if(s=$n(t),s===null)throw Error(a(188));return s!==t?null:t}for(var f=t,g=s;;){var C=f.return;if(C===null)break;var b=C.alternate;if(b===null){if(g=C.return,g!==null){f=g;continue}break}if(C.child===b.child){for(b=C.child;b;){if(b===f)return wi(C),t;if(b===g)return wi(C),s;b=b.sibling}throw Error(a(188))}if(f.return!==g.return)f=C,g=b;else{for(var M=!1,z=C.child;z;){if(z===f){M=!0,f=C,g=b;break}if(z===g){M=!0,g=C,f=b;break}z=z.sibling}if(!M){for(z=b.child;z;){if(z===f){M=!0,f=b,g=C;break}if(z===g){M=!0,g=b,f=C;break}z=z.sibling}if(!M)throw Error(a(189))}}if(f.alternate!==g)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?t:s}function Le(t){return t=sr(t),t!==null?ht(t):null}function ht(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=ht(t);if(s!==null)return s;t=t.sibling}return null}var qe=o.unstable_scheduleCallback,yt=o.unstable_cancelCallback,De=o.unstable_shouldYield,Vn=o.unstable_requestPaint,kt=o.unstable_now,Es=o.unstable_getCurrentPriorityLevel,he=o.unstable_ImmediatePriority,dr=o.unstable_UserBlockingPriority,Nt=o.unstable_NormalPriority,vi=o.unstable_LowPriority,As=o.unstable_IdlePriority,Ct=null,pt=null;function At(t){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Ct,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:yn,jo=Math.log,Vo=Math.LN2;function yn(t){return t>>>=0,t===0?32:31-(jo(t)/Vo|0)|0}var vr=64,eo=4194304;function Gt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cr(t,s){var f=t.pendingLanes;if(f===0)return 0;var g=0,C=t.suspendedLanes,b=t.pingedLanes,M=f&268435455;if(M!==0){var z=M&~C;z!==0?g=Gt(z):(b&=M,b!==0&&(g=Gt(b)))}else M=f&~C,M!==0?g=Gt(M):b!==0&&(g=Gt(b));if(g===0)return 0;if(s!==0&&s!==g&&!(s&C)&&(C=g&-g,b=s&-s,C>=b||C===16&&(b&4194240)!==0))return s;if(g&4&&(g|=f&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=g;0<s;)f=31-or(s),C=1<<f,g|=t[f],s&=~C;return g}function Lc(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wi(t,s){for(var f=t.suspendedLanes,g=t.pingedLanes,C=t.expirationTimes,b=t.pendingLanes;0<b;){var M=31-or(b),z=1<<M,X=C[M];X===-1?(!(z&f)||z&g)&&(C[M]=Lc(z,s)):X<=s&&(t.expiredLanes|=z),b&=~z}}function Vt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tn(){var t=vr;return vr<<=1,!(vr&4194240)&&(vr=64),t}function ne(t){for(var s=[],f=0;31>f;f++)s.push(t);return s}function F(t,s,f){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-or(s),t[s]=f}function Ye(t,s){var f=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var g=t.eventTimes;for(t=t.expirationTimes;0<f;){var C=31-or(f),b=1<<C;s[C]=0,g[C]=-1,t[C]=-1,f&=~b}}function dn(t,s){var f=t.entangledLanes|=s;for(t=t.entanglements;f;){var g=31-or(f),C=1<<g;C&s|t[g]&s&&(t[g]|=s),f&=~C}}var gt=0;function qa(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var to,qn,Ke,Xt,Uo,zo=!1,Hi=[],Er=null,Rr=null,ri=null,en=new Map,Gr=new Map,Un=[],rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(t,s){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":en.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(s.pointerId)}}function lt(t,s,f,g,C,b){return t===null||t.nativeEvent!==b?(t={blockedOn:s,domEventName:f,eventSystemFlags:g,nativeEvent:b,targetContainers:[C]},s!==null&&(s=ia(s),s!==null&&qn(s)),t):(t.eventSystemFlags|=g,s=t.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),t)}function Nn(t,s,f,g,C){switch(s){case"focusin":return Er=lt(Er,t,s,f,g,C),!0;case"dragenter":return Rr=lt(Rr,t,s,f,g,C),!0;case"mouseover":return ri=lt(ri,t,s,f,g,C),!0;case"pointerover":var b=C.pointerId;return en.set(b,lt(en.get(b)||null,t,s,f,g,C)),!0;case"gotpointercapture":return b=C.pointerId,Gr.set(b,lt(Gr.get(b)||null,t,s,f,g,C)),!0}return!1}function Ja(t){var s=Ms(t.target);if(s!==null){var f=$n(s);if(f!==null){if(s=f.tag,s===13){if(s=Hr(f),s!==null){t.blockedOn=s,Uo(t.priority,function(){Ke(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){t.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gi(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var f=no(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(f===null){f=t.nativeEvent;var g=new f.constructor(f.type,f);Nr=g,f.target.dispatchEvent(g),Nr=null}else return s=ia(f),s!==null&&qn(s),t.blockedOn=f,!1;s.shift()}return!0}function Wo(t,s,f){Gi(t)&&f.delete(s)}function Ci(){zo=!1,Er!==null&&Gi(Er)&&(Er=null),Rr!==null&&Gi(Rr)&&(Rr=null),ri!==null&&Gi(ri)&&(ri=null),en.forEach(Wo),Gr.forEach(Wo)}function Ss(t,s){t.blockedOn===s&&(t.blockedOn=null,zo||(zo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ci)))}function Xr(t){function s(C){return Ss(C,t)}if(0<Hi.length){Ss(Hi[0],t);for(var f=1;f<Hi.length;f++){var g=Hi[f];g.blockedOn===t&&(g.blockedOn=null)}}for(Er!==null&&Ss(Er,t),Rr!==null&&Ss(Rr,t),ri!==null&&Ss(ri,t),en.forEach(s),Gr.forEach(s),f=0;f<Un.length;f++)g=Un[f],g.blockedOn===t&&(g.blockedOn=null);for(;0<Un.length&&(f=Un[0],f.blockedOn===null);)Ja(f),f.blockedOn===null&&Un.shift()}var _r=Q.ReactCurrentBatchConfig,ii=!0;function el(t,s,f,g){var C=gt,b=_r.transition;_r.transition=null;try{gt=1,Ei(t,s,f,g)}finally{gt=C,_r.transition=b}}function bs(t,s,f,g){var C=gt,b=_r.transition;_r.transition=null;try{gt=4,Ei(t,s,f,g)}finally{gt=C,_r.transition=b}}function Ei(t,s,f,g){if(ii){var C=no(t,s,f,g);if(C===null)Xc(t,s,g,Rn,f),Qa(t,g);else if(Nn(C,t,s,f,g))g.stopPropagation();else if(Qa(t,g),s&4&&-1<rt.indexOf(t)){for(;C!==null;){var b=ia(C);if(b!==null&&to(b),b=no(t,s,f,g),b===null&&Xc(t,s,g,Rn,f),b===C)break;C=b}C!==null&&g.stopPropagation()}else Xc(t,s,g,null,f)}}var Rn=null;function no(t,s,f,g){if(Rn=null,t=ji(g),t=Ms(t),t!==null)if(s=$n(t),s===null)t=null;else if(f=s.tag,f===13){if(t=Hr(s),t!==null)return t;t=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Rn=t,null}function Ho(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Es()){case he:return 1;case dr:return 4;case Nt:case vi:return 16;case As:return 536870912;default:return 16}default:return 16}}var Yr=null,Go=null,ro=null;function tl(){if(ro)return ro;var t,s=Go,f=s.length,g,C="value"in Yr?Yr.value:Yr.textContent,b=C.length;for(t=0;t<f&&s[t]===C[t];t++);var M=f-t;for(g=1;g<=M&&s[f-g]===C[b-g];g++);return ro=C.slice(t,1<g?1-g:void 0)}function Ot(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Is(){return!0}function Ts(){return!1}function hn(t){function s(f,g,C,b,M){this._reactName=f,this._targetInst=C,this.type=g,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(f=t[z],this[z]=f?f(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Is:Ts,this.isPropagationStopped=Ts,this}return fe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ae=hn(Xi),dt=fe({},Xi,{view:0,detail:0}),_n=hn(dt),Yi,io,Ns,so=fe({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ns&&(Ns&&t.type==="mousemove"?(Yi=t.screenX-Ns.screenX,io=t.screenY-Ns.screenY):io=Yi=0,Ns=t),Yi)},movementY:function(t){return"movementY"in t?t.movementY:io}}),nl=hn(so),Xo=fe({},so,{dataTransfer:0}),wn=hn(Xo),Yo=fe({},dt,{relatedTarget:0}),Yt=hn(Yo),oo=fe({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ai=hn(oo),Ut=fe({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),et=hn(Ut),Bc=fe({},Xi,{data:0}),Wt=hn(Bc),Si={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ki={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Fc[t])?!!s[t]:!1}function Rs(){return Or}var rl=fe({},dt,{key:function(t){if(t.key){var s=Si[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ot(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ki[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?Ot(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ot(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=hn(rl),il=fe({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=hn(il),jc=fe({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Zi=hn(jc),$o=fe({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vc=hn($o),_s=fe({},so,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uc=hn(_s),si=[9,13,27,32],$i=A&&"CompositionEvent"in window,Ln=null;A&&"documentMode"in document&&(Ln=document.documentMode);var sl=A&&"TextEvent"in window&&!Ln,Ar=A&&(!$i||Ln&&8<Ln&&11>=Ln),ol=" ",ao=!1;function al(t,s){switch(t){case"keyup":return si.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zn=!1;function zc(t,s){switch(t){case"compositionend":return qo(s);case"keypress":return s.which!==32?null:(ao=!0,ol);case"textInput":return t=s.data,t===ol&&ao?null:t;default:return null}}function Qo(t,s){if(zn)return t==="compositionend"||!$i&&al(t,s)?(t=tl(),ro=Go=Yr=null,zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ar&&s.locale!=="ko"?null:s.data;default:return null}}var Os={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Os[t.type]:s==="textarea"}function Ps(t,s,f,g){ws(g),s=ul(s,"onChange"),0<s.length&&(f=new ae("onChange","change",null,f,g),t.push({event:f,listeners:s}))}var _=null,e=null;function n(t){nh(t,0)}function i(t){var s=uo(t);if(ut(s))return t}function l(t,s){if(t==="change")return s}var c=!1;if(A){var u;if(A){var h="oninput"in document;if(!h){var m=document.createElement("div");m.setAttribute("oninput","return;"),h=typeof m.oninput=="function"}u=h}else u=!1;c=u&&(!document.documentMode||9<document.documentMode)}function v(){_&&(_.detachEvent("onpropertychange",N),e=_=null)}function N(t){if(t.propertyName==="value"&&i(e)){var s=[];Ps(s,e,t,ji(t)),Wr(n,s)}}function O(t,s,f){t==="focusin"?(v(),_=s,e=f,_.attachEvent("onpropertychange",N)):t==="focusout"&&v()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return i(e)}function V(t,s){if(t==="click")return i(s)}function G(t,s){if(t==="input"||t==="change")return i(s)}function K(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var $=typeof Object.is=="function"?Object.is:K;function oe(t,s){if($(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var f=Object.keys(t),g=Object.keys(s);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var C=f[g];if(!w.call(s,C)||!$(t[C],s[C]))return!1}return!0}function Ae(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function be(t,s){var f=Ae(t);t=0;for(var g;f;){if(f.nodeType===3){if(g=t+f.textContent.length,t<=s&&g>=s)return{node:f,offset:s-t};t=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ae(f)}}function me(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?me(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function wt(){for(var t=window,s=Ue();s instanceof t.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)t=s.contentWindow;else break;s=Ue(t.document)}return s}function ct(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Qn(t){var s=wt(),f=t.focusedElem,g=t.selectionRange;if(s!==f&&f&&f.ownerDocument&&me(f.ownerDocument.documentElement,f)){if(g!==null&&ct(f)){if(s=g.start,t=g.end,t===void 0&&(t=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(t,f.value.length);else if(t=(s=f.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var C=f.textContent.length,b=Math.min(g.start,C);g=g.end===void 0?b:Math.min(g.end,C),!t.extend&&b>g&&(C=g,g=b,b=C),C=be(f,b);var M=be(f,g);C&&M&&(t.rangeCount!==1||t.anchorNode!==C.node||t.anchorOffset!==C.offset||t.focusNode!==M.node||t.focusOffset!==M.offset)&&(s=s.createRange(),s.setStart(C.node,C.offset),t.removeAllRanges(),b>g?(t.addRange(s),t.extend(M.node,M.offset)):(s.setEnd(M.node,M.offset),t.addRange(s)))}}for(s=[],t=f;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)t=s[f],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sr=A&&"documentMode"in document&&11>=document.documentMode,vn=null,Bt=null,on=null,Wn=!1;function bi(t,s,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Wn||vn==null||vn!==Ue(g)||(g=vn,"selectionStart"in g&&ct(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),on&&oe(on,g)||(on=g,g=ul(Bt,"onSelect"),0<g.length&&(s=new ae("onSelect","select",null,s,f),t.push({event:s,listeners:g}),s.target=vn)))}function Kr(t,s){var f={};return f[t.toLowerCase()]=s.toLowerCase(),f["Webkit"+t]="webkit"+s,f["Moz"+t]="moz"+s,f}var qi={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionend:Kr("Transition","TransitionEnd")},Jo={},Kd={};A&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete qi.animationend.animation,delete qi.animationiteration.animation,delete qi.animationstart.animation),"TransitionEvent"in window||delete qi.transitionend.transition);function ll(t){if(Jo[t])return Jo[t];if(!qi[t])return t;var s=qi[t],f;for(f in s)if(s.hasOwnProperty(f)&&f in Kd)return Jo[t]=s[f];return t}var Zd=ll("animationend"),$d=ll("animationiteration"),qd=ll("animationstart"),Qd=ll("transitionend"),Jd=new Map,eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qi(t,s){Jd.set(t,s),x(s,[t])}for(var Wc=0;Wc<eh.length;Wc++){var Hc=eh[Wc],$m=Hc.toLowerCase(),qm=Hc[0].toUpperCase()+Hc.slice(1);Qi($m,"on"+qm)}Qi(Zd,"onAnimationEnd"),Qi($d,"onAnimationIteration"),Qi(qd,"onAnimationStart"),Qi("dblclick","onDoubleClick"),Qi("focusin","onFocus"),Qi("focusout","onBlur"),Qi(Qd,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qm=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function th(t,s,f){var g=t.type||"unknown-event";t.currentTarget=f,kn(g,s,void 0,t),t.currentTarget=null}function nh(t,s){s=(s&4)!==0;for(var f=0;f<t.length;f++){var g=t[f],C=g.event;g=g.listeners;e:{var b=void 0;if(s)for(var M=g.length-1;0<=M;M--){var z=g[M],X=z.instance,le=z.currentTarget;if(z=z.listener,X!==b&&C.isPropagationStopped())break e;th(C,z,le),b=X}else for(M=0;M<g.length;M++){if(z=g[M],X=z.instance,le=z.currentTarget,z=z.listener,X!==b&&C.isPropagationStopped())break e;th(C,z,le),b=X}}}if(In)throw t=ke,In=!1,ke=null,t}function Qt(t,s){var f=s[Qc];f===void 0&&(f=s[Qc]=new Set);var g=t+"__bubble";f.has(g)||(rh(s,t,2,!1),f.add(g))}function Gc(t,s,f){var g=0;s&&(g|=4),rh(f,t,g,s)}var cl="_reactListening"+Math.random().toString(36).slice(2);function ta(t){if(!t[cl]){t[cl]=!0,d.forEach(function(f){f!=="selectionchange"&&(Qm.has(f)||Gc(f,!1,t),Gc(f,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[cl]||(s[cl]=!0,Gc("selectionchange",!1,s))}}function rh(t,s,f,g){switch(Ho(s)){case 1:var C=el;break;case 4:C=bs;break;default:C=Ei}f=C.bind(null,s,f,t),C=void 0,!vs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),g?C!==void 0?t.addEventListener(s,f,{capture:!0,passive:C}):t.addEventListener(s,f,!0):C!==void 0?t.addEventListener(s,f,{passive:C}):t.addEventListener(s,f,!1)}function Xc(t,s,f,g,C){var b=g;if(!(s&1)&&!(s&2)&&g!==null)e:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var z=g.stateNode.containerInfo;if(z===C||z.nodeType===8&&z.parentNode===C)break;if(M===4)for(M=g.return;M!==null;){var X=M.tag;if((X===3||X===4)&&(X=M.stateNode.containerInfo,X===C||X.nodeType===8&&X.parentNode===C))return;M=M.return}for(;z!==null;){if(M=Ms(z),M===null)return;if(X=M.tag,X===5||X===6){g=b=M;continue e}z=z.parentNode}}g=g.return}Wr(function(){var le=b,ye=ji(f),Ee=[];e:{var ge=Jd.get(t);if(ge!==void 0){var Be=ae,We=t;switch(t){case"keypress":if(Ot(f)===0)break e;case"keydown":case"keyup":Be=Ko;break;case"focusin":We="focus",Be=Yt;break;case"focusout":We="blur",Be=Yt;break;case"beforeblur":case"afterblur":Be=Yt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=wn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Zi;break;case Zd:case $d:case qd:Be=Ai;break;case Qd:Be=Vc;break;case"scroll":Be=_n;break;case"wheel":Be=Uc;break;case"copy":case"cut":case"paste":Be=et;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Zo}var He=(s&4)!==0,Cn=!He&&t==="scroll",re=He?ge!==null?ge+"Capture":null:ge;He=[];for(var Z=le,ie;Z!==null;){ie=Z;var Te=ie.stateNode;if(ie.tag===5&&Te!==null&&(ie=Te,re!==null&&(Te=bn(Z,re),Te!=null&&He.push(na(Z,Te,ie)))),Cn)break;Z=Z.return}0<He.length&&(ge=new Be(ge,We,null,f,ye),Ee.push({event:ge,listeners:He}))}}if(!(s&7)){e:{if(ge=t==="mouseover"||t==="pointerover",Be=t==="mouseout"||t==="pointerout",ge&&f!==Nr&&(We=f.relatedTarget||f.fromElement)&&(Ms(We)||We[Ii]))break e;if((Be||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Be?(We=f.relatedTarget||f.toElement,Be=le,We=We?Ms(We):null,We!==null&&(Cn=$n(We),We!==Cn||We.tag!==5&&We.tag!==6)&&(We=null)):(Be=null,We=le),Be!==We)){if(He=nl,Te="onMouseLeave",re="onMouseEnter",Z="mouse",(t==="pointerout"||t==="pointerover")&&(He=Zo,Te="onPointerLeave",re="onPointerEnter",Z="pointer"),Cn=Be==null?ge:uo(Be),ie=We==null?ge:uo(We),ge=new He(Te,Z+"leave",Be,f,ye),ge.target=Cn,ge.relatedTarget=ie,Te=null,Ms(ye)===le&&(He=new He(re,Z+"enter",We,f,ye),He.target=ie,He.relatedTarget=Cn,Te=He),Cn=Te,Be&&We)t:{for(He=Be,re=We,Z=0,ie=He;ie;ie=lo(ie))Z++;for(ie=0,Te=re;Te;Te=lo(Te))ie++;for(;0<Z-ie;)He=lo(He),Z--;for(;0<ie-Z;)re=lo(re),ie--;for(;Z--;){if(He===re||re!==null&&He===re.alternate)break t;He=lo(He),re=lo(re)}He=null}else He=null;Be!==null&&ih(Ee,ge,Be,He,!1),We!==null&&Cn!==null&&ih(Ee,Cn,We,He,!0)}}e:{if(ge=le?uo(le):window,Be=ge.nodeName&&ge.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ge.type==="file")var Ge=l;else if(Tt(ge))if(c)Ge=G;else{Ge=D;var tt=O}else(Be=ge.nodeName)&&Be.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(Ge=V);if(Ge&&(Ge=Ge(t,le))){Ps(Ee,Ge,f,ye);break e}tt&&tt(t,ge,le),t==="focusout"&&(tt=ge._wrapperState)&&tt.controlled&&ge.type==="number"&&ft(ge,"number",ge.value)}switch(tt=le?uo(le):window,t){case"focusin":(Tt(tt)||tt.contentEditable==="true")&&(vn=tt,Bt=le,on=null);break;case"focusout":on=Bt=vn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":Wn=!1,bi(Ee,f,ye);break;case"selectionchange":if(Sr)break;case"keydown":case"keyup":bi(Ee,f,ye)}var nt;if($i)e:{switch(t){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else zn?al(t,f)&&(ot="onCompositionEnd"):t==="keydown"&&f.keyCode===229&&(ot="onCompositionStart");ot&&(Ar&&f.locale!=="ko"&&(zn||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&zn&&(nt=tl()):(Yr=ye,Go="value"in Yr?Yr.value:Yr.textContent,zn=!0)),tt=ul(le,ot),0<tt.length&&(ot=new Wt(ot,t,null,f,ye),Ee.push({event:ot,listeners:tt}),nt?ot.data=nt:(nt=qo(f),nt!==null&&(ot.data=nt)))),(nt=sl?zc(t,f):Qo(t,f))&&(le=ul(le,"onBeforeInput"),0<le.length&&(ye=new Wt("onBeforeInput","beforeinput",null,f,ye),Ee.push({event:ye,listeners:le}),ye.data=nt))}nh(Ee,s)})}function na(t,s,f){return{instance:t,listener:s,currentTarget:f}}function ul(t,s){for(var f=s+"Capture",g=[];t!==null;){var C=t,b=C.stateNode;C.tag===5&&b!==null&&(C=b,b=bn(t,f),b!=null&&g.unshift(na(t,b,C)),b=bn(t,s),b!=null&&g.push(na(t,b,C))),t=t.return}return g}function lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ih(t,s,f,g,C){for(var b=s._reactName,M=[];f!==null&&f!==g;){var z=f,X=z.alternate,le=z.stateNode;if(X!==null&&X===g)break;z.tag===5&&le!==null&&(z=le,C?(X=bn(f,b),X!=null&&M.unshift(na(f,X,z))):C||(X=bn(f,b),X!=null&&M.push(na(f,X,z)))),f=f.return}M.length!==0&&t.push({event:s,listeners:M})}var Jm=/\r\n?/g,ex=/\u0000|\uFFFD/g;function sh(t){return(typeof t=="string"?t:""+t).replace(Jm,`
`).replace(ex,"")}function fl(t,s,f){if(s=sh(s),sh(t)!==s&&f)throw Error(a(425))}function dl(){}var Yc=null,Kc=null;function Zc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,tx=typeof clearTimeout=="function"?clearTimeout:void 0,oh=typeof Promise=="function"?Promise:void 0,nx=typeof queueMicrotask=="function"?queueMicrotask:typeof oh<"u"?function(t){return oh.resolve(null).then(t).catch(rx)}:$c;function rx(t){setTimeout(function(){throw t})}function qc(t,s){var f=s,g=0;do{var C=f.nextSibling;if(t.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(g===0){t.removeChild(C),Xr(s);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=C}while(f);Xr(s)}function Ji(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function ah(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var f=t.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return t;s--}else f==="/$"&&s++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),oi="__reactFiber$"+co,ra="__reactProps$"+co,Ii="__reactContainer$"+co,Qc="__reactEvents$"+co,ix="__reactListeners$"+co,sx="__reactHandles$"+co;function Ms(t){var s=t[oi];if(s)return s;for(var f=t.parentNode;f;){if(s=f[Ii]||f[oi]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(t=ah(t);t!==null;){if(f=t[oi])return f;t=ah(t)}return s}t=f,f=t.parentNode}return null}function ia(t){return t=t[oi]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function hl(t){return t[ra]||null}var Jc=[],fo=-1;function es(t){return{current:t}}function Jt(t){0>fo||(t.current=Jc[fo],Jc[fo]=null,fo--)}function Kt(t,s){fo++,Jc[fo]=t.current,t.current=s}var ts={},Jn=es(ts),hr=es(!1),Ds=ts;function ho(t,s){var f=t.type.contextTypes;if(!f)return ts;var g=t.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var C={},b;for(b in f)C[b]=s[b];return g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=C),C}function pr(t){return t=t.childContextTypes,t!=null}function pl(){Jt(hr),Jt(Jn)}function lh(t,s,f){if(Jn.current!==ts)throw Error(a(168));Kt(Jn,s),Kt(hr,f)}function ch(t,s,f){var g=t.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var C in g)if(!(C in s))throw Error(a(108,$e(t)||"Unknown",C));return fe({},f,g)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ts,Ds=Jn.current,Kt(Jn,t),Kt(hr,hr.current),!0}function uh(t,s,f){var g=t.stateNode;if(!g)throw Error(a(169));f?(t=ch(t,s,Ds),g.__reactInternalMemoizedMergedChildContext=t,Jt(hr),Jt(Jn),Kt(Jn,t)):Jt(hr),Kt(hr,f)}var Ti=null,ml=!1,eu=!1;function fh(t){Ti===null?Ti=[t]:Ti.push(t)}function ox(t){ml=!0,fh(t)}function ns(){if(!eu&&Ti!==null){eu=!0;var t=0,s=gt;try{var f=Ti;for(gt=1;t<f.length;t++){var g=f[t];do g=g(!0);while(g!==null)}Ti=null,ml=!1}catch(C){throw Ti!==null&&(Ti=Ti.slice(t+1)),qe(he,ns),C}finally{gt=s,eu=!1}}return null}var po=[],go=0,xl=null,yl=0,Pr=[],Mr=0,ks=null,Ni=1,Ri="";function Ls(t,s){po[go++]=yl,po[go++]=xl,xl=t,yl=s}function dh(t,s,f){Pr[Mr++]=Ni,Pr[Mr++]=Ri,Pr[Mr++]=ks,ks=t;var g=Ni;t=Ri;var C=32-or(g)-1;g&=~(1<<C),f+=1;var b=32-or(s)+C;if(30<b){var M=C-C%5;b=(g&(1<<M)-1).toString(32),g>>=M,C-=M,Ni=1<<32-or(s)+C|f<<C|g,Ri=b+t}else Ni=1<<b|f<<C|g,Ri=t}function tu(t){t.return!==null&&(Ls(t,1),dh(t,1,0))}function nu(t){for(;t===xl;)xl=po[--go],po[go]=null,yl=po[--go],po[go]=null;for(;t===ks;)ks=Pr[--Mr],Pr[Mr]=null,Ri=Pr[--Mr],Pr[Mr]=null,Ni=Pr[--Mr],Pr[Mr]=null}var br=null,Ir=null,tn=!1,Zr=null;function hh(t,s){var f=Br(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=t,s=t.deletions,s===null?(t.deletions=[f],t.flags|=16):s.push(f)}function ph(t,s){switch(t.tag){case 5:var f=t.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,br=t,Ir=Ji(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,br=t,Ir=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=ks!==null?{id:Ni,overflow:Ri}:null,t.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=Br(18,null,null,0),f.stateNode=s,f.return=t,t.child=f,br=t,Ir=null,!0):!1;default:return!1}}function ru(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iu(t){if(tn){var s=Ir;if(s){var f=s;if(!ph(t,s)){if(ru(t))throw Error(a(418));s=Ji(f.nextSibling);var g=br;s&&ph(t,s)?hh(g,f):(t.flags=t.flags&-4097|2,tn=!1,br=t)}}else{if(ru(t))throw Error(a(418));t.flags=t.flags&-4097|2,tn=!1,br=t}}}function gh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;br=t}function wl(t){if(t!==br)return!1;if(!tn)return gh(t),tn=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Zc(t.type,t.memoizedProps)),s&&(s=Ir)){if(ru(t))throw mh(),Error(a(418));for(;s;)hh(t,s),s=Ji(s.nextSibling)}if(gh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var f=t.data;if(f==="/$"){if(s===0){Ir=Ji(t.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}t=t.nextSibling}Ir=null}}else Ir=br?Ji(t.stateNode.nextSibling):null;return!0}function mh(){for(var t=Ir;t;)t=Ji(t.nextSibling)}function mo(){Ir=br=null,tn=!1}function su(t){Zr===null?Zr=[t]:Zr.push(t)}var ax=Q.ReactCurrentBatchConfig;function sa(t,s,f){if(t=f.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(a(309));var g=f.stateNode}if(!g)throw Error(a(147,t));var C=g,b=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===b?s.ref:(s=function(M){var z=C.refs;M===null?delete z[b]:z[b]=M},s._stringRef=b,s)}if(typeof t!="string")throw Error(a(284));if(!f._owner)throw Error(a(290,t))}return t}function vl(t,s){throw t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function xh(t){var s=t._init;return s(t._payload)}function yh(t){function s(re,Z){if(t){var ie=re.deletions;ie===null?(re.deletions=[Z],re.flags|=16):ie.push(Z)}}function f(re,Z){if(!t)return null;for(;Z!==null;)s(re,Z),Z=Z.sibling;return null}function g(re,Z){for(re=new Map;Z!==null;)Z.key!==null?re.set(Z.key,Z):re.set(Z.index,Z),Z=Z.sibling;return re}function C(re,Z){return re=us(re,Z),re.index=0,re.sibling=null,re}function b(re,Z,ie){return re.index=ie,t?(ie=re.alternate,ie!==null?(ie=ie.index,ie<Z?(re.flags|=2,Z):ie):(re.flags|=2,Z)):(re.flags|=1048576,Z)}function M(re){return t&&re.alternate===null&&(re.flags|=2),re}function z(re,Z,ie,Te){return Z===null||Z.tag!==6?(Z=$u(ie,re.mode,Te),Z.return=re,Z):(Z=C(Z,ie),Z.return=re,Z)}function X(re,Z,ie,Te){var Ge=ie.type;return Ge===J?ye(re,Z,ie.props.children,Te,ie.key):Z!==null&&(Z.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Oe&&xh(Ge)===Z.type)?(Te=C(Z,ie.props),Te.ref=sa(re,Z,ie),Te.return=re,Te):(Te=Hl(ie.type,ie.key,ie.props,null,re.mode,Te),Te.ref=sa(re,Z,ie),Te.return=re,Te)}function le(re,Z,ie,Te){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=qu(ie,re.mode,Te),Z.return=re,Z):(Z=C(Z,ie.children||[]),Z.return=re,Z)}function ye(re,Z,ie,Te,Ge){return Z===null||Z.tag!==7?(Z=Hs(ie,re.mode,Te,Ge),Z.return=re,Z):(Z=C(Z,ie),Z.return=re,Z)}function Ee(re,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=$u(""+Z,re.mode,ie),Z.return=re,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ue:return ie=Hl(Z.type,Z.key,Z.props,null,re.mode,ie),ie.ref=sa(re,null,Z),ie.return=re,ie;case se:return Z=qu(Z,re.mode,ie),Z.return=re,Z;case Oe:var Te=Z._init;return Ee(re,Te(Z._payload),ie)}if($t(Z)||Re(Z))return Z=Hs(Z,re.mode,ie,null),Z.return=re,Z;vl(re,Z)}return null}function ge(re,Z,ie,Te){var Ge=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ge!==null?null:z(re,Z,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ue:return ie.key===Ge?X(re,Z,ie,Te):null;case se:return ie.key===Ge?le(re,Z,ie,Te):null;case Oe:return Ge=ie._init,ge(re,Z,Ge(ie._payload),Te)}if($t(ie)||Re(ie))return Ge!==null?null:ye(re,Z,ie,Te,null);vl(re,ie)}return null}function Be(re,Z,ie,Te,Ge){if(typeof Te=="string"&&Te!==""||typeof Te=="number")return re=re.get(ie)||null,z(Z,re,""+Te,Ge);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case ue:return re=re.get(Te.key===null?ie:Te.key)||null,X(Z,re,Te,Ge);case se:return re=re.get(Te.key===null?ie:Te.key)||null,le(Z,re,Te,Ge);case Oe:var tt=Te._init;return Be(re,Z,ie,tt(Te._payload),Ge)}if($t(Te)||Re(Te))return re=re.get(ie)||null,ye(Z,re,Te,Ge,null);vl(Z,Te)}return null}function We(re,Z,ie,Te){for(var Ge=null,tt=null,nt=Z,ot=Z=0,jn=null;nt!==null&&ot<ie.length;ot++){nt.index>ot?(jn=nt,nt=null):jn=nt.sibling;var Lt=ge(re,nt,ie[ot],Te);if(Lt===null){nt===null&&(nt=jn);break}t&&nt&&Lt.alternate===null&&s(re,nt),Z=b(Lt,Z,ot),tt===null?Ge=Lt:tt.sibling=Lt,tt=Lt,nt=jn}if(ot===ie.length)return f(re,nt),tn&&Ls(re,ot),Ge;if(nt===null){for(;ot<ie.length;ot++)nt=Ee(re,ie[ot],Te),nt!==null&&(Z=b(nt,Z,ot),tt===null?Ge=nt:tt.sibling=nt,tt=nt);return tn&&Ls(re,ot),Ge}for(nt=g(re,nt);ot<ie.length;ot++)jn=Be(nt,re,ot,ie[ot],Te),jn!==null&&(t&&jn.alternate!==null&&nt.delete(jn.key===null?ot:jn.key),Z=b(jn,Z,ot),tt===null?Ge=jn:tt.sibling=jn,tt=jn);return t&&nt.forEach(function(fs){return s(re,fs)}),tn&&Ls(re,ot),Ge}function He(re,Z,ie,Te){var Ge=Re(ie);if(typeof Ge!="function")throw Error(a(150));if(ie=Ge.call(ie),ie==null)throw Error(a(151));for(var tt=Ge=null,nt=Z,ot=Z=0,jn=null,Lt=ie.next();nt!==null&&!Lt.done;ot++,Lt=ie.next()){nt.index>ot?(jn=nt,nt=null):jn=nt.sibling;var fs=ge(re,nt,Lt.value,Te);if(fs===null){nt===null&&(nt=jn);break}t&&nt&&fs.alternate===null&&s(re,nt),Z=b(fs,Z,ot),tt===null?Ge=fs:tt.sibling=fs,tt=fs,nt=jn}if(Lt.done)return f(re,nt),tn&&Ls(re,ot),Ge;if(nt===null){for(;!Lt.done;ot++,Lt=ie.next())Lt=Ee(re,Lt.value,Te),Lt!==null&&(Z=b(Lt,Z,ot),tt===null?Ge=Lt:tt.sibling=Lt,tt=Lt);return tn&&Ls(re,ot),Ge}for(nt=g(re,nt);!Lt.done;ot++,Lt=ie.next())Lt=Be(nt,re,ot,Lt.value,Te),Lt!==null&&(t&&Lt.alternate!==null&&nt.delete(Lt.key===null?ot:Lt.key),Z=b(Lt,Z,ot),tt===null?Ge=Lt:tt.sibling=Lt,tt=Lt);return t&&nt.forEach(function(Vx){return s(re,Vx)}),tn&&Ls(re,ot),Ge}function Cn(re,Z,ie,Te){if(typeof ie=="object"&&ie!==null&&ie.type===J&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ue:e:{for(var Ge=ie.key,tt=Z;tt!==null;){if(tt.key===Ge){if(Ge=ie.type,Ge===J){if(tt.tag===7){f(re,tt.sibling),Z=C(tt,ie.props.children),Z.return=re,re=Z;break e}}else if(tt.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Oe&&xh(Ge)===tt.type){f(re,tt.sibling),Z=C(tt,ie.props),Z.ref=sa(re,tt,ie),Z.return=re,re=Z;break e}f(re,tt);break}else s(re,tt);tt=tt.sibling}ie.type===J?(Z=Hs(ie.props.children,re.mode,Te,ie.key),Z.return=re,re=Z):(Te=Hl(ie.type,ie.key,ie.props,null,re.mode,Te),Te.ref=sa(re,Z,ie),Te.return=re,re=Te)}return M(re);case se:e:{for(tt=ie.key;Z!==null;){if(Z.key===tt)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){f(re,Z.sibling),Z=C(Z,ie.children||[]),Z.return=re,re=Z;break e}else{f(re,Z);break}else s(re,Z);Z=Z.sibling}Z=qu(ie,re.mode,Te),Z.return=re,re=Z}return M(re);case Oe:return tt=ie._init,Cn(re,Z,tt(ie._payload),Te)}if($t(ie))return We(re,Z,ie,Te);if(Re(ie))return He(re,Z,ie,Te);vl(re,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Z!==null&&Z.tag===6?(f(re,Z.sibling),Z=C(Z,ie),Z.return=re,re=Z):(f(re,Z),Z=$u(ie,re.mode,Te),Z.return=re,re=Z),M(re)):f(re,Z)}return Cn}var xo=yh(!0),wh=yh(!1),Cl=es(null),El=null,yo=null,ou=null;function au(){ou=yo=El=null}function lu(t){var s=Cl.current;Jt(Cl),t._currentValue=s}function cu(t,s,f){for(;t!==null;){var g=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),t===f)break;t=t.return}}function wo(t,s){El=t,ou=yo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(gr=!0),t.firstContext=null)}function Dr(t){var s=t._currentValue;if(ou!==t)if(t={context:t,memoizedValue:s,next:null},yo===null){if(El===null)throw Error(a(308));yo=t,El.dependencies={lanes:0,firstContext:t}}else yo=yo.next=t;return s}var Bs=null;function uu(t){Bs===null?Bs=[t]:Bs.push(t)}function vh(t,s,f,g){var C=s.interleaved;return C===null?(f.next=f,uu(s)):(f.next=C.next,C.next=f),s.interleaved=f,_i(t,g)}function _i(t,s){t.lanes|=s;var f=t.alternate;for(f!==null&&(f.lanes|=s),f=t,t=t.return;t!==null;)t.childLanes|=s,f=t.alternate,f!==null&&(f.childLanes|=s),f=t,t=t.return;return f.tag===3?f.stateNode:null}var rs=!1;function fu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ch(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oi(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function is(t,s,f){var g=t.updateQueue;if(g===null)return null;if(g=g.shared,Pt&2){var C=g.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),g.pending=s,_i(t,f)}return C=g.interleaved,C===null?(s.next=s,uu(g)):(s.next=C.next,C.next=s),g.interleaved=s,_i(t,f)}function Al(t,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var g=s.lanes;g&=t.pendingLanes,f|=g,s.lanes=f,dn(t,f)}}function Eh(t,s){var f=t.updateQueue,g=t.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var C=null,b=null;if(f=f.firstBaseUpdate,f!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};b===null?C=b=M:b=b.next=M,f=f.next}while(f!==null);b===null?C=b=s:b=b.next=s}else C=b=s;f={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:b,shared:g.shared,effects:g.effects},t.updateQueue=f;return}t=f.lastBaseUpdate,t===null?f.firstBaseUpdate=s:t.next=s,f.lastBaseUpdate=s}function Sl(t,s,f,g){var C=t.updateQueue;rs=!1;var b=C.firstBaseUpdate,M=C.lastBaseUpdate,z=C.shared.pending;if(z!==null){C.shared.pending=null;var X=z,le=X.next;X.next=null,M===null?b=le:M.next=le,M=X;var ye=t.alternate;ye!==null&&(ye=ye.updateQueue,z=ye.lastBaseUpdate,z!==M&&(z===null?ye.firstBaseUpdate=le:z.next=le,ye.lastBaseUpdate=X))}if(b!==null){var Ee=C.baseState;M=0,ye=le=X=null,z=b;do{var ge=z.lane,Be=z.eventTime;if((g&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Be,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var We=t,He=z;switch(ge=s,Be=f,He.tag){case 1:if(We=He.payload,typeof We=="function"){Ee=We.call(Be,Ee,ge);break e}Ee=We;break e;case 3:We.flags=We.flags&-65537|128;case 0:if(We=He.payload,ge=typeof We=="function"?We.call(Be,Ee,ge):We,ge==null)break e;Ee=fe({},Ee,ge);break e;case 2:rs=!0}}z.callback!==null&&z.lane!==0&&(t.flags|=64,ge=C.effects,ge===null?C.effects=[z]:ge.push(z))}else Be={eventTime:Be,lane:ge,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ye===null?(le=ye=Be,X=Ee):ye=ye.next=Be,M|=ge;if(z=z.next,z===null){if(z=C.shared.pending,z===null)break;ge=z,z=ge.next,ge.next=null,C.lastBaseUpdate=ge,C.shared.pending=null}}while(!0);if(ye===null&&(X=Ee),C.baseState=X,C.firstBaseUpdate=le,C.lastBaseUpdate=ye,s=C.shared.interleaved,s!==null){C=s;do M|=C.lane,C=C.next;while(C!==s)}else b===null&&(C.shared.lanes=0);Vs|=M,t.lanes=M,t.memoizedState=Ee}}function Ah(t,s,f){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var g=t[s],C=g.callback;if(C!==null){if(g.callback=null,g=f,typeof C!="function")throw Error(a(191,C));C.call(g)}}}var oa={},ai=es(oa),aa=es(oa),la=es(oa);function Fs(t){if(t===oa)throw Error(a(174));return t}function du(t,s){switch(Kt(la,s),Kt(aa,t),Kt(ai,oa),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:qt(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=qt(s,t)}Jt(ai),Kt(ai,s)}function vo(){Jt(ai),Jt(aa),Jt(la)}function Sh(t){Fs(la.current);var s=Fs(ai.current),f=qt(s,t.type);s!==f&&(Kt(aa,t),Kt(ai,f))}function hu(t){aa.current===t&&(Jt(ai),Jt(aa))}var an=es(0);function bl(t){for(var s=t;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pu=[];function gu(){for(var t=0;t<pu.length;t++)pu[t]._workInProgressVersionPrimary=null;pu.length=0}var Il=Q.ReactCurrentDispatcher,mu=Q.ReactCurrentBatchConfig,js=0,ln=null,On=null,Bn=null,Tl=!1,ca=!1,ua=0,lx=0;function er(){throw Error(a(321))}function xu(t,s){if(s===null)return!1;for(var f=0;f<s.length&&f<t.length;f++)if(!$(t[f],s[f]))return!1;return!0}function yu(t,s,f,g,C,b){if(js=b,ln=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Il.current=t===null||t.memoizedState===null?dx:hx,t=f(g,C),ca){b=0;do{if(ca=!1,ua=0,25<=b)throw Error(a(301));b+=1,Bn=On=null,s.updateQueue=null,Il.current=px,t=f(g,C)}while(ca)}if(Il.current=_l,s=On!==null&&On.next!==null,js=0,Bn=On=ln=null,Tl=!1,s)throw Error(a(300));return t}function wu(){var t=ua!==0;return ua=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?ln.memoizedState=Bn=t:Bn=Bn.next=t,Bn}function kr(){if(On===null){var t=ln.alternate;t=t!==null?t.memoizedState:null}else t=On.next;var s=Bn===null?ln.memoizedState:Bn.next;if(s!==null)Bn=s,On=t;else{if(t===null)throw Error(a(310));On=t,t={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Bn===null?ln.memoizedState=Bn=t:Bn=Bn.next=t}return Bn}function fa(t,s){return typeof s=="function"?s(t):s}function vu(t){var s=kr(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=t;var g=On,C=g.baseQueue,b=f.pending;if(b!==null){if(C!==null){var M=C.next;C.next=b.next,b.next=M}g.baseQueue=C=b,f.pending=null}if(C!==null){b=C.next,g=g.baseState;var z=M=null,X=null,le=b;do{var ye=le.lane;if((js&ye)===ye)X!==null&&(X=X.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),g=le.hasEagerState?le.eagerState:t(g,le.action);else{var Ee={lane:ye,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};X===null?(z=X=Ee,M=g):X=X.next=Ee,ln.lanes|=ye,Vs|=ye}le=le.next}while(le!==null&&le!==b);X===null?M=g:X.next=z,$(g,s.memoizedState)||(gr=!0),s.memoizedState=g,s.baseState=M,s.baseQueue=X,f.lastRenderedState=g}if(t=f.interleaved,t!==null){C=t;do b=C.lane,ln.lanes|=b,Vs|=b,C=C.next;while(C!==t)}else C===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function Cu(t){var s=kr(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=t;var g=f.dispatch,C=f.pending,b=s.memoizedState;if(C!==null){f.pending=null;var M=C=C.next;do b=t(b,M.action),M=M.next;while(M!==C);$(b,s.memoizedState)||(gr=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),f.lastRenderedState=b}return[b,g]}function bh(){}function Ih(t,s){var f=ln,g=kr(),C=s(),b=!$(g.memoizedState,C);if(b&&(g.memoizedState=C,gr=!0),g=g.queue,Eu(Rh.bind(null,f,g,t),[t]),g.getSnapshot!==s||b||Bn!==null&&Bn.memoizedState.tag&1){if(f.flags|=2048,da(9,Nh.bind(null,f,g,C,s),void 0,null),Fn===null)throw Error(a(349));js&30||Th(f,s,C)}return C}function Th(t,s,f){t.flags|=16384,t={getSnapshot:s,value:f},s=ln.updateQueue,s===null?(s={lastEffect:null,stores:null},ln.updateQueue=s,s.stores=[t]):(f=s.stores,f===null?s.stores=[t]:f.push(t))}function Nh(t,s,f,g){s.value=f,s.getSnapshot=g,_h(s)&&Oh(t)}function Rh(t,s,f){return f(function(){_h(s)&&Oh(t)})}function _h(t){var s=t.getSnapshot;t=t.value;try{var f=s();return!$(t,f)}catch{return!0}}function Oh(t){var s=_i(t,1);s!==null&&Jr(s,t,1,-1)}function Ph(t){var s=li();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},s.queue=t,t=t.dispatch=fx.bind(null,ln,t),[s.memoizedState,t]}function da(t,s,f,g){return t={tag:t,create:s,destroy:f,deps:g,next:null},s=ln.updateQueue,s===null?(s={lastEffect:null,stores:null},ln.updateQueue=s,s.lastEffect=t.next=t):(f=s.lastEffect,f===null?s.lastEffect=t.next=t:(g=f.next,f.next=t,t.next=g,s.lastEffect=t)),t}function Mh(){return kr().memoizedState}function Nl(t,s,f,g){var C=li();ln.flags|=t,C.memoizedState=da(1|s,f,void 0,g===void 0?null:g)}function Rl(t,s,f,g){var C=kr();g=g===void 0?null:g;var b=void 0;if(On!==null){var M=On.memoizedState;if(b=M.destroy,g!==null&&xu(g,M.deps)){C.memoizedState=da(s,f,b,g);return}}ln.flags|=t,C.memoizedState=da(1|s,f,b,g)}function Dh(t,s){return Nl(8390656,8,t,s)}function Eu(t,s){return Rl(2048,8,t,s)}function kh(t,s){return Rl(4,2,t,s)}function Lh(t,s){return Rl(4,4,t,s)}function Bh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Fh(t,s,f){return f=f!=null?f.concat([t]):null,Rl(4,4,Bh.bind(null,s,t),f)}function Au(){}function jh(t,s){var f=kr();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&xu(s,g[1])?g[0]:(f.memoizedState=[t,s],t)}function Vh(t,s){var f=kr();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&xu(s,g[1])?g[0]:(t=t(),f.memoizedState=[t,s],t)}function Uh(t,s,f){return js&21?($(f,s)||(f=Tn(),ln.lanes|=f,Vs|=f,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,gr=!0),t.memoizedState=f)}function cx(t,s){var f=gt;gt=f!==0&&4>f?f:4,t(!0);var g=mu.transition;mu.transition={};try{t(!1),s()}finally{gt=f,mu.transition=g}}function zh(){return kr().memoizedState}function ux(t,s,f){var g=ls(t);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Wh(t))Hh(s,f);else if(f=vh(t,s,f,g),f!==null){var C=lr();Jr(f,t,g,C),Gh(f,s,g)}}function fx(t,s,f){var g=ls(t),C={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Wh(t))Hh(s,C);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var M=s.lastRenderedState,z=b(M,f);if(C.hasEagerState=!0,C.eagerState=z,$(z,M)){var X=s.interleaved;X===null?(C.next=C,uu(s)):(C.next=X.next,X.next=C),s.interleaved=C;return}}catch{}finally{}f=vh(t,s,C,g),f!==null&&(C=lr(),Jr(f,t,g,C),Gh(f,s,g))}}function Wh(t){var s=t.alternate;return t===ln||s!==null&&s===ln}function Hh(t,s){ca=Tl=!0;var f=t.pending;f===null?s.next=s:(s.next=f.next,f.next=s),t.pending=s}function Gh(t,s,f){if(f&4194240){var g=s.lanes;g&=t.pendingLanes,f|=g,s.lanes=f,dn(t,f)}}var _l={readContext:Dr,useCallback:er,useContext:er,useEffect:er,useImperativeHandle:er,useInsertionEffect:er,useLayoutEffect:er,useMemo:er,useReducer:er,useRef:er,useState:er,useDebugValue:er,useDeferredValue:er,useTransition:er,useMutableSource:er,useSyncExternalStore:er,useId:er,unstable_isNewReconciler:!1},dx={readContext:Dr,useCallback:function(t,s){return li().memoizedState=[t,s===void 0?null:s],t},useContext:Dr,useEffect:Dh,useImperativeHandle:function(t,s,f){return f=f!=null?f.concat([t]):null,Nl(4194308,4,Bh.bind(null,s,t),f)},useLayoutEffect:function(t,s){return Nl(4194308,4,t,s)},useInsertionEffect:function(t,s){return Nl(4,2,t,s)},useMemo:function(t,s){var f=li();return s=s===void 0?null:s,t=t(),f.memoizedState=[t,s],t},useReducer:function(t,s,f){var g=li();return s=f!==void 0?f(s):s,g.memoizedState=g.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},g.queue=t,t=t.dispatch=ux.bind(null,ln,t),[g.memoizedState,t]},useRef:function(t){var s=li();return t={current:t},s.memoizedState=t},useState:Ph,useDebugValue:Au,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=Ph(!1),s=t[0];return t=cx.bind(null,t[1]),li().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,f){var g=ln,C=li();if(tn){if(f===void 0)throw Error(a(407));f=f()}else{if(f=s(),Fn===null)throw Error(a(349));js&30||Th(g,s,f)}C.memoizedState=f;var b={value:f,getSnapshot:s};return C.queue=b,Dh(Rh.bind(null,g,b,t),[t]),g.flags|=2048,da(9,Nh.bind(null,g,b,f,s),void 0,null),f},useId:function(){var t=li(),s=Fn.identifierPrefix;if(tn){var f=Ri,g=Ni;f=(g&~(1<<32-or(g)-1)).toString(32)+f,s=":"+s+"R"+f,f=ua++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=lx++,s=":"+s+"r"+f.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},hx={readContext:Dr,useCallback:jh,useContext:Dr,useEffect:Eu,useImperativeHandle:Fh,useInsertionEffect:kh,useLayoutEffect:Lh,useMemo:Vh,useReducer:vu,useRef:Mh,useState:function(){return vu(fa)},useDebugValue:Au,useDeferredValue:function(t){var s=kr();return Uh(s,On.memoizedState,t)},useTransition:function(){var t=vu(fa)[0],s=kr().memoizedState;return[t,s]},useMutableSource:bh,useSyncExternalStore:Ih,useId:zh,unstable_isNewReconciler:!1},px={readContext:Dr,useCallback:jh,useContext:Dr,useEffect:Eu,useImperativeHandle:Fh,useInsertionEffect:kh,useLayoutEffect:Lh,useMemo:Vh,useReducer:Cu,useRef:Mh,useState:function(){return Cu(fa)},useDebugValue:Au,useDeferredValue:function(t){var s=kr();return On===null?s.memoizedState=t:Uh(s,On.memoizedState,t)},useTransition:function(){var t=Cu(fa)[0],s=kr().memoizedState;return[t,s]},useMutableSource:bh,useSyncExternalStore:Ih,useId:zh,unstable_isNewReconciler:!1};function $r(t,s){if(t&&t.defaultProps){s=fe({},s),t=t.defaultProps;for(var f in t)s[f]===void 0&&(s[f]=t[f]);return s}return s}function Su(t,s,f,g){s=t.memoizedState,f=f(g,s),f=f==null?s:fe({},s,f),t.memoizedState=f,t.lanes===0&&(t.updateQueue.baseState=f)}var Ol={isMounted:function(t){return(t=t._reactInternals)?$n(t)===t:!1},enqueueSetState:function(t,s,f){t=t._reactInternals;var g=lr(),C=ls(t),b=Oi(g,C);b.payload=s,f!=null&&(b.callback=f),s=is(t,b,C),s!==null&&(Jr(s,t,C,g),Al(s,t,C))},enqueueReplaceState:function(t,s,f){t=t._reactInternals;var g=lr(),C=ls(t),b=Oi(g,C);b.tag=1,b.payload=s,f!=null&&(b.callback=f),s=is(t,b,C),s!==null&&(Jr(s,t,C,g),Al(s,t,C))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var f=lr(),g=ls(t),C=Oi(f,g);C.tag=2,s!=null&&(C.callback=s),s=is(t,C,g),s!==null&&(Jr(s,t,g,f),Al(s,t,g))}};function Xh(t,s,f,g,C,b,M){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(g,b,M):s.prototype&&s.prototype.isPureReactComponent?!oe(f,g)||!oe(C,b):!0}function Yh(t,s,f){var g=!1,C=ts,b=s.contextType;return typeof b=="object"&&b!==null?b=Dr(b):(C=pr(s)?Ds:Jn.current,g=s.contextTypes,b=(g=g!=null)?ho(t,C):ts),s=new s(f,b),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ol,t.stateNode=s,s._reactInternals=t,g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=C,t.__reactInternalMemoizedMaskedChildContext=b),s}function Kh(t,s,f,g){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,g),s.state!==t&&Ol.enqueueReplaceState(s,s.state,null)}function bu(t,s,f,g){var C=t.stateNode;C.props=f,C.state=t.memoizedState,C.refs={},fu(t);var b=s.contextType;typeof b=="object"&&b!==null?C.context=Dr(b):(b=pr(s)?Ds:Jn.current,C.context=ho(t,b)),C.state=t.memoizedState,b=s.getDerivedStateFromProps,typeof b=="function"&&(Su(t,s,b,f),C.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(s=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),s!==C.state&&Ol.enqueueReplaceState(C,C.state,null),Sl(t,f,C,g),C.state=t.memoizedState),typeof C.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,s){try{var f="",g=s;do f+=at(g),g=g.return;while(g);var C=f}catch(b){C=`
Error generating stack: `+b.message+`
`+b.stack}return{value:t,source:s,stack:C,digest:null}}function Iu(t,s,f){return{value:t,source:null,stack:f??null,digest:s??null}}function Tu(t,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var gx=typeof WeakMap=="function"?WeakMap:Map;function Zh(t,s,f){f=Oi(-1,f),f.tag=3,f.payload={element:null};var g=s.value;return f.callback=function(){Fl||(Fl=!0,zu=g),Tu(t,s)},f}function $h(t,s,f){f=Oi(-1,f),f.tag=3;var g=t.type.getDerivedStateFromError;if(typeof g=="function"){var C=s.value;f.payload=function(){return g(C)},f.callback=function(){Tu(t,s)}}var b=t.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(f.callback=function(){Tu(t,s),typeof g!="function"&&(os===null?os=new Set([this]):os.add(this));var M=s.stack;this.componentDidCatch(s.value,{componentStack:M!==null?M:""})}),f}function qh(t,s,f){var g=t.pingCache;if(g===null){g=t.pingCache=new gx;var C=new Set;g.set(s,C)}else C=g.get(s),C===void 0&&(C=new Set,g.set(s,C));C.has(f)||(C.add(f),t=Rx.bind(null,t,s,f),s.then(t,t))}function Qh(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Jh(t,s,f,g,C){return t.mode&1?(t.flags|=65536,t.lanes=C,t):(t===s?t.flags|=65536:(t.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=Oi(-1,1),s.tag=2,is(f,s,1))),f.lanes|=1),t)}var mx=Q.ReactCurrentOwner,gr=!1;function ar(t,s,f,g){s.child=t===null?wh(s,null,f,g):xo(s,t.child,f,g)}function e0(t,s,f,g,C){f=f.render;var b=s.ref;return wo(s,C),g=yu(t,s,f,g,b,C),f=wu(),t!==null&&!gr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~C,Pi(t,s,C)):(tn&&f&&tu(s),s.flags|=1,ar(t,s,g,C),s.child)}function t0(t,s,f,g,C){if(t===null){var b=f.type;return typeof b=="function"&&!Zu(b)&&b.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=b,n0(t,s,b,g,C)):(t=Hl(f.type,null,g,s,s.mode,C),t.ref=s.ref,t.return=s,s.child=t)}if(b=t.child,!(t.lanes&C)){var M=b.memoizedProps;if(f=f.compare,f=f!==null?f:oe,f(M,g)&&t.ref===s.ref)return Pi(t,s,C)}return s.flags|=1,t=us(b,g),t.ref=s.ref,t.return=s,s.child=t}function n0(t,s,f,g,C){if(t!==null){var b=t.memoizedProps;if(oe(b,g)&&t.ref===s.ref)if(gr=!1,s.pendingProps=g=b,(t.lanes&C)!==0)t.flags&131072&&(gr=!0);else return s.lanes=t.lanes,Pi(t,s,C)}return Nu(t,s,f,g,C)}function r0(t,s,f){var g=s.pendingProps,C=g.children,b=t!==null?t.memoizedState:null;if(g.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(Ao,Tr),Tr|=f;else{if(!(f&1073741824))return t=b!==null?b.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Kt(Ao,Tr),Tr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=b!==null?b.baseLanes:f,Kt(Ao,Tr),Tr|=g}else b!==null?(g=b.baseLanes|f,s.memoizedState=null):g=f,Kt(Ao,Tr),Tr|=g;return ar(t,s,C,f),s.child}function i0(t,s){var f=s.ref;(t===null&&f!==null||t!==null&&t.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Nu(t,s,f,g,C){var b=pr(f)?Ds:Jn.current;return b=ho(s,b),wo(s,C),f=yu(t,s,f,g,b,C),g=wu(),t!==null&&!gr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~C,Pi(t,s,C)):(tn&&g&&tu(s),s.flags|=1,ar(t,s,f,C),s.child)}function s0(t,s,f,g,C){if(pr(f)){var b=!0;gl(s)}else b=!1;if(wo(s,C),s.stateNode===null)Ml(t,s),Yh(s,f,g),bu(s,f,g,C),g=!0;else if(t===null){var M=s.stateNode,z=s.memoizedProps;M.props=z;var X=M.context,le=f.contextType;typeof le=="object"&&le!==null?le=Dr(le):(le=pr(f)?Ds:Jn.current,le=ho(s,le));var ye=f.getDerivedStateFromProps,Ee=typeof ye=="function"||typeof M.getSnapshotBeforeUpdate=="function";Ee||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==g||X!==le)&&Kh(s,M,g,le),rs=!1;var ge=s.memoizedState;M.state=ge,Sl(s,g,M,C),X=s.memoizedState,z!==g||ge!==X||hr.current||rs?(typeof ye=="function"&&(Su(s,f,ye,g),X=s.memoizedState),(z=rs||Xh(s,f,z,g,ge,X,le))?(Ee||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(s.flags|=4194308)):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=X),M.props=g,M.state=X,M.context=le,g=z):(typeof M.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{M=s.stateNode,Ch(t,s),z=s.memoizedProps,le=s.type===s.elementType?z:$r(s.type,z),M.props=le,Ee=s.pendingProps,ge=M.context,X=f.contextType,typeof X=="object"&&X!==null?X=Dr(X):(X=pr(f)?Ds:Jn.current,X=ho(s,X));var Be=f.getDerivedStateFromProps;(ye=typeof Be=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(z!==Ee||ge!==X)&&Kh(s,M,g,X),rs=!1,ge=s.memoizedState,M.state=ge,Sl(s,g,M,C);var We=s.memoizedState;z!==Ee||ge!==We||hr.current||rs?(typeof Be=="function"&&(Su(s,f,Be,g),We=s.memoizedState),(le=rs||Xh(s,f,le,g,ge,We,X)||!1)?(ye||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,We,X),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,We,X)),typeof M.componentDidUpdate=="function"&&(s.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof M.componentDidUpdate!="function"||z===t.memoizedProps&&ge===t.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&ge===t.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=We),M.props=g,M.state=We,M.context=X,g=le):(typeof M.componentDidUpdate!="function"||z===t.memoizedProps&&ge===t.memoizedState||(s.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&ge===t.memoizedState||(s.flags|=1024),g=!1)}return Ru(t,s,f,g,b,C)}function Ru(t,s,f,g,C,b){i0(t,s);var M=(s.flags&128)!==0;if(!g&&!M)return C&&uh(s,f,!1),Pi(t,s,b);g=s.stateNode,mx.current=s;var z=M&&typeof f.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,t!==null&&M?(s.child=xo(s,t.child,null,b),s.child=xo(s,null,z,b)):ar(t,s,z,b),s.memoizedState=g.state,C&&uh(s,f,!0),s.child}function o0(t){var s=t.stateNode;s.pendingContext?lh(t,s.pendingContext,s.pendingContext!==s.context):s.context&&lh(t,s.context,!1),du(t,s.containerInfo)}function a0(t,s,f,g,C){return mo(),su(C),s.flags|=256,ar(t,s,f,g),s.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function Ou(t){return{baseLanes:t,cachePool:null,transitions:null}}function l0(t,s,f){var g=s.pendingProps,C=an.current,b=!1,M=(s.flags&128)!==0,z;if((z=M)||(z=t!==null&&t.memoizedState===null?!1:(C&2)!==0),z?(b=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(C|=1),Kt(an,C&1),t===null)return iu(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(M=g.children,t=g.fallback,b?(g=s.mode,b=s.child,M={mode:"hidden",children:M},!(g&1)&&b!==null?(b.childLanes=0,b.pendingProps=M):b=Gl(M,g,0,null),t=Hs(t,g,f,null),b.return=s,t.return=s,b.sibling=t,s.child=b,s.child.memoizedState=Ou(f),s.memoizedState=_u,t):Pu(s,M));if(C=t.memoizedState,C!==null&&(z=C.dehydrated,z!==null))return xx(t,s,M,g,z,C,f);if(b){b=g.fallback,M=s.mode,C=t.child,z=C.sibling;var X={mode:"hidden",children:g.children};return!(M&1)&&s.child!==C?(g=s.child,g.childLanes=0,g.pendingProps=X,s.deletions=null):(g=us(C,X),g.subtreeFlags=C.subtreeFlags&14680064),z!==null?b=us(z,b):(b=Hs(b,M,f,null),b.flags|=2),b.return=s,g.return=s,g.sibling=b,s.child=g,g=b,b=s.child,M=t.child.memoizedState,M=M===null?Ou(f):{baseLanes:M.baseLanes|f,cachePool:null,transitions:M.transitions},b.memoizedState=M,b.childLanes=t.childLanes&~f,s.memoizedState=_u,g}return b=t.child,t=b.sibling,g=us(b,{mode:"visible",children:g.children}),!(s.mode&1)&&(g.lanes=f),g.return=s,g.sibling=null,t!==null&&(f=s.deletions,f===null?(s.deletions=[t],s.flags|=16):f.push(t)),s.child=g,s.memoizedState=null,g}function Pu(t,s){return s=Gl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Pl(t,s,f,g){return g!==null&&su(g),xo(s,t.child,null,f),t=Pu(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function xx(t,s,f,g,C,b,M){if(f)return s.flags&256?(s.flags&=-257,g=Iu(Error(a(422))),Pl(t,s,M,g)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(b=g.fallback,C=s.mode,g=Gl({mode:"visible",children:g.children},C,0,null),b=Hs(b,C,M,null),b.flags|=2,g.return=s,b.return=s,g.sibling=b,s.child=g,s.mode&1&&xo(s,t.child,null,M),s.child.memoizedState=Ou(M),s.memoizedState=_u,b);if(!(s.mode&1))return Pl(t,s,M,null);if(C.data==="$!"){if(g=C.nextSibling&&C.nextSibling.dataset,g)var z=g.dgst;return g=z,b=Error(a(419)),g=Iu(b,g,void 0),Pl(t,s,M,g)}if(z=(M&t.childLanes)!==0,gr||z){if(g=Fn,g!==null){switch(M&-M){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(g.suspendedLanes|M)?0:C,C!==0&&C!==b.retryLane&&(b.retryLane=C,_i(t,C),Jr(g,t,C,-1))}return Ku(),g=Iu(Error(a(421))),Pl(t,s,M,g)}return C.data==="$?"?(s.flags|=128,s.child=t.child,s=_x.bind(null,t),C._reactRetry=s,null):(t=b.treeContext,Ir=Ji(C.nextSibling),br=s,tn=!0,Zr=null,t!==null&&(Pr[Mr++]=Ni,Pr[Mr++]=Ri,Pr[Mr++]=ks,Ni=t.id,Ri=t.overflow,ks=s),s=Pu(s,g.children),s.flags|=4096,s)}function c0(t,s,f){t.lanes|=s;var g=t.alternate;g!==null&&(g.lanes|=s),cu(t.return,s,f)}function Mu(t,s,f,g,C){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:C}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=f,b.tailMode=C)}function u0(t,s,f){var g=s.pendingProps,C=g.revealOrder,b=g.tail;if(ar(t,s,g.children,f),g=an.current,g&2)g=g&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c0(t,f,s);else if(t.tag===19)c0(t,f,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}g&=1}if(Kt(an,g),!(s.mode&1))s.memoizedState=null;else switch(C){case"forwards":for(f=s.child,C=null;f!==null;)t=f.alternate,t!==null&&bl(t)===null&&(C=f),f=f.sibling;f=C,f===null?(C=s.child,s.child=null):(C=f.sibling,f.sibling=null),Mu(s,!1,C,f,b);break;case"backwards":for(f=null,C=s.child,s.child=null;C!==null;){if(t=C.alternate,t!==null&&bl(t)===null){s.child=C;break}t=C.sibling,C.sibling=f,f=C,C=t}Mu(s,!0,f,null,b);break;case"together":Mu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ml(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Pi(t,s,f){if(t!==null&&(s.dependencies=t.dependencies),Vs|=s.lanes,!(f&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,f=us(t,t.pendingProps),s.child=f,f.return=s;t.sibling!==null;)t=t.sibling,f=f.sibling=us(t,t.pendingProps),f.return=s;f.sibling=null}return s.child}function yx(t,s,f){switch(s.tag){case 3:o0(s),mo();break;case 5:Sh(s);break;case 1:pr(s.type)&&gl(s);break;case 4:du(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,C=s.memoizedProps.value;Kt(Cl,g._currentValue),g._currentValue=C;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(Kt(an,an.current&1),s.flags|=128,null):f&s.child.childLanes?l0(t,s,f):(Kt(an,an.current&1),t=Pi(t,s,f),t!==null?t.sibling:null);Kt(an,an.current&1);break;case 19:if(g=(f&s.childLanes)!==0,t.flags&128){if(g)return u0(t,s,f);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Kt(an,an.current),g)break;return null;case 22:case 23:return s.lanes=0,r0(t,s,f)}return Pi(t,s,f)}var f0,Du,d0,h0;f0=function(t,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Du=function(){},d0=function(t,s,f,g){var C=t.memoizedProps;if(C!==g){t=s.stateNode,Fs(ai.current);var b=null;switch(f){case"input":C=Ht(t,C),g=Ht(t,g),b=[];break;case"select":C=fe({},C,{value:void 0}),g=fe({},g,{value:void 0}),b=[];break;case"textarea":C=rn(t,C),g=rn(t,g),b=[];break;default:typeof C.onClick!="function"&&typeof g.onClick=="function"&&(t.onclick=dl)}Dt(f,g);var M;f=null;for(le in C)if(!g.hasOwnProperty(le)&&C.hasOwnProperty(le)&&C[le]!=null)if(le==="style"){var z=C[le];for(M in z)z.hasOwnProperty(M)&&(f||(f={}),f[M]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(p.hasOwnProperty(le)?b||(b=[]):(b=b||[]).push(le,null));for(le in g){var X=g[le];if(z=C!=null?C[le]:void 0,g.hasOwnProperty(le)&&X!==z&&(X!=null||z!=null))if(le==="style")if(z){for(M in z)!z.hasOwnProperty(M)||X&&X.hasOwnProperty(M)||(f||(f={}),f[M]="");for(M in X)X.hasOwnProperty(M)&&z[M]!==X[M]&&(f||(f={}),f[M]=X[M])}else f||(b||(b=[]),b.push(le,f)),f=X;else le==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,z=z?z.__html:void 0,X!=null&&z!==X&&(b=b||[]).push(le,X)):le==="children"?typeof X!="string"&&typeof X!="number"||(b=b||[]).push(le,""+X):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(p.hasOwnProperty(le)?(X!=null&&le==="onScroll"&&Qt("scroll",t),b||z===X||(b=[])):(b=b||[]).push(le,X))}f&&(b=b||[]).push("style",f);var le=b;(s.updateQueue=le)&&(s.flags|=4)}},h0=function(t,s,f,g){f!==g&&(s.flags|=4)};function ha(t,s){if(!tn)switch(t.tailMode){case"hidden":s=t.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?t.tail=null:f.sibling=null;break;case"collapsed":f=t.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:g.sibling=null}}function tr(t){var s=t.alternate!==null&&t.alternate.child===t.child,f=0,g=0;if(s)for(var C=t.child;C!==null;)f|=C.lanes|C.childLanes,g|=C.subtreeFlags&14680064,g|=C.flags&14680064,C.return=t,C=C.sibling;else for(C=t.child;C!==null;)f|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=t,C=C.sibling;return t.subtreeFlags|=g,t.childLanes=f,s}function wx(t,s,f){var g=s.pendingProps;switch(nu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tr(s),null;case 1:return pr(s.type)&&pl(),tr(s),null;case 3:return g=s.stateNode,vo(),Jt(hr),Jt(Jn),gu(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(t===null||t.child===null)&&(wl(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Zr!==null&&(Gu(Zr),Zr=null))),Du(t,s),tr(s),null;case 5:hu(s);var C=Fs(la.current);if(f=s.type,t!==null&&s.stateNode!=null)d0(t,s,f,g,C),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(a(166));return tr(s),null}if(t=Fs(ai.current),wl(s)){g=s.stateNode,f=s.type;var b=s.memoizedProps;switch(g[oi]=s,g[ra]=b,t=(s.mode&1)!==0,f){case"dialog":Qt("cancel",g),Qt("close",g);break;case"iframe":case"object":case"embed":Qt("load",g);break;case"video":case"audio":for(C=0;C<ea.length;C++)Qt(ea[C],g);break;case"source":Qt("error",g);break;case"img":case"image":case"link":Qt("error",g),Qt("load",g);break;case"details":Qt("toggle",g);break;case"input":Rt(g,b),Qt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!b.multiple},Qt("invalid",g);break;case"textarea":ze(g,b),Qt("invalid",g)}Dt(f,b),C=null;for(var M in b)if(b.hasOwnProperty(M)){var z=b[M];M==="children"?typeof z=="string"?g.textContent!==z&&(b.suppressHydrationWarning!==!0&&fl(g.textContent,z,t),C=["children",z]):typeof z=="number"&&g.textContent!==""+z&&(b.suppressHydrationWarning!==!0&&fl(g.textContent,z,t),C=["children",""+z]):p.hasOwnProperty(M)&&z!=null&&M==="onScroll"&&Qt("scroll",g)}switch(f){case"input":Qe(g),bt(g,b,!0);break;case"textarea":Qe(g),Je(g);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(g.onclick=dl)}g=C,s.updateQueue=g,g!==null&&(s.flags|=4)}else{M=C.nodeType===9?C:C.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ze(f)),t==="http://www.w3.org/1999/xhtml"?f==="script"?(t=M.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof g.is=="string"?t=M.createElement(f,{is:g.is}):(t=M.createElement(f),f==="select"&&(M=t,g.multiple?M.multiple=!0:g.size&&(M.size=g.size))):t=M.createElementNS(t,f),t[oi]=s,t[ra]=g,f0(t,s,!1,!1),s.stateNode=t;e:{switch(M=zt(f,g),f){case"dialog":Qt("cancel",t),Qt("close",t),C=g;break;case"iframe":case"object":case"embed":Qt("load",t),C=g;break;case"video":case"audio":for(C=0;C<ea.length;C++)Qt(ea[C],t);C=g;break;case"source":Qt("error",t),C=g;break;case"img":case"image":case"link":Qt("error",t),Qt("load",t),C=g;break;case"details":Qt("toggle",t),C=g;break;case"input":Rt(t,g),C=Ht(t,g),Qt("invalid",t);break;case"option":C=g;break;case"select":t._wrapperState={wasMultiple:!!g.multiple},C=fe({},g,{value:void 0}),Qt("invalid",t);break;case"textarea":ze(t,g),C=rn(t,g),Qt("invalid",t);break;default:C=g}Dt(f,C),z=C;for(b in z)if(z.hasOwnProperty(b)){var X=z[b];b==="style"?Se(t,X):b==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&vt(t,X)):b==="children"?typeof X=="string"?(f!=="textarea"||X!=="")&&Mt(t,X):typeof X=="number"&&Mt(t,""+X):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(p.hasOwnProperty(b)?X!=null&&b==="onScroll"&&Qt("scroll",t):X!=null&&W(t,b,X,M))}switch(f){case"input":Qe(t),bt(t,g,!1);break;case"textarea":Qe(t),Je(t);break;case"option":g.value!=null&&t.setAttribute("value",""+Ce(g.value));break;case"select":t.multiple=!!g.multiple,b=g.value,b!=null?Pe(t,!!g.multiple,b,!1):g.defaultValue!=null&&Pe(t,!!g.multiple,g.defaultValue,!0);break;default:typeof C.onClick=="function"&&(t.onclick=dl)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return tr(s),null;case 6:if(t&&s.stateNode!=null)h0(t,s,t.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(a(166));if(f=Fs(la.current),Fs(ai.current),wl(s)){if(g=s.stateNode,f=s.memoizedProps,g[oi]=s,(b=g.nodeValue!==f)&&(t=br,t!==null))switch(t.tag){case 3:fl(g.nodeValue,f,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fl(g.nodeValue,f,(t.mode&1)!==0)}b&&(s.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[oi]=s,s.stateNode=g}return tr(s),null;case 13:if(Jt(an),g=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&Ir!==null&&s.mode&1&&!(s.flags&128))mh(),mo(),s.flags|=98560,b=!1;else if(b=wl(s),g!==null&&g.dehydrated!==null){if(t===null){if(!b)throw Error(a(318));if(b=s.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[oi]=s}else mo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;tr(s),b=!1}else Zr!==null&&(Gu(Zr),Zr=null),b=!0;if(!b)return s.flags&65536?s:null}return s.flags&128?(s.lanes=f,s):(g=g!==null,g!==(t!==null&&t.memoizedState!==null)&&g&&(s.child.flags|=8192,s.mode&1&&(t===null||an.current&1?Pn===0&&(Pn=3):Ku())),s.updateQueue!==null&&(s.flags|=4),tr(s),null);case 4:return vo(),Du(t,s),t===null&&ta(s.stateNode.containerInfo),tr(s),null;case 10:return lu(s.type._context),tr(s),null;case 17:return pr(s.type)&&pl(),tr(s),null;case 19:if(Jt(an),b=s.memoizedState,b===null)return tr(s),null;if(g=(s.flags&128)!==0,M=b.rendering,M===null)if(g)ha(b,!1);else{if(Pn!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(M=bl(t),M!==null){for(s.flags|=128,ha(b,!1),g=M.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=f,f=s.child;f!==null;)b=f,t=g,b.flags&=14680066,M=b.alternate,M===null?(b.childLanes=0,b.lanes=t,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=M.childLanes,b.lanes=M.lanes,b.child=M.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=M.memoizedProps,b.memoizedState=M.memoizedState,b.updateQueue=M.updateQueue,b.type=M.type,t=M.dependencies,b.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),f=f.sibling;return Kt(an,an.current&1|2),s.child}t=t.sibling}b.tail!==null&&kt()>So&&(s.flags|=128,g=!0,ha(b,!1),s.lanes=4194304)}else{if(!g)if(t=bl(M),t!==null){if(s.flags|=128,g=!0,f=t.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),ha(b,!0),b.tail===null&&b.tailMode==="hidden"&&!M.alternate&&!tn)return tr(s),null}else 2*kt()-b.renderingStartTime>So&&f!==1073741824&&(s.flags|=128,g=!0,ha(b,!1),s.lanes=4194304);b.isBackwards?(M.sibling=s.child,s.child=M):(f=b.last,f!==null?f.sibling=M:s.child=M,b.last=M)}return b.tail!==null?(s=b.tail,b.rendering=s,b.tail=s.sibling,b.renderingStartTime=kt(),s.sibling=null,f=an.current,Kt(an,g?f&1|2:f&1),s):(tr(s),null);case 22:case 23:return Yu(),g=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==g&&(s.flags|=8192),g&&s.mode&1?Tr&1073741824&&(tr(s),s.subtreeFlags&6&&(s.flags|=8192)):tr(s),null;case 24:return null;case 25:return null}throw Error(a(156,s.tag))}function vx(t,s){switch(nu(s),s.tag){case 1:return pr(s.type)&&pl(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return vo(),Jt(hr),Jt(Jn),gu(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return hu(s),null;case 13:if(Jt(an),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));mo()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Jt(an),null;case 4:return vo(),null;case 10:return lu(s.type._context),null;case 22:case 23:return Yu(),null;case 24:return null;default:return null}}var Dl=!1,nr=!1,Cx=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Eo(t,s){var f=t.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){pn(t,s,g)}else f.current=null}function ku(t,s,f){try{f()}catch(g){pn(t,s,g)}}var p0=!1;function Ex(t,s){if(Yc=ii,t=wt(),ct(t)){if("selectionStart"in t)var f={start:t.selectionStart,end:t.selectionEnd};else e:{f=(f=t.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var C=g.anchorOffset,b=g.focusNode;g=g.focusOffset;try{f.nodeType,b.nodeType}catch{f=null;break e}var M=0,z=-1,X=-1,le=0,ye=0,Ee=t,ge=null;t:for(;;){for(var Be;Ee!==f||C!==0&&Ee.nodeType!==3||(z=M+C),Ee!==b||g!==0&&Ee.nodeType!==3||(X=M+g),Ee.nodeType===3&&(M+=Ee.nodeValue.length),(Be=Ee.firstChild)!==null;)ge=Ee,Ee=Be;for(;;){if(Ee===t)break t;if(ge===f&&++le===C&&(z=M),ge===b&&++ye===g&&(X=M),(Be=Ee.nextSibling)!==null)break;Ee=ge,ge=Ee.parentNode}Ee=Be}f=z===-1||X===-1?null:{start:z,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(Kc={focusedElem:t,selectionRange:f},ii=!1,Ve=s;Ve!==null;)if(s=Ve,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ve=t;else for(;Ve!==null;){s=Ve;try{var We=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(We!==null){var He=We.memoizedProps,Cn=We.memoizedState,re=s.stateNode,Z=re.getSnapshotBeforeUpdate(s.elementType===s.type?He:$r(s.type,He),Cn);re.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ie=s.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Te){pn(s,s.return,Te)}if(t=s.sibling,t!==null){t.return=s.return,Ve=t;break}Ve=s.return}return We=p0,p0=!1,We}function pa(t,s,f){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&t)===t){var b=C.destroy;C.destroy=void 0,b!==void 0&&ku(s,f,b)}C=C.next}while(C!==g)}}function kl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&t)===t){var g=f.create;f.destroy=g()}f=f.next}while(f!==s)}}function Lu(t){var s=t.ref;if(s!==null){var f=t.stateNode;switch(t.tag){case 5:t=f;break;default:t=f}typeof s=="function"?s(t):s.current=t}}function g0(t){var s=t.alternate;s!==null&&(t.alternate=null,g0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[oi],delete s[ra],delete s[Qc],delete s[ix],delete s[sx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m0(t){return t.tag===5||t.tag===3||t.tag===4}function x0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bu(t,s,f){var g=t.tag;if(g===5||g===6)t=t.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(t,s):f.insertBefore(t,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(t,f)):(s=f,s.appendChild(t)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=dl));else if(g!==4&&(t=t.child,t!==null))for(Bu(t,s,f),t=t.sibling;t!==null;)Bu(t,s,f),t=t.sibling}function Fu(t,s,f){var g=t.tag;if(g===5||g===6)t=t.stateNode,s?f.insertBefore(t,s):f.appendChild(t);else if(g!==4&&(t=t.child,t!==null))for(Fu(t,s,f),t=t.sibling;t!==null;)Fu(t,s,f),t=t.sibling}var Hn=null,qr=!1;function ss(t,s,f){for(f=f.child;f!==null;)y0(t,s,f),f=f.sibling}function y0(t,s,f){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Ct,f)}catch{}switch(f.tag){case 5:nr||Eo(f,s);case 6:var g=Hn,C=qr;Hn=null,ss(t,s,f),Hn=g,qr=C,Hn!==null&&(qr?(t=Hn,f=f.stateNode,t.nodeType===8?t.parentNode.removeChild(f):t.removeChild(f)):Hn.removeChild(f.stateNode));break;case 18:Hn!==null&&(qr?(t=Hn,f=f.stateNode,t.nodeType===8?qc(t.parentNode,f):t.nodeType===1&&qc(t,f),Xr(t)):qc(Hn,f.stateNode));break;case 4:g=Hn,C=qr,Hn=f.stateNode.containerInfo,qr=!0,ss(t,s,f),Hn=g,qr=C;break;case 0:case 11:case 14:case 15:if(!nr&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){C=g=g.next;do{var b=C,M=b.destroy;b=b.tag,M!==void 0&&(b&2||b&4)&&ku(f,s,M),C=C.next}while(C!==g)}ss(t,s,f);break;case 1:if(!nr&&(Eo(f,s),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(z){pn(f,s,z)}ss(t,s,f);break;case 21:ss(t,s,f);break;case 22:f.mode&1?(nr=(g=nr)||f.memoizedState!==null,ss(t,s,f),nr=g):ss(t,s,f);break;default:ss(t,s,f)}}function w0(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var f=t.stateNode;f===null&&(f=t.stateNode=new Cx),s.forEach(function(g){var C=Ox.bind(null,t,g);f.has(g)||(f.add(g),g.then(C,C))})}}function Qr(t,s){var f=s.deletions;if(f!==null)for(var g=0;g<f.length;g++){var C=f[g];try{var b=t,M=s,z=M;e:for(;z!==null;){switch(z.tag){case 5:Hn=z.stateNode,qr=!1;break e;case 3:Hn=z.stateNode.containerInfo,qr=!0;break e;case 4:Hn=z.stateNode.containerInfo,qr=!0;break e}z=z.return}if(Hn===null)throw Error(a(160));y0(b,M,C),Hn=null,qr=!1;var X=C.alternate;X!==null&&(X.return=null),C.return=null}catch(le){pn(C,s,le)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)v0(s,t),s=s.sibling}function v0(t,s){var f=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qr(s,t),ci(t),g&4){try{pa(3,t,t.return),kl(3,t)}catch(He){pn(t,t.return,He)}try{pa(5,t,t.return)}catch(He){pn(t,t.return,He)}}break;case 1:Qr(s,t),ci(t),g&512&&f!==null&&Eo(f,f.return);break;case 5:if(Qr(s,t),ci(t),g&512&&f!==null&&Eo(f,f.return),t.flags&32){var C=t.stateNode;try{Mt(C,"")}catch(He){pn(t,t.return,He)}}if(g&4&&(C=t.stateNode,C!=null)){var b=t.memoizedProps,M=f!==null?f.memoizedProps:b,z=t.type,X=t.updateQueue;if(t.updateQueue=null,X!==null)try{z==="input"&&b.type==="radio"&&b.name!=null&&fn(C,b),zt(z,M);var le=zt(z,b);for(M=0;M<X.length;M+=2){var ye=X[M],Ee=X[M+1];ye==="style"?Se(C,Ee):ye==="dangerouslySetInnerHTML"?vt(C,Ee):ye==="children"?Mt(C,Ee):W(C,ye,Ee,le)}switch(z){case"input":Ft(C,b);break;case"textarea":we(C,b);break;case"select":var ge=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!b.multiple;var Be=b.value;Be!=null?Pe(C,!!b.multiple,Be,!1):ge!==!!b.multiple&&(b.defaultValue!=null?Pe(C,!!b.multiple,b.defaultValue,!0):Pe(C,!!b.multiple,b.multiple?[]:"",!1))}C[ra]=b}catch(He){pn(t,t.return,He)}}break;case 6:if(Qr(s,t),ci(t),g&4){if(t.stateNode===null)throw Error(a(162));C=t.stateNode,b=t.memoizedProps;try{C.nodeValue=b}catch(He){pn(t,t.return,He)}}break;case 3:if(Qr(s,t),ci(t),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Xr(s.containerInfo)}catch(He){pn(t,t.return,He)}break;case 4:Qr(s,t),ci(t);break;case 13:Qr(s,t),ci(t),C=t.child,C.flags&8192&&(b=C.memoizedState!==null,C.stateNode.isHidden=b,!b||C.alternate!==null&&C.alternate.memoizedState!==null||(Uu=kt())),g&4&&w0(t);break;case 22:if(ye=f!==null&&f.memoizedState!==null,t.mode&1?(nr=(le=nr)||ye,Qr(s,t),nr=le):Qr(s,t),ci(t),g&8192){if(le=t.memoizedState!==null,(t.stateNode.isHidden=le)&&!ye&&t.mode&1)for(Ve=t,ye=t.child;ye!==null;){for(Ee=Ve=ye;Ve!==null;){switch(ge=Ve,Be=ge.child,ge.tag){case 0:case 11:case 14:case 15:pa(4,ge,ge.return);break;case 1:Eo(ge,ge.return);var We=ge.stateNode;if(typeof We.componentWillUnmount=="function"){g=ge,f=ge.return;try{s=g,We.props=s.memoizedProps,We.state=s.memoizedState,We.componentWillUnmount()}catch(He){pn(g,f,He)}}break;case 5:Eo(ge,ge.return);break;case 22:if(ge.memoizedState!==null){A0(Ee);continue}}Be!==null?(Be.return=ge,Ve=Be):A0(Ee)}ye=ye.sibling}e:for(ye=null,Ee=t;;){if(Ee.tag===5){if(ye===null){ye=Ee;try{C=Ee.stateNode,le?(b=C.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(z=Ee.stateNode,X=Ee.memoizedProps.style,M=X!=null&&X.hasOwnProperty("display")?X.display:null,z.style.display=jt("display",M))}catch(He){pn(t,t.return,He)}}}else if(Ee.tag===6){if(ye===null)try{Ee.stateNode.nodeValue=le?"":Ee.memoizedProps}catch(He){pn(t,t.return,He)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===t)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===t)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===t)break e;ye===Ee&&(ye=null),Ee=Ee.return}ye===Ee&&(ye=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Qr(s,t),ci(t),g&4&&w0(t);break;case 21:break;default:Qr(s,t),ci(t)}}function ci(t){var s=t.flags;if(s&2){try{e:{for(var f=t.return;f!==null;){if(m0(f)){var g=f;break e}f=f.return}throw Error(a(160))}switch(g.tag){case 5:var C=g.stateNode;g.flags&32&&(Mt(C,""),g.flags&=-33);var b=x0(t);Fu(t,b,C);break;case 3:case 4:var M=g.stateNode.containerInfo,z=x0(t);Bu(t,z,M);break;default:throw Error(a(161))}}catch(X){pn(t,t.return,X)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Ax(t,s,f){Ve=t,C0(t)}function C0(t,s,f){for(var g=(t.mode&1)!==0;Ve!==null;){var C=Ve,b=C.child;if(C.tag===22&&g){var M=C.memoizedState!==null||Dl;if(!M){var z=C.alternate,X=z!==null&&z.memoizedState!==null||nr;z=Dl;var le=nr;if(Dl=M,(nr=X)&&!le)for(Ve=C;Ve!==null;)M=Ve,X=M.child,M.tag===22&&M.memoizedState!==null?S0(C):X!==null?(X.return=M,Ve=X):S0(C);for(;b!==null;)Ve=b,C0(b),b=b.sibling;Ve=C,Dl=z,nr=le}E0(t)}else C.subtreeFlags&8772&&b!==null?(b.return=C,Ve=b):E0(t)}}function E0(t){for(;Ve!==null;){var s=Ve;if(s.flags&8772){var f=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:nr||kl(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!nr)if(f===null)g.componentDidMount();else{var C=s.elementType===s.type?f.memoizedProps:$r(s.type,f.memoizedProps);g.componentDidUpdate(C,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var b=s.updateQueue;b!==null&&Ah(s,b,g);break;case 3:var M=s.updateQueue;if(M!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}Ah(s,M,f)}break;case 5:var z=s.stateNode;if(f===null&&s.flags&4){f=z;var X=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&f.focus();break;case"img":X.src&&(f.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var le=s.alternate;if(le!==null){var ye=le.memoizedState;if(ye!==null){var Ee=ye.dehydrated;Ee!==null&&Xr(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}nr||s.flags&512&&Lu(s)}catch(ge){pn(s,s.return,ge)}}if(s===t){Ve=null;break}if(f=s.sibling,f!==null){f.return=s.return,Ve=f;break}Ve=s.return}}function A0(t){for(;Ve!==null;){var s=Ve;if(s===t){Ve=null;break}var f=s.sibling;if(f!==null){f.return=s.return,Ve=f;break}Ve=s.return}}function S0(t){for(;Ve!==null;){var s=Ve;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{kl(4,s)}catch(X){pn(s,f,X)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var C=s.return;try{g.componentDidMount()}catch(X){pn(s,C,X)}}var b=s.return;try{Lu(s)}catch(X){pn(s,b,X)}break;case 5:var M=s.return;try{Lu(s)}catch(X){pn(s,M,X)}}}catch(X){pn(s,s.return,X)}if(s===t){Ve=null;break}var z=s.sibling;if(z!==null){z.return=s.return,Ve=z;break}Ve=s.return}}var Sx=Math.ceil,Ll=Q.ReactCurrentDispatcher,ju=Q.ReactCurrentOwner,Lr=Q.ReactCurrentBatchConfig,Pt=0,Fn=null,An=null,Gn=0,Tr=0,Ao=es(0),Pn=0,ga=null,Vs=0,Bl=0,Vu=0,ma=null,mr=null,Uu=0,So=1/0,Mi=null,Fl=!1,zu=null,os=null,jl=!1,as=null,Vl=0,xa=0,Wu=null,Ul=-1,zl=0;function lr(){return Pt&6?kt():Ul!==-1?Ul:Ul=kt()}function ls(t){return t.mode&1?Pt&2&&Gn!==0?Gn&-Gn:ax.transition!==null?(zl===0&&(zl=Tn()),zl):(t=gt,t!==0||(t=window.event,t=t===void 0?16:Ho(t.type)),t):1}function Jr(t,s,f,g){if(50<xa)throw xa=0,Wu=null,Error(a(185));F(t,f,g),(!(Pt&2)||t!==Fn)&&(t===Fn&&(!(Pt&2)&&(Bl|=f),Pn===4&&cs(t,Gn)),xr(t,g),f===1&&Pt===0&&!(s.mode&1)&&(So=kt()+500,ml&&ns()))}function xr(t,s){var f=t.callbackNode;Wi(t,s);var g=Cr(t,t===Fn?Gn:0);if(g===0)f!==null&&yt(f),t.callbackNode=null,t.callbackPriority=0;else if(s=g&-g,t.callbackPriority!==s){if(f!=null&&yt(f),s===1)t.tag===0?ox(I0.bind(null,t)):fh(I0.bind(null,t)),nx(function(){!(Pt&6)&&ns()}),f=null;else{switch(qa(g)){case 1:f=he;break;case 4:f=dr;break;case 16:f=Nt;break;case 536870912:f=As;break;default:f=Nt}f=D0(f,b0.bind(null,t))}t.callbackPriority=s,t.callbackNode=f}}function b0(t,s){if(Ul=-1,zl=0,Pt&6)throw Error(a(327));var f=t.callbackNode;if(bo()&&t.callbackNode!==f)return null;var g=Cr(t,t===Fn?Gn:0);if(g===0)return null;if(g&30||g&t.expiredLanes||s)s=Wl(t,g);else{s=g;var C=Pt;Pt|=2;var b=N0();(Fn!==t||Gn!==s)&&(Mi=null,So=kt()+500,zs(t,s));do try{Tx();break}catch(z){T0(t,z)}while(!0);au(),Ll.current=b,Pt=C,An!==null?s=0:(Fn=null,Gn=0,s=Pn)}if(s!==0){if(s===2&&(C=Vt(t),C!==0&&(g=C,s=Hu(t,C))),s===1)throw f=ga,zs(t,0),cs(t,g),xr(t,kt()),f;if(s===6)cs(t,g);else{if(C=t.current.alternate,!(g&30)&&!bx(C)&&(s=Wl(t,g),s===2&&(b=Vt(t),b!==0&&(g=b,s=Hu(t,b))),s===1))throw f=ga,zs(t,0),cs(t,g),xr(t,kt()),f;switch(t.finishedWork=C,t.finishedLanes=g,s){case 0:case 1:throw Error(a(345));case 2:Ws(t,mr,Mi);break;case 3:if(cs(t,g),(g&130023424)===g&&(s=Uu+500-kt(),10<s)){if(Cr(t,0)!==0)break;if(C=t.suspendedLanes,(C&g)!==g){lr(),t.pingedLanes|=t.suspendedLanes&C;break}t.timeoutHandle=$c(Ws.bind(null,t,mr,Mi),s);break}Ws(t,mr,Mi);break;case 4:if(cs(t,g),(g&4194240)===g)break;for(s=t.eventTimes,C=-1;0<g;){var M=31-or(g);b=1<<M,M=s[M],M>C&&(C=M),g&=~b}if(g=C,g=kt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Sx(g/1960))-g,10<g){t.timeoutHandle=$c(Ws.bind(null,t,mr,Mi),g);break}Ws(t,mr,Mi);break;case 5:Ws(t,mr,Mi);break;default:throw Error(a(329))}}}return xr(t,kt()),t.callbackNode===f?b0.bind(null,t):null}function Hu(t,s){var f=ma;return t.current.memoizedState.isDehydrated&&(zs(t,s).flags|=256),t=Wl(t,s),t!==2&&(s=mr,mr=f,s!==null&&Gu(s)),t}function Gu(t){mr===null?mr=t:mr.push.apply(mr,t)}function bx(t){for(var s=t;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var C=f[g],b=C.getSnapshot;C=C.value;try{if(!$(b(),C))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cs(t,s){for(s&=~Vu,s&=~Bl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var f=31-or(s),g=1<<f;t[f]=-1,s&=~g}}function I0(t){if(Pt&6)throw Error(a(327));bo();var s=Cr(t,0);if(!(s&1))return xr(t,kt()),null;var f=Wl(t,s);if(t.tag!==0&&f===2){var g=Vt(t);g!==0&&(s=g,f=Hu(t,g))}if(f===1)throw f=ga,zs(t,0),cs(t,s),xr(t,kt()),f;if(f===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ws(t,mr,Mi),xr(t,kt()),null}function Xu(t,s){var f=Pt;Pt|=1;try{return t(s)}finally{Pt=f,Pt===0&&(So=kt()+500,ml&&ns())}}function Us(t){as!==null&&as.tag===0&&!(Pt&6)&&bo();var s=Pt;Pt|=1;var f=Lr.transition,g=gt;try{if(Lr.transition=null,gt=1,t)return t()}finally{gt=g,Lr.transition=f,Pt=s,!(Pt&6)&&ns()}}function Yu(){Tr=Ao.current,Jt(Ao)}function zs(t,s){t.finishedWork=null,t.finishedLanes=0;var f=t.timeoutHandle;if(f!==-1&&(t.timeoutHandle=-1,tx(f)),An!==null)for(f=An.return;f!==null;){var g=f;switch(nu(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&pl();break;case 3:vo(),Jt(hr),Jt(Jn),gu();break;case 5:hu(g);break;case 4:vo();break;case 13:Jt(an);break;case 19:Jt(an);break;case 10:lu(g.type._context);break;case 22:case 23:Yu()}f=f.return}if(Fn=t,An=t=us(t.current,null),Gn=Tr=s,Pn=0,ga=null,Vu=Bl=Vs=0,mr=ma=null,Bs!==null){for(s=0;s<Bs.length;s++)if(f=Bs[s],g=f.interleaved,g!==null){f.interleaved=null;var C=g.next,b=f.pending;if(b!==null){var M=b.next;b.next=C,g.next=M}f.pending=g}Bs=null}return t}function T0(t,s){do{var f=An;try{if(au(),Il.current=_l,Tl){for(var g=ln.memoizedState;g!==null;){var C=g.queue;C!==null&&(C.pending=null),g=g.next}Tl=!1}if(js=0,Bn=On=ln=null,ca=!1,ua=0,ju.current=null,f===null||f.return===null){Pn=1,ga=s,An=null;break}e:{var b=t,M=f.return,z=f,X=s;if(s=Gn,z.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var le=X,ye=z,Ee=ye.tag;if(!(ye.mode&1)&&(Ee===0||Ee===11||Ee===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Be=Qh(M);if(Be!==null){Be.flags&=-257,Jh(Be,M,z,b,s),Be.mode&1&&qh(b,le,s),s=Be,X=le;var We=s.updateQueue;if(We===null){var He=new Set;He.add(X),s.updateQueue=He}else We.add(X);break e}else{if(!(s&1)){qh(b,le,s),Ku();break e}X=Error(a(426))}}else if(tn&&z.mode&1){var Cn=Qh(M);if(Cn!==null){!(Cn.flags&65536)&&(Cn.flags|=256),Jh(Cn,M,z,b,s),su(Co(X,z));break e}}b=X=Co(X,z),Pn!==4&&(Pn=2),ma===null?ma=[b]:ma.push(b),b=M;do{switch(b.tag){case 3:b.flags|=65536,s&=-s,b.lanes|=s;var re=Zh(b,X,s);Eh(b,re);break e;case 1:z=X;var Z=b.type,ie=b.stateNode;if(!(b.flags&128)&&(typeof Z.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(os===null||!os.has(ie)))){b.flags|=65536,s&=-s,b.lanes|=s;var Te=$h(b,z,s);Eh(b,Te);break e}}b=b.return}while(b!==null)}_0(f)}catch(Ge){s=Ge,An===f&&f!==null&&(An=f=f.return);continue}break}while(!0)}function N0(){var t=Ll.current;return Ll.current=_l,t===null?_l:t}function Ku(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Fn===null||!(Vs&268435455)&&!(Bl&268435455)||cs(Fn,Gn)}function Wl(t,s){var f=Pt;Pt|=2;var g=N0();(Fn!==t||Gn!==s)&&(Mi=null,zs(t,s));do try{Ix();break}catch(C){T0(t,C)}while(!0);if(au(),Pt=f,Ll.current=g,An!==null)throw Error(a(261));return Fn=null,Gn=0,Pn}function Ix(){for(;An!==null;)R0(An)}function Tx(){for(;An!==null&&!De();)R0(An)}function R0(t){var s=M0(t.alternate,t,Tr);t.memoizedProps=t.pendingProps,s===null?_0(t):An=s,ju.current=null}function _0(t){var s=t;do{var f=s.alternate;if(t=s.return,s.flags&32768){if(f=vx(f,s),f!==null){f.flags&=32767,An=f;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pn=6,An=null;return}}else if(f=wx(f,s,Tr),f!==null){An=f;return}if(s=s.sibling,s!==null){An=s;return}An=s=t}while(s!==null);Pn===0&&(Pn=5)}function Ws(t,s,f){var g=gt,C=Lr.transition;try{Lr.transition=null,gt=1,Nx(t,s,f,g)}finally{Lr.transition=C,gt=g}return null}function Nx(t,s,f,g){do bo();while(as!==null);if(Pt&6)throw Error(a(327));f=t.finishedWork;var C=t.finishedLanes;if(f===null)return null;if(t.finishedWork=null,t.finishedLanes=0,f===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var b=f.lanes|f.childLanes;if(Ye(t,b),t===Fn&&(An=Fn=null,Gn=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||jl||(jl=!0,D0(Nt,function(){return bo(),null})),b=(f.flags&15990)!==0,f.subtreeFlags&15990||b){b=Lr.transition,Lr.transition=null;var M=gt;gt=1;var z=Pt;Pt|=4,ju.current=null,Ex(t,f),v0(f,t),Qn(Kc),ii=!!Yc,Kc=Yc=null,t.current=f,Ax(f),Vn(),Pt=z,gt=M,Lr.transition=b}else t.current=f;if(jl&&(jl=!1,as=t,Vl=C),b=t.pendingLanes,b===0&&(os=null),At(f.stateNode),xr(t,kt()),s!==null)for(g=t.onRecoverableError,f=0;f<s.length;f++)C=s[f],g(C.value,{componentStack:C.stack,digest:C.digest});if(Fl)throw Fl=!1,t=zu,zu=null,t;return Vl&1&&t.tag!==0&&bo(),b=t.pendingLanes,b&1?t===Wu?xa++:(xa=0,Wu=t):xa=0,ns(),null}function bo(){if(as!==null){var t=qa(Vl),s=Lr.transition,f=gt;try{if(Lr.transition=null,gt=16>t?16:t,as===null)var g=!1;else{if(t=as,as=null,Vl=0,Pt&6)throw Error(a(331));var C=Pt;for(Pt|=4,Ve=t.current;Ve!==null;){var b=Ve,M=b.child;if(Ve.flags&16){var z=b.deletions;if(z!==null){for(var X=0;X<z.length;X++){var le=z[X];for(Ve=le;Ve!==null;){var ye=Ve;switch(ye.tag){case 0:case 11:case 15:pa(8,ye,b)}var Ee=ye.child;if(Ee!==null)Ee.return=ye,Ve=Ee;else for(;Ve!==null;){ye=Ve;var ge=ye.sibling,Be=ye.return;if(g0(ye),ye===le){Ve=null;break}if(ge!==null){ge.return=Be,Ve=ge;break}Ve=Be}}}var We=b.alternate;if(We!==null){var He=We.child;if(He!==null){We.child=null;do{var Cn=He.sibling;He.sibling=null,He=Cn}while(He!==null)}}Ve=b}}if(b.subtreeFlags&2064&&M!==null)M.return=b,Ve=M;else e:for(;Ve!==null;){if(b=Ve,b.flags&2048)switch(b.tag){case 0:case 11:case 15:pa(9,b,b.return)}var re=b.sibling;if(re!==null){re.return=b.return,Ve=re;break e}Ve=b.return}}var Z=t.current;for(Ve=Z;Ve!==null;){M=Ve;var ie=M.child;if(M.subtreeFlags&2064&&ie!==null)ie.return=M,Ve=ie;else e:for(M=Z;Ve!==null;){if(z=Ve,z.flags&2048)try{switch(z.tag){case 0:case 11:case 15:kl(9,z)}}catch(Ge){pn(z,z.return,Ge)}if(z===M){Ve=null;break e}var Te=z.sibling;if(Te!==null){Te.return=z.return,Ve=Te;break e}Ve=z.return}}if(Pt=C,ns(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Ct,t)}catch{}g=!0}return g}finally{gt=f,Lr.transition=s}}return!1}function O0(t,s,f){s=Co(f,s),s=Zh(t,s,1),t=is(t,s,1),s=lr(),t!==null&&(F(t,1,s),xr(t,s))}function pn(t,s,f){if(t.tag===3)O0(t,t,f);else for(;s!==null;){if(s.tag===3){O0(s,t,f);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(os===null||!os.has(g))){t=Co(f,t),t=$h(s,t,1),s=is(s,t,1),t=lr(),s!==null&&(F(s,1,t),xr(s,t));break}}s=s.return}}function Rx(t,s,f){var g=t.pingCache;g!==null&&g.delete(s),s=lr(),t.pingedLanes|=t.suspendedLanes&f,Fn===t&&(Gn&f)===f&&(Pn===4||Pn===3&&(Gn&130023424)===Gn&&500>kt()-Uu?zs(t,0):Vu|=f),xr(t,s)}function P0(t,s){s===0&&(t.mode&1?(s=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):s=1);var f=lr();t=_i(t,s),t!==null&&(F(t,s,f),xr(t,f))}function _x(t){var s=t.memoizedState,f=0;s!==null&&(f=s.retryLane),P0(t,f)}function Ox(t,s){var f=0;switch(t.tag){case 13:var g=t.stateNode,C=t.memoizedState;C!==null&&(f=C.retryLane);break;case 19:g=t.stateNode;break;default:throw Error(a(314))}g!==null&&g.delete(s),P0(t,f)}var M0;M0=function(t,s,f){if(t!==null)if(t.memoizedProps!==s.pendingProps||hr.current)gr=!0;else{if(!(t.lanes&f)&&!(s.flags&128))return gr=!1,yx(t,s,f);gr=!!(t.flags&131072)}else gr=!1,tn&&s.flags&1048576&&dh(s,yl,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;Ml(t,s),t=s.pendingProps;var C=ho(s,Jn.current);wo(s,f),C=yu(null,s,g,t,C,f);var b=wu();return s.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,pr(g)?(b=!0,gl(s)):b=!1,s.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,fu(s),C.updater=Ol,s.stateNode=C,C._reactInternals=s,bu(s,g,t,f),s=Ru(null,s,g,!0,b,f)):(s.tag=0,tn&&b&&tu(s),ar(null,s,C,f),s=s.child),s;case 16:g=s.elementType;e:{switch(Ml(t,s),t=s.pendingProps,C=g._init,g=C(g._payload),s.type=g,C=s.tag=Mx(g),t=$r(g,t),C){case 0:s=Nu(null,s,g,t,f);break e;case 1:s=s0(null,s,g,t,f);break e;case 11:s=e0(null,s,g,t,f);break e;case 14:s=t0(null,s,g,$r(g.type,t),f);break e}throw Error(a(306,g,""))}return s;case 0:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:$r(g,C),Nu(t,s,g,C,f);case 1:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:$r(g,C),s0(t,s,g,C,f);case 3:e:{if(o0(s),t===null)throw Error(a(387));g=s.pendingProps,b=s.memoizedState,C=b.element,Ch(t,s),Sl(s,g,null,f);var M=s.memoizedState;if(g=M.element,b.isDehydrated)if(b={element:g,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){C=Co(Error(a(423)),s),s=a0(t,s,g,f,C);break e}else if(g!==C){C=Co(Error(a(424)),s),s=a0(t,s,g,f,C);break e}else for(Ir=Ji(s.stateNode.containerInfo.firstChild),br=s,tn=!0,Zr=null,f=wh(s,null,g,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(mo(),g===C){s=Pi(t,s,f);break e}ar(t,s,g,f)}s=s.child}return s;case 5:return Sh(s),t===null&&iu(s),g=s.type,C=s.pendingProps,b=t!==null?t.memoizedProps:null,M=C.children,Zc(g,C)?M=null:b!==null&&Zc(g,b)&&(s.flags|=32),i0(t,s),ar(t,s,M,f),s.child;case 6:return t===null&&iu(s),null;case 13:return l0(t,s,f);case 4:return du(s,s.stateNode.containerInfo),g=s.pendingProps,t===null?s.child=xo(s,null,g,f):ar(t,s,g,f),s.child;case 11:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:$r(g,C),e0(t,s,g,C,f);case 7:return ar(t,s,s.pendingProps,f),s.child;case 8:return ar(t,s,s.pendingProps.children,f),s.child;case 12:return ar(t,s,s.pendingProps.children,f),s.child;case 10:e:{if(g=s.type._context,C=s.pendingProps,b=s.memoizedProps,M=C.value,Kt(Cl,g._currentValue),g._currentValue=M,b!==null)if($(b.value,M)){if(b.children===C.children&&!hr.current){s=Pi(t,s,f);break e}}else for(b=s.child,b!==null&&(b.return=s);b!==null;){var z=b.dependencies;if(z!==null){M=b.child;for(var X=z.firstContext;X!==null;){if(X.context===g){if(b.tag===1){X=Oi(-1,f&-f),X.tag=2;var le=b.updateQueue;if(le!==null){le=le.shared;var ye=le.pending;ye===null?X.next=X:(X.next=ye.next,ye.next=X),le.pending=X}}b.lanes|=f,X=b.alternate,X!==null&&(X.lanes|=f),cu(b.return,f,s),z.lanes|=f;break}X=X.next}}else if(b.tag===10)M=b.type===s.type?null:b.child;else if(b.tag===18){if(M=b.return,M===null)throw Error(a(341));M.lanes|=f,z=M.alternate,z!==null&&(z.lanes|=f),cu(M,f,s),M=b.sibling}else M=b.child;if(M!==null)M.return=b;else for(M=b;M!==null;){if(M===s){M=null;break}if(b=M.sibling,b!==null){b.return=M.return,M=b;break}M=M.return}b=M}ar(t,s,C.children,f),s=s.child}return s;case 9:return C=s.type,g=s.pendingProps.children,wo(s,f),C=Dr(C),g=g(C),s.flags|=1,ar(t,s,g,f),s.child;case 14:return g=s.type,C=$r(g,s.pendingProps),C=$r(g.type,C),t0(t,s,g,C,f);case 15:return n0(t,s,s.type,s.pendingProps,f);case 17:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:$r(g,C),Ml(t,s),s.tag=1,pr(g)?(t=!0,gl(s)):t=!1,wo(s,f),Yh(s,g,C),bu(s,g,C,f),Ru(null,s,g,!0,t,f);case 19:return u0(t,s,f);case 22:return r0(t,s,f)}throw Error(a(156,s.tag))};function D0(t,s){return qe(t,s)}function Px(t,s,f,g){this.tag=t,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(t,s,f,g){return new Px(t,s,f,g)}function Zu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mx(t){if(typeof t=="function")return Zu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ie)return 11;if(t===ee)return 14}return 2}function us(t,s){var f=t.alternate;return f===null?(f=Br(t.tag,s,t.key,t.mode),f.elementType=t.elementType,f.type=t.type,f.stateNode=t.stateNode,f.alternate=t,t.alternate=f):(f.pendingProps=s,f.type=t.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=t.flags&14680064,f.childLanes=t.childLanes,f.lanes=t.lanes,f.child=t.child,f.memoizedProps=t.memoizedProps,f.memoizedState=t.memoizedState,f.updateQueue=t.updateQueue,s=t.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=t.sibling,f.index=t.index,f.ref=t.ref,f}function Hl(t,s,f,g,C,b){var M=2;if(g=t,typeof t=="function")Zu(t)&&(M=1);else if(typeof t=="string")M=5;else e:switch(t){case J:return Hs(f.children,C,b,s);case ce:M=8,C|=8;break;case q:return t=Br(12,f,s,C|2),t.elementType=q,t.lanes=b,t;case Me:return t=Br(13,f,s,C),t.elementType=Me,t.lanes=b,t;case Fe:return t=Br(19,f,s,C),t.elementType=Fe,t.lanes=b,t;case pe:return Gl(f,C,b,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ne:M=10;break e;case Xe:M=9;break e;case Ie:M=11;break e;case ee:M=14;break e;case Oe:M=16,g=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return s=Br(M,f,s,C),s.elementType=t,s.type=g,s.lanes=b,s}function Hs(t,s,f,g){return t=Br(7,t,g,s),t.lanes=f,t}function Gl(t,s,f,g){return t=Br(22,t,g,s),t.elementType=pe,t.lanes=f,t.stateNode={isHidden:!1},t}function $u(t,s,f){return t=Br(6,t,null,s),t.lanes=f,t}function qu(t,s,f){return s=Br(4,t.children!==null?t.children:[],t.key,s),s.lanes=f,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Dx(t,s,f,g,C){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ne(0),this.expirationTimes=ne(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.identifierPrefix=g,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Qu(t,s,f,g,C,b,M,z,X){return t=new Dx(t,s,f,z,X),s===1?(s=1,b===!0&&(s|=8)):s=0,b=Br(3,null,null,s),t.current=b,b.stateNode=t,b.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},fu(b),t}function kx(t,s,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:g==null?null:""+g,children:t,containerInfo:s,implementation:f}}function k0(t){if(!t)return ts;t=t._reactInternals;e:{if($n(t)!==t||t.tag!==1)throw Error(a(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(pr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(a(171))}if(t.tag===1){var f=t.type;if(pr(f))return ch(t,f,s)}return s}function L0(t,s,f,g,C,b,M,z,X){return t=Qu(f,g,!0,t,C,b,M,z,X),t.context=k0(null),f=t.current,g=lr(),C=ls(f),b=Oi(g,C),b.callback=s??null,is(f,b,C),t.current.lanes=C,F(t,C,g),xr(t,g),t}function Xl(t,s,f,g){var C=s.current,b=lr(),M=ls(C);return f=k0(f),s.context===null?s.context=f:s.pendingContext=f,s=Oi(b,M),s.payload={element:t},g=g===void 0?null:g,g!==null&&(s.callback=g),t=is(C,s,M),t!==null&&(Jr(t,C,M,b),Al(t,C,M)),M}function Yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function B0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var f=t.retryLane;t.retryLane=f!==0&&f<s?f:s}}function Ju(t,s){B0(t,s),(t=t.alternate)&&B0(t,s)}function Lx(){return null}var F0=typeof reportError=="function"?reportError:function(t){console.error(t)};function ef(t){this._internalRoot=t}Kl.prototype.render=ef.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));Xl(t,s,null,null)},Kl.prototype.unmount=ef.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Us(function(){Xl(null,t,null,null)}),s[Ii]=null}};function Kl(t){this._internalRoot=t}Kl.prototype.unstable_scheduleHydration=function(t){if(t){var s=Xt();t={blockedOn:null,target:t,priority:s};for(var f=0;f<Un.length&&s!==0&&s<Un[f].priority;f++);Un.splice(f,0,t),f===0&&Ja(t)}};function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j0(){}function Bx(t,s,f,g,C){if(C){if(typeof g=="function"){var b=g;g=function(){var le=Yl(M);b.call(le)}}var M=L0(s,g,t,0,null,!1,!1,"",j0);return t._reactRootContainer=M,t[Ii]=M.current,ta(t.nodeType===8?t.parentNode:t),Us(),M}for(;C=t.lastChild;)t.removeChild(C);if(typeof g=="function"){var z=g;g=function(){var le=Yl(X);z.call(le)}}var X=Qu(t,0,!1,null,null,!1,!1,"",j0);return t._reactRootContainer=X,t[Ii]=X.current,ta(t.nodeType===8?t.parentNode:t),Us(function(){Xl(s,X,f,g)}),X}function $l(t,s,f,g,C){var b=f._reactRootContainer;if(b){var M=b;if(typeof C=="function"){var z=C;C=function(){var X=Yl(M);z.call(X)}}Xl(s,M,t,C)}else M=Bx(f,s,t,C,g);return Yl(M)}to=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var f=Gt(s.pendingLanes);f!==0&&(dn(s,f|1),xr(s,kt()),!(Pt&6)&&(So=kt()+500,ns()))}break;case 13:Us(function(){var g=_i(t,1);if(g!==null){var C=lr();Jr(g,t,1,C)}}),Ju(t,1)}},qn=function(t){if(t.tag===13){var s=_i(t,134217728);if(s!==null){var f=lr();Jr(s,t,134217728,f)}Ju(t,134217728)}},Ke=function(t){if(t.tag===13){var s=ls(t),f=_i(t,s);if(f!==null){var g=lr();Jr(f,t,s,g)}Ju(t,s)}},Xt=function(){return gt},Uo=function(t,s){var f=gt;try{return gt=t,s()}finally{gt=f}},Vi=function(t,s,f){switch(s){case"input":if(Ft(t,f),s=f.name,f.type==="radio"&&s!=null){for(f=t;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var g=f[s];if(g!==t&&g.form===t.form){var C=hl(g);if(!C)throw Error(a(90));ut(g),Ft(g,C)}}}break;case"textarea":we(t,f);break;case"select":s=f.value,s!=null&&Pe(t,!!f.multiple,s,!1)}},ti=Xu,xn=Us;var Fx={usingClientEntryPoint:!1,Events:[ia,uo,hl,ws,Zn,Xu]},ya={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jx={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Le(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||Lx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Ct=ql.inject(jx),pt=ql}catch{}}return yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fx,yr.createPortal=function(t,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tf(s))throw Error(a(200));return kx(t,s,null,f)},yr.createRoot=function(t,s){if(!tf(t))throw Error(a(299));var f=!1,g="",C=F0;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=Qu(t,1,!1,null,null,f,!1,g,C),t[Ii]=s.current,ta(t.nodeType===8?t.parentNode:t),new ef(s)},yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Le(s),t=t===null?null:t.stateNode,t},yr.flushSync=function(t){return Us(t)},yr.hydrate=function(t,s,f){if(!Zl(s))throw Error(a(200));return $l(null,t,s,!0,f)},yr.hydrateRoot=function(t,s,f){if(!tf(t))throw Error(a(405));var g=f!=null&&f.hydratedSources||null,C=!1,b="",M=F0;if(f!=null&&(f.unstable_strictMode===!0&&(C=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),s=L0(s,null,t,1,f??null,C,!1,b,M),t[Ii]=s.current,ta(t),g)for(t=0;t<g.length;t++)f=g[t],C=f._getVersion,C=C(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,C]:s.mutableSourceEagerHydrationData.push(f,C);return new Kl(s)},yr.render=function(t,s,f){if(!Zl(s))throw Error(a(200));return $l(null,t,s,!1,f)},yr.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(a(40));return t._reactRootContainer?(Us(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1},yr.unstable_batchedUpdates=Xu,yr.unstable_renderSubtreeIntoContainer=function(t,s,f,g){if(!Zl(f))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return $l(t,s,f,!1,g)},yr.version="18.3.1-next-f1338f8080-20240426",yr}var Y0;function Yx(){if(Y0)return sf.exports;Y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),sf.exports=Xx(),sf.exports}var K0;function Kx(){if(K0)return Jl;K0=1;var r=Yx();return Jl.createRoot=r.createRoot,Jl.hydrateRoot=r.hydrateRoot,Jl}var Zx=Kx();const Ur=P.createContext(null),$x=({children:r})=>{const[o,a]=P.useState(null),[d,p]=P.useState(null),[x,y]=P.useState(null),[A,w]=P.useState(null),[E,S]=P.useState(!1),[T,R]=P.useState(null),k=async()=>{const U=localStorage.getItem("access_token");if(U)try{const H=await fetch(window.server_url+"/load_user",{headers:{Authorization:`Bearer ${U}`}});if(H.ok){S(!0);const W=await H.json();console.log("USER DATA:",W),a(W.username),p(W.profile),R(W.permissions),console.log("PERMISSIONS:",W.permissions)}else console.log("TOKEN INVALID"),localStorage.removeItem("access_token"),a(null),p(null),y(null),w(null),S(!1)}catch(H){console.log("ERROR:",H)}};P.useEffect(()=>{k()},[]);const L=U=>{a(U.username),y(U.access_token),w(U.refresh_token),R(U.permissions),console.log("PRE SAVE USERNAME:",U.username),localStorage.setItem("user",U.username),localStorage.setItem("access_token",U.access_token),localStorage.setItem("refresh_token",U.refresh_token)},j=async(U,H)=>{const W=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:U,password:H})});if(W.ok){const Q=await W.json();console.log("SIGNED UP, userData:",Q)}},B=()=>{a(null),p(null),y(null),w(null),S(!1)};return I.jsx(Ur.Provider,{value:{user:o,login:L,signup:j,logout:B,userProfile:d,checkAuth:k,permissions:T},children:r})};var Nf=function(r,o){return Nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(a[p]=d[p])},Nf(r,o)};function qx(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");Nf(r,o);function a(){this.constructor=r}r.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var Xn=function(){return Xn=Object.assign||function(o){for(var a,d=1,p=arguments.length;d<p;d++){a=arguments[d];for(var x in a)Object.prototype.hasOwnProperty.call(a,x)&&(o[x]=a[x])}return o},Xn.apply(this,arguments)};var lf,Z0;function Qx(){if(Z0)return lf;Z0=1;var r=!1,o,a,d,p,x,y,A,w,E,S,T,R,k,L,j;function B(){if(!r){r=!0;var H=navigator.userAgent,W=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(H),Q=/(Mac OS X)|(Windows)|(Linux)/.exec(H);if(R=/\b(iPhone|iP[ao]d)/.exec(H),k=/\b(iP[ao]d)/.exec(H),S=/Android/i.exec(H),L=/FBAN\/\w+;/i.exec(H),j=/Mobile/i.exec(H),T=!!/Win64/.exec(H),W){o=W[1]?parseFloat(W[1]):W[5]?parseFloat(W[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var ue=/(?:Trident\/(\d+.\d+))/.exec(H);y=ue?parseFloat(ue[1])+4:o,a=W[2]?parseFloat(W[2]):NaN,d=W[3]?parseFloat(W[3]):NaN,p=W[4]?parseFloat(W[4]):NaN,p?(W=/(?:Chrome\/(\d+\.\d+))/.exec(H),x=W&&W[1]?parseFloat(W[1]):NaN):x=NaN}else o=a=d=x=p=NaN;if(Q){if(Q[1]){var se=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(H);A=se?parseFloat(se[1].replace("_",".")):!0}else A=!1;w=!!Q[2],E=!!Q[3]}else A=w=E=!1}}var U={ie:function(){return B()||o},ieCompatibilityMode:function(){return B()||y>o},ie64:function(){return U.ie()&&T},firefox:function(){return B()||a},opera:function(){return B()||d},webkit:function(){return B()||p},safari:function(){return U.webkit()},chrome:function(){return B()||x},windows:function(){return B()||w},osx:function(){return B()||A},linux:function(){return B()||E},iphone:function(){return B()||R},mobile:function(){return B()||R||k||S||j},nativeApp:function(){return B()||L},android:function(){return B()||S},ipad:function(){return B()||k}};return lf=U,lf}var cf,$0;function Jx(){if($0)return cf;$0=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),o={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return cf=o,cf}var uf,q0;function e2(){if(q0)return uf;q0=1;var r=Jx(),o;r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function a(d,p){if(!r.canUseDOM||p&&!("addEventListener"in document))return!1;var x="on"+d,y=x in document;if(!y){var A=document.createElement("div");A.setAttribute(x,"return;"),y=typeof A[x]=="function"}return!y&&o&&d==="wheel"&&(y=document.implementation.hasFeature("Events.wheel","3.0")),y}return uf=a,uf}var ff,Q0;function t2(){if(Q0)return ff;Q0=1;var r=Qx(),o=e2(),a=10,d=40,p=800;function x(y){var A=0,w=0,E=0,S=0;return"detail"in y&&(w=y.detail),"wheelDelta"in y&&(w=-y.wheelDelta/120),"wheelDeltaY"in y&&(w=-y.wheelDeltaY/120),"wheelDeltaX"in y&&(A=-y.wheelDeltaX/120),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(A=w,w=0),E=A*a,S=w*a,"deltaY"in y&&(S=y.deltaY),"deltaX"in y&&(E=y.deltaX),(E||S)&&y.deltaMode&&(y.deltaMode==1?(E*=d,S*=d):(E*=p,S*=p)),E&&!A&&(A=E<1?-1:1),S&&!w&&(w=S<1?-1:1),{spinX:A,spinY:w,pixelX:E,pixelY:S}}return x.getEventType=function(){return r.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},ff=x,ff}var df,J0;function n2(){return J0||(J0=1,df=t2()),df}var r2=n2();const i2=Vp(r2);function s2(r,o,a,d,p,x){x===void 0&&(x=0);var y=Po(r,o,x),A=y.width,w=y.height,E=Math.min(A,a),S=Math.min(w,d);return E>S*p?{width:S*p,height:S}:{width:E,height:E/p}}function o2(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function va(r,o,a,d,p){p===void 0&&(p=0);var x=Po(o.width,o.height,p),y=x.width,A=x.height;return{x:e1(r.x,y,a.width,d),y:e1(r.y,A,a.height,d)}}function e1(r,o,a,d){var p=o*d/2-a/2;return Tc(r,-p,p)}function t1(r,o){return Math.sqrt(Math.pow(r.y-o.y,2)+Math.pow(r.x-o.x,2))}function n1(r,o){return Math.atan2(o.y-r.y,o.x-r.x)*180/Math.PI}function a2(r,o,a,d,p,x,y){x===void 0&&(x=0),y===void 0&&(y=!0);var A=y?l2:c2,w=Po(o.width,o.height,x),E=Po(o.naturalWidth,o.naturalHeight,x),S={x:A(100,((w.width-a.width/p)/2-r.x/p)/w.width*100),y:A(100,((w.height-a.height/p)/2-r.y/p)/w.height*100),width:A(100,a.width/w.width*100/p),height:A(100,a.height/w.height*100/p)},T=Math.round(A(E.width,S.width*E.width/100)),R=Math.round(A(E.height,S.height*E.height/100)),k=E.width>=E.height*d,L=k?{width:Math.round(R*d),height:R}:{width:T,height:Math.round(T/d)},j=Xn(Xn({},L),{x:Math.round(A(E.width-L.width,S.x*E.width/100)),y:Math.round(A(E.height-L.height,S.y*E.height/100))});return{croppedAreaPercentages:S,croppedAreaPixels:j}}function l2(r,o){return Math.min(r,Math.max(0,o))}function c2(r,o){return o}function u2(r,o,a,d,p,x){var y=Po(o.width,o.height,a),A=Tc(d.width/y.width*(100/r.width),p,x),w={x:A*y.width/2-d.width/2-y.width*A*(r.x/100),y:A*y.height/2-d.height/2-y.height*A*(r.y/100)};return{crop:w,zoom:A}}function f2(r,o,a){var d=o2(o);return a.height>a.width?a.height/(r.height*d):a.width/(r.width*d)}function d2(r,o,a,d,p,x){a===void 0&&(a=0);var y=Po(o.naturalWidth,o.naturalHeight,a),A=Tc(f2(r,o,d),p,x),w=d.height>d.width?d.height/r.height:d.width/r.width,E={x:((y.width-r.width)/2-r.x)*w,y:((y.height-r.height)/2-r.y)*w};return{crop:E,zoom:A}}function r1(r,o){return{x:(o.x+r.x)/2,y:(o.y+r.y)/2}}function h2(r){return r*Math.PI/180}function Po(r,o,a){var d=h2(a);return{width:Math.abs(Math.cos(d)*r)+Math.abs(Math.sin(d)*o),height:Math.abs(Math.sin(d)*r)+Math.abs(Math.cos(d)*o)}}function Tc(r,o,a){return Math.min(Math.max(r,o),a)}function ec(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.filter(function(a){return typeof a=="string"&&a.length>0}).join(" ").trim()}var p2=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,g2=1,m2=3,x2=1,ed=function(r){qx(o,r);function o(){var a=r!==null&&r.apply(this,arguments)||this;return a.imageRef=P.createRef(),a.videoRef=P.createRef(),a.containerPosition={x:0,y:0},a.containerRef=null,a.styleRef=null,a.containerRect=null,a.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},a.dragStartPosition={x:0,y:0},a.dragStartCrop={x:0,y:0},a.gestureZoomStart=0,a.gestureRotationStart=0,a.isTouching=!1,a.lastPinchDistance=0,a.lastPinchRotation=0,a.rafDragTimeout=null,a.rafPinchTimeout=null,a.wheelTimer=null,a.currentDoc=typeof document<"u"?document:null,a.currentWindow=typeof window<"u"?window:null,a.resizeObserver=null,a.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},a.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!a.containerRef)){var d=!0;a.resizeObserver=new window.ResizeObserver(function(p){if(d){d=!1;return}a.computeSizes()}),a.resizeObserver.observe(a.containerRef)}},a.preventZoomSafari=function(d){return d.preventDefault()},a.cleanEvents=function(){a.currentDoc&&(a.currentDoc.removeEventListener("mousemove",a.onMouseMove),a.currentDoc.removeEventListener("mouseup",a.onDragStopped),a.currentDoc.removeEventListener("touchmove",a.onTouchMove),a.currentDoc.removeEventListener("touchend",a.onDragStopped),a.currentDoc.removeEventListener("gesturemove",a.onGestureMove),a.currentDoc.removeEventListener("gestureend",a.onGestureEnd),a.currentDoc.removeEventListener("scroll",a.onScroll))},a.clearScrollEvent=function(){a.containerRef&&a.containerRef.removeEventListener("wheel",a.onWheel),a.wheelTimer&&clearTimeout(a.wheelTimer)},a.onMediaLoad=function(){var d=a.computeSizes();d&&(a.emitCropData(),a.setInitialCrop(d)),a.props.onMediaLoaded&&a.props.onMediaLoaded(a.mediaSize)},a.setInitialCrop=function(d){if(a.props.initialCroppedAreaPercentages){var p=u2(a.props.initialCroppedAreaPercentages,a.mediaSize,a.props.rotation,d,a.props.minZoom,a.props.maxZoom),x=p.crop,y=p.zoom;a.props.onCropChange(x),a.props.onZoomChange&&a.props.onZoomChange(y)}else if(a.props.initialCroppedAreaPixels){var A=d2(a.props.initialCroppedAreaPixels,a.mediaSize,a.props.rotation,d,a.props.minZoom,a.props.maxZoom),x=A.crop,y=A.zoom;a.props.onCropChange(x),a.props.onZoomChange&&a.props.onZoomChange(y)}},a.computeSizes=function(){var d,p,x,y,A,w,E=a.imageRef.current||a.videoRef.current;if(E&&a.containerRef){a.containerRect=a.containerRef.getBoundingClientRect(),a.saveContainerPosition();var S=a.containerRect.width/a.containerRect.height,T=((d=a.imageRef.current)===null||d===void 0?void 0:d.naturalWidth)||((p=a.videoRef.current)===null||p===void 0?void 0:p.videoWidth)||0,R=((x=a.imageRef.current)===null||x===void 0?void 0:x.naturalHeight)||((y=a.videoRef.current)===null||y===void 0?void 0:y.videoHeight)||0,k=E.offsetWidth<T||E.offsetHeight<R,L=T/R,j=void 0;if(k)switch(a.state.mediaObjectFit){default:case"contain":j=S>L?{width:a.containerRect.height*L,height:a.containerRect.height}:{width:a.containerRect.width,height:a.containerRect.width/L};break;case"horizontal-cover":j={width:a.containerRect.width,height:a.containerRect.width/L};break;case"vertical-cover":j={width:a.containerRect.height*L,height:a.containerRect.height};break}else j={width:E.offsetWidth,height:E.offsetHeight};a.mediaSize=Xn(Xn({},j),{naturalWidth:T,naturalHeight:R}),a.props.setMediaSize&&a.props.setMediaSize(a.mediaSize);var B=a.props.cropSize?a.props.cropSize:s2(a.mediaSize.width,a.mediaSize.height,a.containerRect.width,a.containerRect.height,a.props.aspect,a.props.rotation);return(((A=a.state.cropSize)===null||A===void 0?void 0:A.height)!==B.height||((w=a.state.cropSize)===null||w===void 0?void 0:w.width)!==B.width)&&a.props.onCropSizeChange&&a.props.onCropSizeChange(B),a.setState({cropSize:B},a.recomputeCropPosition),a.props.setCropSize&&a.props.setCropSize(B),B}},a.saveContainerPosition=function(){if(a.containerRef){var d=a.containerRef.getBoundingClientRect();a.containerPosition={x:d.left,y:d.top}}},a.onMouseDown=function(d){a.currentDoc&&(d.preventDefault(),a.currentDoc.addEventListener("mousemove",a.onMouseMove),a.currentDoc.addEventListener("mouseup",a.onDragStopped),a.saveContainerPosition(),a.onDragStart(o.getMousePoint(d)))},a.onMouseMove=function(d){return a.onDrag(o.getMousePoint(d))},a.onScroll=function(d){a.currentDoc&&(d.preventDefault(),a.saveContainerPosition())},a.onTouchStart=function(d){a.currentDoc&&(a.isTouching=!0,!(a.props.onTouchRequest&&!a.props.onTouchRequest(d))&&(a.currentDoc.addEventListener("touchmove",a.onTouchMove,{passive:!1}),a.currentDoc.addEventListener("touchend",a.onDragStopped),a.saveContainerPosition(),d.touches.length===2?a.onPinchStart(d):d.touches.length===1&&a.onDragStart(o.getTouchPoint(d.touches[0]))))},a.onTouchMove=function(d){d.preventDefault(),d.touches.length===2?a.onPinchMove(d):d.touches.length===1&&a.onDrag(o.getTouchPoint(d.touches[0]))},a.onGestureStart=function(d){a.currentDoc&&(d.preventDefault(),a.currentDoc.addEventListener("gesturechange",a.onGestureMove),a.currentDoc.addEventListener("gestureend",a.onGestureEnd),a.gestureZoomStart=a.props.zoom,a.gestureRotationStart=a.props.rotation)},a.onGestureMove=function(d){if(d.preventDefault(),!a.isTouching){var p=o.getMousePoint(d),x=a.gestureZoomStart-1+d.scale;if(a.setNewZoom(x,p,{shouldUpdatePosition:!0}),a.props.onRotationChange){var y=a.gestureRotationStart+d.rotation;a.props.onRotationChange(y)}}},a.onGestureEnd=function(d){a.cleanEvents()},a.onDragStart=function(d){var p,x,y=d.x,A=d.y;a.dragStartPosition={x:y,y:A},a.dragStartCrop=Xn({},a.props.crop),(x=(p=a.props).onInteractionStart)===null||x===void 0||x.call(p)},a.onDrag=function(d){var p=d.x,x=d.y;a.currentWindow&&(a.rafDragTimeout&&a.currentWindow.cancelAnimationFrame(a.rafDragTimeout),a.rafDragTimeout=a.currentWindow.requestAnimationFrame(function(){if(a.state.cropSize&&!(p===void 0||x===void 0)){var y=p-a.dragStartPosition.x,A=x-a.dragStartPosition.y,w={x:a.dragStartCrop.x+y,y:a.dragStartCrop.y+A},E=a.props.restrictPosition?va(w,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):w;a.props.onCropChange(E)}}))},a.onDragStopped=function(){var d,p;a.isTouching=!1,a.cleanEvents(),a.emitCropData(),(p=(d=a.props).onInteractionEnd)===null||p===void 0||p.call(d)},a.onWheel=function(d){if(a.currentWindow&&!(a.props.onWheelRequest&&!a.props.onWheelRequest(d))){d.preventDefault();var p=o.getMousePoint(d),x=i2(d).pixelY,y=a.props.zoom-x*a.props.zoomSpeed/200;a.setNewZoom(y,p,{shouldUpdatePosition:!0}),a.state.hasWheelJustStarted||a.setState({hasWheelJustStarted:!0},function(){var A,w;return(w=(A=a.props).onInteractionStart)===null||w===void 0?void 0:w.call(A)}),a.wheelTimer&&clearTimeout(a.wheelTimer),a.wheelTimer=a.currentWindow.setTimeout(function(){return a.setState({hasWheelJustStarted:!1},function(){var A,w;return(w=(A=a.props).onInteractionEnd)===null||w===void 0?void 0:w.call(A)})},250)}},a.getPointOnContainer=function(d,p){var x=d.x,y=d.y;if(!a.containerRect)throw new Error("The Cropper is not mounted");return{x:a.containerRect.width/2-(x-p.x),y:a.containerRect.height/2-(y-p.y)}},a.getPointOnMedia=function(d){var p=d.x,x=d.y,y=a.props,A=y.crop,w=y.zoom;return{x:(p+A.x)/w,y:(x+A.y)/w}},a.setNewZoom=function(d,p,x){var y=x===void 0?{}:x,A=y.shouldUpdatePosition,w=A===void 0?!0:A;if(!(!a.state.cropSize||!a.props.onZoomChange)){var E=Tc(d,a.props.minZoom,a.props.maxZoom);if(w){var S=a.getPointOnContainer(p,a.containerPosition),T=a.getPointOnMedia(S),R={x:T.x*E-S.x,y:T.y*E-S.y},k=a.props.restrictPosition?va(R,a.mediaSize,a.state.cropSize,E,a.props.rotation):R;a.props.onCropChange(k)}a.props.onZoomChange(E)}},a.getCropData=function(){if(!a.state.cropSize)return null;var d=a.props.restrictPosition?va(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;return a2(d,a.mediaSize,a.state.cropSize,a.getAspect(),a.props.zoom,a.props.rotation,a.props.restrictPosition)},a.emitCropData=function(){var d=a.getCropData();if(d){var p=d.croppedAreaPercentages,x=d.croppedAreaPixels;a.props.onCropComplete&&a.props.onCropComplete(p,x),a.props.onCropAreaChange&&a.props.onCropAreaChange(p,x)}},a.emitCropAreaChange=function(){var d=a.getCropData();if(d){var p=d.croppedAreaPercentages,x=d.croppedAreaPixels;a.props.onCropAreaChange&&a.props.onCropAreaChange(p,x)}},a.recomputeCropPosition=function(){if(a.state.cropSize){var d=a.props.restrictPosition?va(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;a.props.onCropChange(d),a.emitCropData()}},a.onKeyDown=function(d){var p=a.props,x=p.crop,y=p.onCropChange,A=p.keyboardStep,w=p.zoom,E=p.rotation,S=A;if(a.state.cropSize){d.shiftKey&&(S*=.2);var T=Xn({},x);switch(d.key){case"ArrowUp":T.y-=S,d.preventDefault();break;case"ArrowDown":T.y+=S,d.preventDefault();break;case"ArrowLeft":T.x-=S,d.preventDefault();break;case"ArrowRight":T.x+=S,d.preventDefault();break;default:return}a.props.restrictPosition&&(T=va(T,a.mediaSize,a.state.cropSize,w,E)),y(T)}},a}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=p2,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},o.prototype.componentWillUnmount=function(){var a,d;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(a=this.resizeObserver)===null||a===void 0||a.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((d=this.styleRef.parentNode)===null||d===void 0||d.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(a){var d,p,x,y,A,w,E,S,T;a.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):a.aspect!==this.props.aspect?this.computeSizes():a.objectFit!==this.props.objectFit?this.computeSizes():a.zoom!==this.props.zoom?this.recomputeCropPosition():((d=a.cropSize)===null||d===void 0?void 0:d.height)!==((p=this.props.cropSize)===null||p===void 0?void 0:p.height)||((x=a.cropSize)===null||x===void 0?void 0:x.width)!==((y=this.props.cropSize)===null||y===void 0?void 0:y.width)?this.computeSizes():(((A=a.crop)===null||A===void 0?void 0:A.x)!==((w=this.props.crop)===null||w===void 0?void 0:w.x)||((E=a.crop)===null||E===void 0?void 0:E.y)!==((S=this.props.crop)===null||S===void 0?void 0:S.y))&&this.emitCropAreaChange(),a.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),a.video!==this.props.video&&((T=this.videoRef.current)===null||T===void 0||T.load());var R=this.getObjectFit();R!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:R},this.computeSizes)},o.prototype.getAspect=function(){var a=this.props,d=a.cropSize,p=a.aspect;return d?d.width/d.height:p},o.prototype.getObjectFit=function(){var a,d,p,x;if(this.props.objectFit==="cover"){var y=this.imageRef.current||this.videoRef.current;if(y&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var A=this.containerRect.width/this.containerRect.height,w=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((d=this.videoRef.current)===null||d===void 0?void 0:d.videoWidth)||0,E=((p=this.imageRef.current)===null||p===void 0?void 0:p.naturalHeight)||((x=this.videoRef.current)===null||x===void 0?void 0:x.videoHeight)||0,S=w/E;return S<A?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(a){var d=o.getTouchPoint(a.touches[0]),p=o.getTouchPoint(a.touches[1]);this.lastPinchDistance=t1(d,p),this.lastPinchRotation=n1(d,p),this.onDragStart(r1(d,p))},o.prototype.onPinchMove=function(a){var d=this;if(!(!this.currentDoc||!this.currentWindow)){var p=o.getTouchPoint(a.touches[0]),x=o.getTouchPoint(a.touches[1]),y=r1(p,x);this.onDrag(y),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var A=t1(p,x),w=d.props.zoom*(A/d.lastPinchDistance);d.setNewZoom(w,y,{shouldUpdatePosition:!1}),d.lastPinchDistance=A;var E=n1(p,x),S=d.props.rotation+(E-d.lastPinchRotation);d.props.onRotationChange&&d.props.onRotationChange(S),d.lastPinchRotation=E})}},o.prototype.render=function(){var a=this,d,p=this.props,x=p.image,y=p.video,A=p.mediaProps,w=p.transform,E=p.crop,S=E.x,T=E.y,R=p.rotation,k=p.zoom,L=p.cropShape,j=p.showGrid,B=p.style,U=B.containerStyle,H=B.cropAreaStyle,W=B.mediaStyle,Q=p.classes,ue=Q.containerClassName,se=Q.cropAreaClassName,J=Q.mediaClassName,ce=(d=this.state.mediaObjectFit)!==null&&d!==void 0?d:this.getObjectFit();return P.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Ne){return a.containerRef=Ne},"data-testid":"container",style:U,className:ec("reactEasyCrop_Container",ue)},x?P.createElement("img",Xn({alt:"",className:ec("reactEasyCrop_Image",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",J)},A,{src:x,ref:this.imageRef,style:Xn(Xn({},W),{transform:w||"translate(".concat(S,"px, ").concat(T,"px) rotate(").concat(R,"deg) scale(").concat(k,")")}),onLoad:this.onMediaLoad})):y&&P.createElement("video",Xn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ec("reactEasyCrop_Video",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",J)},A,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Xn(Xn({},W),{transform:w||"translate(".concat(S,"px, ").concat(T,"px) rotate(").concat(R,"deg) scale(").concat(k,")")}),controls:!1}),(Array.isArray(y)?y:[{src:y}]).map(function(q){return P.createElement("source",Xn({key:q.src},q))})),this.state.cropSize&&P.createElement("div",{style:Xn(Xn({},H),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:ec("reactEasyCrop_CropArea",L==="round"&&"reactEasyCrop_CropAreaRound",j&&"reactEasyCrop_CropAreaGrid",se)}))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:m2,minZoom:g2,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:x2},o.getMousePoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},o.getTouchPoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},o}(P.Component),Ca={},i1;function y2(){return i1||(i1=1,Ca.createCanvas=function(r,o){return Object.assign(document.createElement("canvas"),{width:r,height:o})},Ca.createImageData=function(r,o,a){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(r);case 2:return new ImageData(r,o);default:return new ImageData(r,o,a)}},Ca.loadImage=function(r,o){return new Promise(function(a,d){const p=Object.assign(document.createElement("img"),o);function x(){p.onload=null,p.onerror=null}p.onload=function(){x(),a(p)},p.onerror=function(){x(),d(new Error('Failed to load the image "'+r+'"'))},p.src=r})}),Ca}y2();async function td(r,o){return console.log("Image source being cropped:",r),new Promise((a,d)=>{const p=new Image;p.onload=()=>{const x=document.createElement("canvas"),y=x.getContext("2d");x.width=o.width,x.height=o.height,y.drawImage(p,o.x,o.y,o.width,o.height,0,0,o.width,o.height);try{const A=x.toDataURL("image/jpeg");a(A)}catch{d(new Error("Error converting canvas to base64"))}},p.onerror=x=>d(new Error(`Image load error: ${x.message}`)),p.src=r})}const w2=({onSubmit:r,onClose:o,existingProfile:a})=>{const{user:d,userProfile:p,checkAuth:x}=P.useContext(Ur),[y,A]=P.useState({name:(p==null?void 0:p.name)||"",image:null,imagePreview:p!=null&&p.image_data?`data:image/jpeg;base64,${p.image_data}`:"/assets/fakeprofile.png",croppedImage:null}),[w,E]=P.useState({x:0,y:0}),[S,T]=P.useState(1),[R,k]=P.useState(null),[L,j]=P.useState(!1),[B,U]=P.useState(!1),H=ue=>{const se=ue.target.files[0];if(se){const J=new FileReader;J.onload=ce=>{A(q=>({...q,image:se,imagePreview:ce.target.result})),j(!0)},J.readAsDataURL(se)}},W=(ue,se)=>{console.log("Cropped Area Pixels:",se),k(se)};async function Q(ue){ue.preventDefault();let se;if(y.croppedImage)se=y.croppedImage.split(",")[1];else if(y.image instanceof File){const q=await y.image.arrayBuffer();se=btoa(new Uint8Array(q).reduce((Ne,Xe)=>Ne+String.fromCharCode(Xe),""))}else if(p!=null&&p.image_data)se=p.image_data;else{console.error("No valid image provided");return}const J={name:y.name,image_data:se};console.log("Image data (first 100 chars):",se.substring(0,100));const ce=localStorage.getItem("access_token");try{const q=await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify(J)});if(!q.ok)throw new Error("Failed to update profile");const Ne=await q.json();await x(),console.log("Profile updated successfully:",Ne),o()}catch(q){console.error("Error updating profile:",q)}}return I.jsx("div",{className:"profile-creation-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:I.jsxs("div",{className:"profile-creation-modal",style:{width:"70%",maxWidth:"500px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"2rem",boxShadow:"0 10px 30px rgba(20,77,255,0.15)",position:"relative",border:"1px solid rgba(20,77,255,0.1)"},children:[I.jsx("button",{onClick:o,style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"#144dff",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:"×"}),I.jsx("h2",{style:{fontSize:"clamp(1.8rem, 6vw, 2.5rem)",color:"#144dff",textAlign:"center",marginBottom:"2rem",fontWeight:"600"},children:"Your Profile"}),I.jsxs("form",{onSubmit:Q,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[I.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[I.jsx("label",{style:{color:"#144dff",fontWeight:"500",fontSize:"1rem"},children:"Your Name"}),I.jsx("input",{type:"text",value:y.name,onChange:ue=>A({...y,name:ue.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #e0e0e0",fontSize:"0.9rem",transition:"all 0.3s ease",backgroundColor:"rgba(255,255,255,0.9)","&:focus":{borderColor:"#144dff",outline:"none",boxShadow:"0 0 0 3px rgba(20,77,255,0.1)"}}})]}),!L&&I.jsx("div",{style:{width:"250px",height:"250px",margin:"0 auto",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:I.jsx("img",{src:y.croppedImage?y.croppedImage:y.imagePreview?y.imagePreview:p!=null&&p.image_data?`data:image/jpeg;base64,${p.image_data}`:"/assets/fakeprofile.png",alt:"Profile preview",style:{width:"100%",height:"100%",objectFit:"cover"}})}),I.jsxs("div",{style:{textAlign:"center"},children:[I.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:H,style:{display:"none"}}),I.jsx("label",{htmlFor:"image-upload",style:{padding:"0.8rem 1.2rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",borderRadius:"25px",cursor:"pointer",display:"inline-block",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Upload New Image"})]}),L&&I.jsxs("div",{style:{width:"100%",maxWidth:"300px",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.2rem"},children:[I.jsx("div",{style:{position:"relative",width:"250px",height:"250px",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)"},children:I.jsx(ed,{image:y.imagePreview,crop:w,zoom:S,aspect:1,onCropComplete:W,onCropChange:E,onZoomChange:T})}),I.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[I.jsx("button",{type:"button",onClick:()=>{j(!1),y.croppedImage||A(ue=>({...ue,imagePreview:null}))},style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"2px solid #144dff",background:"white",color:"#144dff",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease","&:hover":{background:"rgba(20,77,255,0.1)"}},children:"Cancel"}),I.jsx("button",{type:"button",onClick:async()=>{try{const ue=await td(y.imagePreview,R);A(se=>({...se,croppedImage:ue,imagePreview:ue})),j(!1),U(!0),setTimeout(()=>U(!1),1e4)}catch(ue){console.error("Error cropping image:",ue)}},className:`save-profile-button ${B?"glow-bounce":""}`,style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"none",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(20,77,255,0.2)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Cropped Image"})]})]}),I.jsx("button",{type:"submit",className:`save-profile-button ${B?"glow-bounce":""}`,style:{padding:"1rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Profile"})]})]})})};var Ea={},s1;function v2(){if(s1)return Ea;s1=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.parse=y,Ea.serialize=E;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,o=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,d=/^[\u0020-\u003A\u003D-\u007E]*$/,p=Object.prototype.toString,x=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function y(R,k){const L=new x,j=R.length;if(j<2)return L;const B=(k==null?void 0:k.decode)||S;let U=0;do{const H=R.indexOf("=",U);if(H===-1)break;const W=R.indexOf(";",U),Q=W===-1?j:W;if(H>Q){U=R.lastIndexOf(";",H-1)+1;continue}const ue=A(R,U,H),se=w(R,H,ue),J=R.slice(ue,se);if(L[J]===void 0){let ce=A(R,H+1,Q),q=w(R,Q,ce);const Ne=B(R.slice(ce,q));L[J]=Ne}U=Q+1}while(U<j);return L}function A(R,k,L){do{const j=R.charCodeAt(k);if(j!==32&&j!==9)return k}while(++k<L);return L}function w(R,k,L){for(;k>L;){const j=R.charCodeAt(--k);if(j!==32&&j!==9)return k+1}return L}function E(R,k,L){const j=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const B=j(k);if(!o.test(B))throw new TypeError(`argument val is invalid: ${k}`);let U=R+"="+B;if(!L)return U;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);U+="; Max-Age="+L.maxAge}if(L.domain){if(!a.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);U+="; Domain="+L.domain}if(L.path){if(!d.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);U+="; Path="+L.path}if(L.expires){if(!T(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);U+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(U+="; HttpOnly"),L.secure&&(U+="; Secure"),L.partitioned&&(U+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return U}function S(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function T(R){return p.call(R)==="[object Date]"}return Ea}v2();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o1="popstate";function C2(r={}){function o(d,p){let{pathname:x,search:y,hash:A}=d.location;return Rf("",{pathname:x,search:y,hash:A},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function a(d,p){return typeof p=="string"?p:Ma(p)}return A2(o,a,null,r)}function un(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function gi(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function E2(){return Math.random().toString(36).substring(2,10)}function a1(r,o){return{usr:r.state,key:r.key,idx:o}}function Rf(r,o,a=null,d){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?ko(o):o,state:a,key:o&&o.key||d||E2()}}function Ma({pathname:r="/",search:o="",hash:a=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function ko(r){let o={};if(r){let a=r.indexOf("#");a>=0&&(o.hash=r.substring(a),r=r.substring(0,a));let d=r.indexOf("?");d>=0&&(o.search=r.substring(d),r=r.substring(0,d)),r&&(o.pathname=r)}return o}function A2(r,o,a,d={}){let{window:p=document.defaultView,v5Compat:x=!1}=d,y=p.history,A="POP",w=null,E=S();E==null&&(E=0,y.replaceState({...y.state,idx:E},""));function S(){return(y.state||{idx:null}).idx}function T(){A="POP";let B=S(),U=B==null?null:B-E;E=B,w&&w({action:A,location:j.location,delta:U})}function R(B,U){A="PUSH";let H=Rf(j.location,B,U);E=S()+1;let W=a1(H,E),Q=j.createHref(H);try{y.pushState(W,"",Q)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;p.location.assign(Q)}x&&w&&w({action:A,location:j.location,delta:1})}function k(B,U){A="REPLACE";let H=Rf(j.location,B,U);E=S();let W=a1(H,E),Q=j.createHref(H);y.replaceState(W,"",Q),x&&w&&w({action:A,location:j.location,delta:0})}function L(B){let U=p.location.origin!=="null"?p.location.origin:p.location.href,H=typeof B=="string"?B:Ma(B);return H=H.replace(/ $/,"%20"),un(U,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,U)}let j={get action(){return A},get location(){return r(p,y)},listen(B){if(w)throw new Error("A history only accepts one active listener");return p.addEventListener(o1,T),w=B,()=>{p.removeEventListener(o1,T),w=null}},createHref(B){return o(p,B)},createURL:L,encodeLocation(B){let U=L(B);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:R,replace:k,go(B){return y.go(B)}};return j}function Up(r,o,a="/"){return S2(r,o,a,!1)}function S2(r,o,a,d){let p=typeof o=="string"?ko(o):o,x=ps(p.pathname||"/",a);if(x==null)return null;let y=zp(r);b2(y);let A=null;for(let w=0;A==null&&w<y.length;++w){let E=L2(x);A=D2(y[w],E,d)}return A}function zp(r,o=[],a=[],d=""){let p=(x,y,A)=>{let w={relativePath:A===void 0?x.path||"":A,caseSensitive:x.caseSensitive===!0,childrenIndex:y,route:x};w.relativePath.startsWith("/")&&(un(w.relativePath.startsWith(d),`Absolute route path "${w.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(d.length));let E=Li([d,w.relativePath]),S=a.concat(w);x.children&&x.children.length>0&&(un(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),zp(x.children,o,S,E)),!(x.path==null&&!x.index)&&o.push({path:E,score:P2(E,x.index),routesMeta:S})};return r.forEach((x,y)=>{var A;if(x.path===""||!((A=x.path)!=null&&A.includes("?")))p(x,y);else for(let w of Wp(x.path))p(x,y,w)}),o}function Wp(r){let o=r.split("/");if(o.length===0)return[];let[a,...d]=o,p=a.endsWith("?"),x=a.replace(/\?$/,"");if(d.length===0)return p?[x,""]:[x];let y=Wp(d.join("/")),A=[];return A.push(...y.map(w=>w===""?x:[x,w].join("/"))),p&&A.push(...y),A.map(w=>r.startsWith("/")&&w===""?"/":w)}function b2(r){r.sort((o,a)=>o.score!==a.score?a.score-o.score:M2(o.routesMeta.map(d=>d.childrenIndex),a.routesMeta.map(d=>d.childrenIndex)))}var I2=/^:[\w-]+$/,T2=3,N2=2,R2=1,_2=10,O2=-2,l1=r=>r==="*";function P2(r,o){let a=r.split("/"),d=a.length;return a.some(l1)&&(d+=O2),o&&(d+=N2),a.filter(p=>!l1(p)).reduce((p,x)=>p+(I2.test(x)?T2:x===""?R2:_2),d)}function M2(r,o){return r.length===o.length&&r.slice(0,-1).every((d,p)=>d===o[p])?r[r.length-1]-o[o.length-1]:0}function D2(r,o,a=!1){let{routesMeta:d}=r,p={},x="/",y=[];for(let A=0;A<d.length;++A){let w=d[A],E=A===d.length-1,S=x==="/"?o:o.slice(x.length)||"/",T=gc({path:w.relativePath,caseSensitive:w.caseSensitive,end:E},S),R=w.route;if(!T&&E&&a&&!d[d.length-1].route.index&&(T=gc({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},S)),!T)return null;Object.assign(p,T.params),y.push({params:p,pathname:Li([x,T.pathname]),pathnameBase:V2(Li([x,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(x=Li([x,T.pathnameBase]))}return y}function gc(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,d]=k2(r.path,r.caseSensitive,r.end),p=o.match(a);if(!p)return null;let x=p[0],y=x.replace(/(.)\/+$/,"$1"),A=p.slice(1);return{params:d.reduce((E,{paramName:S,isOptional:T},R)=>{if(S==="*"){let L=A[R]||"";y=x.slice(0,x.length-L.length).replace(/(.)\/+$/,"$1")}const k=A[R];return T&&!k?E[S]=void 0:E[S]=(k||"").replace(/%2F/g,"/"),E},{}),pathname:x,pathnameBase:y,pattern:r}}function k2(r,o=!1,a=!0){gi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let d=[],p="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,A,w)=>(d.push({paramName:A,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(d.push({paramName:"*"}),p+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?p+="\\/*$":r!==""&&r!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,o?void 0:"i"),d]}function L2(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return gi(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function ps(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let a=o.endsWith("/")?o.length-1:o.length,d=r.charAt(a);return d&&d!=="/"?null:r.slice(a)||"/"}function B2(r,o="/"){let{pathname:a,search:d="",hash:p=""}=typeof r=="string"?ko(r):r;return{pathname:a?a.startsWith("/")?a:F2(a,o):o,search:U2(d),hash:z2(p)}}function F2(r,o){let a=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(p=>{p===".."?a.length>1&&a.pop():p!=="."&&a.push(p)}),a.length>1?a.join("/"):"/"}function hf(r,o,a,d){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j2(r){return r.filter((o,a)=>a===0||o.route.path&&o.route.path.length>0)}function Hp(r){let o=j2(r);return o.map((a,d)=>d===o.length-1?a.pathname:a.pathnameBase)}function Gp(r,o,a,d=!1){let p;typeof r=="string"?p=ko(r):(p={...r},un(!p.pathname||!p.pathname.includes("?"),hf("?","pathname","search",p)),un(!p.pathname||!p.pathname.includes("#"),hf("#","pathname","hash",p)),un(!p.search||!p.search.includes("#"),hf("#","search","hash",p)));let x=r===""||p.pathname==="",y=x?"/":p.pathname,A;if(y==null)A=a;else{let T=o.length-1;if(!d&&y.startsWith("..")){let R=y.split("/");for(;R[0]==="..";)R.shift(),T-=1;p.pathname=R.join("/")}A=T>=0?o[T]:"/"}let w=B2(p,A),E=y&&y!=="/"&&y.endsWith("/"),S=(x||y===".")&&a.endsWith("/");return!w.pathname.endsWith("/")&&(E||S)&&(w.pathname+="/"),w}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),V2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),U2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,z2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function W2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Xp=["POST","PUT","PATCH","DELETE"];new Set(Xp);var H2=["GET",...Xp];new Set(H2);var Lo=P.createContext(null);Lo.displayName="DataRouter";var Nc=P.createContext(null);Nc.displayName="DataRouterState";var Yp=P.createContext({isTransitioning:!1});Yp.displayName="ViewTransition";var G2=P.createContext(new Map);G2.displayName="Fetchers";var X2=P.createContext(null);X2.displayName="Await";var mi=P.createContext(null);mi.displayName="Navigation";var Wa=P.createContext(null);Wa.displayName="Location";var xi=P.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var nd=P.createContext(null);nd.displayName="RouteError";function Y2(r,{relative:o}={}){un(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:d}=P.useContext(mi),{hash:p,pathname:x,search:y}=Ga(r,{relative:o}),A=x;return a!=="/"&&(A=x==="/"?a:Li([a,x])),d.createHref({pathname:A,search:y,hash:p})}function Ha(){return P.useContext(Wa)!=null}function yi(){return un(Ha(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Wa).location}var Kp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zp(r){P.useContext(mi).static||P.useLayoutEffect(r)}function zr(){let{isDataRoute:r}=P.useContext(xi);return r?ay():K2()}function K2(){un(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let r=P.useContext(Lo),{basename:o,navigator:a}=P.useContext(mi),{matches:d}=P.useContext(xi),{pathname:p}=yi(),x=JSON.stringify(Hp(d)),y=P.useRef(!1);return Zp(()=>{y.current=!0}),P.useCallback((w,E={})=>{if(gi(y.current,Kp),!y.current)return;if(typeof w=="number"){a.go(w);return}let S=Gp(w,JSON.parse(x),p,E.relative==="path");r==null&&o!=="/"&&(S.pathname=S.pathname==="/"?o:Li([o,S.pathname])),(E.replace?a.replace:a.push)(S,E.state,E)},[o,a,x,p,r])}P.createContext(null);function Z2(){let{matches:r}=P.useContext(xi),o=r[r.length-1];return o?o.params:{}}function Ga(r,{relative:o}={}){let{matches:a}=P.useContext(xi),{pathname:d}=yi(),p=JSON.stringify(Hp(a));return P.useMemo(()=>Gp(r,JSON.parse(p),d,o==="path"),[r,p,d,o])}function $2(r,o){return $p(r,o)}function $p(r,o,a,d){var U;un(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=P.useContext(mi),{matches:x}=P.useContext(xi),y=x[x.length-1],A=y?y.params:{},w=y?y.pathname:"/",E=y?y.pathnameBase:"/",S=y&&y.route;{let H=S&&S.path||"";qp(w,!S||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=yi(),R;if(o){let H=typeof o=="string"?ko(o):o;un(E==="/"||((U=H.pathname)==null?void 0:U.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${H.pathname}" was given in the \`location\` prop.`),R=H}else R=T;let k=R.pathname||"/",L=k;if(E!=="/"){let H=E.replace(/^\//,"").split("/");L="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let j=Up(r,{pathname:L});gi(S||j!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),gi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=ty(j&&j.map(H=>Object.assign({},H,{params:Object.assign({},A,H.params),pathname:Li([E,p.encodeLocation?p.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?E:Li([E,p.encodeLocation?p.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),x,a,d);return o&&B?P.createElement(Wa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function q2(){let r=oy(),o=W2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,d="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:d},x={padding:"2px 4px",backgroundColor:d},y=null;return console.error("Error handled by React Router default ErrorBoundary:",r),y=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:x},"ErrorBoundary")," or"," ",P.createElement("code",{style:x},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},o),a?P.createElement("pre",{style:p},a):null,y)}var Q2=P.createElement(q2,null),J2=class extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?P.createElement(xi.Provider,{value:this.props.routeContext},P.createElement(nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ey({routeContext:r,match:o,children:a}){let d=P.useContext(Lo);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),P.createElement(xi.Provider,{value:r},a)}function ty(r,o=[],a=null,d=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(o.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let p=r,x=a==null?void 0:a.errors;if(x!=null){let w=p.findIndex(E=>E.route.id&&(x==null?void 0:x[E.route.id])!==void 0);un(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),p=p.slice(0,Math.min(p.length,w+1))}let y=!1,A=-1;if(a)for(let w=0;w<p.length;w++){let E=p[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(A=w),E.route.id){let{loaderData:S,errors:T}=a,R=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!T||T[E.route.id]===void 0);if(E.route.lazy||R){y=!0,A>=0?p=p.slice(0,A+1):p=[p[0]];break}}}return p.reduceRight((w,E,S)=>{let T,R=!1,k=null,L=null;a&&(T=x&&E.route.id?x[E.route.id]:void 0,k=E.route.errorElement||Q2,y&&(A<0&&S===0?(qp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):A===S&&(R=!0,L=E.route.hydrateFallbackElement||null)));let j=o.concat(p.slice(0,S+1)),B=()=>{let U;return T?U=k:R?U=L:E.route.Component?U=P.createElement(E.route.Component,null):E.route.element?U=E.route.element:U=w,P.createElement(ey,{match:E,routeContext:{outlet:w,matches:j,isDataRoute:a!=null},children:U})};return a&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?P.createElement(J2,{location:a.location,revalidation:a.revalidation,component:k,error:T,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):B()},null)}function rd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ny(r){let o=P.useContext(Lo);return un(o,rd(r)),o}function ry(r){let o=P.useContext(Nc);return un(o,rd(r)),o}function iy(r){let o=P.useContext(xi);return un(o,rd(r)),o}function id(r){let o=iy(r),a=o.matches[o.matches.length-1];return un(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function sy(){return id("useRouteId")}function oy(){var d;let r=P.useContext(nd),o=ry("useRouteError"),a=id("useRouteError");return r!==void 0?r:(d=o.errors)==null?void 0:d[a]}function ay(){let{router:r}=ny("useNavigate"),o=id("useNavigate"),a=P.useRef(!1);return Zp(()=>{a.current=!0}),P.useCallback(async(p,x={})=>{gi(a.current,Kp),a.current&&(typeof p=="number"?r.navigate(p):await r.navigate(p,{fromRouteId:o,...x}))},[r,o])}var c1={};function qp(r,o,a){!o&&!c1[r]&&(c1[r]=!0,gi(!1,a))}P.memo(ly);function ly({routes:r,future:o,state:a}){return $p(r,void 0,a,o)}function ui(r){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cy({basename:r="/",children:o=null,location:a,navigationType:d="POP",navigator:p,static:x=!1}){un(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),A=P.useMemo(()=>({basename:y,navigator:p,static:x,future:{}}),[y,p,x]);typeof a=="string"&&(a=ko(a));let{pathname:w="/",search:E="",hash:S="",state:T=null,key:R="default"}=a,k=P.useMemo(()=>{let L=ps(w,y);return L==null?null:{location:{pathname:L,search:E,hash:S,state:T,key:R},navigationType:d}},[y,w,E,S,T,R,d]);return gi(k!=null,`<Router basename="${y}"> is not able to match the URL "${w}${E}${S}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:P.createElement(mi.Provider,{value:A},P.createElement(Wa.Provider,{children:o,value:k}))}function uy({children:r,location:o}){return $2(_f(r),o)}function _f(r,o=[]){let a=[];return P.Children.forEach(r,(d,p)=>{if(!P.isValidElement(d))return;let x=[...o,p];if(d.type===P.Fragment){a.push.apply(a,_f(d.props.children,x));return}un(d.type===ui,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!d.props.index||!d.props.children,"An index route cannot have child routes.");let y={id:d.props.id||x.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(y.children=_f(d.props.children,x)),a.push(y)}),a}var lc="get",cc="application/x-www-form-urlencoded";function Rc(r){return r!=null&&typeof r.tagName=="string"}function fy(r){return Rc(r)&&r.tagName.toLowerCase()==="button"}function dy(r){return Rc(r)&&r.tagName.toLowerCase()==="form"}function hy(r){return Rc(r)&&r.tagName.toLowerCase()==="input"}function py(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gy(r,o){return r.button===0&&(!o||o==="_self")&&!py(r)}var tc=null;function my(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var xy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pf(r){return r!=null&&!xy.has(r)?(gi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function yy(r,o){let a,d,p,x,y;if(dy(r)){let A=r.getAttribute("action");d=A?ps(A,o):null,a=r.getAttribute("method")||lc,p=pf(r.getAttribute("enctype"))||cc,x=new FormData(r)}else if(fy(r)||hy(r)&&(r.type==="submit"||r.type==="image")){let A=r.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=r.getAttribute("formaction")||A.getAttribute("action");if(d=w?ps(w,o):null,a=r.getAttribute("formmethod")||A.getAttribute("method")||lc,p=pf(r.getAttribute("formenctype"))||pf(A.getAttribute("enctype"))||cc,x=new FormData(A,r),!my()){let{name:E,type:S,value:T}=r;if(S==="image"){let R=E?`${E}.`:"";x.append(`${R}x`,"0"),x.append(`${R}y`,"0")}else E&&x.append(E,T)}}else{if(Rc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=lc,d=null,p=cc,y=r}return x&&p==="text/plain"&&(y=x,x=void 0),{action:d,method:a.toLowerCase(),encType:p,formData:x,body:y}}function sd(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}async function wy(r,o){if(r.id in o)return o[r.id];try{let a=await import(r.module);return o[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vy(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Cy(r,o,a){let d=await Promise.all(r.map(async p=>{let x=o.routes[p.route.id];if(x){let y=await wy(x,a);return y.links?y.links():[]}return[]}));return by(d.flat(1).filter(vy).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function u1(r,o,a,d,p,x){let y=(w,E)=>a[E]?w.route.id!==a[E].route.id:!0,A=(w,E)=>{var S;return a[E].pathname!==w.pathname||((S=a[E].route.path)==null?void 0:S.endsWith("*"))&&a[E].params["*"]!==w.params["*"]};return x==="assets"?o.filter((w,E)=>y(w,E)||A(w,E)):x==="data"?o.filter((w,E)=>{var T;let S=d.routes[w.route.id];if(!S||!S.hasLoader)return!1;if(y(w,E)||A(w,E))return!0;if(w.route.shouldRevalidate){let R=w.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:((T=a[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Ey(r,o){return Ay(r.map(a=>{let d=o.routes[a.route.id];if(!d)return[];let p=[d.module];return d.imports&&(p=p.concat(d.imports)),p}).flat(1))}function Ay(r){return[...new Set(r)]}function Sy(r){let o={},a=Object.keys(r).sort();for(let d of a)o[d]=r[d];return o}function by(r,o){let a=new Set;return new Set(o),r.reduce((d,p)=>{let x=JSON.stringify(Sy(p));return a.has(x)||(a.add(x),d.push({key:x,link:p})),d},[])}function Iy(r){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname="_root.data":o.pathname=`${o.pathname.replace(/\/$/,"")}.data`,o}function Ty(){let r=P.useContext(Lo);return sd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ny(){let r=P.useContext(Nc);return sd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var od=P.createContext(void 0);od.displayName="FrameworkContext";function Qp(){let r=P.useContext(od);return sd(r,"You must render this element inside a <HydratedRouter> element"),r}function Ry(r,o){let a=P.useContext(od),[d,p]=P.useState(!1),[x,y]=P.useState(!1),{onFocus:A,onBlur:w,onMouseEnter:E,onMouseLeave:S,onTouchStart:T}=o,R=P.useRef(null);P.useEffect(()=>{if(r==="render"&&y(!0),r==="viewport"){let j=U=>{U.forEach(H=>{y(H.isIntersecting)})},B=new IntersectionObserver(j,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[r]),P.useEffect(()=>{if(d){let j=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(j)}}},[d]);let k=()=>{p(!0)},L=()=>{p(!1),y(!1)};return a?r!=="intent"?[x,R,{}]:[x,R,{onFocus:Aa(A,k),onBlur:Aa(w,L),onMouseEnter:Aa(E,k),onMouseLeave:Aa(S,L),onTouchStart:Aa(T,k)}]:[!1,R,{}]}function Aa(r,o){return a=>{r&&r(a),a.defaultPrevented||o(a)}}function _y({page:r,...o}){let{router:a}=Ty(),d=P.useMemo(()=>Up(a.routes,r,a.basename),[a.routes,r,a.basename]);return d?P.createElement(Py,{page:r,matches:d,...o}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function Oy(r){let{manifest:o,routeModules:a}=Qp(),[d,p]=P.useState([]);return P.useEffect(()=>{let x=!1;return Cy(r,o,a).then(y=>{x||p(y)}),()=>{x=!0}},[r,o,a]),d}function Py({page:r,matches:o,...a}){let d=yi(),{manifest:p,routeModules:x}=Qp(),{loaderData:y,matches:A}=Ny(),w=P.useMemo(()=>u1(r,o,A,p,d,"data"),[r,o,A,p,d]),E=P.useMemo(()=>u1(r,o,A,p,d,"assets"),[r,o,A,p,d]),S=P.useMemo(()=>{if(r===d.pathname+d.search+d.hash)return[];let k=new Set,L=!1;if(o.forEach(B=>{var H;let U=p.routes[B.route.id];!U||!U.hasLoader||(!w.some(W=>W.route.id===B.route.id)&&B.route.id in y&&((H=x[B.route.id])!=null&&H.shouldRevalidate)||U.hasClientLoader?L=!0:k.add(B.route.id))}),k.size===0)return[];let j=Iy(r);return L&&k.size>0&&j.searchParams.set("_routes",o.filter(B=>k.has(B.route.id)).map(B=>B.route.id).join(",")),[j.pathname+j.search]},[y,d,p,w,o,r,x]),T=P.useMemo(()=>Ey(E,p),[E,p]),R=Oy(E);return P.createElement(P.Fragment,null,S.map(k=>P.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...a})),T.map(k=>P.createElement("link",{key:k,rel:"modulepreload",href:k,...a})),R.map(({key:k,link:L})=>P.createElement("link",{key:k,...L})))}function My(...r){return o=>{r.forEach(a=>{typeof a=="function"?a(o):a!=null&&(a.current=o)})}}var Jp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jp&&(window.__reactRouterVersion="7.0.2")}catch{}function Dy({basename:r,children:o,window:a}){let d=P.useRef();d.current==null&&(d.current=C2({window:a,v5Compat:!0}));let p=d.current,[x,y]=P.useState({action:p.action,location:p.location}),A=P.useCallback(w=>{P.startTransition(()=>y(w))},[y]);return P.useLayoutEffect(()=>p.listen(A),[p,A]),P.createElement(cy,{basename:r,children:o,location:x.location,navigationType:x.action,navigator:p})}var eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tg=P.forwardRef(function({onClick:o,discover:a="render",prefetch:d="none",relative:p,reloadDocument:x,replace:y,state:A,target:w,to:E,preventScrollReset:S,viewTransition:T,...R},k){let{basename:L}=P.useContext(mi),j=typeof E=="string"&&eg.test(E),B,U=!1;if(typeof E=="string"&&j&&(B=E,Jp))try{let q=new URL(window.location.href),Ne=E.startsWith("//")?new URL(q.protocol+E):new URL(E),Xe=ps(Ne.pathname,L);Ne.origin===q.origin&&Xe!=null?E=Xe+Ne.search+Ne.hash:U=!0}catch{gi(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=Y2(E,{relative:p}),[W,Q,ue]=Ry(d,R),se=Fy(E,{replace:y,state:A,target:w,preventScrollReset:S,relative:p,viewTransition:T});function J(q){o&&o(q),q.defaultPrevented||se(q)}let ce=P.createElement("a",{...R,...ue,href:B||H,onClick:U||x?o:J,ref:My(k,Q),target:w,"data-discover":!j&&a==="render"?"true":void 0});return W&&!j?P.createElement(P.Fragment,null,ce,P.createElement(_y,{page:H})):ce});tg.displayName="Link";var ky=P.forwardRef(function({"aria-current":o="page",caseSensitive:a=!1,className:d="",end:p=!1,style:x,to:y,viewTransition:A,children:w,...E},S){let T=Ga(y,{relative:E.relative}),R=yi(),k=P.useContext(Nc),{navigator:L,basename:j}=P.useContext(mi),B=k!=null&&Wy(T)&&A===!0,U=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,H=R.pathname,W=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;a||(H=H.toLowerCase(),W=W?W.toLowerCase():null,U=U.toLowerCase()),W&&j&&(W=ps(W,j)||W);const Q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ue=H===U||!p&&H.startsWith(U)&&H.charAt(Q)==="/",se=W!=null&&(W===U||!p&&W.startsWith(U)&&W.charAt(U.length)==="/"),J={isActive:ue,isPending:se,isTransitioning:B},ce=ue?o:void 0,q;typeof d=="function"?q=d(J):q=[d,ue?"active":null,se?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof x=="function"?x(J):x;return P.createElement(tg,{...E,"aria-current":ce,className:q,ref:S,style:Ne,to:y,viewTransition:A},typeof w=="function"?w(J):w)});ky.displayName="NavLink";var Ly=P.forwardRef(({discover:r="render",fetcherKey:o,navigate:a,reloadDocument:d,replace:p,state:x,method:y=lc,action:A,onSubmit:w,relative:E,preventScrollReset:S,viewTransition:T,...R},k)=>{let L=Uy(),j=zy(A,{relative:E}),B=y.toLowerCase()==="get"?"get":"post",U=typeof A=="string"&&eg.test(A),H=W=>{if(w&&w(W),W.defaultPrevented)return;W.preventDefault();let Q=W.nativeEvent.submitter,ue=(Q==null?void 0:Q.getAttribute("formmethod"))||y;L(Q||W.currentTarget,{fetcherKey:o,method:ue,navigate:a,replace:p,state:x,relative:E,preventScrollReset:S,viewTransition:T})};return P.createElement("form",{ref:k,method:B,action:j,onSubmit:d?w:H,...R,"data-discover":!U&&r==="render"?"true":void 0})});Ly.displayName="Form";function By(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ng(r){let o=P.useContext(Lo);return un(o,By(r)),o}function Fy(r,{target:o,replace:a,state:d,preventScrollReset:p,relative:x,viewTransition:y}={}){let A=zr(),w=yi(),E=Ga(r,{relative:x});return P.useCallback(S=>{if(gy(S,o)){S.preventDefault();let T=a!==void 0?a:Ma(w)===Ma(E);A(r,{replace:T,state:d,preventScrollReset:p,relative:x,viewTransition:y})}},[w,A,E,a,d,o,r,p,x,y])}var jy=0,Vy=()=>`__${String(++jy)}__`;function Uy(){let{router:r}=ng("useSubmit"),{basename:o}=P.useContext(mi),a=sy();return P.useCallback(async(d,p={})=>{let{action:x,method:y,encType:A,formData:w,body:E}=yy(d,o);if(p.navigate===!1){let S=p.fetcherKey||Vy();await r.fetch(S,a,p.action||x,{preventScrollReset:p.preventScrollReset,formData:w,body:E,formMethod:p.method||y,formEncType:p.encType||A,flushSync:p.flushSync})}else await r.navigate(p.action||x,{preventScrollReset:p.preventScrollReset,formData:w,body:E,formMethod:p.method||y,formEncType:p.encType||A,replace:p.replace,state:p.state,fromRouteId:a,flushSync:p.flushSync,viewTransition:p.viewTransition})},[r,o,a])}function zy(r,{relative:o}={}){let{basename:a}=P.useContext(mi),d=P.useContext(xi);un(d,"useFormAction must be used inside a RouteContext");let[p]=d.matches.slice(-1),x={...Ga(r||".",{relative:o})},y=yi();if(r==null){x.search=y.search;let A=new URLSearchParams(x.search),w=A.getAll("index");if(w.some(S=>S==="")){A.delete("index"),w.filter(T=>T).forEach(T=>A.append("index",T));let S=A.toString();x.search=S?`?${S}`:""}}return(!r||r===".")&&p.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(x.pathname=x.pathname==="/"?a:Li([a,x.pathname])),Ma(x)}function Wy(r,o={}){let a=P.useContext(Yp);un(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=ng("useViewTransitionState"),p=Ga(r,{relative:o.relative});if(!a.isTransitioning)return!1;let x=ps(a.currentLocation.pathname,d)||a.currentLocation.pathname,y=ps(a.nextLocation.pathname,d)||a.nextLocation.pathname;return gc(p.pathname,y)!=null||gc(p.pathname,x)!=null}new TextEncoder;function rg(){const r="./assets",o="/sounds/banger.mp3",a=zr(),d=P.useRef(new Audio(r+o)),[p,x]=P.useState(!1),[y,A]=P.useState(!1),[w,E]=P.useState(null),[S,T]=P.useState(!1),[R,k]=P.useState(!1);P.useEffect(()=>{const W=d.current,Q=()=>{W.pause(),W.currentTime=0,A(!1),U(),a("/")};return W.addEventListener("ended",Q),()=>W.removeEventListener("ended",Q)},[R]);function L(){E(null),d.current.load(),d.current.play().then(()=>{d.current.pause(),d.current.currentTime=0,x(!0),A(!0),T(!0),B()}).catch(W=>{console.error("Error loading audio:",W),E("Failed to load audio. Please check the file path and format."),T(!1)})}function j(){return!!(d.current&&!d.current.paused)}function B(){d.current.paused?d.current.play().catch(W=>{console.error("Error playing audio:",W),E("Failed to play audio. Please try again.")}):d.current.currentTime=0}function U(){d.current&&(d.current.pause(),d.current.currentTime=0,d.current.src="",d.current=null)}function H(W){d.current.currentTime=W}return{audioRef:d,error:w,playSound:B,loadSound:L,seekTo:H,cancelSound:U,checkSound:j,soundEnabled:S,setSoundEnabled:T,isPlaying:y}}var Mn;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Mn||(Mn={}));Mn.QR_CODE,Mn.AZTEC,Mn.CODABAR,Mn.CODE_39,Mn.CODE_93,Mn.CODE_128,Mn.DATA_MATRIX,Mn.MAXICODE,Mn.ITF,Mn.EAN_13,Mn.EAN_8,Mn.PDF_417,Mn.RSS_14,Mn.RSS_EXPANDED,Mn.UPC_A,Mn.UPC_E,Mn.UPC_EAN_EXTENSION;var f1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(f1||(f1={}));var mc;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(mc||(mc={}));var Hy=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[mc.SCAN_TYPE_CAMERA,mc.SCAN_TYPE_FILE],r}(),d1;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(d1||(d1={}));var ba={exports:{}},Gy=ba.exports,h1;function Xy(){return h1||(h1=1,function(r,o){(function(a,d){d(o)})(Gy,function(a){function d(_){return _==null}var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,e){_.__proto__=e}||function(_,e){for(var n in e)e.hasOwnProperty(n)&&(_[n]=e[n])};function x(_,e){p(_,e);function n(){this.constructor=_}_.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function y(_,e){var n=Object.setPrototypeOf;n?n(_,e):_.__proto__=e}function A(_,e){e===void 0&&(e=_.constructor);var n=Error.captureStackTrace;n&&n(_,e)}var w=function(_){x(e,_);function e(n){var i=this.constructor,l=_.call(this,n)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),y(l,i.prototype),A(l),l}return e}(Error);class E extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class S extends E{}S.kind="ArgumentException";class T extends E{}T.kind="IllegalArgumentException";class R{constructor(e){if(this.binarizer=e,e===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,l){const c=this.binarizer.getLuminanceSource().crop(e,n,i,l);return new R(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends E{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class L{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(e,n,i,l,c){for(;c--;)i[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class B extends E{}B.kind="IndexOutOfBoundsException";class U extends B{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}U.kind="ArrayIndexOutOfBoundsException";class H{static fill(e,n){for(let i=0,l=e.length;i<l;i++)e[i]=n}static fillWithin(e,n,i,l){H.rangeCheck(e.length,n,i);for(let c=n;c<i;c++)e[c]=l}static rangeCheck(e,n,i){if(n>i)throw new T("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new U(n);if(i>e)throw new U(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(c=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(c=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,l=e.length;i<l;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const l=i-n,c=new Int32Array(l);return j.arraycopy(e,n,c,0,l),c}static binarySearch(e,n,i){i===void 0&&(i=H.numberComparator);let l=0,c=e.length-1;for(;l<=c;){const u=c+l>>1,h=i(n,e[u]);if(h>0)l=u+1;else if(h<0)c=u-1;else return u}return-l-1}static numberComparator(e,n){return e-n}}class W{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}W.MIN_VALUE_32_BITS=-2147483648,W.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Q{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=Q.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=Q.makeArray(e);j.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),c=i[l];c&=~((1<<(e&31))-1);const u=i.length;for(;c===0;){if(++l===u)return n;c=i[l]}const h=l*32+W.numberOfTrailingZeros(c);return h>n?n:h}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),c=~i[l];c&=~((1<<(e&31))-1);const u=i.length;for(;c===0;){if(++l===u)return n;c=~i[l]}const h=l*32+W.numberOfTrailingZeros(c);return h>n?n:h}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new T;if(n===e)return;n--;const i=Math.floor(e/32),l=Math.floor(n/32),c=this.bits;for(let u=i;u<=l;u++){const h=u>i?0:e&31,v=(2<<(u<l?31:n&31))-(1<<h);c[u]|=v}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new T;if(n===e)return!0;n--;const l=Math.floor(e/32),c=Math.floor(n/32),u=this.bits;for(let h=l;h<=c;h++){const m=h>l?0:e&31,N=(2<<(h<c?31:n&31))-(1<<m)&4294967295;if((u[h]&N)!==(i?N:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new T("Sizes don't match");const n=this.bits;for(let i=0,l=n.length;i<l;i++)n[i]^=e.bits[i]}toBytes(e,n,i,l){for(let c=0;c<l;c++){let u=0;for(let h=0;h<8;h++)this.get(e)&&(u|=1<<7-h),e++;n[i+c]=u}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,l=this.bits;for(let c=0;c<i;c++){let u=l[c];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[n-c]=u}if(this.size!==i*32){const c=i*32-this.size;let u=e[0]>>>c;for(let h=1;h<i;h++){const m=e[h];u|=m<<32-c,e[h-1]=u,u=m>>>c}e[i-1]=u}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof Q))return!1;const n=e;return this.size===n.size&&H.equals(this.bits,n.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new Q(this.size,this.bits.slice())}}var ue;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(ue||(ue={}));var se=ue;class J extends E{static getFormatInstance(){return new J}}J.kind="FormatException";var ce;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(ce||(ce={}));class q{constructor(e,n,i,...l){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,q.VALUE_IDENTIFIER_TO_ECI.set(e,this),q.NAME_TO_ECI.set(i,this);const c=this.values;for(let u=0,h=c.length;u!==h;u++){const m=c[u];q.VALUES_TO_ECI.set(m,this)}for(const u of l)q.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new J("incorect value");const n=q.VALUES_TO_ECI.get(e);if(n===void 0)throw new J("incorect value");return n}static getCharacterSetECIByName(e){const n=q.NAME_TO_ECI.get(e);if(n===void 0)throw new J("incorect value");return n}equals(e){if(!(e instanceof q))return!1;const n=e;return this.getName()===n.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(ce.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(ce.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(ce.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(ce.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(ce.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(ce.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(ce.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(ce.Big5,28,"Big5"),q.GB18030=new q(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(ce.EUC_KR,30,"EUC_KR","EUC-KR");class Ne extends E{}Ne.kind="UnsupportedOperationException";class Xe{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!Xe.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof q?e:q.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(Xe.isDecodeFallbackSupported(i)){let l="";for(let c=0,u=e.length;c<u;c++){let h=e[c].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(i.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Ne(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(q.UTF8)||e.equals(q.ISO8859_1)||e.equals(q.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let c=0;c<i.length;c++)l.push(i[c].charCodeAt(0));return new Uint8Array(l)}}class Ie{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return Xe.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get(se.CHARACTER_SET)!==void 0)return n.get(se.CHARACTER_SET).toString();const i=e.length;let l=!0,c=!0,u=!0,h=0,m=0,v=0,N=0,O=0,D=0,V=0,G=0,K=0,$=0,oe=0;const Ae=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let be=0;be<i&&(l||c||u);be++){const me=e[be]&255;u&&(h>0?me&128?h--:u=!1:me&128&&(me&64?(h++,me&32?(h++,me&16?(h++,me&8?u=!1:N++):v++):m++):u=!1)),l&&(me>127&&me<160?l=!1:me>159&&(me<192||me===215||me===247)&&oe++),c&&(O>0?me<64||me===127||me>252?c=!1:O--:me===128||me===160||me>239?c=!1:me>160&&me<224?(D++,G=0,V++,V>K&&(K=V)):me>127?(O++,V=0,G++,G>$&&($=G)):(V=0,G=0))}return u&&h>0&&(u=!1),c&&O>0&&(c=!1),u&&(Ae||m+v+N>0)?Ie.UTF8:c&&(Ie.ASSUME_SHIFT_JIS||K>=3||$>=3)?Ie.SHIFT_JIS:l&&c?K===2&&D===2||oe*10>=i?Ie.SHIFT_JIS:Ie.ISO88591:l?Ie.ISO88591:c?Ie.SHIFT_JIS:u?Ie.UTF8:Ie.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function l(u,h,m,v,N,O){if(u==="%%")return"%";if(n[++i]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,V;switch(O){case"s":V=n[i];break;case"c":V=n[i][0];break;case"f":V=parseFloat(n[i]).toFixed(u);break;case"p":V=parseFloat(n[i]).toPrecision(u);break;case"e":V=parseFloat(n[i]).toExponential(u);break;case"x":V=parseInt(n[i]).toString(D||16);break;case"d":V=parseFloat(parseInt(n[i],D||10).toPrecision(u)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(D);let G=parseInt(m),K=m&&m[0]+""=="0"?"0":" ";for(;V.length<G;)V=h!==void 0?V+K:K+V;return V}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}static getBytes(e,n){return Xe.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Ie.SHIFT_JIS=q.SJIS.getName(),Ie.GB2312="GB2312",Ie.ISO88591=q.ISO8859_1.getName(),Ie.EUC_JP="EUC_JP",Ie.UTF8=q.UTF8.getName(),Ie.PLATFORM_DEFAULT_ENCODING=Ie.UTF8,Ie.ASSUME_SHIFT_JIS=!1;class Me{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Ie.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let l=n;n<n+i;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class Fe{constructor(e,n,i,l){if(this.width=e,this.height=n,this.rowSize=i,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new T("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,l=new Fe(i,n);for(let c=0;c<n;c++){const u=e[c];for(let h=0;h<i;h++)u[h]&&l.set(h,c)}return l}static parseFromString(e,n,i){if(e===null)throw new T("stringRepresentation cannot be null");const l=new Array(e.length);let c=0,u=0,h=-1,m=0,v=0;for(;v<e.length;)if(e.charAt(v)===`
`||e.charAt(v)==="\r"){if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new T("row lengths do not match");u=c,m++}v++}else if(e.substring(v,v+n.length)===n)v+=n.length,l[c]=!0,c++;else if(e.substring(v,v+i.length)===i)v+=i.length,l[c]=!1,c++;else throw new T("illegal character encountered: "+e.substring(v));if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new T("row lengths do not match");m++}const N=new Fe(h,m);for(let O=0;O<c;O++)l[O]&&N.set(Math.floor(O%h),Math.floor(O/h));return N}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new T("input matrix dimensions do not match");const n=new Q(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let c=0,u=this.height;c<u;c++){const h=c*i,m=e.getRow(c,n).getBitArray();for(let v=0;v<i;v++)l[h+v]^=m[v]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,l){if(n<0||e<0)throw new T("Left and top must be nonnegative");if(l<1||i<1)throw new T("Height and width must be at least 1");const c=e+i,u=n+l;if(u>this.height||c>this.width)throw new T("The region must fit inside the matrix");const h=this.rowSize,m=this.bits;for(let v=n;v<u;v++){const N=v*h;for(let O=e;O<c;O++)m[N+Math.floor(O/32)]|=1<<(O&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new Q(this.width):n.clear();const i=this.rowSize,l=this.bits,c=e*i;for(let u=0;u<i;u++)n.setBulk(u*32,l[c+u]);return n}setRow(e,n){j.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new Q(e),l=new Q(e);for(let c=0,u=Math.floor((n+1)/2);c<u;c++)i=this.getRow(c,i),l=this.getRow(n-1-c,l),i.reverse(),l.reverse(),this.setRow(c,l),this.setRow(n-1-c,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,l=this.bits;let c=e,u=n,h=-1,m=-1;for(let v=0;v<n;v++)for(let N=0;N<i;N++){const O=l[v*i+N];if(O!==0){if(v<u&&(u=v),v>m&&(m=v),N*32<c){let D=0;for(;!(O<<31-D&4294967295);)D++;N*32+D<c&&(c=N*32+D)}if(N*32+31>h){let D=31;for(;!(O>>>D);)D--;N*32+D>h&&(h=N*32+D)}}}return h<c||m<u?null:Int32Array.from([c,u,h-c+1,m-u+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const l=i/e;let c=i%e*32;const u=n[i];let h=0;for(;!(u<<31-h&4294967295);)h++;return c+=h,Int32Array.from([c,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/e);let c=Math.floor(i%e)*32;const u=n[i];let h=31;for(;!(u>>>h);)h--;return c+=h,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Fe))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&H.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+H.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let l=new Me;for(let c=0,u=this.height;c<u;c++){for(let h=0,m=this.width;h<m;h++)l.append(this.get(h,c)?e:n);l.append(i)}return l.toString()}clone(){return new Fe(this.width,this.height,this.rowSize,this.bits.slice())}}class ee extends E{static getNotFoundInstance(){return new ee}}ee.kind="NotFoundException";class Oe extends L{constructor(e){super(e),this.luminances=Oe.EMPTY,this.buckets=new Int32Array(Oe.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),l=i.getWidth();n==null||n.getSize()<l?n=new Q(l):n.clear(),this.initArrays(l);const c=i.getRow(e,this.luminances),u=this.buckets;for(let m=0;m<l;m++)u[(c[m]&255)>>Oe.LUMINANCE_SHIFT]++;const h=Oe.estimateBlackPoint(u);if(l<3)for(let m=0;m<l;m++)(c[m]&255)<h&&n.set(m);else{let m=c[0]&255,v=c[1]&255;for(let N=1;N<l-1;N++){const O=c[N+1]&255;(v*4-m-O)/2<h&&n.set(N),m=v,v=O}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),l=new Fe(n,i);this.initArrays(n);const c=this.buckets;for(let m=1;m<5;m++){const v=Math.floor(i*m/5),N=e.getRow(v,this.luminances),O=Math.floor(n*4/5);for(let D=Math.floor(n/5);D<O;D++){const V=N[D]&255;c[V>>Oe.LUMINANCE_SHIFT]++}}const u=Oe.estimateBlackPoint(c),h=e.getMatrix();for(let m=0;m<i;m++){const v=m*n;for(let N=0;N<n;N++)(h[v+N]&255)<u&&l.set(N,m)}return l}createBinarizer(e){return new Oe(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<Oe.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,l=0,c=0;for(let N=0;N<n;N++)e[N]>c&&(l=N,c=e[N]),e[N]>i&&(i=e[N]);let u=0,h=0;for(let N=0;N<n;N++){const O=N-l,D=e[N]*O*O;D>h&&(u=N,h=D)}if(l>u){const N=l;l=u,u=N}if(u-l<=n/16)throw new ee;let m=u-1,v=-1;for(let N=u-1;N>l;N--){const O=N-l,D=O*O*(u-N)*(i-e[N]);D>v&&(m=N,v=D)}return m<<Oe.LUMINANCE_SHIFT}}Oe.LUMINANCE_BITS=5,Oe.LUMINANCE_SHIFT=8-Oe.LUMINANCE_BITS,Oe.LUMINANCE_BUCKETS=1<<Oe.LUMINANCE_BITS,Oe.EMPTY=Uint8ClampedArray.from([0]);class pe extends Oe{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=pe.MINIMUM_DIMENSION&&i>=pe.MINIMUM_DIMENSION){const l=e.getMatrix();let c=n>>pe.BLOCK_SIZE_POWER;n&pe.BLOCK_SIZE_MASK&&c++;let u=i>>pe.BLOCK_SIZE_POWER;i&pe.BLOCK_SIZE_MASK&&u++;const h=pe.calculateBlackPoints(l,c,u,n,i),m=new Fe(n,i);pe.calculateThresholdForBlock(l,c,u,n,i,h,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new pe(e)}static calculateThresholdForBlock(e,n,i,l,c,u,h){const m=c-pe.BLOCK_SIZE,v=l-pe.BLOCK_SIZE;for(let N=0;N<i;N++){let O=N<<pe.BLOCK_SIZE_POWER;O>m&&(O=m);const D=pe.cap(N,2,i-3);for(let V=0;V<n;V++){let G=V<<pe.BLOCK_SIZE_POWER;G>v&&(G=v);const K=pe.cap(V,2,n-3);let $=0;for(let Ae=-2;Ae<=2;Ae++){const be=u[D+Ae];$+=be[K-2]+be[K-1]+be[K]+be[K+1]+be[K+2]}const oe=$/25;pe.thresholdBlock(e,G,O,oe,l,h)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,l,c,u){for(let h=0,m=i*c+n;h<pe.BLOCK_SIZE;h++,m+=c)for(let v=0;v<pe.BLOCK_SIZE;v++)(e[m+v]&255)<=l&&u.set(n+v,i+h)}static calculateBlackPoints(e,n,i,l,c){const u=c-pe.BLOCK_SIZE,h=l-pe.BLOCK_SIZE,m=new Array(i);for(let v=0;v<i;v++){m[v]=new Int32Array(n);let N=v<<pe.BLOCK_SIZE_POWER;N>u&&(N=u);for(let O=0;O<n;O++){let D=O<<pe.BLOCK_SIZE_POWER;D>h&&(D=h);let V=0,G=255,K=0;for(let oe=0,Ae=N*l+D;oe<pe.BLOCK_SIZE;oe++,Ae+=l){for(let be=0;be<pe.BLOCK_SIZE;be++){const me=e[Ae+be]&255;V+=me,me<G&&(G=me),me>K&&(K=me)}if(K-G>pe.MIN_DYNAMIC_RANGE)for(oe++,Ae+=l;oe<pe.BLOCK_SIZE;oe++,Ae+=l)for(let be=0;be<pe.BLOCK_SIZE;be++)V+=e[Ae+be]&255}let $=V>>pe.BLOCK_SIZE_POWER*2;if(K-G<=pe.MIN_DYNAMIC_RANGE&&($=G/2,v>0&&O>0)){const oe=(m[v-1][O]+2*m[v][O-1]+m[v-1][O-1])/4;G<oe&&($=oe)}m[v][O]=$}}return m}}pe.BLOCK_SIZE_POWER=3,pe.BLOCK_SIZE=1<<pe.BLOCK_SIZE_POWER,pe.BLOCK_SIZE_MASK=pe.BLOCK_SIZE-1,pe.MINIMUM_DIMENSION=pe.BLOCK_SIZE*5,pe.MIN_DYNAMIC_RANGE=24;class de{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,l){throw new Ne("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ne("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ne("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Me;for(let i=0;i<this.height;i++){const l=this.getRow(i,e);for(let c=0;c<this.width;c++){const u=l[c]&255;let h;u<64?h="#":u<128?h="+":u<192?h=".":h=" ",n.append(h)}n.append(`
`)}return n.toString()}}class Re extends de{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),l=this.getWidth();for(let c=0;c<l;c++)i[c]=255-(i[c]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let l=0;l<n;l++)i[l]=255-(e[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,l){return new Re(this.delegate.crop(e,n,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Re(this.delegate.rotateCounterClockwise45())}}class fe extends de{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return fe.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const l=new Uint8ClampedArray(n*i);for(let c=0,u=0,h=e.length;c<h;c+=4,u++){let m;if(e[c+3]===0)m=255;else{const N=e[c],O=e[c+1],D=e[c+2];m=306*N+601*O+117*D+512>>10}l[u]=m}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth(),l=e*i;return n===null?n=this.buffer.slice(l,l+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(l,l+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,l){return super.crop(e,n,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),l=e*fe.DEGREE_TO_RADIANS,c=this.canvas.width,u=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*u),m=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*u);return n.width=h,n.height=m,i.translate(h/2,m/2),i.rotate(l),i.drawImage(this.canvas,c/-2,u/-2),this.buffer=fe.makeBufferFromCanvasImageData(n),this}invert(){return new Re(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class Y{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var te=(globalThis||Ql||self||window||void 0)&&(globalThis||Ql||self||window||void 0).__awaiter||function(_,e,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(N){try{v(i.next(N))}catch(O){u(O)}}function m(N){try{v(i.throw(N))}catch(O){u(O)}}function v(N){N.done?c(N.value):l(N.value).then(h,m)}v((i=i.apply(_,e||[])).next())})};class ve{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const c=i.deviceId||i.id,u=i.label||`Video device ${n.length+1}`,h=i.groupId,m={deviceId:c,label:u,kind:l,groupId:h};n.push(m)}return n})}getVideoInputDevices(){return te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new Y(n.deviceId,n.label))})}findDeviceById(e){return te(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return te(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return te(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return te(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return te(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeFromConstraints(c,n,i)})}decodeFromConstraints(e,n,i){return te(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,i)})}decodeFromStream(e,n,i){return te(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return te(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return te(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new S(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new S(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new S("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new S("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new S("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new S("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new S("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new S("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,n);return i.src=e,l}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const l=(c,u)=>{if(this._stopAsyncDecode){u(new ee("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(e);c(h)}catch(h){const m=n&&h instanceof ee,N=(h instanceof k||h instanceof J)&&i;if(m||N)return setTimeout(l,this._timeBetweenDecodingAttempts,c,u);u(h)}};return new Promise((c,u)=>l(c,u))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){n(null,l);const c=l instanceof k||l instanceof J,u=l instanceof ee;(c||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,i){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),i=new fe(n),l=new pe(i);return new R(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=l+"px",n.width=i,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class je{constructor(e,n,i=n==null?0:8*n.length,l,c,u=j.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=l,this.format=c,this.timestamp=u,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=l,this.format=c,this.resultMetadata=null,u==null?this.timestamp=j.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);j.arraycopy(n,0,i,0,n.length),j.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var at;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var xe=at,$e;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})($e||($e={}));var Ce=$e;class _e{constructor(e,n,i,l,c=-1,u=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class st{exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class Qe{constructor(e,n){if(n.length===0)throw new T;this.field=e;const i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),j.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let u=0,h=n.length;u!==h;u++){const m=n[u];i=st.addOrSubtract(i,m)}return i}i=n[0];const l=n.length,c=this.field;for(let u=1;u<l;u++)i=st.addOrSubtract(c.multiply(e,i),n[u]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const u=n;n=i,i=u}let l=new Int32Array(i.length);const c=i.length-n.length;j.arraycopy(i,0,l,0,c);for(let u=c;u<i.length;u++)l[u]=st.addOrSubtract(n[u-c],i[u]);return new Qe(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,l=e.coefficients,c=l.length,u=new Int32Array(i+c-1),h=this.field;for(let m=0;m<i;m++){const v=n[m];for(let N=0;N<c;N++)u[m+N]=st.addOrSubtract(u[m+N],h.multiply(v,l[N]))}return new Qe(h,u)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,l=new Int32Array(n),c=this.coefficients;for(let u=0;u<n;u++)l[u]=i.multiply(c[u],e);return new Qe(i,l)}multiplyByMonomial(e,n){if(e<0)throw new T;if(n===0)return this.field.getZero();const i=this.coefficients,l=i.length,c=new Int32Array(l+e),u=this.field;for(let h=0;h<l;h++)c[h]=u.multiply(i[h],n);return new Qe(u,c)}divide(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new T("Divide by 0");const n=this.field;let i=n.getZero(),l=this;const c=e.getCoefficient(e.getDegree()),u=n.inverse(c);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const h=l.getDegree()-e.getDegree(),m=n.multiply(l.getCoefficient(l.getDegree()),u),v=e.multiplyByMonomial(h,m),N=n.buildMonomial(h,m);i=i.addOrSubtract(N),l=l.addOrSubtract(v)}return[i,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const l=this.field.log(i);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class ut extends E{}ut.kind="ArithmeticException";class Ue extends st{constructor(e,n,i){super(),this.primitive=e,this.size=n,this.generatorBase=i;const l=new Int32Array(n);let c=1;for(let h=0;h<n;h++)l[h]=c,c*=2,c>=n&&(c^=e,c&=n-1);this.expTable=l;const u=new Int32Array(n);for(let h=0;h<n-1;h++)u[l[h]]=h;this.logTable=u,this.zero=new Qe(this,Int32Array.from([0])),this.one=new Qe(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new T;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new Qe(this,i)}inverse(e){if(e===0)throw new ut;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+W.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Ue.AZTEC_DATA_12=new Ue(4201,4096,1),Ue.AZTEC_DATA_10=new Ue(1033,1024,1),Ue.AZTEC_DATA_6=new Ue(67,64,1),Ue.AZTEC_PARAM=new Ue(19,16,1),Ue.QR_CODE_FIELD_256=new Ue(285,256,0),Ue.DATA_MATRIX_FIELD_256=new Ue(301,256,1),Ue.AZTEC_DATA_8=Ue.DATA_MATRIX_FIELD_256,Ue.MAXICODE_FIELD_64=Ue.AZTEC_DATA_6;class Ht extends E{}Ht.kind="ReedSolomonException";class Rt extends E{}Rt.kind="IllegalStateException";class fn{constructor(e){this.field=e}decode(e,n){const i=this.field,l=new Qe(i,e),c=new Int32Array(n);let u=!0;for(let V=0;V<n;V++){const G=l.evaluateAt(i.exp(V+i.getGeneratorBase()));c[c.length-1-V]=G,G!==0&&(u=!1)}if(u)return;const h=new Qe(i,c),m=this.runEuclideanAlgorithm(i.buildMonomial(n,1),h,n),v=m[0],N=m[1],O=this.findErrorLocations(v),D=this.findErrorMagnitudes(N,O);for(let V=0;V<O.length;V++){const G=e.length-1-i.log(O[V]);if(G<0)throw new Ht("Bad error location");e[G]=Ue.addOrSubtract(e[G],D[V])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const V=e;e=n,n=V}const l=this.field;let c=e,u=n,h=l.getZero(),m=l.getOne();for(;u.getDegree()>=(i/2|0);){let V=c,G=h;if(c=u,h=m,c.isZero())throw new Ht("r_{i-1} was zero");u=V;let K=l.getZero();const $=c.getCoefficient(c.getDegree()),oe=l.inverse($);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){const Ae=u.getDegree()-c.getDegree(),be=l.multiply(u.getCoefficient(u.getDegree()),oe);K=K.addOrSubtract(l.buildMonomial(Ae,be)),u=u.addOrSubtract(c.multiplyByMonomial(Ae,be))}if(m=K.multiply(h).addOrSubtract(G),u.getDegree()>=c.getDegree())throw new Rt("Division algorithm failed to reduce polynomial?")}const v=m.getCoefficient(0);if(v===0)throw new Ht("sigmaTilde(0) was zero");const N=l.inverse(v),O=m.multiplyScalar(N),D=u.multiplyScalar(N);return[O,D]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let l=0;const c=this.field;for(let u=1;u<c.getSize()&&l<n;u++)e.evaluateAt(u)===0&&(i[l]=c.inverse(u),l++);if(l!==n)throw new Ht("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,l=new Int32Array(i),c=this.field;for(let u=0;u<i;u++){const h=c.inverse(n[u]);let m=1;for(let v=0;v<i;v++)if(u!==v){const N=c.multiply(n[v],h),O=N&1?N&-2:N|1;m=c.multiply(m,O)}l[u]=c.multiply(e.evaluateAt(h),c.inverse(m)),c.getGeneratorBase()!==0&&(l[u]=c.multiply(l[u],h))}return l}}var Ft;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(Ft||(Ft={}));class bt{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),l=this.correctBits(i),c=bt.convertBoolArrayToByteArray(l),u=bt.getEncodedData(l),h=new _e(c,u,null,null);return h.setNumBits(l.length),h}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=Ft.UPPER,l=Ft.UPPER,c="",u=0;for(;u<n;)if(l===Ft.BINARY){if(n-u<5)break;let h=bt.readCode(e,u,5);if(u+=5,h===0){if(n-u<11)break;h=bt.readCode(e,u,11)+31,u+=11}for(let m=0;m<h;m++){if(n-u<8){u=n;break}const v=bt.readCode(e,u,8);c+=Ie.castAsNonUtf8Char(v),u+=8}l=i}else{let h=l===Ft.DIGIT?4:5;if(n-u<h)break;let m=bt.readCode(e,u,h);u+=h;let v=bt.getCharacter(l,m);v.startsWith("CTRL_")?(i=l,l=bt.getTable(v.charAt(5)),v.charAt(6)==="L"&&(i=l)):(c+=v,l=i)}return c}static getTable(e){switch(e){case"L":return Ft.LOWER;case"P":return Ft.PUNCT;case"M":return Ft.MIXED;case"D":return Ft.DIGIT;case"B":return Ft.BINARY;case"U":default:return Ft.UPPER}}static getCharacter(e,n){switch(e){case Ft.UPPER:return bt.UPPER_TABLE[n];case Ft.LOWER:return bt.LOWER_TABLE[n];case Ft.MIXED:return bt.MIXED_TABLE[n];case Ft.PUNCT:return bt.PUNCT_TABLE[n];case Ft.DIGIT:return bt.DIGIT_TABLE[n];default:throw new Rt("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=Ue.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=Ue.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=Ue.AZTEC_DATA_10):(i=12,n=Ue.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),c=e.length/i;if(c<l)throw new J;let u=e.length%i,h=new Int32Array(c);for(let D=0;D<c;D++,u+=i)h[D]=bt.readCode(e,u,i);try{new fn(n).decode(h,c-l)}catch(D){throw new J(D)}let m=(1<<i)-1,v=0;for(let D=0;D<l;D++){let V=h[D];if(V===0||V===m)throw new J;(V===1||V===m-1)&&v++}let N=new Array(l*i-v),O=0;for(let D=0;D<l;D++){let V=h[D];if(V===1||V===m-1)N.fill(V>1,O,O+i-1),O+=i-1;else for(let G=i-1;G>=0;--G)N[O++]=(V&1<<G)!==0}return N}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(n?11:14)+i*4,c=new Int32Array(l),u=new Array(this.totalBitsInLayer(i,n));if(n)for(let h=0;h<c.length;h++)c[h]=h;else{let h=l+1+2*W.truncDivision(W.truncDivision(l,2)-1,15),m=l/2,v=W.truncDivision(h,2);for(let N=0;N<m;N++){let O=N+W.truncDivision(N,15);c[m-N-1]=v-O-1,c[m+N]=v+O+1}}for(let h=0,m=0;h<i;h++){let v=(i-h)*4+(n?9:12),N=h*2,O=l-1-N;for(let D=0;D<v;D++){let V=D*2;for(let G=0;G<2;G++)u[m+V+G]=e.get(c[N+G],c[N+D]),u[m+2*v+V+G]=e.get(c[N+D],c[O-G]),u[m+4*v+V+G]=e.get(c[O-G],c[O-D]),u[m+6*v+V+G]=e.get(c[O-D],c[N+G])}m+=v*8}return u}static readCode(e,n,i){let l=0;for(let c=n;c<n+i;c++)l<<=1,e[c]&&(l|=1);return l}static readByte(e,n){let i=e.length-n;return i>=8?bt.readCode(e,n,8):bt.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=bt.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}bt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],bt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],bt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],bt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],bt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ft{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,l){const c=e-i,u=n-l;return Math.sqrt(c*c+u*u)}static sum(e){let n=0;for(let i=0,l=e.length;i!==l;i++){const c=e[i];n+=c}return n}}class $t{static floatToIntBits(e){return e}}$t.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Pe{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Pe){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*$t.floatToIntBits(this.x)+$t.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let c,u,h;if(i>=n&&i>=l?(u=e[0],c=e[1],h=e[2]):l>=i&&l>=n?(u=e[1],c=e[0],h=e[2]):(u=e[2],c=e[0],h=e[1]),this.crossProductZ(c,u,h)<0){const m=c;c=h,h=m}e[0]=c,e[1]=u,e[2]=h}static distance(e,n){return ft.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const l=n.x,c=n.y;return(i.x-l)*(e.y-c)-(i.y-c)*(e.x-l)}}class rn{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class ze extends rn{constructor(e,n,i,l,c){super(e,n),this.compact=i,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class we{constructor(e,n,i,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=we.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const c=n/2|0;if(this.leftInit=i-c,this.rightInit=i+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new ee}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,l=this.downInit,c=!1,u=!0,h=!1,m=!1,v=!1,N=!1,O=!1;const D=this.width,V=this.height;for(;u;){u=!1;let G=!0;for(;(G||!m)&&n<D;)G=this.containsBlackPoint(i,l,n,!1),G?(n++,u=!0,m=!0):m||n++;if(n>=D){c=!0;break}let K=!0;for(;(K||!v)&&l<V;)K=this.containsBlackPoint(e,n,l,!0),K?(l++,u=!0,v=!0):v||l++;if(l>=V){c=!0;break}let $=!0;for(;($||!N)&&e>=0;)$=this.containsBlackPoint(i,l,e,!1),$?(e--,u=!0,N=!0):N||e--;if(e<0){c=!0;break}let oe=!0;for(;(oe||!O)&&i>=0;)oe=this.containsBlackPoint(e,n,i,!0),oe?(i--,u=!0,O=!0):O||i--;if(i<0){c=!0;break}u&&(h=!0)}if(!c&&h){const G=n-e;let K=null;for(let be=1;K===null&&be<G;be++)K=this.getBlackPointOnSegment(e,l-be,e+be,l);if(K==null)throw new ee;let $=null;for(let be=1;$===null&&be<G;be++)$=this.getBlackPointOnSegment(e,i+be,e+be,i);if($==null)throw new ee;let oe=null;for(let be=1;oe===null&&be<G;be++)oe=this.getBlackPointOnSegment(n,i+be,n-be,i);if(oe==null)throw new ee;let Ae=null;for(let be=1;Ae===null&&be<G;be++)Ae=this.getBlackPointOnSegment(n,l-be,n-be,l);if(Ae==null)throw new ee;return this.centerEdges(Ae,K,oe,$)}else throw new ee}getBlackPointOnSegment(e,n,i,l){const c=ft.round(ft.distance(e,n,i,l)),u=(i-e)/c,h=(l-n)/c,m=this.image;for(let v=0;v<c;v++){const N=ft.round(e+v*u),O=ft.round(n+v*h);if(m.get(N,O))return new Pe(N,O)}return null}centerEdges(e,n,i,l){const c=e.getX(),u=e.getY(),h=n.getX(),m=n.getY(),v=i.getX(),N=i.getY(),O=l.getX(),D=l.getY(),V=we.CORR;return c<this.width/2?[new Pe(O-V,D+V),new Pe(h+V,m+V),new Pe(v-V,N-V),new Pe(c+V,u-V)]:[new Pe(O+V,D+V),new Pe(h+V,m-V),new Pe(v-V,N+V),new Pe(c-V,u-V)]}containsBlackPoint(e,n,i,l){const c=this.image;if(l){for(let u=e;u<=n;u++)if(c.get(u,i))return!0}else for(let u=e;u<=n;u++)if(c.get(i,u))return!0;return!1}}we.INIT_SIZE=10,we.CORR=1;class Je{static checkAndNudgePoints(e,n){const i=e.getWidth(),l=e.getHeight();let c=!0;for(let u=0;u<n.length&&c;u+=2){const h=Math.floor(n[u]),m=Math.floor(n[u+1]);if(h<-1||h>i||m<-1||m>l)throw new ee;c=!1,h===-1?(n[u]=0,c=!0):h===i&&(n[u]=i-1,c=!0),m===-1?(n[u+1]=0,c=!0):m===l&&(n[u+1]=l-1,c=!0)}c=!0;for(let u=n.length-2;u>=0&&c;u-=2){const h=Math.floor(n[u]),m=Math.floor(n[u+1]);if(h<-1||h>i||m<-1||m>l)throw new ee;c=!1,h===-1?(n[u]=0,c=!0):h===i&&(n[u]=i-1,c=!0),m===-1?(n[u+1]=0,c=!0):m===l&&(n[u+1]=l-1,c=!0)}}}class Ze{constructor(e,n,i,l,c,u,h,m,v){this.a11=e,this.a21=n,this.a31=i,this.a12=l,this.a22=c,this.a32=u,this.a13=h,this.a23=m,this.a33=v}static quadrilateralToQuadrilateral(e,n,i,l,c,u,h,m,v,N,O,D,V,G,K,$){const oe=Ze.quadrilateralToSquare(e,n,i,l,c,u,h,m);return Ze.squareToQuadrilateral(v,N,O,D,V,G,K,$).times(oe)}transformPoints(e){const n=e.length,i=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,m=this.a23,v=this.a31,N=this.a32,O=this.a33;for(let D=0;D<n;D+=2){const V=e[D],G=e[D+1],K=c*V+m*G+O;e[D]=(i*V+u*G+v)/K,e[D+1]=(l*V+h*G+N)/K}}transformPointsWithValues(e,n){const i=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,m=this.a23,v=this.a31,N=this.a32,O=this.a33,D=e.length;for(let V=0;V<D;V++){const G=e[V],K=n[V],$=c*G+m*K+O;e[V]=(i*G+u*K+v)/$,n[V]=(l*G+h*K+N)/$}}static squareToQuadrilateral(e,n,i,l,c,u,h,m){const v=e-i+c-h,N=n-l+u-m;if(v===0&&N===0)return new Ze(i-e,c-i,e,l-n,u-l,n,0,0,1);{const O=i-c,D=h-c,V=l-u,G=m-u,K=O*G-D*V,$=(v*G-D*N)/K,oe=(O*N-v*V)/K;return new Ze(i-e+$*i,h-e+oe*h,e,l-n+$*l,m-n+oe*m,n,$,oe,1)}}static quadrilateralToSquare(e,n,i,l,c,u,h,m){return Ze.squareToQuadrilateral(e,n,i,l,c,u,h,m).buildAdjoint()}buildAdjoint(){return new Ze(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ze(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class qt extends Je{sampleGrid(e,n,i,l,c,u,h,m,v,N,O,D,V,G,K,$,oe,Ae,be){const me=Ze.quadrilateralToQuadrilateral(l,c,u,h,m,v,N,O,D,V,G,K,$,oe,Ae,be);return this.sampleGridWithTransform(e,n,i,me)}sampleGridWithTransform(e,n,i,l){if(n<=0||i<=0)throw new ee;const c=new Fe(n,i),u=new Float32Array(2*n);for(let h=0;h<i;h++){const m=u.length,v=h+.5;for(let N=0;N<m;N+=2)u[N]=N/2+.5,u[N+1]=v;l.transformPoints(u),Je.checkAndNudgePoints(e,u);try{for(let N=0;N<m;N+=2)e.get(Math.floor(u[N]),Math.floor(u[N+1]))&&c.set(N/2,h)}catch{throw new ee}}return c}}class mt{static setGridSampler(e){mt.gridSampler=e}static getInstance(){return mt.gridSampler}}mt.gridSampler=new qt;class vt{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),c=this.getMatrixCornerPoints(i);return new ze(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new ee;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let l=0;for(let u=0;u<4;u++){let h=i[(this.shift+u)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(e,n){let i=0;e.forEach((l,c,u)=>{let h=(l>>n-2<<1)+(l&1);i=(i<<3)+h}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(W.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new ee}getCorrectedParameterData(e,n){let i,l;n?(i=7,l=2):(i=10,l=4);let c=i-l,u=new Int32Array(i);for(let m=i-1;m>=0;--m)u[m]=e&15,e>>=4;try{new fn(Ue.AZTEC_PARAM).decode(u,c)}catch{throw new ee}let h=0;for(let m=0;m<l;m++)h=(h<<4)+u[m];return h}getBullsEyeCorners(e){let n=e,i=e,l=e,c=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let O=this.getFirstDifferent(n,u,1,-1),D=this.getFirstDifferent(i,u,1,1),V=this.getFirstDifferent(l,u,-1,1),G=this.getFirstDifferent(c,u,-1,-1);if(this.nbCenterLayers>2){let K=this.distancePoint(G,O)*this.nbCenterLayers/(this.distancePoint(c,n)*(this.nbCenterLayers+2));if(K<.75||K>1.25||!this.isWhiteOrBlackRectangle(O,D,V,G))break}n=O,i=D,l=V,c=G,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new ee;this.compact=this.nbCenterLayers===5;let h=new Pe(n.getX()+.5,n.getY()-.5),m=new Pe(i.getX()+.5,i.getY()+.5),v=new Pe(l.getX()-.5,l.getY()+.5),N=new Pe(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,m,v,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,l;try{let h=new we(this.image).detect();e=h[0],n=h[1],i=h[2],l=h[3]}catch{let m=this.image.getWidth()/2,v=this.image.getHeight()/2;e=this.getFirstDifferent(new vt(m+7,v-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new vt(m+7,v+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new vt(m-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new vt(m-7,v-7),!1,-1,-1).toResultPoint()}let c=ft.round((e.getX()+l.getX()+n.getX()+i.getX())/4),u=ft.round((e.getY()+l.getY()+n.getY()+i.getY())/4);try{let h=new we(this.image,15,c,u).detect();e=h[0],n=h[1],i=h[2],l=h[3]}catch{e=this.getFirstDifferent(new vt(c+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new vt(c+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new vt(c-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new vt(c-7,u-7),!1,-1,-1).toResultPoint()}return c=ft.round((e.getX()+l.getX()+n.getX()+i.getX())/4),u=ft.round((e.getY()+l.getY()+n.getY()+i.getY())/4),new vt(c,u)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,l,c){let u=mt.getInstance(),h=this.getDimension(),m=h/2-this.nbCenterLayers,v=h/2+this.nbCenterLayers;return u.sampleGrid(e,h,h,m,m,v,m,v,v,m,v,n.getX(),n.getY(),i.getX(),i.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(e,n,i){let l=0,c=this.distanceResultPoint(e,n),u=c/i,h=e.getX(),m=e.getY(),v=u*(n.getX()-e.getX())/c,N=u*(n.getY()-e.getY())/c;for(let O=0;O<i;O++)this.image.get(ft.round(h+O*v),ft.round(m+O*N))&&(l|=1<<i-O-1);return l}isWhiteOrBlackRectangle(e,n,i,l){let c=3;e=new vt(e.getX()-c,e.getY()+c),n=new vt(n.getX()-c,n.getY()-c),i=new vt(i.getX()+c,i.getY()-c),l=new vt(l.getX()+c,l.getY()+c);let u=this.getColor(l,e);if(u===0)return!1;let h=this.getColor(e,n);return h!==u||(h=this.getColor(n,i),h!==u)?!1:(h=this.getColor(i,l),h===u)}getColor(e,n){let i=this.distancePoint(e,n),l=(n.getX()-e.getX())/i,c=(n.getY()-e.getY())/i,u=0,h=e.getX(),m=e.getY(),v=this.image.get(e.getX(),e.getY()),N=Math.ceil(i);for(let D=0;D<N;D++)h+=l,m+=c,this.image.get(ft.round(h),ft.round(m))!==v&&u++;let O=u/i;return O>.1&&O<.9?0:O<=.1===v?1:-1}getFirstDifferent(e,n,i,l){let c=e.getX()+i,u=e.getY()+l;for(;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=i,u+=l;for(c-=i,u-=l;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=i;for(c-=i;this.isValid(c,u)&&this.image.get(c,u)===n;)u+=l;return u-=l,new vt(c,u)}expandSquare(e,n,i){let l=i/(2*n),c=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),h=(e[0].getX()+e[2].getX())/2,m=(e[0].getY()+e[2].getY())/2,v=new Pe(h+l*c,m+l*u),N=new Pe(h-l*c,m-l*u);c=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),h=(e[1].getX()+e[3].getX())/2,m=(e[1].getY()+e[3].getY())/2;let O=new Pe(h+l*c,m+l*u),D=new Pe(h-l*c,m-l*u);return[v,O,N,D]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=ft.round(e.getX()),i=ft.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return ft.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return ft.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(W.truncDivision(this.nbLayers-4,8)+1)+15}}class It{decode(e,n=null){let i=null,l=new Mt(e.getBlackMatrix()),c=null,u=null;try{let N=l.detectMirror(!1);c=N.getPoints(),this.reportFoundResultPoints(n,c),u=new bt().decode(N)}catch(N){i=N}if(u==null)try{let N=l.detectMirror(!0);c=N.getPoints(),this.reportFoundResultPoints(n,c),u=new bt().decode(N)}catch(N){throw i??N}let h=new je(u.getText(),u.getRawBytes(),u.getNumBits(),c,xe.AZTEC,j.currentTimeMillis()),m=u.getByteSegments();m!=null&&h.putMetadata(Ce.BYTE_SEGMENTS,m);let v=u.getECLevel();return v!=null&&h.putMetadata(Ce.ERROR_CORRECTION_LEVEL,v),h}reportFoundResultPoints(e,n){if(e!=null){let i=e.get(se.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((l,c,u)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class Sn extends ve{constructor(e=500){super(new It,e)}}class jt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(se.TRY_HARDER)===!0&&e.isRotateSupported()){const c=e.rotateCounterClockwise(),u=this.doDecode(c,n),h=u.getResultMetadata();let m=270;h!==null&&h.get(Ce.ORIENTATION)===!0&&(m=m+h.get(Ce.ORIENTATION)%360),u.putMetadata(Ce.ORIENTATION,m);const v=u.getResultPoints();if(v!==null){const N=c.getHeight();for(let O=0;O<v.length;O++)v[O]=new Pe(N-v[O].getY()-1,v[O].getX())}return u}else throw new ee}}reset(){}doDecode(e,n){const i=e.getWidth(),l=e.getHeight();let c=new Q(i);const u=n&&n.get(se.TRY_HARDER)===!0,h=Math.max(1,l>>(u?8:5));let m;u?m=l:m=15;const v=Math.trunc(l/2);for(let N=0;N<m;N++){const O=Math.trunc((N+1)/2),D=(N&1)===0,V=v+h*(D?O:-O);if(V<0||V>=l)break;try{c=e.getBlackRow(V,c)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(c.reverse(),n&&n.get(se.NEED_RESULT_POINT_CALLBACK)===!0)){const K=new Map;n.forEach(($,oe)=>K.set(oe,$)),K.delete(se.NEED_RESULT_POINT_CALLBACK),n=K}try{const K=this.decodeRow(V,c,n);if(G===1){K.putMetadata(Ce.ORIENTATION,180);const $=K.getResultPoints();$!==null&&($[0]=new Pe(i-$[0].getX()-1,$[0].getY()),$[1]=new Pe(i-$[1].getX()-1,$[1].getY()))}return K}catch{}}}throw new ee}static recordPattern(e,n,i){const l=i.length;for(let v=0;v<l;v++)i[v]=0;const c=e.getSize();if(n>=c)throw new ee;let u=!e.get(n),h=0,m=n;for(;m<c;){if(e.get(m)!==u)i[h]++;else{if(++h===l)break;i[h]=1,u=!u}m++}if(!(h===l||h===l-1&&m===c))throw new ee}static recordPatternInReverse(e,n,i){let l=i.length,c=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==c&&(l--,c=!c);if(l>=0)throw new ee;jt.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const l=e.length;let c=0,u=0;for(let v=0;v<l;v++)c+=e[v],u+=n[v];if(c<u)return Number.POSITIVE_INFINITY;const h=c/u;i*=h;let m=0;for(let v=0;v<l;v++){const N=e[v],O=n[v]*h,D=N>O?N-O:O-N;if(D>i)return Number.POSITIVE_INFINITY;m+=D}return m/c}}class Se extends jt{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let l=0,c=Int32Array.from([0,0,0,0,0,0]),u=i,h=!1;const m=6;for(let v=i;v<n;v++)if(e.get(v)!==h)c[l]++;else{if(l===m-1){let N=Se.MAX_AVG_VARIANCE,O=-1;for(let D=Se.CODE_START_A;D<=Se.CODE_START_C;D++){const V=jt.patternMatchVariance(c,Se.CODE_PATTERNS[D],Se.MAX_INDIVIDUAL_VARIANCE);V<N&&(N=V,O=D)}if(O>=0&&e.isRange(Math.max(0,u-(v-u)/2),u,!1))return Int32Array.from([u,v,O]);u+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,h=!h}throw new ee}static decodeCode(e,n,i){jt.recordPattern(e,i,n);let l=Se.MAX_AVG_VARIANCE,c=-1;for(let u=0;u<Se.CODE_PATTERNS.length;u++){const h=Se.CODE_PATTERNS[u],m=this.patternMatchVariance(n,h,Se.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,c=u)}if(c>=0)return c;throw new ee}decodeRow(e,n,i){const l=i&&i.get(se.ASSUME_GS1)===!0,c=Se.findStartPattern(n),u=c[2];let h=0;const m=new Uint8Array(20);m[h++]=u;let v;switch(u){case Se.CODE_START_A:v=Se.CODE_CODE_A;break;case Se.CODE_START_B:v=Se.CODE_CODE_B;break;case Se.CODE_START_C:v=Se.CODE_CODE_C;break;default:throw new J}let N=!1,O=!1,D="",V=c[0],G=c[1];const K=Int32Array.from([0,0,0,0,0,0]);let $=0,oe=0,Ae=u,be=0,me=!0,wt=!1,ct=!1;for(;!N;){const Kr=O;switch(O=!1,$=oe,oe=Se.decodeCode(n,K,G),m[h++]=oe,oe!==Se.CODE_STOP&&(me=!0),oe!==Se.CODE_STOP&&(be++,Ae+=be*oe),V=G,G+=K.reduce((qi,Jo)=>qi+Jo,0),oe){case Se.CODE_START_A:case Se.CODE_START_B:case Se.CODE_START_C:throw new J}switch(v){case Se.CODE_CODE_A:if(oe<64)ct===wt?D+=String.fromCharCode(32+oe):D+=String.fromCharCode(32+oe+128),ct=!1;else if(oe<96)ct===wt?D+=String.fromCharCode(oe-64):D+=String.fromCharCode(oe+64),ct=!1;else switch(oe!==Se.CODE_STOP&&(me=!1),oe){case Se.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_A:!wt&&ct?(wt=!0,ct=!1):wt&&ct?(wt=!1,ct=!1):ct=!0;break;case Se.CODE_SHIFT:O=!0,v=Se.CODE_CODE_B;break;case Se.CODE_CODE_B:v=Se.CODE_CODE_B;break;case Se.CODE_CODE_C:v=Se.CODE_CODE_C;break;case Se.CODE_STOP:N=!0;break}break;case Se.CODE_CODE_B:if(oe<96)ct===wt?D+=String.fromCharCode(32+oe):D+=String.fromCharCode(32+oe+128),ct=!1;else switch(oe!==Se.CODE_STOP&&(me=!1),oe){case Se.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Se.CODE_FNC_2:case Se.CODE_FNC_3:break;case Se.CODE_FNC_4_B:!wt&&ct?(wt=!0,ct=!1):wt&&ct?(wt=!1,ct=!1):ct=!0;break;case Se.CODE_SHIFT:O=!0,v=Se.CODE_CODE_A;break;case Se.CODE_CODE_A:v=Se.CODE_CODE_A;break;case Se.CODE_CODE_C:v=Se.CODE_CODE_C;break;case Se.CODE_STOP:N=!0;break}break;case Se.CODE_CODE_C:if(oe<100)oe<10&&(D+="0"),D+=oe;else switch(oe!==Se.CODE_STOP&&(me=!1),oe){case Se.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case Se.CODE_CODE_A:v=Se.CODE_CODE_A;break;case Se.CODE_CODE_B:v=Se.CODE_CODE_B;break;case Se.CODE_STOP:N=!0;break}break}Kr&&(v=v===Se.CODE_CODE_A?Se.CODE_CODE_B:Se.CODE_CODE_A)}const Qn=G-V;if(G=n.getNextUnset(G),!n.isRange(G,Math.min(n.getSize(),G+(G-V)/2),!1))throw new ee;if(Ae-=be*$,Ae%103!==$)throw new k;const Sr=D.length;if(Sr===0)throw new ee;Sr>0&&me&&(v===Se.CODE_CODE_C?D=D.substring(0,Sr-2):D=D.substring(0,Sr-1));const vn=(c[1]+c[0])/2,Bt=V+Qn/2,on=m.length,Wn=new Uint8Array(on);for(let Kr=0;Kr<on;Kr++)Wn[Kr]=m[Kr];const bi=[new Pe(vn,e),new Pe(Bt,e)];return new je(D,Wn,0,bi,xe.CODE_128,new Date().getTime())}}Se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Se.MAX_AVG_VARIANCE=.25,Se.MAX_INDIVIDUAL_VARIANCE=.7,Se.CODE_SHIFT=98,Se.CODE_CODE_C=99,Se.CODE_CODE_B=100,Se.CODE_CODE_A=101,Se.CODE_FNC_1=102,Se.CODE_FNC_2=97,Se.CODE_FNC_3=96,Se.CODE_FNC_4_A=101,Se.CODE_FNC_4_B=100,Se.CODE_START_A=103,Se.CODE_START_B=104,Se.CODE_START_C=105,Se.CODE_STOP=106;class _t extends jt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let c=_t.findAsteriskPattern(n,l),u=n.getNextSet(c[1]),h=n.getSize(),m,v;do{_t.recordPattern(n,u,l);let K=_t.toNarrowWidePattern(l);if(K<0)throw new ee;m=_t.patternToChar(K),this.decodeRowResult+=m,v=u;for(let $ of l)u+=$;u=n.getNextSet(u)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let K of l)N+=K;let O=u-v-N;if(u!==h&&O*2<N)throw new ee;if(this.usingCheckDigit){let K=this.decodeRowResult.length-1,$=0;for(let oe=0;oe<K;oe++)$+=_t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(oe));if(this.decodeRowResult.charAt(K)!==_t.ALPHABET_STRING.charAt($%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,K)}if(this.decodeRowResult.length===0)throw new ee;let D;this.extendedMode?D=_t.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let V=(c[1]+c[0])/2,G=v+N/2;return new je(D,null,0,[new Pe(V,e),new Pe(G,e)],xe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),l=e.getNextSet(0),c=0,u=l,h=!1,m=n.length;for(let v=l;v<i;v++)if(e.get(v)!==h)n[c]++;else{if(c===m-1){if(this.toNarrowWidePattern(n)===_t.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((v-u)/2)),u,!1))return[u,v];u+=n[0]+n[1],n.copyWithin(0,2,2+c-1),n[c-1]=0,n[c]=0,c--}else c++;n[c]=1,h=!h}throw new ee}static toNarrowWidePattern(e){let n=e.length,i=0,l;do{let c=2147483647;for(let m of e)m<c&&m>i&&(c=m);i=c,l=0;let u=0,h=0;for(let m=0;m<n;m++){let v=e[m];v>i&&(h|=1<<n-1-m,l++,u+=v)}if(l===3){for(let m=0;m<n&&l>0;m++){let v=e[m];if(v>i&&(l--,v*2>=u))return-1}return h}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<_t.CHARACTER_ENCODINGS.length;n++)if(_t.CHARACTER_ENCODINGS[n]===e)return _t.ALPHABET_STRING.charAt(n);if(e===_t.ASTERISK_ENCODING)return"*";throw new ee}static decodeExtended(e){let n=e.length,i="";for(let l=0;l<n;l++){let c=e.charAt(l);if(c==="+"||c==="$"||c==="%"||c==="/"){let u=e.charAt(l+1),h="\0";switch(c){case"+":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)+32);else throw new J;break;case"$":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)-64);else throw new J;break;case"%":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")h="\0";else if(u==="V")h="@";else if(u==="W")h="`";else if(u==="X"||u==="Y"||u==="Z")h="";else throw new J;break;case"/":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")h=":";else throw new J;break}i+=h,l++}else i+=c}return i}}_t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",_t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],_t.ASTERISK_ENCODING=148;class Dt extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,i){let l=this.decodeStart(n),c=this.decodeEnd(n),u=new Me;Dt.decodeMiddle(n,l[1],c[0],u);let h=u.toString(),m=null;i!=null&&(m=i.get(se.ALLOWED_LENGTHS)),m==null&&(m=Dt.DEFAULT_ALLOWED_LENGTHS);let v=h.length,N=!1,O=0;for(let G of m){if(v===G){N=!0;break}G>O&&(O=G)}if(!N&&v>O&&(N=!0),!N)throw new J;const D=[new Pe(l[1],e),new Pe(c[0],e)];return new je(h,null,0,D,xe.ITF,new Date().getTime())}static decodeMiddle(e,n,i,l){let c=new Int32Array(10),u=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),u.fill(0),h.fill(0);n<i;){jt.recordPattern(e,n,c);for(let v=0;v<5;v++){let N=2*v;u[v]=c[N],h[v]=c[N+1]}let m=Dt.decodeDigit(u);l.append(m.toString()),m=this.decodeDigit(h),l.append(m.toString()),c.forEach(function(v){n+=v})}}decodeStart(e){let n=Dt.skipWhiteSpace(e),i=Dt.findGuardPattern(e,n,Dt.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let l=n-1;i>0&&l>=0&&!e.get(l);l--)i--;if(i!==0)throw new ee}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new ee;return i}decodeEnd(e){e.reverse();try{let n=Dt.skipWhiteSpace(e),i;try{i=Dt.findGuardPattern(e,n,Dt.END_PATTERN_REVERSED[0])}catch(c){c instanceof ee&&(i=Dt.findGuardPattern(e,n,Dt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let l=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-l,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let l=i.length,c=new Int32Array(l),u=e.getSize(),h=!1,m=0,v=n;c.fill(0);for(let N=n;N<u;N++)if(e.get(N)!==h)c[m]++;else{if(m===l-1){if(jt.patternMatchVariance(c,i,Dt.MAX_INDIVIDUAL_VARIANCE)<Dt.MAX_AVG_VARIANCE)return[v,N];v+=c[0]+c[1],j.arraycopy(c,2,c,0,m-1),c[m-1]=0,c[m]=0,m--}else m++;c[m]=1,h=!h}throw new ee}static decodeDigit(e){let n=Dt.MAX_AVG_VARIANCE,i=-1,l=Dt.PATTERNS.length;for(let c=0;c<l;c++){let u=Dt.PATTERNS[c],h=jt.patternMatchVariance(e,u,Dt.MAX_INDIVIDUAL_VARIANCE);h<n?(n=h,i=c):h===n&&(i=-1)}if(i>=0)return i%10;throw new ee}}Dt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Dt.MAX_AVG_VARIANCE=.38,Dt.MAX_INDIVIDUAL_VARIANCE=.5,Dt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Dt.START_PATTERN=Int32Array.from([1,1,1,1]),Dt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class zt extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,l=0,c=Int32Array.from([0,0,0]);for(;!n;){c=Int32Array.from([0,0,0]),i=zt.findGuardPattern(e,l,!1,this.START_END_PATTERN,c);let u=i[0];l=i[1];let h=u-(l-u);h>=0&&(n=e.isRange(h,u,!1))}return i}static checkChecksum(e){return zt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return zt.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new J;i+=c}i*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new J;i+=c}return(1e3-i)%10}static decodeEnd(e,n){return zt.findGuardPattern(e,n,!1,zt.START_END_PATTERN,new Int32Array(zt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,l){return this.findGuardPattern(e,n,i,l,new Int32Array(l.length))}static findGuardPattern(e,n,i,l,c){let u=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let h=0,m=n,v=l.length,N=i;for(let O=n;O<u;O++)if(e.get(O)!==N)c[h]++;else{if(h===v-1){if(jt.patternMatchVariance(c,l,zt.MAX_INDIVIDUAL_VARIANCE)<zt.MAX_AVG_VARIANCE)return Int32Array.from([m,O]);m+=c[0]+c[1];let D=c.slice(2,c.length-1);for(let V=0;V<h-1;V++)c[V]=D[V];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,N=!N}throw new ee}static decodeDigit(e,n,i,l){this.recordPattern(e,i,n);let c=this.MAX_AVG_VARIANCE,u=-1,h=l.length;for(let m=0;m<h;m++){let v=l[m],N=jt.patternMatchVariance(n,v,zt.MAX_INDIVIDUAL_VARIANCE);N<c&&(c=N,u=m)}if(u>=0)return u;throw new ee}}zt.MAX_AVG_VARIANCE=.48,zt.MAX_INDIVIDUAL_VARIANCE=.7,zt.START_END_PATTERN=Int32Array.from([1,1,1]),zt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),zt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),zt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Nr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,i,l),u=l.toString(),h=Nr.parseExtensionString(u),m=[new Pe((i[0]+i[1])/2,e),new Pe(c,e)],v=new je(u,null,0,m,xe.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let v=0;v<5&&u<c;v++){let N=zt.decodeDigit(e,l,u,zt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let O of l)u+=O;N>=10&&(h|=1<<4-v),v!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(i.length!==5)throw new ee;let m=this.determineCheckDigit(h);if(Nr.extensionChecksum(i.toString())!==m)throw new ee;return u}static extensionChecksum(e){let n=e.length,i=0;for(let l=n-2;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;i*=3;for(let l=n-1;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new ee}static parseExtensionString(e){if(e.length!==5)return null;let n=Nr.parseExtension5String(e);return n==null?null:new Map([[Ce.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),l=(i/100).toString(),c=i%100,u=c<10?"0"+c:c.toString();return n+l+"."+u}}class ji{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,i,l),u=l.toString(),h=ji.parseExtensionString(u),m=[new Pe((i[0]+i[1])/2,e),new Pe(c,e)],v=new je(u,null,0,m,xe.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let m=0;m<2&&u<c;m++){let v=zt.decodeDigit(e,l,u,zt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let N of l)u+=N;v>=10&&(h|=1<<1-m),m!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(i.length!==2)throw new ee;if(parseInt(i.toString())%4!==h)throw new ee;return u}static parseExtensionString(e){return e.length!==2?null:new Map([[Ce.ISSUE_NUMBER,parseInt(e)]])}}class Vi{static decodeRow(e,n,i){let l=zt.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Nr().decodeRow(e,n,l)}catch{return new ji().decodeRow(e,n,l)}}}Vi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class xt extends zt{constructor(){super(),this.decodeRowStringBuffer="",xt.L_AND_G_PATTERNS=xt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=xt.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let l=0;l<n.length;l++)i[l]=n[n.length-l-1];xt.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let l=xt.findStartGuardPattern(n),c=i==null?null:i.get(se.NEED_RESULT_POINT_CALLBACK);if(c!=null){const me=new Pe((l[0]+l[1])/2,e);c.foundPossibleResultPoint(me)}let u=this.decodeMiddle(n,l,this.decodeRowStringBuffer),h=u.rowOffset,m=u.resultString;if(c!=null){const me=new Pe(h,e);c.foundPossibleResultPoint(me)}let v=this.decodeEnd(n,h);if(c!=null){const me=new Pe((v[0]+v[1])/2,e);c.foundPossibleResultPoint(me)}let N=v[1],O=N+(N-v[0]);if(O>=n.getSize()||!n.isRange(N,O,!1))throw new ee;let D=m.toString();if(D.length<8)throw new J;if(!xt.checkChecksum(D))throw new k;let V=(l[1]+l[0])/2,G=(v[1]+v[0])/2,K=this.getBarcodeFormat(),$=[new Pe(V,e),new Pe(G,e)],oe=new je(D,null,0,$,K,new Date().getTime()),Ae=0;try{let me=Vi.decodeRow(e,n,v[1]);oe.putMetadata(Ce.UPC_EAN_EXTENSION,me.getText()),oe.putAllMetadata(me.getResultMetadata()),oe.addResultPoints(me.getResultPoints()),Ae=me.getText().length}catch{}let be=i==null?null:i.get(se.ALLOWED_EAN_EXTENSIONS);if(be!=null){let me=!1;for(let wt in be)if(Ae.toString()===wt){me=!0;break}if(!me)throw new ee}return oe}decodeEnd(e,n){return xt.findGuardPattern(e,n,!1,xt.START_END_PATTERN,new Int32Array(xt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return xt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return xt.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new J;i+=c}i*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new J;i+=c}return(1e3-i)%10}}class Kn extends xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let v=0;v<6&&u<c;v++){let N=xt.decodeDigit(e,l,u,xt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let O of l)u+=O;N>=10&&(h|=1<<5-v)}i=Kn.determineFirstDigit(i,h),u=xt.findGuardPattern(e,u,!0,xt.MIDDLE_PATTERN,new Int32Array(xt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&u<c;v++){let N=xt.decodeDigit(e,l,u,xt.L_PATTERNS);i+=String.fromCharCode(48+N);for(let O of l)u+=O}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return xe.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new ee}}Kn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Ui extends xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1];for(let m=0;m<4&&u<c;m++){let v=xt.decodeDigit(e,l,u,xt.L_PATTERNS);i+=String.fromCharCode(48+v);for(let N of l)u+=N}u=xt.findGuardPattern(e,u,!0,xt.MIDDLE_PATTERN,new Int32Array(xt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&u<c;m++){let v=xt.decodeDigit(e,l,u,xt.L_PATTERNS);i+=String.fromCharCode(48+v);for(let N of l)u+=N}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return xe.EAN_8}}class ws extends xt{constructor(){super(...arguments),this.ean13Reader=new Kn}getBarcodeFormat(){return xe.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new je(n.substring(1),null,null,e.getResultPoints(),xe.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new ee}reset(){this.ean13Reader.reset()}}class Zn extends xt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const c=e.getSize();let u=n[1],h=0;for(let v=0;v<6&&u<c;v++){const N=Zn.decodeDigit(e,l,u,Zn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let O of l)u+=O;N>=10&&(h|=1<<5-v)}let m=Zn.determineNumSysAndCheckDigit(i,h);return{rowOffset:u,resultString:m}}decodeEnd(e,n){return Zn.findGuardPatternWithoutCounters(e,n,!0,Zn.MIDDLE_END_PATTERN)}checkChecksum(e){return xt.checkChecksum(Zn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let c=String.fromCharCode(48+i),u=String.fromCharCode(48+l);return c+e+u}throw ee.getNotFoundInstance()}getBarcodeFormat(){return xe.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(c=>c.charCodeAt(0)),i=new Me;i.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(l),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(l);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ti extends jt{constructor(e){super();let n=e==null?null:e.get(se.POSSIBLE_FORMATS),i=[];d(n)?(i.push(new Kn),i.push(new ws),i.push(new Ui),i.push(new Zn)):(n.indexOf(xe.EAN_13)>-1&&i.push(new Kn),n.indexOf(xe.UPC_A)>-1&&i.push(new ws),n.indexOf(xe.EAN_8)>-1&&i.push(new Ui),n.indexOf(xe.UPC_E)>-1&&i.push(new Zn)),this.readers=i}decodeRow(e,n,i){for(let l of this.readers)try{const c=l.decodeRow(e,n,i),u=c.getBarcodeFormat()===xe.EAN_13&&c.getText().charAt(0)==="0",h=i==null?null:i.get(se.POSSIBLE_FORMATS),m=h==null||h.includes(xe.UPC_A);if(u&&m){const v=c.getRawBytes(),N=new je(c.getText().substring(1),v,v?v.length:null,c.getResultPoints(),xe.UPC_A);return N.putAllMetadata(c.getResultMetadata()),N}return c}catch{}throw new ee}reset(){for(let e of this.readers)e.reset()}}class xn extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(jt.patternMatchVariance(e,n[i],xn.MAX_INDIVIDUAL_VARIANCE)<xn.MAX_AVG_VARIANCE)return i;throw new ee}static count(e){return ft.sum(new Int32Array(e))}static increment(e,n){let i=0,l=n[0];for(let c=1;c<e.length;c++)n[c]>l&&(l=n[c],i=c);e[i]++}static decrement(e,n){let i=0,l=n[0];for(let c=1;c<e.length;c++)n[c]<l&&(l=n[c],i=c);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],l=n/i;if(l>=xn.MIN_FINDER_PATTERN_RATIO&&l<=xn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let h of e)h>u&&(u=h),h<c&&(c=h);return u<10*c}return!1}}xn.MAX_AVG_VARIANCE=.2,xn.MAX_INDIVIDUAL_VARIANCE=.45,xn.MIN_FINDER_PATTERN_RATIO=9.5/12,xn.MAX_FINDER_PATTERN_RATIO=12.5/14;class wr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof wr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Wr{constructor(e,n,i,l,c){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Pe(i,c)),this.resultPoints.push(new Pe(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Wr))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class bn{constructor(){}static getRSSvalue(e,n,i){let l=0;for(let m of e)l+=m;let c=0,u=0,h=e.length;for(let m=0;m<h-1;m++){let v;for(v=1,u|=1<<m;v<e[m];v++,u&=~(1<<m)){let N=bn.combins(l-v-1,h-m-2);if(i&&u===0&&l-v-(h-m-1)>=h-m-1&&(N-=bn.combins(l-v-(h-m),h-m-2)),h-m-1>1){let O=0;for(let D=l-v-(h-m-2);D>n;D--)O+=bn.combins(l-v-D-1,h-m-3);N-=O*(h-1-m)}else l-v>n&&N--;c+=N}l-=v}return c}static combins(e,n){let i,l;e-n>n?(l=n,i=e-n):(l=e-n,i=n);let c=1,u=1;for(let h=e;h>i;h--)c*=h,u<=l&&(c/=u,u++);for(;u<=l;)c/=u,u++;return c}}class vs{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,l=new Q(i),c=0,h=e[0].getRightChar().getValue();for(let m=11;m>=0;--m)h&1<<m&&l.set(c),c++;for(let m=1;m<e.length;++m){let v=e[m],N=v.getLeftChar().getValue();for(let O=11;O>=0;--O)N&1<<O&&l.set(c),c++;if(v.getRightChar()!=null){let O=v.getRightChar().getValue();for(let D=11;D>=0;--D)O&1<<D&&l.set(c),c++}}return l}}class Dn{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Cs{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class sn extends Cs{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===sn.FNC1}}sn.FNC1="$";class fr extends Cs{constructor(e,n,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class In extends Cs{constructor(e,n,i){if(super(e),n<0||n>10||i<0||i>10)throw new J;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===In.FNC1}isSecondDigitFNC1(){return this.secondDigit===In.FNC1}isAnyFNC1(){return this.firstDigit===In.FNC1||this.secondDigit===In.FNC1}}In.FNC1=10;class ke{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new ee;let n=e.substring(0,2);for(let c of ke.TWO_DIGIT_DATA_LENGTH)if(c[0]===n)return c[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(2,c[2],e):ke.processFixedAI(2,c[1],e);if(e.length<3)throw new ee;let i=e.substring(0,3);for(let c of ke.THREE_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(3,c[2],e):ke.processFixedAI(3,c[1],e);for(let c of ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,c[2],e):ke.processFixedAI(4,c[1],e);if(e.length<4)throw new ee;let l=e.substring(0,4);for(let c of ke.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===ke.VARIABLE_LENGTH?ke.processVariableAI(4,c[2],e):ke.processFixedAI(4,c[1],e);throw new ee}static processFixedAI(e,n,i){if(i.length<e)throw new ee;let l=i.substring(0,e);if(i.length<e+n)throw new ee;let c=i.substring(e,e+n),u=i.substring(e+n),h="("+l+")"+c,m=ke.parseFieldsInGeneralPurpose(u);return m==null?h:h+m}static processVariableAI(e,n,i){let l=i.substring(0,e),c;i.length<e+n?c=i.length:c=e+n;let u=i.substring(e,c),h=i.substring(c),m="("+l+")"+u,v=ke.parseFieldsInGeneralPurpose(h);return v==null?m:m+v}}ke.VARIABLE_LENGTH=[],ke.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ke.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ke.VARIABLE_LENGTH,20],["22",ke.VARIABLE_LENGTH,29],["30",ke.VARIABLE_LENGTH,8],["37",ke.VARIABLE_LENGTH,8],["90",ke.VARIABLE_LENGTH,30],["91",ke.VARIABLE_LENGTH,30],["92",ke.VARIABLE_LENGTH,30],["93",ke.VARIABLE_LENGTH,30],["94",ke.VARIABLE_LENGTH,30],["95",ke.VARIABLE_LENGTH,30],["96",ke.VARIABLE_LENGTH,30],["97",ke.VARIABLE_LENGTH,3],["98",ke.VARIABLE_LENGTH,30],["99",ke.VARIABLE_LENGTH,30]],ke.THREE_DIGIT_DATA_LENGTH=[["240",ke.VARIABLE_LENGTH,30],["241",ke.VARIABLE_LENGTH,30],["242",ke.VARIABLE_LENGTH,6],["250",ke.VARIABLE_LENGTH,30],["251",ke.VARIABLE_LENGTH,30],["253",ke.VARIABLE_LENGTH,17],["254",ke.VARIABLE_LENGTH,20],["400",ke.VARIABLE_LENGTH,30],["401",ke.VARIABLE_LENGTH,30],["402",17],["403",ke.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ke.VARIABLE_LENGTH,20],["421",ke.VARIABLE_LENGTH,15],["422",3],["423",ke.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ke.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ke.VARIABLE_LENGTH,15],["391",ke.VARIABLE_LENGTH,18],["392",ke.VARIABLE_LENGTH,15],["393",ke.VARIABLE_LENGTH,18],["703",ke.VARIABLE_LENGTH,30]],ke.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ke.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ke.VARIABLE_LENGTH,20],["8003",ke.VARIABLE_LENGTH,30],["8004",ke.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ke.VARIABLE_LENGTH,30],["8008",ke.VARIABLE_LENGTH,12],["8018",18],["8020",ke.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ke.VARIABLE_LENGTH,70],["8200",ke.VARIABLE_LENGTH,70]];class ni{constructor(e){this.buffer=new Me,this.information=e}decodeAllCodes(e,n){let i=n,l=null;do{let c=this.decodeGeneralPurposeField(i,l),u=ke.parseFieldsInGeneralPurpose(c.getNewString());if(u!=null&&e.append(u),c.isRemaining()?l=""+c.getRemainingValue():l=null,i===c.getNewPosition())break;i=c.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(e,4);return c===0?new In(this.information.getSize(),In.FNC1,In.FNC1):new In(this.information.getSize(),c-1,In.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,l=(n-8)%11;return new In(e+7,i,l)}extractNumericValueFromBitArray(e,n){return ni.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let l=0;for(let c=0;c<i;++c)e.get(n+c)&&(l|=1<<i-c-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new fr(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new fr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new fr(this.current.getPosition(),this.buffer.toString()):n=new fr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Dn(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new fr(this.current.getPosition(),this.buffer.toString());return new Dn(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Dn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new fr(this.current.getPosition(),this.buffer.toString());return new Dn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Dn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new fr(this.current.getPosition(),this.buffer.toString());return new Dn(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Dn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new sn(e+5,sn.FNC1);if(n>=5&&n<15)return new sn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new sn(e+7,""+(i+1));if(i>=90&&i<116)return new sn(e+7,""+(i+7));let l=this.extractNumericValueFromBitArray(e,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new J}return new sn(e+8,c)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new sn(e+5,sn.FNC1);if(n>=5&&n<15)return new sn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new sn(e+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Rt("Decoding invalid alphanumeric value: "+i)}return new sn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class zi{constructor(e){this.information=e,this.generalDecoder=new ni(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class kn extends zi{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let l=0;l<4;++l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);c/100===0&&e.append("0"),c/10===0&&e.append("0"),e.append(c)}kn.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let l=0;l<13;l++){let c=e.charAt(l+n).charCodeAt(0)-48;i+=l&1?c:3*c}i=10-i%10,i===10&&(i=0),e.append(i)}}kn.GTIN_SIZE=40;class $n extends kn{constructor(e){super(e)}parseInformation(){let e=new Me;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray($n.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,$n.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,$n.HEADER_SIZE+44)}}$n.HEADER_SIZE=4;class Hr extends zi{constructor(e){super(e)}parseInformation(){let e=new Me;return this.getGeneralDecoder().decodeAllCodes(e,Hr.HEADER_SIZE)}}Hr.HEADER_SIZE=5;class wi extends kn{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,l);let c=this.checkWeight(l),u=1e5;for(let h=0;h<5;++h)c/u===0&&e.append("0"),u/=10;e.append(c)}}class sr extends wi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=sr.HEADER_SIZE+wi.GTIN_SIZE+sr.WEIGHT_SIZE)throw new ee;let e=new Me;return this.encodeCompressedGtin(e,sr.HEADER_SIZE),this.encodeCompressedWeight(e,sr.HEADER_SIZE+wi.GTIN_SIZE,sr.WEIGHT_SIZE),e.toString()}}sr.HEADER_SIZE=5,sr.WEIGHT_SIZE=15;class Le extends sr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class ht extends sr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class qe extends kn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<qe.HEADER_SIZE+kn.GTIN_SIZE)throw new ee;let e=new Me;this.encodeCompressedGtin(e,qe.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(qe.HEADER_SIZE+kn.GTIN_SIZE,qe.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(qe.HEADER_SIZE+kn.GTIN_SIZE+qe.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}qe.HEADER_SIZE=8,qe.LAST_DIGIT_SIZE=2;class yt extends kn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<yt.HEADER_SIZE+kn.GTIN_SIZE)throw new ee;let e=new Me;this.encodeCompressedGtin(e,yt.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(yt.HEADER_SIZE+kn.GTIN_SIZE,yt.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(yt.HEADER_SIZE+kn.GTIN_SIZE+yt.LAST_DIGIT_SIZE,yt.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(yt.HEADER_SIZE+kn.GTIN_SIZE+yt.LAST_DIGIT_SIZE+yt.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}yt.HEADER_SIZE=8,yt.LAST_DIGIT_SIZE=2,yt.FIRST_THREE_DIGITS_SIZE=10;class De extends wi{constructor(e,n,i){super(e),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=De.HEADER_SIZE+De.GTIN_SIZE+De.WEIGHT_SIZE+De.DATE_SIZE)throw new ee;let e=new Me;return this.encodeCompressedGtin(e,De.HEADER_SIZE),this.encodeCompressedWeight(e,De.HEADER_SIZE+De.GTIN_SIZE,De.WEIGHT_SIZE),this.encodeCompressedDate(e,De.HEADER_SIZE+De.GTIN_SIZE+De.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,De.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=i%32;i/=32;let c=i%12+1;i/=12;let u=i;u/10==0&&e.append("0"),e.append(u),c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}De.HEADER_SIZE=8,De.WEIGHT_SIZE=20,De.DATE_SIZE=16;function Vn(_){try{if(_.get(1))return new $n(_);if(!_.get(2))return new Hr(_);switch(ni.extractNumericValueFromBitArray(_,1,4)){case 4:return new Le(_);case 5:return new ht(_)}switch(ni.extractNumericValueFromBitArray(_,1,5)){case 12:return new qe(_);case 13:return new yt(_)}switch(ni.extractNumericValueFromBitArray(_,1,7)){case 56:return new De(_,"310","11");case 57:return new De(_,"320","11");case 58:return new De(_,"310","13");case 59:return new De(_,"320","13");case 60:return new De(_,"310","15");case 61:return new De(_,"320","15");case 62:return new De(_,"310","17");case 63:return new De(_,"320","17")}}catch(e){throw console.log(e),new Rt("unknown decoder: "+_)}}class kt{constructor(e,n,i,l){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof kt?kt.equalsOrNull(e.leftchar,n.leftchar)&&kt.equalsOrNull(e.rightchar,n.rightchar)&&kt.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:kt.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Es{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Es?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((l,c)=>{n.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class he extends xn{constructor(e){super(...arguments),this.pairs=new Array(he.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return he.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,he.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(c){if(c instanceof ee){if(!this.pairs.length)throw new ee;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new ee}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let u of e)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!he.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(e);c.push(l);try{return this.checkRows(c,i+1)}catch(u){this.verbose&&console.log(u)}}throw new ee}static isValidSequence(e){for(let n of he.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,l=!1,c=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>e){c=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),i++}c||l||he.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Es(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let l of i.getPairs())for(let c of e)if(kt.equals(l,c))break}}static isPartialRow(e,n){for(let i of n){let l=!0;for(let c of e){let u=!1;for(let h of i.getPairs())if(c.equals(h)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=vs.buildBitArray(e),l=Vn(n).parseInformation(),c=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],u[0],u[1]];return new je(l,null,null,h,xe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let m=this.pairs.get(h);l+=m.getLeftChar().getChecksumPortion(),c++;let v=m.getRightChar();v!=null&&(l+=v.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let l=n.length%2==0;this.startFromEven&&(l=!l);let c,u=!0,h=-1;do this.findNextPair(e,n,h),c=this.parseFoundFinderPattern(e,i,l),c==null?h=he.getNextSecondBar(e,this.startEnd[0]):u=!1;while(u);let m=this.decodeDataCharacter(e,c,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new ee;let v;try{v=this.decodeDataCharacter(e,c,l,!1)}catch(N){v=null,this.verbose&&console.log(N)}return new kt(m,v,c,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u;i>=0?u=i:this.isEmptyPair(n)?u=0:u=n[n.length-1].getFinderPattern().getStartEnd()[1];let h=n.length%2!=0;this.startFromEven&&(h=!h);let m=!1;for(;u<c&&(m=!e.get(u),!!m);)u++;let v=0,N=u;for(let O=u;O<c;O++)if(e.get(O)!=m)l[v]++;else{if(v==3){if(h&&he.reverseCounters(l),he.isFinderPattern(l)){this.startEnd[0]=N,this.startEnd[1]=O;return}h&&he.reverseCounters(l),N+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,m=!m}throw new ee}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let l=e[i];e[i]=e[n-i-1],e[n-i-1]=l}}parseFoundFinderPattern(e,n,i){let l,c,u;if(i){let v=this.startEnd[0]-1;for(;v>=0&&!e.get(v);)v--;v++,l=this.startEnd[0]-v,c=v,u=this.startEnd[1]}else c=this.startEnd[0],u=e.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let h=this.getDecodeFinderCounters();j.arraycopy(h,0,h,1,h.length-1),h[0]=l;let m;try{m=this.parseFinderValue(h,he.FINDER_PATTERNS)}catch{return null}return new Wr(m,[c,u],c,u,n)}decodeDataCharacter(e,n,i,l){let c=this.getDataCharacterCounters();for(let Bt=0;Bt<c.length;Bt++)c[Bt]=0;if(l)he.recordPatternInReverse(e,n.getStartEnd()[0],c);else{he.recordPattern(e,n.getStartEnd()[1],c);for(let Bt=0,on=c.length-1;Bt<on;Bt++,on--){let Wn=c[Bt];c[Bt]=c[on],c[on]=Wn}}let u=17,h=ft.sum(new Int32Array(c))/u,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-m)/m>.3)throw new ee;let v=this.getOddCounts(),N=this.getEvenCounts(),O=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Bt=0;Bt<c.length;Bt++){let on=1*c[Bt]/h,Wn=on+.5;if(Wn<1){if(on<.3)throw new ee;Wn=1}else if(Wn>8){if(on>8.7)throw new ee;Wn=8}let bi=Bt/2;Bt&1?(N[bi]=Wn,D[bi]=on-Wn):(v[bi]=Wn,O[bi]=on-Wn)}this.adjustOddEvenCounts(u);let V=4*n.getValue()+(i?0:2)+(l?0:1)-1,G=0,K=0;for(let Bt=v.length-1;Bt>=0;Bt--){if(he.isNotA1left(n,i,l)){let on=he.WEIGHTS[V][2*Bt];K+=v[Bt]*on}G+=v[Bt]}let $=0;for(let Bt=N.length-1;Bt>=0;Bt--)if(he.isNotA1left(n,i,l)){let on=he.WEIGHTS[V][2*Bt+1];$+=N[Bt]*on}let oe=K+$;if(G&1||G>13||G<4)throw new ee;let Ae=(13-G)/2,be=he.SYMBOL_WIDEST[Ae],me=9-be,wt=bn.getRSSvalue(v,be,!0),ct=bn.getRSSvalue(N,me,!1),Qn=he.EVEN_TOTAL_SUBSET[Ae],Sr=he.GSUM[Ae],vn=wt*Qn+ct+Sr;return new wr(vn,oe)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=ft.sum(new Int32Array(this.getOddCounts())),i=ft.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;n>13?c=!0:n<4&&(l=!0);let u=!1,h=!1;i>13?h=!0:i<4&&(u=!0);let m=n+i-e,v=(n&1)==1,N=(i&1)==0;if(m==1)if(v){if(N)throw new ee;c=!0}else{if(!N)throw new ee;h=!0}else if(m==-1)if(v){if(N)throw new ee;l=!0}else{if(!N)throw new ee;u=!0}else if(m==0){if(v){if(!N)throw new ee;n<i?(l=!0,h=!0):(c=!0,u=!0)}else if(N)throw new ee}else throw new ee;if(l){if(c)throw new ee;he.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&he.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new ee;he.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&he.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.SYMBOL_WIDEST=[7,5,4,3,1],he.EVEN_TOTAL_SUBSET=[4,20,52,104,204],he.GSUM=[0,348,1388,2948,3988],he.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],he.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],he.FINDER_PAT_A=0,he.FINDER_PAT_B=1,he.FINDER_PAT_C=2,he.FINDER_PAT_D=3,he.FINDER_PAT_E=4,he.FINDER_PAT_F=5,he.FINDER_PATTERN_SEQUENCES=[[he.FINDER_PAT_A,he.FINDER_PAT_A],[he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B],[he.FINDER_PAT_A,he.FINDER_PAT_C,he.FINDER_PAT_B,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_C],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_E,he.FINDER_PAT_B,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F],[he.FINDER_PAT_A,he.FINDER_PAT_A,he.FINDER_PAT_B,he.FINDER_PAT_B,he.FINDER_PAT_C,he.FINDER_PAT_D,he.FINDER_PAT_D,he.FINDER_PAT_E,he.FINDER_PAT_E,he.FINDER_PAT_F,he.FINDER_PAT_F]],he.MAX_PAIRS=11;class dr extends wr{constructor(e,n,i){super(e,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Nt extends xn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const l=this.decodePair(n,!1,e,i);Nt.addOrTally(this.possibleLeftPairs,l),n.reverse();let c=this.decodePair(n,!0,e,i);Nt.addOrTally(this.possibleRightPairs,c),n.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&Nt.checkChecksum(u,h))return Nt.constructResult(u,h)}throw new ee}static addOrTally(e,n){if(n==null)return;let i=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),l=new String(i).toString(),c=new Me;for(let v=13-l.length;v>0;v--)c.append("0");c.append(l);let u=0;for(let v=0;v<13;v++){let N=c.charAt(v).charCodeAt(0)-48;u+=v&1?N:3*N}u=10-u%10,u===10&&(u=0),c.append(u.toString());let h=e.getFinderPattern().getResultPoints(),m=n.getFinderPattern().getResultPoints();return new je(c.toString(),null,0,[h[0],h[1],m[0],m[1]],xe.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(e,n,i,l){try{let c=this.findFinderPattern(e,n),u=this.parseFoundFinderPattern(e,i,n,c),h=l==null?null:l.get(se.NEED_RESULT_POINT_CALLBACK);if(h!=null){let N=(c[0]+c[1])/2;n&&(N=e.getSize()-1-N),h.foundPossibleResultPoint(new Pe(N,i))}let m=this.decodeDataCharacter(e,u,!0),v=this.decodeDataCharacter(e,u,!1);return new dr(1597*m.getValue()+v.getValue(),m.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(e,n,i){let l=this.getDataCharacterCounters();for(let $=0;$<l.length;$++)l[$]=0;if(i)jt.recordPatternInReverse(e,n.getStartEnd()[0],l);else{jt.recordPattern(e,n.getStartEnd()[1]+1,l);for(let $=0,oe=l.length-1;$<oe;$++,oe--){let Ae=l[$];l[$]=l[oe],l[oe]=Ae}}let c=i?16:15,u=ft.sum(new Int32Array(l))/c,h=this.getOddCounts(),m=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let $=0;$<l.length;$++){let oe=l[$]/u,Ae=Math.floor(oe+.5);Ae<1?Ae=1:Ae>8&&(Ae=8);let be=Math.floor($/2);$&1?(m[be]=Ae,N[be]=oe-Ae):(h[be]=Ae,v[be]=oe-Ae)}this.adjustOddEvenCounts(i,c);let O=0,D=0;for(let $=h.length-1;$>=0;$--)D*=9,D+=h[$],O+=h[$];let V=0,G=0;for(let $=m.length-1;$>=0;$--)V*=9,V+=m[$],G+=m[$];let K=D+3*V;if(i){if(O&1||O>12||O<4)throw new ee;let $=(12-O)/2,oe=Nt.OUTSIDE_ODD_WIDEST[$],Ae=9-oe,be=bn.getRSSvalue(h,oe,!1),me=bn.getRSSvalue(m,Ae,!0),wt=Nt.OUTSIDE_EVEN_TOTAL_SUBSET[$],ct=Nt.OUTSIDE_GSUM[$];return new wr(be*wt+me+ct,K)}else{if(G&1||G>10||G<4)throw new ee;let $=(10-G)/2,oe=Nt.INSIDE_ODD_WIDEST[$],Ae=9-oe,be=bn.getRSSvalue(h,oe,!0),me=bn.getRSSvalue(m,Ae,!1),wt=Nt.INSIDE_ODD_TOTAL_SUBSET[$],ct=Nt.INSIDE_GSUM[$];return new wr(me*wt+be+ct,K)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=e.getSize(),c=!1,u=0;for(;u<l&&(c=!e.get(u),n!==c);)u++;let h=0,m=u;for(let v=u;v<l;v++)if(e.get(v)!==c)i[h]++;else{if(h===3){if(xn.isFinderPattern(i))return[m,v];m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,c=!c}throw new ee}parseFoundFinderPattern(e,n,i,l){let c=e.get(l[0]),u=l[0]-1;for(;u>=0&&c!==e.get(u);)u--;u++;const h=l[0]-u,m=this.getDecodeFinderCounters(),v=new Int32Array(m.length);j.arraycopy(m,0,v,1,m.length-1),v[0]=h;const N=this.parseFinderValue(v,Nt.FINDER_PATTERNS);let O=u,D=l[1];return i&&(O=e.getSize()-1-O,D=e.getSize()-1-D),new Wr(N,[u,l[1]],O,D,n)}adjustOddEvenCounts(e,n){let i=ft.sum(new Int32Array(this.getOddCounts())),l=ft.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1,h=!1,m=!1;e?(i>12?u=!0:i<4&&(c=!0),l>12?m=!0:l<4&&(h=!0)):(i>11?u=!0:i<5&&(c=!0),l>10?m=!0:l<4&&(h=!0));let v=i+l-n,N=(i&1)===(e?1:0),O=(l&1)===1;if(v===1)if(N){if(O)throw new ee;u=!0}else{if(!O)throw new ee;m=!0}else if(v===-1)if(N){if(O)throw new ee;c=!0}else{if(!O)throw new ee;h=!0}else if(v===0){if(N){if(!O)throw new ee;i<l?(c=!0,m=!0):(u=!0,h=!0)}else if(O)throw new ee}else throw new ee;if(c){if(u)throw new ee;xn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&xn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new ee;xn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&xn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Nt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Nt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Nt.OUTSIDE_GSUM=[0,161,961,2015,2715],Nt.INSIDE_GSUM=[0,336,1036,1516],Nt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Nt.INSIDE_ODD_WIDEST=[2,4,6,8],Nt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class vi extends jt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const i=e?e.get(se.POSSIBLE_FORMATS):null,l=e&&e.get(se.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(xe.EAN_13)||i.includes(xe.UPC_A)||i.includes(xe.EAN_8)||i.includes(xe.UPC_E))&&this.readers.push(new ti(e)),i.includes(xe.CODE_39)&&this.readers.push(new _t(l)),i.includes(xe.CODE_128)&&this.readers.push(new Se),i.includes(xe.ITF)&&this.readers.push(new Dt),i.includes(xe.RSS_14)&&this.readers.push(new Nt),i.includes(xe.RSS_EXPANDED)&&this.readers.push(new he(this.verbose))):(this.readers.push(new ti(e)),this.readers.push(new _t),this.readers.push(new ti(e)),this.readers.push(new Se),this.readers.push(new Dt),this.readers.push(new Nt),this.readers.push(new he(this.verbose)))}decodeRow(e,n,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,i)}catch{}throw new ee}reset(){this.readers.forEach(e=>e.reset())}}class As extends ve{constructor(e=500,n){super(new vi(n),e,n)}}class Ct{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class pt{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class At{constructor(e,n,i,l,c,u){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=u;let h=0;const m=u.getECCodewords(),v=u.getECBlocks();for(let N of v)h+=N.getCount()*(N.getDataCodewords()+m);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new J;for(let i of At.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new J}toString(){return""+this.versionNumber}static buildVersions(){return[new At(1,10,10,8,8,new Ct(5,new pt(1,3))),new At(2,12,12,10,10,new Ct(7,new pt(1,5))),new At(3,14,14,12,12,new Ct(10,new pt(1,8))),new At(4,16,16,14,14,new Ct(12,new pt(1,12))),new At(5,18,18,16,16,new Ct(14,new pt(1,18))),new At(6,20,20,18,18,new Ct(18,new pt(1,22))),new At(7,22,22,20,20,new Ct(20,new pt(1,30))),new At(8,24,24,22,22,new Ct(24,new pt(1,36))),new At(9,26,26,24,24,new Ct(28,new pt(1,44))),new At(10,32,32,14,14,new Ct(36,new pt(1,62))),new At(11,36,36,16,16,new Ct(42,new pt(1,86))),new At(12,40,40,18,18,new Ct(48,new pt(1,114))),new At(13,44,44,20,20,new Ct(56,new pt(1,144))),new At(14,48,48,22,22,new Ct(68,new pt(1,174))),new At(15,52,52,24,24,new Ct(42,new pt(2,102))),new At(16,64,64,14,14,new Ct(56,new pt(2,140))),new At(17,72,72,16,16,new Ct(36,new pt(4,92))),new At(18,80,80,18,18,new Ct(48,new pt(4,114))),new At(19,88,88,20,20,new Ct(56,new pt(4,144))),new At(20,96,96,22,22,new Ct(68,new pt(4,174))),new At(21,104,104,24,24,new Ct(56,new pt(6,136))),new At(22,120,120,18,18,new Ct(68,new pt(6,175))),new At(23,132,132,20,20,new Ct(62,new pt(8,163))),new At(24,144,144,22,22,new Ct(62,new pt(8,156),new pt(2,155))),new At(25,8,18,6,16,new Ct(7,new pt(1,5))),new At(26,8,32,6,14,new Ct(11,new pt(1,10))),new At(27,12,26,10,24,new Ct(14,new pt(1,16))),new At(28,12,36,10,16,new Ct(18,new pt(1,22))),new At(29,16,36,14,16,new Ct(24,new pt(1,32))),new At(30,16,48,14,22,new Ct(28,new pt(1,49)))]}}At.VERSIONS=At.buildVersions();class or{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new J;this.version=or.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return At.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,l=0;const c=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let h=!1,m=!1,v=!1,N=!1;do if(i===c&&l===0&&!h)e[n++]=this.readCorner1(c,u)&255,i-=2,l+=2,h=!0;else if(i===c-2&&l===0&&u&3&&!m)e[n++]=this.readCorner2(c,u)&255,i-=2,l+=2,m=!0;else if(i===c+4&&l===2&&!(u&7)&&!v)e[n++]=this.readCorner3(c,u)&255,i-=2,l+=2,v=!0;else if(i===c-2&&l===0&&(u&7)===4&&!N)e[n++]=this.readCorner4(c,u)&255,i-=2,l+=2,N=!0;else{do i<c&&l>=0&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,c,u)&255),i-=2,l+=2;while(i>=0&&l<u);i+=1,l+=3;do i>=0&&l<u&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,c,u)&255),i+=2,l-=2;while(i<c&&l>=0);i+=3,l+=1}while(i<c||l<u);if(n!==this.version.getTotalCodewords())throw new J;return e}readModule(e,n,i,l){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,l){let c=0;return this.readModule(e-2,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e-2,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n,i,l)&&(c|=1),c<<=1,this.readModule(e,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e,n,i,l)&&(c|=1),c}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new T("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),u=n/l|0,h=i/c|0,m=u*l,v=h*c,N=new Fe(v,m);for(let O=0;O<u;++O){const D=O*l;for(let V=0;V<h;++V){const G=V*c;for(let K=0;K<l;++K){const $=O*(l+2)+1+K,oe=D+K;for(let Ae=0;Ae<c;++Ae){const be=V*(c+2)+1+Ae;if(e.get(be,$)){const me=G+Ae;N.set(me,oe)}}}}}return N}}class jo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let l=0;const c=i.getECBlocks();for(let K of c)l+=K.getCount();const u=new Array(l);let h=0;for(let K of c)for(let $=0;$<K.getCount();$++){const oe=K.getDataCodewords(),Ae=i.getECCodewords()+oe;u[h++]=new jo(oe,new Uint8Array(Ae))}const v=u[0].codewords.length-i.getECCodewords(),N=v-1;let O=0;for(let K=0;K<N;K++)for(let $=0;$<h;$++)u[$].codewords[K]=e[O++];const D=n.getVersionNumber()===24,V=D?8:h;for(let K=0;K<V;K++)u[K].codewords[v-1]=e[O++];const G=u[0].codewords.length;for(let K=v;K<G;K++)for(let $=0;$<h;$++){const oe=D?($+8)%h:$,Ae=D&&oe>7?K-1:K;u[oe].codewords[Ae]=e[O++]}if(O!==e.length)throw new T;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Vo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new T(""+e);let n=0,i=this.bitOffset,l=this.byteOffset;const c=this.bytes;if(i>0){const u=8-i,h=e<u?e:u,m=u-h,v=255>>8-h<<m;n=(c[l]&v)>>m,e-=h,i+=h,i===8&&(i=0,l++)}if(e>0){for(;e>=8;)n=n<<8|c[l]&255,l++,e-=8;if(e>0){const u=8-e,h=255>>u<<u;n=n<<e|(c[l]&h)>>u,i+=e}}return this.bitOffset=i,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yn;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(yn||(yn={}));class vr{static decode(e){const n=new Vo(e),i=new Me,l=new Me,c=new Array;let u=yn.ASCII_ENCODE;do if(u===yn.ASCII_ENCODE)u=this.decodeAsciiSegment(n,i,l);else{switch(u){case yn.C40_ENCODE:this.decodeC40Segment(n,i);break;case yn.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case yn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case yn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case yn.BASE256_ENCODE:this.decodeBase256Segment(n,i,c);break;default:throw new J}u=yn.ASCII_ENCODE}while(u!==yn.PAD_ENCODE&&n.available()>0);return l.length()>0&&i.append(l.toString()),new _e(e,i.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(e,n,i){let l=!1;do{let c=e.readBits(8);if(c===0)throw new J;if(c<=128)return l&&(c+=128),n.append(String.fromCharCode(c-1)),yn.ASCII_ENCODE;if(c===129)return yn.PAD_ENCODE;if(c<=229){const u=c-130;u<10&&n.append("0"),n.append(""+u)}else switch(c){case 230:return yn.C40_ENCODE;case 231:return yn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return yn.ANSIX12_ENCODE;case 239:return yn.TEXT_ENCODE;case 240:return yn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||e.available()!==0)throw new J;break}}while(e.available()>0);return yn.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const l=[];let c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(c){case 0:if(m<3)c=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else throw new J;break;case 1:i?(n.append(String.fromCharCode(m+128)),i=!1):n.append(String.fromCharCode(m)),c=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else switch(m){case 27:n.append("");break;case 30:i=!0;break;default:throw new J}c=0;break;case 3:i?(n.append(String.fromCharCode(m+224)),i=!1):n.append(String.fromCharCode(m+96)),c=0;break;default:throw new J}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,l=[],c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(c){case 0:if(m<3)c=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else throw new J;break;case 1:i?(n.append(String.fromCharCode(m+128)),i=!1):n.append(String.fromCharCode(m)),c=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else switch(m){case 27:n.append("");break;case 30:i=!0;break;default:throw new J}c=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v),c=0}else throw new J;break;default:throw new J}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(u){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(u<14)n.append(String.fromCharCode(u+44));else if(u<40)n.append(String.fromCharCode(u+51));else throw new J;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let l=(e<<8)+n-1,c=Math.floor(l/1600);i[0]=c,l-=c*1600,c=Math.floor(l/40),i[1]=c,i[2]=l-c*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let l=e.readBits(6);if(l===31){const c=8-e.getBitOffset();c!==8&&e.readBits(c);return}l&32||(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let l=1+e.getByteOffset();const c=this.unrandomize255State(e.readBits(8),l++);let u;if(c===0?u=e.available()/8|0:c<250?u=c:u=250*(c-249)+this.unrandomize255State(e.readBits(8),l++),u<0)throw new J;const h=new Uint8Array(u);for(let m=0;m<u;m++){if(e.available()<8)throw new J;h[m]=this.unrandomize255State(e.readBits(8),l++)}i.push(h);try{n.append(Xe.decode(h,Ie.ISO88591))}catch(m){throw new Rt("Platform does not support required encoding: "+m.message)}}static unrandomize255State(e,n){const i=149*n%255+1,l=e-i;return l>=0?l:l+256}}vr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],vr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],vr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],vr.TEXT_SHIFT2_SET_CHARS=vr.C40_SHIFT2_SET_CHARS,vr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class eo{constructor(){this.rsDecoder=new fn(Ue.DATA_MATRIX_FIELD_256)}decode(e){const n=new or(e),i=n.getVersion(),l=n.readCodewords(),c=jo.getDataBlocks(l,i);let u=0;for(let v of c)u+=v.getNumDataCodewords();const h=new Uint8Array(u),m=c.length;for(let v=0;v<m;v++){const N=c[v],O=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(O,D);for(let V=0;V<D;V++)h[V*m+v]=O[V]}return vr.decode(h)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new k}for(let l=0;l<n;l++)e[l]=i[l]}}class Gt{constructor(e){this.image=e,this.rectangleDetector=new we(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new ee;n=this.shiftToModuleCenter(n);const i=n[0],l=n[1],c=n[2],u=n[3];let h=this.transitionsBetween(i,u)+1,m=this.transitionsBetween(c,u)+1;(h&1)===1&&(h+=1),(m&1)===1&&(m+=1),4*h<7*m&&4*m<7*h&&(h=m=Math.max(h,m));let v=Gt.sampleGrid(this.image,i,l,c,u,h,m);return new rn(v,[i,l,c,u])}static shiftPoint(e,n,i){let l=(n.getX()-e.getX())/(i+1),c=(n.getY()-e.getY())/(i+1);return new Pe(e.getX()+l,e.getY()+c)}static moveAway(e,n,i){let l=e.getX(),c=e.getY();return l<n?l-=1:l+=1,c<i?c-=1:c+=1,new Pe(l,c)}detectSolid1(e){let n=e[0],i=e[1],l=e[3],c=e[2],u=this.transitionsBetween(n,i),h=this.transitionsBetween(i,l),m=this.transitionsBetween(l,c),v=this.transitionsBetween(c,n),N=u,O=[c,n,i,l];return N>h&&(N=h,O[0]=n,O[1]=i,O[2]=l,O[3]=c),N>m&&(N=m,O[0]=i,O[1]=l,O[2]=c,O[3]=n),N>v&&(O[0]=l,O[1]=c,O[2]=n,O[3]=i),O}detectSolid2(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=Gt.shiftPoint(i,l,(u+1)*4),m=Gt.shiftPoint(l,i,(u+1)*4),v=this.transitionsBetween(h,n),N=this.transitionsBetween(m,c);return v<N?(e[0]=n,e[1]=i,e[2]=l,e[3]=c):(e[0]=i,e[1]=l,e[2]=c,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=this.transitionsBetween(i,c),m=Gt.shiftPoint(n,i,(h+1)*4),v=Gt.shiftPoint(l,i,(u+1)*4);u=this.transitionsBetween(m,c),h=this.transitionsBetween(v,c);let N=new Pe(c.getX()+(l.getX()-i.getX())/(u+1),c.getY()+(l.getY()-i.getY())/(u+1)),O=new Pe(c.getX()+(n.getX()-i.getX())/(h+1),c.getY()+(n.getY()-i.getY())/(h+1));if(!this.isValid(N))return this.isValid(O)?O:null;if(!this.isValid(O))return N;let D=this.transitionsBetween(m,N)+this.transitionsBetween(v,N),V=this.transitionsBetween(m,O)+this.transitionsBetween(v,O);return D>V?N:O}shiftToModuleCenter(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c)+1,h=this.transitionsBetween(l,c)+1,m=Gt.shiftPoint(n,i,h*4),v=Gt.shiftPoint(l,i,u*4);u=this.transitionsBetween(m,c)+1,h=this.transitionsBetween(v,c)+1,(u&1)===1&&(u+=1),(h&1)===1&&(h+=1);let N=(n.getX()+i.getX()+l.getX()+c.getX())/4,O=(n.getY()+i.getY()+l.getY()+c.getY())/4;n=Gt.moveAway(n,N,O),i=Gt.moveAway(i,N,O),l=Gt.moveAway(l,N,O),c=Gt.moveAway(c,N,O);let D,V;return m=Gt.shiftPoint(n,i,h*4),m=Gt.shiftPoint(m,c,u*4),D=Gt.shiftPoint(i,n,h*4),D=Gt.shiftPoint(D,l,u*4),v=Gt.shiftPoint(l,c,h*4),v=Gt.shiftPoint(v,i,u*4),V=Gt.shiftPoint(c,l,h*4),V=Gt.shiftPoint(V,n,u*4),[m,D,v,V]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,l,c,u,h){return mt.getInstance().sampleGrid(e,u,h,.5,.5,u-.5,.5,u-.5,h-.5,.5,h-.5,n.getX(),n.getY(),c.getX(),c.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),l=Math.trunc(e.getY()),c=Math.trunc(n.getX()),u=Math.trunc(n.getY()),h=Math.abs(u-l)>Math.abs(c-i);if(h){let K=i;i=l,l=K,K=c,c=u,u=K}let m=Math.abs(c-i),v=Math.abs(u-l),N=-m/2,O=l<u?1:-1,D=i<c?1:-1,V=0,G=this.image.get(h?l:i,h?i:l);for(let K=i,$=l;K!==c;K+=D){let oe=this.image.get(h?$:K,h?K:$);if(oe!==G&&(V++,G=oe),N+=v,N>0){if($===u)break;$+=O,N-=m}}return V}}class Cr{constructor(){this.decoder=new eo}decode(e,n=null){let i,l;if(n!=null&&n.has(se.PURE_BARCODE)){const v=Cr.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(v),l=Cr.NO_POINTS}else{const v=new Gt(e.getBlackMatrix()).detect();i=this.decoder.decode(v.getBits()),l=v.getPoints()}const c=i.getRawBytes(),u=new je(i.getText(),c,8*c.length,l,xe.DATA_MATRIX,j.currentTimeMillis()),h=i.getByteSegments();h!=null&&u.putMetadata(Ce.BYTE_SEGMENTS,h);const m=i.getECLevel();return m!=null&&u.putMetadata(Ce.ERROR_CORRECTION_LEVEL,m),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new ee;const l=this.moduleSize(n,e);let c=n[1];const u=i[1];let h=n[0];const v=(i[0]-h+1)/l,N=(u-c+1)/l;if(v<=0||N<=0)throw new ee;const O=l/2;c+=O,h+=O;const D=new Fe(v,N);for(let V=0;V<N;V++){const G=c+V*l;for(let K=0;K<v;K++)e.get(h+K*l,G)&&D.set(K,V)}return D}static moduleSize(e,n){const i=n.getWidth();let l=e[0];const c=e[1];for(;l<i&&n.get(l,c);)l++;if(l===i)throw new ee;const u=l-e[0];if(u===0)throw new ee;return u}}Cr.NO_POINTS=[];class Lc extends ve{constructor(e=500){super(new Cr,e)}}var Wi;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(Wi||(Wi={}));class Vt{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,Vt.FOR_BITS.set(i,this),Vt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Vt.L;case"M":return Vt.M;case"Q":return Vt.Q;case"H":return Vt.H;default:throw new S(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Vt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=Vt.FOR_BITS.size)throw new T;return Vt.FOR_BITS.get(e)}}Vt.FOR_BITS=new Map,Vt.FOR_VALUE=new Map,Vt.L=new Vt(Wi.L,"L",1),Vt.M=new Vt(Wi.M,"M",0),Vt.Q=new Vt(Wi.Q,"Q",3),Vt.H=new Vt(Wi.H,"H",2);class Tn{constructor(e){this.errorCorrectionLevel=Vt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return W.bitCount(e^n)}static decodeFormatInformation(e,n){const i=Tn.doDecodeFormatInformation(e,n);return i!==null?i:Tn.doDecodeFormatInformation(e^Tn.FORMAT_INFO_MASK_QR,n^Tn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,l=0;for(const c of Tn.FORMAT_INFO_DECODE_LOOKUP){const u=c[0];if(u===e||u===n)return new Tn(c[1]);let h=Tn.numBitsDiffering(e,u);h<i&&(l=c[1],i=h),e!==n&&(h=Tn.numBitsDiffering(n,u),h<i&&(l=c[1],i=h))}return i<=3?new Tn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Tn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Tn.FORMAT_INFO_MASK_QR=21522,Tn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ne{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let l=0;const c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const h of u)l+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new J;try{return this.getVersionForNumber((e-17)/4)}catch{throw new J}}static getVersionForNumber(e){if(e<1||e>40)throw new T;return Ye.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<Ye.VERSION_DECODE_INFO.length;l++){const c=Ye.VERSION_DECODE_INFO[l];if(c===e)return Ye.getVersionForNumber(l+7);const u=Tn.numBitsDiffering(e,c);u<n&&(i=l+7,n=u)}return n<=3?Ye.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new Fe(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const c=this.alignmentPatternCenters[l]-2;for(let u=0;u<i;u++)l===0&&(u===0||u===i-1)||l===i-1&&u===0||n.setRegion(this.alignmentPatternCenters[u]-2,c,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new ne(7,new F(1,19)),new ne(10,new F(1,16)),new ne(13,new F(1,13)),new ne(17,new F(1,9))),new Ye(2,Int32Array.from([6,18]),new ne(10,new F(1,34)),new ne(16,new F(1,28)),new ne(22,new F(1,22)),new ne(28,new F(1,16))),new Ye(3,Int32Array.from([6,22]),new ne(15,new F(1,55)),new ne(26,new F(1,44)),new ne(18,new F(2,17)),new ne(22,new F(2,13))),new Ye(4,Int32Array.from([6,26]),new ne(20,new F(1,80)),new ne(18,new F(2,32)),new ne(26,new F(2,24)),new ne(16,new F(4,9))),new Ye(5,Int32Array.from([6,30]),new ne(26,new F(1,108)),new ne(24,new F(2,43)),new ne(18,new F(2,15),new F(2,16)),new ne(22,new F(2,11),new F(2,12))),new Ye(6,Int32Array.from([6,34]),new ne(18,new F(2,68)),new ne(16,new F(4,27)),new ne(24,new F(4,19)),new ne(28,new F(4,15))),new Ye(7,Int32Array.from([6,22,38]),new ne(20,new F(2,78)),new ne(18,new F(4,31)),new ne(18,new F(2,14),new F(4,15)),new ne(26,new F(4,13),new F(1,14))),new Ye(8,Int32Array.from([6,24,42]),new ne(24,new F(2,97)),new ne(22,new F(2,38),new F(2,39)),new ne(22,new F(4,18),new F(2,19)),new ne(26,new F(4,14),new F(2,15))),new Ye(9,Int32Array.from([6,26,46]),new ne(30,new F(2,116)),new ne(22,new F(3,36),new F(2,37)),new ne(20,new F(4,16),new F(4,17)),new ne(24,new F(4,12),new F(4,13))),new Ye(10,Int32Array.from([6,28,50]),new ne(18,new F(2,68),new F(2,69)),new ne(26,new F(4,43),new F(1,44)),new ne(24,new F(6,19),new F(2,20)),new ne(28,new F(6,15),new F(2,16))),new Ye(11,Int32Array.from([6,30,54]),new ne(20,new F(4,81)),new ne(30,new F(1,50),new F(4,51)),new ne(28,new F(4,22),new F(4,23)),new ne(24,new F(3,12),new F(8,13))),new Ye(12,Int32Array.from([6,32,58]),new ne(24,new F(2,92),new F(2,93)),new ne(22,new F(6,36),new F(2,37)),new ne(26,new F(4,20),new F(6,21)),new ne(28,new F(7,14),new F(4,15))),new Ye(13,Int32Array.from([6,34,62]),new ne(26,new F(4,107)),new ne(22,new F(8,37),new F(1,38)),new ne(24,new F(8,20),new F(4,21)),new ne(22,new F(12,11),new F(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new ne(30,new F(3,115),new F(1,116)),new ne(24,new F(4,40),new F(5,41)),new ne(20,new F(11,16),new F(5,17)),new ne(24,new F(11,12),new F(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new ne(22,new F(5,87),new F(1,88)),new ne(24,new F(5,41),new F(5,42)),new ne(30,new F(5,24),new F(7,25)),new ne(24,new F(11,12),new F(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new ne(24,new F(5,98),new F(1,99)),new ne(28,new F(7,45),new F(3,46)),new ne(24,new F(15,19),new F(2,20)),new ne(30,new F(3,15),new F(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new ne(28,new F(1,107),new F(5,108)),new ne(28,new F(10,46),new F(1,47)),new ne(28,new F(1,22),new F(15,23)),new ne(28,new F(2,14),new F(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new ne(30,new F(5,120),new F(1,121)),new ne(26,new F(9,43),new F(4,44)),new ne(28,new F(17,22),new F(1,23)),new ne(28,new F(2,14),new F(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new ne(28,new F(3,113),new F(4,114)),new ne(26,new F(3,44),new F(11,45)),new ne(26,new F(17,21),new F(4,22)),new ne(26,new F(9,13),new F(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new ne(28,new F(3,107),new F(5,108)),new ne(26,new F(3,41),new F(13,42)),new ne(30,new F(15,24),new F(5,25)),new ne(28,new F(15,15),new F(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new ne(28,new F(4,116),new F(4,117)),new ne(26,new F(17,42)),new ne(28,new F(17,22),new F(6,23)),new ne(30,new F(19,16),new F(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new ne(28,new F(2,111),new F(7,112)),new ne(28,new F(17,46)),new ne(30,new F(7,24),new F(16,25)),new ne(24,new F(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new ne(30,new F(4,121),new F(5,122)),new ne(28,new F(4,47),new F(14,48)),new ne(30,new F(11,24),new F(14,25)),new ne(30,new F(16,15),new F(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new ne(30,new F(6,117),new F(4,118)),new ne(28,new F(6,45),new F(14,46)),new ne(30,new F(11,24),new F(16,25)),new ne(30,new F(30,16),new F(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new ne(26,new F(8,106),new F(4,107)),new ne(28,new F(8,47),new F(13,48)),new ne(30,new F(7,24),new F(22,25)),new ne(30,new F(22,15),new F(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new ne(28,new F(10,114),new F(2,115)),new ne(28,new F(19,46),new F(4,47)),new ne(28,new F(28,22),new F(6,23)),new ne(30,new F(33,16),new F(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new ne(30,new F(8,122),new F(4,123)),new ne(28,new F(22,45),new F(3,46)),new ne(30,new F(8,23),new F(26,24)),new ne(30,new F(12,15),new F(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new ne(30,new F(3,117),new F(10,118)),new ne(28,new F(3,45),new F(23,46)),new ne(30,new F(4,24),new F(31,25)),new ne(30,new F(11,15),new F(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new ne(30,new F(7,116),new F(7,117)),new ne(28,new F(21,45),new F(7,46)),new ne(30,new F(1,23),new F(37,24)),new ne(30,new F(19,15),new F(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new ne(30,new F(5,115),new F(10,116)),new ne(28,new F(19,47),new F(10,48)),new ne(30,new F(15,24),new F(25,25)),new ne(30,new F(23,15),new F(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new ne(30,new F(13,115),new F(3,116)),new ne(28,new F(2,46),new F(29,47)),new ne(30,new F(42,24),new F(1,25)),new ne(30,new F(23,15),new F(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new ne(30,new F(17,115)),new ne(28,new F(10,46),new F(23,47)),new ne(30,new F(10,24),new F(35,25)),new ne(30,new F(19,15),new F(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new ne(30,new F(17,115),new F(1,116)),new ne(28,new F(14,46),new F(21,47)),new ne(30,new F(29,24),new F(19,25)),new ne(30,new F(11,15),new F(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new ne(30,new F(13,115),new F(6,116)),new ne(28,new F(14,46),new F(23,47)),new ne(30,new F(44,24),new F(7,25)),new ne(30,new F(59,16),new F(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new ne(30,new F(12,121),new F(7,122)),new ne(28,new F(12,47),new F(26,48)),new ne(30,new F(39,24),new F(14,25)),new ne(30,new F(22,15),new F(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new ne(30,new F(6,121),new F(14,122)),new ne(28,new F(6,47),new F(34,48)),new ne(30,new F(46,24),new F(10,25)),new ne(30,new F(2,15),new F(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new ne(30,new F(17,122),new F(4,123)),new ne(28,new F(29,46),new F(14,47)),new ne(30,new F(49,24),new F(10,25)),new ne(30,new F(24,15),new F(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new ne(30,new F(4,122),new F(18,123)),new ne(28,new F(13,46),new F(32,47)),new ne(30,new F(48,24),new F(14,25)),new ne(30,new F(42,15),new F(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new ne(30,new F(20,117),new F(4,118)),new ne(28,new F(40,47),new F(7,48)),new ne(30,new F(43,24),new F(22,25)),new ne(30,new F(10,15),new F(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new ne(30,new F(19,118),new F(6,119)),new ne(28,new F(18,47),new F(31,48)),new ne(30,new F(34,24),new F(34,25)),new ne(30,new F(20,15),new F(61,16)))];var dn;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(dn||(dn={}));class gt{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let l=0;l<n;l++)this.isMasked(i,l)&&e.flip(l,i)}}gt.values=new Map([[dn.DATA_MASK_000,new gt(dn.DATA_MASK_000,(_,e)=>(_+e&1)===0)],[dn.DATA_MASK_001,new gt(dn.DATA_MASK_001,(_,e)=>(_&1)===0)],[dn.DATA_MASK_010,new gt(dn.DATA_MASK_010,(_,e)=>e%3===0)],[dn.DATA_MASK_011,new gt(dn.DATA_MASK_011,(_,e)=>(_+e)%3===0)],[dn.DATA_MASK_100,new gt(dn.DATA_MASK_100,(_,e)=>(Math.floor(_/2)+Math.floor(e/3)&1)===0)],[dn.DATA_MASK_101,new gt(dn.DATA_MASK_101,(_,e)=>_*e%6===0)],[dn.DATA_MASK_110,new gt(dn.DATA_MASK_110,(_,e)=>_*e%6<3)],[dn.DATA_MASK_111,new gt(dn.DATA_MASK_111,(_,e)=>(_+e+_*e%3&1)===0)]]);class qa{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new J;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let c=0;c<6;c++)e=this.copyBit(c,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let c=5;c>=0;c--)e=this.copyBit(8,c,e);const n=this.bitMatrix.getHeight();let i=0;const l=n-7;for(let c=n-1;c>=l;c--)i=this.copyBit(8,c,i);for(let c=n-8;c<n;c++)i=this.copyBit(c,8,i);if(this.parsedFormatInfo=Tn.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new J}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Ye.getVersionForNumber(n);let i=0;const l=e-11;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)i=this.copyBit(h,u,i);let c=Ye.decodeVersionInformation(i);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;i=0;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)i=this.copyBit(u,h,i);if(c=Ye.decodeVersionInformation(i),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new J}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=gt.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const c=n.buildFunctionPattern();let u=!0;const h=new Uint8Array(n.getTotalCodewords());let m=0,v=0,N=0;for(let O=l-1;O>0;O-=2){O===6&&O--;for(let D=0;D<l;D++){const V=u?l-1-D:D;for(let G=0;G<2;G++)c.get(O-G,V)||(N++,v<<=1,this.bitMatrix.get(O-G,V)&&(v|=1),N===8&&(h[m++]=v,N=0,v=0))}u=!u}if(m!==n.getTotalCodewords())throw new J;return h}remask(){if(this.parsedFormatInfo===null)return;const e=gt.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let l=n+1,c=e.getHeight();l<c;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class to{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new T;const l=n.getECBlocksForLevel(i);let c=0;const u=l.getECBlocks();for(const G of u)c+=G.getCount();const h=new Array(c);let m=0;for(const G of u)for(let K=0;K<G.getCount();K++){const $=G.getDataCodewords(),oe=l.getECCodewordsPerBlock()+$;h[m++]=new to($,new Uint8Array(oe))}const v=h[0].codewords.length;let N=h.length-1;for(;N>=0&&h[N].codewords.length!==v;)N--;N++;const O=v-l.getECCodewordsPerBlock();let D=0;for(let G=0;G<O;G++)for(let K=0;K<m;K++)h[K].codewords[G]=e[D++];for(let G=N;G<m;G++)h[G].codewords[O]=e[D++];const V=h[0].codewords.length;for(let G=O;G<V;G++)for(let K=0;K<m;K++){const $=K<N?G:G+1;h[K].codewords[$]=e[D++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var qn;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})(qn||(qn={}));class Ke{constructor(e,n,i,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=l,Ke.FOR_BITS.set(l,this),Ke.FOR_VALUE.set(e,this)}static forBits(e){const n=Ke.FOR_BITS.get(e);if(n===void 0)throw new T;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Ke))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.TERMINATOR=new Ke(qn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ke.NUMERIC=new Ke(qn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ke.ALPHANUMERIC=new Ke(qn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ke.STRUCTURED_APPEND=new Ke(qn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ke.BYTE=new Ke(qn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ke.ECI=new Ke(qn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ke.KANJI=new Ke(qn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ke.FNC1_FIRST_POSITION=new Ke(qn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ke.FNC1_SECOND_POSITION=new Ke(qn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ke.HANZI=new Ke(qn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Xt{static decode(e,n,i,l){const c=new Vo(e);let u=new Me;const h=new Array;let m=-1,v=-1;try{let N=null,O=!1,D;do{if(c.available()<4)D=Ke.TERMINATOR;else{const V=c.readBits(4);D=Ke.forBits(V)}switch(D){case Ke.TERMINATOR:break;case Ke.FNC1_FIRST_POSITION:case Ke.FNC1_SECOND_POSITION:O=!0;break;case Ke.STRUCTURED_APPEND:if(c.available()<16)throw new J;m=c.readBits(8),v=c.readBits(8);break;case Ke.ECI:const V=Xt.parseECIValue(c);if(N=q.getCharacterSetECIByValue(V),N===null)throw new J;break;case Ke.HANZI:const G=c.readBits(4),K=c.readBits(D.getCharacterCountBits(n));G===Xt.GB2312_SUBSET&&Xt.decodeHanziSegment(c,u,K);break;default:const $=c.readBits(D.getCharacterCountBits(n));switch(D){case Ke.NUMERIC:Xt.decodeNumericSegment(c,u,$);break;case Ke.ALPHANUMERIC:Xt.decodeAlphanumericSegment(c,u,$,O);break;case Ke.BYTE:Xt.decodeByteSegment(c,u,$,N,h,l);break;case Ke.KANJI:Xt.decodeKanjiSegment(c,u,$);break;default:throw new J}break}}while(D!==Ke.TERMINATOR)}catch{throw new J}return new _e(e,u.toString(),h.length===0?null:h,i===null?null:i.toString(),m,v)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new J;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const u=e.readBits(13);let h=u/96<<8&4294967295|u%96;h<959?h+=41377:h+=42657,l[c]=h>>8&255,l[c+1]=h&255,c+=2,i--}try{n.append(Xe.decode(l,Ie.GB2312))}catch(u){throw new J(u)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new J;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const u=e.readBits(13);let h=u/192<<8&4294967295|u%192;h<7936?h+=33088:h+=49472,l[c]=h>>8,l[c+1]=h,c+=2,i--}try{n.append(Xe.decode(l,Ie.SHIFT_JIS))}catch(u){throw new J(u)}}static decodeByteSegment(e,n,i,l,c,u){if(8*i>e.available())throw new J;const h=new Uint8Array(i);for(let v=0;v<i;v++)h[v]=e.readBits(8);let m;l===null?m=Ie.guessEncoding(h,u):m=l.getName();try{n.append(Xe.decode(h,m))}catch(v){throw new J(v)}c.push(h)}static toAlphaNumericChar(e){if(e>=Xt.ALPHANUMERIC_CHARS.length)throw new J;return Xt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,l){const c=n.length();for(;i>1;){if(e.available()<11)throw new J;const u=e.readBits(11);n.append(Xt.toAlphaNumericChar(Math.floor(u/45))),n.append(Xt.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(e.available()<6)throw new J;n.append(Xt.toAlphaNumericChar(e.readBits(6)))}if(l)for(let u=c;u<n.length();u++)n.charAt(u)==="%"&&(u<n.length()-1&&n.charAt(u+1)==="%"?n.deleteCharAt(u+1):n.setCharAt(u,""))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new J;const l=e.readBits(10);if(l>=1e3)throw new J;n.append(Xt.toAlphaNumericChar(Math.floor(l/100))),n.append(Xt.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(Xt.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(e.available()<7)throw new J;const l=e.readBits(7);if(l>=100)throw new J;n.append(Xt.toAlphaNumericChar(Math.floor(l/10))),n.append(Xt.toAlphaNumericChar(l%10))}else if(i===1){if(e.available()<4)throw new J;const l=e.readBits(4);if(l>=10)throw new J;n.append(Xt.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new J}}Xt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Xt.GB2312_SUBSET=1;class Uo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class zo{constructor(){this.rsDecoder=new fn(Ue.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(Fe.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new qa(e);let l=null;try{return this.decodeBitMatrixParser(i,n)}catch(c){l=c}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const c=this.decodeBitMatrixParser(i,n);return c.setOther(new Uo(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(e,n){const i=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=to.getDataBlocks(c,i,l);let h=0;for(const N of u)h+=N.getNumDataCodewords();const m=new Uint8Array(h);let v=0;for(const N of u){const O=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(O,D);for(let V=0;V<D;V++)m[v++]=O[V]}return Xt.decode(m,i,l,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new k}for(let l=0;l<n;l++)e[l]=i[l]}}class Hi extends Pe{constructor(e,n,i){super(e,n),this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=(this.getX()+n)/2,c=(this.getY()+e)/2,u=(this.estimatedModuleSize+i)/2;return new Hi(l,c,u)}}class Er{constructor(e,n,i,l,c,u,h){this.image=e,this.startX=n,this.startY=i,this.width=l,this.height=c,this.moduleSize=u,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,l=e+i,c=this.startY+n/2,u=new Int32Array(3),h=this.image;for(let m=0;m<n;m++){const v=c+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));u[0]=0,u[1]=0,u[2]=0;let N=e;for(;N<l&&!h.get(N,v);)N++;let O=0;for(;N<l;){if(h.get(N,v))if(O===1)u[1]++;else if(O===2){if(this.foundPatternCross(u)){const D=this.handlePossibleCenter(u,v,N);if(D!==null)return D}u[0]=u[2],u[1]=1,u[2]=0,O=1}else u[++O]++;else O===1&&O++,u[O]++;N++}if(this.foundPatternCross(u)){const D=this.handlePossibleCenter(u,v,l);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new ee}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=i)return!1;return!0}crossCheckVertical(e,n,i,l){const c=this.image,u=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let m=e;for(;m>=0&&c.get(n,m)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&!c.get(n,m)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(n,m)&&h[1]<=i;)h[1]++,m++;if(m===u||h[1]>i)return NaN;for(;m<u&&!c.get(n,m)&&h[2]<=i;)h[2]++,m++;if(h[2]>i)return NaN;const v=h[0]+h[1]+h[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(h)?Er.centerFromEnd(h,m):NaN}handlePossibleCenter(e,n,i){const l=e[0]+e[1]+e[2],c=Er.centerFromEnd(e,i),u=this.crossCheckVertical(n,c,2*e[1],l);if(!isNaN(u)){const h=(e[0]+e[1]+e[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(h,u,c))return v.combineEstimate(u,c,h);const m=new Hi(c,u,h);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Rr extends Pe{constructor(e,n,i,l){super(e,n),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=this.count+1,c=(this.count*this.getX()+n)/l,u=(this.count*this.getY()+e)/l,h=(this.count*this.estimatedModuleSize+i)/l;return new Rr(c,u,h,l)}}class ri{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class en{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(se.TRY_HARDER)!==void 0,i=e!=null&&e.get(se.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),u=l.getWidth();let h=Math.floor(3*c/(4*en.MAX_MODULES));(h<en.MIN_SKIP||n)&&(h=en.MIN_SKIP);let m=!1;const v=new Int32Array(5);for(let O=h-1;O<c&&!m;O+=h){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let V=0;V<u;V++)if(l.get(V,O))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(en.foundPatternCross(v)){if(this.handlePossibleCenter(v,O,V,i)===!0)if(h=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const K=this.findRowSkip();K>v[2]&&(O+=K-v[2]-h,V=u-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;en.foundPatternCross(v)&&this.handlePossibleCenter(v,O,u,i)===!0&&(h=v[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return Pe.orderBestPatterns(N),new ri(N)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let c=0;c<5;c++){const u=e[c];if(u===0)return!1;n+=u}if(n<7)return!1;const i=n/7,l=i/2;return Math.abs(i-e[0])<l&&Math.abs(i-e[1])<l&&Math.abs(3*i-e[2])<3*l&&Math.abs(i-e[3])<l&&Math.abs(i-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,l){const c=this.getCrossCheckStateCount();let u=0;const h=this.image;for(;e>=u&&n>=u&&h.get(n-u,e-u);)c[2]++,u++;if(e<u||n<u)return!1;for(;e>=u&&n>=u&&!h.get(n-u,e-u)&&c[1]<=i;)c[1]++,u++;if(e<u||n<u||c[1]>i)return!1;for(;e>=u&&n>=u&&h.get(n-u,e-u)&&c[0]<=i;)c[0]++,u++;if(c[0]>i)return!1;const m=h.getHeight(),v=h.getWidth();for(u=1;e+u<m&&n+u<v&&h.get(n+u,e+u);)c[2]++,u++;if(e+u>=m||n+u>=v)return!1;for(;e+u<m&&n+u<v&&!h.get(n+u,e+u)&&c[3]<i;)c[3]++,u++;if(e+u>=m||n+u>=v||c[3]>=i)return!1;for(;e+u<m&&n+u<v&&h.get(n+u,e+u)&&c[4]<i;)c[4]++,u++;if(c[4]>=i)return!1;const N=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(N-l)<2*l&&en.foundPatternCross(c)}crossCheckVertical(e,n,i,l){const c=this.image,u=c.getHeight(),h=this.getCrossCheckStateCount();let m=e;for(;m>=0&&c.get(n,m);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!c.get(n,m)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&c.get(n,m)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(n,m);)h[2]++,m++;if(m===u)return NaN;for(;m<u&&!c.get(n,m)&&h[3]<i;)h[3]++,m++;if(m===u||h[3]>=i)return NaN;for(;m<u&&c.get(n,m)&&h[4]<i;)h[4]++,m++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=2*l?NaN:en.foundPatternCross(h)?en.centerFromEnd(h,m):NaN}crossCheckHorizontal(e,n,i,l){const c=this.image,u=c.getWidth(),h=this.getCrossCheckStateCount();let m=e;for(;m>=0&&c.get(m,n);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!c.get(m,n)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&c.get(m,n)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(m,n);)h[2]++,m++;if(m===u)return NaN;for(;m<u&&!c.get(m,n)&&h[3]<i;)h[3]++,m++;if(m===u||h[3]>=i)return NaN;for(;m<u&&c.get(m,n)&&h[4]<i;)h[4]++,m++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=l?NaN:en.foundPatternCross(h)?en.centerFromEnd(h,m):NaN}handlePossibleCenter(e,n,i,l){const c=e[0]+e[1]+e[2]+e[3]+e[4];let u=en.centerFromEnd(e,i),h=this.crossCheckVertical(n,Math.floor(u),e[2],c);if(!isNaN(h)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(h),e[2],c),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(u),e[2],c)))){const m=c/7;let v=!1;const N=this.possibleCenters;for(let O=0,D=N.length;O<D;O++){const V=N[O];if(V.aboutEquals(m,h,u)){N[O]=V.combineEstimate(h,u,m),v=!0;break}}if(!v){const O=new Rr(u,h,m);N.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=en.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=en.CENTER_QUORUM&&(e++,n+=u.getEstimatedModuleSize());if(e<3)return!1;const l=n/i;let c=0;for(const u of this.possibleCenters)c+=Math.abs(u.getEstimatedModuleSize()-l);return c<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new ee;const n=this.possibleCenters;let i;if(e>3){let l=0,c=0;for(const m of this.possibleCenters){const v=m.getEstimatedModuleSize();l+=v,c+=v*v}i=l/e;let u=Math.sqrt(c/e-i*i);n.sort((m,v)=>{const N=Math.abs(v.getEstimatedModuleSize()-i),O=Math.abs(m.getEstimatedModuleSize()-i);return N<O?-1:N>O?1:0});const h=Math.max(.2*i,u);for(let m=0;m<n.length&&n.length>3;m++){const v=n[m];Math.abs(v.getEstimatedModuleSize()-i)>h&&(n.splice(m,1),m--)}}if(n.length>3){let l=0;for(const c of n)l+=c.getEstimatedModuleSize();i=l/n.length,n.sort((c,u)=>{if(u.getCount()===c.getCount()){const h=Math.abs(u.getEstimatedModuleSize()-i),m=Math.abs(c.getEstimatedModuleSize()-i);return h<m?1:h>m?-1:0}else return u.getCount()-c.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}en.CENTER_QUORUM=2,en.MIN_SKIP=3,en.MAX_MODULES=57;class Gr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(se.NEED_RESULT_POINT_CALLBACK);const i=new en(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),l=e.getBottomLeft(),c=this.calculateModuleSize(n,i,l);if(c<1)throw new ee("No pattern found in proccess finder.");const u=Gr.computeDimension(n,i,l,c),h=Ye.getProvisionalVersionForDimension(u),m=h.getDimensionForVersion()-7;let v=null;if(h.getAlignmentPatternCenters().length>0){const V=i.getX()-n.getX()+l.getX(),G=i.getY()-n.getY()+l.getY(),K=1-3/m,$=Math.floor(n.getX()+K*(V-n.getX())),oe=Math.floor(n.getY()+K*(G-n.getY()));for(let Ae=4;Ae<=16;Ae<<=1)try{v=this.findAlignmentInRegion(c,$,oe,Ae);break}catch(be){if(!(be instanceof ee))throw be}}const N=Gr.createTransform(n,i,l,v,u),O=Gr.sampleGrid(this.image,N,u);let D;return v===null?D=[l,n,i]:D=[l,n,i,v],new rn(O,D)}static createTransform(e,n,i,l,c){const u=c-3.5;let h,m,v,N;return l!==null?(h=l.getX(),m=l.getY(),v=u-3,N=v):(h=n.getX()-e.getX()+i.getX(),m=n.getY()-e.getY()+i.getY(),v=u,N=u),Ze.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,v,N,3.5,u,e.getX(),e.getY(),n.getX(),n.getY(),h,m,i.getX(),i.getY())}static sampleGrid(e,n,i){return mt.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,l){const c=ft.round(Pe.distance(e,n)/l),u=ft.round(Pe.distance(e,i)/l);let h=Math.floor((c+u)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new ee("Dimensions could be not found.")}return h}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,l){let c=this.sizeOfBlackWhiteBlackRun(e,n,i,l),u=1,h=e-(i-e);h<0?(u=e/(e-h),h=0):h>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(h-e),h=this.image.getWidth()-1);let m=Math.floor(n-(l-n)*u);return u=1,m<0?(u=n/(n-m),m=0):m>=this.image.getHeight()&&(u=(this.image.getHeight()-1-n)/(m-n),m=this.image.getHeight()-1),h=Math.floor(e+(h-e)*u),c+=this.sizeOfBlackWhiteBlackRun(e,n,h,m),c-1}sizeOfBlackWhiteBlackRun(e,n,i,l){const c=Math.abs(l-n)>Math.abs(i-e);if(c){let V=e;e=n,n=V,V=i,i=l,l=V}const u=Math.abs(i-e),h=Math.abs(l-n);let m=-u/2;const v=e<i?1:-1,N=n<l?1:-1;let O=0;const D=i+v;for(let V=e,G=n;V!==D;V+=v){const K=c?G:V,$=c?V:G;if(O===1===this.image.get(K,$)){if(O===2)return ft.distance(V,G,e,n);O++}if(m+=h,m>0){if(G===l)break;G+=N,m-=u}}return O===2?ft.distance(i+v,l,e,n):NaN}findAlignmentInRegion(e,n,i,l){const c=Math.floor(l*e),u=Math.max(0,n-c),h=Math.min(this.image.getWidth()-1,n+c);if(h-u<e*3)throw new ee("Alignment top exceeds estimated module size.");const m=Math.max(0,i-c),v=Math.min(this.image.getHeight()-1,i+c);if(v-m<e*3)throw new ee("Alignment bottom exceeds estimated module size.");return new Er(this.image,u,m,h-u,v-m,e,this.resultPointCallback).find()}}class Un{constructor(){this.decoder=new zo}getDecoder(){return this.decoder}decode(e,n){let i,l;if(n!=null&&n.get(se.PURE_BARCODE)!==void 0){const m=Un.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(m,n),l=Un.NO_POINTS}else{const m=new Gr(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(m.getBits(),n),l=m.getPoints()}i.getOther()instanceof Uo&&i.getOther().applyMirroredCorrection(l);const c=new je(i.getText(),i.getRawBytes(),void 0,l,xe.QR_CODE,void 0),u=i.getByteSegments();u!==null&&c.putMetadata(Ce.BYTE_SEGMENTS,u);const h=i.getECLevel();return h!==null&&c.putMetadata(Ce.ERROR_CORRECTION_LEVEL,h),i.hasStructuredAppend()&&(c.putMetadata(Ce.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),c.putMetadata(Ce.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),c}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new ee;const l=this.moduleSize(n,e);let c=n[1],u=i[1],h=n[0],m=i[0];if(h>=m||c>=u)throw new ee;if(u-c!==m-h&&(m=h+(u-c),m>=e.getWidth()))throw new ee;const v=Math.round((m-h+1)/l),N=Math.round((u-c+1)/l);if(v<=0||N<=0)throw new ee;if(N!==v)throw new ee;const O=Math.floor(l/2);c+=O,h+=O;const D=h+Math.floor((v-1)*l)-m;if(D>0){if(D>O)throw new ee;h-=D}const V=c+Math.floor((N-1)*l)-u;if(V>0){if(V>O)throw new ee;c-=V}const G=new Fe(v,N);for(let K=0;K<N;K++){const $=c+Math.floor(K*l);for(let oe=0;oe<v;oe++)e.get(h+Math.floor(oe*l),$)&&G.set(oe,K)}return G}static moduleSize(e,n){const i=n.getHeight(),l=n.getWidth();let c=e[0],u=e[1],h=!0,m=0;for(;c<l&&u<i;){if(h!==n.get(c,u)){if(++m===5)break;h=!h}c++,u++}if(c===l||u===i)throw new ee;return(c-e[0])/7}}Un.NO_POINTS=new Array;class rt{PDF417Common(){}static getBitCountSum(e){return ft.sum(e)}static toIntArray(e){if(e==null||!e.length)return rt.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const l of e)n[i++]=l;return n}static getCodeword(e){const n=H.binarySearch(rt.SYMBOL_TABLE,e&262143);return n<0?-1:(rt.CODEWORD_TABLE[n]-1)%rt.NUMBER_OF_CODEWORDS}}rt.NUMBER_OF_CODEWORDS=929,rt.MAX_CODEWORDS_IN_BARCODE=rt.NUMBER_OF_CODEWORDS-1,rt.MIN_ROWS_IN_BARCODE=3,rt.MAX_ROWS_IN_BARCODE=90,rt.MODULES_IN_CODEWORD=17,rt.MODULES_IN_STOP_PATTERN=18,rt.BARS_IN_MODULE=8,rt.EMPTY_INT_ARRAY=new Int32Array([]),rt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),rt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qa{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class lt{static detectMultiple(e,n,i){let l=e.getBlackMatrix(),c=lt.detect(i,l);return c.length||(l=l.clone(),l.rotate180(),c=lt.detect(i,l)),new Qa(l,c)}static detect(e,n){const i=new Array;let l=0,c=0,u=!1;for(;l<n.getHeight();){const h=lt.findVertices(n,l,c);if(h[0]==null&&h[3]==null){if(!u)break;u=!1,c=0;for(const m of i)m[1]!=null&&(l=Math.trunc(Math.max(l,m[1].getY()))),m[3]!=null&&(l=Math.max(l,Math.trunc(m[3].getY())));l+=lt.ROW_STEP;continue}if(u=!0,i.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return i}static findVertices(e,n,i){const l=e.getHeight(),c=e.getWidth(),u=new Array(8);return lt.copyToResult(u,lt.findRowsWithPattern(e,l,c,n,i,lt.START_PATTERN),lt.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),n=Math.trunc(u[4].getY())),lt.copyToResult(u,lt.findRowsWithPattern(e,l,c,n,i,lt.STOP_PATTERN),lt.INDEXES_STOP_PATTERN),u}static copyToResult(e,n,i){for(let l=0;l<i.length;l++)e[i[l]]=n[l]}static findRowsWithPattern(e,n,i,l,c,u){const h=new Array(4);let m=!1;const v=new Int32Array(u.length);for(;l<n;l+=lt.ROW_STEP){let O=lt.findGuardPattern(e,c,l,i,!1,u,v);if(O!=null){for(;l>0;){const D=lt.findGuardPattern(e,c,--l,i,!1,u,v);if(D!=null)O=D;else{l++;break}}h[0]=new Pe(O[0],l),h[1]=new Pe(O[1],l),m=!0;break}}let N=l+1;if(m){let O=0,D=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;N<n;N++){const V=lt.findGuardPattern(e,D[0],N,i,!1,u,v);if(V!=null&&Math.abs(D[0]-V[0])<lt.MAX_PATTERN_DRIFT&&Math.abs(D[1]-V[1])<lt.MAX_PATTERN_DRIFT)D=V,O=0;else{if(O>lt.SKIPPED_ROW_COUNT_MAX)break;O++}}N-=O+1,h[2]=new Pe(D[0],N),h[3]=new Pe(D[1],N)}return N-l<lt.BARCODE_MIN_HEIGHT&&H.fill(h,null),h}static findGuardPattern(e,n,i,l,c,u,h){H.fillWithin(h,0,h.length,0);let m=n,v=0;for(;e.get(m,i)&&m>0&&v++<lt.MAX_PIXEL_DRIFT;)m--;let N=m,O=0,D=u.length;for(let V=c;N<l;N++)if(e.get(N,i)!==V)h[O]++;else{if(O===D-1){if(lt.patternMatchVariance(h,u,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return new Int32Array([m,N]);m+=h[0]+h[1],j.arraycopy(h,2,h,0,O-1),h[O-1]=0,h[O]=0,O--}else O++;h[O]=1,V=!V}return O===D-1&&lt.patternMatchVariance(h,u,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE?new Int32Array([m,N-1]):null}static patternMatchVariance(e,n,i){let l=e.length,c=0,u=0;for(let v=0;v<l;v++)c+=e[v],u+=n[v];if(c<u)return 1/0;let h=c/u;i*=h;let m=0;for(let v=0;v<l;v++){let N=e[v],O=n[v]*h,D=N>O?N-O:O-N;if(D>i)return 1/0;m+=D}return m/c}}lt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),lt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),lt.MAX_AVG_VARIANCE=.42,lt.MAX_INDIVIDUAL_VARIANCE=.8,lt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),lt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),lt.MAX_PIXEL_DRIFT=3,lt.MAX_PATTERN_DRIFT=5,lt.SKIPPED_ROW_COUNT_MAX=25,lt.ROW_STEP=5,lt.BARCODE_MIN_HEIGHT=10;class Nn{constructor(e,n){if(n.length===0)throw new T;this.field=e;let i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),j.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let n=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let u=n;n=i,i=u}let l=new Int32Array(i.length),c=i.length-n.length;j.arraycopy(i,0,l,0,c);for(let u=c;u<i.length;u++)l[u]=this.field.add(n[u-c],i[u]);return new Nn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Nn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Nn(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,l=e.coefficients,c=l.length,u=new Int32Array(i+c-1);for(let h=0;h<i;h++){let m=n[h];for(let v=0;v<c;v++)u[h+v]=this.field.add(u[h+v],this.field.multiply(m,l[v]))}return new Nn(this.field,u)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new Nn(this.field,n)}multiplyScalar(e){if(e===0)return new Nn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let l=0;l<n;l++)i[l]=this.field.multiply(this.coefficients[l],e);return new Nn(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new T;if(n===0)return new Nn(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+e);for(let c=0;c<i;c++)l[c]=this.field.multiply(this.coefficients[c],n);return new Nn(this.field,l)}toString(){let e=new Me;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Ja{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}inverse(e){if(e===0)throw new ut;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Gi extends Ja{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let l=0;l<e;l++)this.expTable[l]=i,i=i*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Nn(this,new Int32Array([0])),this.one=new Nn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new T;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new Nn(this,i)}}Gi.PDF417_GF=new Gi(rt.NUMBER_OF_CODEWORDS,3);class Wo{constructor(){this.field=Gi.PDF417_GF}decode(e,n,i){let l=new Nn(this.field,e),c=new Int32Array(n),u=!1;for(let G=n;G>0;G--){let K=l.evaluateAt(this.field.exp(G));c[n-G]=K,K!==0&&(u=!0)}if(!u)return 0;let h=this.field.getOne();if(i!=null)for(const G of i){let K=this.field.exp(e.length-1-G),$=new Nn(this.field,new Int32Array([this.field.subtract(0,K),1]));h=h.multiply($)}let m=new Nn(this.field,c),v=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),m,n),N=v[0],O=v[1],D=this.findErrorLocations(N),V=this.findErrorMagnitudes(O,N,D);for(let G=0;G<D.length;G++){let K=e.length-1-this.field.log(D[G]);if(K<0)throw k.getChecksumInstance();e[K]=this.field.subtract(e[K],V[G])}return D.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let D=e;e=n,n=D}let l=e,c=n,u=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(i/2);){let D=l,V=u;if(l=c,u=h,l.isZero())throw k.getChecksumInstance();c=D;let G=this.field.getZero(),K=l.getCoefficient(l.getDegree()),$=this.field.inverse(K);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let oe=c.getDegree()-l.getDegree(),Ae=this.field.multiply(c.getCoefficient(c.getDegree()),$);G=G.add(this.field.buildMonomial(oe,Ae)),c=c.subtract(l.multiplyByMonomial(oe,Ae))}h=G.multiply(u).subtract(V).negative()}let m=h.getCoefficient(0);if(m===0)throw k.getChecksumInstance();let v=this.field.inverse(m),N=h.multiply(v),O=c.multiply(v);return[N,O]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),l=0;for(let c=1;c<this.field.getSize()&&l<n;c++)e.evaluateAt(c)===0&&(i[l]=this.field.inverse(c),l++);if(l!==n)throw k.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let l=n.getDegree(),c=new Int32Array(l);for(let v=1;v<=l;v++)c[l-v]=this.field.multiply(v,n.getCoefficient(v));let u=new Nn(this.field,c),h=i.length,m=new Int32Array(h);for(let v=0;v<h;v++){let N=this.field.inverse(i[v]),O=this.field.subtract(0,e.evaluateAt(N)),D=this.field.inverse(u.evaluateAt(N));m[v]=this.field.multiply(O,D)}return m}}class Ci{constructor(e,n,i,l,c){e instanceof Ci?this.constructor_2(e):this.constructor_1(e,n,i,l,c)}constructor_1(e,n,i,l,c){const u=n==null||i==null,h=l==null||c==null;if(u&&h)throw new ee;u?(n=new Pe(0,l.getY()),i=new Pe(0,c.getY())):h&&(l=new Pe(e.getWidth()-1,n.getY()),c=new Pe(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),c.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new Ci(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let l=this.topLeft,c=this.bottomLeft,u=this.topRight,h=this.bottomRight;if(e>0){let m=i?this.topLeft:this.topRight,v=Math.trunc(m.getY()-e);v<0&&(v=0);let N=new Pe(m.getX(),v);i?l=N:u=N}if(n>0){let m=i?this.bottomLeft:this.bottomRight,v=Math.trunc(m.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let N=new Pe(m.getX(),v);i?c=N:h=N}return new Ci(this.image,l,c,u,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ss{constructor(e,n,i,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xr{constructor(){this.buffer=""}static form(e,n){let i=-1;function l(u,h,m,v,N,O){if(u==="%%")return"%";if(n[++i]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,V;switch(O){case"s":V=n[i];break;case"c":V=n[i][0];break;case"f":V=parseFloat(n[i]).toFixed(u);break;case"p":V=parseFloat(n[i]).toPrecision(u);break;case"e":V=parseFloat(n[i]).toExponential(u);break;case"x":V=parseInt(n[i]).toString(D||16);break;case"d":V=parseFloat(parseInt(n[i],D||10).toPrecision(u)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(D);let G=parseInt(m),K=m&&m[0]+""=="0"?"0":" ";for(;V.length<G;)V=h!==void 0?V+K:K+V;return V}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}format(e,...n){this.buffer+=Xr.form(e,n)}toString(){return this.buffer}}class _r{constructor(e){this.boundingBox=new Ci(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<_r.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(e)-i;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+i,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Xr;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}_r.MAX_NEARBY_DISTANCE=5;class ii{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,l]of this.values.entries()){const c={getKey:()=>i,getValue:()=>l};c.getValue()>e?(e=c.getValue(),n=[],n.push(c.getKey())):c.getValue()===e&&n.push(c.getKey())}return rt.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class el extends _r{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=-1,v=1,N=0;for(let O=u;O<h;O++){if(n[O]==null)continue;let D=n[O],V=D.getRowNumber()-m;if(V===0)N++;else if(V===1)v=Math.max(v,N),N=1,m=D.getRowNumber();else if(V<0||D.getRowNumber()>=e.getRowCount()||V>O)n[O]=null;else{let G;v>2?G=(v-2)*V:G=V;let K=G>=O;for(let $=1;$<=G&&!K;$++)K=n[O-$]!=null;K?n[O]=null:(m=D.getRowNumber(),N=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),m=-1;for(let v=c;v<u;v++){if(h[v]==null)continue;let N=h[v];N.setRowNumberAsRowIndicatorColumn();let O=N.getRowNumber()-m;O===0||(O===1?m=N.getRowNumber():N.getRowNumber()>=e.getRowCount()?h[v]=null:m=N.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new ii,i=new ii,l=new ii,c=new ii;for(let h of e){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let m=h.getValue()%30,v=h.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:i.setValue(m*3+1);break;case 1:c.setValue(m/3),l.setValue(m%3);break;case 2:n.setValue(m+1);break}}if(n.getValue().length===0||i.getValue().length===0||l.getValue().length===0||c.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<rt.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>rt.MAX_ROWS_IN_BARCODE)return null;let u=new Ss(n.getValue()[0],i.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(e,u),u}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let l=e[i];if(e[i]==null)continue;let c=l.getValue()%30,u=l.getRowNumber();if(u>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:c*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(c/3)!==n.getErrorCorrectionLevel()||c%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:c+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class bs{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=rt.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[i];c!=null&&(c.setRowNumber(e[i].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),c=0;for(let u=this.barcodeColumnCount+1;u>0&&c<this.ADJUST_ROW_NUMBER_SKIP;u--){let h=this.detectionResultColumns[u].getCodewords()[i];h!=null&&(c=bs.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),c=0;for(let u=1;u<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;u++){let h=this.detectionResultColumns[u].getCodewords()[i];h!=null&&(c=bs.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){if(!this.detectionResultColumns[e-1])return;let l=i[n],c=this.detectionResultColumns[e-1].getCodewords(),u=c;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());let h=new Array(14);h[2]=c[n],h[3]=u[n],n>0&&(h[0]=i[n-1],h[4]=c[n-1],h[5]=u[n-1]),n>1&&(h[8]=i[n-2],h[10]=c[n-2],h[11]=u[n-2]),n<i.length-1&&(h[1]=i[n+1],h[6]=c[n+1],h[7]=u[n+1]),n<i.length-2&&(h[9]=i[n+2],h[12]=c[n+2],h[13]=u[n+2]);for(let m of h)if(bs.adjustRowNumber(l,m))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Xr;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[i];if(c==null){n.format("    |   ");continue}n.format(" %3d|%3d",c.getRowNumber(),c.getValue())}n.format("%n")}return n.toString()}}class Ei{constructor(e,n,i,l){this.rowNumber=Ei.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ei.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ei.BARCODE_ROW_UNKNOWN=-1;class Rn{static initialize(){for(let e=0;e<rt.SYMBOL_TABLE.length;e++){let n=rt.SYMBOL_TABLE[e],i=n&1;for(let l=0;l<rt.BARS_IN_MODULE;l++){let c=0;for(;(n&1)===i;)c+=1,n>>=1;i=n&1,Rn.RATIOS_TABLE[e]||(Rn.RATIOS_TABLE[e]=new Array(rt.BARS_IN_MODULE)),Rn.RATIOS_TABLE[e][rt.BARS_IN_MODULE-l-1]=Math.fround(c/rt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=Rn.getDecodedCodewordValue(Rn.sampleBitCounts(e));return n!==-1?n:Rn.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=ft.sum(e),i=new Int32Array(rt.BARS_IN_MODULE),l=0,c=0;for(let u=0;u<rt.MODULES_IN_CODEWORD;u++){let h=n/(2*rt.MODULES_IN_CODEWORD)+u*n/rt.MODULES_IN_CODEWORD;c+e[l]<=h&&(c+=e[l],l++),i[l]++}return i}static getDecodedCodewordValue(e){let n=Rn.getBitValue(e);return rt.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let l=0;l<e[i];l++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=ft.sum(e),i=new Array(rt.BARS_IN_MODULE);if(n>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(e[u]/n);let l=$t.MAX_VALUE,c=-1;this.bSymbolTableReady||Rn.initialize();for(let u=0;u<Rn.RATIOS_TABLE.length;u++){let h=0,m=Rn.RATIOS_TABLE[u];for(let v=0;v<rt.BARS_IN_MODULE;v++){let N=Math.fround(m[v]-i[v]);if(h+=Math.fround(N*N),h>=l)break}h<l&&(l=h,c=rt.SYMBOL_TABLE[u])}return c}}Rn.bSymbolTableReady=!1,Rn.RATIOS_TABLE=new Array(rt.SYMBOL_TABLE.length).map(_=>new Array(rt.BARS_IN_MODULE));class no{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ho{static parseLong(e,n=void 0){return parseInt(e,n)}}class Yr extends E{}Yr.kind="NullPointerException";class Go{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new Yr;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new B;if(i===0)return;for(let l=0;l<i;l++)this.write(e[n+l])}flush(){}close(){}}class ro extends E{}class tl extends Go{constructor(e=32){if(super(),this.count=0,e<0)throw new T("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new ro;i=W.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new B;this.ensureCapacity(this.count+i),j.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ot;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ot||(Ot={}));function Is(){if(typeof window<"u")return window.BigInt||null;if(typeof Ql<"u")return Ql.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ts;function hn(_){if(typeof Ts>"u"&&(Ts=Is()),Ts===null)throw new Error("BigInt is not supported!");return Ts(_)}function Xi(){let _=[];_[0]=hn(1);let e=hn(900);_[1]=e;for(let n=2;n<16;n++)_[n]=_[n-1]*e;return _}class ae{static decode(e,n){let i=new Me(""),l=q.ISO8859_1;i.enableDecoding(l);let c=1,u=e[c++],h=new no;for(;c<e[0];){switch(u){case ae.TEXT_COMPACTION_MODE_LATCH:c=ae.textCompaction(e,c,i);break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:c=ae.byteCompaction(u,e,l,c,i);break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c++]);break;case ae.NUMERIC_COMPACTION_MODE_LATCH:c=ae.numericCompaction(e,c,i);break;case ae.ECI_CHARSET:q.getCharacterSetECIByValue(e[c++]);break;case ae.ECI_GENERAL_PURPOSE:c+=2;break;case ae.ECI_USER_DEFINED:c++;break;case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=ae.decodeMacroBlock(e,c,h);break;case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:throw new J;default:c--,c=ae.textCompaction(e,c,i);break}if(c<e.length)u=e[c++];else throw J.getFormatInstance()}if(i.length()===0)throw J.getFormatInstance();let m=new _e(null,i.toString(),null,n);return m.setOther(h),m}static decodeMacroBlock(e,n,i){if(n+ae.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw J.getFormatInstance();let l=new Int32Array(ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<ae.NUMBER_OF_SEQUENCE_CODEWORDS;h++,n++)l[h]=e[n];i.setSegmentIndex(W.parseInt(ae.decodeBase900toBase10(l,ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new Me;n=ae.textCompaction(e,n,c),i.setFileId(c.toString());let u=-1;for(e[n]===ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=n+1);n<e[0];)switch(e[n]){case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Me;n=ae.textCompaction(e,n+1,h),i.setFileName(h.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new Me;n=ae.textCompaction(e,n+1,m),i.setSender(m.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new Me;n=ae.textCompaction(e,n+1,v),i.setAddressee(v.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new Me;n=ae.numericCompaction(e,n+1,N),i.setSegmentCount(W.parseInt(N.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let O=new Me;n=ae.numericCompaction(e,n+1,O),i.setTimestamp(Ho.parseLong(O.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new Me;n=ae.numericCompaction(e,n+1,D),i.setChecksum(W.parseInt(D.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let V=new Me;n=ae.numericCompaction(e,n+1,V),i.setFileSize(Ho.parseLong(V.toString()));break;default:throw J.getFormatInstance()}break;case ae.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw J.getFormatInstance()}if(u!==-1){let h=n-u;i.isLastSegment()&&h--,i.setOptionalData(H.copyOfRange(e,u,u+h))}return n}static textCompaction(e,n,i){let l=new Int32Array((e[0]-n)*2),c=new Int32Array((e[0]-n)*2),u=0,h=!1;for(;n<e[0]&&!h;){let m=e[n++];if(m<ae.TEXT_COMPACTION_MODE_LATCH)l[u]=m/30,l[u+1]=m%30,u+=2;else switch(m){case ae.TEXT_COMPACTION_MODE_LATCH:l[u++]=ae.TEXT_COMPACTION_MODE_LATCH;break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:n--,h=!0;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=e[n++],c[u]=m,u++;break}}return ae.decodeTextCompaction(l,c,u,i),n}static decodeTextCompaction(e,n,i,l){let c=Ot.ALPHA,u=Ot.ALPHA,h=0;for(;h<i;){let m=e[h],v="";switch(c){case Ot.ALPHA:if(m<26)v=String.fromCharCode(65+m);else switch(m){case 26:v=" ";break;case ae.LL:c=Ot.LOWER;break;case ae.ML:c=Ot.MIXED;break;case ae.PS:u=c,c=Ot.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ot.ALPHA;break}break;case Ot.LOWER:if(m<26)v=String.fromCharCode(97+m);else switch(m){case 26:v=" ";break;case ae.AS:u=c,c=Ot.ALPHA_SHIFT;break;case ae.ML:c=Ot.MIXED;break;case ae.PS:u=c,c=Ot.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ot.ALPHA;break}break;case Ot.MIXED:if(m<ae.PL)v=ae.MIXED_CHARS[m];else switch(m){case ae.PL:c=Ot.PUNCT;break;case 26:v=" ";break;case ae.LL:c=Ot.LOWER;break;case ae.AL:c=Ot.ALPHA;break;case ae.PS:u=c,c=Ot.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ot.ALPHA;break}break;case Ot.PUNCT:if(m<ae.PAL)v=ae.PUNCT_CHARS[m];else switch(m){case ae.PAL:c=Ot.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ot.ALPHA;break}break;case Ot.ALPHA_SHIFT:if(c=u,m<26)v=String.fromCharCode(65+m);else switch(m){case 26:v=" ";break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ot.ALPHA;break}break;case Ot.PUNCT_SHIFT:if(c=u,m<ae.PAL)v=ae.PUNCT_CHARS[m];else switch(m){case ae.PAL:c=Ot.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ot.ALPHA;break}break}v!==""&&l.append(v),h++}}static byteCompaction(e,n,i,l,c){let u=new tl,h=0,m=0,v=!1;switch(e){case ae.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),O=n[l++];for(;l<n[0]&&!v;)switch(N[h++]=O,m=900*m+O,O=n[l++],O){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(h%5===0&&h>0){for(let D=0;D<6;++D)u.write(Number(hn(m)>>hn(8*(5-D))));m=0,h=0}break}l===n[0]&&O<ae.TEXT_COMPACTION_MODE_LATCH&&(N[h++]=O);for(let D=0;D<h;D++)u.write(N[D]);break;case ae.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!v;){let D=n[l++];if(D<ae.TEXT_COMPACTION_MODE_LATCH)h++,m=900*m+D;else switch(D){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(h%5===0&&h>0){for(let V=0;V<6;++V)u.write(Number(hn(m)>>hn(8*(5-V))));m=0,h=0}}break}return c.append(Xe.decode(u.toByteArray(),i)),l}static numericCompaction(e,n,i){let l=0,c=!1,u=new Int32Array(ae.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!c;){let h=e[n++];if(n===e[0]&&(c=!0),h<ae.TEXT_COMPACTION_MODE_LATCH)u[l]=h,l++;else switch(h){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:n--,c=!0;break}(l%ae.MAX_NUMERIC_CODEWORDS===0||h===ae.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(i.append(ae.decodeBase900toBase10(u,l)),l=0)}return n}static decodeBase900toBase10(e,n){let i=hn(0);for(let c=0;c<n;c++)i+=ae.EXP900[n-c-1]*hn(e[c]);let l=i.toString();if(l.charAt(0)!=="1")throw new J;return l.substring(1)}}ae.TEXT_COMPACTION_MODE_LATCH=900,ae.BYTE_COMPACTION_MODE_LATCH=901,ae.NUMERIC_COMPACTION_MODE_LATCH=902,ae.BYTE_COMPACTION_MODE_LATCH_6=924,ae.ECI_USER_DEFINED=925,ae.ECI_GENERAL_PURPOSE=926,ae.ECI_CHARSET=927,ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ae.MACRO_PDF417_TERMINATOR=922,ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ae.MAX_NUMERIC_CODEWORDS=15,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ae.PL=25,ae.LL=27,ae.AS=27,ae.ML=28,ae.AL=28,ae.PS=29,ae.PAL=29,ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ae.EXP900=Is()?Xi():[],ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class dt{constructor(){}static decode(e,n,i,l,c,u,h){let m=new Ci(e,n,i,l,c),v=null,N=null,O;for(let G=!0;;G=!1){if(n!=null&&(v=dt.getRowIndicatorColumn(e,m,n,!0,u,h)),l!=null&&(N=dt.getRowIndicatorColumn(e,m,l,!1,u,h)),O=dt.merge(v,N),O==null)throw ee.getNotFoundInstance();let K=O.getBoundingBox();if(G&&K!=null&&(K.getMinY()<m.getMinY()||K.getMaxY()>m.getMaxY()))m=K;else break}O.setBoundingBox(m);let D=O.getBarcodeColumnCount()+1;O.setDetectionResultColumn(0,v),O.setDetectionResultColumn(D,N);let V=v!=null;for(let G=1;G<=D;G++){let K=V?G:D-G;if(O.getDetectionResultColumn(K)!==void 0)continue;let $;K===0||K===D?$=new el(m,K===0):$=new _r(m),O.setDetectionResultColumn(K,$);let oe=-1,Ae=oe;for(let be=m.getMinY();be<=m.getMaxY();be++){if(oe=dt.getStartColumn(O,K,be,V),oe<0||oe>m.getMaxX()){if(Ae===-1)continue;oe=Ae}let me=dt.detectCodeword(e,m.getMinX(),m.getMaxX(),V,oe,be,u,h);me!=null&&($.setCodeword(be,me),Ae=oe,u=Math.min(u,me.getWidth()),h=Math.max(h,me.getWidth()))}}return dt.createDecoderResult(O)}static merge(e,n){if(e==null&&n==null)return null;let i=dt.getBarcodeMetadata(e,n);if(i==null)return null;let l=Ci.merge(dt.adjustBoundingBox(e),dt.adjustBoundingBox(n));return new bs(i,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=dt.getMax(n),l=0;for(let h of n)if(l+=i-h,h>0)break;let c=e.getCodewords();for(let h=0;l>0&&c[h]==null;h++)l--;let u=0;for(let h=n.length-1;h>=0&&(u+=i-n[h],!(n[h]>0));h--);for(let h=c.length-1;u>0&&c[h]==null;h--)u--;return e.getBoundingBox().addMissingRows(l,u,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,l,c,u){let h=new el(n,l);for(let m=0;m<2;m++){let v=m===0?1:-1,N=Math.trunc(Math.trunc(i.getX()));for(let O=Math.trunc(Math.trunc(i.getY()));O<=n.getMaxY()&&O>=n.getMinY();O+=v){let D=dt.detectCodeword(e,0,e.getWidth(),l,N,O,c,u);D!=null&&(h.setCodeword(O,D),l?N=D.getStartX():N=D.getEndX())}}return h}static adjustCodewordCount(e,n){let i=n[0][1],l=i.getValue(),c=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-dt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(c<1||c>rt.MAX_CODEWORDS_IN_BARCODE)throw ee.getNotFoundInstance();i.setValue(c)}else l[0]!==c&&i.setValue(c)}static createDecoderResult(e){let n=dt.createBarcodeMatrix(e);dt.adjustCodewordCount(e,n);let i=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),c=[],u=new Array;for(let m=0;m<e.getBarcodeRowCount();m++)for(let v=0;v<e.getBarcodeColumnCount();v++){let N=n[m][v+1].getValue(),O=m*e.getBarcodeColumnCount()+v;N.length===0?i.push(O):N.length===1?l[O]=N[0]:(u.push(O),c.push(N))}let h=new Array(c.length);for(let m=0;m<h.length;m++)h[m]=c[m];return dt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,rt.toIntArray(i),rt.toIntArray(u),h)}static createDecoderResultFromAmbiguousValues(e,n,i,l,c){let u=new Int32Array(l.length),h=100;for(;h-- >0;){for(let m=0;m<u.length;m++)n[l[m]]=c[m][u[m]];try{return dt.decodeCodewords(n,e,i)}catch(m){if(!(m instanceof k))throw m}if(u.length===0)throw k.getChecksumInstance();for(let m=0;m<u.length;m++)if(u[m]<c[m].length-1){u[m]++;break}else if(u[m]=0,m===u.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let c=0;c<n[l].length;c++)n[l][c]=new ii;let i=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let u=c.getRowNumber();if(u>=0){if(u>=n.length)continue;n[u][i].setValue(c.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,l){let c=l?1:-1,u=null;if(dt.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodeword(i)),u!=null)return l?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(i),u!=null)return l?u.getStartX():u.getEndX();if(dt.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodewordNearby(i)),u!=null)return l?u.getEndX():u.getStartX();let h=0;for(;dt.isValidBarcodeColumn(e,n-c);){n-=c;for(let m of e.getDetectionResultColumn(n).getCodewords())if(m!=null)return(l?m.getEndX():m.getStartX())+c*h*(m.getEndX()-m.getStartX());h++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,l,c,u,h,m){c=dt.adjustCodewordStartColumn(e,n,i,l,c,u);let v=dt.getModuleBitCount(e,n,i,l,c,u);if(v==null)return null;let N,O=ft.sum(v);if(l)N=c+O;else{for(let G=0;G<v.length/2;G++){let K=v[G];v[G]=v[v.length-1-G],v[v.length-1-G]=K}N=c,c=N-O}if(!dt.checkCodewordSkew(O,h,m))return null;let D=Rn.getDecodedValue(v),V=rt.getCodeword(D);return V===-1?null:new Ei(c,N,dt.getCodewordBucketNumber(D),V)}static getModuleBitCount(e,n,i,l,c,u){let h=c,m=new Int32Array(8),v=0,N=l?1:-1,O=l;for(;(l?h<i:h>=n)&&v<m.length;)e.get(h,u)===O?(m[v]++,h+=N):(v++,O=!O);return v===m.length||h===(l?i:n)&&v===m.length-1?m:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,l,c,u){let h=c,m=l?-1:1;for(let v=0;v<2;v++){for(;(l?h>=n:h<i)&&l===e.get(h,u);){if(Math.abs(c-h)>dt.CODEWORD_SKEW_SIZE)return c;h+=m}m=-m,l=!l}return h}static checkCodewordSkew(e,n,i){return n-dt.CODEWORD_SKEW_SIZE<=e&&e<=i+dt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw J.getFormatInstance();let l=1<<n+1,c=dt.correctErrors(e,i,l);dt.verifyCodewordCount(e,l);let u=ae.decode(e,""+n);return u.setErrorsCorrected(c),u.setErasures(i.length),u}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+dt.MAX_ERRORS||i<0||i>dt.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return dt.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw J.getFormatInstance();let i=e[0];if(i>e.length)throw J.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw J.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,l=n.length-1;for(;!((e&1)!==i&&(i=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return dt.getCodewordBucketNumber(dt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Xr;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let l=0;l<e[i].length;l++){let c=e[i][l];c.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}n.format("%n")}return n.toString()}}dt.CODEWORD_SKEW_SIZE=2,dt.MAX_ERRORS=3,dt.MAX_EC_CODEWORDS=512,dt.errorCorrection=new Wo;class _n{decode(e,n=null){let i=_n.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw ee.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return _n.decode(e,n,!0)}catch(i){throw i instanceof J||i instanceof k?ee.getNotFoundInstance():i}}static decode(e,n,i){const l=new Array,c=lt.detectMultiple(e,n,i);for(const u of c.getPoints()){const h=dt.decode(c.getBits(),u[4],u[5],u[6],u[7],_n.getMinCodewordWidth(u),_n.getMaxCodewordWidth(u)),m=new je(h.getText(),h.getRawBytes(),void 0,u,xe.PDF_417);m.putMetadata(Ce.ERROR_CORRECTION_LEVEL,h.getECLevel());const v=h.getOther();v!=null&&m.putMetadata(Ce.PDF417_EXTRA_METADATA,v),l.push(m)}return l.map(u=>u)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?W.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(_n.getMaxWidth(e[0],e[4]),_n.getMaxWidth(e[6],e[2])*rt.MODULES_IN_CODEWORD/rt.MODULES_IN_STOP_PATTERN),Math.max(_n.getMaxWidth(e[1],e[5]),_n.getMaxWidth(e[7],e[3])*rt.MODULES_IN_CODEWORD/rt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(_n.getMinWidth(e[0],e[4]),_n.getMinWidth(e[6],e[2])*rt.MODULES_IN_CODEWORD/rt.MODULES_IN_STOP_PATTERN),Math.min(_n.getMinWidth(e[1],e[5]),_n.getMinWidth(e[7],e[3])*rt.MODULES_IN_CODEWORD/rt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Yi extends E{}Yi.kind="ReaderException";class io{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!d(e)&&e.get(se.TRY_HARDER)===!0,i=d(e)?null:e.get(se.POSSIBLE_FORMATS),l=new Array;if(!d(i)){const c=i.some(u=>u===xe.UPC_A||u===xe.UPC_E||u===xe.EAN_13||u===xe.EAN_8||u===xe.CODABAR||u===xe.CODE_39||u===xe.CODE_93||u===xe.CODE_128||u===xe.ITF||u===xe.RSS_14||u===xe.RSS_EXPANDED);c&&!n&&l.push(new vi(e,this.verbose)),i.includes(xe.QR_CODE)&&l.push(new Un),i.includes(xe.DATA_MATRIX)&&l.push(new Cr),i.includes(xe.AZTEC)&&l.push(new It),i.includes(xe.PDF_417)&&l.push(new _n),c&&n&&l.push(new vi(e,this.verbose))}l.length===0&&(n||l.push(new vi(e,this.verbose)),l.push(new Un),l.push(new Cr),l.push(new It),l.push(new _n),n&&l.push(new vi(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Yi("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof Yi)continue}throw new ee("No MultiFormat Readers were able to detect the code.")}}class Ns extends ve{constructor(e=null,n=500){const i=new io;i.setHints(e),super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class so extends ve{constructor(e=500){super(new _n,e)}}class nl extends ve{constructor(e=500){super(new Un,e)}}var Xo;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})(Xo||(Xo={}));var wn=Xo;class Yo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Qe(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const l=this.field;for(let c=n.length;c<=e;c++){const u=i.multiply(new Qe(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));n.push(u),i=u}}return n[e]}encode(e,n){if(n===0)throw new T("No error correction bytes");const i=e.length-n;if(i<=0)throw new T("No data bytes provided");const l=this.buildGenerator(n),c=new Int32Array(i);j.arraycopy(e,0,c,0,i);let u=new Qe(this.field,c);u=u.multiplyByMonomial(n,1);const m=u.divide(l)[1].getCoefficients(),v=n-m.length;for(let N=0;N<v;N++)e[i+N]=0;j.arraycopy(m,0,e,i+v,m.length)}}class Yt{constructor(){}static applyMaskPenaltyRule1(e){return Yt.applyMaskPenaltyRule1Internal(e,!0)+Yt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c-1;u++){const h=i[u];for(let m=0;m<l-1;m++){const v=h[m];v===h[m+1]&&v===i[u+1][m]&&v===i[u+1][m+1]&&n++}}return Yt.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c;u++)for(let h=0;h<l;h++){const m=i[u];h+6<l&&m[h]===1&&m[h+1]===0&&m[h+2]===1&&m[h+3]===1&&m[h+4]===1&&m[h+5]===0&&m[h+6]===1&&(Yt.isWhiteHorizontal(m,h-4,h)||Yt.isWhiteHorizontal(m,h+7,h+11))&&n++,u+6<c&&i[u][h]===1&&i[u+1][h]===0&&i[u+2][h]===1&&i[u+3][h]===1&&i[u+4][h]===1&&i[u+5][h]===0&&i[u+6][h]===1&&(Yt.isWhiteVertical(i,h,u-4,u)||Yt.isWhiteVertical(i,h,u+7,u+11))&&n++}return n*Yt.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let l=n;l<i;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,i,l){i=Math.max(i,0),l=Math.min(l,e.length);for(let c=i;c<l;c++)if(e[c][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let m=0;m<c;m++){const v=i[m];for(let N=0;N<l;N++)v[N]===1&&n++}const u=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-u)*10/u)*Yt.N4}static getDataMaskBit(e,n,i){let l,c;switch(e){case 0:l=i+n&1;break;case 1:l=i&1;break;case 2:l=n%3;break;case 3:l=(i+n)%3;break;case 4:l=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:c=i*n,l=(c&1)+c%3;break;case 6:c=i*n,l=(c&1)+c%3&1;break;case 7:c=i*n,l=c%3+(i+n&1)&1;break;default:throw new T("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const l=n?e.getHeight():e.getWidth(),c=n?e.getWidth():e.getHeight(),u=e.getArray();for(let h=0;h<l;h++){let m=0,v=-1;for(let N=0;N<c;N++){const O=n?u[h][N]:u[N][h];O===v?m++:(m>=5&&(i+=Yt.N1+(m-5)),m=1,v=O)}m>=5&&(i+=Yt.N1+(m-5))}return i}}Yt.N1=3,Yt.N2=3,Yt.N3=40,Yt.N4=10;class oo{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let l=0;l!==n;l++)i[l]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)H.fill(n,e)}equals(e){if(!(e instanceof oo))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,l=this.height;i<l;++i){const c=this.bytes[i],u=n.bytes[i];for(let h=0,m=this.width;h<m;++h)if(c[h]!==u[h])return!1}return!0}toString(){const e=new Me;for(let n=0,i=this.height;n<i;++n){const l=this.bytes[n];for(let c=0,u=this.width;c<u;++c)switch(l[c]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Ai{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Me;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ai.NUM_MASK_PATTERNS}}Ai.NUM_MASK_PATTERNS=8;class Ut extends E{}Ut.kind="WriterException";class et{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,l,c){et.clearMatrix(c),et.embedBasicPatterns(i,c),et.embedTypeInfo(n,l,c),et.maybeEmbedVersionInfo(i,c),et.embedDataBits(e,l,c)}static embedBasicPatterns(e,n){et.embedPositionDetectionPatternsAndSeparators(n),et.embedDarkDotAtLeftBottomCorner(n),et.maybeEmbedPositionAdjustmentPatterns(e,n),et.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const l=new Q;et.makeTypeInfoBits(e,n,l);for(let c=0,u=l.getSize();c<u;++c){const h=l.get(l.getSize()-1-c),m=et.TYPE_INFO_COORDINATES[c],v=m[0],N=m[1];if(i.setBoolean(v,N,h),c<8){const O=i.getWidth()-c-1;i.setBoolean(O,8,h)}else{const D=i.getHeight()-7+(c-8);i.setBoolean(8,D,h)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new Q;et.makeVersionInfoBits(e,i);let l=6*3-1;for(let c=0;c<6;++c)for(let u=0;u<3;++u){const h=i.get(l);l--,n.setBoolean(c,n.getHeight()-11+u,h),n.setBoolean(n.getHeight()-11+u,c,h)}}static embedDataBits(e,n,i){let l=0,c=-1,u=i.getWidth()-1,h=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);h>=0&&h<i.getHeight();){for(let m=0;m<2;++m){const v=u-m;if(!et.isEmpty(i.get(v,h)))continue;let N;l<e.getSize()?(N=e.get(l),++l):N=!1,n!==255&&Yt.getDataMaskBit(n,v,h)&&(N=!N),i.setBoolean(v,h,N)}h+=c}c=-c,h+=c,u-=2}if(l!==e.getSize())throw new Ut("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-W.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new T("0 polynomial");const i=et.findMSBSet(n);for(e<<=i-1;et.findMSBSet(e)>=i;)e^=n<<et.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!Ai.isValidMaskPattern(n))throw new Ut("Invalid mask pattern");const l=e.getBits()<<3|n;i.appendBits(l,5);const c=et.calculateBCHCode(l,et.TYPE_INFO_POLY);i.appendBits(c,10);const u=new Q;if(u.appendBits(et.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new Ut("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=et.calculateBCHCode(e.getVersionNumber(),et.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new Ut("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;et.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),et.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ut;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let l=0;l<8;++l){if(!et.isEmpty(i.get(e+l,n)))throw new Ut;i.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let l=0;l<7;++l){if(!et.isEmpty(i.get(e,n+l)))throw new Ut;i.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let l=0;l<5;++l){const c=et.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)i.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPattern(e,n,i){for(let l=0;l<7;++l){const c=et.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)i.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPatternsAndSeparators(e){const n=et.POSITION_DETECTION_PATTERN[0].length;et.embedPositionDetectionPattern(0,0,e),et.embedPositionDetectionPattern(e.getWidth()-n,0,e),et.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;et.embedHorizontalSeparationPattern(0,i-1,e),et.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),et.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const l=7;et.embedVerticalSeparationPattern(l,0,e),et.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),et.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,l=et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let c=0,u=l.length;c!==u;c++){const h=l[c];if(h>=0)for(let m=0;m!==u;m++){const v=l[m];v>=0&&et.isEmpty(n.get(v,h))&&et.embedPositionAdjustmentPattern(v-2,h-2,n)}}}}et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),et.VERSION_INFO_POLY=7973,et.TYPE_INFO_POLY=1335,et.TYPE_INFO_MASK_PATTERN=21522;class Bc{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Wt{constructor(){}static calculateMaskPenalty(e){return Yt.applyMaskPenaltyRule1(e)+Yt.applyMaskPenaltyRule2(e)+Yt.applyMaskPenaltyRule3(e)+Yt.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let l=Wt.DEFAULT_BYTE_MODE_ENCODING;const c=i!==null&&i.get(wn.CHARACTER_SET)!==void 0;c&&(l=i.get(wn.CHARACTER_SET).toString());const u=this.chooseMode(e,l),h=new Q;if(u===Ke.BYTE&&(c||Wt.DEFAULT_BYTE_MODE_ENCODING!==l)){const be=q.getCharacterSetECIByName(l);be!==void 0&&this.appendECI(be,h)}this.appendModeInfo(u,h);const m=new Q;this.appendBytes(e,u,m,l);let v;if(i!==null&&i.get(wn.QR_VERSION)!==void 0){const be=Number.parseInt(i.get(wn.QR_VERSION).toString(),10);v=Ye.getVersionForNumber(be);const me=this.calculateBitsNeeded(u,h,m,v);if(!this.willFit(me,v,n))throw new Ut("Data too big for requested version")}else v=this.recommendVersion(n,u,h,m);const N=new Q;N.appendBitArray(h);const O=u===Ke.BYTE?m.getSizeInBytes():e.length;this.appendLengthInfo(O,v,u,N),N.appendBitArray(m);const D=v.getECBlocksForLevel(n),V=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(V,N);const G=this.interleaveWithECBytes(N,v.getTotalCodewords(),V,D.getNumBlocks()),K=new Ai;K.setECLevel(n),K.setMode(u),K.setVersion(v);const $=v.getDimensionForVersion(),oe=new oo($,$),Ae=this.chooseMaskPattern(G,n,v,oe);return K.setMaskPattern(Ae),et.buildMatrix(G,n,v,Ae,oe),K.setMatrix(oe),K}static recommendVersion(e,n,i,l){const c=this.calculateBitsNeeded(n,i,l,Ye.getVersionForNumber(1)),u=this.chooseVersion(c,e),h=this.calculateBitsNeeded(n,i,l,u);return this.chooseVersion(h,e)}static calculateBitsNeeded(e,n,i,l){return n.getSize()+e.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(e){return e<Wt.ALPHANUMERIC_TABLE.length?Wt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(q.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Ke.KANJI;let i=!1,l=!1;for(let c=0,u=e.length;c<u;++c){const h=e.charAt(c);if(Wt.isDigit(h))i=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return Ke.BYTE}return l?Ke.ALPHANUMERIC:i?Ke.NUMERIC:Ke.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=Xe.encode(e,q.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const c=n[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(e,n,i,l){let c=Number.MAX_SAFE_INTEGER,u=-1;for(let h=0;h<Ai.NUM_MASK_PATTERNS;h++){et.buildMatrix(e,n,i,h,l);let m=this.calculateMaskPenalty(l);m<c&&(c=m,u=h)}return u}static chooseVersion(e,n){for(let i=1;i<=40;i++){const l=Ye.getVersionForNumber(i);if(Wt.willFit(e,l,n))return l}throw new Ut("Data too big")}static willFit(e,n,i){const l=n.getTotalCodewords(),u=n.getECBlocksForLevel(i).getTotalECCodewords(),h=l-u,m=(e+7)/8;return h>=m}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new Ut("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let u=0;u<4&&n.getSize()<i;++u)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let u=l;u<8;u++)n.appendBit(!1);const c=e-n.getSizeInBytes();for(let u=0;u<c;++u)n.appendBits(u&1?17:236,8);if(n.getSize()!==i)throw new Ut("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,l,c,u){if(l>=i)throw new Ut("Block ID too large");const h=e%i,m=i-h,v=Math.floor(e/i),N=v+1,O=Math.floor(n/i),D=O+1,V=v-O,G=N-D;if(V!==G)throw new Ut("EC bytes mismatch");if(i!==m+h)throw new Ut("RS blocks mismatch");if(e!==(O+V)*m+(D+G)*h)throw new Ut("Total bytes mismatch");l<m?(c[0]=O,u[0]=V):(c[0]=D,u[0]=G)}static interleaveWithECBytes(e,n,i,l){if(e.getSizeInBytes()!==i)throw new Ut("Number of bits and data bytes does not match");let c=0,u=0,h=0;const m=new Array;for(let N=0;N<l;++N){const O=new Int32Array(1),D=new Int32Array(1);Wt.getNumDataBytesAndNumECBytesForBlockID(n,i,l,N,O,D);const V=O[0],G=new Uint8Array(V);e.toBytes(8*c,G,0,V);const K=Wt.generateECBytes(G,D[0]);m.push(new Bc(G,K)),u=Math.max(u,V),h=Math.max(h,K.length),c+=O[0]}if(i!==c)throw new Ut("Data bytes does not match offset");const v=new Q;for(let N=0;N<u;++N)for(const O of m){const D=O.getDataBytes();N<D.length&&v.appendBits(D[N],8)}for(let N=0;N<h;++N)for(const O of m){const D=O.getErrorCorrectionBytes();N<D.length&&v.appendBits(D[N],8)}if(n!==v.getSizeInBytes())throw new Ut("Interleaving error: "+n+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(e,n){const i=e.length,l=new Int32Array(i+n);for(let u=0;u<i;u++)l[u]=e[u]&255;new Yo(Ue.QR_CODE_FIELD_256).encode(l,n);const c=new Uint8Array(n);for(let u=0;u<n;u++)c[u]=l[i+u];return c}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,l){const c=i.getCharacterCountBits(n);if(e>=1<<c)throw new Ut(e+" is bigger than "+((1<<c)-1));l.appendBits(e,c)}static appendBytes(e,n,i,l){switch(n){case Ke.NUMERIC:Wt.appendNumericBytes(e,i);break;case Ke.ALPHANUMERIC:Wt.appendAlphanumericBytes(e,i);break;case Ke.BYTE:Wt.append8BitBytes(e,i,l);break;case Ke.KANJI:Wt.appendKanjiBytes(e,i);break;default:throw new Ut("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Wt.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const c=Wt.getDigit(e.charAt(l));if(l+2<i){const u=Wt.getDigit(e.charAt(l+1)),h=Wt.getDigit(e.charAt(l+2));n.appendBits(c*100+u*10+h,10),l+=3}else if(l+1<i){const u=Wt.getDigit(e.charAt(l+1));n.appendBits(c*10+u,7),l+=2}else n.appendBits(c,4),l++}}static appendAlphanumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const c=Wt.getAlphanumericCode(e.charCodeAt(l));if(c===-1)throw new Ut;if(l+1<i){const u=Wt.getAlphanumericCode(e.charCodeAt(l+1));if(u===-1)throw new Ut;n.appendBits(c*45+u,11),l+=2}else n.appendBits(c,6),l++}}static append8BitBytes(e,n,i){let l;try{l=Xe.encode(e,i)}catch(c){throw new Ut(c)}for(let c=0,u=l.length;c!==u;c++){const h=l[c];n.appendBits(h,8)}}static appendKanjiBytes(e,n){let i;try{i=Xe.encode(e,q.SJIS)}catch(c){throw new Ut(c)}const l=i.length;for(let c=0;c<l;c+=2){const u=i[c]&255,h=i[c+1]&255,m=u<<8&4294967295|h;let v=-1;if(m>=33088&&m<=40956?v=m-33088:m>=57408&&m<=60351&&(v=m-49472),v===-1)throw new Ut("Invalid byte sequence");const N=(v>>8)*192+(v&255);n.appendBits(N,13)}}static appendECI(e,n){n.appendBits(Ke.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Wt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Wt.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class Si{write(e,n,i,l=null){if(e.length===0)throw new T("Found empty contents");if(n<0||i<0)throw new T("Requested dimensions are too small: "+n+"x"+i);let c=Vt.L,u=Si.QUIET_ZONE_SIZE;l!==null&&(l.get(wn.ERROR_CORRECTION)!==void 0&&(c=Vt.fromString(l.get(wn.ERROR_CORRECTION).toString())),l.get(wn.MARGIN)!==void 0&&(u=Number.parseInt(l.get(wn.MARGIN).toString(),10)));const h=Wt.encode(e,c,l);return this.renderResult(h,n,i,u)}writeToDom(e,n,i,l,c=null){typeof e=="string"&&(e=document.querySelector(e));const u=this.write(n,i,l,c);e&&e.appendChild(u)}renderResult(e,n,i,l){const c=e.getMatrix();if(c===null)throw new Rt;const u=c.getWidth(),h=c.getHeight(),m=u+l*2,v=h+l*2,N=Math.max(n,m),O=Math.max(i,v),D=Math.min(Math.floor(N/m),Math.floor(O/v)),V=Math.floor((N-u*D)/2),G=Math.floor((O-h*D)/2),K=this.createSVGElement(N,O);for(let $=0,oe=G;$<h;$++,oe+=D)for(let Ae=0,be=V;Ae<u;Ae++,be+=D)if(c.get(Ae,$)===1){const me=this.createSvgRectElement(be,oe,D,D);K.appendChild(me)}return K}createSVGElement(e,n){const i=document.createElementNS(Si.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,l){const c=document.createElementNS(Si.SVG_NS,"rect");return c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",l.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Si.QUIET_ZONE_SIZE=4,Si.SVG_NS="http://www.w3.org/2000/svg";class Ki{encode(e,n,i,l,c){if(e.length===0)throw new T("Found empty contents");if(n!==xe.QR_CODE)throw new T("Can only encode QR_CODE, but got "+n);if(i<0||l<0)throw new T(`Requested dimensions are too small: ${i}x${l}`);let u=Vt.L,h=Ki.QUIET_ZONE_SIZE;c!==null&&(c.get(wn.ERROR_CORRECTION)!==void 0&&(u=Vt.fromString(c.get(wn.ERROR_CORRECTION).toString())),c.get(wn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(wn.MARGIN).toString(),10)));const m=Wt.encode(e,u,c);return Ki.renderResult(m,i,l,h)}static renderResult(e,n,i,l){const c=e.getMatrix();if(c===null)throw new Rt;const u=c.getWidth(),h=c.getHeight(),m=u+l*2,v=h+l*2,N=Math.max(n,m),O=Math.max(i,v),D=Math.min(Math.floor(N/m),Math.floor(O/v)),V=Math.floor((N-u*D)/2),G=Math.floor((O-h*D)/2),K=new Fe(N,O);for(let $=0,oe=G;$<h;$++,oe+=D)for(let Ae=0,be=V;Ae<u;Ae++,be+=D)c.get(Ae,$)===1&&K.setRegion(be,oe,D,D);return K}}Ki.QUIET_ZONE_SIZE=4;class Fc{encode(e,n,i,l,c){let u;switch(n){case xe.QR_CODE:u=new Ki;break;default:throw new T("No encoder available for format "+n)}return u.encode(e,n,i,l,c)}}class Or extends de{constructor(e,n,i,l,c,u,h,m){if(super(u,h),this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=l,this.top=c,l+u>n||c+h>i)throw new T("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(u,h)}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.yuvData,c,l,0,i),l;for(let u=0;u<n;u++){const h=u*e;j.arraycopy(this.yuvData,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new Or(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,l,!1)}renderThumbnail(){const e=this.getWidth()/Or.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/Or.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),l=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let u=0;u<n;u++){const h=u*e;for(let m=0;m<e;m++){const v=l[c+m*Or.THUMBNAIL_SCALE_FACTOR]&255;i[h+m]=4278190080|v*65793}c+=this.dataWidth*Or.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Or.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Or.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let l=0,c=this.top*this.dataWidth+this.left;l<n;l++,c+=this.dataWidth){const u=c+e/2;for(let h=c,m=c+e-1;h<u;h++,m--){const v=i[h];i[h]=i[m],i[m]=v}}}invert(){return new Re(this)}}Or.THUMBNAIL_SCALE_FACTOR=2;class Rs extends de{constructor(e,n,i,l,c,u,h){if(super(n,i),this.dataWidth=l,this.dataHeight=c,this.left=u,this.top=h,e.BYTES_PER_ELEMENT===4){const m=n*i,v=new Uint8ClampedArray(m);for(let N=0;N<m;N++){const O=e[N],D=O>>16&255,V=O>>7&510,G=O&255;v[N]=(D+V+G)/4&255}this.luminances=v}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),c===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return j.arraycopy(this.luminances,c,l,0,i),l;for(let u=0;u<n;u++){const h=u*e;j.arraycopy(this.luminances,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new Rs(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new Re(this)}}class rl extends q{static forName(e){return this.getCharacterSetECIByName(e)}}class Ko{}Ko.ISO_8859_1=q.ISO8859_1;class il{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Zo{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class jc{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Zi extends jc{constructor(e,n,i){super(e),this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Zi(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Zi(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+W.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class $o extends Zi{constructor(e,n,i){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new $o(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Vc(_,e,n){return new $o(_,e,n)}function _s(_,e,n){return new Zi(_,e,n)}const Uc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],si=0,$i=1,Ln=2,sl=3,Ar=4,ol=new Zi(null,0,0),ao=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function al(_){for(let e of _)H.fill(e,-1);return _[si][Ar]=0,_[$i][Ar]=0,_[$i][si]=28,_[sl][Ar]=0,_[Ln][Ar]=0,_[Ln][si]=15,_}const qo=al(H.createInt32Array(6,6));class zn{constructor(e,n,i,l){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,l=this.token;if(e!==this.mode){let u=ao[this.mode][e];l=_s(l,u&65535,u>>16),i+=u>>16}let c=e===Ln?4:5;return l=_s(l,n,c),new zn(l,e,0,i+c)}shiftAndAppend(e,n){let i=this.token,l=this.mode===Ln?4:5;return i=_s(i,qo[this.mode][e],l),i=_s(i,n,5),new zn(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,l=this.bitCount;if(this.mode===Ar||this.mode===Ln){let h=ao[i][si];n=_s(n,h&65535,h>>16),l+=h>>16,i=si}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new zn(n,i,this.binaryShiftByteCount+1,l+c);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=Vc(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new zn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(ao[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=zn.calculateBinaryShiftCost(e)-zn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let i=new Q;for(const l of n)l.appendTo(i,e);return i}toString(){return Ie.format("%s bits=%d bytes=%d",Uc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}zn.INITIAL_STATE=new zn(ol,si,0,0);function zc(_){const e=Ie.getCharCode(" "),n=Ie.getCharCode("."),i=Ie.getCharCode(",");_[si][e]=1;const l=Ie.getCharCode("Z"),c=Ie.getCharCode("A");for(let D=c;D<=l;D++)_[si][D]=D-c+2;_[$i][e]=1;const u=Ie.getCharCode("z"),h=Ie.getCharCode("a");for(let D=h;D<=u;D++)_[$i][D]=D-h+2;_[Ln][e]=1;const m=Ie.getCharCode("9"),v=Ie.getCharCode("0");for(let D=v;D<=m;D++)_[Ln][D]=D-v+2;_[Ln][i]=12,_[Ln][n]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<N.length;D++)_[sl][Ie.getCharCode(N[D])]=D;const O=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<O.length;D++)Ie.getCharCode(O[D])>0&&(_[Ar][Ie.getCharCode(O[D])]=D);return _}const Qo=zc(H.createInt32Array(5,256));class Os{constructor(e){this.text=e}encode(){const e=Ie.getCharCode(" "),n=Ie.getCharCode(`
`);let i=Zo.singletonList(zn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let u,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case Ie.getCharCode("\r"):u=h===n?2:0;break;case Ie.getCharCode("."):u=h===e?3:0;break;case Ie.getCharCode(","):u=h===e?4:0;break;case Ie.getCharCode(":"):u=h===e?5:0;break;default:u=0}u>0?(i=Os.updateStateListForPair(i,c,u),c++):i=this.updateStateListForChar(i,c)}return Zo.min(i,(c,u)=>c.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let l of e)this.updateStateForChar(l,n,i);return Os.simplifyStates(i)}updateStateForChar(e,n,i){let l=this.text[n]&255,c=Qo[e.getMode()][l]>0,u=null;for(let h=0;h<=Ar;h++){let m=Qo[h][l];if(m>0){if(u==null&&(u=e.endBinaryShift(n)),!c||h===e.getMode()||h===Ln){const v=u.latchAndAppend(h,m);i.push(v)}if(!c&&qo[e.getMode()][h]>=0){const v=u.shiftAndAppend(h,m);i.push(v)}}}if(e.getBinaryShiftByteCount()>0||Qo[e.getMode()][l]===0){let h=e.addBinaryShiftChar(n);i.push(h)}}static updateStateListForPair(e,n,i){const l=[];for(let c of e)this.updateStateForPair(c,n,i,l);return this.simplifyStates(l)}static updateStateForPair(e,n,i,l){let c=e.endBinaryShift(n);if(l.push(c.latchAndAppend(Ar,i)),e.getMode()!==Ar&&l.push(c.shiftAndAppend(Ar,i)),i===3||i===4){let u=c.latchAndAppend(Ln,16-i).latchAndAppend(Ln,1);l.push(u)}if(e.getBinaryShiftByteCount()>0){let u=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(u)}}static simplifyStates(e){let n=[];for(const i of e){let l=!0;for(const c of n){if(c.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(c)&&(n=n.filter(u=>u!==c))}l&&n.push(i)}return n}}class Tt{constructor(){}static encodeBytes(e){return Tt.encode(e,Tt.DEFAULT_EC_PERCENT,Tt.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let l=new Os(e).encode(),c=W.truncDivision(l.getSize()*n,100)+11,u=l.getSize()+c,h,m,v,N,O;if(i!==Tt.DEFAULT_AZTEC_LAYERS){if(h=i<0,m=Math.abs(i),m>(h?Tt.MAX_NB_BITS_COMPACT:Tt.MAX_NB_BITS))throw new T(Ie.format("Illegal value %s for layers",i));v=Tt.totalBitsInLayer(m,h),N=Tt.WORD_SIZE[m];let me=v-v%N;if(O=Tt.stuffBits(l,N),O.getSize()+c>me)throw new T("Data to large for user specified layer");if(h&&O.getSize()>N*64)throw new T("Data to large for user specified layer")}else{N=0,O=null;for(let me=0;;me++){if(me>Tt.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(h=me<=3,m=h?me+1:me,v=Tt.totalBitsInLayer(m,h),u>v)continue;(O==null||N!==Tt.WORD_SIZE[m])&&(N=Tt.WORD_SIZE[m],O=Tt.stuffBits(l,N));let wt=v-v%N;if(!(h&&O.getSize()>N*64)&&O.getSize()+c<=wt)break}}let D=Tt.generateCheckWords(O,v,N),V=O.getSize()/N,G=Tt.generateModeMessage(h,m,V),K=(h?11:14)+m*4,$=new Int32Array(K),oe;if(h){oe=K;for(let me=0;me<$.length;me++)$[me]=me}else{oe=K+1+2*W.truncDivision(W.truncDivision(K,2)-1,15);let me=W.truncDivision(K,2),wt=W.truncDivision(oe,2);for(let ct=0;ct<me;ct++){let Qn=ct+W.truncDivision(ct,15);$[me-ct-1]=wt-Qn-1,$[me+ct]=wt+Qn+1}}let Ae=new Fe(oe);for(let me=0,wt=0;me<m;me++){let ct=(m-me)*4+(h?9:12);for(let Qn=0;Qn<ct;Qn++){let Sr=Qn*2;for(let vn=0;vn<2;vn++)D.get(wt+Sr+vn)&&Ae.set($[me*2+vn],$[me*2+Qn]),D.get(wt+ct*2+Sr+vn)&&Ae.set($[me*2+Qn],$[K-1-me*2-vn]),D.get(wt+ct*4+Sr+vn)&&Ae.set($[K-1-me*2-vn],$[K-1-me*2-Qn]),D.get(wt+ct*6+Sr+vn)&&Ae.set($[K-1-me*2-Qn],$[me*2+vn])}wt+=ct*8}if(Tt.drawModeMessage(Ae,h,oe,G),h)Tt.drawBullsEye(Ae,W.truncDivision(oe,2),5);else{Tt.drawBullsEye(Ae,W.truncDivision(oe,2),7);for(let me=0,wt=0;me<W.truncDivision(K,2)-1;me+=15,wt+=16)for(let ct=W.truncDivision(oe,2)&1;ct<oe;ct+=2)Ae.set(W.truncDivision(oe,2)-wt,ct),Ae.set(W.truncDivision(oe,2)+wt,ct),Ae.set(ct,W.truncDivision(oe,2)-wt),Ae.set(ct,W.truncDivision(oe,2)+wt)}let be=new il;return be.setCompact(h),be.setSize(oe),be.setLayers(m),be.setCodeWords(V),be.setMatrix(Ae),be}static drawBullsEye(e,n,i){for(let l=0;l<i;l+=2)for(let c=n-l;c<=n+l;c++)e.set(c,n-l),e.set(c,n+l),e.set(n-l,c),e.set(n+l,c);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let l=new Q;return e?(l.appendBits(n-1,2),l.appendBits(i-1,6),l=Tt.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(i-1,11),l=Tt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,i,l){let c=W.truncDivision(i,2);if(n)for(let u=0;u<7;u++){let h=c-3+u;l.get(u)&&e.set(h,c-5),l.get(u+7)&&e.set(c+5,h),l.get(20-u)&&e.set(h,c+5),l.get(27-u)&&e.set(c-5,h)}else for(let u=0;u<10;u++){let h=c-5+u+W.truncDivision(u,5);l.get(u)&&e.set(h,c-7),l.get(u+10)&&e.set(c+7,h),l.get(29-u)&&e.set(h,c+7),l.get(39-u)&&e.set(c-7,h)}}static generateCheckWords(e,n,i){let l=e.getSize()/i,c=new Yo(Tt.getGF(i)),u=W.truncDivision(n,i),h=Tt.bitsToWords(e,i,u);c.encode(h,u-l);let m=n%i,v=new Q;v.appendBits(0,m);for(const N of Array.from(h))v.appendBits(N,i);return v}static bitsToWords(e,n,i){let l=new Int32Array(i),c,u;for(c=0,u=e.getSize()/n;c<u;c++){let h=0;for(let m=0;m<n;m++)h|=e.get(c*n+m)?1<<n-m-1:0;l[c]=h}return l}static getGF(e){switch(e){case 4:return Ue.AZTEC_PARAM;case 6:return Ue.AZTEC_DATA_6;case 8:return Ue.AZTEC_DATA_8;case 10:return Ue.AZTEC_DATA_10;case 12:return Ue.AZTEC_DATA_12;default:throw new T("Unsupported word size "+e)}}static stuffBits(e,n){let i=new Q,l=e.getSize(),c=(1<<n)-2;for(let u=0;u<l;u+=n){let h=0;for(let m=0;m<n;m++)(u+m>=l||e.get(u+m))&&(h|=1<<n-1-m);(h&c)===c?(i.appendBits(h&c,n),u--):h&c?i.appendBits(h,n):(i.appendBits(h|1,n),u--)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}Tt.DEFAULT_EC_PERCENT=33,Tt.DEFAULT_AZTEC_LAYERS=0,Tt.MAX_NB_BITS=32,Tt.MAX_NB_BITS_COMPACT=4,Tt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ps{encode(e,n,i,l){return this.encodeWithHints(e,n,i,l,null)}encodeWithHints(e,n,i,l,c){let u=Ko.ISO_8859_1,h=Tt.DEFAULT_EC_PERCENT,m=Tt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(wn.CHARACTER_SET)&&(u=rl.forName(c.get(wn.CHARACTER_SET).toString())),c.has(wn.ERROR_CORRECTION)&&(h=W.parseInt(c.get(wn.ERROR_CORRECTION).toString())),c.has(wn.AZTEC_LAYERS)&&(m=W.parseInt(c.get(wn.AZTEC_LAYERS).toString()))),Ps.encodeLayers(e,n,i,l,u,h,m)}static encodeLayers(e,n,i,l,c,u,h){if(n!==xe.AZTEC)throw new T("Can only encode AZTEC, but got "+n);let m=Tt.encode(Ie.getBytes(e,c),u,h);return Ps.renderResult(m,i,l)}static renderResult(e,n,i){let l=e.getMatrix();if(l==null)throw new Rt;let c=l.getWidth(),u=l.getHeight(),h=Math.max(n,c),m=Math.max(i,u),v=Math.min(h/c,m/u),N=(h-c*v)/2,O=(m-u*v)/2,D=new Fe(h,m);for(let V=0,G=O;V<u;V++,G+=v)for(let K=0,$=N;K<c;K++,$+=v)l.get(K,V)&&D.setRegion($,G,v,v);return D}}a.AbstractExpandedDecoder=zi,a.ArgumentException=S,a.ArithmeticException=ut,a.AztecCode=il,a.AztecCodeReader=It,a.AztecCodeWriter=Ps,a.AztecDecoder=bt,a.AztecDetector=Mt,a.AztecDetectorResult=ze,a.AztecEncoder=Tt,a.AztecHighLevelEncoder=Os,a.AztecPoint=vt,a.BarcodeFormat=xe,a.Binarizer=L,a.BinaryBitmap=R,a.BitArray=Q,a.BitMatrix=Fe,a.BitSource=Vo,a.BrowserAztecCodeReader=Sn,a.BrowserBarcodeReader=As,a.BrowserCodeReader=ve,a.BrowserDatamatrixCodeReader=Lc,a.BrowserMultiFormatReader=Ns,a.BrowserPDF417Reader=so,a.BrowserQRCodeReader=nl,a.BrowserQRCodeSvgWriter=Si,a.CharacterSetECI=q,a.ChecksumException=k,a.Code128Reader=Se,a.Code39Reader=_t,a.DataMatrixDecodedBitStreamParser=vr,a.DataMatrixReader=Cr,a.DecodeHintType=se,a.DecoderResult=_e,a.DefaultGridSampler=qt,a.DetectorResult=rn,a.EAN13Reader=Kn,a.EncodeHintType=wn,a.Exception=E,a.FormatException=J,a.GenericGF=Ue,a.GenericGFPoly=Qe,a.GlobalHistogramBinarizer=Oe,a.GridSampler=Je,a.GridSamplerInstance=mt,a.HTMLCanvasElementLuminanceSource=fe,a.HybridBinarizer=pe,a.ITFReader=Dt,a.IllegalArgumentException=T,a.IllegalStateException=Rt,a.InvertedLuminanceSource=Re,a.LuminanceSource=de,a.MathUtils=ft,a.MultiFormatOneDReader=vi,a.MultiFormatReader=io,a.MultiFormatWriter=Fc,a.NotFoundException=ee,a.OneDReader=jt,a.PDF417DecodedBitStreamParser=ae,a.PDF417DecoderErrorCorrection=Wo,a.PDF417Reader=_n,a.PDF417ResultMetadata=no,a.PerspectiveTransform=Ze,a.PlanarYUVLuminanceSource=Or,a.QRCodeByteMatrix=oo,a.QRCodeDataMask=gt,a.QRCodeDecodedBitStreamParser=Xt,a.QRCodeDecoderErrorCorrectionLevel=Vt,a.QRCodeDecoderFormatInformation=Tn,a.QRCodeEncoder=Wt,a.QRCodeEncoderQRCode=Ai,a.QRCodeMaskUtil=Yt,a.QRCodeMatrixUtil=et,a.QRCodeMode=Ke,a.QRCodeReader=Un,a.QRCodeVersion=Ye,a.QRCodeWriter=Ki,a.RGBLuminanceSource=Rs,a.RSS14Reader=Nt,a.RSSExpandedReader=he,a.ReaderException=Yi,a.ReedSolomonDecoder=fn,a.ReedSolomonEncoder=Yo,a.ReedSolomonException=Ht,a.Result=je,a.ResultMetadataType=Ce,a.ResultPoint=Pe,a.StringUtils=Ie,a.UnsupportedOperationException=Ne,a.VideoInputDevice=Y,a.WhiteRectangleDetector=we,a.WriterException=Ut,a.ZXingArrays=H,a.ZXingCharset=rl,a.ZXingInteger=W,a.ZXingStandardCharsets=Ko,a.ZXingStringBuilder=Me,a.ZXingStringEncoding=Xe,a.ZXingSystem=j,a.createAbstractExpandedDecoder=Vn,Object.defineProperty(a,"__esModule",{value:!0})})}(ba,ba.exports)),ba.exports}Xy();var ad=function(){var r=function(o,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])},r(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),ig=function(){function r(o,a){this.name=o,this.track=a}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(o){var a={};a[this.name]=o;var d={advanced:[a]};return this.track.applyConstraints(d)},r.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var a=o[this.name];return a}return null},r}(),Yy=function(r){ad(o,r);function o(a,d){return r.call(this,a,d)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(a){var d={};d[this.name]=a;var p={advanced:[d]};return this.track.applyConstraints(p)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),d=a[this.name];return{min:d.min,max:d.max,step:d.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o}(ig);(function(r){ad(o,r);function o(a){return r.call(this,"zoom",a)||this}return o})(Yy);(function(r){ad(o,r);function o(a){return r.call(this,"torch",a)||this}return o})(ig);var p1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(p1||(p1={}));var Ky=function(){var r=function(o,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])},r(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}();(function(r){Ky(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o})(Hy);var g1;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(g1||(g1={}));const Zy=({user:r,onProfileClick:o})=>{const a=zr();return I.jsx("div",{children:I.jsx("div",{style:{position:"absolute",top:"45px",display:"flex",alignItems:"center",width:"94%",height:"10px",left:"3%"},children:r==null?I.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[I.jsx("button",{className:"login-button",onClick:()=>a("/login"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:I.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Login"})}),I.jsx("button",{className:"login-button",onClick:()=>a("/signup"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:I.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Sign up"})})]}):I.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[I.jsx("button",{className:"login-button",onClick:()=>a("/logout"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:I.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Logout"})}),I.jsx("button",{className:"login-button",onClick:o,style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:I.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Profile"})})]})})})},ld=P.createContext({});function cd(r){const o=P.useRef(null);return o.current===null&&(o.current=r()),o.current}const ud=typeof window<"u",sg=ud?P.useLayoutEffect:P.useEffect,_c=P.createContext(null),fd=P.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class $y extends P.Component{getSnapshotBeforeUpdate(o){const a=this.props.childRef.current;if(a&&o.isPresent&&!this.props.isPresent){const d=a.offsetParent,p=d instanceof HTMLElement&&d.offsetWidth||0,x=this.props.sizeRef.current;x.height=a.offsetHeight||0,x.width=a.offsetWidth||0,x.top=a.offsetTop,x.left=a.offsetLeft,x.right=p-x.width-x.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qy({children:r,isPresent:o,anchorX:a}){const d=P.useId(),p=P.useRef(null),x=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=P.useContext(fd);return P.useInsertionEffect(()=>{const{width:A,height:w,top:E,left:S,right:T}=x.current;if(o||!p.current||!A||!w)return;const R=a==="left"?`left: ${S}`:`right: ${T}`;p.current.dataset.motionPopId=d;const k=document.createElement("style");return y&&(k.nonce=y),document.head.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${w}px !important;
            ${R}px !important;
            top: ${E}px !important;
          }
        `),()=>{document.head.removeChild(k)}},[o]),I.jsx($y,{isPresent:o,childRef:p,sizeRef:x,children:P.cloneElement(r,{ref:p})})}const Qy=({children:r,initial:o,isPresent:a,onExitComplete:d,custom:p,presenceAffectsLayout:x,mode:y,anchorX:A})=>{const w=cd(Jy),E=P.useId(),S=P.useCallback(R=>{w.set(R,!0);for(const k of w.values())if(!k)return;d&&d()},[w,d]),T=P.useMemo(()=>({id:E,initial:o,isPresent:a,custom:p,onExitComplete:S,register:R=>(w.set(R,!1),()=>w.delete(R))}),x?[Math.random(),S]:[a,S]);return P.useMemo(()=>{w.forEach((R,k)=>w.set(k,!1))},[a]),P.useEffect(()=>{!a&&!w.size&&d&&d()},[a]),y==="popLayout"&&(r=I.jsx(qy,{isPresent:a,anchorX:A,children:r})),I.jsx(_c.Provider,{value:T,children:r})};function Jy(){return new Map}function og(r=!0){const o=P.useContext(_c);if(o===null)return[!0,null];const{isPresent:a,onExitComplete:d,register:p}=o,x=P.useId();P.useEffect(()=>{if(r)return p(x)},[r]);const y=P.useCallback(()=>r&&d&&d(x),[x,d,r]);return!a&&d?[!1,y]:[!0]}const nc=r=>r.key||"";function m1(r){const o=[];return P.Children.forEach(r,a=>{P.isValidElement(a)&&o.push(a)}),o}const x1=({children:r,custom:o,initial:a=!0,onExitComplete:d,presenceAffectsLayout:p=!0,mode:x="sync",propagate:y=!1,anchorX:A="left"})=>{const[w,E]=og(y),S=P.useMemo(()=>m1(r),[r]),T=y&&!w?[]:S.map(nc),R=P.useRef(!0),k=P.useRef(S),L=cd(()=>new Map),[j,B]=P.useState(S),[U,H]=P.useState(S);sg(()=>{R.current=!1,k.current=S;for(let ue=0;ue<U.length;ue++){const se=nc(U[ue]);T.includes(se)?L.delete(se):L.get(se)!==!0&&L.set(se,!1)}},[U,T.length,T.join("-")]);const W=[];if(S!==j){let ue=[...S];for(let se=0;se<U.length;se++){const J=U[se],ce=nc(J);T.includes(ce)||(ue.splice(se,0,J),W.push(J))}return x==="wait"&&W.length&&(ue=W),H(m1(ue)),B(S),null}const{forceRender:Q}=P.useContext(ld);return I.jsx(I.Fragment,{children:U.map(ue=>{const se=nc(ue),J=y&&!w?!1:S===U||T.includes(se),ce=()=>{if(L.has(se))L.set(se,!0);else return;let q=!0;L.forEach(Ne=>{Ne||(q=!1)}),q&&(Q==null||Q(),H(k.current),y&&(E==null||E()),d&&d())};return I.jsx(Qy,{isPresent:J,initial:!R.current||a?void 0:!1,custom:o,presenceAffectsLayout:p,mode:x,onExitComplete:J?void 0:ce,anchorX:A,children:ue},se)})})};function dd(r,o){r.indexOf(o)===-1&&r.push(o)}function hd(r,o){const a=r.indexOf(o);a>-1&&r.splice(a,1)}let ag=()=>{};const ew={useManualTiming:!1};function pd(r){let o;return()=>(o===void 0&&(o=r()),o)}const Vr=r=>r,Da=(r,o,a)=>{const d=o-r;return d===0?1:(a-r)/d};class gd{constructor(){this.subscriptions=[]}add(o){return dd(this.subscriptions,o),()=>hd(this.subscriptions,o)}notify(o,a,d){const p=this.subscriptions.length;if(p)if(p===1)this.subscriptions[0](o,a,d);else for(let x=0;x<p;x++){const y=this.subscriptions[x];y&&y(o,a,d)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=r=>r*1e3,di=r=>r/1e3;function lg(r,o){return o?r*(1e3/o):0}const tw=pd(()=>window.ScrollTimeline!==void 0);class nw{constructor(o){this.stop=()=>this.runAll("stop"),this.animations=o.filter(Boolean)}get finished(){return Promise.all(this.animations.map(o=>o.finished))}getAll(o){return this.animations[0][o]}setAll(o,a){for(let d=0;d<this.animations.length;d++)this.animations[d][o]=a}attachTimeline(o,a){const d=this.animations.map(p=>{if(tw()&&p.attachTimeline)return p.attachTimeline(o);if(typeof a=="function")return a(p)});return()=>{d.forEach((p,x)=>{p&&p(),this.animations[x].stop()})}}get time(){return this.getAll("time")}set time(o){this.setAll("time",o)}get speed(){return this.getAll("speed")}set speed(o){this.setAll("speed",o)}get startTime(){return this.getAll("startTime")}get duration(){let o=0;for(let a=0;a<this.animations.length;a++)o=Math.max(o,this.animations[a].duration);return o}runAll(o){this.animations.forEach(a=>a[o]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class rw extends nw{then(o,a){return this.finished.finally(o).then(()=>{})}}const y1={value:null},md=r=>Array.isArray(r)&&typeof r[0]=="number",iw={};function sw(r,o){const a=pd(r);return()=>iw[o]??a()}const ka=sw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cg=(r,o,a=10)=>{let d="";const p=Math.max(Math.round(o/a),2);for(let x=0;x<p;x++)d+=r(x/(p-1))+", ";return`linear(${d.substring(0,d.length-2)})`},Ia=([r,o,a,d])=>`cubic-bezier(${r}, ${o}, ${a}, ${d})`,Of={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ia([0,.65,.55,1]),circOut:Ia([.55,0,1,.45]),backIn:Ia([.31,.01,.66,-.59]),backOut:Ia([.33,1.53,.69,.99])};function ug(r,o){if(r)return typeof r=="function"&&ka()?cg(r,o):md(r)?Ia(r):Array.isArray(r)?r.map(a=>ug(a,o)||Of.easeOut):Of[r]}function ow(r,o,a,{delay:d=0,duration:p=300,repeat:x=0,repeatType:y="loop",ease:A="easeInOut",times:w}={},E=void 0){const S={[o]:a};w&&(S.offset=w);const T=ug(A,p);return Array.isArray(T)&&(S.easing=T),r.animate(S,{delay:d,duration:p,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:x+1,direction:y==="reverse"?"alternate":"normal",pseudoElement:E})}function xd(r){return typeof r=="function"&&"applyToOptions"in r}function yd(r,o){return(r==null?void 0:r[o])??(r==null?void 0:r.default)??r}const xc=2e4;function wd(r){let o=0;const a=50;let d=r.next(o);for(;!d.done&&o<xc;)o+=a,d=r.next(o);return o>=xc?1/0:o}function aw(r,o=100,a){const d=a({...r,keyframes:[0,o]}),p=Math.min(wd(d),xc);return{type:"keyframes",ease:x=>d.next(p*x).value/o,duration:di(p)}}function fg(r){return!!(typeof r=="function"&&ka()||!r||typeof r=="string"&&(r in Of||ka())||md(r)||Array.isArray(r)&&r.every(fg))}function w1(r,o){r.timeline=o,r.onfinish=null}const rc=["read","resolveKeyframes","update","preRender","render","postRender"];function lw(r,o){let a=new Set,d=new Set,p=!1,x=!1;const y=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1},w=0;function E(T){y.has(T)&&(S.schedule(T),r()),w++,T(A)}const S={schedule:(T,R=!1,k=!1)=>{const j=k&&p?a:d;return R&&y.add(T),j.has(T)||j.add(T),T},cancel:T=>{d.delete(T),y.delete(T)},process:T=>{if(A=T,p){x=!0;return}p=!0,[a,d]=[d,a],a.forEach(E),o&&y1.value&&y1.value.frameloop[o].push(w),w=0,a.clear(),p=!1,x&&(x=!1,S.process(T))}};return S}const cw=40;function dg(r,o){let a=!1,d=!0;const p={delta:0,timestamp:0,isProcessing:!1},x=()=>a=!0,y=rc.reduce((U,H)=>(U[H]=lw(x,o?H:void 0),U),{}),{read:A,resolveKeyframes:w,update:E,preRender:S,render:T,postRender:R}=y,k=()=>{const U=performance.now();a=!1,p.delta=d?1e3/60:Math.max(Math.min(U-p.timestamp,cw),1),p.timestamp=U,p.isProcessing=!0,A.process(p),w.process(p),E.process(p),S.process(p),T.process(p),R.process(p),p.isProcessing=!1,a&&o&&(d=!1,r(k))},L=()=>{a=!0,d=!0,p.isProcessing||r(k)};return{schedule:rc.reduce((U,H)=>{const W=y[H];return U[H]=(Q,ue=!1,se=!1)=>(a||L(),W.schedule(Q,ue,se)),U},{}),cancel:U=>{for(let H=0;H<rc.length;H++)y[rc[H]].cancel(U)},state:p,steps:y}}const{schedule:Zt,cancel:gs,state:Yn,steps:gf}=dg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0),{schedule:vd}=dg(queueMicrotask,!1);let uc;function uw(){uc=void 0}const hi={now:()=>(uc===void 0&&hi.set(Yn.isProcessing||ew.useManualTiming?Yn.timestamp:performance.now()),uc),set:r=>{uc=r,queueMicrotask(uw)}},ei={x:!1,y:!1};function hg(){return ei.x||ei.y}function fw(r){return r==="x"||r==="y"?ei[r]?null:(ei[r]=!0,()=>{ei[r]=!1}):ei.x||ei.y?null:(ei.x=ei.y=!0,()=>{ei.x=ei.y=!1})}function dw(r,o,a){if(r instanceof EventTarget)return[r];if(typeof r=="string"){const p=document.querySelectorAll(r);return p?Array.from(p):[]}return Array.from(r)}function pg(r,o){const a=dw(r),d=new AbortController,p={passive:!0,...o,signal:d.signal};return[a,p,()=>d.abort()]}function v1(r){return!(r.pointerType==="touch"||hg())}function hw(r,o,a={}){const[d,p,x]=pg(r,a),y=A=>{if(!v1(A))return;const{target:w}=A,E=o(w,A);if(typeof E!="function"||!w)return;const S=T=>{v1(T)&&(E(T),w.removeEventListener("pointerleave",S))};w.addEventListener("pointerleave",S,p)};return d.forEach(A=>{A.addEventListener("pointerenter",y,p)}),x}const gg=(r,o)=>o?r===o?!0:gg(r,o.parentElement):!1,Cd=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,pw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gw(r){return pw.has(r.tagName)||r.tabIndex!==-1}const Ta=new WeakSet;function C1(r){return o=>{o.key==="Enter"&&r(o)}}function mf(r,o){r.dispatchEvent(new PointerEvent("pointer"+o,{isPrimary:!0,bubbles:!0}))}const mw=(r,o)=>{const a=r.currentTarget;if(!a)return;const d=C1(()=>{if(Ta.has(a))return;mf(a,"down");const p=C1(()=>{mf(a,"up")}),x=()=>mf(a,"cancel");a.addEventListener("keyup",p,o),a.addEventListener("blur",x,o)});a.addEventListener("keydown",d,o),a.addEventListener("blur",()=>a.removeEventListener("keydown",d),o)};function E1(r){return Cd(r)&&!hg()}function xw(r,o,a={}){const[d,p,x]=pg(r,a),y=A=>{const w=A.currentTarget;if(!E1(A)||Ta.has(w))return;Ta.add(w);const E=o(w,A),S=(k,L)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",R),!(!E1(k)||!Ta.has(w))&&(Ta.delete(w),typeof E=="function"&&E(k,{success:L}))},T=k=>{S(k,w===window||w===document||a.useGlobalTarget||gg(w,k.target))},R=k=>{S(k,!1)};window.addEventListener("pointerup",T,p),window.addEventListener("pointercancel",R,p)};return d.forEach(A=>{(a.useGlobalTarget?window:A).addEventListener("pointerdown",y,p),A instanceof HTMLElement&&(A.addEventListener("focus",E=>mw(E,p)),!gw(A)&&!A.hasAttribute("tabindex")&&(A.tabIndex=0))}),x}const A1=30,yw=r=>!isNaN(parseFloat(r));class ww{constructor(o,a={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(d,p=!0)=>{const x=hi.now();this.updatedAt!==x&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(d),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),p&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(o),this.owner=a.owner}setCurrent(o){this.current=o,this.updatedAt=hi.now(),this.canTrackVelocity===null&&o!==void 0&&(this.canTrackVelocity=yw(this.current))}setPrevFrameValue(o=this.current){this.prevFrameValue=o,this.prevUpdatedAt=this.updatedAt}onChange(o){return this.on("change",o)}on(o,a){this.events[o]||(this.events[o]=new gd);const d=this.events[o].add(a);return o==="change"?()=>{d(),Zt.read(()=>{this.events.change.getSize()||this.stop()})}:d}clearListeners(){for(const o in this.events)this.events[o].clear()}attach(o,a){this.passiveEffect=o,this.stopPassiveEffect=a}set(o,a=!0){!a||!this.passiveEffect?this.updateAndNotify(o,a):this.passiveEffect(o,this.updateAndNotify)}setWithVelocity(o,a,d){this.set(a),this.prev=void 0,this.prevFrameValue=o,this.prevUpdatedAt=this.updatedAt-d}jump(o,a=!0){this.updateAndNotify(o),this.prev=o,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const o=hi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||o-this.updatedAt>A1)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,A1);return lg(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(o){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=o(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(r,o){return new ww(r,o)}const mg=P.createContext({strict:!1}),S1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Mo={};for(const r in S1)Mo[r]={isEnabled:o=>S1[r].some(a=>!!o[a])};function vw(r){for(const o in r)Mo[o]={...Mo[o],...r[o]}}const Cw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yc(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||Cw.has(r)}let xg=r=>!yc(r);function Ew(r){r&&(xg=o=>o.startsWith("on")?!yc(o):r(o))}try{Ew(require("@emotion/is-prop-valid").default)}catch{}function Aw(r,o,a){const d={};for(const p in r)p==="values"&&typeof r.values=="object"||(xg(p)||a===!0&&yc(p)||!o&&!yc(p)||r.draggable&&p.startsWith("onDrag"))&&(d[p]=r[p]);return d}function Sw(r){if(typeof Proxy>"u")return r;const o=new Map,a=(...d)=>r(...d);return new Proxy(a,{get:(d,p)=>p==="create"?r:(o.has(p)||o.set(p,r(p)),o.get(p))})}const Oc=P.createContext({});function Pc(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Ba(r){return typeof r=="string"||Array.isArray(r)}const Ed=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ad=["initial",...Ed];function Mc(r){return Pc(r.animate)||Ad.some(o=>Ba(r[o]))}function yg(r){return!!(Mc(r)||r.variants)}function bw(r,o){if(Mc(r)){const{initial:a,animate:d}=r;return{initial:a===!1||Ba(a)?a:void 0,animate:Ba(d)?d:void 0}}return r.inherit!==!1?o:{}}function Iw(r){const{initial:o,animate:a}=bw(r,P.useContext(Oc));return P.useMemo(()=>({initial:o,animate:a}),[b1(o),b1(a)])}function b1(r){return Array.isArray(r)?r.join(" "):r}const Tw=Symbol.for("motionComponentSymbol");function Io(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Nw(r,o,a){return P.useCallback(d=>{d&&r.onMount&&r.onMount(d),o&&(d?o.mount(d):o.unmount()),a&&(typeof a=="function"?a(d):Io(a)&&(a.current=d))},[o])}const Sd=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Rw="framerAppearId",wg="data-"+Sd(Rw),vg=P.createContext({});function _w(r,o,a,d,p){var j,B;const{visualElement:x}=P.useContext(Oc),y=P.useContext(mg),A=P.useContext(_c),w=P.useContext(fd).reducedMotion,E=P.useRef(null);d=d||y.renderer,!E.current&&d&&(E.current=d(r,{visualState:o,parent:x,props:a,presenceContext:A,blockInitialAnimation:A?A.initial===!1:!1,reducedMotionConfig:w}));const S=E.current,T=P.useContext(vg);S&&!S.projection&&p&&(S.type==="html"||S.type==="svg")&&Ow(E.current,a,p,T);const R=P.useRef(!1);P.useInsertionEffect(()=>{S&&R.current&&S.update(a,A)});const k=a[wg],L=P.useRef(!!k&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,k))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,k)));return sg(()=>{S&&(R.current=!0,window.MotionIsMounted=!0,S.updateFeatures(),vd.render(S.render),L.current&&S.animationState&&S.animationState.animateChanges())}),P.useEffect(()=>{S&&(!L.current&&S.animationState&&S.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,k)}),L.current=!1))}),S}function Ow(r,o,a,d){const{layoutId:p,layout:x,drag:y,dragConstraints:A,layoutScroll:w,layoutRoot:E}=o;r.projection=new a(r.latestValues,o["data-framer-portal-id"]?void 0:Cg(r.parent)),r.projection.setOptions({layoutId:p,layout:x,alwaysMeasureLayout:!!y||A&&Io(A),visualElement:r,animationType:typeof x=="string"?x:"both",initialPromotionConfig:d,layoutScroll:w,layoutRoot:E})}function Cg(r){if(r)return r.options.allowProjection!==!1?r.projection:Cg(r.parent)}function Pw({preloadedFeatures:r,createVisualElement:o,useRender:a,useVisualState:d,Component:p}){r&&vw(r);function x(A,w){let E;const S={...P.useContext(fd),...A,layoutId:Mw(A)},{isStatic:T}=S,R=Iw(A),k=d(A,T);if(!T&&ud){Dw();const L=kw(S);E=L.MeasureLayout,R.visualElement=_w(p,k,S,o,L.ProjectionNode)}return I.jsxs(Oc.Provider,{value:R,children:[E&&R.visualElement?I.jsx(E,{visualElement:R.visualElement,...S}):null,a(p,A,Nw(k,R.visualElement,w),k,T,R.visualElement)]})}x.displayName=`motion.${typeof p=="string"?p:`create(${p.displayName??p.name??""})`}`;const y=P.forwardRef(x);return y[Tw]=p,y}function Mw({layoutId:r}){const o=P.useContext(ld).id;return o&&r!==void 0?o+"-"+r:r}function Dw(r,o){P.useContext(mg).strict}function kw(r){const{drag:o,layout:a}=Mo;if(!o&&!a)return{};const d={...o,...a};return{MeasureLayout:o!=null&&o.isEnabled(r)||a!=null&&a.isEnabled(r)?d.MeasureLayout:void 0,ProjectionNode:d.ProjectionNode}}const Eg=r=>o=>typeof o=="string"&&o.startsWith(r),bd=Eg("--"),Lw=Eg("var(--"),Id=r=>Lw(r)?Bw.test(r.split("/*")[0].trim()):!1,Bw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fa={};function Fw(r){for(const o in r)Fa[o]=r[o],bd(o)&&(Fa[o].isCSSVariable=!0)}const Bo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Qs=new Set(Bo);function Ag(r,{layout:o,layoutId:a}){return Qs.has(r)||r.startsWith("origin")||(o||a!==void 0)&&(!!Fa[r]||r==="opacity")}const ir=r=>!!(r&&r.getVelocity),Sg=(r,o)=>o&&typeof r=="number"?o.transform(r):r,Bi=(r,o,a)=>a>o?o:a<r?r:a,Fo={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},ja={...Fo,transform:r=>Bi(0,1,r)},ic={...Fo,default:1},Xa=r=>({test:o=>typeof o=="string"&&o.endsWith(r)&&o.split(" ").length===1,parse:parseFloat,transform:o=>`${o}${r}`}),ds=Xa("deg"),pi=Xa("%"),it=Xa("px"),jw=Xa("vh"),Vw=Xa("vw"),I1={...pi,parse:r=>pi.parse(r)/100,transform:r=>pi.transform(r*100)},Uw={borderWidth:it,borderTopWidth:it,borderRightWidth:it,borderBottomWidth:it,borderLeftWidth:it,borderRadius:it,radius:it,borderTopLeftRadius:it,borderTopRightRadius:it,borderBottomRightRadius:it,borderBottomLeftRadius:it,width:it,maxWidth:it,height:it,maxHeight:it,top:it,right:it,bottom:it,left:it,padding:it,paddingTop:it,paddingRight:it,paddingBottom:it,paddingLeft:it,margin:it,marginTop:it,marginRight:it,marginBottom:it,marginLeft:it,backgroundPositionX:it,backgroundPositionY:it},zw={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:ic,scaleX:ic,scaleY:ic,scaleZ:ic,skew:ds,skewX:ds,skewY:ds,distance:it,translateX:it,translateY:it,translateZ:it,x:it,y:it,z:it,perspective:it,transformPerspective:it,opacity:ja,originX:I1,originY:I1,originZ:it},T1={...Fo,transform:Math.round},Td={...Uw,...zw,zIndex:T1,size:it,fillOpacity:ja,strokeOpacity:ja,numOctaves:T1},Ww={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hw=Bo.length;function Gw(r,o,a){let d="",p=!0;for(let x=0;x<Hw;x++){const y=Bo[x],A=r[y];if(A===void 0)continue;let w=!0;if(typeof A=="number"?w=A===(y.startsWith("scale")?1:0):w=parseFloat(A)===0,!w||a){const E=Sg(A,Td[y]);if(!w){p=!1;const S=Ww[y]||y;d+=`${S}(${E}) `}a&&(o[y]=E)}}return d=d.trim(),a?d=a(o,p?"":d):p&&(d="none"),d}function Nd(r,o,a){const{style:d,vars:p,transformOrigin:x}=r;let y=!1,A=!1;for(const w in o){const E=o[w];if(Qs.has(w)){y=!0;continue}else if(bd(w)){p[w]=E;continue}else{const S=Sg(E,Td[w]);w.startsWith("origin")?(A=!0,x[w]=S):d[w]=S}}if(o.transform||(y||a?d.transform=Gw(o,r.transform,a):d.transform&&(d.transform="none")),A){const{originX:w="50%",originY:E="50%",originZ:S=0}=x;d.transformOrigin=`${w} ${E} ${S}`}}const Rd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bg(r,o,a){for(const d in o)!ir(o[d])&&!Ag(d,a)&&(r[d]=o[d])}function Xw({transformTemplate:r},o){return P.useMemo(()=>{const a=Rd();return Nd(a,o,r),Object.assign({},a.vars,a.style)},[o])}function Yw(r,o){const a=r.style||{},d={};return bg(d,a,r),Object.assign(d,Xw(r,o)),d}function Kw(r,o){const a={},d=Yw(r,o);return r.drag&&r.dragListener!==!1&&(a.draggable=!1,d.userSelect=d.WebkitUserSelect=d.WebkitTouchCallout="none",d.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(a.tabIndex=0),a.style=d,a}const Zw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _d(r){return typeof r!="string"||r.includes("-")?!1:!!(Zw.indexOf(r)>-1||/[A-Z]/u.test(r))}const $w={offset:"stroke-dashoffset",array:"stroke-dasharray"},qw={offset:"strokeDashoffset",array:"strokeDasharray"};function Qw(r,o,a=1,d=0,p=!0){r.pathLength=1;const x=p?$w:qw;r[x.offset]=it.transform(-d);const y=it.transform(o),A=it.transform(a);r[x.array]=`${y} ${A}`}function N1(r,o,a){return typeof r=="string"?r:it.transform(o+a*r)}function Jw(r,o,a){const d=N1(o,r.x,r.width),p=N1(a,r.y,r.height);return`${d} ${p}`}function Od(r,{attrX:o,attrY:a,attrScale:d,originX:p,originY:x,pathLength:y,pathSpacing:A=1,pathOffset:w=0,...E},S,T){if(Nd(r,E,T),S){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:R,style:k,dimensions:L}=r;R.transform&&(L&&(k.transform=R.transform),delete R.transform),L&&(p!==void 0||x!==void 0||k.transform)&&(k.transformOrigin=Jw(L,p!==void 0?p:.5,x!==void 0?x:.5)),o!==void 0&&(R.x=o),a!==void 0&&(R.y=a),d!==void 0&&(R.scale=d),y!==void 0&&Qw(R,y,A,w,!1)}const Ig=()=>({...Rd(),attrs:{}}),Pd=r=>typeof r=="string"&&r.toLowerCase()==="svg";function e3(r,o,a,d){const p=P.useMemo(()=>{const x=Ig();return Od(x,o,Pd(d),r.transformTemplate),{...x.attrs,style:{...x.style}}},[o]);if(r.style){const x={};bg(x,r.style,r),p.style={...x,...p.style}}return p}function t3(r=!1){return(a,d,p,{latestValues:x},y)=>{const w=(_d(a)?e3:Kw)(d,x,y,a),E=Aw(d,typeof a=="string",r),S=a!==P.Fragment?{...E,...w,ref:p}:{},{children:T}=d,R=P.useMemo(()=>ir(T)?T.get():T,[T]);return P.createElement(a,{...S,children:R})}}function R1(r){const o=[{},{}];return r==null||r.values.forEach((a,d)=>{o[0][d]=a.get(),o[1][d]=a.getVelocity()}),o}function Md(r,o,a,d){if(typeof o=="function"){const[p,x]=R1(d);o=o(a!==void 0?a:r.custom,p,x)}if(typeof o=="string"&&(o=r.variants&&r.variants[o]),typeof o=="function"){const[p,x]=R1(d);o=o(a!==void 0?a:r.custom,p,x)}return o}const Pf=r=>Array.isArray(r),n3=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),r3=r=>Pf(r)?r[r.length-1]||0:r;function fc(r){const o=ir(r)?r.get():r;return n3(o)?o.toValue():o}function i3({scrapeMotionValuesFromProps:r,createRenderState:o,onUpdate:a},d,p,x){const y={latestValues:s3(d,p,x,r),renderState:o()};return a&&(y.onMount=A=>a({props:d,current:A,...y}),y.onUpdate=A=>a(A)),y}const Tg=r=>(o,a)=>{const d=P.useContext(Oc),p=P.useContext(_c),x=()=>i3(r,o,d,p);return a?x():cd(x)};function s3(r,o,a,d){const p={},x=d(r,{});for(const R in x)p[R]=fc(x[R]);let{initial:y,animate:A}=r;const w=Mc(r),E=yg(r);o&&E&&!w&&r.inherit!==!1&&(y===void 0&&(y=o.initial),A===void 0&&(A=o.animate));let S=a?a.initial===!1:!1;S=S||y===!1;const T=S?A:y;if(T&&typeof T!="boolean"&&!Pc(T)){const R=Array.isArray(T)?T:[T];for(let k=0;k<R.length;k++){const L=Md(r,R[k]);if(L){const{transitionEnd:j,transition:B,...U}=L;for(const H in U){let W=U[H];if(Array.isArray(W)){const Q=S?W.length-1:0;W=W[Q]}W!==null&&(p[H]=W)}for(const H in j)p[H]=j[H]}}}return p}function Dd(r,o,a){var x;const{style:d}=r,p={};for(const y in d)(ir(d[y])||o.style&&ir(o.style[y])||Ag(y,r)||((x=a==null?void 0:a.getValue(y))==null?void 0:x.liveStyle)!==void 0)&&(p[y]=d[y]);return p}const o3={useVisualState:Tg({scrapeMotionValuesFromProps:Dd,createRenderState:Rd})};function Ng(r,o){try{o.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}}function Rg(r,{style:o,vars:a},d,p){Object.assign(r.style,o,p&&p.getProjectionStyles(d));for(const x in a)r.style.setProperty(x,a[x])}const _g=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Og(r,o,a,d){Rg(r,o,void 0,d);for(const p in o.attrs)r.setAttribute(_g.has(p)?p:Sd(p),o.attrs[p])}function Pg(r,o,a){const d=Dd(r,o,a);for(const p in r)if(ir(r[p])||ir(o[p])){const x=Bo.indexOf(p)!==-1?"attr"+p.charAt(0).toUpperCase()+p.substring(1):p;d[x]=r[p]}return d}const _1=["x","y","width","height","cx","cy","r"],a3={useVisualState:Tg({scrapeMotionValuesFromProps:Pg,createRenderState:Ig,onUpdate:({props:r,prevProps:o,current:a,renderState:d,latestValues:p})=>{if(!a)return;let x=!!r.drag;if(!x){for(const A in p)if(Qs.has(A)){x=!0;break}}if(!x)return;let y=!o;if(o)for(let A=0;A<_1.length;A++){const w=_1[A];r[w]!==o[w]&&(y=!0)}y&&Zt.read(()=>{Ng(a,d),Zt.render(()=>{Od(d,p,Pd(a.tagName),r.transformTemplate),Og(a,d)})})}})};function l3(r,o){return function(d,{forwardMotionProps:p}={forwardMotionProps:!1}){const y={..._d(d)?a3:o3,preloadedFeatures:r,useRender:t3(p),createVisualElement:o,Component:d};return Pw(y)}}function Va(r,o,a){const d=r.getProps();return Md(d,o,a!==void 0?a:d.custom,r)}const Mg=new Set(["width","height","top","left","right","bottom",...Bo]);function c3(r,o,a){r.hasValue(o)?r.getValue(o).set(a):r.addValue(o,La(a))}function u3(r,o){const a=Va(r,o);let{transitionEnd:d={},transition:p={},...x}=a||{};x={...x,...d};for(const y in x){const A=r3(x[y]);c3(r,y,A)}}function f3(r){return!!(ir(r)&&r.add)}function Mf(r,o){const a=r.getValue("willChange");if(f3(a))return a.add(o)}function Dg(r){return r.props[wg]}const kg=(r,o,a)=>(((1-3*a+3*o)*r+(3*a-6*o))*r+3*o)*r,d3=1e-7,h3=12;function p3(r,o,a,d,p){let x,y,A=0;do y=o+(a-o)/2,x=kg(y,d,p)-r,x>0?a=y:o=y;while(Math.abs(x)>d3&&++A<h3);return y}function Ya(r,o,a,d){if(r===o&&a===d)return Vr;const p=x=>p3(x,0,1,r,a);return x=>x===0||x===1?x:kg(p(x),o,d)}const Lg=r=>o=>o<=.5?r(2*o)/2:(2-r(2*(1-o)))/2,Bg=r=>o=>1-r(1-o),Fg=Ya(.33,1.53,.69,.99),kd=Bg(Fg),jg=Lg(kd),Vg=r=>(r*=2)<1?.5*kd(r):.5*(2-Math.pow(2,-10*(r-1))),Ld=r=>1-Math.sin(Math.acos(r)),Ug=Bg(Ld),zg=Lg(Ld),Wg=r=>/^0[^.\s]+$/u.test(r);function g3(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Wg(r):!0}const Na=r=>Math.round(r*1e5)/1e5,Bd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m3(r){return r==null}const x3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fd=(r,o)=>a=>!!(typeof a=="string"&&x3.test(a)&&a.startsWith(r)||o&&!m3(a)&&Object.prototype.hasOwnProperty.call(a,o)),Hg=(r,o,a)=>d=>{if(typeof d!="string")return d;const[p,x,y,A]=d.match(Bd);return{[r]:parseFloat(p),[o]:parseFloat(x),[a]:parseFloat(y),alpha:A!==void 0?parseFloat(A):1}},y3=r=>Bi(0,255,r),xf={...Fo,transform:r=>Math.round(y3(r))},Ys={test:Fd("rgb","red"),parse:Hg("red","green","blue"),transform:({red:r,green:o,blue:a,alpha:d=1})=>"rgba("+xf.transform(r)+", "+xf.transform(o)+", "+xf.transform(a)+", "+Na(ja.transform(d))+")"};function w3(r){let o="",a="",d="",p="";return r.length>5?(o=r.substring(1,3),a=r.substring(3,5),d=r.substring(5,7),p=r.substring(7,9)):(o=r.substring(1,2),a=r.substring(2,3),d=r.substring(3,4),p=r.substring(4,5),o+=o,a+=a,d+=d,p+=p),{red:parseInt(o,16),green:parseInt(a,16),blue:parseInt(d,16),alpha:p?parseInt(p,16)/255:1}}const Df={test:Fd("#"),parse:w3,transform:Ys.transform},To={test:Fd("hsl","hue"),parse:Hg("hue","saturation","lightness"),transform:({hue:r,saturation:o,lightness:a,alpha:d=1})=>"hsla("+Math.round(r)+", "+pi.transform(Na(o))+", "+pi.transform(Na(a))+", "+Na(ja.transform(d))+")"},rr={test:r=>Ys.test(r)||Df.test(r)||To.test(r),parse:r=>Ys.test(r)?Ys.parse(r):To.test(r)?To.parse(r):Df.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Ys.transform(r):To.transform(r)},v3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C3(r){var o,a;return isNaN(r)&&typeof r=="string"&&(((o=r.match(Bd))==null?void 0:o.length)||0)+(((a=r.match(v3))==null?void 0:a.length)||0)>0}const Gg="number",Xg="color",E3="var",A3="var(",O1="${}",S3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ua(r){const o=r.toString(),a=[],d={color:[],number:[],var:[]},p=[];let x=0;const A=o.replace(S3,w=>(rr.test(w)?(d.color.push(x),p.push(Xg),a.push(rr.parse(w))):w.startsWith(A3)?(d.var.push(x),p.push(E3),a.push(w)):(d.number.push(x),p.push(Gg),a.push(parseFloat(w))),++x,O1)).split(O1);return{values:a,split:A,indexes:d,types:p}}function Yg(r){return Ua(r).values}function Kg(r){const{split:o,types:a}=Ua(r),d=o.length;return p=>{let x="";for(let y=0;y<d;y++)if(x+=o[y],p[y]!==void 0){const A=a[y];A===Gg?x+=Na(p[y]):A===Xg?x+=rr.transform(p[y]):x+=p[y]}return x}}const b3=r=>typeof r=="number"?0:r;function I3(r){const o=Yg(r);return Kg(r)(o.map(b3))}const ms={test:C3,parse:Yg,createTransformer:Kg,getAnimatableNone:I3},T3=new Set(["brightness","contrast","saturate","opacity"]);function N3(r){const[o,a]=r.slice(0,-1).split("(");if(o==="drop-shadow")return r;const[d]=a.match(Bd)||[];if(!d)return r;const p=a.replace(d,"");let x=T3.has(o)?1:0;return d!==a&&(x*=100),o+"("+x+p+")"}const R3=/\b([a-z-]*)\(.*?\)/gu,kf={...ms,getAnimatableNone:r=>{const o=r.match(R3);return o?o.map(N3).join(" "):r}},_3={...Td,color:rr,backgroundColor:rr,outlineColor:rr,fill:rr,stroke:rr,borderColor:rr,borderTopColor:rr,borderRightColor:rr,borderBottomColor:rr,borderLeftColor:rr,filter:kf,WebkitFilter:kf},Zg=r=>_3[r];function $g(r,o){let a=Zg(r);return a!==kf&&(a=ms),a.getAnimatableNone?a.getAnimatableNone(o):void 0}const O3=new Set(["auto","none","0"]);function P3(r,o,a){let d=0,p;for(;d<r.length&&!p;){const x=r[d];typeof x=="string"&&!O3.has(x)&&Ua(x).values.length&&(p=r[d]),d++}if(p&&a)for(const x of o)r[x]=$g(a,p)}const Ks=r=>r*180/Math.PI,Lf=r=>{const o=Ks(Math.atan2(r[1],r[0]));return Bf(o)},M3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Lf,rotateZ:Lf,skewX:r=>Ks(Math.atan(r[1])),skewY:r=>Ks(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Bf=r=>(r=r%360,r<0&&(r+=360),r),P1=Lf,M1=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),D1=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),D3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:M1,scaleY:D1,scale:r=>(M1(r)+D1(r))/2,rotateX:r=>Bf(Ks(Math.atan2(r[6],r[5]))),rotateY:r=>Bf(Ks(Math.atan2(-r[2],r[0]))),rotateZ:P1,rotate:P1,skewX:r=>Ks(Math.atan(r[4])),skewY:r=>Ks(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function k1(r){return r.includes("scale")?1:0}function Ff(r,o){if(!r||r==="none")return k1(o);const a=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let d,p;if(a)d=D3,p=a;else{const A=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);d=M3,p=A}if(!p)return k1(o);const x=d[o],y=p[1].split(",").map(L3);return typeof x=="function"?x(y):y[x]}const k3=(r,o)=>{const{transform:a="none"}=getComputedStyle(r);return Ff(a,o)};function L3(r){return parseFloat(r.trim())}const L1=r=>r===Fo||r===it,B3=new Set(["x","y","z"]),F3=Bo.filter(r=>!B3.has(r));function j3(r){const o=[];return F3.forEach(a=>{const d=r.getValue(a);d!==void 0&&(o.push([a,d.get()]),d.set(a.startsWith("scale")?1:0))}),o}const Do={width:({x:r},{paddingLeft:o="0",paddingRight:a="0"})=>r.max-r.min-parseFloat(o)-parseFloat(a),height:({y:r},{paddingTop:o="0",paddingBottom:a="0"})=>r.max-r.min-parseFloat(o)-parseFloat(a),top:(r,{top:o})=>parseFloat(o),left:(r,{left:o})=>parseFloat(o),bottom:({y:r},{top:o})=>parseFloat(o)+(r.max-r.min),right:({x:r},{left:o})=>parseFloat(o)+(r.max-r.min),x:(r,{transform:o})=>Ff(o,"x"),y:(r,{transform:o})=>Ff(o,"y")};Do.translateX=Do.x;Do.translateY=Do.y;const $s=new Set;let jf=!1,Vf=!1;function qg(){if(Vf){const r=Array.from($s).filter(d=>d.needsMeasurement),o=new Set(r.map(d=>d.element)),a=new Map;o.forEach(d=>{const p=j3(d);p.length&&(a.set(d,p),d.render())}),r.forEach(d=>d.measureInitialState()),o.forEach(d=>{d.render();const p=a.get(d);p&&p.forEach(([x,y])=>{var A;(A=d.getValue(x))==null||A.set(y)})}),r.forEach(d=>d.measureEndState()),r.forEach(d=>{d.suspendedScrollY!==void 0&&window.scrollTo(0,d.suspendedScrollY)})}Vf=!1,jf=!1,$s.forEach(r=>r.complete()),$s.clear()}function Qg(){$s.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Vf=!0)})}function V3(){Qg(),qg()}class jd{constructor(o,a,d,p,x,y=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...o],this.onComplete=a,this.name=d,this.motionValue=p,this.element=x,this.isAsync=y}scheduleResolve(){this.isScheduled=!0,this.isAsync?($s.add(this),jf||(jf=!0,Zt.read(Qg),Zt.resolveKeyframes(qg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:o,name:a,element:d,motionValue:p}=this;for(let x=0;x<o.length;x++)if(o[x]===null)if(x===0){const y=p==null?void 0:p.get(),A=o[o.length-1];if(y!==void 0)o[0]=y;else if(d&&a){const w=d.readValue(a,A);w!=null&&(o[0]=w)}o[0]===void 0&&(o[0]=A),p&&y===void 0&&p.set(o[0])}else o[x]=o[x-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),$s.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,$s.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Jg=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),U3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function z3(r){const o=U3.exec(r);if(!o)return[,];const[,a,d,p]=o;return[`--${a??d}`,p]}function em(r,o,a=1){const[d,p]=z3(r);if(!d)return;const x=window.getComputedStyle(o).getPropertyValue(d);if(x){const y=x.trim();return Jg(y)?parseFloat(y):y}return Id(p)?em(p,o,a+1):p}const tm=r=>o=>o.test(r),W3={test:r=>r==="auto",parse:r=>r},nm=[Fo,it,pi,ds,Vw,jw,W3],B1=r=>nm.find(tm(r));class rm extends jd{constructor(o,a,d,p,x){super(o,a,d,p,x,!0)}readKeyframes(){const{unresolvedKeyframes:o,element:a,name:d}=this;if(!a||!a.current)return;super.readKeyframes();for(let w=0;w<o.length;w++){let E=o[w];if(typeof E=="string"&&(E=E.trim(),Id(E))){const S=em(E,a.current);S!==void 0&&(o[w]=S),w===o.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!Mg.has(d)||o.length!==2)return;const[p,x]=o,y=B1(p),A=B1(x);if(y!==A)if(L1(y)&&L1(A))for(let w=0;w<o.length;w++){const E=o[w];typeof E=="string"&&(o[w]=parseFloat(E))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:o,name:a}=this,d=[];for(let p=0;p<o.length;p++)g3(o[p])&&d.push(p);d.length&&P3(o,d,a)}measureInitialState(){const{element:o,unresolvedKeyframes:a,name:d}=this;if(!o||!o.current)return;d==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Do[d](o.measureViewportBox(),window.getComputedStyle(o.current)),a[0]=this.measuredOrigin;const p=a[a.length-1];p!==void 0&&o.getValue(d,p).jump(p,!1)}measureEndState(){var A;const{element:o,name:a,unresolvedKeyframes:d}=this;if(!o||!o.current)return;const p=o.getValue(a);p&&p.jump(this.measuredOrigin,!1);const x=d.length-1,y=d[x];d[x]=Do[a](o.measureViewportBox(),window.getComputedStyle(o.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),(A=this.removedTransforms)!=null&&A.length&&this.removedTransforms.forEach(([w,E])=>{o.getValue(w).set(E)}),this.resolveNoneKeyframes()}}const F1=(r,o)=>o==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ms.test(r)||r==="0")&&!r.startsWith("url("));function H3(r){const o=r[0];if(r.length===1)return!0;for(let a=0;a<r.length;a++)if(r[a]!==o)return!0}function G3(r,o,a,d){const p=r[0];if(p===null)return!1;if(o==="display"||o==="visibility")return!0;const x=r[r.length-1],y=F1(p,o),A=F1(x,o);return!y||!A?!1:H3(r)||(a==="spring"||xd(a))&&d}const X3=r=>r!==null;function Dc(r,{repeat:o,repeatType:a="loop"},d){const p=r.filter(X3),x=o&&a!=="loop"&&o%2===1?0:p.length-1;return!x||d===void 0?p[x]:d}const Y3=40;class im{constructor({autoplay:o=!0,delay:a=0,type:d="keyframes",repeat:p=0,repeatDelay:x=0,repeatType:y="loop",...A}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hi.now(),this.options={autoplay:o,delay:a,type:d,repeat:p,repeatDelay:x,repeatType:y,...A},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Y3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&V3(),this._resolved}onKeyframesResolved(o,a){this.resolvedAt=hi.now(),this.hasAttemptedResolve=!0;const{name:d,type:p,velocity:x,delay:y,onComplete:A,onUpdate:w,isGenerator:E}=this.options;if(!E&&!G3(o,d,p,x))if(y)this.options.duration=0;else{w&&w(Dc(o,this.options,a)),A&&A(),this.resolveFinishedPromise();return}const S=this.initPlayback(o,a);S!==!1&&(this._resolved={keyframes:o,finalKeyframe:a,...S},this.onPostResolved())}onPostResolved(){}then(o,a){return this.currentFinishedPromise.then(o,a)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(o=>{this.resolveFinishedPromise=o})}}const cn=(r,o,a)=>r+(o-r)*a;function yf(r,o,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?r+(o-r)*6*a:a<1/2?o:a<2/3?r+(o-r)*(2/3-a)*6:r}function K3({hue:r,saturation:o,lightness:a,alpha:d}){r/=360,o/=100,a/=100;let p=0,x=0,y=0;if(!o)p=x=y=a;else{const A=a<.5?a*(1+o):a+o-a*o,w=2*a-A;p=yf(w,A,r+1/3),x=yf(w,A,r),y=yf(w,A,r-1/3)}return{red:Math.round(p*255),green:Math.round(x*255),blue:Math.round(y*255),alpha:d}}function wc(r,o){return a=>a>0?o:r}const wf=(r,o,a)=>{const d=r*r,p=a*(o*o-d)+d;return p<0?0:Math.sqrt(p)},Z3=[Df,Ys,To],$3=r=>Z3.find(o=>o.test(r));function j1(r){const o=$3(r);if(!o)return!1;let a=o.parse(r);return o===To&&(a=K3(a)),a}const V1=(r,o)=>{const a=j1(r),d=j1(o);if(!a||!d)return wc(r,o);const p={...a};return x=>(p.red=wf(a.red,d.red,x),p.green=wf(a.green,d.green,x),p.blue=wf(a.blue,d.blue,x),p.alpha=cn(a.alpha,d.alpha,x),Ys.transform(p))},q3=(r,o)=>a=>o(r(a)),Ka=(...r)=>r.reduce(q3),Uf=new Set(["none","hidden"]);function Q3(r,o){return Uf.has(r)?a=>a<=0?r:o:a=>a>=1?o:r}function J3(r,o){return a=>cn(r,o,a)}function Vd(r){return typeof r=="number"?J3:typeof r=="string"?Id(r)?wc:rr.test(r)?V1:nv:Array.isArray(r)?sm:typeof r=="object"?rr.test(r)?V1:ev:wc}function sm(r,o){const a=[...r],d=a.length,p=r.map((x,y)=>Vd(x)(x,o[y]));return x=>{for(let y=0;y<d;y++)a[y]=p[y](x);return a}}function ev(r,o){const a={...r,...o},d={};for(const p in a)r[p]!==void 0&&o[p]!==void 0&&(d[p]=Vd(r[p])(r[p],o[p]));return p=>{for(const x in d)a[x]=d[x](p);return a}}function tv(r,o){const a=[],d={color:0,var:0,number:0};for(let p=0;p<o.values.length;p++){const x=o.types[p],y=r.indexes[x][d[x]],A=r.values[y]??0;a[p]=A,d[x]++}return a}const nv=(r,o)=>{const a=ms.createTransformer(o),d=Ua(r),p=Ua(o);return d.indexes.var.length===p.indexes.var.length&&d.indexes.color.length===p.indexes.color.length&&d.indexes.number.length>=p.indexes.number.length?Uf.has(r)&&!p.values.length||Uf.has(o)&&!d.values.length?Q3(r,o):Ka(sm(tv(d,p),p.values),a):wc(r,o)};function om(r,o,a){return typeof r=="number"&&typeof o=="number"&&typeof a=="number"?cn(r,o,a):Vd(r)(r,o)}const rv=5;function am(r,o,a){const d=Math.max(o-rv,0);return lg(a-r(d),o-d)}const mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},U1=.001;function iv({duration:r=mn.duration,bounce:o=mn.bounce,velocity:a=mn.velocity,mass:d=mn.mass}){let p,x,y=1-o;y=Bi(mn.minDamping,mn.maxDamping,y),r=Bi(mn.minDuration,mn.maxDuration,di(r)),y<1?(p=E=>{const S=E*y,T=S*r,R=S-a,k=zf(E,y),L=Math.exp(-T);return U1-R/k*L},x=E=>{const T=E*y*r,R=T*a+a,k=Math.pow(y,2)*Math.pow(E,2)*r,L=Math.exp(-T),j=zf(Math.pow(E,2),y);return(-p(E)+U1>0?-1:1)*((R-k)*L)/j}):(p=E=>{const S=Math.exp(-E*r),T=(E-a)*r+1;return-.001+S*T},x=E=>{const S=Math.exp(-E*r),T=(a-E)*(r*r);return S*T});const A=5/r,w=ov(p,x,A);if(r=fi(r),isNaN(w))return{stiffness:mn.stiffness,damping:mn.damping,duration:r};{const E=Math.pow(w,2)*d;return{stiffness:E,damping:y*2*Math.sqrt(d*E),duration:r}}}const sv=12;function ov(r,o,a){let d=a;for(let p=1;p<sv;p++)d=d-r(d)/o(d);return d}function zf(r,o){return r*Math.sqrt(1-o*o)}const av=["duration","bounce"],lv=["stiffness","damping","mass"];function z1(r,o){return o.some(a=>r[a]!==void 0)}function cv(r){let o={velocity:mn.velocity,stiffness:mn.stiffness,damping:mn.damping,mass:mn.mass,isResolvedFromDuration:!1,...r};if(!z1(r,lv)&&z1(r,av))if(r.visualDuration){const a=r.visualDuration,d=2*Math.PI/(a*1.2),p=d*d,x=2*Bi(.05,1,1-(r.bounce||0))*Math.sqrt(p);o={...o,mass:mn.mass,stiffness:p,damping:x}}else{const a=iv(r);o={...o,...a,mass:mn.mass},o.isResolvedFromDuration=!0}return o}function vc(r=mn.visualDuration,o=mn.bounce){const a=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:o}:r;let{restSpeed:d,restDelta:p}=a;const x=a.keyframes[0],y=a.keyframes[a.keyframes.length-1],A={done:!1,value:x},{stiffness:w,damping:E,mass:S,duration:T,velocity:R,isResolvedFromDuration:k}=cv({...a,velocity:-di(a.velocity||0)}),L=R||0,j=E/(2*Math.sqrt(w*S)),B=y-x,U=di(Math.sqrt(w/S)),H=Math.abs(B)<5;d||(d=H?mn.restSpeed.granular:mn.restSpeed.default),p||(p=H?mn.restDelta.granular:mn.restDelta.default);let W;if(j<1){const ue=zf(U,j);W=se=>{const J=Math.exp(-j*U*se);return y-J*((L+j*U*B)/ue*Math.sin(ue*se)+B*Math.cos(ue*se))}}else if(j===1)W=ue=>y-Math.exp(-U*ue)*(B+(L+U*B)*ue);else{const ue=U*Math.sqrt(j*j-1);W=se=>{const J=Math.exp(-j*U*se),ce=Math.min(ue*se,300);return y-J*((L+j*U*B)*Math.sinh(ce)+ue*B*Math.cosh(ce))/ue}}const Q={calculatedDuration:k&&T||null,next:ue=>{const se=W(ue);if(k)A.done=ue>=T;else{let J=0;j<1&&(J=ue===0?fi(L):am(W,ue,se));const ce=Math.abs(J)<=d,q=Math.abs(y-se)<=p;A.done=ce&&q}return A.value=A.done?y:se,A},toString:()=>{const ue=Math.min(wd(Q),xc),se=cg(J=>Q.next(ue*J).value,ue,30);return ue+"ms "+se},toTransition:()=>{}};return Q}vc.applyToOptions=r=>{const o=aw(r,100,vc);return r.ease=ka()?o.ease:"easeOut",r.duration=fi(o.duration),r.type="keyframes",r};function W1({keyframes:r,velocity:o=0,power:a=.8,timeConstant:d=325,bounceDamping:p=10,bounceStiffness:x=500,modifyTarget:y,min:A,max:w,restDelta:E=.5,restSpeed:S}){const T=r[0],R={done:!1,value:T},k=ce=>A!==void 0&&ce<A||w!==void 0&&ce>w,L=ce=>A===void 0?w:w===void 0||Math.abs(A-ce)<Math.abs(w-ce)?A:w;let j=a*o;const B=T+j,U=y===void 0?B:y(B);U!==B&&(j=U-T);const H=ce=>-j*Math.exp(-ce/d),W=ce=>U+H(ce),Q=ce=>{const q=H(ce),Ne=W(ce);R.done=Math.abs(q)<=E,R.value=R.done?U:Ne};let ue,se;const J=ce=>{k(R.value)&&(ue=ce,se=vc({keyframes:[R.value,L(R.value)],velocity:am(W,ce,R.value),damping:p,stiffness:x,restDelta:E,restSpeed:S}))};return J(0),{calculatedDuration:null,next:ce=>{let q=!1;return!se&&ue===void 0&&(q=!0,Q(ce),J(ce)),ue!==void 0&&ce>=ue?se.next(ce-ue):(!q&&Q(ce),R)}}}const uv=Ya(.42,0,1,1),fv=Ya(0,0,.58,1),lm=Ya(.42,0,.58,1),dv=r=>Array.isArray(r)&&typeof r[0]!="number",hv={linear:Vr,easeIn:uv,easeInOut:lm,easeOut:fv,circIn:Ld,circInOut:zg,circOut:Ug,backIn:kd,backInOut:jg,backOut:Fg,anticipate:Vg},H1=r=>{if(md(r)){ag(r.length===4);const[o,a,d,p]=r;return Ya(o,a,d,p)}else if(typeof r=="string")return hv[r];return r};function pv(r,o,a){const d=[],p=a||om,x=r.length-1;for(let y=0;y<x;y++){let A=p(r[y],r[y+1]);if(o){const w=Array.isArray(o)?o[y]||Vr:o;A=Ka(w,A)}d.push(A)}return d}function gv(r,o,{clamp:a=!0,ease:d,mixer:p}={}){const x=r.length;if(ag(x===o.length),x===1)return()=>o[0];if(x===2&&o[0]===o[1])return()=>o[1];const y=r[0]===r[1];r[0]>r[x-1]&&(r=[...r].reverse(),o=[...o].reverse());const A=pv(o,d,p),w=A.length,E=S=>{if(y&&S<r[0])return o[0];let T=0;if(w>1)for(;T<r.length-2&&!(S<r[T+1]);T++);const R=Da(r[T],r[T+1],S);return A[T](R)};return a?S=>E(Bi(r[0],r[x-1],S)):E}function mv(r,o){const a=r[r.length-1];for(let d=1;d<=o;d++){const p=Da(0,o,d);r.push(cn(a,1,p))}}function xv(r){const o=[0];return mv(o,r.length-1),o}function yv(r,o){return r.map(a=>a*o)}function wv(r,o){return r.map(()=>o||lm).splice(0,r.length-1)}function Cc({duration:r=300,keyframes:o,times:a,ease:d="easeInOut"}){const p=dv(d)?d.map(H1):H1(d),x={done:!1,value:o[0]},y=yv(a&&a.length===o.length?a:xv(o),r),A=gv(y,o,{ease:Array.isArray(p)?p:wv(o,p)});return{calculatedDuration:r,next:w=>(x.value=A(w),x.done=w>=r,x)}}const vv=r=>{const o=({timestamp:a})=>r(a);return{start:()=>Zt.update(o,!0),stop:()=>gs(o),now:()=>Yn.isProcessing?Yn.timestamp:hi.now()}},Cv={decay:W1,inertia:W1,tween:Cc,keyframes:Cc,spring:vc},Ev=r=>r/100;class Ud extends im{constructor(o){super(o),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:w}=this.options;w&&w()};const{name:a,motionValue:d,element:p,keyframes:x}=this.options,y=(p==null?void 0:p.KeyframeResolver)||jd,A=(w,E)=>this.onKeyframesResolved(w,E);this.resolver=new y(x,A,a,d,p),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(o){const{type:a="keyframes",repeat:d=0,repeatDelay:p=0,repeatType:x,velocity:y=0}=this.options,A=xd(a)?a:Cv[a]||Cc;let w,E;A!==Cc&&typeof o[0]!="number"&&(w=Ka(Ev,om(o[0],o[1])),o=[0,100]);const S=A({...this.options,keyframes:o});x==="mirror"&&(E=A({...this.options,keyframes:[...o].reverse(),velocity:-y})),S.calculatedDuration===null&&(S.calculatedDuration=wd(S));const{calculatedDuration:T}=S,R=T+p,k=R*(d+1)-p;return{generator:S,mirroredGenerator:E,mapPercentToKeyframes:w,calculatedDuration:T,resolvedDuration:R,totalDuration:k}}onPostResolved(){const{autoplay:o=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!o?this.pause():this.state=this.pendingPlayState}tick(o,a=!1){const{resolved:d}=this;if(!d){const{keyframes:ce}=this.options;return{done:!0,value:ce[ce.length-1]}}const{finalKeyframe:p,generator:x,mirroredGenerator:y,mapPercentToKeyframes:A,keyframes:w,calculatedDuration:E,totalDuration:S,resolvedDuration:T}=d;if(this.startTime===null)return x.next(0);const{delay:R,repeat:k,repeatType:L,repeatDelay:j,onUpdate:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,o):this.speed<0&&(this.startTime=Math.min(o-S/this.speed,this.startTime)),a?this.currentTime=o:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(o-this.startTime)*this.speed;const U=this.currentTime-R*(this.speed>=0?1:-1),H=this.speed>=0?U<0:U>S;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=S);let W=this.currentTime,Q=x;if(k){const ce=Math.min(this.currentTime,S)/T;let q=Math.floor(ce),Ne=ce%1;!Ne&&ce>=1&&(Ne=1),Ne===1&&q--,q=Math.min(q,k+1),!!(q%2)&&(L==="reverse"?(Ne=1-Ne,j&&(Ne-=j/T)):L==="mirror"&&(Q=y)),W=Bi(0,1,Ne)*T}const ue=H?{done:!1,value:w[0]}:Q.next(W);A&&(ue.value=A(ue.value));let{done:se}=ue;!H&&E!==null&&(se=this.speed>=0?this.currentTime>=S:this.currentTime<=0);const J=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return J&&p!==void 0&&(ue.value=Dc(w,this.options,p)),B&&B(ue.value),J&&this.finish(),ue}get duration(){const{resolved:o}=this;return o?di(o.calculatedDuration):0}get time(){return di(this.currentTime)}set time(o){o=fi(o),this.currentTime=o,this.holdTime!==null||this.speed===0?this.holdTime=o:this.driver&&(this.startTime=this.driver.now()-o/this.speed)}get speed(){return this.playbackSpeed}set speed(o){const a=this.playbackSpeed!==o;this.playbackSpeed=o,a&&(this.time=di(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:o=vv,onPlay:a,startTime:d}=this.options;this.driver||(this.driver=o(x=>this.tick(x))),a&&a();const p=this.driver.now();this.holdTime!==null?this.startTime=p-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=p):this.startTime=d??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:o}=this.options;o&&o()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(o){return this.startTime=0,this.tick(o,!0)}get finished(){return this.currentFinishedPromise}}const Av=new Set(["opacity","clipPath","filter","transform"]),Sv=pd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ec=10,bv=2e4;function Iv(r){return xd(r.type)||r.type==="spring"||!fg(r.ease)}function Tv(r,o){const a=new Ud({...o,keyframes:r,repeat:0,delay:0,isGenerator:!0});let d={done:!1,value:r[0]};const p=[];let x=0;for(;!d.done&&x<bv;)d=a.sample(x),p.push(d.value),x+=Ec;return{times:void 0,keyframes:p,duration:x-Ec,ease:"linear"}}const cm={anticipate:Vg,backInOut:jg,circInOut:zg};function Nv(r){return r in cm}class G1 extends im{constructor(o){super(o);const{name:a,motionValue:d,element:p,keyframes:x}=this.options;this.resolver=new rm(x,(y,A)=>this.onKeyframesResolved(y,A),a,d,p),this.resolver.scheduleResolve()}initPlayback(o,a){let{duration:d=300,times:p,ease:x,type:y,motionValue:A,name:w,startTime:E}=this.options;if(!A.owner||!A.owner.current)return!1;if(typeof x=="string"&&ka()&&Nv(x)&&(x=cm[x]),Iv(this.options)){const{onComplete:T,onUpdate:R,motionValue:k,element:L,...j}=this.options,B=Tv(o,j);o=B.keyframes,o.length===1&&(o[1]=o[0]),d=B.duration,p=B.times,x=B.ease,y="keyframes"}const S=ow(A.owner.current,w,o,{...this.options,duration:d,times:p,ease:x});return S.startTime=E??this.calcStartTime(),this.pendingTimeline?(w1(S,this.pendingTimeline),this.pendingTimeline=void 0):S.onfinish=()=>{const{onComplete:T}=this.options;A.set(Dc(o,this.options,a)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:S,duration:d,times:p,type:y,ease:x,keyframes:o}}get duration(){const{resolved:o}=this;if(!o)return 0;const{duration:a}=o;return di(a)}get time(){const{resolved:o}=this;if(!o)return 0;const{animation:a}=o;return di(a.currentTime||0)}set time(o){const{resolved:a}=this;if(!a)return;const{animation:d}=a;d.currentTime=fi(o)}get speed(){const{resolved:o}=this;if(!o)return 1;const{animation:a}=o;return a.playbackRate}get finished(){return this.resolved.animation.finished}set speed(o){const{resolved:a}=this;if(!a)return;const{animation:d}=a;d.playbackRate=o}get state(){const{resolved:o}=this;if(!o)return"idle";const{animation:a}=o;return a.playState}get startTime(){const{resolved:o}=this;if(!o)return null;const{animation:a}=o;return a.startTime}attachTimeline(o){if(!this._resolved)this.pendingTimeline=o;else{const{resolved:a}=this;if(!a)return Vr;const{animation:d}=a;w1(d,o)}return Vr}play(){if(this.isStopped)return;const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.playState==="finished"&&this.updateFinishedPromise(),a.play()}pause(){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:o}=this;if(!o)return;const{animation:a,keyframes:d,duration:p,type:x,ease:y,times:A}=o;if(a.playState==="idle"||a.playState==="finished")return;if(this.time){const{motionValue:E,onUpdate:S,onComplete:T,element:R,...k}=this.options,L=new Ud({...k,keyframes:d,duration:p,type:x,ease:y,times:A,isGenerator:!0}),j=fi(this.time);E.setWithVelocity(L.sample(j-Ec).value,L.sample(j).value,Ec)}const{onStop:w}=this.options;w&&w(),this.cancel()}complete(){const{resolved:o}=this;o&&o.animation.finish()}cancel(){const{resolved:o}=this;o&&o.animation.cancel()}static supports(o){const{motionValue:a,name:d,repeatDelay:p,repeatType:x,damping:y,type:A}=o;if(!a||!a.owner||!(a.owner.current instanceof HTMLElement))return!1;const{onUpdate:w,transformTemplate:E}=a.owner.getProps();return Sv()&&d&&Av.has(d)&&(d!=="transform"||!E)&&!w&&!p&&x!=="mirror"&&y!==0&&A!=="inertia"}}const Rv={type:"spring",stiffness:500,damping:25,restSpeed:10},_v=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Ov={type:"keyframes",duration:.8},Pv={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mv=(r,{keyframes:o})=>o.length>2?Ov:Qs.has(r)?r.startsWith("scale")?_v(o[1]):Rv:Pv;function Dv({when:r,delay:o,delayChildren:a,staggerChildren:d,staggerDirection:p,repeat:x,repeatType:y,repeatDelay:A,from:w,elapsed:E,...S}){return!!Object.keys(S).length}const zd=(r,o,a,d={},p,x)=>y=>{const A=yd(d,r)||{},w=A.delay||d.delay||0;let{elapsed:E=0}=d;E=E-fi(w);let S={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:o.getVelocity(),...A,delay:-E,onUpdate:R=>{o.set(R),A.onUpdate&&A.onUpdate(R)},onComplete:()=>{y(),A.onComplete&&A.onComplete()},name:r,motionValue:o,element:x?void 0:p};Dv(A)||(S={...S,...Mv(r,S)}),S.duration&&(S.duration=fi(S.duration)),S.repeatDelay&&(S.repeatDelay=fi(S.repeatDelay)),S.from!==void 0&&(S.keyframes[0]=S.from);let T=!1;if((S.type===!1||S.duration===0&&!S.repeatDelay)&&(S.duration=0,S.delay===0&&(T=!0)),S.allowFlatten=!A.type&&!A.ease,T&&!x&&o.get()!==void 0){const R=Dc(S.keyframes,A);if(R!==void 0)return Zt.update(()=>{S.onUpdate(R),S.onComplete()}),new rw([])}return!x&&G1.supports(S)?new G1(S):new Ud(S)};function kv({protectedKeys:r,needsAnimating:o},a){const d=r.hasOwnProperty(a)&&o[a]!==!0;return o[a]=!1,d}function um(r,o,{delay:a=0,transitionOverride:d,type:p}={}){let{transition:x=r.getDefaultTransition(),transitionEnd:y,...A}=o;d&&(x=d);const w=[],E=p&&r.animationState&&r.animationState.getState()[p];for(const S in A){const T=r.getValue(S,r.latestValues[S]??null),R=A[S];if(R===void 0||E&&kv(E,S))continue;const k={delay:a,...yd(x||{},S)};let L=!1;if(window.MotionHandoffAnimation){const B=Dg(r);if(B){const U=window.MotionHandoffAnimation(B,S,Zt);U!==null&&(k.startTime=U,L=!0)}}Mf(r,S),T.start(zd(S,T,R,r.shouldReduceMotion&&Mg.has(S)?{type:!1}:k,r,L));const j=T.animation;j&&w.push(j)}return y&&Promise.all(w).then(()=>{Zt.update(()=>{y&&u3(r,y)})}),w}function Wf(r,o,a={}){var w;const d=Va(r,o,a.type==="exit"?(w=r.presenceContext)==null?void 0:w.custom:void 0);let{transition:p=r.getDefaultTransition()||{}}=d||{};a.transitionOverride&&(p=a.transitionOverride);const x=d?()=>Promise.all(um(r,d,a)):()=>Promise.resolve(),y=r.variantChildren&&r.variantChildren.size?(E=0)=>{const{delayChildren:S=0,staggerChildren:T,staggerDirection:R}=p;return Lv(r,o,S+E,T,R,a)}:()=>Promise.resolve(),{when:A}=p;if(A){const[E,S]=A==="beforeChildren"?[x,y]:[y,x];return E().then(()=>S())}else return Promise.all([x(),y(a.delay)])}function Lv(r,o,a=0,d=0,p=1,x){const y=[],A=(r.variantChildren.size-1)*d,w=p===1?(E=0)=>E*d:(E=0)=>A-E*d;return Array.from(r.variantChildren).sort(Bv).forEach((E,S)=>{E.notify("AnimationStart",o),y.push(Wf(E,o,{...x,delay:a+w(S)}).then(()=>E.notify("AnimationComplete",o)))}),Promise.all(y)}function Bv(r,o){return r.sortNodePosition(o)}function Fv(r,o,a={}){r.notify("AnimationStart",o);let d;if(Array.isArray(o)){const p=o.map(x=>Wf(r,x,a));d=Promise.all(p)}else if(typeof o=="string")d=Wf(r,o,a);else{const p=typeof o=="function"?Va(r,o,a.custom):o;d=Promise.all(um(r,p,a))}return d.then(()=>{r.notify("AnimationComplete",o)})}function fm(r,o){if(!Array.isArray(o))return!1;const a=o.length;if(a!==r.length)return!1;for(let d=0;d<a;d++)if(o[d]!==r[d])return!1;return!0}const jv=Ad.length;function dm(r){if(!r)return;if(!r.isControllingVariants){const a=r.parent?dm(r.parent)||{}:{};return r.props.initial!==void 0&&(a.initial=r.props.initial),a}const o={};for(let a=0;a<jv;a++){const d=Ad[a],p=r.props[d];(Ba(p)||p===!1)&&(o[d]=p)}return o}const Vv=[...Ed].reverse(),Uv=Ed.length;function zv(r){return o=>Promise.all(o.map(({animation:a,options:d})=>Fv(r,a,d)))}function Wv(r){let o=zv(r),a=X1(),d=!0;const p=w=>(E,S)=>{var R;const T=Va(r,S,w==="exit"?(R=r.presenceContext)==null?void 0:R.custom:void 0);if(T){const{transition:k,transitionEnd:L,...j}=T;E={...E,...j,...L}}return E};function x(w){o=w(r)}function y(w){const{props:E}=r,S=dm(r.parent)||{},T=[],R=new Set;let k={},L=1/0;for(let B=0;B<Uv;B++){const U=Vv[B],H=a[U],W=E[U]!==void 0?E[U]:S[U],Q=Ba(W),ue=U===w?H.isActive:null;ue===!1&&(L=B);let se=W===S[U]&&W!==E[U]&&Q;if(se&&d&&r.manuallyAnimateOnMount&&(se=!1),H.protectedKeys={...k},!H.isActive&&ue===null||!W&&!H.prevProp||Pc(W)||typeof W=="boolean")continue;const J=Hv(H.prevProp,W);let ce=J||U===w&&H.isActive&&!se&&Q||B>L&&Q,q=!1;const Ne=Array.isArray(W)?W:[W];let Xe=Ne.reduce(p(U),{});ue===!1&&(Xe={});const{prevResolvedValues:Ie={}}=H,Me={...Ie,...Xe},Fe=pe=>{ce=!0,R.has(pe)&&(q=!0,R.delete(pe)),H.needsAnimating[pe]=!0;const de=r.getValue(pe);de&&(de.liveStyle=!1)};for(const pe in Me){const de=Xe[pe],Re=Ie[pe];if(k.hasOwnProperty(pe))continue;let fe=!1;Pf(de)&&Pf(Re)?fe=!fm(de,Re):fe=de!==Re,fe?de!=null?Fe(pe):R.add(pe):de!==void 0&&R.has(pe)?Fe(pe):H.protectedKeys[pe]=!0}H.prevProp=W,H.prevResolvedValues=Xe,H.isActive&&(k={...k,...Xe}),d&&r.blockInitialAnimation&&(ce=!1),ce&&(!(se&&J)||q)&&T.push(...Ne.map(pe=>({animation:pe,options:{type:U}})))}if(R.size){const B={};if(typeof E.initial!="boolean"){const U=Va(r,Array.isArray(E.initial)?E.initial[0]:E.initial);U&&U.transition&&(B.transition=U.transition)}R.forEach(U=>{const H=r.getBaseTarget(U),W=r.getValue(U);W&&(W.liveStyle=!0),B[U]=H??null}),T.push({animation:B})}let j=!!T.length;return d&&(E.initial===!1||E.initial===E.animate)&&!r.manuallyAnimateOnMount&&(j=!1),d=!1,j?o(T):Promise.resolve()}function A(w,E){var T;if(a[w].isActive===E)return Promise.resolve();(T=r.variantChildren)==null||T.forEach(R=>{var k;return(k=R.animationState)==null?void 0:k.setActive(w,E)}),a[w].isActive=E;const S=y(w);for(const R in a)a[R].protectedKeys={};return S}return{animateChanges:y,setActive:A,setAnimateFunction:x,getState:()=>a,reset:()=>{a=X1(),d=!0}}}function Hv(r,o){return typeof o=="string"?o!==r:Array.isArray(o)?!fm(o,r):!1}function Gs(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function X1(){return{animate:Gs(!0),whileInView:Gs(),whileHover:Gs(),whileTap:Gs(),whileDrag:Gs(),whileFocus:Gs(),exit:Gs()}}class xs{constructor(o){this.isMounted=!1,this.node=o}update(){}}class Gv extends xs{constructor(o){super(o),o.animationState||(o.animationState=Wv(o))}updateAnimationControlsSubscription(){const{animate:o}=this.node.getProps();Pc(o)&&(this.unmountControls=o.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:o}=this.node.getProps(),{animate:a}=this.node.prevProps||{};o!==a&&this.updateAnimationControlsSubscription()}unmount(){var o;this.node.animationState.reset(),(o=this.unmountControls)==null||o.call(this)}}let Xv=0;class Yv extends xs{constructor(){super(...arguments),this.id=Xv++}update(){if(!this.node.presenceContext)return;const{isPresent:o,onExitComplete:a}=this.node.presenceContext,{isPresent:d}=this.node.prevPresenceContext||{};if(!this.node.animationState||o===d)return;const p=this.node.animationState.setActive("exit",!o);a&&!o&&p.then(()=>{a(this.id)})}mount(){const{register:o,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),o&&(this.unmount=o(this.id))}unmount(){}}const Kv={animation:{Feature:Gv},exit:{Feature:Yv}};function za(r,o,a,d={passive:!0}){return r.addEventListener(o,a,d),()=>r.removeEventListener(o,a)}function Za(r){return{point:{x:r.pageX,y:r.pageY}}}const Zv=r=>o=>Cd(o)&&r(o,Za(o));function Ra(r,o,a,d){return za(r,o,Zv(a),d)}function hm({top:r,left:o,right:a,bottom:d}){return{x:{min:o,max:a},y:{min:r,max:d}}}function $v({x:r,y:o}){return{top:o.min,right:r.max,bottom:o.max,left:r.min}}function qv(r,o){if(!o)return r;const a=o({x:r.left,y:r.top}),d=o({x:r.right,y:r.bottom});return{top:a.y,left:a.x,bottom:d.y,right:d.x}}const pm=1e-4,Qv=1-pm,Jv=1+pm,gm=.01,eC=0-gm,tC=0+gm;function ur(r){return r.max-r.min}function nC(r,o,a){return Math.abs(r-o)<=a}function Y1(r,o,a,d=.5){r.origin=d,r.originPoint=cn(o.min,o.max,r.origin),r.scale=ur(a)/ur(o),r.translate=cn(a.min,a.max,r.origin)-r.originPoint,(r.scale>=Qv&&r.scale<=Jv||isNaN(r.scale))&&(r.scale=1),(r.translate>=eC&&r.translate<=tC||isNaN(r.translate))&&(r.translate=0)}function _a(r,o,a,d){Y1(r.x,o.x,a.x,d?d.originX:void 0),Y1(r.y,o.y,a.y,d?d.originY:void 0)}function K1(r,o,a){r.min=a.min+o.min,r.max=r.min+ur(o)}function rC(r,o,a){K1(r.x,o.x,a.x),K1(r.y,o.y,a.y)}function Z1(r,o,a){r.min=o.min-a.min,r.max=r.min+ur(o)}function Oa(r,o,a){Z1(r.x,o.x,a.x),Z1(r.y,o.y,a.y)}const $1=()=>({translate:0,scale:1,origin:0,originPoint:0}),No=()=>({x:$1(),y:$1()}),q1=()=>({min:0,max:0}),En=()=>({x:q1(),y:q1()});function jr(r){return[r("x"),r("y")]}function vf(r){return r===void 0||r===1}function Hf({scale:r,scaleX:o,scaleY:a}){return!vf(r)||!vf(o)||!vf(a)}function Xs(r){return Hf(r)||mm(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function mm(r){return Q1(r.x)||Q1(r.y)}function Q1(r){return r&&r!=="0%"}function Ac(r,o,a){const d=r-a,p=o*d;return a+p}function J1(r,o,a,d,p){return p!==void 0&&(r=Ac(r,p,d)),Ac(r,a,d)+o}function Gf(r,o=0,a=1,d,p){r.min=J1(r.min,o,a,d,p),r.max=J1(r.max,o,a,d,p)}function xm(r,{x:o,y:a}){Gf(r.x,o.translate,o.scale,o.originPoint),Gf(r.y,a.translate,a.scale,a.originPoint)}const ep=.999999999999,tp=1.0000000000001;function iC(r,o,a,d=!1){const p=a.length;if(!p)return;o.x=o.y=1;let x,y;for(let A=0;A<p;A++){x=a[A],y=x.projectionDelta;const{visualElement:w}=x.options;w&&w.props.style&&w.props.style.display==="contents"||(d&&x.options.layoutScroll&&x.scroll&&x!==x.root&&_o(r,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),y&&(o.x*=y.x.scale,o.y*=y.y.scale,xm(r,y)),d&&Xs(x.latestValues)&&_o(r,x.latestValues))}o.x<tp&&o.x>ep&&(o.x=1),o.y<tp&&o.y>ep&&(o.y=1)}function Ro(r,o){r.min=r.min+o,r.max=r.max+o}function np(r,o,a,d,p=.5){const x=cn(r.min,r.max,p);Gf(r,o,a,x,d)}function _o(r,o){np(r.x,o.x,o.scaleX,o.scale,o.originX),np(r.y,o.y,o.scaleY,o.scale,o.originY)}function ym(r,o){return hm(qv(r.getBoundingClientRect(),o))}function sC(r,o,a){const d=ym(r,a),{scroll:p}=o;return p&&(Ro(d.x,p.offset.x),Ro(d.y,p.offset.y)),d}const wm=({current:r})=>r?r.ownerDocument.defaultView:null,rp=(r,o)=>Math.abs(r-o);function oC(r,o){const a=rp(r.x,o.x),d=rp(r.y,o.y);return Math.sqrt(a**2+d**2)}class vm{constructor(o,a,{transformPagePoint:d,contextWindow:p,dragSnapToOrigin:x=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ef(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,k=oC(T.offset,{x:0,y:0})>=3;if(!R&&!k)return;const{point:L}=T,{timestamp:j}=Yn;this.history.push({...L,timestamp:j});const{onStart:B,onMove:U}=this.handlers;R||(B&&B(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,T)},this.handlePointerMove=(T,R)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Cf(R,this.transformPagePoint),Zt.update(this.updatePoint,!0)},this.handlePointerUp=(T,R)=>{this.end();const{onEnd:k,onSessionEnd:L,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Ef(T.type==="pointercancel"?this.lastMoveEventInfo:Cf(R,this.transformPagePoint),this.history);this.startEvent&&k&&k(T,B),L&&L(T,B)},!Cd(o))return;this.dragSnapToOrigin=x,this.handlers=a,this.transformPagePoint=d,this.contextWindow=p||window;const y=Za(o),A=Cf(y,this.transformPagePoint),{point:w}=A,{timestamp:E}=Yn;this.history=[{...w,timestamp:E}];const{onSessionStart:S}=a;S&&S(o,Ef(A,this.history)),this.removeListeners=Ka(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(o){this.handlers=o}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function Cf(r,o){return o?{point:o(r.point)}:r}function ip(r,o){return{x:r.x-o.x,y:r.y-o.y}}function Ef({point:r},o){return{point:r,delta:ip(r,Cm(o)),offset:ip(r,aC(o)),velocity:lC(o,.1)}}function aC(r){return r[0]}function Cm(r){return r[r.length-1]}function lC(r,o){if(r.length<2)return{x:0,y:0};let a=r.length-1,d=null;const p=Cm(r);for(;a>=0&&(d=r[a],!(p.timestamp-d.timestamp>fi(o)));)a--;if(!d)return{x:0,y:0};const x=di(p.timestamp-d.timestamp);if(x===0)return{x:0,y:0};const y={x:(p.x-d.x)/x,y:(p.y-d.y)/x};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function cC(r,{min:o,max:a},d){return o!==void 0&&r<o?r=d?cn(o,r,d.min):Math.max(r,o):a!==void 0&&r>a&&(r=d?cn(a,r,d.max):Math.min(r,a)),r}function sp(r,o,a){return{min:o!==void 0?r.min+o:void 0,max:a!==void 0?r.max+a-(r.max-r.min):void 0}}function uC(r,{top:o,left:a,bottom:d,right:p}){return{x:sp(r.x,a,p),y:sp(r.y,o,d)}}function op(r,o){let a=o.min-r.min,d=o.max-r.max;return o.max-o.min<r.max-r.min&&([a,d]=[d,a]),{min:a,max:d}}function fC(r,o){return{x:op(r.x,o.x),y:op(r.y,o.y)}}function dC(r,o){let a=.5;const d=ur(r),p=ur(o);return p>d?a=Da(o.min,o.max-d,r.min):d>p&&(a=Da(r.min,r.max-p,o.min)),Bi(0,1,a)}function hC(r,o){const a={};return o.min!==void 0&&(a.min=o.min-r.min),o.max!==void 0&&(a.max=o.max-r.min),a}const Xf=.35;function pC(r=Xf){return r===!1?r=0:r===!0&&(r=Xf),{x:ap(r,"left","right"),y:ap(r,"top","bottom")}}function ap(r,o,a){return{min:lp(r,o),max:lp(r,a)}}function lp(r,o){return typeof r=="number"?r:r[o]||0}const gC=new WeakMap;class mC{constructor(o){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=En(),this.visualElement=o}start(o,{snapToCursor:a=!1}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const p=S=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Za(S).point)},x=(S,T)=>{const{drag:R,dragPropagation:k,onDragStart:L}=this.getProps();if(R&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fw(R),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(B=>{let U=this.getAxisMotionValue(B).get()||0;if(pi.test(U)){const{projection:H}=this.visualElement;if(H&&H.layout){const W=H.layout.layoutBox[B];W&&(U=ur(W)*(parseFloat(U)/100))}}this.originPoint[B]=U}),L&&Zt.postRender(()=>L(S,T)),Mf(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},y=(S,T)=>{const{dragPropagation:R,dragDirectionLock:k,onDirectionLock:L,onDrag:j}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:B}=T;if(k&&this.currentDirection===null){this.currentDirection=xC(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",T.point,B),this.updateAxis("y",T.point,B),this.visualElement.render(),j&&j(S,T)},A=(S,T)=>this.stop(S,T),w=()=>jr(S=>{var T;return this.getAnimationState(S)==="paused"&&((T=this.getAxisMotionValue(S).animation)==null?void 0:T.play())}),{dragSnapToOrigin:E}=this.getProps();this.panSession=new vm(o,{onSessionStart:p,onStart:x,onMove:y,onSessionEnd:A,resumeAnimation:w},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,contextWindow:wm(this.visualElement)})}stop(o,a){const d=this.isDragging;if(this.cancel(),!d)return;const{velocity:p}=a;this.startAnimation(p);const{onDragEnd:x}=this.getProps();x&&Zt.postRender(()=>x(o,a))}cancel(){this.isDragging=!1;const{projection:o,animationState:a}=this.visualElement;o&&(o.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:d}=this.getProps();!d&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(o,a,d){const{drag:p}=this.getProps();if(!d||!sc(o,p,this.currentDirection))return;const x=this.getAxisMotionValue(o);let y=this.originPoint[o]+d[o];this.constraints&&this.constraints[o]&&(y=cC(y,this.constraints[o],this.elastic[o])),x.set(y)}resolveConstraints(){var x;const{dragConstraints:o,dragElastic:a}=this.getProps(),d=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(x=this.visualElement.projection)==null?void 0:x.layout,p=this.constraints;o&&Io(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&d?this.constraints=uC(d.layoutBox,o):this.constraints=!1,this.elastic=pC(a),p!==this.constraints&&d&&this.constraints&&!this.hasMutatedConstraints&&jr(y=>{this.constraints!==!1&&this.getAxisMotionValue(y)&&(this.constraints[y]=hC(d.layoutBox[y],this.constraints[y]))})}resolveRefConstraints(){const{dragConstraints:o,onMeasureDragConstraints:a}=this.getProps();if(!o||!Io(o))return!1;const d=o.current,{projection:p}=this.visualElement;if(!p||!p.layout)return!1;const x=sC(d,p.root,this.visualElement.getTransformPagePoint());let y=fC(p.layout.layoutBox,x);if(a){const A=a($v(y));this.hasMutatedConstraints=!!A,A&&(y=hm(A))}return y}startAnimation(o){const{drag:a,dragMomentum:d,dragElastic:p,dragTransition:x,dragSnapToOrigin:y,onDragTransitionEnd:A}=this.getProps(),w=this.constraints||{},E=jr(S=>{if(!sc(S,a,this.currentDirection))return;let T=w&&w[S]||{};y&&(T={min:0,max:0});const R=p?200:1e6,k=p?40:1e7,L={type:"inertia",velocity:d?o[S]:0,bounceStiffness:R,bounceDamping:k,timeConstant:750,restDelta:1,restSpeed:10,...x,...T};return this.startAxisValueAnimation(S,L)});return Promise.all(E).then(A)}startAxisValueAnimation(o,a){const d=this.getAxisMotionValue(o);return Mf(this.visualElement,o),d.start(zd(o,d,0,a,this.visualElement,!1))}stopAnimation(){jr(o=>this.getAxisMotionValue(o).stop())}pauseAnimation(){jr(o=>{var a;return(a=this.getAxisMotionValue(o).animation)==null?void 0:a.pause()})}getAnimationState(o){var a;return(a=this.getAxisMotionValue(o).animation)==null?void 0:a.state}getAxisMotionValue(o){const a=`_drag${o.toUpperCase()}`,d=this.visualElement.getProps(),p=d[a];return p||this.visualElement.getValue(o,(d.initial?d.initial[o]:void 0)||0)}snapToCursor(o){jr(a=>{const{drag:d}=this.getProps();if(!sc(a,d,this.currentDirection))return;const{projection:p}=this.visualElement,x=this.getAxisMotionValue(a);if(p&&p.layout){const{min:y,max:A}=p.layout.layoutBox[a];x.set(o[a]-cn(y,A,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:o,dragConstraints:a}=this.getProps(),{projection:d}=this.visualElement;if(!Io(a)||!d||!this.constraints)return;this.stopAnimation();const p={x:0,y:0};jr(y=>{const A=this.getAxisMotionValue(y);if(A&&this.constraints!==!1){const w=A.get();p[y]=dC({min:w,max:w},this.constraints[y])}});const{transformTemplate:x}=this.visualElement.getProps();this.visualElement.current.style.transform=x?x({},""):"none",d.root&&d.root.updateScroll(),d.updateLayout(),this.resolveConstraints(),jr(y=>{if(!sc(y,o,null))return;const A=this.getAxisMotionValue(y),{min:w,max:E}=this.constraints[y];A.set(cn(w,E,p[y]))})}addListeners(){if(!this.visualElement.current)return;gC.set(this.visualElement,this);const o=this.visualElement.current,a=Ra(o,"pointerdown",w=>{const{drag:E,dragListener:S=!0}=this.getProps();E&&S&&this.start(w)}),d=()=>{const{dragConstraints:w}=this.getProps();Io(w)&&w.current&&(this.constraints=this.resolveRefConstraints())},{projection:p}=this.visualElement,x=p.addEventListener("measure",d);p&&!p.layout&&(p.root&&p.root.updateScroll(),p.updateLayout()),Zt.read(d);const y=za(window,"resize",()=>this.scalePositionWithinConstraints()),A=p.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E})=>{this.isDragging&&E&&(jr(S=>{const T=this.getAxisMotionValue(S);T&&(this.originPoint[S]+=w[S].translate,T.set(T.get()+w[S].translate))}),this.visualElement.render())});return()=>{y(),a(),x(),A&&A()}}getProps(){const o=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:d=!1,dragPropagation:p=!1,dragConstraints:x=!1,dragElastic:y=Xf,dragMomentum:A=!0}=o;return{...o,drag:a,dragDirectionLock:d,dragPropagation:p,dragConstraints:x,dragElastic:y,dragMomentum:A}}}function sc(r,o,a){return(o===!0||o===r)&&(a===null||a===r)}function xC(r,o=10){let a=null;return Math.abs(r.y)>o?a="y":Math.abs(r.x)>o&&(a="x"),a}class yC extends xs{constructor(o){super(o),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new mC(o)}mount(){const{dragControls:o}=this.node.getProps();o&&(this.removeGroupControls=o.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const cp=r=>(o,a)=>{r&&Zt.postRender(()=>r(o,a))};class wC extends xs{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(o){this.session=new vm(o,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wm(this.node)})}createPanHandlers(){const{onPanSessionStart:o,onPanStart:a,onPan:d,onPanEnd:p}=this.node.getProps();return{onSessionStart:cp(o),onStart:cp(a),onMove:d,onEnd:(x,y)=>{delete this.session,p&&Zt.postRender(()=>p(x,y))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",o=>this.onPointerDown(o))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function up(r,o){return o.max===o.min?0:r/(o.max-o.min)*100}const Sa={correct:(r,o)=>{if(!o.target)return r;if(typeof r=="string")if(it.test(r))r=parseFloat(r);else return r;const a=up(r,o.target.x),d=up(r,o.target.y);return`${a}% ${d}%`}},vC={correct:(r,{treeScale:o,projectionDelta:a})=>{const d=r,p=ms.parse(r);if(p.length>5)return d;const x=ms.createTransformer(r),y=typeof p[0]!="number"?1:0,A=a.x.scale*o.x,w=a.y.scale*o.y;p[0+y]/=A,p[1+y]/=w;const E=cn(A,w,.5);return typeof p[2+y]=="number"&&(p[2+y]/=E),typeof p[3+y]=="number"&&(p[3+y]/=E),x(p)}};class CC extends P.Component{componentDidMount(){const{visualElement:o,layoutGroup:a,switchLayoutGroup:d,layoutId:p}=this.props,{projection:x}=o;Fw(EC),x&&(a.group&&a.group.add(x),d&&d.register&&p&&d.register(x),x.root.didUpdate(),x.addEventListener("animationComplete",()=>{this.safeToRemove()}),x.setOptions({...x.options,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(o){const{layoutDependency:a,visualElement:d,drag:p,isPresent:x}=this.props,y=d.projection;return y&&(y.isPresent=x,p||o.layoutDependency!==a||a===void 0||o.isPresent!==x?y.willUpdate():this.safeToRemove(),o.isPresent!==x&&(x?y.promote():y.relegate()||Zt.postRender(()=>{const A=y.getStack();(!A||!A.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:o}=this.props.visualElement;o&&(o.root.didUpdate(),vd.postRender(()=>{!o.currentAnimation&&o.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:o,layoutGroup:a,switchLayoutGroup:d}=this.props,{projection:p}=o;p&&(p.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(p),d&&d.deregister&&d.deregister(p))}safeToRemove(){const{safeToRemove:o}=this.props;o&&o()}render(){return null}}function Em(r){const[o,a]=og(),d=P.useContext(ld);return I.jsx(CC,{...r,layoutGroup:d,switchLayoutGroup:P.useContext(vg),isPresent:o,safeToRemove:a})}const EC={borderRadius:{...Sa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sa,borderTopRightRadius:Sa,borderBottomLeftRadius:Sa,borderBottomRightRadius:Sa,boxShadow:vC};function AC(r,o,a){const d=ir(r)?r:La(r);return d.start(zd("",d,o,a)),d.animation}function SC(r){return r instanceof SVGElement&&r.tagName!=="svg"}const bC=(r,o)=>r.depth-o.depth;class IC{constructor(){this.children=[],this.isDirty=!1}add(o){dd(this.children,o),this.isDirty=!0}remove(o){hd(this.children,o),this.isDirty=!0}forEach(o){this.isDirty&&this.children.sort(bC),this.isDirty=!1,this.children.forEach(o)}}function TC(r,o){const a=hi.now(),d=({timestamp:p})=>{const x=p-a;x>=o&&(gs(d),r(x-o))};return Zt.read(d,!0),()=>gs(d)}const Am=["TopLeft","TopRight","BottomLeft","BottomRight"],NC=Am.length,fp=r=>typeof r=="string"?parseFloat(r):r,dp=r=>typeof r=="number"||it.test(r);function RC(r,o,a,d,p,x){p?(r.opacity=cn(0,a.opacity!==void 0?a.opacity:1,_C(d)),r.opacityExit=cn(o.opacity!==void 0?o.opacity:1,0,OC(d))):x&&(r.opacity=cn(o.opacity!==void 0?o.opacity:1,a.opacity!==void 0?a.opacity:1,d));for(let y=0;y<NC;y++){const A=`border${Am[y]}Radius`;let w=hp(o,A),E=hp(a,A);if(w===void 0&&E===void 0)continue;w||(w=0),E||(E=0),w===0||E===0||dp(w)===dp(E)?(r[A]=Math.max(cn(fp(w),fp(E),d),0),(pi.test(E)||pi.test(w))&&(r[A]+="%")):r[A]=E}(o.rotate||a.rotate)&&(r.rotate=cn(o.rotate||0,a.rotate||0,d))}function hp(r,o){return r[o]!==void 0?r[o]:r.borderRadius}const _C=Sm(0,.5,Ug),OC=Sm(.5,.95,Vr);function Sm(r,o,a){return d=>d<r?0:d>o?1:a(Da(r,o,d))}function pp(r,o){r.min=o.min,r.max=o.max}function Fr(r,o){pp(r.x,o.x),pp(r.y,o.y)}function gp(r,o){r.translate=o.translate,r.scale=o.scale,r.originPoint=o.originPoint,r.origin=o.origin}function mp(r,o,a,d,p){return r-=o,r=Ac(r,1/a,d),p!==void 0&&(r=Ac(r,1/p,d)),r}function PC(r,o=0,a=1,d=.5,p,x=r,y=r){if(pi.test(o)&&(o=parseFloat(o),o=cn(y.min,y.max,o/100)-y.min),typeof o!="number")return;let A=cn(x.min,x.max,d);r===x&&(A-=o),r.min=mp(r.min,o,a,A,p),r.max=mp(r.max,o,a,A,p)}function xp(r,o,[a,d,p],x,y){PC(r,o[a],o[d],o[p],o.scale,x,y)}const MC=["x","scaleX","originX"],DC=["y","scaleY","originY"];function yp(r,o,a,d){xp(r.x,o,MC,a?a.x:void 0,d?d.x:void 0),xp(r.y,o,DC,a?a.y:void 0,d?d.y:void 0)}function wp(r){return r.translate===0&&r.scale===1}function bm(r){return wp(r.x)&&wp(r.y)}function vp(r,o){return r.min===o.min&&r.max===o.max}function kC(r,o){return vp(r.x,o.x)&&vp(r.y,o.y)}function Cp(r,o){return Math.round(r.min)===Math.round(o.min)&&Math.round(r.max)===Math.round(o.max)}function Im(r,o){return Cp(r.x,o.x)&&Cp(r.y,o.y)}function Ep(r){return ur(r.x)/ur(r.y)}function Ap(r,o){return r.translate===o.translate&&r.scale===o.scale&&r.originPoint===o.originPoint}class LC{constructor(){this.members=[]}add(o){dd(this.members,o),o.scheduleRender()}remove(o){if(hd(this.members,o),o===this.prevLead&&(this.prevLead=void 0),o===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(o){const a=this.members.findIndex(p=>o===p);if(a===0)return!1;let d;for(let p=a;p>=0;p--){const x=this.members[p];if(x.isPresent!==!1){d=x;break}}return d?(this.promote(d),!0):!1}promote(o,a){const d=this.lead;if(o!==d&&(this.prevLead=d,this.lead=o,o.show(),d)){d.instance&&d.scheduleRender(),o.scheduleRender(),o.resumeFrom=d,a&&(o.resumeFrom.preserveOpacity=!0),d.snapshot&&(o.snapshot=d.snapshot,o.snapshot.latestValues=d.animationValues||d.latestValues),o.root&&o.root.isUpdating&&(o.isLayoutDirty=!0);const{crossfade:p}=o.options;p===!1&&d.hide()}}exitAnimationComplete(){this.members.forEach(o=>{const{options:a,resumingFrom:d}=o;a.onExitComplete&&a.onExitComplete(),d&&d.options.onExitComplete&&d.options.onExitComplete()})}scheduleRender(){this.members.forEach(o=>{o.instance&&o.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BC(r,o,a){let d="";const p=r.x.translate/o.x,x=r.y.translate/o.y,y=(a==null?void 0:a.z)||0;if((p||x||y)&&(d=`translate3d(${p}px, ${x}px, ${y}px) `),(o.x!==1||o.y!==1)&&(d+=`scale(${1/o.x}, ${1/o.y}) `),a){const{transformPerspective:E,rotate:S,rotateX:T,rotateY:R,skewX:k,skewY:L}=a;E&&(d=`perspective(${E}px) ${d}`),S&&(d+=`rotate(${S}deg) `),T&&(d+=`rotateX(${T}deg) `),R&&(d+=`rotateY(${R}deg) `),k&&(d+=`skewX(${k}deg) `),L&&(d+=`skewY(${L}deg) `)}const A=r.x.scale*o.x,w=r.y.scale*o.y;return(A!==1||w!==1)&&(d+=`scale(${A}, ${w})`),d||"none"}const Af=["","X","Y","Z"],FC={visibility:"hidden"},Sp=1e3;let jC=0;function Sf(r,o,a,d){const{latestValues:p}=o;p[r]&&(a[r]=p[r],o.setStaticValue(r,0),d&&(d[r]=0))}function Tm(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:o}=r.options;if(!o)return;const a=Dg(o);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:p,layoutId:x}=r.options;window.MotionCancelOptimisedAnimation(a,"transform",Zt,!(p||x))}const{parent:d}=r;d&&!d.hasCheckedOptimisedAppear&&Tm(d)}function Nm({attachResizeListener:r,defaultParent:o,measureScroll:a,checkIsScrollRoot:d,resetTransform:p}){return class{constructor(y={},A=o==null?void 0:o()){this.id=jC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zC),this.nodes.forEach(YC),this.nodes.forEach(KC),this.nodes.forEach(WC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=y,this.root=A?A.root||A:this,this.path=A?[...A.path,A]:[],this.parent=A,this.depth=A?A.depth+1:0;for(let w=0;w<this.path.length;w++)this.path[w].shouldResetTransform=!0;this.root===this&&(this.nodes=new IC)}addEventListener(y,A){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new gd),this.eventHandlers.get(y).add(A)}notifyListeners(y,...A){const w=this.eventHandlers.get(y);w&&w.notify(...A)}hasListeners(y){return this.eventHandlers.has(y)}mount(y,A=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SC(y),this.instance=y;const{layoutId:w,layout:E,visualElement:S}=this.options;if(S&&!S.current&&S.mount(y),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),A&&(E||w)&&(this.isLayoutDirty=!0),r){let T;const R=()=>this.root.updateBlockedByResize=!1;r(y,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=TC(R,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(Ip))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&S&&(w||E)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:R,hasRelativeLayoutChanged:k,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||S.getDefaultTransition()||JC,{onLayoutAnimationStart:B,onLayoutAnimationComplete:U}=S.getProps(),H=!this.targetLayout||!Im(this.targetLayout,L),W=!R&&k;if(this.options.layoutRoot||this.resumeFrom||W||R&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,W);const Q={...yd(j,"layout"),onPlay:B,onComplete:U};(S.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else R||Ip(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const y=this.getStack();y&&y.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZC),this.animationId++)}getTransformTemplate(){const{visualElement:y}=this.options;return y&&y.getProps().transformTemplate}willUpdate(y=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tm(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let S=0;S<this.path.length;S++){const T=this.path[S];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:A,layout:w}=this.options;if(A===void 0&&!w)return;const E=this.getTransformTemplate();this.prevTransformTemplateValue=E?E(this.latestValues,""):void 0,this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bp);return}this.isUpdating||this.nodes.forEach(GC),this.isUpdating=!1,this.nodes.forEach(XC),this.nodes.forEach(VC),this.nodes.forEach(UC),this.clearAllSnapshots();const A=hi.now();Yn.delta=Bi(0,1e3/60,A-Yn.timestamp),Yn.timestamp=A,Yn.isProcessing=!0,gf.update.process(Yn),gf.preRender.process(Yn),gf.render.process(Yn),Yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HC),this.sharedNodes.forEach($C)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ur(this.snapshot.measuredBox.x)&&!ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let w=0;w<this.path.length;w++)this.path[w].updateScroll();const y=this.layout;this.layout=this.measure(!1),this.layoutCorrected=En(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:A}=this.options;A&&A.notify("LayoutMeasure",this.layout.layoutBox,y?y.layoutBox:void 0)}updateScroll(y="measure"){let A=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===y&&(A=!1),A){const w=d(this.instance);this.scroll={animationId:this.root.animationId,phase:y,isRoot:w,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:w}}}resetTransform(){if(!p)return;const y=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,A=this.projectionDelta&&!bm(this.projectionDelta),w=this.getTransformTemplate(),E=w?w(this.latestValues,""):void 0,S=E!==this.prevTransformTemplateValue;y&&(A||Xs(this.latestValues)||S)&&(p(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const A=this.measurePageBox();let w=this.removeElementScroll(A);return y&&(w=this.removeTransform(w)),eE(w),{animationId:this.root.animationId,measuredBox:A,layoutBox:w,latestValues:{},source:this.id}}measurePageBox(){var E;const{visualElement:y}=this.options;if(!y)return En();const A=y.measureViewportBox();if(!(((E=this.scroll)==null?void 0:E.wasRoot)||this.path.some(tE))){const{scroll:S}=this.root;S&&(Ro(A.x,S.offset.x),Ro(A.y,S.offset.y))}return A}removeElementScroll(y){var w;const A=En();if(Fr(A,y),(w=this.scroll)!=null&&w.wasRoot)return A;for(let E=0;E<this.path.length;E++){const S=this.path[E],{scroll:T,options:R}=S;S!==this.root&&T&&R.layoutScroll&&(T.wasRoot&&Fr(A,y),Ro(A.x,T.offset.x),Ro(A.y,T.offset.y))}return A}applyTransform(y,A=!1){const w=En();Fr(w,y);for(let E=0;E<this.path.length;E++){const S=this.path[E];!A&&S.options.layoutScroll&&S.scroll&&S!==S.root&&_o(w,{x:-S.scroll.offset.x,y:-S.scroll.offset.y}),Xs(S.latestValues)&&_o(w,S.latestValues)}return Xs(this.latestValues)&&_o(w,this.latestValues),w}removeTransform(y){const A=En();Fr(A,y);for(let w=0;w<this.path.length;w++){const E=this.path[w];if(!E.instance||!Xs(E.latestValues))continue;Hf(E.latestValues)&&E.updateSnapshot();const S=En(),T=E.measurePageBox();Fr(S,T),yp(A,E.latestValues,E.snapshot?E.snapshot.layoutBox:void 0,S)}return Xs(this.latestValues)&&yp(A,this.latestValues),A}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(y=!1){var R;const A=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=A.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=A.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=A.isSharedProjectionDirty);const w=!!this.resumingFrom||this!==A;if(!(y||w&&this.isSharedProjectionDirty||this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:S,layoutId:T}=this.options;if(!(!this.layout||!(S||T))){if(this.resolvedRelativeTargetAt=Yn.timestamp,!this.targetDelta&&!this.relativeTarget){const k=this.getClosestProjectingParent();k&&k.layout&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),Oa(this.relativeTargetOrigin,this.layout.layoutBox,k.layout.layoutBox),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=En(),this.targetWithTransforms=En()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fr(this.target,this.layout.layoutBox),xm(this.target,this.targetDelta)):Fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const k=this.getClosestProjectingParent();k&&!!k.resumingFrom==!!this.resumingFrom&&!k.options.layoutScroll&&k.target&&this.animationProgress!==1?(this.relativeParent=k,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),Oa(this.relativeTargetOrigin,this.target,k.target),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Hf(this.parent.latestValues)||mm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var L;const y=this.getLead(),A=!!this.resumingFrom||this!==y;let w=!0;if((this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty)&&(w=!1),A&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(w=!1),this.resolvedRelativeTargetAt===Yn.timestamp&&(w=!1),w)return;const{layout:E,layoutId:S}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||S))return;Fr(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,R=this.treeScale.y;iC(this.layoutCorrected,this.treeScale,this.path,A),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=En());const{target:k}=y;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gp(this.prevProjectionDelta.x,this.projectionDelta.x),gp(this.prevProjectionDelta.y,this.projectionDelta.y)),_a(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==R||!Ap(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ap(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){var A;if((A=this.options.visualElement)==null||A.scheduleRender(),y){const w=this.getStack();w&&w.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=No(),this.projectionDelta=No(),this.projectionDeltaWithTransform=No()}setAnimationOrigin(y,A=!1){const w=this.snapshot,E=w?w.latestValues:{},S={...this.latestValues},T=No();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!A;const R=En(),k=w?w.source:void 0,L=this.layout?this.layout.source:void 0,j=k!==L,B=this.getStack(),U=!B||B.members.length<=1,H=!!(j&&!U&&this.options.crossfade===!0&&!this.path.some(QC));this.animationProgress=0;let W;this.mixTargetDelta=Q=>{const ue=Q/1e3;Tp(T.x,y.x,ue),Tp(T.y,y.y,ue),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Oa(R,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qC(this.relativeTarget,this.relativeTargetOrigin,R,ue),W&&kC(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=En()),Fr(W,this.relativeTarget)),j&&(this.animationValues=S,RC(S,E,this.latestValues,ue,H,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ue},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(y){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zt.update(()=>{dc.hasAnimatedSinceResize=!0,this.currentAnimation=AC(0,Sp,{...y,onUpdate:A=>{this.mixTargetDelta(A),y.onUpdate&&y.onUpdate(A)},onStop:()=>{},onComplete:()=>{y.onComplete&&y.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const y=this.getStack();y&&y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:A,target:w,layout:E,latestValues:S}=y;if(!(!A||!w||!E)){if(this!==y&&this.layout&&E&&Rm(this.options.animationType,this.layout.layoutBox,E.layoutBox)){w=this.target||En();const T=ur(this.layout.layoutBox.x);w.x.min=y.target.x.min,w.x.max=w.x.min+T;const R=ur(this.layout.layoutBox.y);w.y.min=y.target.y.min,w.y.max=w.y.min+R}Fr(A,w),_o(A,S),_a(this.projectionDeltaWithTransform,this.layoutCorrected,A,S)}}registerSharedNode(y,A){this.sharedNodes.has(y)||this.sharedNodes.set(y,new LC),this.sharedNodes.get(y).add(A);const E=A.options.initialPromotionConfig;A.promote({transition:E?E.transition:void 0,preserveFollowOpacity:E&&E.shouldPreserveFollowOpacity?E.shouldPreserveFollowOpacity(A):void 0})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){var A;const{layoutId:y}=this.options;return y?((A=this.getStack())==null?void 0:A.lead)||this:this}getPrevLead(){var A;const{layoutId:y}=this.options;return y?(A=this.getStack())==null?void 0:A.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:A,preserveFollowOpacity:w}={}){const E=this.getStack();E&&E.promote(this,w),y&&(this.projectionDelta=void 0,this.needsReset=!0),A&&this.setOptions({transition:A})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetSkewAndRotation(){const{visualElement:y}=this.options;if(!y)return;let A=!1;const{latestValues:w}=y;if((w.z||w.rotate||w.rotateX||w.rotateY||w.rotateZ||w.skewX||w.skewY)&&(A=!0),!A)return;const E={};w.z&&Sf("z",y,E,this.animationValues);for(let S=0;S<Af.length;S++)Sf(`rotate${Af[S]}`,y,E,this.animationValues),Sf(`skew${Af[S]}`,y,E,this.animationValues);y.render();for(const S in E)y.setStaticValue(S,E[S]),this.animationValues&&(this.animationValues[S]=E[S]);y.scheduleRender()}getProjectionStyles(y){if(!this.instance||this.isSVG)return;if(!this.isVisible)return FC;const A={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,A.opacity="",A.pointerEvents=fc(y==null?void 0:y.pointerEvents)||"",A.transform=w?w(this.latestValues,""):"none",A;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=fc(y==null?void 0:y.pointerEvents)||""),this.hasProjected&&!Xs(this.latestValues)&&(k.transform=w?w({},""):"none",this.hasProjected=!1),k}const S=E.animationValues||E.latestValues;this.applyTransformsToTarget(),A.transform=BC(this.projectionDeltaWithTransform,this.treeScale,S),w&&(A.transform=w(S,A.transform));const{x:T,y:R}=this.projectionDelta;A.transformOrigin=`${T.origin*100}% ${R.origin*100}% 0`,E.animationValues?A.opacity=E===this?S.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:A.opacity=E===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const k in Fa){if(S[k]===void 0)continue;const{correct:L,applyTo:j,isCSSVariable:B}=Fa[k],U=A.transform==="none"?S[k]:L(S[k],E);if(j){const H=j.length;for(let W=0;W<H;W++)A[j[W]]=U}else B?this.options.visualElement.renderState.vars[k]=U:A[k]=U}return this.options.layoutId&&(A.pointerEvents=E===this?fc(y==null?void 0:y.pointerEvents)||"":"none"),A}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>{var A;return(A=y.currentAnimation)==null?void 0:A.stop()}),this.root.nodes.forEach(bp),this.root.sharedNodes.clear()}}}function VC(r){r.updateLayout()}function UC(r){var a;const o=((a=r.resumeFrom)==null?void 0:a.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&o&&r.hasListeners("didUpdate")){const{layoutBox:d,measuredBox:p}=r.layout,{animationType:x}=r.options,y=o.source!==r.layout.source;x==="size"?jr(T=>{const R=y?o.measuredBox[T]:o.layoutBox[T],k=ur(R);R.min=d[T].min,R.max=R.min+k}):Rm(x,o.layoutBox,d)&&jr(T=>{const R=y?o.measuredBox[T]:o.layoutBox[T],k=ur(d[T]);R.max=R.min+k,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[T].max=r.relativeTarget[T].min+k)});const A=No();_a(A,d,o.layoutBox);const w=No();y?_a(w,r.applyTransform(p,!0),o.measuredBox):_a(w,d,o.layoutBox);const E=!bm(A);let S=!1;if(!r.resumeFrom){const T=r.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:R,layout:k}=T;if(R&&k){const L=En();Oa(L,o.layoutBox,R.layoutBox);const j=En();Oa(j,d,k.layoutBox),Im(L,j)||(S=!0),T.options.layoutRoot&&(r.relativeTarget=j,r.relativeTargetOrigin=L,r.relativeParent=T)}}}r.notifyListeners("didUpdate",{layout:d,snapshot:o,delta:w,layoutDelta:A,hasLayoutChanged:E,hasRelativeLayoutChanged:S})}else if(r.isLead()){const{onExitComplete:d}=r.options;d&&d()}r.options.transition=void 0}function zC(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function WC(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function HC(r){r.clearSnapshot()}function bp(r){r.clearMeasurements()}function GC(r){r.isLayoutDirty=!1}function XC(r){const{visualElement:o}=r.options;o&&o.getProps().onBeforeLayoutMeasure&&o.notify("BeforeLayoutMeasure"),r.resetTransform()}function Ip(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function YC(r){r.resolveTargetDelta()}function KC(r){r.calcProjection()}function ZC(r){r.resetSkewAndRotation()}function $C(r){r.removeLeadSnapshot()}function Tp(r,o,a){r.translate=cn(o.translate,0,a),r.scale=cn(o.scale,1,a),r.origin=o.origin,r.originPoint=o.originPoint}function Np(r,o,a,d){r.min=cn(o.min,a.min,d),r.max=cn(o.max,a.max,d)}function qC(r,o,a,d){Np(r.x,o.x,a.x,d),Np(r.y,o.y,a.y,d)}function QC(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const JC={duration:.45,ease:[.4,0,.1,1]},Rp=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),_p=Rp("applewebkit/")&&!Rp("chrome/")?Math.round:Vr;function Op(r){r.min=_p(r.min),r.max=_p(r.max)}function eE(r){Op(r.x),Op(r.y)}function Rm(r,o,a){return r==="position"||r==="preserve-aspect"&&!nC(Ep(o),Ep(a),.2)}function tE(r){var o;return r!==r.root&&((o=r.scroll)==null?void 0:o.wasRoot)}const nE=Nm({attachResizeListener:(r,o)=>za(r,"resize",o),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bf={current:void 0},_m=Nm({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!bf.current){const r=new nE({});r.mount(window),r.setOptions({layoutScroll:!0}),bf.current=r}return bf.current},resetTransform:(r,o)=>{r.style.transform=o!==void 0?o:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),rE={pan:{Feature:wC},drag:{Feature:yC,ProjectionNode:_m,MeasureLayout:Em}};function Pp(r,o,a){const{props:d}=r;r.animationState&&d.whileHover&&r.animationState.setActive("whileHover",a==="Start");const p="onHover"+a,x=d[p];x&&Zt.postRender(()=>x(o,Za(o)))}class iE extends xs{mount(){const{current:o}=this.node;o&&(this.unmount=hw(o,(a,d)=>(Pp(this.node,d,"Start"),p=>Pp(this.node,p,"End"))))}unmount(){}}class sE extends xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let o=!1;try{o=this.node.current.matches(":focus-visible")}catch{o=!0}!o||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ka(za(this.node.current,"focus",()=>this.onFocus()),za(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mp(r,o,a){const{props:d}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&d.whileTap&&r.animationState.setActive("whileTap",a==="Start");const p="onTap"+(a==="End"?"":a),x=d[p];x&&Zt.postRender(()=>x(o,Za(o)))}class oE extends xs{mount(){const{current:o}=this.node;o&&(this.unmount=xw(o,(a,d)=>(Mp(this.node,d,"Start"),(p,{success:x})=>Mp(this.node,p,x?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yf=new WeakMap,If=new WeakMap,aE=r=>{const o=Yf.get(r.target);o&&o(r)},lE=r=>{r.forEach(aE)};function cE({root:r,...o}){const a=r||document;If.has(a)||If.set(a,{});const d=If.get(a),p=JSON.stringify(o);return d[p]||(d[p]=new IntersectionObserver(lE,{root:r,...o})),d[p]}function uE(r,o,a){const d=cE(o);return Yf.set(r,a),d.observe(r),()=>{Yf.delete(r),d.unobserve(r)}}const fE={some:0,all:1};class dE extends xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:o={}}=this.node.getProps(),{root:a,margin:d,amount:p="some",once:x}=o,y={root:a?a.current:void 0,rootMargin:d,threshold:typeof p=="number"?p:fE[p]},A=w=>{const{isIntersecting:E}=w;if(this.isInView===E||(this.isInView=E,x&&!E&&this.hasEnteredView))return;E&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",E);const{onViewportEnter:S,onViewportLeave:T}=this.node.getProps(),R=E?S:T;R&&R(w)};return uE(this.node.current,y,A)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:o,prevProps:a}=this.node;["amount","margin","root"].some(hE(o,a))&&this.startObserver()}unmount(){}}function hE({viewport:r={}},{viewport:o={}}={}){return a=>r[a]!==o[a]}const pE={inView:{Feature:dE},tap:{Feature:oE},focus:{Feature:sE},hover:{Feature:iE}},gE={layout:{ProjectionNode:_m,MeasureLayout:Em}},Kf={current:null},Om={current:!1};function mE(){if(Om.current=!0,!!ud)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),o=()=>Kf.current=r.matches;r.addListener(o),o()}else Kf.current=!1}const xE=[...nm,rr,ms],yE=r=>xE.find(tm(r)),wE=new WeakMap;function vE(r,o,a){for(const d in o){const p=o[d],x=a[d];if(ir(p))r.addValue(d,p);else if(ir(x))r.addValue(d,La(p,{owner:r}));else if(x!==p)if(r.hasValue(d)){const y=r.getValue(d);y.liveStyle===!0?y.jump(p):y.hasAnimated||y.set(p)}else{const y=r.getStaticValue(d);r.addValue(d,La(y!==void 0?y:p,{owner:r}))}}for(const d in a)o[d]===void 0&&r.removeValue(d);return o}const Dp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CE{scrapeMotionValuesFromProps(o,a,d){return{}}constructor({parent:o,props:a,presenceContext:d,reducedMotionConfig:p,blockInitialAnimation:x,visualState:y},A={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const k=hi.now();this.renderScheduledAt<k&&(this.renderScheduledAt=k,Zt.render(this.render,!1,!0))};const{latestValues:w,renderState:E,onUpdate:S}=y;this.onUpdate=S,this.latestValues=w,this.baseTarget={...w},this.initialValues=a.initial?{...w}:{},this.renderState=E,this.parent=o,this.props=a,this.presenceContext=d,this.depth=o?o.depth+1:0,this.reducedMotionConfig=p,this.options=A,this.blockInitialAnimation=!!x,this.isControllingVariants=Mc(a),this.isVariantNode=yg(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(o&&o.current);const{willChange:T,...R}=this.scrapeMotionValuesFromProps(a,{},this);for(const k in R){const L=R[k];w[k]!==void 0&&ir(L)&&L.set(w[k],!1)}}mount(o){this.current=o,wE.set(o,this),this.projection&&!this.projection.instance&&this.projection.mount(o),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,d)=>this.bindToMotionValue(d,a)),Om.current||mE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(o=>o()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const o in this.events)this.events[o].clear();for(const o in this.features){const a=this.features[o];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(o,a){this.valueSubscriptions.has(o)&&this.valueSubscriptions.get(o)();const d=Qs.has(o);d&&this.onBindTransform&&this.onBindTransform();const p=a.on("change",A=>{this.latestValues[o]=A,this.props.onUpdate&&Zt.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0)}),x=a.on("renderRequest",this.scheduleRender);let y;window.MotionCheckAppearSync&&(y=window.MotionCheckAppearSync(this,o,a)),this.valueSubscriptions.set(o,()=>{p(),x(),y&&y(),a.owner&&a.stop()})}sortNodePosition(o){return!this.current||!this.sortInstanceNodePosition||this.type!==o.type?0:this.sortInstanceNodePosition(this.current,o.current)}updateFeatures(){let o="animation";for(o in Mo){const a=Mo[o];if(!a)continue;const{isEnabled:d,Feature:p}=a;if(!this.features[o]&&p&&d(this.props)&&(this.features[o]=new p(this)),this.features[o]){const x=this.features[o];x.isMounted?x.update():(x.mount(),x.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(o){return this.latestValues[o]}setStaticValue(o,a){this.latestValues[o]=a}update(o,a){(o.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=o,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let d=0;d<Dp.length;d++){const p=Dp[d];this.propEventSubscriptions[p]&&(this.propEventSubscriptions[p](),delete this.propEventSubscriptions[p]);const x="on"+p,y=o[x];y&&(this.propEventSubscriptions[p]=this.on(p,y))}this.prevMotionValues=vE(this,this.scrapeMotionValuesFromProps(o,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(o){return this.props.variants?this.props.variants[o]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(o){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(o),()=>a.variantChildren.delete(o)}addValue(o,a){const d=this.values.get(o);a!==d&&(d&&this.removeValue(o),this.bindToMotionValue(o,a),this.values.set(o,a),this.latestValues[o]=a.get())}removeValue(o){this.values.delete(o);const a=this.valueSubscriptions.get(o);a&&(a(),this.valueSubscriptions.delete(o)),delete this.latestValues[o],this.removeValueFromRenderState(o,this.renderState)}hasValue(o){return this.values.has(o)}getValue(o,a){if(this.props.values&&this.props.values[o])return this.props.values[o];let d=this.values.get(o);return d===void 0&&a!==void 0&&(d=La(a===null?void 0:a,{owner:this}),this.addValue(o,d)),d}readValue(o,a){let d=this.latestValues[o]!==void 0||!this.current?this.latestValues[o]:this.getBaseTargetFromProps(this.props,o)??this.readValueFromInstance(this.current,o,this.options);return d!=null&&(typeof d=="string"&&(Jg(d)||Wg(d))?d=parseFloat(d):!yE(d)&&ms.test(a)&&(d=$g(o,a)),this.setBaseTarget(o,ir(d)?d.get():d)),ir(d)?d.get():d}setBaseTarget(o,a){this.baseTarget[o]=a}getBaseTarget(o){var x;const{initial:a}=this.props;let d;if(typeof a=="string"||typeof a=="object"){const y=Md(this.props,a,(x=this.presenceContext)==null?void 0:x.custom);y&&(d=y[o])}if(a&&d!==void 0)return d;const p=this.getBaseTargetFromProps(this.props,o);return p!==void 0&&!ir(p)?p:this.initialValues[o]!==void 0&&d===void 0?void 0:this.baseTarget[o]}on(o,a){return this.events[o]||(this.events[o]=new gd),this.events[o].add(a)}notify(o,...a){this.events[o]&&this.events[o].notify(...a)}}class Pm extends CE{constructor(){super(...arguments),this.KeyframeResolver=rm}sortInstanceNodePosition(o,a){return o.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(o,a){return o.style?o.style[a]:void 0}removeValueFromRenderState(o,{vars:a,style:d}){delete a[o],delete d[o]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:o}=this.props;ir(o)&&(this.childSubscription=o.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function EE(r){return window.getComputedStyle(r)}class AE extends Pm{constructor(){super(...arguments),this.type="html",this.renderInstance=Rg}readValueFromInstance(o,a){if(Qs.has(a))return k3(o,a);{const d=EE(o),p=(bd(a)?d.getPropertyValue(a):d[a])||0;return typeof p=="string"?p.trim():p}}measureInstanceViewportBox(o,{transformPagePoint:a}){return ym(o,a)}build(o,a,d){Nd(o,a,d.transformTemplate)}scrapeMotionValuesFromProps(o,a,d){return Dd(o,a,d)}}class SE extends Pm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=En,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Ng(this.current,this.renderState)}}getBaseTargetFromProps(o,a){return o[a]}readValueFromInstance(o,a){if(Qs.has(a)){const d=Zg(a);return d&&d.default||0}return a=_g.has(a)?a:Sd(a),o.getAttribute(a)}scrapeMotionValuesFromProps(o,a,d){return Pg(o,a,d)}onBindTransform(){this.current&&!this.renderState.dimensions&&Zt.postRender(this.updateDimensions)}build(o,a,d){Od(o,a,this.isSVGTag,d.transformTemplate)}renderInstance(o,a,d,p){Og(o,a,d,p)}mount(o){this.isSVGTag=Pd(o.tagName),super.mount(o)}}const bE=(r,o)=>_d(r)?new SE(o):new AE(o,{allowProjection:r!==P.Fragment}),IE=l3({...Kv,...pE,...rE,...gE},bE),Di=Sw(IE),TE=()=>{const{login:r,signup:o,user:a,logout:d,checkAuth:p}=P.useContext(Ur),[x,y]=P.useState(""),[A,w]=P.useState(""),[E,S]=P.useState(""),[T,R]=P.useState(null),[k,L]=P.useState(null),[j,B]=P.useState(""),[U,H]=P.useState(0),[W,Q]=P.useState({x:0,y:0}),[ue,se]=P.useState(1),[J,ce]=P.useState(null),[q,Ne]=P.useState(!1),[Xe,Ie]=P.useState(!1),[Me,Fe]=P.useState({}),[ee,Oe]=P.useState({}),[pe,de]=P.useState(!1),[Re,fe]=P.useState(!1),[Y,te]=P.useState(null),ve=zr(),je=yi(),at=new URLSearchParams(je.search),xe=at.get("redirect"),$e=at.get("code"),Ce=xe==="lobby",_e=()=>{const we="abcdefghijklmnopqrstuvwxyz0123456789";let Je="";for(let Ze=0;Ze<10;Ze++)Je+=we.charAt(Math.floor(Math.random()*we.length));return Je};P.useEffect(()=>{if(Ce&&!x&&!A){const we=_e(),Je=_e();y(we),w(Je),Oe(Ze=>({...Ze,username:!0,password:!0})),Fe(Ze=>({...Ze,username:"",password:""})),H(2)}},[Ce,x,A,E]),P.useEffect(()=>{localStorage.getItem("access_token")&&ve(xe==="lobby"?$e?`/lobby?code=${$e}`:"/?showLobbyModal=true":xe==="product-selection"?"/product-selection":"/")},[xe,$e,ve]),P.useEffect(()=>{U===2&&E&&ut(E)&&(de(!0),Oe(we=>({...we,displayName:!0})),Fe(we=>({...we,displayName:""})))},[U,E]);const st=we=>{const Je=/^[a-z0-9]+$/;return we.length>=2&&Je.test(we)},Qe=we=>we.length>=2,ut=we=>we.length>=2,Ue=()=>{U<ze.length-1&&(U===0&&!E&&(S(x),Oe(we=>({...we,displayName:!0})),Fe(we=>({...we,displayName:""}))),U===1&&E&&E.length>=2?de(!0):de(!1),H(we=>we+1))},Ht=()=>{if(U>0){const we=U-1;H(we);const Je=ze[we];if(Je.validate){const Ze=Je.value;Je.validate(Ze)&&de(!0)}else de(!0)}},Rt=(we,Je,Ze)=>{Ze(we.target.value);const qt=we.target.value;Je(qt)?(Oe(mt=>({...mt,[ze[U].id]:!0})),Fe(mt=>({...mt,[ze[U].id]:""})),de(!0)):(Oe(mt=>({...mt,[ze[U].id]:!1})),Fe(mt=>({...mt,[ze[U].id]:"Must be at least 2 characters"})),de(!1))},fn=we=>{const Je=we.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(Je),st(Je)?(Oe(Ze=>({...Ze,username:!0})),Fe(Ze=>({...Ze,username:""})),de(!0)):(Oe(Ze=>({...Ze,username:!1})),Fe(Ze=>({...Ze,username:"Must be at least 2 characters"})),de(!1))},Ft=we=>{Rt(we,Qe,w)},bt=we=>{Rt(we,ut,S)},ft=we=>{const Je=we.target.files[0];if(Je){const Ze=new FileReader;Ze.onload=qt=>{const mt=new Image;mt.onload=()=>{let vt=mt.width,Mt=mt.height;const It=1500;vt>Mt&&vt>It?(Mt=Mt*It/vt,vt=It):Mt>vt&&Mt>It&&(vt=vt*It/Mt,Mt=It);const Sn=document.createElement("canvas");Sn.width=vt,Sn.height=Mt,Sn.getContext("2d").drawImage(mt,0,0,vt,Mt);const Se=Sn.toDataURL("image/jpeg",.75);R(Je),L(Se),Ne(!0),Oe(_t=>({..._t,image:!0})),Fe(_t=>({..._t,image:""})),de(!0)},mt.src=qt.target.result},Ze.readAsDataURL(Je)}},$t=(we,Je)=>{ce(Je)},Pe=async()=>{try{const we=await td(k,J);L(we),Ne(!1)}catch(we){console.error("Error cropping the image:",we),B("Failed to crop image. Please try again.")}},rn=async we=>{if(we.preventDefault(),Ie(!0),B(""),console.log("Signup attempt - Username:",x,"Password:",A),!x||!A||!E){B("All fields are required"),Ie(!1);return}if(!T||!k){B("Your profile picture is required👆🏼"),Ie(!1);return}try{const Je="/signup",Ze=await fetch(window.server_url+Je,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:x,password:A})}),qt=await Ze.json();if(qt.error==="Username already taken")if(Ce){const It=_e(),Sn=_e();y(It),w(Sn);const jt=await fetch(window.server_url+Je,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:It,password:Sn})}),Se=await jt.json();if(!jt.ok||Se.error==="Username already taken"){B("Unable to create account. Please try again."),Ie(!1);return}r(Se)}else{B("Username is taken"),Ie(!1);return}else{if(!Ze.ok){B(qt.message||"Signup failed"),Ie(!1);return}r(qt)}await p();const mt=localStorage.getItem("access_token");if(!mt)throw new Error("Authentication failed");let vt=null;if(T)vt=k,vt=vt.split(",")[1];else{const jt=await(await(await fetch("/assets/fakeprofile.png")).blob()).arrayBuffer();vt=btoa(new Uint8Array(jt).reduce((Se,_t)=>Se+String.fromCharCode(_t),""))}if(!(await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${mt}`,"Content-Type":"application/json"},body:JSON.stringify({name:E,image_data:vt})})).ok)throw new Error("Failed to update profile");await p(),ve(xe==="lobby"?$e?`/lobby?code=${$e}`:"/?showLobbyModal=true":xe==="product-selection"?"/product-selection":"/")}catch(Je){console.error("Error:",Je),B("An error occurred. Please try again.")}Ie(!1)},ze=[{id:"username",label:"Username",value:x,onChange:fn,type:"text",placeholder:"Enter a username",validate:st},{id:"password",label:"Password",value:A,onChange:Ft,type:"text",placeholder:"Create a password",validate:Qe},{id:"displayName",label:$e==="demolobby"?"Display Name (Type Any Name)":"Display Name (what people will see)",value:E,onChange:bt,type:"text",placeholder:"Enter your preferred name",validate:ut},{id:"image",label:$e==="demolobby"?"Profile Image (Upload Any Image)":"Upload a Selfie (so people can find you)",type:"file",onChange:ft,accept:"image/*"}];return I.jsxs("div",{className:"signup-container",children:[I.jsx("button",{onClick:()=>ve("/"),className:"homescreen-button",children:"Home"}),I.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),I.jsx("h3",{className:"signup-header",children:$e==="demolobby"?"Join the demo":"Sign Up to Join"}),$e&&$e!=="demolobby"&&I.jsxs("h2",{className:"signup-header",children:[$e," lobby"]}),$e==="demolobby"&&I.jsx("h2",{className:"signup-header",style:{fontSize:"0.9rem"},children:"Try Reuneo for Free!"}),I.jsxs("p",{className:"login-link-text",children:["Already have an account? ",I.jsx("a",{href:"#",onClick:we=>{we.preventDefault(),ve("/login")},className:"login-link",children:"Login here"})]}),I.jsxs("div",{className:"step-form-container",children:[I.jsx("div",{className:"step-progress",children:(Ce?ze.slice(2):ze).map((we,Je)=>I.jsx("div",{className:`progress-dot ${Ce?(Je===U-2?"active":"")+(Je<U-2?" completed":""):(Je===U?"active":"")+(Je<U?" completed":"")}`},Je))}),I.jsxs("form",{onSubmit:rn,children:[I.jsx(x1,{mode:"wait",initial:!1,children:I.jsxs(Di.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{type:"spring",stiffness:500,damping:25,mass:.3},className:"step active",style:{willChange:"transform, opacity"},children:[I.jsx("div",{className:"step-content",children:I.jsxs(Di.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[I.jsx("label",{className:"step-label",children:ze[U].label}),I.jsx(Di.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.15,ease:"easeOut"},children:ze[U].type==="file"?I.jsx("div",{className:"image-upload-container",children:q?I.jsxs("div",{className:"cropper-container",children:[I.jsx("div",{className:"cropper-wrapper",children:I.jsx(ed,{image:k,crop:W,zoom:ue,aspect:1,onCropComplete:$t,onCropChange:Q,onZoomChange:se})}),I.jsxs("div",{className:"cropper-controls",children:[I.jsx("button",{type:"button",onClick:()=>{Ne(!1),L(null),R(null)},className:"cancel-crop-button",children:"Cancel"}),I.jsx("button",{type:"button",onClick:Pe,className:"save-crop-button",children:"Good"})]})]}):I.jsxs(I.Fragment,{children:[I.jsx("input",{type:"file",onChange:ze[U].onChange,accept:ze[U].accept,className:"step-input"}),k&&I.jsx("div",{children:I.jsx("img",{src:k,alt:"Profile preview",className:"profile-preview-image"})})]})}):I.jsx("input",{type:ze[U].type,value:ze[U].value,onChange:ze[U].onChange,placeholder:ze[U].placeholder,className:"step-input",autoFocus:!0})}),I.jsxs(x1,{mode:"wait",children:[Me[ze[U].id]&&I.jsx(Di.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"step-error",children:Me[ze[U].id]}),ee[ze[U].id]&&I.jsx(Di.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"step-success",children:"✓ Valid"})]})]})}),!q&&I.jsxs("div",{className:"button-container",children:[U>0&&I.jsx(Di.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:Ht,className:"backz-button",children:"← Back"}),pe&&U<ze.length-1&&I.jsx(Di.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:Ue,className:"nextz-button",children:"Next →"})]})]},U)}),j&&I.jsx(Di.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"error-message",children:j}),U===ze.length-1&&I.jsx(Di.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},type:"submit",className:"primary-button",disabled:Xe,children:Xe?"Loading...":"Complete Signup"})]})]})]})},NE=5e3,Mm=(r,o=null,a=null)=>{P.useEffect(()=>{const d=async()=>{try{const x=a?`${window.server_url}/display_lobby_metadata?lobby_code=${a}`:`${window.server_url}/display_lobby_metadata`,y=localStorage.getItem("access_token"),A=await fetch(x,{headers:{Authorization:`Bearer ${y}`,lobby_code:a}});if(!A.ok){console.error("Failed to fetch lobby metadata");return}const w=await A.json();r(w.player_count),o&&o(w.lobby_state)}catch(x){console.error("Error fetching lobby metadata:",x)}};d();const p=setInterval(d,NE);return()=>clearInterval(p)},[r,o,a])},Wd="currentLobbyCode",Hd="currentLobbyTimestamp",Gd="currentLobbyLastValidated",RE=30*60*1e3,_E=3*60*1e3,OE=r=>{localStorage.setItem(Wd,r),localStorage.setItem(Hd,Date.now().toString()),console.log(`Stored lobby code: ${r}`)},PE=()=>{const r=localStorage.getItem(Wd),o=localStorage.getItem(Hd);return!r||!o?null:Date.now()-parseInt(o)>RE?(Sc(),console.log("Lobby code expired, cleared from storage"),null):r},ME=()=>{const r=localStorage.getItem(Gd);return r?Date.now()-parseInt(r)>_E:!0},DE=()=>{localStorage.setItem(Gd,Date.now().toString())},Sc=()=>{localStorage.removeItem(Wd),localStorage.removeItem(Hd),localStorage.removeItem(Gd),console.log("Cleared lobby storage")},kE=()=>{const[r,o]=P.useState(!1),[a,d]=P.useState(!1),[p,x]=P.useState(""),[y,A]=P.useState(""),[w,E]=P.useState(""),[S,T]=P.useState(null);rg();const{user:R,userProfile:k,checkAuth:L,permissions:j}=P.useContext(Ur),[B,U]=P.useState(null),[H,W]=P.useState(null),[Q,ue]=P.useState([]),[se,J]=P.useState(!1),[ce,q]=P.useState(null),Ne=zr();Mm(U,W);const[Xe,Ie]=P.useState(!1);P.useRef(null);const Me=P.useRef(null),Fe=async(fe=!1)=>{const Y=PE();if(!Y||!R){q(null);return}if(q(Y),fe||ME())try{const te=localStorage.getItem("access_token"),ve=await fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${Y}`,{headers:{Authorization:`Bearer ${te}`,lobby_code:Y}});if(ve.ok){const je=await ve.json();je.status==="error"||je.lobby_state==="terminated"?(Sc(),q(null)):DE()}else Sc(),q(null)}catch(te){console.error("Error validating current lobby:",te),q(null)}},ee=async()=>{if(R){J(!0);try{const fe=localStorage.getItem("access_token"),Y=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${fe}`}});if(Y.ok){const te=await Y.json();console.log("User's active lobbies:",te),te&&te.lobbies&&Array.isArray(te.lobbies)?ue(te.lobbies):ue([])}else console.error("Failed to fetch user's active lobbies"),ue([])}catch(fe){console.error("Error fetching user's active lobbies:",fe),ue([])}finally{J(!1)}}};P.useEffect(()=>{R?(ee(),Fe(!0)):q(null)},[R]),P.useEffect(()=>{L()},[]),P.useEffect(()=>{if(new URLSearchParams(window.location.search).get("showLobbyModal")==="true"&&R){d(!0);const te=window.location.pathname;window.history.replaceState({},"",te)}},[R]);const Oe=fe=>{(j==="admin"||j==="organizer")&&Ne(`/admin_lobby_view?code=${fe}`)},pe=fe=>{fe.preventDefault();const te=new FormData(fe.target).get("name");if(!te||te.trim()===""){A("Please enter a lobby code");return}const ve=te.toLowerCase().replace(/[^a-z0-9]/g,"");if(ve===""){A("Lobby code must contain only letters and numbers");return}E(ve),d(!1),console.log(ve),x(ve),Ne(`/lobby?code=${ve}`),x(""),A("")},de=()=>{Ie(!1),Me.current&&(Me.current.clear(),Me.current=null)},Re=()=>a?I.jsx("div",{className:"lobby-modal-overlay",children:I.jsxs("div",{className:"lobby-modal-container",children:[I.jsx("button",{onClick:()=>{d(!1),x(""),A(""),de()},className:"lobby-modal-close",children:"×"}),I.jsx("h2",{className:"lobby-modal-title",children:"Join Lobby"}),I.jsxs("form",{onSubmit:pe,className:"lobby-form",children:[I.jsxs("div",{className:"lobby-input-container",children:[I.jsx("input",{type:"text",name:"name",placeholder:"Enter Lobby Code",className:"lobby-input",pattern:"[a-zA-Z0-9]+",title:"Only letters and numbers are allowed",required:!0}),y&&I.jsx("div",{className:"lobby-error-message",children:y})]}),I.jsx("button",{type:"submit",className:"lobby-submit-button",children:"Join"})]})]})}):null;return I.jsxs("div",{style:{position:"relative",height:"var(--viewport-height)",overflow:"hidden"},children:[I.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/assets/demo_app_home_video_cover.jpg",children:[I.jsx("source",{src:"/assets/demo_app_home_video_X2_small.mp4",type:"video/mp4"}),I.jsx("source",{src:"/assets/app_home_video_2.webm",type:"video/webm"}),I.jsx("img",{src:"/assets/demo_app_home_video_cover.jpg",alt:"Background fallback",style:{width:"100%",height:"100%",objectFit:"cover"}}),"Your browser does not support the video tag."]}),I.jsxs("div",{style:{position:"relative",zIndex:1,color:"white",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[I.jsx("div",{style:{position:"absolute",top:"0",left:"50%",transform:"translateX(-50%)"},children:I.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Logo",style:{width:"110px",height:"110px",objectFit:"contain"}})}),I.jsx("div",{style:{marginTop:"10%",display:"flex",flexDirection:"column"},children:I.jsx(Zy,{user:R,onProfileClick:()=>o(!0)})}),r&&I.jsx(w2,{onSubmit:fe=>{o(!1)},onClose:()=>o(!1),existingProfile:k}),I.jsx("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",width:"90%",maxWidth:"1200px",textAlign:"center",marginLeft:"auto",marginRight:"auto",zIndex:1,top:"50%"},children:I.jsx("h2",{className:"welcome-header",style:{color:"#ffffff",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:"4px 4px 8px rgba(0,0,0,0.9)",margin:0},children:R&&k&&(j==="admin"||j==="organizer")?(()=>{const fe="Create a Lobby",Y=k?k.name.slice(0,15):"";return I.jsxs(I.Fragment,{children:[fe.split("").map((te,ve)=>I.jsx("span",{style:{"--i":ve+1,marginRight:te===" "?"0.5em":"1px"},children:te},`main-${ve}`)),I.jsx("br",{}),Y&&Y.split("").map((te,ve)=>I.jsx("span",{style:{"--i":ve+1,marginRight:te===" "?"0.5em":"1px"},children:te},`name-${ve}`))]})})():(()=>{const fe="Join the Experience",Y=k?k.name.slice(0,15):"";return I.jsxs(I.Fragment,{children:[fe.split("").map((te,ve)=>I.jsx("span",{style:{"--i":ve+1,marginRight:te===" "?"0.5em":"1px"},children:te},`main-${ve}`)),I.jsx("br",{}),Y&&Y.split("").map((te,ve)=>I.jsx("span",{style:{"--i":ve+1,marginRight:te===" "?"0.5em":"1px"},children:te},`name-${ve}`))]})})()})}),I.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"94%",display:"flex",flexDirection:"row",justifyContent:"center",gap:"1.5rem"},children:I.jsx("div",{className:"event-item",style:{width:"auto",maxWidth:"none",margin:"0",padding:"10px 20px",borderRadius:"16px",marginBottom:"20px",cursor:"pointer",opacity:1,display:"flex",flexDirection:"row",alignItems:"center",gap:"1.5rem",":hover":{transform:"translateY(-5px)"}},children:I.jsxs("div",{style:{display:"flex",gap:"1.5rem",flexDirection:"row",alignItems:"center"},children:[I.jsx("button",{className:`primary-button ${j!=="admin"&&j!=="organizer"?"join-lobby-button":""}`,onClick:()=>R?d(!0):Ne("/signup?redirect=lobby"),disabled:B===null||H==="terminate",style:{opacity:1,cursor:B===null||H==="terminate"?"not-allowed":"pointer",padding:"16px 20px",backgroundColor:j!=="admin"&&j!=="organizer"?"transparent":"#144dff",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",display:"block",position:"relative",zIndex:1,textAlign:"center",outline:j!=="admin"&&j!=="organizer"?"none":"1px solid rgba(58, 53, 53, 0.7)",":hover":{backgroundColor:j!=="admin"&&j!=="organizer"?"transparent":"#535bf2",transform:"scale(1.02)"}},children:I.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Join Lobby"})}),j!=="admin"&&j!=="organizer"&&I.jsx("button",{className:"primary-button join-lobby-button",onClick:()=>window.location.href="https://reuneo.app/",style:{padding:"16px 20px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",display:"block",position:"relative",zIndex:1,textAlign:"center",outline:"none",":hover":{transform:"scale(1.02)"}},children:I.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Get Started"})}),(j==="admin"||j==="organizer")&&I.jsx("button",{className:`primary-button ${j==="admin"||j==="organizer"?"create-lobby-button":""}`,onClick:Q.length>0?void 0:()=>Ne("/create_lobby"),disabled:Q.length>0,title:Q.length>0?"You already have an active lobby. Close it before creating a new one.":"Create a new lobby",style:{padding:"16px 20px",backgroundColor:Q.length>0?"rgba(128, 128, 128, 0.3)":"transparent",color:Q.length>0?"rgba(255, 255, 255, 0.5)":"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:Q.length>0?"0 2px 3px rgba(0, 0, 0, 0.2)":"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",position:"relative",zIndex:1,textAlign:"center",cursor:Q.length>0?"not-allowed":"pointer",opacity:Q.length>0?.6:1,":hover":{transform:Q.length>0?"none":"scale(1.02)"}},children:I.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Create Lobby"})})]})})}),ce&&!((j==="admin"||j==="organizer")&&Q.length>0)&&I.jsx("div",{className:"events-list",style:{position:"absolute",bottom:"calc(20px + 120px + 10px)",left:"50%",transform:"translateX(-50%)",width:"44%",height:"15%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.05), rgba(83, 91, 242, 0.05))",borderRadius:"30px",padding:"1rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",justifyContent:"center",alignItems:"center"},children:I.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",perspective:"1000px"},children:I.jsxs("div",{className:"card",style:{width:"calc(100% - 2rem)",maxWidth:"200px",minWidth:"150px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(20, 77, 255, 0.15)",border:"1px solid rgba(20, 77, 255, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",padding:"1rem 1rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transformStyle:"preserve-3d","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(20, 77, 255, 0.1), rgba(83, 91, 242, 0.1))",opacity:0,transition:"opacity 0.4s ease"}},onClick:()=>Ne(`/lobby?code=${ce}`),onMouseEnter:fe=>{fe.currentTarget.style.transform="translateY(-10px) rotateX(5deg)",fe.currentTarget.style.boxShadow="0 20px 40px rgba(20, 77, 255, 0.25)",fe.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.4)",fe.currentTarget.style.background="rgba(255, 255, 255, 0.98)"},onMouseLeave:fe=>{fe.currentTarget.style.transform="translateY(0) rotateX(0)",fe.currentTarget.style.boxShadow="0 10px 30px rgba(20, 77, 255, 0.15)",fe.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.2)",fe.currentTarget.style.background="rgba(255, 255, 255, 0.95)"},children:[I.jsx("div",{className:"glow-button",style:{width:"30px",height:"30px",borderRadius:"50%",background:"linear-gradient(135deg, #144dff, #535bf2)",marginBottom:".5rem",marginTop:"-1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:".8rem",boxShadow:"0 8px 20px rgba(20, 77, 255, 0.3)",transition:"all 0.4s ease",position:"relative","&::after":{content:'""',position:"absolute",top:"-5px",left:"-5px",right:"-5px",bottom:"-5px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.2), rgba(83, 91, 242, 0.2))",zIndex:-1,animation:"pulse 2s infinite"}},children:ce.charAt(0).toUpperCase()}),I.jsxs("h3",{style:{marginTop:"0.5rem",color:"#144dff",fontWeight:"700",fontSize:".9em",fontFamily:"Helvetica",textAlign:"center",textShadow:"0 2px 4px rgba(20, 77, 255, 0.1)",letterSpacing:"0.5px"},children:["Return to ",ce]})]})})}),(j==="admin"||j==="organizer")&&Q.length>0&&I.jsx("div",{className:"events-list",style:{position:"absolute",bottom:ce&&!((j==="admin"||j==="organizer")&&Q.length>0)?"calc(20px + 120px + 10px + 15% + 10px)":"calc(20px + 120px + 10px)",left:"50%",transform:"translateX(-50%)",width:"44%",height:"15%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.05), rgba(83, 91, 242, 0.05))",borderRadius:"30px",padding:"1rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",justifyContent:"center",alignItems:"center"},children:se?I.jsx("div",{style:{textAlign:"center",color:"white"},children:I.jsx("p",{children:"Loading your lobbies..."})}):Q.length>0?I.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",perspective:"1000px"},children:Q.map((fe,Y)=>I.jsxs("div",{className:"card",style:{width:"calc(100% - 2rem)",maxWidth:"200px",minWidth:"150px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(20, 77, 255, 0.15)",border:"1px solid rgba(20, 77, 255, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",padding:"1rem 1rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transformStyle:"preserve-3d","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(20, 77, 255, 0.1), rgba(83, 91, 242, 0.1))",opacity:0,transition:"opacity 0.4s ease"}},onClick:()=>Oe(fe),onMouseEnter:te=>{te.currentTarget.style.transform="translateY(-10px) rotateX(5deg)",te.currentTarget.style.boxShadow="0 20px 40px rgba(20, 77, 255, 0.25)",te.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.4)",te.currentTarget.style.background="rgba(255, 255, 255, 0.98)"},onMouseLeave:te=>{te.currentTarget.style.transform="translateY(0) rotateX(0)",te.currentTarget.style.boxShadow="0 10px 30px rgba(20, 77, 255, 0.15)",te.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.2)",te.currentTarget.style.background="rgba(255, 255, 255, 0.95)"},children:[I.jsx("div",{className:"glow-button",style:{width:"30px",height:"30px",borderRadius:"50%",background:"linear-gradient(135deg, #144dff, #535bf2)",marginBottom:".5rem",marginTop:"-1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:".8rem",boxShadow:"0 8px 20px rgba(20, 77, 255, 0.3)",transition:"all 0.4s ease",position:"relative","&::after":{content:'""',position:"absolute",top:"-5px",left:"-5px",right:"-5px",bottom:"-5px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.2), rgba(83, 91, 242, 0.2))",zIndex:-1,animation:"pulse 2s infinite"}},children:fe&&fe.length>0?fe.charAt(0).toUpperCase():"?"}),I.jsxs("h3",{style:{marginTop:"0.5rem",color:"#144dff",fontWeight:"700",fontSize:".9em",fontFamily:"Helvetica",textAlign:"center",textShadow:"0 2px 4px rgba(20, 77, 255, 0.1)",letterSpacing:"0.5px"},children:["Lobby ",fe||"Unknown"]})]},Y))}):I.jsx("div",{style:{}})})]}),I.jsx(Re,{})]})};function LE(){const{pathname:r}=yi();return P.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const BE=()=>{const{login:r,signup:o,user:a,logout:d,checkAuth:p}=P.useContext(Ur),[x,y]=P.useState(""),[A,w]=P.useState(""),[E,S]=P.useState(""),[T,R]=P.useState(""),[k,L]=P.useState(!0),[j,B]=P.useState({}),[U,H]=P.useState(!1),W=zr(),Q=J=>{const ce=/^[a-z0-9]+$/;return J.length>=2&&ce.test(J)},ue=J=>{const ce=J.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(ce),ce.length>0?H(!0):H(!1),Q(ce)?B(q=>({...q,username:""})):B(q=>({...q,username:" "}))},se=async J=>{if(J.preventDefault(),R(""),!Q(x)){R("Please enter a valid username");return}try{const ce=k?"/login":"/signup",q=await fetch(window.server_url+ce,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:x,password:A}),mode:"cors"});if(q.ok){const Ne=await q.json();r(Ne),p(),W("/")}else{const Ne=await q.json();R(Ne.message||`${k?"Login":"Signup"} failed`)}}catch(ce){R("Network error occurred. Please try again."),console.error("Error:",ce)}};return I.jsxs("div",{className:"login-container",children:[I.jsx("button",{onClick:()=>W("/"),className:"homescreen-button",children:"Home"}),I.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),I.jsx("h1",{className:"login-header",children:"Login"}),I.jsxs("div",{className:"login-signup-form",children:[T&&I.jsx("div",{className:"error-message",children:T}),I.jsxs("form",{onSubmit:se,children:[I.jsxs("div",{className:"form-group",children:[I.jsx("input",{type:"text",placeholder:"Username",className:"login-input",value:x,onChange:ue,required:!0}),U&&I.jsx("div",{className:"step-success",children:"lowercase letters and numbers only"})]}),I.jsx("div",{className:"form-group",children:I.jsx("input",{type:"text",placeholder:"Password",className:"login-input",value:A,onChange:J=>w(J.target.value),required:!0})}),I.jsx("button",{type:"submit",className:"login-primary-button",children:"Login"})]})]})]})},FE=()=>{const r=zr(),{logout:o}=P.useContext(Ur);return localStorage.removeItem("access_token"),P.useEffect(()=>{console.log("LogoutPage useEffect"),setTimeout(()=>{o(),r("/")},100)},[]),I.jsx("div",{children:"Logged out redirecting to homescreen"})};var jE=Object.defineProperty,bc=Object.getOwnPropertySymbols,Dm=Object.prototype.hasOwnProperty,km=Object.prototype.propertyIsEnumerable,kp=(r,o,a)=>o in r?jE(r,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[o]=a,Zf=(r,o)=>{for(var a in o||(o={}))Dm.call(o,a)&&kp(r,a,o[a]);if(bc)for(var a of bc(o))km.call(o,a)&&kp(r,a,o[a]);return r},$f=(r,o)=>{var a={};for(var d in r)Dm.call(r,d)&&o.indexOf(d)<0&&(a[d]=r[d]);if(r!=null&&bc)for(var d of bc(r))o.indexOf(d)<0&&km.call(r,d)&&(a[d]=r[d]);return a};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var qs;(r=>{const o=class St{constructor(w,E,S,T){if(this.version=w,this.errorCorrectionLevel=E,this.modules=[],this.isFunction=[],w<St.MIN_VERSION||w>St.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=w*4+17;let R=[];for(let L=0;L<this.size;L++)R.push(!1);for(let L=0;L<this.size;L++)this.modules.push(R.slice()),this.isFunction.push(R.slice());this.drawFunctionPatterns();const k=this.addEccAndInterleave(S);if(this.drawCodewords(k),T==-1){let L=1e9;for(let j=0;j<8;j++){this.applyMask(j),this.drawFormatBits(j);const B=this.getPenaltyScore();B<L&&(T=j,L=B),this.applyMask(j)}}p(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(w,E){const S=r.QrSegment.makeSegments(w);return St.encodeSegments(S,E)}static encodeBinary(w,E){const S=r.QrSegment.makeBytes(w);return St.encodeSegments([S],E)}static encodeSegments(w,E,S=1,T=40,R=-1,k=!0){if(!(St.MIN_VERSION<=S&&S<=T&&T<=St.MAX_VERSION)||R<-1||R>7)throw new RangeError("Invalid value");let L,j;for(L=S;;L++){const W=St.getNumDataCodewords(L,E)*8,Q=y.getTotalBits(w,L);if(Q<=W){j=Q;break}if(L>=T)throw new RangeError("Data too long")}for(const W of[St.Ecc.MEDIUM,St.Ecc.QUARTILE,St.Ecc.HIGH])k&&j<=St.getNumDataCodewords(L,W)*8&&(E=W);let B=[];for(const W of w){a(W.mode.modeBits,4,B),a(W.numChars,W.mode.numCharCountBits(L),B);for(const Q of W.getData())B.push(Q)}p(B.length==j);const U=St.getNumDataCodewords(L,E)*8;p(B.length<=U),a(0,Math.min(4,U-B.length),B),a(0,(8-B.length%8)%8,B),p(B.length%8==0);for(let W=236;B.length<U;W^=253)a(W,8,B);let H=[];for(;H.length*8<B.length;)H.push(0);return B.forEach((W,Q)=>H[Q>>>3]|=W<<7-(Q&7)),new St(L,E,H,R)}getModule(w,E){return 0<=w&&w<this.size&&0<=E&&E<this.size&&this.modules[E][w]}getModules(){return this.modules}drawFunctionPatterns(){for(let S=0;S<this.size;S++)this.setFunctionModule(6,S,S%2==0),this.setFunctionModule(S,6,S%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const w=this.getAlignmentPatternPositions(),E=w.length;for(let S=0;S<E;S++)for(let T=0;T<E;T++)S==0&&T==0||S==0&&T==E-1||S==E-1&&T==0||this.drawAlignmentPattern(w[S],w[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(w){const E=this.errorCorrectionLevel.formatBits<<3|w;let S=E;for(let R=0;R<10;R++)S=S<<1^(S>>>9)*1335;const T=(E<<10|S)^21522;p(T>>>15==0);for(let R=0;R<=5;R++)this.setFunctionModule(8,R,d(T,R));this.setFunctionModule(8,7,d(T,6)),this.setFunctionModule(8,8,d(T,7)),this.setFunctionModule(7,8,d(T,8));for(let R=9;R<15;R++)this.setFunctionModule(14-R,8,d(T,R));for(let R=0;R<8;R++)this.setFunctionModule(this.size-1-R,8,d(T,R));for(let R=8;R<15;R++)this.setFunctionModule(8,this.size-15+R,d(T,R));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let w=this.version;for(let S=0;S<12;S++)w=w<<1^(w>>>11)*7973;const E=this.version<<12|w;p(E>>>18==0);for(let S=0;S<18;S++){const T=d(E,S),R=this.size-11+S%3,k=Math.floor(S/3);this.setFunctionModule(R,k,T),this.setFunctionModule(k,R,T)}}drawFinderPattern(w,E){for(let S=-4;S<=4;S++)for(let T=-4;T<=4;T++){const R=Math.max(Math.abs(T),Math.abs(S)),k=w+T,L=E+S;0<=k&&k<this.size&&0<=L&&L<this.size&&this.setFunctionModule(k,L,R!=2&&R!=4)}}drawAlignmentPattern(w,E){for(let S=-2;S<=2;S++)for(let T=-2;T<=2;T++)this.setFunctionModule(w+T,E+S,Math.max(Math.abs(T),Math.abs(S))!=1)}setFunctionModule(w,E,S){this.modules[E][w]=S,this.isFunction[E][w]=!0}addEccAndInterleave(w){const E=this.version,S=this.errorCorrectionLevel;if(w.length!=St.getNumDataCodewords(E,S))throw new RangeError("Invalid argument");const T=St.NUM_ERROR_CORRECTION_BLOCKS[S.ordinal][E],R=St.ECC_CODEWORDS_PER_BLOCK[S.ordinal][E],k=Math.floor(St.getNumRawDataModules(E)/8),L=T-k%T,j=Math.floor(k/T);let B=[];const U=St.reedSolomonComputeDivisor(R);for(let W=0,Q=0;W<T;W++){let ue=w.slice(Q,Q+j-R+(W<L?0:1));Q+=ue.length;const se=St.reedSolomonComputeRemainder(ue,U);W<L&&ue.push(0),B.push(ue.concat(se))}let H=[];for(let W=0;W<B[0].length;W++)B.forEach((Q,ue)=>{(W!=j-R||ue>=L)&&H.push(Q[W])});return p(H.length==k),H}drawCodewords(w){if(w.length!=Math.floor(St.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let E=0;for(let S=this.size-1;S>=1;S-=2){S==6&&(S=5);for(let T=0;T<this.size;T++)for(let R=0;R<2;R++){const k=S-R,j=(S+1&2)==0?this.size-1-T:T;!this.isFunction[j][k]&&E<w.length*8&&(this.modules[j][k]=d(w[E>>>3],7-(E&7)),E++)}}p(E==w.length*8)}applyMask(w){if(w<0||w>7)throw new RangeError("Mask value out of range");for(let E=0;E<this.size;E++)for(let S=0;S<this.size;S++){let T;switch(w){case 0:T=(S+E)%2==0;break;case 1:T=E%2==0;break;case 2:T=S%3==0;break;case 3:T=(S+E)%3==0;break;case 4:T=(Math.floor(S/3)+Math.floor(E/2))%2==0;break;case 5:T=S*E%2+S*E%3==0;break;case 6:T=(S*E%2+S*E%3)%2==0;break;case 7:T=((S+E)%2+S*E%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[E][S]&&T&&(this.modules[E][S]=!this.modules[E][S])}}getPenaltyScore(){let w=0;for(let R=0;R<this.size;R++){let k=!1,L=0,j=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[R][B]==k?(L++,L==5?w+=St.PENALTY_N1:L>5&&w++):(this.finderPenaltyAddHistory(L,j),k||(w+=this.finderPenaltyCountPatterns(j)*St.PENALTY_N3),k=this.modules[R][B],L=1);w+=this.finderPenaltyTerminateAndCount(k,L,j)*St.PENALTY_N3}for(let R=0;R<this.size;R++){let k=!1,L=0,j=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[B][R]==k?(L++,L==5?w+=St.PENALTY_N1:L>5&&w++):(this.finderPenaltyAddHistory(L,j),k||(w+=this.finderPenaltyCountPatterns(j)*St.PENALTY_N3),k=this.modules[B][R],L=1);w+=this.finderPenaltyTerminateAndCount(k,L,j)*St.PENALTY_N3}for(let R=0;R<this.size-1;R++)for(let k=0;k<this.size-1;k++){const L=this.modules[R][k];L==this.modules[R][k+1]&&L==this.modules[R+1][k]&&L==this.modules[R+1][k+1]&&(w+=St.PENALTY_N2)}let E=0;for(const R of this.modules)E=R.reduce((k,L)=>k+(L?1:0),E);const S=this.size*this.size,T=Math.ceil(Math.abs(E*20-S*10)/S)-1;return p(0<=T&&T<=9),w+=T*St.PENALTY_N4,p(0<=w&&w<=2568888),w}getAlignmentPatternPositions(){if(this.version==1)return[];{const w=Math.floor(this.version/7)+2,E=this.version==32?26:Math.ceil((this.version*4+4)/(w*2-2))*2;let S=[6];for(let T=this.size-7;S.length<w;T-=E)S.splice(1,0,T);return S}}static getNumRawDataModules(w){if(w<St.MIN_VERSION||w>St.MAX_VERSION)throw new RangeError("Version number out of range");let E=(16*w+128)*w+64;if(w>=2){const S=Math.floor(w/7)+2;E-=(25*S-10)*S-55,w>=7&&(E-=36)}return p(208<=E&&E<=29648),E}static getNumDataCodewords(w,E){return Math.floor(St.getNumRawDataModules(w)/8)-St.ECC_CODEWORDS_PER_BLOCK[E.ordinal][w]*St.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][w]}static reedSolomonComputeDivisor(w){if(w<1||w>255)throw new RangeError("Degree out of range");let E=[];for(let T=0;T<w-1;T++)E.push(0);E.push(1);let S=1;for(let T=0;T<w;T++){for(let R=0;R<E.length;R++)E[R]=St.reedSolomonMultiply(E[R],S),R+1<E.length&&(E[R]^=E[R+1]);S=St.reedSolomonMultiply(S,2)}return E}static reedSolomonComputeRemainder(w,E){let S=E.map(T=>0);for(const T of w){const R=T^S.shift();S.push(0),E.forEach((k,L)=>S[L]^=St.reedSolomonMultiply(k,R))}return S}static reedSolomonMultiply(w,E){if(w>>>8||E>>>8)throw new RangeError("Byte out of range");let S=0;for(let T=7;T>=0;T--)S=S<<1^(S>>>7)*285,S^=(E>>>T&1)*w;return p(S>>>8==0),S}finderPenaltyCountPatterns(w){const E=w[1];p(E<=this.size*3);const S=E>0&&w[2]==E&&w[3]==E*3&&w[4]==E&&w[5]==E;return(S&&w[0]>=E*4&&w[6]>=E?1:0)+(S&&w[6]>=E*4&&w[0]>=E?1:0)}finderPenaltyTerminateAndCount(w,E,S){return w&&(this.finderPenaltyAddHistory(E,S),E=0),E+=this.size,this.finderPenaltyAddHistory(E,S),this.finderPenaltyCountPatterns(S)}finderPenaltyAddHistory(w,E){E[0]==0&&(w+=this.size),E.pop(),E.unshift(w)}};o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=o;function a(A,w,E){if(w<0||w>31||A>>>w)throw new RangeError("Value out of range");for(let S=w-1;S>=0;S--)E.push(A>>>S&1)}function d(A,w){return(A>>>w&1)!=0}function p(A){if(!A)throw new Error("Assertion error")}const x=class gn{constructor(w,E,S){if(this.mode=w,this.numChars=E,this.bitData=S,E<0)throw new RangeError("Invalid argument");this.bitData=S.slice()}static makeBytes(w){let E=[];for(const S of w)a(S,8,E);return new gn(gn.Mode.BYTE,w.length,E)}static makeNumeric(w){if(!gn.isNumeric(w))throw new RangeError("String contains non-numeric characters");let E=[];for(let S=0;S<w.length;){const T=Math.min(w.length-S,3);a(parseInt(w.substring(S,S+T),10),T*3+1,E),S+=T}return new gn(gn.Mode.NUMERIC,w.length,E)}static makeAlphanumeric(w){if(!gn.isAlphanumeric(w))throw new RangeError("String contains unencodable characters in alphanumeric mode");let E=[],S;for(S=0;S+2<=w.length;S+=2){let T=gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(S))*45;T+=gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(S+1)),a(T,11,E)}return S<w.length&&a(gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(S)),6,E),new gn(gn.Mode.ALPHANUMERIC,w.length,E)}static makeSegments(w){return w==""?[]:gn.isNumeric(w)?[gn.makeNumeric(w)]:gn.isAlphanumeric(w)?[gn.makeAlphanumeric(w)]:[gn.makeBytes(gn.toUtf8ByteArray(w))]}static makeEci(w){let E=[];if(w<0)throw new RangeError("ECI assignment value out of range");if(w<128)a(w,8,E);else if(w<16384)a(2,2,E),a(w,14,E);else if(w<1e6)a(6,3,E),a(w,21,E);else throw new RangeError("ECI assignment value out of range");return new gn(gn.Mode.ECI,0,E)}static isNumeric(w){return gn.NUMERIC_REGEX.test(w)}static isAlphanumeric(w){return gn.ALPHANUMERIC_REGEX.test(w)}getData(){return this.bitData.slice()}static getTotalBits(w,E){let S=0;for(const T of w){const R=T.mode.numCharCountBits(E);if(T.numChars>=1<<R)return 1/0;S+=4+R+T.bitData.length}return S}static toUtf8ByteArray(w){w=encodeURI(w);let E=[];for(let S=0;S<w.length;S++)w.charAt(S)!="%"?E.push(w.charCodeAt(S)):(E.push(parseInt(w.substring(S+1,S+3),16)),S+=2);return E}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let y=x;r.QrSegment=x})(qs||(qs={}));(r=>{(o=>{const a=class{constructor(p,x){this.ordinal=p,this.formatBits=x}};a.LOW=new a(0,1),a.MEDIUM=new a(1,0),a.QUARTILE=new a(2,3),a.HIGH=new a(3,2),o.Ecc=a})(r.QrCode||(r.QrCode={}))})(qs||(qs={}));(r=>{(o=>{const a=class{constructor(p,x){this.modeBits=p,this.numBitsCharCount=x}numCharCountBits(p){return this.numBitsCharCount[Math.floor((p+7)/17)]}};a.NUMERIC=new a(1,[10,12,14]),a.ALPHANUMERIC=new a(2,[9,11,13]),a.BYTE=new a(4,[8,16,16]),a.KANJI=new a(8,[8,10,12]),a.ECI=new a(7,[0,0,0]),o.Mode=a})(r.QrSegment||(r.QrSegment={}))})(qs||(qs={}));var Oo=qs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var VE={L:Oo.QrCode.Ecc.LOW,M:Oo.QrCode.Ecc.MEDIUM,Q:Oo.QrCode.Ecc.QUARTILE,H:Oo.QrCode.Ecc.HIGH},Lm=128,Bm="L",Fm="#FFFFFF",jm="#000000",Vm=!1,Um=1,UE=4,zE=0,WE=.1;function zm(r,o=0){const a=[];return r.forEach(function(d,p){let x=null;d.forEach(function(y,A){if(!y&&x!==null){a.push(`M${x+o} ${p+o}h${A-x}v1H${x+o}z`),x=null;return}if(A===d.length-1){if(!y)return;x===null?a.push(`M${A+o},${p+o} h1v1H${A+o}z`):a.push(`M${x+o},${p+o} h${A+1-x}v1H${x+o}z`);return}y&&x===null&&(x=A)})}),a.join("")}function Wm(r,o){return r.slice().map((a,d)=>d<o.y||d>=o.y+o.h?a:a.map((p,x)=>x<o.x||x>=o.x+o.w?p:!1))}function HE(r,o,a,d){if(d==null)return null;const p=r.length+a*2,x=Math.floor(o*WE),y=p/o,A=(d.width||x)*y,w=(d.height||x)*y,E=d.x==null?r.length/2-A/2:d.x*y,S=d.y==null?r.length/2-w/2:d.y*y,T=d.opacity==null?1:d.opacity;let R=null;if(d.excavate){let L=Math.floor(E),j=Math.floor(S),B=Math.ceil(A+E-L),U=Math.ceil(w+S-j);R={x:L,y:j,w:B,h:U}}const k=d.crossOrigin;return{x:E,y:S,h:w,w:A,excavation:R,opacity:T,crossOrigin:k}}function GE(r,o){return o!=null?Math.max(Math.floor(o),0):r?UE:zE}function Hm({value:r,level:o,minVersion:a,includeMargin:d,marginSize:p,imageSettings:x,size:y,boostLevel:A}){let w=nn.useMemo(()=>{const L=(Array.isArray(r)?r:[r]).reduce((j,B)=>(j.push(...Oo.QrSegment.makeSegments(B)),j),[]);return Oo.QrCode.encodeSegments(L,VE[o],a,void 0,void 0,A)},[r,o,a,A]);const{cells:E,margin:S,numCells:T,calculatedImageSettings:R}=nn.useMemo(()=>{let k=w.getModules();const L=GE(d,p),j=k.length+L*2,B=HE(k,y,L,x);return{cells:k,margin:L,numCells:j,calculatedImageSettings:B}},[w,y,x,d,p]);return{qrcode:w,margin:S,cells:E,numCells:T,calculatedImageSettings:R}}var XE=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),YE=nn.forwardRef(function(o,a){const d=o,{value:p,size:x=Lm,level:y=Bm,bgColor:A=Fm,fgColor:w=jm,includeMargin:E=Vm,minVersion:S=Um,boostLevel:T,marginSize:R,imageSettings:k}=d,j=$f(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:B}=j,U=$f(j,["style"]),H=k==null?void 0:k.src,W=nn.useRef(null),Q=nn.useRef(null),ue=nn.useCallback(Fe=>{W.current=Fe,typeof a=="function"?a(Fe):a&&(a.current=Fe)},[a]),[se,J]=nn.useState(!1),{margin:ce,cells:q,numCells:Ne,calculatedImageSettings:Xe}=Hm({value:p,level:y,minVersion:S,boostLevel:T,includeMargin:E,marginSize:R,imageSettings:k,size:x});nn.useEffect(()=>{if(W.current!=null){const Fe=W.current,ee=Fe.getContext("2d");if(!ee)return;let Oe=q;const pe=Q.current,de=Xe!=null&&pe!==null&&pe.complete&&pe.naturalHeight!==0&&pe.naturalWidth!==0;de&&Xe.excavation!=null&&(Oe=Wm(q,Xe.excavation));const Re=window.devicePixelRatio||1;Fe.height=Fe.width=x*Re;const fe=x/Ne*Re;ee.scale(fe,fe),ee.fillStyle=A,ee.fillRect(0,0,Ne,Ne),ee.fillStyle=w,XE?ee.fill(new Path2D(zm(Oe,ce))):q.forEach(function(Y,te){Y.forEach(function(ve,je){ve&&ee.fillRect(je+ce,te+ce,1,1)})}),Xe&&(ee.globalAlpha=Xe.opacity),de&&ee.drawImage(pe,Xe.x+ce,Xe.y+ce,Xe.w,Xe.h)}}),nn.useEffect(()=>{J(!1)},[H]);const Ie=Zf({height:x,width:x},B);let Me=null;return H!=null&&(Me=nn.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{J(!0)},ref:Q,crossOrigin:Xe==null?void 0:Xe.crossOrigin})),nn.createElement(nn.Fragment,null,nn.createElement("canvas",Zf({style:Ie,height:x,width:x,ref:ue,role:"img"},U)),Me)});YE.displayName="QRCodeCanvas";var Xd=nn.forwardRef(function(o,a){const d=o,{value:p,size:x=Lm,level:y=Bm,bgColor:A=Fm,fgColor:w=jm,includeMargin:E=Vm,minVersion:S=Um,boostLevel:T,title:R,marginSize:k,imageSettings:L}=d,j=$f(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:B,cells:U,numCells:H,calculatedImageSettings:W}=Hm({value:p,level:y,minVersion:S,boostLevel:T,includeMargin:E,marginSize:k,imageSettings:L,size:x});let Q=U,ue=null;L!=null&&W!=null&&(W.excavation!=null&&(Q=Wm(U,W.excavation)),ue=nn.createElement("image",{href:L.src,height:W.h,width:W.w,x:W.x+B,y:W.y+B,preserveAspectRatio:"none",opacity:W.opacity,crossOrigin:W.crossOrigin}));const se=zm(Q,B);return nn.createElement("svg",Zf({height:x,width:x,viewBox:`0 0 ${H} ${H}`,ref:a,role:"img"},j),!!R&&nn.createElement("title",null,R),nn.createElement("path",{fill:A,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),nn.createElement("path",{fill:w,d:se,shapeRendering:"crispEdges"}),ue)});Xd.displayName="QRCodeSVG";const KE=({player:r})=>I.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"350px",height:"500px",margin:"0 auto",position:"relative"},children:r!=null&&r.image_data?I.jsxs("div",{style:{position:"relative",width:"350px",height:"450px"},children:[I.jsx("img",{src:`data:image/jpeg;base64,${r.image_data}`,alt:r.name,style:{width:"350px",height:"450px",objectFit:"cover",borderRadius:"50px",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",margin:"auto",display:"block"},onError:o=>{console.error("Image failed to load:",o),o.target.style.display="none"}}),I.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]}):I.jsxs("div",{style:{width:"350px",height:"450px",backgroundColor:"#f0f0f0",borderRadius:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:[I.jsx("p",{style:{marginBottom:"60px"},children:"No image available"}),I.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]})});var Lp=typeof window>"u"?P.useEffect:P.useLayoutEffect,ZE=({isPlaying:r,duration:o,startAt:a=0,updateInterval:d=0,onComplete:p,onUpdate:x})=>{let[y,A]=P.useState(a),w=P.useRef(0),E=P.useRef(a),S=P.useRef(a*-1e3),T=P.useRef(null),R=P.useRef(null),k=P.useRef(null),L=U=>{let H=U/1e3;if(R.current===null){R.current=H,T.current=requestAnimationFrame(L);return}let W=H-R.current,Q=w.current+W;R.current=H,w.current=Q;let ue=E.current+(d===0?Q:(Q/d|0)*d),se=E.current+Q,J=typeof o=="number"&&se>=o;A(J?o:ue),J||(T.current=requestAnimationFrame(L))},j=()=>{T.current&&cancelAnimationFrame(T.current),k.current&&clearTimeout(k.current),R.current=null},B=P.useCallback(U=>{j(),w.current=0;let H=typeof U=="number"?U:a;E.current=H,A(H),r&&(T.current=requestAnimationFrame(L))},[r,a]);return Lp(()=>{if(x==null||x(y),o&&y>=o){S.current+=o*1e3;let{shouldRepeat:U=!1,delay:H=0,newStartAt:W}=(p==null?void 0:p(S.current/1e3))||{};U&&(k.current=setTimeout(()=>B(W),H*1e3))}},[y,o]),Lp(()=>(r&&(T.current=requestAnimationFrame(L)),j),[r,o,d]),{elapsedTime:y,reset:B}},$E=(r,o,a)=>{let d=r/2,p=o/2,x=d-p,y=2*x,A=a==="clockwise"?"1,0":"0,1",w=2*Math.PI*x;return{path:`m ${d},${p} a ${x},${x} 0 ${A} 0,${y} a ${x},${x} 0 ${A} 0,-${y}`,pathLength:w}},Bp=(r,o)=>r===0||r===o?0:typeof o=="number"?r-o:0,qE=r=>({position:"relative",width:r,height:r}),QE={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},Gm=(r,o,a,d,p)=>{if(d===0)return o;let x=(p?d-r:r)/d;return o+a*x},Fp=r=>{var o,a;return(a=(o=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(d,p,x,y)=>`#${p}${p}${x}${x}${y}${y}`).substring(1).match(/.{2}/g))==null?void 0:o.map(d=>parseInt(d,16)))!=null?a:[]},JE=(r,o)=>{var a;let{colors:d,colorsTime:p,isSmoothColorTransition:x=!0}=r;if(typeof d=="string")return d;let y=(a=p==null?void 0:p.findIndex((R,k)=>R>=o&&o>=p[k+1]))!=null?a:-1;if(!p||y===-1)return d[0];if(!x)return d[y];let A=p[y]-o,w=p[y]-p[y+1],E=Fp(d[y]),S=Fp(d[y+1]),T=!!r.isGrowing;return`rgb(${E.map((R,k)=>Gm(A,R,S[k]-R,w,T)|0).join(",")})`},eA=r=>{let{duration:o,initialRemainingTime:a,updateInterval:d,size:p=180,strokeWidth:x=12,trailStrokeWidth:y,isPlaying:A=!1,isGrowing:w=!1,rotation:E="clockwise",onComplete:S,onUpdate:T}=r,R=P.useRef(),k=Math.max(x,y??0),{path:L,pathLength:j}=$E(p,k,E),{elapsedTime:B}=ZE({isPlaying:A,duration:o,startAt:Bp(o,a),updateInterval:d,onUpdate:typeof T=="function"?H=>{let W=Math.ceil(o-H);W!==R.current&&(R.current=W,T(W))}:void 0,onComplete:typeof S=="function"?H=>{var W;let{shouldRepeat:Q,delay:ue,newInitialRemainingTime:se}=(W=S(H))!=null?W:{};if(Q)return{shouldRepeat:Q,delay:ue,newStartAt:Bp(o,se)}}:void 0}),U=o-B;return{elapsedTime:B,path:L,pathLength:j,remainingTime:Math.ceil(U),rotation:E,size:p,stroke:JE(r,U),strokeDashoffset:Gm(B,0,j,o,w),strokeWidth:x}},Yd=r=>{let{children:o,strokeLinecap:a,trailColor:d,trailStrokeWidth:p}=r,{path:x,pathLength:y,stroke:A,strokeDashoffset:w,remainingTime:E,elapsedTime:S,size:T,strokeWidth:R}=eA(r);return nn.createElement("div",{style:qE(T)},nn.createElement("svg",{viewBox:`0 0 ${T} ${T}`,width:T,height:T,xmlns:"http://www.w3.org/2000/svg"},nn.createElement("path",{d:x,fill:"none",stroke:d??"#d9d9d9",strokeWidth:p??R}),nn.createElement("path",{d:x,fill:"none",stroke:A,strokeLinecap:a??"round",strokeWidth:R,strokeDasharray:y,strokeDashoffset:w})),typeof o=="function"&&nn.createElement("div",{style:QE},o({remainingTime:E,elapsedTime:S,color:A})))};Yd.displayName="CountdownCircleTimer";const tA=({onComplete:r})=>{const[o,a]=P.useState(5),[d,p]=P.useState(!1),x=P.useRef(null),y=P.useRef(null);P.useEffect(()=>(x.current&&clearTimeout(x.current),y.current&&clearInterval(y.current),y.current=setInterval(()=>{p(!0),x.current=setTimeout(()=>{a(w=>w<=1?(y.current&&clearInterval(y.current),x.current&&clearTimeout(x.current),r&&r(),0):w-1),p(!1)},500)},1500),()=>{y.current&&clearInterval(y.current),x.current&&clearTimeout(x.current)}),[r]);const A=d?"pop-burst":"";return I.jsx("div",{className:"lobby-countdown-overlay",children:I.jsxs("div",{className:`lobby-countdown-container ${A}`,children:[I.jsx("div",{className:"lobby-countdown-number",children:o}),I.jsx("div",{className:"lobby-countdown-text",children:o>0?"Get ready!":"Starting..."})]})})},nA=({onComplete:r,lobbyCode:o="this"})=>{const{userProfile:a}=P.useContext(Ur),[d,p]=P.useState(0),[x,y]=P.useState(!1),[A,w]=P.useState(!1),[E,S]=P.useState([0]),[T,R]=P.useState(!1),k=P.useRef(null),L=P.useRef(null),j=[{image:a!=null&&a.image_data?`data:image/jpeg;base64,${a.image_data}`:"/assets/how_to_pt1_1.svg",duration:2e3,animatedText:"Find your match using their profile picture!"},{image:"/assets/how_to_pt2_2.svg",duration:4e3,animatedText:"Raise the volume, you need it to know whats going on!"},{image:"/assets/how_to_pt3_3.svg",duration:4e3,animatedText:"Tap this to stop or pause, you can rejoin anytime"}];return P.useEffect(()=>{const B=()=>{if(d>=j.length-1){clearInterval(k.current),r&&r();return}y(!0);const U=d+1;S([d,U]),L.current=setTimeout(()=>{R(!1),p(U),y(!1),setTimeout(()=>{S([U]),w(!0),j[U].animatedText&&R(!0)},500)},500)};return k.current=setInterval(B,j[d].duration),w(!0),d===0&&j[0].animatedText&&R(!0),()=>{k.current&&clearInterval(k.current),L.current&&clearTimeout(L.current)}},[d,j.length,r]),I.jsx("div",{className:"tutorial-overlay",children:I.jsxs("div",{className:"tutorial-container",children:[E.map(B=>I.jsxs("div",{className:`tutorial-slide ${B===d?"current":B<d?"previous":"next"}`,children:[B===d&&j[B].animatedText&&T&&I.jsx("div",{className:"animated-text pop-burst",children:j[B].animatedText}),B===1&&I.jsx("div",{className:"volume-arrow-container",children:I.jsx("svg",{className:"volume-arrow",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:I.jsx("path",{d:"M19 12H5M5 12L12 5M5 12L12 19",stroke:"#144dff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),I.jsx("div",{className:`tutorial-image-container ${B===0?"first-slide":""}`,children:I.jsx("img",{src:j[B].image,alt:`Tutorial step ${B+1}`,className:"tutorial-image"})}),I.jsx("div",{className:`tutorial-text ${A&&B===d?"text-animate":""}`,children:j[B].text})]},B)),I.jsx("div",{className:"tutorial-progress",children:j.map((B,U)=>I.jsx("div",{className:`progress-dot ${U===d?"active":""}`},U))})]})})},rA=({isVisible:r,onAnimationEnd:o})=>{const[a,d]=P.useState(!1),p=P.useRef(null);return P.useEffect(()=>(p.current&&clearTimeout(p.current),r?(d(!0),p.current=setTimeout(()=>{d(!1),o&&o()},3e3)):d(!1),()=>{p.current&&(clearTimeout(p.current),p.current=null)}),[r,o]),a?I.jsxs("div",{className:"match-overlay",children:[I.jsxs("div",{className:"confetti-container",children:[[...Array(50)].map((x,y)=>I.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":Math.random()*.2}},`first-${y}`)),[...Array(50)].map((x,y)=>I.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":`${.6+Math.random()*.2}s`}},`second-${y}`))]}),I.jsx("div",{className:"match-text",children:"It's a Match!"})]}):null},iA=({isVisible:r,onAnimationEnd:o})=>{const[a,d]=P.useState(!1),p=P.useRef(null);return P.useEffect(()=>(p.current&&clearTimeout(p.current),r?(d(!0),p.current=setTimeout(()=>{d(!1),o&&o()},1800)):d(!1),()=>{p.current&&(clearTimeout(p.current),p.current=null)}),[r,o]),a?I.jsxs("div",{className:"ready-overlay",children:[I.jsxs("div",{className:"confetti-container",children:[[...Array(50)].map((x,y)=>I.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":Math.random()*.2}},`first-${y}`)),[...Array(50)].map((x,y)=>I.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":`${.6+Math.random()*.2}s`}},`second-${y}`))]}),I.jsx("div",{className:"ready-text",children:"You're ready!"})]}):null},oc=9,sA=5,oA=5e3,aA=!0,lA=()=>{const[r,o]=P.useState([]),[a,d]=P.useState("self"),[p,x]=P.useState(!1),[y,A]=P.useState(""),w=P.useRef(null),E=P.useRef(null),[S,T]=P.useState(!1),R=P.useRef(!1),[k,L]=P.useState(!1),{loadSound:j,seekTo:B,cancelSound:U,checkSound:H,soundEnabled:W,setSoundEnabled:Q,isPlaying:ue}=rg(),[se,J]=P.useState("yonder"),ce=zr(),{code:q}=Z2(),[Ne,Xe]=P.useState(null);Mm(Xe,null,se);const{user:Ie,userProfile:Me,checkAuth:Fe,permissions:ee}=P.useContext(Ur);P.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token"))try{Ie||await Fe()}catch(qe){console.error("Authentication error:",qe);const De=new URLSearchParams(window.location.search).get("code")||q;ce(De?`/signup?redirect=lobby&code=${De}`:"/signup?redirect=lobby")}else{const yt=new URLSearchParams(window.location.search).get("code")||q;ce(yt?`/signup?redirect=lobby&code=${yt}`:"/signup?redirect=lobby")}})()},[ce,q,Fe,Ie]),P.useEffect(()=>{(()=>{const qe=new URLSearchParams(window.location.search).get("code")||q;if(qe){J(qe),OE(qe),Vi(qe);const yt=`hasSeenTutorial_${qe}`,De=localStorage.getItem(yt),Vn=!!localStorage.getItem("access_token");console.log("Tutorial check:",{codeParam:qe,lobbyTutorialKey:yt,hasSeenLobbyTutorial:De,isAuthenticated:Vn}),!De&&Vn&&(Hr(!0),localStorage.setItem(yt,"true"))}})()},[q]);const[Oe,pe]=P.useState(null),[de,Re]=P.useState(null),[fe,Y]=P.useState(null),[te,ve]=P.useState(null),[je,at]=P.useState(null),xe=P.useRef(!1),$e=P.useRef(null),[Ce,_e]=P.useState(null),[st,Qe]=P.useState(null),[ut,Ue]=P.useState(null),[Ht,Rt]=P.useState(null),[fn,Ft]=P.useState(!0),bt=300,ft=P.useRef(0),[$t,Pe]=P.useState(null),[rn,ze]=P.useState(null),[we,Je]=P.useState([]),[Ze,qt]=P.useState([]),[mt,vt]=P.useState(!document.hidden),Mt=P.useRef("yonder"),It=P.useRef({}),Sn=P.useRef([]),[jt,Se]=P.useState(!1),_t=P.useRef(null),[Dt,zt]=P.useState(!1);P.useEffect(()=>{Mt.current=se},[se]);async function Nr(Le,ht){const qe=localStorage.getItem("access_token"),De=await(await fetch(window.server_url+"/set_profile_info",{method:"POST",headers:{Authorization:`Bearer ${qe}`,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify({tags_work:Le,tags_desiring_work:ht})})).json();console.log("SET PROFILE INFO:",De)}const ji=async Le=>{if(Le.length!==0){Se(!0);try{const ht=localStorage.getItem("access_token"),qe=await fetch(`${window.server_url}/load_batch_pfp_small_icons`,{method:"POST",headers:{Authorization:`Bearer ${ht}`,"Content-Type":"application/json",lobby_code:Mt.current},body:JSON.stringify({usernames:Le})});if(qe.ok){const yt=await qe.json();It.current={...It.current,...yt},console.log("Profile images fetched:",Object.keys(yt))}else console.error("Failed to fetch profile images:",qe.status)}catch(ht){console.error("Error fetching profile images:",ht)}finally{Se(!1)}}},Vi=async Le=>{try{const ht=await fetch(`${window.server_url}/lobby_setup_data`,{headers:{lobby_code:Le}});if(ht.ok){const qe=await ht.json();qe.logo_icon?(_t.current=qe.logo_icon,zt(!0),console.log("Sponsor logo loaded successfully")):console.log("No sponsor logo available for this lobby")}else console.error("Failed to fetch lobby setup data:",ht.status)}catch(ht){console.error("Error fetching lobby setup data:",ht)}};async function xt(){try{const Le=localStorage.getItem("access_token");U(),It.current={},Sn.current=[],(await fetch(window.server_url+"/disconnect_lobby",{headers:{Authorization:`Bearer ${Le}`,lobby_code:se}})).ok&&ce("/")}catch(Le){console.error("Error disconnecting from lobby:",Le),ce("/")}finally{U(),ce("/"),console.log("finally")}}const[Kn,Ui]=P.useState(!1),[ws,Zn]=P.useState(null),ti=P.useRef(!1),[xn,wr]=P.useState(!1),[Wr,bn]=P.useState(null),vs=(Le,ht)=>{if(!Le||!ht)return null;for(const qe of Le.tags_work)if(ht.desiring_tags_work.includes(qe)){for(const yt of ht.tags_work)if(Le.desiring_tags_work.includes(yt))return{playerTag:qe,opponentTag:yt}}return null};async function Dn(){try{ft.current+=1,ft.current>5&&(ft.current=0,xe.current=!1);const Le=localStorage.getItem("access_token"),ht=!document.hidden,qe=Mt.current;if(console.log("lobby code fr:",qe),qe=="yonder"){console.log("lobby code is not set");return}const yt=await fetch(`${window.server_url}/lobby?is_visible=${ht}`,{headers:{Authorization:`Bearer ${Le}`,is_visible_t_f:ht?"t":"f",lobby_code:qe}});if(yt.ok){const De=await yt.json();console.log("LOBBY PAIR DATA:",qe,De),De.status=="inactive"&&(U(),ce("/")),Y(De.opponent_name),De.opponent_name==null&&pe(null),o(De.custom_tags),_e(De.lobby_state),Rt(De.lobby_duration);const Vn=typeof De.round_time_left=="number"&&!isNaN(De.round_time_left)?De.round_time_left:0;console.log("Timer Debug:",{roundDuration:De.lobby_duration,timeLeft:Vn,lobbyState:De.lobby_state,usingDefaultDuration:!De.lobby_duration}),$e.current=Vn,Qe(Math.floor(Vn));const kt=Math.floor(Vn/60),Es=Math.floor(Vn%60);Ue(`${kt}:${Es.toString().padStart(2,"0")}`),at(De.table_number),De.player_tags!=null&&De.player_tags.tags_work!=null&&Je(De.player_tags.tags_work),De.player_tags!=null&&De.player_tags.desiring_tags_work!=null&&qt(De.player_tags.desiring_tags_work),$e.current!=null&&De.lobby_state=="active"&&$e.current!=0&&(B(bt-$e.current),console.log("seeking to",bt-$e.current));const he=await fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${qe}`,{headers:{Authorization:`Bearer ${Le}`,lobby_code:qe}});if(he.ok){const dr=await he.json();Xe(dr.player_count);const Nt=dr.usernames||[];if(JSON.stringify(Sn.current)!==JSON.stringify(Nt)){Sn.current=Nt;const As=Nt.filter(Ct=>!It.current[Ct]&&Ct!==(Ie==null?void 0:Ie.username));As.length>0&&aA&&(console.log("Profile image fetching disabled for lobby display"),console.log(`Skipping profile image fetch for ${As.length} users - lobby images disabled`))}}if((fe!=De.opponent_name||Oe==null)&&!xe.current&&De.opponent_name!=null){xe.current=!0,console.log("fetching profile");const dr=await fetch(window.server_url+"/paired_player_profile",{headers:{Authorization:`Bearer ${Le}`}});if(dr.ok){const Nt=await dr.json();pe(Nt),console.log("profile fetched:",Nt.name)}else console.log("profile fetch failed");xe.current=!1}if(ws==="interrim"&&De.lobby_state==="active"&&De.opponent_name&&!ti.current){console.log("Checking for matches...");const dr=vs(De.player_tags,De.opponent_tags);dr&&(console.log("Match found! Setting animation and banner...",dr),bn(dr),wr(!0),ti.current=!0,Ui(!0))}Zn(De.lobby_state)}}catch(Le){console.error("Error fetching lobby data:",Le)}}P.useEffect(()=>{H()?Q(!0):Q(!1);const Le=setInterval(async()=>{Dn()},oA);return()=>clearInterval(Le)},[]),P.useEffect(()=>{const Le=setTimeout(Dn,1e3);return()=>clearTimeout(Le)},[Ce,se]),P.useEffect(()=>{const Le=()=>{const ht=!document.hidden;ht&&!mt&&(console.log("Page became visible - fetching latest data"),Dn()),vt(ht)};return document.addEventListener("visibilitychange",Le),()=>{document.removeEventListener("visibilitychange",Le)}},[mt]);const Cs=()=>I.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.125)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:I.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",position:"relative",minWidth:"300px"},children:[I.jsx("button",{onClick:()=>Ft(!1),style:{color:"#144fff",position:"absolute",right:"10px",top:"10px",border:"none",background:"none",fontSize:"2px",cursor:"pointer"},children:"X"}),I.jsx("h2",{style:{marginTop:"5px"},children:"The Sound is Important"}),I.jsx("h3",{style:{marginTop:"5px"},children:"Raise your volume also"}),I.jsx("p",{style:{color:"#144dff"},children:"You'll need this for the best experience."}),I.jsx("button",{onClick:()=>{j(),Ft(!1)},style:{padding:"10px 20px",marginTop:"20px",backgroundColor:"#144dff",color:"#ffffff",border:"none",borderRadius:"14px",fontWeight:"bold",cursor:"pointer"},children:"Enable Sound"})]})}),sn=(Le,ht)=>{$t==null&&Pe(we),rn==null&&ze(Ze);const qe=Le==="self"?$t:rn;if(!(qe!=null&&qe.includes(ht))&&(qe==null?void 0:qe.length)>=sA){A("Reached tag limit for this section"),setTimeout(()=>{var De;(De=E.current)==null||De.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{A("")},3e3);return}Le==="self"?Pe(De=>De.includes(ht)?De.filter(Vn=>Vn!==ht):[...De,ht]):ze(De=>De.includes(ht)?De.filter(Vn=>Vn!==ht):[...De,ht])},fr=()=>{$t!=null&&Nr($t,rn||[]),d("desiring"),setTimeout(()=>{var Le;(Le=w.current)==null||Le.scrollIntoView({behavior:"smooth",block:"start"})},100)},In=()=>{rn!=null&&(Nr($t||[],rn),setTimeout(()=>{R.current||(R.current=!0,T(!0),L(!0))},500)),window.scrollTo({top:0,behavior:"smooth"})},ke=()=>{d("self")},[ni,zi]=P.useState(!1);P.useEffect(()=>{if(Ce==="interrim")zi(!0);else if(Ce==="active"){const Le=setTimeout(()=>{zi(!1)},1e3);return()=>clearTimeout(Le)}},[Ce]);const kn=()=>{console.log("Lobby countdown animation completed")},[$n,Hr]=P.useState(!1),wi=()=>{Hr(!1)};P.useEffect(()=>{(Ce!=="active"||!Oe)&&(wr(!1),bn(null))},[Ce,Oe]),P.useEffect(()=>{Ce==="terminated"&&(It.current={},Sn.current=[],Sc())},[Ce]);const sr=P.useRef(null);return P.useEffect(()=>{var Le;!p&&!(we!=null&&we.length)&&!(Ze!=null&&Ze.length)&&(r==null?void 0:r.length)>0&&((Le=sr.current)==null||Le.scrollIntoView({behavior:"smooth"}),x(!0))},[we,Ze,r,p]),I.jsxs("div",{className:"lobby-container",children:[I.jsxs("div",{className:"lobby-content",children:[I.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0",marginTop:"-1.5rem"},children:I.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),(Ce==="checkin"||Ce==="active"&&!Oe||Ce==="interrim")&&I.jsx("div",{className:"user-profile-container",children:I.jsxs("div",{className:"user-profile",children:[I.jsx("img",{src:Me!=null&&Me.image_data?`data:image/jpeg;base64,${Me.image_data}`:"/assets/avatar_3.png",alt:"Your Profile",className:"user-profile-picture"}),I.jsx("div",{className:"user-profile-glow"})]})}),I.jsx("div",{className:"lobby-header",style:{marginTop:"-50px"},children:I.jsx("h2",{children:Ce==="active"&&Oe?I.jsxs("span",{className:"lobby-pop-burst",children:["Go find ",Oe.name,"!"]}):Ce==="checkin"?I.jsxs(I.Fragment,{children:["Wait here ",Me.name.slice(0,15),".",I.jsx("br",{}),"Your host will start the experience."]}):Ce==="active"&&!Oe?"You will be paired with someone in the next round.":Ce==="interrim"?"Get ready for the next round!":Ce==="terminated"?"This session has ended. Thank you for participating!":""})},Ce),Ce==="active"&&Oe&&je&&I.jsx("div",{className:"table-number",children:I.jsxs("h3",{children:["at table: ",je]})}),(_t.current||Ce!=="checkin")&&I.jsxs("div",{className:`timer-sponsor-container ${_t.current&&Ce!=="checkin"?"has-timer":""}`,children:[_t.current&&I.jsx("div",{className:"sponsor-logo",children:I.jsx("img",{src:`data:image/jpeg;base64,${_t.current}`,alt:"Sponsor Logo",style:{width:"100px",height:"100px",objectFit:"contain"}})}),Ce!=="checkin"&&I.jsx("div",{className:"time-left",style:{display:"flex",flexDirection:"column",alignItems:"center",background:"white"},children:(Ce==="active"||Ce==="interrim")&&st?I.jsxs(I.Fragment,{children:[I.jsx(Yd,{isPlaying:Ce==="active",duration:Ht||300,initialRemainingTime:st||0,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>(Dn(),{shouldRepeat:!1}),children:({remainingTime:Le})=>{const ht=typeof Le=="number"&&!isNaN(Le)?Le:0,qe=Math.floor(ht/60),yt=Math.floor(ht%60);return I.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[qe,":",String(yt).padStart(2,"0")]})}},`${Ce}-${st}`),I.jsx("span",{style:{fontWeight:700,fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)"},children:"round time left"})]}):I.jsx("span",{className:"time-left-text"})})]}),xn&&Wr&&Ce==="active"&&Oe&&I.jsxs("div",{className:"match-banner",children:[I.jsx("span",{className:"match-tag",children:Wr.playerTag}),I.jsx("div",{className:"match-arrow"}),I.jsx("span",{className:"match-tag",children:Wr.opponentTag})]}),I.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",margin:"0 auto"},children:Ce==="active"||Ce==="interrim"?Oe?I.jsx("div",{style:{marginTop:"-3rem",width:"100%",display:"flex",justifyContent:"center"},children:I.jsx(KE,{player:Oe})}):I.jsx(I.Fragment,{}):Ce==="terminated"?I.jsx("div",{className:"status-message",children:I.jsxs("h2",{children:["This session has ended.",I.jsx("br",{}),"Thank you for participating!"]})}):null}),(Ce==="checkin"||Ce==="active"&&!Oe)&&Ne!==null&&I.jsx("div",{className:"player-count-container",children:I.jsxs("div",{className:"player-count-bubble",children:[I.jsx("div",{className:"player-count-icon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:I.jsx("img",{src:"/assets/players_display_icon.png",alt:"Players in lobby",className:"player-count-img",style:{width:"40px",height:"40px",objectFit:"contain"}})}),I.jsxs("div",{className:"player-count-text",children:[I.jsx("span",{className:"player-count-number",children:Ne}),I.jsxs("span",{className:"player-count-label",children:[""," in ",se," lobby"]})]})]})}),(Ce==="checkin"||Ce==="active"&&!Oe)&&I.jsx("div",{className:"lobby-profiles-container",children:I.jsx("div",{className:"lobby-profiles-grid",children:Ne>0?I.jsxs(I.Fragment,{children:[Array.from({length:Math.min(Ne,oc)}).map((Le,ht)=>{let qe;return qe="/assets/avatar_8.png",I.jsxs("div",{className:`profile-icon-wrapper ${ht===Math.min(Ne,oc)-1?"pop-in":""}`,children:[I.jsx("img",{src:qe,alt:`Profile ${ht+1}`,className:"profile-icon",loading:"lazy"}),I.jsx("div",{className:"profile-icon-glow"})]},`profile-${ht}`)}),Ne>oc&&I.jsx("div",{className:"profile-icon-wrapper more-profiles",children:I.jsxs("div",{className:"more-profiles-bubble",children:["+",Ne-oc]})})]}):I.jsx("div",{children:"No profiles to display"})})}),(Ce==="checkin"||Ce==="active")&&I.jsxs("div",{className:"selected-tags-container",children:[$t&&$t.length>0&&I.jsxs("div",{className:"tag-category",children:[I.jsx("h4",{children:"I am:"}),I.jsx("div",{className:"tag-list",children:$t.map(Le=>I.jsx("span",{className:"tag-item",children:Le},`self-${Le}`))})]}),rn&&rn.length>0&&I.jsxs("div",{className:"tag-category",children:[I.jsx("h4",{children:"Looking for:"}),I.jsx("div",{className:"tag-list",children:rn.map(Le=>I.jsx("span",{className:"tag-item",children:Le},`desiring-${Le}`))})]})]}),I.jsx("button",{className:"leave-lobby-button",onClick:xt,children:"Leave"}),I.jsx("button",{className:"how-to-tutorial-button",onClick:()=>Hr(!0),children:"Tutorial"}),ee==="admin"&&I.jsx("button",{className:"admin-view-button",onClick:()=>ce(`/admin_lobby_view?code=${se}`),children:"Manage"}),Array.isArray(r)&&r.length>0&&I.jsx("form",{onSubmit:Le=>{Le.preventDefault(),a==="self"?fr():In()},children:I.jsxs("div",{className:"tags-section",ref:sr,children:[I.jsx("div",{className:"progress-bar-container",children:I.jsx("div",{className:`progress-bar ${a==="desiring"?"progress-complete":""}`,onClick:ke})}),I.jsxs("div",{className:`tag-group ${a==="self"?"active":"hidden"}`,children:[I.jsx("div",{className:"bounce-wrapper",children:I.jsx("h2",{children:"Who are you?"})}),I.jsx("div",{className:"tag-labels-container",children:r.map(Le=>I.jsxs("label",{className:"tag-label",children:[I.jsx("input",{type:"checkbox",checked:$t!=null?$t.includes(Le):we.includes(Le),onChange:()=>sn("self",Le)}),Le]},`self-${Le}`))})]}),I.jsxs("div",{className:`tag-group ${a==="desiring"?"active":"hidden"}`,ref:w,children:[I.jsx("div",{className:"bounce-wrapper",children:I.jsx("h2",{children:"Who do you want to meet?"})}),I.jsx("div",{className:"tag-labels-container",children:r.map(Le=>I.jsxs("label",{className:"tag-label",children:[I.jsx("input",{type:"checkbox",checked:rn!=null?rn.includes(Le):Ze.includes(Le),onChange:()=>sn("desiring",Le)}),Le]},`desiring-${Le}`))})]}),I.jsx("button",{type:"submit",className:"tag-selection-button",ref:E,children:a==="self"?"Continue":"Save"}),y&&I.jsx("div",{style:{color:"#144dff",textAlign:"center",marginTop:"1rem",fontSize:"0.9rem",fontWeight:"600"},children:y})]})})]}),W||!fn||Ce=="checkin"||Ce==null||ue?null:I.jsx(Cs,{}),ni&&I.jsx(tA,{onComplete:kn}),$n&&I.jsx(nA,{onComplete:wi,lobbyCode:se}),I.jsx(rA,{isVisible:Kn,onAnimationEnd:()=>{Ui(!1),ti.current=!1}}),I.jsx(iA,{isVisible:S,onAnimationEnd:()=>{T(!1),R.current=!1}})]})};let cA={data:""},uA=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||cA,fA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dA=/\/\*[^]*?\*\/|  +/g,jp=/\n+/g,hs=(r,o)=>{let a="",d="",p="";for(let x in r){let y=r[x];x[0]=="@"?x[1]=="i"?a=x+" "+y+";":d+=x[1]=="f"?hs(y,x):x+"{"+hs(y,x[1]=="k"?"":o)+"}":typeof y=="object"?d+=hs(y,o?o.replace(/([^,])+/g,A=>x.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,w=>/&/.test(w)?w.replace(/&/g,A):A?A+" "+w:w)):x):y!=null&&(x=/^--/.test(x)?x:x.replace(/[A-Z]/g,"-$&").toLowerCase(),p+=hs.p?hs.p(x,y):x+":"+y+";")}return a+(o&&p?o+"{"+p+"}":p)+d},ki={},Xm=r=>{if(typeof r=="object"){let o="";for(let a in r)o+=a+Xm(r[a]);return o}return r},hA=(r,o,a,d,p)=>{let x=Xm(r),y=ki[x]||(ki[x]=(w=>{let E=0,S=11;for(;E<w.length;)S=101*S+w.charCodeAt(E++)>>>0;return"go"+S})(x));if(!ki[y]){let w=x!==r?r:(E=>{let S,T,R=[{}];for(;S=fA.exec(E.replace(dA,""));)S[4]?R.shift():S[3]?(T=S[3].replace(jp," ").trim(),R.unshift(R[0][T]=R[0][T]||{})):R[0][S[1]]=S[2].replace(jp," ").trim();return R[0]})(r);ki[y]=hs(p?{["@keyframes "+y]:w}:w,a?"":"."+y)}let A=a&&ki.g?ki.g:null;return a&&(ki.g=ki[y]),((w,E,S,T)=>{T?E.data=E.data.replace(T,w):E.data.indexOf(w)===-1&&(E.data=S?w+E.data:E.data+w)})(ki[y],o,d,A),y},pA=(r,o,a)=>r.reduce((d,p,x)=>{let y=o[x];if(y&&y.call){let A=y(a),w=A&&A.props&&A.props.className||/^go/.test(A)&&A;y=w?"."+w:A&&typeof A=="object"?A.props?"":hs(A,""):A===!1?"":A}return d+p+(y??"")},"");function kc(r){let o=this||{},a=r.call?r(o.p):r;return hA(a.unshift?a.raw?pA(a,[].slice.call(arguments,1),o.p):a.reduce((d,p)=>Object.assign(d,p&&p.call?p(o.p):p),{}):a,uA(o.target),o.g,o.o,o.k)}let Ym,qf,Qf;kc.bind({g:1});let Fi=kc.bind({k:1});function gA(r,o,a,d){hs.p=o,Ym=r,qf=a,Qf=d}function ys(r,o){let a=this||{};return function(){let d=arguments;function p(x,y){let A=Object.assign({},x),w=A.className||p.className;a.p=Object.assign({theme:qf&&qf()},A),a.o=/ *go\d+/.test(w),A.className=kc.apply(a,d)+(w?" "+w:"");let E=r;return r[0]&&(E=A.as||r,delete A.as),Qf&&E[0]&&Qf(A),Ym(E,A)}return p}}var mA=r=>typeof r=="function",Ic=(r,o)=>mA(r)?r(o):r,xA=(()=>{let r=0;return()=>(++r).toString()})(),Km=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let o=matchMedia("(prefers-reduced-motion: reduce)");r=!o||o.matches}return r}})(),yA=20,Zm=(r,o)=>{switch(o.type){case 0:return{...r,toasts:[o.toast,...r.toasts].slice(0,yA)};case 1:return{...r,toasts:r.toasts.map(x=>x.id===o.toast.id?{...x,...o.toast}:x)};case 2:let{toast:a}=o;return Zm(r,{type:r.toasts.find(x=>x.id===a.id)?1:0,toast:a});case 3:let{toastId:d}=o;return{...r,toasts:r.toasts.map(x=>x.id===d||d===void 0?{...x,dismissed:!0,visible:!1}:x)};case 4:return o.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(x=>x.id!==o.toastId)};case 5:return{...r,pausedAt:o.time};case 6:let p=o.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(x=>({...x,pauseDuration:x.pauseDuration+p}))}}},hc=[],Zs={toasts:[],pausedAt:void 0},Js=r=>{Zs=Zm(Zs,r),hc.forEach(o=>{o(Zs)})},wA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vA=(r={})=>{let[o,a]=P.useState(Zs),d=P.useRef(Zs);P.useEffect(()=>(d.current!==Zs&&a(Zs),hc.push(a),()=>{let x=hc.indexOf(a);x>-1&&hc.splice(x,1)}),[]);let p=o.toasts.map(x=>{var y,A,w;return{...r,...r[x.type],...x,removeDelay:x.removeDelay||((y=r[x.type])==null?void 0:y.removeDelay)||(r==null?void 0:r.removeDelay),duration:x.duration||((A=r[x.type])==null?void 0:A.duration)||(r==null?void 0:r.duration)||wA[x.type],style:{...r.style,...(w=r[x.type])==null?void 0:w.style,...x.style}}});return{...o,toasts:p}},CA=(r,o="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:o,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...a,id:(a==null?void 0:a.id)||xA()}),$a=r=>(o,a)=>{let d=CA(o,r,a);return Js({type:2,toast:d}),d.id},cr=(r,o)=>$a("blank")(r,o);cr.error=$a("error");cr.success=$a("success");cr.loading=$a("loading");cr.custom=$a("custom");cr.dismiss=r=>{Js({type:3,toastId:r})};cr.remove=r=>Js({type:4,toastId:r});cr.promise=(r,o,a)=>{let d=cr.loading(o.loading,{...a,...a==null?void 0:a.loading});return typeof r=="function"&&(r=r()),r.then(p=>{let x=o.success?Ic(o.success,p):void 0;return x?cr.success(x,{id:d,...a,...a==null?void 0:a.success}):cr.dismiss(d),p}).catch(p=>{let x=o.error?Ic(o.error,p):void 0;x?cr.error(x,{id:d,...a,...a==null?void 0:a.error}):cr.dismiss(d)}),r};var EA=(r,o)=>{Js({type:1,toast:{id:r,height:o}})},AA=()=>{Js({type:5,time:Date.now()})},Pa=new Map,SA=1e3,bA=(r,o=SA)=>{if(Pa.has(r))return;let a=setTimeout(()=>{Pa.delete(r),Js({type:4,toastId:r})},o);Pa.set(r,a)},IA=r=>{let{toasts:o,pausedAt:a}=vA(r);P.useEffect(()=>{if(a)return;let x=Date.now(),y=o.map(A=>{if(A.duration===1/0)return;let w=(A.duration||0)+A.pauseDuration-(x-A.createdAt);if(w<0){A.visible&&cr.dismiss(A.id);return}return setTimeout(()=>cr.dismiss(A.id),w)});return()=>{y.forEach(A=>A&&clearTimeout(A))}},[o,a]);let d=P.useCallback(()=>{a&&Js({type:6,time:Date.now()})},[a]),p=P.useCallback((x,y)=>{let{reverseOrder:A=!1,gutter:w=8,defaultPosition:E}=y||{},S=o.filter(k=>(k.position||E)===(x.position||E)&&k.height),T=S.findIndex(k=>k.id===x.id),R=S.filter((k,L)=>L<T&&k.visible).length;return S.filter(k=>k.visible).slice(...A?[R+1]:[0,R]).reduce((k,L)=>k+(L.height||0)+w,0)},[o]);return P.useEffect(()=>{o.forEach(x=>{if(x.dismissed)bA(x.id,x.removeDelay);else{let y=Pa.get(x.id);y&&(clearTimeout(y),Pa.delete(x.id))}})},[o]),{toasts:o,handlers:{updateHeight:EA,startPause:AA,endPause:d,calculateOffset:p}}},TA=Fi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,NA=Fi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RA=Fi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_A=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${NA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${RA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,OA=Fi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,PA=ys("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${OA} 1s linear infinite;
`,MA=Fi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,DA=Fi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kA=ys("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${MA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${DA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LA=ys("div")`
  position: absolute;
`,BA=ys("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FA=Fi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jA=ys("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VA=({toast:r})=>{let{icon:o,type:a,iconTheme:d}=r;return o!==void 0?typeof o=="string"?P.createElement(jA,null,o):o:a==="blank"?null:P.createElement(BA,null,P.createElement(PA,{...d}),a!=="loading"&&P.createElement(LA,null,a==="error"?P.createElement(_A,{...d}):P.createElement(kA,{...d})))},UA=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zA=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,WA="0%{opacity:0;} 100%{opacity:1;}",HA="0%{opacity:1;} 100%{opacity:0;}",GA=ys("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,XA=ys("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,YA=(r,o)=>{let a=r.includes("top")?1:-1,[d,p]=Km()?[WA,HA]:[UA(a),zA(a)];return{animation:o?`${Fi(d)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fi(p)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},KA=P.memo(({toast:r,position:o,style:a,children:d})=>{let p=r.height?YA(r.position||o||"top-center",r.visible):{opacity:0},x=P.createElement(VA,{toast:r}),y=P.createElement(XA,{...r.ariaProps},Ic(r.message,r));return P.createElement(GA,{className:r.className,style:{...p,...a,...r.style}},typeof d=="function"?d({icon:x,message:y}):P.createElement(P.Fragment,null,x,y))});gA(P.createElement);var ZA=({id:r,className:o,style:a,onHeightUpdate:d,children:p})=>{let x=P.useCallback(y=>{if(y){let A=()=>{let w=y.getBoundingClientRect().height;d(r,w)};A(),new MutationObserver(A).observe(y,{subtree:!0,childList:!0,characterData:!0})}},[r,d]);return P.createElement("div",{ref:x,className:o,style:a},p)},$A=(r,o)=>{let a=r.includes("top"),d=a?{top:0}:{bottom:0},p=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Km()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${o*(a?1:-1)}px)`,...d,...p}},qA=kc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ac=16,QA=({reverseOrder:r,position:o="top-center",toastOptions:a,gutter:d,children:p,containerStyle:x,containerClassName:y})=>{let{toasts:A,handlers:w}=IA(a);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ac,left:ac,right:ac,bottom:ac,pointerEvents:"none",...x},className:y,onMouseEnter:w.startPause,onMouseLeave:w.endPause},A.map(E=>{let S=E.position||o,T=w.calculateOffset(E,{reverseOrder:r,gutter:d,defaultPosition:o}),R=$A(S,T);return P.createElement(ZA,{id:E.id,key:E.id,onHeightUpdate:w.updateHeight,className:E.visible?qA:"",style:R},E.type==="custom"?Ic(E.message,E):p?p(E):P.createElement(KA,{toast:E,position:S}))}))},pc=cr;const Tf=({direction:r="down",show:o=!0,className:a="",style:d={}})=>{if(!o)return null;const p=r==="down"?"rotate(180 16 16)":"";return I.jsxs("div",{className:`arrow-hint-container ${r} ${a}`,style:d,children:[I.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"arrow-hint-svg",children:I.jsxs("g",{transform:p,children:[I.jsx("path",{d:"M16 6v16M16 22l-7-7M16 22l7-7",stroke:"url(#arrow-gradient)",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#arrow-glow)"}),I.jsxs("defs",{children:[I.jsxs("linearGradient",{id:"arrow-gradient",x1:"16",y1:"6",x2:"16",y2:"22",gradientUnits:"userSpaceOnUse",children:[I.jsx("stop",{stopColor:"#7f5fff"}),I.jsx("stop",{offset:"0.5",stopColor:"#2e8bff"}),I.jsx("stop",{offset:"1",stopColor:"#00e0ff"})]}),I.jsx("filter",{id:"arrow-glow",x:"-10",y:"-10",width:"52",height:"52",filterUnits:"userSpaceOnUse",children:I.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2.5",floodColor:"#7f5fff",floodOpacity:"0.5"})})]})]})}),I.jsx("div",{className:"arrow-hint-text",children:"Tap Here"})]})},JA=({isOpen:r,onClose:o,onConfirm:a,userName:d})=>r?I.jsx("div",{className:"kick-modal",children:I.jsxs("div",{className:"kick-modal-content",children:[I.jsx("h2",{className:"kick-modal-title",children:"Kick User"}),I.jsxs("p",{className:"kick-modal-message",children:["Are you sure you want to kick ",d," from the lobby?"]}),I.jsxs("div",{className:"kick-modal-actions",children:[I.jsx("button",{onClick:a,className:"admin-button admin-button-danger",children:"Yes, Kick User"}),I.jsx("button",{onClick:o,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,eS=({isOpen:r,onClose:o,onConfirm:a})=>r?I.jsx("div",{className:"join-modal",children:I.jsxs("div",{className:"join-modal-content",children:[I.jsx("h2",{className:"join-modal-title",children:"Join Lobby"}),I.jsx("p",{className:"join-modal-message",children:"Are you sure you want to join? You will be paired up with your attendees."}),I.jsxs("div",{className:"join-modal-actions",children:[I.jsx("button",{onClick:a,className:"admin-button admin-button-join",children:"Yes, Join Lobby"}),I.jsx("button",{onClick:o,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,tS=({lobbyState:r,playerCount:o,onStart:a,onEnd:d,lobbyCode:p,currentRound:x})=>{const y=r==="checkin",A=o>=2&&r==="checkin",w=r==="active",E=r==="active",S=r==="terminated",[T,R]=P.useState(null),[k,L]=P.useState({code:!1,qr:!1}),[j,B]=P.useState(!1),U=()=>{R("start")},H=()=>{R("end")},W=()=>{B(!0),R("checkin")},Q=()=>{T==="start"?(a(),pc.success("Rounds started!",{position:"top-center"})):T==="end"&&d(),R(null)},ue=()=>R(null),se=(Me,Fe)=>Me?"progress-arrow active-shimmer":Fe?"progress-arrow available-shimmer":"progress-arrow inactive",J=y&&!j&&o<6,ce=r==="checkin"&&o>=6,q=r==="active"&&x+1>=12,Ne=()=>{const Me=document.getElementById("modal-qr-svg");if(!Me)return;const ee=new XMLSerializer().serializeToString(Me),Oe=new window.Image,pe=512,de=document.createElement("canvas");de.width=pe,de.height=pe;const Re=de.getContext("2d");Oe.onload=()=>{Re.clearRect(0,0,pe,pe),Re.drawImage(Oe,0,0,pe,pe),de.toBlob(fe=>{navigator.clipboard&&navigator.clipboard.write?navigator.clipboard.write([new window.ClipboardItem({"image/png":fe})]).then(()=>{L(Y=>({...Y,qr:!0})),setTimeout(()=>L(Y=>({...Y,qr:!1})),800)}).catch(()=>{Xe(fe)}):Xe(fe)},"image/png")},Oe.onerror=()=>alert("Failed to render QR code image."),Oe.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(ee)))};function Xe(Me){const Fe=URL.createObjectURL(Me),ee=document.createElement("a");ee.href=Fe,ee.download=`reuneo-lobby-${p}.png`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(Fe),L(Oe=>({...Oe,qr:!0})),setTimeout(()=>L(Oe=>({...Oe,qr:!1})),800)}const Ie=()=>{navigator.clipboard.writeText(p),L(Me=>({...Me,code:!0})),setTimeout(()=>L(Me=>({...Me,code:!1})),800)};return I.jsxs("div",{className:"lobby-progress-bar",style:{marginTop:"-1rem",height:"40px"},children:[I.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[I.jsx("div",{className:se(y,!1),tabIndex:0,title:"Check-in phase",onClick:W,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"Start Checkin"}),I.jsx(Tf,{direction:"down",show:J})]}),I.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[I.jsx("div",{className:se(w,A&&!w),tabIndex:0,title:A?"Start rounds":"At least 2 players required",onClick:U,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"Start Rounds"}),I.jsx(Tf,{direction:"down",show:ce})]}),I.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[I.jsx("div",{className:se(S,E&&!S),tabIndex:0,title:E?"End rounds":"Cannot end yet",onClick:H,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"End Rounds"}),I.jsx(Tf,{direction:"down",show:q})]}),T&&I.jsx("div",{className:"progress-modal-overlay",children:I.jsx("div",{className:"progress-modal",children:T==="checkin"?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"progress-modal-title",children:"Have your attendees scan the QR code to join your lobby"}),I.jsx("div",{className:"progress-modal-message",children:"You can start when you have 6-10 people, don't worry new people can join in the next rounds."}),I.jsxs("div",{className:"progress-modal-qr",onClick:Ne,style:{cursor:"pointer",position:"relative"},children:[I.jsx(Xd,{value:`${window.location.origin}/lobby?code=${p}`,size:200,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"modal-qr-svg"}),I.jsx("span",{className:"copy-icon modal-copy-icon","aria-label":"Copy",style:{position:"absolute",right:8,bottom:8,background:"#fff",borderRadius:"50%",padding:"2px"},children:I.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[I.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),I.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})}),k.qr&&I.jsx("span",{className:"modal-copied-feedback",style:{position:"absolute",left:"50%",bottom:"-1.5rem",transform:"translateX(-50%)",color:"#28a745",fontWeight:600,fontSize:"0.95rem"},children:"Copied!"})]}),I.jsxs("div",{className:`progress-modal-lobbycode${k.code?" copied":""}`,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[I.jsxs("b",{children:["lobby code: ",p]}),I.jsx("span",{className:"copy-icon modal-copy-icon","aria-label":"Copy",onClick:Ie,style:{cursor:"pointer"},children:I.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[I.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),I.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})}),k.code&&I.jsx("span",{className:"modal-copied-feedback",style:{color:"#28a745",fontWeight:600,fontSize:"0.95rem"},children:"Copied!"})]}),I.jsx("div",{className:"progress-modal-actions",children:I.jsx("button",{className:"progress-modal-btn confirm",onClick:ue,children:"Got it"})})]}):I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"progress-modal-title",children:T==="start"?"Are you sure you want to start rounds?":"Are you sure you want to end the rounds?"}),I.jsx("div",{className:"progress-modal-actions",children:T==="start"?I.jsxs(I.Fragment,{children:[I.jsx("button",{className:"progress-modal-btn cancel",onClick:ue,children:"Not Yet"}),I.jsx("button",{className:"progress-modal-btn confirm",onClick:Q,children:"Start"})]}):I.jsxs(I.Fragment,{children:[I.jsx("button",{className:"progress-modal-btn cancel",onClick:ue,children:"Keep Going"}),I.jsx("button",{className:"progress-modal-btn confirm danger",onClick:Q,children:"End"})]})})]})})})]})},nS=({players:r})=>{const o=[...r.pairedPlayers?r.pairedPlayers.flat():[],...r.lobbyData?r.lobbyData:[]],a=10,d=o.slice(0,a),p=o.length-a,x=o.length;return I.jsxs("div",{className:"overlapping-profile-list-wrapper",style:{marginTop:"3rem"},children:[I.jsxs("div",{className:"overlapping-profile-list",children:[d.map((y,A)=>I.jsx("img",{src:y.pfp_data||"/assets/player_icon_trans.png",alt:y.name||"Player",className:"overlapping-profile-img",style:{zIndex:A+1}},y.username||y.name||A)),p>0&&I.jsxs("span",{className:"overlapping-profile-overflow",children:["+ ",p]})]}),I.jsxs("div",{className:"overlapping-profile-list-label",style:{marginTop:"0.5rem",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)"},children:["People joined: ",x]})]})},rS=()=>{const{user:r,userProfile:o,checkAuth:a,permissions:d}=P.useContext(Ur),p=zr(),x=yi(),A=new URLSearchParams(x.search).get("code"),[w,E]=P.useState(A||"test");P.useEffect(()=>{A||(console.log("No lobby code found in URL, using default 'test' value"),(async()=>{try{const st=localStorage.getItem("access_token"),Qe=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${st}`}});if(Qe.ok){const ut=await Qe.json();if(console.log("Active lobbies response:",ut),ut&&ut.lobbies&&ut.lobbies.length>0){const Ue=ut.lobbies[0];E(Ue),window.history.replaceState({},"",`/admin_lobby_view?code=${Ue}`)}}}catch(st){console.error("Error fetching active lobby:",st)}})())},[A]);const[S,T]=P.useState(!1),[R,k]=P.useState(null),[L,j]=P.useState(!1),[B,U]=P.useState(null),[H,W]=P.useState(null),[Q,ue]=P.useState(null),[se,J]=P.useState(null),[ce,q]=P.useState(null),[Ne,Xe]=P.useState({}),[Ie,Me]=P.useState([]),[Fe,ee]=P.useState(0),Oe=((H==null?void 0:H.length)||0)+((B==null?void 0:B.length)*2||0),[pe,de]=P.useState(!1);P.useEffect(()=>{if(a(),d!=="admin"&&d!=="organizer"){p("/");return}const _e=async Qe=>{if(Ne[Qe])return Ne[Qe];try{const ut=await fetch(`${window.server_url}/pfp_small_icon?username=${encodeURIComponent(Qe)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(ut.ok){let Ue=await ut.text();Ue.startsWith('"')&&Ue.endsWith('"')&&(Ue=Ue.slice(1,-1));const Ht=Ue.startsWith("data:image")?Ue:`data:image/jpeg;base64,${Ue}`;return Xe(Rt=>({...Rt,[Qe]:Ht})),Ht}return null}catch(ut){return console.error(`Error fetching profile picture for ${Qe}:`,ut),null}},st=setInterval(async()=>{try{const Qe=await fetch(window.server_url+"/admin_lobby_data",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}});if(Qe.ok){const ut=await Qe.json();if(console.log("Admin lobby data:",w,ut),ut.lobby_state==="active"&&ee(Ue=>ut.current_round>Ue?ut.current_round:Ue),ut.lobby_state==="terminated"&&ee(0),ut&&ut.unpaired_players){const Ue=await Promise.all(ut.unpaired_players.map(async Rt=>{const fn=await _e(Rt.username);return{...Rt,pfp_data:fn}})),Ht=await Promise.all((ut.pairs_data||[]).map(async Rt=>{const fn=await _e(Rt[0].username),Ft=await _e(Rt[1].username);return[{...Rt[0],pfp_data:fn},{...Rt[1],pfp_data:Ft}]}));W(Ue),U(Ht),ue(ut.round_time_left),J(ut.lobby_state),q(ut.lobby_duration||300),Me(ut.custom_tags||[])}else console.error("Invalid lobby data structure:",ut),W([]),U([])}else console.error("Failed to fetch admin lobby data:",Qe.status)}catch(Qe){console.error("Error fetching admin lobby data:",Qe)}},1e3);return()=>clearInterval(st)},[Ne]);const Re=_e=>{k(_e),T(!0)},fe=()=>{T(!1),k(null)},Y=()=>{R&&fetch(window.server_url+"/kick_user",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({username:R.username,lobby_code:w})}).then(_e=>{_e.ok?console.log(`User ${R.name} kicked successfully`):console.error(`Failed to kick user ${R.name}`)}).catch(_e=>{console.error("Error kicking user:",_e)}).finally(()=>{fe()})},te=()=>{j(!0)},ve=()=>{j(!1)},je=()=>{p(`/lobby?code=${w}`),ve()};async function at(){const _e=document.getElementById("admin-qr-svg");if(!_e)return;const Qe=new XMLSerializer().serializeToString(_e),ut=new window.Image,Ue=512,Ht=document.createElement("canvas");Ht.width=Ue,Ht.height=Ue;const Rt=Ht.getContext("2d");ut.onload=()=>{Rt.clearRect(0,0,Ue,Ue),Rt.drawImage(ut,0,0,Ue,Ue),Ht.toBlob(fn=>{navigator.clipboard&&navigator.clipboard.write?navigator.clipboard.write([new window.ClipboardItem({"image/png":fn})]).then(()=>{pc.success("QR code copied to clipboard!")}).catch(()=>{xe(fn)}):xe(fn)},"image/png")},ut.onerror=()=>pc.error("Failed to generate QR code image."),ut.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(Qe)))}function xe(_e){const st=URL.createObjectURL(_e),Qe=document.createElement("a");Qe.href=st,Qe.download=`reuneo-lobby-${w}.png`,document.body.appendChild(Qe),Qe.click(),document.body.removeChild(Qe),URL.revokeObjectURL(st),pc.success("QR code downloaded!")}const $e=async()=>{await fetch(window.server_url+"/start_rounds",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}})},Ce=async()=>{(await fetch(window.server_url+"/terminate_lobby",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}})).ok&&p("/")};return I.jsxs(I.Fragment,{children:[I.jsx(QA,{position:"top-center"}),I.jsxs("div",{className:"admin-lobby-container",children:[I.jsx("div",{className:"admin-view-logo",style:{cursor:"pointer"},children:I.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Reuneo Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain",transition:"transform 0.3s ease"},onClick:()=>p("/")})}),I.jsx(tS,{lobbyState:se,playerCount:Oe,onStart:$e,onEnd:Ce,lobbyCode:w,currentRound:Fe}),I.jsx(nS,{players:{pairedPlayers:B,lobbyData:H}}),I.jsxs("div",{className:"admin-lobby-dropdown-toggle",onClick:()=>de(_e=>!_e),style:{cursor:"pointer",background:"var(--primary-color)",color:"#f5f7ff",fontWeight:700,textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",fontSize:".75rem",borderRadius:pe?"14px 14px 0 0":"14px",padding:"0.5rem 1rem",margin:"0 auto",maxWidth:420,boxShadow:"0 2px 8px rgba(20,77,255,0.08)",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",letterSpacing:"0.5px"},children:[pe?"Hide Controls":"More Controls",I.jsx("span",{style:{marginLeft:12,fontSize:"1.2em",transition:"transform 0.3s",display:"inline-block",transform:pe?"rotate(180deg)":"rotate(0deg)"},children:"▼"})]}),I.jsxs("div",{className:"admin-lobby-body",style:{maxHeight:pe?1e3:0,overflow:"hidden",transition:"max-height 0.5s cubic-bezier(0.4,0,0.2,1)",opacity:pe?1:0,pointerEvents:pe?"auto":"none",marginBottom:pe?"2rem":0},children:[I.jsxs("div",{className:"admin-lobby-qr",onClick:at,style:{cursor:"pointer"},children:[I.jsxs("span",{className:"qr-label",style:{display:"flex",alignItems:"center",gap:"0.4rem",marginBottom:"0.5rem"},children:["People scan to join",I.jsx("span",{className:"copy-icon","aria-label":"Copy",children:I.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[I.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),I.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]}),I.jsx("div",{style:{position:"relative",display:"inline-block"},children:I.jsx(Xd,{value:`${window.location.origin}/lobby?code=${w}`,size:140,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"admin-qr-svg"})}),I.jsxs("div",{className:"lobby-code-display",onClick:()=>{navigator.clipboard.writeText(w);const _e=document.querySelector(".lobby-code-display");_e.classList.add("copied"),setTimeout(()=>_e.classList.remove("copied"),250)},children:[I.jsx("span",{className:"lobby-code-label",children:"lobby code:"}),I.jsx("span",{className:"lobby-code-value",children:w}),I.jsx("span",{className:"copy-icon","aria-label":"Copy",children:I.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[I.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),I.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]})]}),I.jsxs("div",{className:"admin-lobby-event-settings",children:[I.jsxs("div",{className:"admin-profile",children:[I.jsx("img",{src:o!=null&&o.image_data?`data:image/jpeg;base64,${o.image_data}`:"/assets/player_icon_trans.png",alt:"Your Profile",className:"admin-profile-picture"}),I.jsx("span",{className:"admin-profile-name",children:o!=null&&o.name?o.name.slice(0,20):r==null?void 0:r.slice(0,20)})]}),I.jsx("button",{onClick:te,className:"page-control-button page-control-join",style:{marginTop:".5rem"},children:"Join Rounds"}),I.jsxs("div",{className:"setting-item",style:{padding:"1rem"},children:[I.jsxs("span",{className:"setting-label",children:["Round Duration: ",I.jsxs("span",{className:"setting-value",children:[Math.floor(ce/60)," min"]})]}),I.jsx("span",{className:"setting-label",style:{},children:"Tags:"}),Ie&&Ie.length>0&&I.jsx("div",{className:"setting-item",children:I.jsxs("div",{className:"tags-container",children:[Ie.slice(0,3).map((_e,st)=>I.jsx("span",{className:"tag-pill",children:_e},st)),Ie.length>3&&I.jsxs("span",{className:"tag-pill more-tags",children:["+",Ie.length-3," more"]})]})})]})]}),I.jsx("div",{className:"admin-lobby-actions"})]}),(se==="active"||se==="interrim")&&Q&&I.jsx("div",{className:"admin-lobby-timer-container",children:I.jsxs("div",{className:"admin-lobby-timer-glass",children:[I.jsx(Yd,{isPlaying:se==="active",duration:ce,initialRemainingTime:Q,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"url(#trailGradient)",onComplete:()=>({shouldRepeat:!1}),strokeLinecap:"round",children:({remainingTime:_e})=>{const st=Math.floor(_e/60),Qe=Math.floor(_e%60);return I.jsxs("span",{className:`timer-text ${_e<=10?"timer-text-fadescale":""}`,children:[st,":",String(Qe).padStart(2,"0")]})}},`${se}-${Math.floor(Q)}`),I.jsx("span",{className:"timer-subtext",children:"round time left"}),I.jsx("svg",{width:"0",height:"0",children:I.jsx("defs",{children:I.jsxs("linearGradient",{id:"trailGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[I.jsx("stop",{offset:"0%",stopColor:"#e0e7ff"}),I.jsx("stop",{offset:"100%",stopColor:"#f5f7ff"})]})})})]})}),se!=="checkin"&&I.jsxs("div",{className:"admin-lobby-stats",children:[I.jsxs("div",{className:"stat-card",children:[I.jsx("div",{className:"stat-title",children:"Total Players"}),I.jsx("div",{className:"stat-value",children:((H==null?void 0:H.length)||0)+((B==null?void 0:B.length)*2||0)})]}),I.jsxs("div",{className:"stat-card",children:[I.jsx("div",{className:"stat-title",children:"Paired Players"}),I.jsx("div",{className:"stat-value",children:(B==null?void 0:B.length)*2||0})]}),I.jsxs("div",{className:"stat-card",children:[I.jsx("div",{className:"stat-title",children:"Unpaired Players"}),I.jsx("div",{className:"stat-value",children:(H==null?void 0:H.length)||0})]})]}),B&&se!=="checkin"&&I.jsx("div",{className:"admin-lobby-players",children:I.jsxs("div",{className:"player-section",children:[I.jsxs("div",{className:"section-header",children:["Paired Players: ",I.jsx("span",{className:"stat-value",style:{fontSize:"1.3rem"},children:(B==null?void 0:B.length)*2||0})]}),I.jsx("div",{className:"player-grid",children:B.map((_e,st)=>I.jsxs("div",{className:"paired-player-card",children:[I.jsxs("div",{className:"paired-player",onClick:()=>Re(_e[0]),children:[I.jsx("img",{src:_e[0].pfp_data,alt:_e[0].name,className:"paired-player-avatar"}),I.jsx("h3",{className:"paired-player-name",children:_e[0].name})]}),I.jsxs("div",{className:"paired-player",onClick:()=>Re(_e[1]),children:[I.jsx("img",{src:_e[1].pfp_data,alt:_e[1].name,className:"paired-player-avatar"}),I.jsx("h3",{className:"paired-player-name",children:_e[1].name})]})]},st))})]})}),H&&I.jsx("div",{className:"admin-lobby-players",children:I.jsxs("div",{className:"player-section",children:[I.jsxs("div",{className:"section-header",children:[se==="checkin"?"People Joined":"Unpaired Players",": ",I.jsx("span",{className:"stat-value",style:{fontSize:"1.3rem"},children:(H==null?void 0:H.length)||0})]}),I.jsx("div",{className:"player-grid",children:H.map((_e,st)=>I.jsxs("div",{className:"player-card",onClick:()=>Re(_e),children:[I.jsx("img",{src:_e.pfp_data,alt:_e.name,className:"player-avatar"}),I.jsx("h3",{className:"player-name",children:_e.name})]},st))})]})}),I.jsx(eS,{isOpen:L,onClose:ve,onConfirm:je}),I.jsx(JA,{isOpen:S,onClose:fe,onConfirm:Y,userName:(R==null?void 0:R.name)||"this user"})]})]})},iS=()=>{const r=zr(),{user:o}=P.useContext(Ur),a=()=>{window.location.href="https://reunio.app/become-an-organizer"};return I.jsxs("div",{className:"product-selection-container",children:[I.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[I.jsx("source",{src:"/assets/purchase_plan_video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),I.jsxs("div",{className:"product-selection-content",children:[I.jsx("div",{className:"product-selection-header",children:I.jsx("h1",{children:"Product Selection"})}),I.jsxs("div",{className:"plans-section",children:[I.jsx("h2",{children:"Available Plans"}),I.jsxs("div",{className:"plan-card",children:[I.jsx("h3",{children:"Organizer Plan"}),I.jsxs("div",{className:"plan-description",children:[I.jsx("p",{children:"Create experiences for your community with our beta plan."}),I.jsxs("ul",{children:[I.jsx("li",{children:"Create unlimited experiences"}),I.jsx("li",{children:"Access to organizer dashboard"}),I.jsx("li",{children:"Priority customer support"})]})]}),I.jsx("button",{className:"purchase-button",onClick:a,children:"Contact Us"})]})]}),I.jsx("button",{className:"back-button",onClick:()=>r("/"),children:"Home"})]})]})},sS=()=>{const{user:r,userProfile:o,checkAuth:a,permissions:d}=P.useContext(Ur),[p,x]=P.useState(""),[y,A]=P.useState(""),[w,E]=P.useState(!1),[S,T]=P.useState(""),[R,k]=P.useState(!1),[L,j]=P.useState([]),[B,U]=P.useState(""),[H,W]=P.useState("5"),[Q,ue]=P.useState("0"),[se,J]=P.useState(!1),[ce,q]=P.useState(null),[Ne,Xe]=P.useState(""),[Ie,Me]=P.useState(""),[Fe,ee]=P.useState(null),[Oe,pe]=P.useState(null),[de,Re]=P.useState(""),[fe,Y]=P.useState(!1),[te,ve]=P.useState(!1),[je,at]=P.useState({x:0,y:0}),[xe,$e]=P.useState(1),[Ce,_e]=P.useState(null),st=zr(),Qe=P.useRef(null);P.useEffect(()=>{window.scrollTo(0,0),r&&(x(r),A(r)),Qe.current&&Qe.current.focus()},[r]);const ut=ze=>{const we=/^[a-z0-9]+$/;return ze.length>=2&&we.test(ze)},Ue=ze=>{const we=ze.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");A(we),k(!0),setTimeout(()=>{k(!1)},500)},Ht=()=>{B.trim()&&!L.includes(B.trim())&&(j([...L,B.trim()]),U(""))},Rt=ze=>{j(L.filter(we=>we!==ze))},fn=ze=>{ze.key==="Enter"&&B.trim()&&(ze.preventDefault(),Ht())},Ft=(ze,we,Je)=>new Promise(Ze=>{const qt=new Image;qt.onload=()=>{const mt=document.createElement("canvas"),vt=mt.getContext("2d");let{width:Mt,height:It}=qt;Mt>It?Mt>we&&(It=It*we/Mt,Mt=we):It>Je&&(Mt=Mt*Je/It,It=Je),mt.width=Mt,mt.height=It,vt.drawImage(qt,0,0,Mt,It);const Sn=mt.toDataURL("image/jpeg",.7);Ze(Sn)},qt.src=URL.createObjectURL(ze)}),bt=async ze=>{const we=ze.target.files[0];if(we){if(Re(""),ve(!0),!["image/jpeg","image/jpg","image/png"].includes(we.type)){Re("Invalid format. Please upload a JPG or PNG image."),ve(!1);return}if(we.size>2*1024*1024){Re("File too large. Please choose an image under 2MB."),ve(!1);return}try{const Je=await Ft(we,400,400);q(we),ee(Je),Y(!0),ve(!1)}catch(Je){console.error("Error processing image:",Je),Re("Error processing image. Please try again."),ve(!1)}}},ft=(ze,we)=>{_e(we)},$t=async()=>{try{ve(!0);const ze=await td(Fe,Ce);pe(ze),Y(!1),ve(!1)}catch(ze){console.error("Error cropping logo:",ze),Re("Error processing image. Please try again."),Y(!1),ve(!1)}},Pe=()=>{q(null),ee(null),pe(null),Y(!1),ve(!1),at({x:0,y:0}),$e(1),_e(null),Re("");const ze=document.getElementById("logoUpload");ze&&(ze.value="")},rn=async ze=>{if(ze.preventDefault(),!ut(y)){T("Lobby code must be at least 2 characters long and contain only lowercase letters and numbers");return}E(!0),T("");const we=parseInt(H)*60+parseInt(Q);let Je=null;Oe&&(Je=Oe.split(",")[1]);try{const Ze={lobby_code:y,custom_tags:L,lobby_duration:we,show_table_numbers:se};Je&&(Ze.logo_icon=Je),Ne.trim()&&(Ze.logo_name=Ne.trim()),Ie.trim()&&(Ze.logo_hyperlink=Ie.trim());const qt=await fetch(window.server_url+"/create_lobby",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify(Ze)});if(qt.ok)console.log("Lobby created successfully"),console.log(await qt.json()),st(`/admin_lobby_view?code=${y}`);else{const mt=await qt.json();T(mt.message||"Failed to create lobby"),console.error("Failed to create lobby")}}catch(Ze){T("An error occurred while creating the lobby"),console.error("Error creating lobby:",Ze)}finally{E(!1)}};return I.jsxs("div",{className:"create-lobby-background",children:[I.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Reunio Logo",className:"logo-image",onClick:()=>st(-1)}),I.jsxs("div",{className:"create-lobby-container",children:[I.jsx("h1",{className:"create-lobby-title",children:"Create a New Lobby"}),I.jsxs("form",{onSubmit:rn,className:"create-lobby-form",children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"lobbyCode",children:"Lobby Code"}),I.jsx("input",{ref:Qe,type:"text",id:"lobbyCode",value:y,onChange:Ue,placeholder:"Enter lobby code (lowercase letters and numbers only)",required:!0,className:`form-input ${R?"typing":""}`,autoComplete:"off"}),I.jsx("div",{className:"input-hint",children:"lowercase letters and numbers only"})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{children:"Round Duration"}),I.jsxs("div",{className:"duration-input-container",children:[I.jsxs("div",{className:"duration-input-group",children:[I.jsx("input",{type:"number",id:"minutes",value:H,onChange:ze=>{const we=ze.target.value;(we===""||parseInt(we)>0&&parseInt(we)<=5)&&(W(we),parseInt(we)===5&&ue("0"))},min:"1",max:"5",placeholder:"1-5",className:"form-input duration-input",autoComplete:"off"}),I.jsx("label",{htmlFor:"minutes",className:"duration-label",children:"Minutes"})]}),I.jsxs("div",{className:"duration-input-group",children:[I.jsx("input",{type:"number",id:"seconds",value:Q,onChange:ze=>{const we=ze.target.value;(we===""||parseInt(we)>=0&&parseInt(we)<=59)&&ue(we)},min:"0",max:"59",placeholder:"0-59",className:"form-input duration-input",autoComplete:"off",disabled:parseInt(H)===5}),I.jsx("label",{htmlFor:"seconds",className:"duration-label",children:"Seconds"})]})]}),I.jsx("div",{className:"input-hint",children:"Maximum total duration is 5 minutes"})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"showTableNumbers",children:"Table Numbers"}),I.jsx("input",{type:"checkbox",id:"showTableNumbers",checked:se,onChange:ze=>J(ze.target.checked),className:"form-input checkbox-input"}),I.jsx("div",{className:"input-hint",children:"Recommended for events with 50+ people"})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{htmlFor:"tagInput",children:"Matchmaking Categories"}),I.jsxs("div",{className:"tag-input-container",children:[I.jsx("input",{type:"text",id:"tagInput",value:B,onChange:ze=>U(ze.target.value),onKeyDown:fn,placeholder:"Add categories (press + to add)",className:"form-input",autoComplete:"off"}),I.jsx("button",{type:"button",onClick:Ht,className:"tag-add-button",children:"+"})]}),L.length>0&&I.jsx("div",{className:"tag-list",children:L.map((ze,we)=>I.jsxs("div",{className:"tag-item",children:[ze,I.jsx("button",{type:"button",onClick:()=>Rt(ze),className:"tag-remove-button",children:"×"})]},we))}),I.jsx("div",{className:"input-hint",children:"If you want to match people based on categories"})]}),I.jsxs("div",{className:"form-group logo-upload-section",children:[I.jsx("label",{children:"Sponsor Logo"}),!Oe&&!fe&&I.jsxs(I.Fragment,{children:[te?I.jsx("div",{className:"logo-processing",children:"Processing..."}):I.jsxs(I.Fragment,{children:[I.jsx("input",{type:"file",id:"logoUpload",accept:"image/jpeg,image/jpg,image/png",onChange:bt,style:{display:"none"}}),I.jsx("button",{type:"button",onClick:()=>document.getElementById("logoUpload").click(),className:"logo-upload-button",children:"Upload Logo"})]}),de&&I.jsx("div",{className:"logo-error-message",children:de})]}),fe&&Fe&&I.jsxs("div",{className:"logo-crop-container",children:[I.jsx("div",{className:"logo-crop-area",children:I.jsx(ed,{image:Fe,crop:je,zoom:xe,aspect:1,onCropChange:at,onZoomChange:$e,onCropComplete:ft})}),I.jsxs("div",{className:"logo-crop-controls",children:[I.jsx("button",{type:"button",onClick:$t,className:"logo-save-button",disabled:te,children:te?"Processing...":"Save Crop"}),I.jsx("button",{type:"button",onClick:Pe,className:"logo-cancel-button",children:"Cancel"})]})]}),Oe&&!fe&&I.jsx("div",{className:"logo-preview-container",children:I.jsxs("div",{className:"logo-preview",children:[I.jsx("img",{src:Oe,alt:"Logo preview",className:"logo-preview-image"}),I.jsx("button",{type:"button",onClick:Pe,className:"logo-remove-button",children:"×"})]})}),!1]}),S&&I.jsx("div",{className:"error-message",children:S}),I.jsx("button",{type:"submit",className:"submit-button",disabled:w,children:w?"Creating...":"Create Lobby"})]})]})]})},oS=5e3,aS=()=>{const{checkAuth:r,permissions:o,user:a}=P.useContext(Ur),d=zr(),[p,x]=P.useState([]),[y,A]=P.useState(!0),[w,E]=P.useState(null),[S,T]=P.useState(!1);return P.useEffect(()=>{r()},[r]),P.useEffect(()=>{a==="topaz"&&o==="admin"?T(!0):o!==null&&a!==null&&d("/")},[o,a,d]),P.useEffect(()=>{if(!S)return;let R=!0,k,L=!0;const j=async()=>{L&&A(!0),E(null);try{const B=localStorage.getItem("access_token");if(!B)return;const U=await fetch(window.server_url+"/admin_all_lobbies",{headers:{Authorization:`Bearer ${B}`}});if(!U.ok)throw new Error("Failed to fetch lobbies");const H=await U.json();if(H.status!=="success"||!Array.isArray(H.lobbies))throw new Error("Invalid response format");if(!R)return;x(H.lobbies),console.log("Received lobbies data:",H.lobbies)}catch(B){R&&E(B.message||"Error fetching lobbies")}finally{R&&L&&A(!1),L=!1,k=setTimeout(j,oS)}};return j(),()=>{R=!1,k&&clearTimeout(k)}},[S]),y?I.jsx("div",{className:"master-lobby-container",children:I.jsxs("div",{className:"loading-state",children:[I.jsx("div",{className:"loading-spinner"}),I.jsx("p",{children:"Loading lobbies..."})]})}):w&&p.length===0?I.jsx("div",{className:"master-lobby-container",children:I.jsx("div",{className:"error-state",children:I.jsx("p",{children:w})})}):p.length===0?I.jsx("div",{className:"master-lobby-container",children:I.jsx("div",{className:"empty-state",children:I.jsx("p",{children:"No active lobbies found"})})}):I.jsxs("div",{className:"master-lobby-container",children:[w&&I.jsxs("div",{className:"error-banner",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"0.75rem",marginBottom:"1rem",borderRadius:"0.25rem",border:"1px solid #f5c6cb"},children:[w," (showing last known data)"]}),I.jsx("div",{className:"master-lobby-grid",children:p.map(R=>I.jsx("div",{className:"lobby-tile",children:I.jsxs("div",{className:"lobby-tile-content",children:[I.jsx("h3",{className:"lobby-code",children:R.code}),I.jsxs("div",{className:"lobby-stats",children:[I.jsxs("span",{className:"player-count",children:[R.player_count," players"]}),I.jsx("span",{className:"lobby-state",children:R.lobby_state})]}),I.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",marginTop:"0.5rem"},children:["Debug: player_count=",R.player_count,", lobby_state=",R.lobby_state]})]})},R.code))})]})};Zx.createRoot(document.getElementById("root")).render(I.jsx(P.StrictMode,{children:I.jsx($x,{children:I.jsxs(Dy,{basename:"/",children:[I.jsx(LE,{}),I.jsxs(uy,{children:[I.jsx(ui,{path:"/",element:I.jsx(kE,{})}),I.jsx(ui,{path:"/login",element:I.jsx(BE,{})}),I.jsx(ui,{path:"/signup",element:I.jsx(TE,{})}),I.jsx(ui,{path:"/logout",element:I.jsx(FE,{})}),I.jsx(ui,{path:"/lobby",element:I.jsx(lA,{})}),I.jsx(ui,{path:"/admin_lobby_view",element:I.jsx(rS,{})}),I.jsx(ui,{path:"/create_lobby",element:I.jsx(sS,{})}),I.jsx(ui,{path:"/product-selection",element:I.jsx(iS,{})}),I.jsx(ui,{path:"/master_lobby_view",element:I.jsx(aS,{})})]})]})})}));
