(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))d(p);new MutationObserver(p=>{for(const x of p)if(x.type==="childList")for(const y of x.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function a(p){const x={};return p.integrity&&(x.integrity=p.integrity),p.referrerPolicy&&(x.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?x.credentials="include":p.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function d(p){if(p.ep)return;p.ep=!0;const x=a(p);fetch(p.href,x)}})();var Ql=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tf={exports:{}},wa={},nf={exports:{}},bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function jx(){if(L0)return bt;L0=1;var r=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.iterator;function R(Z){return Z===null||typeof Z!="object"?null:(Z=I&&Z[I]||Z["@@iterator"],typeof Z=="function"?Z:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function B(Z,de,We){this.props=Z,this.context=de,this.refs=F,this.updater=We||M}B.prototype.isReactComponent={},B.prototype.setState=function(Z,de){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,de,"setState")},B.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function V(){}V.prototype=B.prototype;function H(Z,de,We){this.props=Z,this.context=de,this.refs=F,this.updater=We||M}var U=H.prototype=new V;U.constructor=H,L(U,B.prototype),U.isPureReactComponent=!0;var ne=Array.isArray,oe=Object.prototype.hasOwnProperty,le={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function ce(Z,de,We){var Ue,at={},Ee=null,tt=null;if(de!=null)for(Ue in de.ref!==void 0&&(tt=de.ref),de.key!==void 0&&(Ee=""+de.key),de)oe.call(de,Ue)&&!X.hasOwnProperty(Ue)&&(at[Ue]=de[Ue]);var Fe=arguments.length-2;if(Fe===1)at.children=We;else if(1<Fe){for(var xt=Array(Fe),me=0;me<Fe;me++)xt[me]=arguments[me+2];at.children=xt}if(Z&&Z.defaultProps)for(Ue in Fe=Z.defaultProps,Fe)at[Ue]===void 0&&(at[Ue]=Fe[Ue]);return{$$typeof:r,type:Z,key:Ee,ref:tt,props:at,_owner:le.current}}function Q(Z,de){return{$$typeof:r,type:Z.type,key:de,ref:Z.ref,props:Z.props,_owner:Z._owner}}function _e(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===r}function ke(Z){var de={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(We){return de[We]})}var Te=/\/+/g;function Ne(Z,de){return typeof Z=="object"&&Z!==null&&Z.key!=null?ke(""+Z.key):de.toString(36)}function Re(Z,de,We,Ue,at){var Ee=typeof Z;(Ee==="undefined"||Ee==="boolean")&&(Z=null);var tt=!1;if(Z===null)tt=!0;else switch(Ee){case"string":case"number":tt=!0;break;case"object":switch(Z.$$typeof){case r:case o:tt=!0}}if(tt)return tt=Z,at=at(tt),Z=Ue===""?"."+Ne(tt,0):Ue,ne(at)?(We="",Z!=null&&(We=Z.replace(Te,"$&/")+"/"),Re(at,de,We,"",function(me){return me})):at!=null&&(_e(at)&&(at=Q(at,We+(!at.key||tt&&tt.key===at.key?"":(""+at.key).replace(Te,"$&/")+"/")+Z)),de.push(at)),1;if(tt=0,Ue=Ue===""?".":Ue+":",ne(Z))for(var Fe=0;Fe<Z.length;Fe++){Ee=Z[Fe];var xt=Ue+Ne(Ee,Fe);tt+=Re(Ee,de,We,xt,at)}else if(xt=R(Z),typeof xt=="function")for(Z=xt.call(Z),Fe=0;!(Ee=Z.next()).done;)Ee=Ee.value,xt=Ue+Ne(Ee,Fe++),tt+=Re(Ee,de,We,xt,at);else if(Ee==="object")throw de=String(Z),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return tt}function J(Z,de,We){if(Z==null)return Z;var Ue=[],at=0;return Re(Z,Ue,"","",function(Ee){return de.call(We,Ee,at++)}),Ue}function Ve(Z){if(Z._status===-1){var de=Z._result;de=de(),de.then(function(We){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=We)},function(We){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=We)}),Z._status===-1&&(Z._status=0,Z._result=de)}if(Z._status===1)return Z._result.default;throw Z._result}var ue={current:null},fe={transition:null},ge={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:fe,ReactCurrentOwner:le};function he(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:J,forEach:function(Z,de,We){J(Z,function(){de.apply(this,arguments)},We)},count:function(Z){var de=0;return J(Z,function(){de++}),de},toArray:function(Z){return J(Z,function(de){return de})||[]},only:function(Z){if(!_e(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},bt.Component=B,bt.Fragment=a,bt.Profiler=p,bt.PureComponent=H,bt.StrictMode=d,bt.Suspense=w,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,bt.act=he,bt.cloneElement=function(Z,de,We){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Ue=L({},Z.props),at=Z.key,Ee=Z.ref,tt=Z._owner;if(de!=null){if(de.ref!==void 0&&(Ee=de.ref,tt=le.current),de.key!==void 0&&(at=""+de.key),Z.type&&Z.type.defaultProps)var Fe=Z.type.defaultProps;for(xt in de)oe.call(de,xt)&&!X.hasOwnProperty(xt)&&(Ue[xt]=de[xt]===void 0&&Fe!==void 0?Fe[xt]:de[xt])}var xt=arguments.length-2;if(xt===1)Ue.children=We;else if(1<xt){Fe=Array(xt);for(var me=0;me<xt;me++)Fe[me]=arguments[me+2];Ue.children=Fe}return{$$typeof:r,type:Z.type,key:at,ref:Ee,props:Ue,_owner:tt}},bt.createContext=function(Z){return Z={$$typeof:y,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:x,_context:Z},Z.Consumer=Z},bt.createElement=ce,bt.createFactory=function(Z){var de=ce.bind(null,Z);return de.type=Z,de},bt.createRef=function(){return{current:null}},bt.forwardRef=function(Z){return{$$typeof:A,render:Z}},bt.isValidElement=_e,bt.lazy=function(Z){return{$$typeof:b,_payload:{_status:-1,_result:Z},_init:Ve}},bt.memo=function(Z,de){return{$$typeof:E,type:Z,compare:de===void 0?null:de}},bt.startTransition=function(Z){var de=fe.transition;fe.transition={};try{Z()}finally{fe.transition=de}},bt.unstable_act=he,bt.useCallback=function(Z,de){return ue.current.useCallback(Z,de)},bt.useContext=function(Z){return ue.current.useContext(Z)},bt.useDebugValue=function(){},bt.useDeferredValue=function(Z){return ue.current.useDeferredValue(Z)},bt.useEffect=function(Z,de){return ue.current.useEffect(Z,de)},bt.useId=function(){return ue.current.useId()},bt.useImperativeHandle=function(Z,de,We){return ue.current.useImperativeHandle(Z,de,We)},bt.useInsertionEffect=function(Z,de){return ue.current.useInsertionEffect(Z,de)},bt.useLayoutEffect=function(Z,de){return ue.current.useLayoutEffect(Z,de)},bt.useMemo=function(Z,de){return ue.current.useMemo(Z,de)},bt.useReducer=function(Z,de,We){return ue.current.useReducer(Z,de,We)},bt.useRef=function(Z){return ue.current.useRef(Z)},bt.useState=function(Z){return ue.current.useState(Z)},bt.useSyncExternalStore=function(Z,de,We){return ue.current.useSyncExternalStore(Z,de,We)},bt.useTransition=function(){return ue.current.useTransition()},bt.version="18.3.1",bt}var B0;function Qf(){return B0||(B0=1,nf.exports=jx()),nf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F0;function Vx(){if(F0)return wa;F0=1;var r=Qf(),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,p=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x={key:!0,ref:!0,__self:!0,__source:!0};function y(A,w,E){var b,I={},R=null,M=null;E!==void 0&&(R=""+E),w.key!==void 0&&(R=""+w.key),w.ref!==void 0&&(M=w.ref);for(b in w)d.call(w,b)&&!x.hasOwnProperty(b)&&(I[b]=w[b]);if(A&&A.defaultProps)for(b in w=A.defaultProps,w)I[b]===void 0&&(I[b]=w[b]);return{$$typeof:o,type:A,key:R,ref:M,props:I,_owner:p.current}}return wa.Fragment=a,wa.jsx=y,wa.jsxs=y,wa}var j0;function zx(){return j0||(j0=1,tf.exports=Vx()),tf.exports}var S=zx(),_=Qf();const rn=Lp(_);var Jl={},rf={exports:{}},xr={},sf={exports:{}},of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function Ux(){return V0||(V0=1,function(r){function o(fe,ge){var he=fe.length;fe.push(ge);e:for(;0<he;){var Z=he-1>>>1,de=fe[Z];if(0<p(de,ge))fe[Z]=ge,fe[he]=de,he=Z;else break e}}function a(fe){return fe.length===0?null:fe[0]}function d(fe){if(fe.length===0)return null;var ge=fe[0],he=fe.pop();if(he!==ge){fe[0]=he;e:for(var Z=0,de=fe.length,We=de>>>1;Z<We;){var Ue=2*(Z+1)-1,at=fe[Ue],Ee=Ue+1,tt=fe[Ee];if(0>p(at,he))Ee<de&&0>p(tt,at)?(fe[Z]=tt,fe[Ee]=he,Z=Ee):(fe[Z]=at,fe[Ue]=he,Z=Ue);else if(Ee<de&&0>p(tt,he))fe[Z]=tt,fe[Ee]=he,Z=Ee;else break e}}return ge}function p(fe,ge){var he=fe.sortIndex-ge.sortIndex;return he!==0?he:fe.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var x=performance;r.unstable_now=function(){return x.now()}}else{var y=Date,A=y.now();r.unstable_now=function(){return y.now()-A}}var w=[],E=[],b=1,I=null,R=3,M=!1,L=!1,F=!1,B=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(fe){for(var ge=a(E);ge!==null;){if(ge.callback===null)d(E);else if(ge.startTime<=fe)d(E),ge.sortIndex=ge.expirationTime,o(w,ge);else break;ge=a(E)}}function ne(fe){if(F=!1,U(fe),!L)if(a(w)!==null)L=!0,Ve(oe);else{var ge=a(E);ge!==null&&ue(ne,ge.startTime-fe)}}function oe(fe,ge){L=!1,F&&(F=!1,V(ce),ce=-1),M=!0;var he=R;try{for(U(ge),I=a(w);I!==null&&(!(I.expirationTime>ge)||fe&&!ke());){var Z=I.callback;if(typeof Z=="function"){I.callback=null,R=I.priorityLevel;var de=Z(I.expirationTime<=ge);ge=r.unstable_now(),typeof de=="function"?I.callback=de:I===a(w)&&d(w),U(ge)}else d(w);I=a(w)}if(I!==null)var We=!0;else{var Ue=a(E);Ue!==null&&ue(ne,Ue.startTime-ge),We=!1}return We}finally{I=null,R=he,M=!1}}var le=!1,X=null,ce=-1,Q=5,_e=-1;function ke(){return!(r.unstable_now()-_e<Q)}function Te(){if(X!==null){var fe=r.unstable_now();_e=fe;var ge=!0;try{ge=X(!0,fe)}finally{ge?Ne():(le=!1,X=null)}}else le=!1}var Ne;if(typeof H=="function")Ne=function(){H(Te)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,J=Re.port2;Re.port1.onmessage=Te,Ne=function(){J.postMessage(null)}}else Ne=function(){B(Te,0)};function Ve(fe){X=fe,le||(le=!0,Ne())}function ue(fe,ge){ce=B(function(){fe(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(fe){fe.callback=null},r.unstable_continueExecution=function(){L||M||(L=!0,Ve(oe))},r.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<fe?Math.floor(1e3/fe):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return a(w)},r.unstable_next=function(fe){switch(R){case 1:case 2:case 3:var ge=3;break;default:ge=R}var he=R;R=ge;try{return fe()}finally{R=he}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(fe,ge){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var he=R;R=fe;try{return ge()}finally{R=he}},r.unstable_scheduleCallback=function(fe,ge,he){var Z=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Z+he:Z):he=Z,fe){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=he+de,fe={id:b++,callback:ge,priorityLevel:fe,startTime:he,expirationTime:de,sortIndex:-1},he>Z?(fe.sortIndex=he,o(E,fe),a(w)===null&&fe===a(E)&&(F?(V(ce),ce=-1):F=!0,ue(ne,he-Z))):(fe.sortIndex=de,o(w,fe),L||M||(L=!0,Ve(oe))),fe},r.unstable_shouldYield=ke,r.unstable_wrapCallback=function(fe){var ge=R;return function(){var he=R;R=ge;try{return fe.apply(this,arguments)}finally{R=he}}}}(of)),of}var z0;function Wx(){return z0||(z0=1,sf.exports=Ux()),sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Hx(){if(U0)return xr;U0=1;var r=Qf(),o=Wx();function a(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,f=1;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,p={};function x(t,s){y(t,s),y(t+"Capture",s)}function y(t,s){for(p[t]=s,t=0;t<s.length;t++)d.add(s[t])}var A=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,E=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},I={};function R(t){return w.call(I,t)?!0:w.call(b,t)?!1:E.test(t)?I[t]=!0:(b[t]=!0,!1)}function M(t,s,f,g){if(f!==null&&f.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function L(t,s,f,g){if(s===null||typeof s>"u"||M(t,s,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(t,s,f,g,C,T,O){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=C,this.mustUseProperty=f,this.propertyName=t,this.type=s,this.sanitizeURL=T,this.removeEmptyString=O}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){B[t]=new F(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];B[s]=new F(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){B[t]=new F(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){B[t]=new F(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){B[t]=new F(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){B[t]=new F(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){B[t]=new F(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){B[t]=new F(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){B[t]=new F(t,5,!1,t.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function H(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(V,H);B[s]=new F(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(V,H);B[s]=new F(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(V,H);B[s]=new F(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){B[t]=new F(t,1,!1,t.toLowerCase(),null,!1,!1)}),B.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){B[t]=new F(t,1,!1,t.toLowerCase(),null,!0,!0)});function U(t,s,f,g){var C=B.hasOwnProperty(s)?B[s]:null;(C!==null?C.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,f,C,g)&&(f=null),g||C===null?R(s)&&(f===null?t.removeAttribute(s):t.setAttribute(s,""+f)):C.mustUseProperty?t[C.propertyName]=f===null?C.type===3?!1:"":f:(s=C.attributeName,g=C.attributeNamespace,f===null?t.removeAttribute(s):(C=C.type,f=C===3||C===4&&f===!0?"":""+f,g?t.setAttributeNS(g,s,f):t.setAttribute(s,f))))}var ne=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oe=Symbol.for("react.element"),le=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),_e=Symbol.for("react.provider"),ke=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),fe=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=fe&&t[fe]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,Z;function de(t){if(Z===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);Z=s&&s[1]||""}return`
`+Z+t}var We=!1;function Ue(t,s){if(!t||We)return"";We=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ae){var g=ae}Reflect.construct(t,[],s)}else{try{s.call()}catch(ae){g=ae}t.call(s.prototype)}else{try{throw Error()}catch(ae){g=ae}t()}}catch(ae){if(ae&&g&&typeof ae.stack=="string"){for(var C=ae.stack.split(`
`),T=g.stack.split(`
`),O=C.length-1,W=T.length-1;1<=O&&0<=W&&C[O]!==T[W];)W--;for(;1<=O&&0<=W;O--,W--)if(C[O]!==T[W]){if(O!==1||W!==1)do if(O--,W--,0>W||C[O]!==T[W]){var Y=`
`+C[O].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=O&&0<=W);break}}}finally{We=!1,Error.prepareStackTrace=f}return(t=t?t.displayName||t.name:"")?de(t):""}function at(t){switch(t.tag){case 5:return de(t.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return t=Ue(t.type,!1),t;case 11:return t=Ue(t.type.render,!1),t;case 1:return t=Ue(t.type,!0),t;default:return""}}function Ee(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case le:return"Portal";case Q:return"Profiler";case ce:return"StrictMode";case Ne:return"Suspense";case Re:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ke:return(t.displayName||"Context")+".Consumer";case _e:return(t._context.displayName||"Context")+".Provider";case Te:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case J:return s=t.displayName||null,s!==null?s:Ee(t.type)||"Memo";case Ve:s=t._payload,t=t._init;try{return Ee(t(s))}catch{}}return null}function tt(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(s);case 8:return s===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xt(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function me(t){var s=xt(t)?"checked":"value",f=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),g=""+t[s];if(!t.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var C=f.get,T=f.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return C.call(this)},set:function(O){g=""+O,T.call(this,O)}}),Object.defineProperty(t,s,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function gt(t){t._valueTracker||(t._valueTracker=me(t))}function yt(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var f=s.getValue(),g="";return t&&(g=xt(t)?t.checked?"true":"false":t.value),t=g,t!==f?(s.setValue(t),!0):!1}function Pe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function At(t,s){var f=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??t._wrapperState.initialChecked})}function Ft(t,s){var f=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;f=Fe(s.value!=null?s.value:f),t._wrapperState={initialChecked:g,initialValue:f,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Gt(t,s){s=s.checked,s!=null&&U(t,"checked",s,!1)}function kt(t,s){Gt(t,s);var f=Fe(s.value),g=s.type;if(f!=null)g==="number"?(f===0&&t.value===""||t.value!=f)&&(t.value=""+f):t.value!==""+f&&(t.value=""+f);else if(g==="submit"||g==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?mt(t,s.type,f):s.hasOwnProperty("defaultValue")&&mt(t,s.type,Fe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function St(t,s,f){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,f||s===t.value||(t.value=s),t.defaultValue=s}f=t.name,f!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,f!==""&&(t.name=f)}function mt(t,s,f){(s!=="number"||Pe(t.ownerDocument)!==t)&&(f==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+f&&(t.defaultValue=""+f))}var Sn=Array.isArray;function Ie(t,s,f,g){if(t=t.options,s){s={};for(var C=0;C<f.length;C++)s["$"+f[C]]=!0;for(f=0;f<t.length;f++)C=s.hasOwnProperty("$"+t[f].value),t[f].selected!==C&&(t[f].selected=C),C&&g&&(t[f].defaultSelected=!0)}else{for(f=""+Fe(f),s=null,C=0;C<t.length;C++){if(t[C].value===f){t[C].selected=!0,g&&(t[C].defaultSelected=!0);return}s!==null||t[C].disabled||(s=t[C])}s!==null&&(s.selected=!0)}}function rt(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(a(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function De(t,s){var f=s.value;if(f==null){if(f=s.children,s=s.defaultValue,f!=null){if(s!=null)throw Error(a(92));if(Sn(f)){if(1<f.length)throw Error(a(93));f=f[0]}s=f}s==null&&(s=""),f=s}t._wrapperState={initialValue:Fe(f)}}function Oe(t,s){var f=Fe(s.value),g=Fe(s.defaultValue);f!=null&&(f=""+f,f!==t.value&&(t.value=f),s.defaultValue==null&&t.defaultValue!==f&&(t.defaultValue=f)),g!=null&&(t.defaultValue=""+g)}function qe(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function it(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wt(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?it(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ot,ct=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,f,g,C){MSApp.execUnsafeLocalFunction(function(){return t(s,f,g,C)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(Ot=Ot||document.createElement("div"),Ot.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ot.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function jt(t,s){if(s){var f=t.firstChild;if(f&&f===t.lastChild&&f.nodeType===3){f.nodeValue=s;return}}t.textContent=s}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xn=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(t){xn.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Xt[s]=Xt[t]})});function Pt(t,s,f){return s==null||typeof s=="boolean"||s===""?"":f||typeof s!="number"||s===0||Xt.hasOwnProperty(t)&&Xt[t]?(""+s).trim():s+"px"}function be(t,s){t=t.style;for(var f in s)if(s.hasOwnProperty(f)){var g=f.indexOf("--")===0,C=Pt(f,s[f],g);f==="float"&&(f="cssFloat"),g?t.setProperty(f,C):t[f]=C}}var Vt=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tt(t,s){if(s){if(Vt[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(a(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(a(61))}if(s.style!=null&&typeof s.style!="object")throw Error(a(62))}}function Yt(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zr=null;function ei(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,vt=null,Xn=null;function ys(t){if(t=ia(t)){if(typeof Fi!="function")throw Error(a(280));var s=t.stateNode;s&&(s=hl(s),Fi(t.stateNode,t.type,s))}}function ji(t){vt?Xn?Xn.push(t):Xn=[t]:vt=t}function Yn(){if(vt){var t=vt,s=Xn;if(Xn=vt=null,ys(t),s)for(t=0;t<s.length;t++)ys(s[t])}}function Vi(t,s){return t(s)}function sn(){}var Nr=!1;function ti(t,s,f){if(Nr)return t(s,f);Nr=!0;try{return Vi(t,s,f)}finally{Nr=!1,(vt!==null||Xn!==null)&&(sn(),Yn())}}function An(t,s){var f=t.stateNode;if(f===null)return null;var g=hl(f);if(g===null)return null;f=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(t=t.type,g=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!g;break e;default:t=!1}if(t)return null;if(f&&typeof f!="function")throw Error(a(231,s,typeof f));return f}var zi=!1;if(A)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){zi=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{zi=!1}function ni(t,s,f,g,C,T,O,W,Y){var ae=Array.prototype.slice.call(arguments,3);try{s.apply(f,ae)}catch(we){this.onError(we)}}var fn=!1,ir=null,Tn=!1,Me=null,ri={onError:function(t){fn=!0,ir=t}};function ws(t,s,f,g,C,T,O,W,Y){fn=!1,ir=null,ni.apply(ri,arguments)}function In(t,s,f,g,C,T,O,W,Y){if(ws.apply(this,arguments),fn){if(fn){var ae=ir;fn=!1,ir=null}else throw Error(a(198));Tn||(Tn=!0,Me=ae)}}function Kn(t){var s=t,f=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(f=s.return),t=s.return;while(t)}return s.tag===3?f:null}function wi(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Ur(t){if(Kn(t)!==t)throw Error(a(188))}function fr(t){var s=t.alternate;if(!s){if(s=Kn(t),s===null)throw Error(a(188));return s!==t?null:t}for(var f=t,g=s;;){var C=f.return;if(C===null)break;var T=C.alternate;if(T===null){if(g=C.return,g!==null){f=g;continue}break}if(C.child===T.child){for(T=C.child;T;){if(T===f)return Ur(C),t;if(T===g)return Ur(C),s;T=T.sibling}throw Error(a(188))}if(f.return!==g.return)f=C,g=T;else{for(var O=!1,W=C.child;W;){if(W===f){O=!0,f=C,g=T;break}if(W===g){O=!0,g=C,f=T;break}W=W.sibling}if(!O){for(W=T.child;W;){if(W===f){O=!0,f=T,g=C;break}if(W===g){O=!0,g=T,f=C;break}W=W.sibling}if(!O)throw Error(a(189))}}if(f.alternate!==g)throw Error(a(190))}if(f.tag!==3)throw Error(a(188));return f.stateNode.current===f?t:s}function vs(t){return t=fr(t),t!==null?Le(t):null}function Le(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=Le(t);if(s!==null)return s;t=t.sibling}return null}var Ze=o.unstable_scheduleCallback,Ge=o.unstable_cancelCallback,ot=o.unstable_shouldYield,Ke=o.unstable_requestPaint,ut=o.unstable_now,Cs=o.unstable_getCurrentPriorityLevel,pe=o.unstable_ImmediatePriority,Es=o.unstable_UserBlockingPriority,It=o.unstable_NormalPriority,sr=o.unstable_LowPriority,Fo=o.unstable_IdlePriority,Ct=null,ht=null;function Nt(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Ct,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:yn,jo=Math.log,Vo=Math.LN2;function yn(t){return t>>>=0,t===0?32:31-(jo(t)/Vo|0)|0}var yr=64,Js=4194304;function Kt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wr(t,s){var f=t.pendingLanes;if(f===0)return 0;var g=0,C=t.suspendedLanes,T=t.pingedLanes,O=f&268435455;if(O!==0){var W=O&~C;W!==0?g=Kt(W):(T&=O,T!==0&&(g=Kt(T)))}else O=f&~C,O!==0?g=Kt(O):T!==0&&(g=Kt(T));if(g===0)return 0;if(s!==0&&s!==g&&!(s&C)&&(C=g&-g,T=s&-s,C>=T||C===16&&(T&4194240)!==0))return s;if(g&4&&(g|=f&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=g;0<s;)f=31-or(s),C=1<<f,g|=t[f],s&=~C;return g}function Dc(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ui(t,s){for(var f=t.suspendedLanes,g=t.pingedLanes,C=t.expirationTimes,T=t.pendingLanes;0<T;){var O=31-or(T),W=1<<O,Y=C[O];Y===-1?(!(W&f)||W&g)&&(C[O]=Dc(W,s)):Y<=s&&(t.expiredLanes|=W),T&=~W}}function zt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nn(){var t=yr;return yr<<=1,!(yr&4194240)&&(yr=64),t}function ee(t){for(var s=[],f=0;31>f;f++)s.push(t);return s}function j(t,s,f){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-or(s),t[s]=f}function Ye(t,s){var f=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var g=t.eventTimes;for(t=t.expirationTimes;0<f;){var C=31-or(f),T=1<<C;s[C]=0,g[C]=-1,t[C]=-1,f&=~T}}function dn(t,s){var f=t.entangledLanes|=s;for(t=t.entanglements;f;){var g=31-or(f),C=1<<g;C&s|t[g]&s&&(t[g]|=s),f&=~C}}var wt=0;function qa(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eo,Zn,$e,Zt,zo,Uo=!1,Wi=[],vr=null,Rr=null,ii=null,tn=new Map,Wr=new Map,jn=[],nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(t,s){switch(t){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":tn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(s.pointerId)}}function ft(t,s,f,g,C,T){return t===null||t.nativeEvent!==T?(t={blockedOn:s,domEventName:f,eventSystemFlags:g,nativeEvent:T,targetContainers:[C]},s!==null&&(s=ia(s),s!==null&&Zn(s)),t):(t.eventSystemFlags|=g,s=t.targetContainers,C!==null&&s.indexOf(C)===-1&&s.push(C),t)}function Rn(t,s,f,g,C){switch(s){case"focusin":return vr=ft(vr,t,s,f,g,C),!0;case"dragenter":return Rr=ft(Rr,t,s,f,g,C),!0;case"mouseover":return ii=ft(ii,t,s,f,g,C),!0;case"pointerover":var T=C.pointerId;return tn.set(T,ft(tn.get(T)||null,t,s,f,g,C)),!0;case"gotpointercapture":return T=C.pointerId,Wr.set(T,ft(Wr.get(T)||null,t,s,f,g,C)),!0}return!1}function Ja(t){var s=Ps(t.target);if(s!==null){var f=Kn(s);if(f!==null){if(s=f.tag,s===13){if(s=wi(f),s!==null){t.blockedOn=s,zo(t.priority,function(){$e(f)});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){t.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hi(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var f=to(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(f===null){f=t.nativeEvent;var g=new f.constructor(f.type,f);zr=g,f.target.dispatchEvent(g),zr=null}else return s=ia(f),s!==null&&Zn(s),t.blockedOn=f,!1;s.shift()}return!0}function Wo(t,s,f){Hi(t)&&f.delete(s)}function vi(){Uo=!1,vr!==null&&Hi(vr)&&(vr=null),Rr!==null&&Hi(Rr)&&(Rr=null),ii!==null&&Hi(ii)&&(ii=null),tn.forEach(Wo),Wr.forEach(Wo)}function As(t,s){t.blockedOn===s&&(t.blockedOn=null,Uo||(Uo=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,vi)))}function Hr(t){function s(C){return As(C,t)}if(0<Wi.length){As(Wi[0],t);for(var f=1;f<Wi.length;f++){var g=Wi[f];g.blockedOn===t&&(g.blockedOn=null)}}for(vr!==null&&As(vr,t),Rr!==null&&As(Rr,t),ii!==null&&As(ii,t),tn.forEach(s),Wr.forEach(s),f=0;f<jn.length;f++)g=jn[f],g.blockedOn===t&&(g.blockedOn=null);for(;0<jn.length&&(f=jn[0],f.blockedOn===null);)Ja(f),f.blockedOn===null&&jn.shift()}var _r=ne.ReactCurrentBatchConfig,si=!0;function el(t,s,f,g){var C=wt,T=_r.transition;_r.transition=null;try{wt=1,Ci(t,s,f,g)}finally{wt=C,_r.transition=T}}function bs(t,s,f,g){var C=wt,T=_r.transition;_r.transition=null;try{wt=4,Ci(t,s,f,g)}finally{wt=C,_r.transition=T}}function Ci(t,s,f,g){if(si){var C=to(t,s,f,g);if(C===null)Gc(t,s,g,_n,f),Qa(t,g);else if(Rn(C,t,s,f,g))g.stopPropagation();else if(Qa(t,g),s&4&&-1<nt.indexOf(t)){for(;C!==null;){var T=ia(C);if(T!==null&&eo(T),T=to(t,s,f,g),T===null&&Gc(t,s,g,_n,f),T===C)break;C=T}C!==null&&g.stopPropagation()}else Gc(t,s,g,null,f)}}var _n=null;function to(t,s,f,g){if(_n=null,t=ei(g),t=Ps(t),t!==null)if(s=Kn(t),s===null)t=null;else if(f=s.tag,f===13){if(t=wi(s),t!==null)return t;t=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return _n=t,null}function Ho(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cs()){case pe:return 1;case Es:return 4;case It:case sr:return 16;case Fo:return 536870912;default:return 16}default:return 16}}var Gr=null,Go=null,no=null;function tl(){if(no)return no;var t,s=Go,f=s.length,g,C="value"in Gr?Gr.value:Gr.textContent,T=C.length;for(t=0;t<f&&s[t]===C[t];t++);var O=f-t;for(g=1;g<=O&&s[f-g]===C[T-g];g++);return no=C.slice(t,1<g?1-g:void 0)}function Mt(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ss(){return!0}function Ts(){return!1}function hn(t){function s(f,g,C,T,O){this._reactName=f,this._targetInst=C,this.type=g,this.nativeEvent=T,this.target=O,this.currentTarget=null;for(var W in t)t.hasOwnProperty(W)&&(f=t[W],this[W]=f?f(T):T[W]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Ss:Ts,this.isPropagationStopped=Ts,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),s}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},se=hn(Gi),pt=he({},Gi,{view:0,detail:0}),kn=hn(pt),Xi,ro,Is,io=he({},pt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(Xi=t.screenX-Is.screenX,ro=t.screenY-Is.screenY):ro=Xi=0,Is=t),Xi)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),nl=hn(io),Xo=he({},io,{dataTransfer:0}),wn=hn(Xo),Yo=he({},pt,{relatedTarget:0}),$t=hn(Yo),so=he({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ei=hn(so),Ut=he({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qe=hn(Ut),Lc=he({},Gi,{data:0}),Ht=hn(Lc),Ai={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Bc[t])?!!s[t]:!1}function Ns(){return kr}var rl=he({},pt,{key:function(t){if(t.key){var s=Ai[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Mt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yi[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?Mt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ko=hn(rl),il=he({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=hn(il),Fc=he({},pt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Ki=hn(Fc),$o=he({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),jc=hn($o),Rs=he({},io,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Vc=hn(Rs),oi=[9,13,27,32],Zi=A&&"CompositionEvent"in window,Dn=null;A&&"documentMode"in document&&(Dn=document.documentMode);var sl=A&&"TextEvent"in window&&!Dn,Cr=A&&(!Zi||Dn&&8<Dn&&11>=Dn),ol=" ",oo=!1;function al(t,s){switch(t){case"keyup":return oi.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vn=!1;function zc(t,s){switch(t){case"compositionend":return qo(s);case"keypress":return s.which!==32?null:(oo=!0,ol);case"textInput":return t=s.data,t===ol&&oo?null:t;default:return null}}function Qo(t,s){if(Vn)return t==="compositionend"||!Zi&&al(t,s)?(t=tl(),no=Go=Gr=null,Vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Cr&&s.locale!=="ko"?null:s.data;default:return null}}var _s={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _t(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!_s[t.type]:s==="textarea"}function ks(t,s,f,g){ji(g),s=ul(s,"onChange"),0<s.length&&(f=new se("onChange","change",null,f,g),t.push({event:f,listeners:s}))}var k=null,e=null;function n(t){Qd(t,0)}function i(t){var s=co(t);if(yt(s))return t}function l(t,s){if(t==="change")return s}var c=!1;if(A){var u;if(A){var h="oninput"in document;if(!h){var m=document.createElement("div");m.setAttribute("oninput","return;"),h=typeof m.oninput=="function"}u=h}else u=!1;c=u&&(!document.documentMode||9<document.documentMode)}function v(){k&&(k.detachEvent("onpropertychange",N),e=k=null)}function N(t){if(t.propertyName==="value"&&i(e)){var s=[];ks(s,e,t,ei(t)),ti(n,s)}}function P(t,s,f){t==="focusin"?(v(),k=s,e=f,k.attachEvent("onpropertychange",N)):t==="focusout"&&v()}function D(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return i(e)}function z(t,s){if(t==="click")return i(s)}function G(t,s){if(t==="input"||t==="change")return i(s)}function K(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var q=typeof Object.is=="function"?Object.is:K;function ie(t,s){if(q(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var f=Object.keys(t),g=Object.keys(s);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var C=f[g];if(!w.call(s,C)||!q(t[C],s[C]))return!1}return!0}function Ce(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ae(t,s){var f=Ce(t);t=0;for(var g;f;){if(f.nodeType===3){if(g=t+f.textContent.length,t<=s&&g>=s)return{node:f,offset:s-t};t=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ce(f)}}function ye(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?ye(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Et(){for(var t=window,s=Pe();s instanceof t.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)t=s.contentWindow;else break;s=Pe(t.document)}return s}function dt(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function $n(t){var s=Et(),f=t.focusedElem,g=t.selectionRange;if(s!==f&&f&&f.ownerDocument&&ye(f.ownerDocument.documentElement,f)){if(g!==null&&dt(f)){if(s=g.start,t=g.end,t===void 0&&(t=s),"selectionStart"in f)f.selectionStart=s,f.selectionEnd=Math.min(t,f.value.length);else if(t=(s=f.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var C=f.textContent.length,T=Math.min(g.start,C);g=g.end===void 0?T:Math.min(g.end,C),!t.extend&&T>g&&(C=g,g=T,T=C),C=Ae(f,T);var O=Ae(f,g);C&&O&&(t.rangeCount!==1||t.anchorNode!==C.node||t.anchorOffset!==C.offset||t.focusNode!==O.node||t.focusOffset!==O.offset)&&(s=s.createRange(),s.setStart(C.node,C.offset),t.removeAllRanges(),T>g?(t.addRange(s),t.extend(O.node,O.offset)):(s.setEnd(O.node,O.offset),t.addRange(s)))}}for(s=[],t=f;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<s.length;f++)t=s[f],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Er=A&&"documentMode"in document&&11>=document.documentMode,vn=null,Bt=null,on=null,zn=!1;function bi(t,s,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;zn||vn==null||vn!==Pe(g)||(g=vn,"selectionStart"in g&&dt(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),on&&ie(on,g)||(on=g,g=ul(Bt,"onSelect"),0<g.length&&(s=new se("onSelect","select",null,s,f),t.push({event:s,listeners:g}),s.target=vn)))}function Xr(t,s){var f={};return f[t.toLowerCase()]=s.toLowerCase(),f["Webkit"+t]="webkit"+s,f["Moz"+t]="moz"+s,f}var $i={animationend:Xr("Animation","AnimationEnd"),animationiteration:Xr("Animation","AnimationIteration"),animationstart:Xr("Animation","AnimationStart"),transitionend:Xr("Transition","TransitionEnd")},Jo={},Hd={};A&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function ll(t){if(Jo[t])return Jo[t];if(!$i[t])return t;var s=$i[t],f;for(f in s)if(s.hasOwnProperty(f)&&f in Hd)return Jo[t]=s[f];return t}var Gd=ll("animationend"),Xd=ll("animationiteration"),Yd=ll("animationstart"),Kd=ll("transitionend"),Zd=new Map,$d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(t,s){Zd.set(t,s),x(s,[t])}for(var Uc=0;Uc<$d.length;Uc++){var Wc=$d[Uc],Km=Wc.toLowerCase(),Zm=Wc[0].toUpperCase()+Wc.slice(1);qi(Km,"on"+Zm)}qi(Gd,"onAnimationEnd"),qi(Xd,"onAnimationIteration"),qi(Yd,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(Kd,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$m=new Set("cancel close invalid load scroll toggle".split(" ").concat(ea));function qd(t,s,f){var g=t.type||"unknown-event";t.currentTarget=f,In(g,s,void 0,t),t.currentTarget=null}function Qd(t,s){s=(s&4)!==0;for(var f=0;f<t.length;f++){var g=t[f],C=g.event;g=g.listeners;e:{var T=void 0;if(s)for(var O=g.length-1;0<=O;O--){var W=g[O],Y=W.instance,ae=W.currentTarget;if(W=W.listener,Y!==T&&C.isPropagationStopped())break e;qd(C,W,ae),T=Y}else for(O=0;O<g.length;O++){if(W=g[O],Y=W.instance,ae=W.currentTarget,W=W.listener,Y!==T&&C.isPropagationStopped())break e;qd(C,W,ae),T=Y}}}if(Tn)throw t=Me,Tn=!1,Me=null,t}function Jt(t,s){var f=s[qc];f===void 0&&(f=s[qc]=new Set);var g=t+"__bubble";f.has(g)||(Jd(s,t,2,!1),f.add(g))}function Hc(t,s,f){var g=0;s&&(g|=4),Jd(f,t,g,s)}var cl="_reactListening"+Math.random().toString(36).slice(2);function ta(t){if(!t[cl]){t[cl]=!0,d.forEach(function(f){f!=="selectionchange"&&($m.has(f)||Hc(f,!1,t),Hc(f,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[cl]||(s[cl]=!0,Hc("selectionchange",!1,s))}}function Jd(t,s,f,g){switch(Ho(s)){case 1:var C=el;break;case 4:C=bs;break;default:C=Ci}f=C.bind(null,s,f,t),C=void 0,!zi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(C=!0),g?C!==void 0?t.addEventListener(s,f,{capture:!0,passive:C}):t.addEventListener(s,f,!0):C!==void 0?t.addEventListener(s,f,{passive:C}):t.addEventListener(s,f,!1)}function Gc(t,s,f,g,C){var T=g;if(!(s&1)&&!(s&2)&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var W=g.stateNode.containerInfo;if(W===C||W.nodeType===8&&W.parentNode===C)break;if(O===4)for(O=g.return;O!==null;){var Y=O.tag;if((Y===3||Y===4)&&(Y=O.stateNode.containerInfo,Y===C||Y.nodeType===8&&Y.parentNode===C))return;O=O.return}for(;W!==null;){if(O=Ps(W),O===null)return;if(Y=O.tag,Y===5||Y===6){g=T=O;continue e}W=W.parentNode}}g=g.return}ti(function(){var ae=T,we=ei(f),ve=[];e:{var xe=Zd.get(t);if(xe!==void 0){var Be=se,ze=t;switch(t){case"keypress":if(Mt(f)===0)break e;case"keydown":case"keyup":Be=Ko;break;case"focusin":ze="focus",Be=$t;break;case"focusout":ze="blur",Be=$t;break;case"beforeblur":case"afterblur":Be=$t;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=wn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Ki;break;case Gd:case Xd:case Yd:Be=Ei;break;case Kd:Be=jc;break;case"scroll":Be=kn;break;case"wheel":Be=Vc;break;case"copy":case"cut":case"paste":Be=Qe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Zo}var He=(s&4)!==0,Cn=!He&&t==="scroll",te=He?xe!==null?xe+"Capture":null:xe;He=[];for(var $=ae,re;$!==null;){re=$;var Se=re.stateNode;if(re.tag===5&&Se!==null&&(re=Se,te!==null&&(Se=An($,te),Se!=null&&He.push(na($,Se,re)))),Cn)break;$=$.return}0<He.length&&(xe=new Be(xe,ze,null,f,we),ve.push({event:xe,listeners:He}))}}if(!(s&7)){e:{if(xe=t==="mouseover"||t==="pointerover",Be=t==="mouseout"||t==="pointerout",xe&&f!==zr&&(ze=f.relatedTarget||f.fromElement)&&(Ps(ze)||ze[Si]))break e;if((Be||xe)&&(xe=we.window===we?we:(xe=we.ownerDocument)?xe.defaultView||xe.parentWindow:window,Be?(ze=f.relatedTarget||f.toElement,Be=ae,ze=ze?Ps(ze):null,ze!==null&&(Cn=Kn(ze),ze!==Cn||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Be=null,ze=ae),Be!==ze)){if(He=nl,Se="onMouseLeave",te="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(He=Zo,Se="onPointerLeave",te="onPointerEnter",$="pointer"),Cn=Be==null?xe:co(Be),re=ze==null?xe:co(ze),xe=new He(Se,$+"leave",Be,f,we),xe.target=Cn,xe.relatedTarget=re,Se=null,Ps(we)===ae&&(He=new He(te,$+"enter",ze,f,we),He.target=re,He.relatedTarget=Cn,Se=He),Cn=Se,Be&&ze)t:{for(He=Be,te=ze,$=0,re=He;re;re=ao(re))$++;for(re=0,Se=te;Se;Se=ao(Se))re++;for(;0<$-re;)He=ao(He),$--;for(;0<re-$;)te=ao(te),re--;for(;$--;){if(He===te||te!==null&&He===te.alternate)break t;He=ao(He),te=ao(te)}He=null}else He=null;Be!==null&&eh(ve,xe,Be,He,!1),ze!==null&&Cn!==null&&eh(ve,Cn,ze,He,!0)}}e:{if(xe=ae?co(ae):window,Be=xe.nodeName&&xe.nodeName.toLowerCase(),Be==="select"||Be==="input"&&xe.type==="file")var Xe=l;else if(_t(xe))if(c)Xe=G;else{Xe=D;var Je=P}else(Be=xe.nodeName)&&Be.toLowerCase()==="input"&&(xe.type==="checkbox"||xe.type==="radio")&&(Xe=z);if(Xe&&(Xe=Xe(t,ae))){ks(ve,Xe,f,we);break e}Je&&Je(t,xe,ae),t==="focusout"&&(Je=xe._wrapperState)&&Je.controlled&&xe.type==="number"&&mt(xe,"number",xe.value)}switch(Je=ae?co(ae):window,t){case"focusin":(_t(Je)||Je.contentEditable==="true")&&(vn=Je,Bt=ae,on=null);break;case"focusout":on=Bt=vn=null;break;case"mousedown":zn=!0;break;case"contextmenu":case"mouseup":case"dragend":zn=!1,bi(ve,f,we);break;case"selectionchange":if(Er)break;case"keydown":case"keyup":bi(ve,f,we)}var et;if(Zi)e:{switch(t){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Vn?al(t,f)&&(lt="onCompositionEnd"):t==="keydown"&&f.keyCode===229&&(lt="onCompositionStart");lt&&(Cr&&f.locale!=="ko"&&(Vn||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Vn&&(et=tl()):(Gr=we,Go="value"in Gr?Gr.value:Gr.textContent,Vn=!0)),Je=ul(ae,lt),0<Je.length&&(lt=new Ht(lt,t,null,f,we),ve.push({event:lt,listeners:Je}),et?lt.data=et:(et=qo(f),et!==null&&(lt.data=et)))),(et=sl?zc(t,f):Qo(t,f))&&(ae=ul(ae,"onBeforeInput"),0<ae.length&&(we=new Ht("onBeforeInput","beforeinput",null,f,we),ve.push({event:we,listeners:ae}),we.data=et))}Qd(ve,s)})}function na(t,s,f){return{instance:t,listener:s,currentTarget:f}}function ul(t,s){for(var f=s+"Capture",g=[];t!==null;){var C=t,T=C.stateNode;C.tag===5&&T!==null&&(C=T,T=An(t,f),T!=null&&g.unshift(na(t,T,C)),T=An(t,s),T!=null&&g.push(na(t,T,C))),t=t.return}return g}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eh(t,s,f,g,C){for(var T=s._reactName,O=[];f!==null&&f!==g;){var W=f,Y=W.alternate,ae=W.stateNode;if(Y!==null&&Y===g)break;W.tag===5&&ae!==null&&(W=ae,C?(Y=An(f,T),Y!=null&&O.unshift(na(f,Y,W))):C||(Y=An(f,T),Y!=null&&O.push(na(f,Y,W)))),f=f.return}O.length!==0&&t.push({event:s,listeners:O})}var qm=/\r\n?/g,Qm=/\u0000|\uFFFD/g;function th(t){return(typeof t=="string"?t:""+t).replace(qm,`
`).replace(Qm,"")}function fl(t,s,f){if(s=th(s),th(t)!==s&&f)throw Error(a(425))}function dl(){}var Xc=null,Yc=null;function Kc(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,Jm=typeof clearTimeout=="function"?clearTimeout:void 0,nh=typeof Promise=="function"?Promise:void 0,ex=typeof queueMicrotask=="function"?queueMicrotask:typeof nh<"u"?function(t){return nh.resolve(null).then(t).catch(tx)}:Zc;function tx(t){setTimeout(function(){throw t})}function $c(t,s){var f=s,g=0;do{var C=f.nextSibling;if(t.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(g===0){t.removeChild(C),Hr(s);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=C}while(f);Hr(s)}function Qi(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function rh(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var f=t.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return t;s--}else f==="/$"&&s++}t=t.previousSibling}return null}var lo=Math.random().toString(36).slice(2),ai="__reactFiber$"+lo,ra="__reactProps$"+lo,Si="__reactContainer$"+lo,qc="__reactEvents$"+lo,nx="__reactListeners$"+lo,rx="__reactHandles$"+lo;function Ps(t){var s=t[ai];if(s)return s;for(var f=t.parentNode;f;){if(s=f[Si]||f[ai]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(t=rh(t);t!==null;){if(f=t[ai])return f;t=rh(t)}return s}t=f,f=t.parentNode}return null}function ia(t){return t=t[ai]||t[Si],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function hl(t){return t[ra]||null}var Qc=[],uo=-1;function Ji(t){return{current:t}}function en(t){0>uo||(t.current=Qc[uo],Qc[uo]=null,uo--)}function qt(t,s){uo++,Qc[uo]=t.current,t.current=s}var es={},qn=Ji(es),dr=Ji(!1),Os=es;function fo(t,s){var f=t.type.contextTypes;if(!f)return es;var g=t.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var C={},T;for(T in f)C[T]=s[T];return g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=C),C}function hr(t){return t=t.childContextTypes,t!=null}function pl(){en(dr),en(qn)}function ih(t,s,f){if(qn.current!==es)throw Error(a(168));qt(qn,s),qt(dr,f)}function sh(t,s,f){var g=t.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var C in g)if(!(C in s))throw Error(a(108,tt(t)||"Unknown",C));return he({},f,g)}function gl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||es,Os=qn.current,qt(qn,t),qt(dr,dr.current),!0}function oh(t,s,f){var g=t.stateNode;if(!g)throw Error(a(169));f?(t=sh(t,s,Os),g.__reactInternalMemoizedMergedChildContext=t,en(dr),en(qn),qt(qn,t)):en(dr),qt(dr,f)}var Ti=null,ml=!1,Jc=!1;function ah(t){Ti===null?Ti=[t]:Ti.push(t)}function ix(t){ml=!0,ah(t)}function ts(){if(!Jc&&Ti!==null){Jc=!0;var t=0,s=wt;try{var f=Ti;for(wt=1;t<f.length;t++){var g=f[t];do g=g(!0);while(g!==null)}Ti=null,ml=!1}catch(C){throw Ti!==null&&(Ti=Ti.slice(t+1)),Ze(pe,ts),C}finally{wt=s,Jc=!1}}return null}var ho=[],po=0,xl=null,yl=0,Pr=[],Or=0,Ms=null,Ii=1,Ni="";function Ds(t,s){ho[po++]=yl,ho[po++]=xl,xl=t,yl=s}function lh(t,s,f){Pr[Or++]=Ii,Pr[Or++]=Ni,Pr[Or++]=Ms,Ms=t;var g=Ii;t=Ni;var C=32-or(g)-1;g&=~(1<<C),f+=1;var T=32-or(s)+C;if(30<T){var O=C-C%5;T=(g&(1<<O)-1).toString(32),g>>=O,C-=O,Ii=1<<32-or(s)+C|f<<C|g,Ni=T+t}else Ii=1<<T|f<<C|g,Ni=t}function eu(t){t.return!==null&&(Ds(t,1),lh(t,1,0))}function tu(t){for(;t===xl;)xl=ho[--po],ho[po]=null,yl=ho[--po],ho[po]=null;for(;t===Ms;)Ms=Pr[--Or],Pr[Or]=null,Ni=Pr[--Or],Pr[Or]=null,Ii=Pr[--Or],Pr[Or]=null}var Ar=null,br=null,nn=!1,Yr=null;function ch(t,s){var f=Br(5,null,null,0);f.elementType="DELETED",f.stateNode=s,f.return=t,s=t.deletions,s===null?(t.deletions=[f],t.flags|=16):s.push(f)}function uh(t,s){switch(t.tag){case 5:var f=t.type;return s=s.nodeType!==1||f.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ar=t,br=Qi(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ar=t,br=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(f=Ms!==null?{id:Ii,overflow:Ni}:null,t.memoizedState={dehydrated:s,treeContext:f,retryLane:1073741824},f=Br(18,null,null,0),f.stateNode=s,f.return=t,t.child=f,Ar=t,br=null,!0):!1;default:return!1}}function nu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ru(t){if(nn){var s=br;if(s){var f=s;if(!uh(t,s)){if(nu(t))throw Error(a(418));s=Qi(f.nextSibling);var g=Ar;s&&uh(t,s)?ch(g,f):(t.flags=t.flags&-4097|2,nn=!1,Ar=t)}}else{if(nu(t))throw Error(a(418));t.flags=t.flags&-4097|2,nn=!1,Ar=t}}}function fh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ar=t}function wl(t){if(t!==Ar)return!1;if(!nn)return fh(t),nn=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Kc(t.type,t.memoizedProps)),s&&(s=br)){if(nu(t))throw dh(),Error(a(418));for(;s;)ch(t,s),s=Qi(s.nextSibling)}if(fh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var f=t.data;if(f==="/$"){if(s===0){br=Qi(t.nextSibling);break e}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++}t=t.nextSibling}br=null}}else br=Ar?Qi(t.stateNode.nextSibling):null;return!0}function dh(){for(var t=br;t;)t=Qi(t.nextSibling)}function go(){br=Ar=null,nn=!1}function iu(t){Yr===null?Yr=[t]:Yr.push(t)}var sx=ne.ReactCurrentBatchConfig;function sa(t,s,f){if(t=f.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(a(309));var g=f.stateNode}if(!g)throw Error(a(147,t));var C=g,T=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===T?s.ref:(s=function(O){var W=C.refs;O===null?delete W[T]:W[T]=O},s._stringRef=T,s)}if(typeof t!="string")throw Error(a(284));if(!f._owner)throw Error(a(290,t))}return t}function vl(t,s){throw t=Object.prototype.toString.call(s),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function hh(t){var s=t._init;return s(t._payload)}function ph(t){function s(te,$){if(t){var re=te.deletions;re===null?(te.deletions=[$],te.flags|=16):re.push($)}}function f(te,$){if(!t)return null;for(;$!==null;)s(te,$),$=$.sibling;return null}function g(te,$){for(te=new Map;$!==null;)$.key!==null?te.set($.key,$):te.set($.index,$),$=$.sibling;return te}function C(te,$){return te=cs(te,$),te.index=0,te.sibling=null,te}function T(te,$,re){return te.index=re,t?(re=te.alternate,re!==null?(re=re.index,re<$?(te.flags|=2,$):re):(te.flags|=2,$)):(te.flags|=1048576,$)}function O(te){return t&&te.alternate===null&&(te.flags|=2),te}function W(te,$,re,Se){return $===null||$.tag!==6?($=Zu(re,te.mode,Se),$.return=te,$):($=C($,re),$.return=te,$)}function Y(te,$,re,Se){var Xe=re.type;return Xe===X?we(te,$,re.props.children,Se,re.key):$!==null&&($.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Ve&&hh(Xe)===$.type)?(Se=C($,re.props),Se.ref=sa(te,$,re),Se.return=te,Se):(Se=Hl(re.type,re.key,re.props,null,te.mode,Se),Se.ref=sa(te,$,re),Se.return=te,Se)}function ae(te,$,re,Se){return $===null||$.tag!==4||$.stateNode.containerInfo!==re.containerInfo||$.stateNode.implementation!==re.implementation?($=$u(re,te.mode,Se),$.return=te,$):($=C($,re.children||[]),$.return=te,$)}function we(te,$,re,Se,Xe){return $===null||$.tag!==7?($=Ws(re,te.mode,Se,Xe),$.return=te,$):($=C($,re),$.return=te,$)}function ve(te,$,re){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Zu(""+$,te.mode,re),$.return=te,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case oe:return re=Hl($.type,$.key,$.props,null,te.mode,re),re.ref=sa(te,null,$),re.return=te,re;case le:return $=$u($,te.mode,re),$.return=te,$;case Ve:var Se=$._init;return ve(te,Se($._payload),re)}if(Sn($)||ge($))return $=Ws($,te.mode,re,null),$.return=te,$;vl(te,$)}return null}function xe(te,$,re,Se){var Xe=$!==null?$.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return Xe!==null?null:W(te,$,""+re,Se);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case oe:return re.key===Xe?Y(te,$,re,Se):null;case le:return re.key===Xe?ae(te,$,re,Se):null;case Ve:return Xe=re._init,xe(te,$,Xe(re._payload),Se)}if(Sn(re)||ge(re))return Xe!==null?null:we(te,$,re,Se,null);vl(te,re)}return null}function Be(te,$,re,Se,Xe){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return te=te.get(re)||null,W($,te,""+Se,Xe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case oe:return te=te.get(Se.key===null?re:Se.key)||null,Y($,te,Se,Xe);case le:return te=te.get(Se.key===null?re:Se.key)||null,ae($,te,Se,Xe);case Ve:var Je=Se._init;return Be(te,$,re,Je(Se._payload),Xe)}if(Sn(Se)||ge(Se))return te=te.get(re)||null,we($,te,Se,Xe,null);vl($,Se)}return null}function ze(te,$,re,Se){for(var Xe=null,Je=null,et=$,lt=$=0,Fn=null;et!==null&&lt<re.length;lt++){et.index>lt?(Fn=et,et=null):Fn=et.sibling;var Lt=xe(te,et,re[lt],Se);if(Lt===null){et===null&&(et=Fn);break}t&&et&&Lt.alternate===null&&s(te,et),$=T(Lt,$,lt),Je===null?Xe=Lt:Je.sibling=Lt,Je=Lt,et=Fn}if(lt===re.length)return f(te,et),nn&&Ds(te,lt),Xe;if(et===null){for(;lt<re.length;lt++)et=ve(te,re[lt],Se),et!==null&&($=T(et,$,lt),Je===null?Xe=et:Je.sibling=et,Je=et);return nn&&Ds(te,lt),Xe}for(et=g(te,et);lt<re.length;lt++)Fn=Be(et,te,lt,re[lt],Se),Fn!==null&&(t&&Fn.alternate!==null&&et.delete(Fn.key===null?lt:Fn.key),$=T(Fn,$,lt),Je===null?Xe=Fn:Je.sibling=Fn,Je=Fn);return t&&et.forEach(function(us){return s(te,us)}),nn&&Ds(te,lt),Xe}function He(te,$,re,Se){var Xe=ge(re);if(typeof Xe!="function")throw Error(a(150));if(re=Xe.call(re),re==null)throw Error(a(151));for(var Je=Xe=null,et=$,lt=$=0,Fn=null,Lt=re.next();et!==null&&!Lt.done;lt++,Lt=re.next()){et.index>lt?(Fn=et,et=null):Fn=et.sibling;var us=xe(te,et,Lt.value,Se);if(us===null){et===null&&(et=Fn);break}t&&et&&us.alternate===null&&s(te,et),$=T(us,$,lt),Je===null?Xe=us:Je.sibling=us,Je=us,et=Fn}if(Lt.done)return f(te,et),nn&&Ds(te,lt),Xe;if(et===null){for(;!Lt.done;lt++,Lt=re.next())Lt=ve(te,Lt.value,Se),Lt!==null&&($=T(Lt,$,lt),Je===null?Xe=Lt:Je.sibling=Lt,Je=Lt);return nn&&Ds(te,lt),Xe}for(et=g(te,et);!Lt.done;lt++,Lt=re.next())Lt=Be(et,te,lt,Lt.value,Se),Lt!==null&&(t&&Lt.alternate!==null&&et.delete(Lt.key===null?lt:Lt.key),$=T(Lt,$,lt),Je===null?Xe=Lt:Je.sibling=Lt,Je=Lt);return t&&et.forEach(function(Fx){return s(te,Fx)}),nn&&Ds(te,lt),Xe}function Cn(te,$,re,Se){if(typeof re=="object"&&re!==null&&re.type===X&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case oe:e:{for(var Xe=re.key,Je=$;Je!==null;){if(Je.key===Xe){if(Xe=re.type,Xe===X){if(Je.tag===7){f(te,Je.sibling),$=C(Je,re.props.children),$.return=te,te=$;break e}}else if(Je.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===Ve&&hh(Xe)===Je.type){f(te,Je.sibling),$=C(Je,re.props),$.ref=sa(te,Je,re),$.return=te,te=$;break e}f(te,Je);break}else s(te,Je);Je=Je.sibling}re.type===X?($=Ws(re.props.children,te.mode,Se,re.key),$.return=te,te=$):(Se=Hl(re.type,re.key,re.props,null,te.mode,Se),Se.ref=sa(te,$,re),Se.return=te,te=Se)}return O(te);case le:e:{for(Je=re.key;$!==null;){if($.key===Je)if($.tag===4&&$.stateNode.containerInfo===re.containerInfo&&$.stateNode.implementation===re.implementation){f(te,$.sibling),$=C($,re.children||[]),$.return=te,te=$;break e}else{f(te,$);break}else s(te,$);$=$.sibling}$=$u(re,te.mode,Se),$.return=te,te=$}return O(te);case Ve:return Je=re._init,Cn(te,$,Je(re._payload),Se)}if(Sn(re))return ze(te,$,re,Se);if(ge(re))return He(te,$,re,Se);vl(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,$!==null&&$.tag===6?(f(te,$.sibling),$=C($,re),$.return=te,te=$):(f(te,$),$=Zu(re,te.mode,Se),$.return=te,te=$),O(te)):f(te,$)}return Cn}var mo=ph(!0),gh=ph(!1),Cl=Ji(null),El=null,xo=null,su=null;function ou(){su=xo=El=null}function au(t){var s=Cl.current;en(Cl),t._currentValue=s}function lu(t,s,f){for(;t!==null;){var g=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),t===f)break;t=t.return}}function yo(t,s){El=t,su=xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(pr=!0),t.firstContext=null)}function Mr(t){var s=t._currentValue;if(su!==t)if(t={context:t,memoizedValue:s,next:null},xo===null){if(El===null)throw Error(a(308));xo=t,El.dependencies={lanes:0,firstContext:t}}else xo=xo.next=t;return s}var Ls=null;function cu(t){Ls===null?Ls=[t]:Ls.push(t)}function mh(t,s,f,g){var C=s.interleaved;return C===null?(f.next=f,cu(s)):(f.next=C.next,C.next=f),s.interleaved=f,Ri(t,g)}function Ri(t,s){t.lanes|=s;var f=t.alternate;for(f!==null&&(f.lanes|=s),f=t,t=t.return;t!==null;)t.childLanes|=s,f=t.alternate,f!==null&&(f.childLanes|=s),f=t,t=t.return;return f.tag===3?f.stateNode:null}var ns=!1;function uu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xh(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function rs(t,s,f){var g=t.updateQueue;if(g===null)return null;if(g=g.shared,Dt&2){var C=g.pending;return C===null?s.next=s:(s.next=C.next,C.next=s),g.pending=s,Ri(t,f)}return C=g.interleaved,C===null?(s.next=s,cu(g)):(s.next=C.next,C.next=s),g.interleaved=s,Ri(t,f)}function Al(t,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194240)!==0)){var g=s.lanes;g&=t.pendingLanes,f|=g,s.lanes=f,dn(t,f)}}function yh(t,s){var f=t.updateQueue,g=t.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var C=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var O={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};T===null?C=T=O:T=T.next=O,f=f.next}while(f!==null);T===null?C=T=s:T=T.next=s}else C=T=s;f={baseState:g.baseState,firstBaseUpdate:C,lastBaseUpdate:T,shared:g.shared,effects:g.effects},t.updateQueue=f;return}t=f.lastBaseUpdate,t===null?f.firstBaseUpdate=s:t.next=s,f.lastBaseUpdate=s}function bl(t,s,f,g){var C=t.updateQueue;ns=!1;var T=C.firstBaseUpdate,O=C.lastBaseUpdate,W=C.shared.pending;if(W!==null){C.shared.pending=null;var Y=W,ae=Y.next;Y.next=null,O===null?T=ae:O.next=ae,O=Y;var we=t.alternate;we!==null&&(we=we.updateQueue,W=we.lastBaseUpdate,W!==O&&(W===null?we.firstBaseUpdate=ae:W.next=ae,we.lastBaseUpdate=Y))}if(T!==null){var ve=C.baseState;O=0,we=ae=Y=null,W=T;do{var xe=W.lane,Be=W.eventTime;if((g&xe)===xe){we!==null&&(we=we.next={eventTime:Be,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var ze=t,He=W;switch(xe=s,Be=f,He.tag){case 1:if(ze=He.payload,typeof ze=="function"){ve=ze.call(Be,ve,xe);break e}ve=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=He.payload,xe=typeof ze=="function"?ze.call(Be,ve,xe):ze,xe==null)break e;ve=he({},ve,xe);break e;case 2:ns=!0}}W.callback!==null&&W.lane!==0&&(t.flags|=64,xe=C.effects,xe===null?C.effects=[W]:xe.push(W))}else Be={eventTime:Be,lane:xe,tag:W.tag,payload:W.payload,callback:W.callback,next:null},we===null?(ae=we=Be,Y=ve):we=we.next=Be,O|=xe;if(W=W.next,W===null){if(W=C.shared.pending,W===null)break;xe=W,W=xe.next,xe.next=null,C.lastBaseUpdate=xe,C.shared.pending=null}}while(!0);if(we===null&&(Y=ve),C.baseState=Y,C.firstBaseUpdate=ae,C.lastBaseUpdate=we,s=C.shared.interleaved,s!==null){C=s;do O|=C.lane,C=C.next;while(C!==s)}else T===null&&(C.shared.lanes=0);js|=O,t.lanes=O,t.memoizedState=ve}}function wh(t,s,f){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var g=t[s],C=g.callback;if(C!==null){if(g.callback=null,g=f,typeof C!="function")throw Error(a(191,C));C.call(g)}}}var oa={},li=Ji(oa),aa=Ji(oa),la=Ji(oa);function Bs(t){if(t===oa)throw Error(a(174));return t}function fu(t,s){switch(qt(la,s),qt(aa,t),qt(li,oa),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Wt(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Wt(s,t)}en(li),qt(li,s)}function wo(){en(li),en(aa),en(la)}function vh(t){Bs(la.current);var s=Bs(li.current),f=Wt(s,t.type);s!==f&&(qt(aa,t),qt(li,f))}function du(t){aa.current===t&&(en(li),en(aa))}var an=Ji(0);function Sl(t){for(var s=t;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var hu=[];function pu(){for(var t=0;t<hu.length;t++)hu[t]._workInProgressVersionPrimary=null;hu.length=0}var Tl=ne.ReactCurrentDispatcher,gu=ne.ReactCurrentBatchConfig,Fs=0,ln=null,Pn=null,Ln=null,Il=!1,ca=!1,ua=0,ox=0;function Qn(){throw Error(a(321))}function mu(t,s){if(s===null)return!1;for(var f=0;f<s.length&&f<t.length;f++)if(!q(t[f],s[f]))return!1;return!0}function xu(t,s,f,g,C,T){if(Fs=T,ln=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Tl.current=t===null||t.memoizedState===null?ux:fx,t=f(g,C),ca){T=0;do{if(ca=!1,ua=0,25<=T)throw Error(a(301));T+=1,Ln=Pn=null,s.updateQueue=null,Tl.current=dx,t=f(g,C)}while(ca)}if(Tl.current=_l,s=Pn!==null&&Pn.next!==null,Fs=0,Ln=Pn=ln=null,Il=!1,s)throw Error(a(300));return t}function yu(){var t=ua!==0;return ua=0,t}function ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?ln.memoizedState=Ln=t:Ln=Ln.next=t,Ln}function Dr(){if(Pn===null){var t=ln.alternate;t=t!==null?t.memoizedState:null}else t=Pn.next;var s=Ln===null?ln.memoizedState:Ln.next;if(s!==null)Ln=s,Pn=t;else{if(t===null)throw Error(a(310));Pn=t,t={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Ln===null?ln.memoizedState=Ln=t:Ln=Ln.next=t}return Ln}function fa(t,s){return typeof s=="function"?s(t):s}function wu(t){var s=Dr(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=t;var g=Pn,C=g.baseQueue,T=f.pending;if(T!==null){if(C!==null){var O=C.next;C.next=T.next,T.next=O}g.baseQueue=C=T,f.pending=null}if(C!==null){T=C.next,g=g.baseState;var W=O=null,Y=null,ae=T;do{var we=ae.lane;if((Fs&we)===we)Y!==null&&(Y=Y.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),g=ae.hasEagerState?ae.eagerState:t(g,ae.action);else{var ve={lane:we,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};Y===null?(W=Y=ve,O=g):Y=Y.next=ve,ln.lanes|=we,js|=we}ae=ae.next}while(ae!==null&&ae!==T);Y===null?O=g:Y.next=W,q(g,s.memoizedState)||(pr=!0),s.memoizedState=g,s.baseState=O,s.baseQueue=Y,f.lastRenderedState=g}if(t=f.interleaved,t!==null){C=t;do T=C.lane,ln.lanes|=T,js|=T,C=C.next;while(C!==t)}else C===null&&(f.lanes=0);return[s.memoizedState,f.dispatch]}function vu(t){var s=Dr(),f=s.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=t;var g=f.dispatch,C=f.pending,T=s.memoizedState;if(C!==null){f.pending=null;var O=C=C.next;do T=t(T,O.action),O=O.next;while(O!==C);q(T,s.memoizedState)||(pr=!0),s.memoizedState=T,s.baseQueue===null&&(s.baseState=T),f.lastRenderedState=T}return[T,g]}function Ch(){}function Eh(t,s){var f=ln,g=Dr(),C=s(),T=!q(g.memoizedState,C);if(T&&(g.memoizedState=C,pr=!0),g=g.queue,Cu(Sh.bind(null,f,g,t),[t]),g.getSnapshot!==s||T||Ln!==null&&Ln.memoizedState.tag&1){if(f.flags|=2048,da(9,bh.bind(null,f,g,C,s),void 0,null),Bn===null)throw Error(a(349));Fs&30||Ah(f,s,C)}return C}function Ah(t,s,f){t.flags|=16384,t={getSnapshot:s,value:f},s=ln.updateQueue,s===null?(s={lastEffect:null,stores:null},ln.updateQueue=s,s.stores=[t]):(f=s.stores,f===null?s.stores=[t]:f.push(t))}function bh(t,s,f,g){s.value=f,s.getSnapshot=g,Th(s)&&Ih(t)}function Sh(t,s,f){return f(function(){Th(s)&&Ih(t)})}function Th(t){var s=t.getSnapshot;t=t.value;try{var f=s();return!q(t,f)}catch{return!0}}function Ih(t){var s=Ri(t,1);s!==null&&qr(s,t,1,-1)}function Nh(t){var s=ci();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:t},s.queue=t,t=t.dispatch=cx.bind(null,ln,t),[s.memoizedState,t]}function da(t,s,f,g){return t={tag:t,create:s,destroy:f,deps:g,next:null},s=ln.updateQueue,s===null?(s={lastEffect:null,stores:null},ln.updateQueue=s,s.lastEffect=t.next=t):(f=s.lastEffect,f===null?s.lastEffect=t.next=t:(g=f.next,f.next=t,t.next=g,s.lastEffect=t)),t}function Rh(){return Dr().memoizedState}function Nl(t,s,f,g){var C=ci();ln.flags|=t,C.memoizedState=da(1|s,f,void 0,g===void 0?null:g)}function Rl(t,s,f,g){var C=Dr();g=g===void 0?null:g;var T=void 0;if(Pn!==null){var O=Pn.memoizedState;if(T=O.destroy,g!==null&&mu(g,O.deps)){C.memoizedState=da(s,f,T,g);return}}ln.flags|=t,C.memoizedState=da(1|s,f,T,g)}function _h(t,s){return Nl(8390656,8,t,s)}function Cu(t,s){return Rl(2048,8,t,s)}function kh(t,s){return Rl(4,2,t,s)}function Ph(t,s){return Rl(4,4,t,s)}function Oh(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Mh(t,s,f){return f=f!=null?f.concat([t]):null,Rl(4,4,Oh.bind(null,s,t),f)}function Eu(){}function Dh(t,s){var f=Dr();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&mu(s,g[1])?g[0]:(f.memoizedState=[t,s],t)}function Lh(t,s){var f=Dr();s=s===void 0?null:s;var g=f.memoizedState;return g!==null&&s!==null&&mu(s,g[1])?g[0]:(t=t(),f.memoizedState=[t,s],t)}function Bh(t,s,f){return Fs&21?(q(f,s)||(f=Nn(),ln.lanes|=f,js|=f,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,pr=!0),t.memoizedState=f)}function ax(t,s){var f=wt;wt=f!==0&&4>f?f:4,t(!0);var g=gu.transition;gu.transition={};try{t(!1),s()}finally{wt=f,gu.transition=g}}function Fh(){return Dr().memoizedState}function lx(t,s,f){var g=as(t);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},jh(t))Vh(s,f);else if(f=mh(t,s,f,g),f!==null){var C=lr();qr(f,t,g,C),zh(f,s,g)}}function cx(t,s,f){var g=as(t),C={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(jh(t))Vh(s,C);else{var T=t.alternate;if(t.lanes===0&&(T===null||T.lanes===0)&&(T=s.lastRenderedReducer,T!==null))try{var O=s.lastRenderedState,W=T(O,f);if(C.hasEagerState=!0,C.eagerState=W,q(W,O)){var Y=s.interleaved;Y===null?(C.next=C,cu(s)):(C.next=Y.next,Y.next=C),s.interleaved=C;return}}catch{}finally{}f=mh(t,s,C,g),f!==null&&(C=lr(),qr(f,t,g,C),zh(f,s,g))}}function jh(t){var s=t.alternate;return t===ln||s!==null&&s===ln}function Vh(t,s){ca=Il=!0;var f=t.pending;f===null?s.next=s:(s.next=f.next,f.next=s),t.pending=s}function zh(t,s,f){if(f&4194240){var g=s.lanes;g&=t.pendingLanes,f|=g,s.lanes=f,dn(t,f)}}var _l={readContext:Mr,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useInsertionEffect:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useMutableSource:Qn,useSyncExternalStore:Qn,useId:Qn,unstable_isNewReconciler:!1},ux={readContext:Mr,useCallback:function(t,s){return ci().memoizedState=[t,s===void 0?null:s],t},useContext:Mr,useEffect:_h,useImperativeHandle:function(t,s,f){return f=f!=null?f.concat([t]):null,Nl(4194308,4,Oh.bind(null,s,t),f)},useLayoutEffect:function(t,s){return Nl(4194308,4,t,s)},useInsertionEffect:function(t,s){return Nl(4,2,t,s)},useMemo:function(t,s){var f=ci();return s=s===void 0?null:s,t=t(),f.memoizedState=[t,s],t},useReducer:function(t,s,f){var g=ci();return s=f!==void 0?f(s):s,g.memoizedState=g.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},g.queue=t,t=t.dispatch=lx.bind(null,ln,t),[g.memoizedState,t]},useRef:function(t){var s=ci();return t={current:t},s.memoizedState=t},useState:Nh,useDebugValue:Eu,useDeferredValue:function(t){return ci().memoizedState=t},useTransition:function(){var t=Nh(!1),s=t[0];return t=ax.bind(null,t[1]),ci().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,f){var g=ln,C=ci();if(nn){if(f===void 0)throw Error(a(407));f=f()}else{if(f=s(),Bn===null)throw Error(a(349));Fs&30||Ah(g,s,f)}C.memoizedState=f;var T={value:f,getSnapshot:s};return C.queue=T,_h(Sh.bind(null,g,T,t),[t]),g.flags|=2048,da(9,bh.bind(null,g,T,f,s),void 0,null),f},useId:function(){var t=ci(),s=Bn.identifierPrefix;if(nn){var f=Ni,g=Ii;f=(g&~(1<<32-or(g)-1)).toString(32)+f,s=":"+s+"R"+f,f=ua++,0<f&&(s+="H"+f.toString(32)),s+=":"}else f=ox++,s=":"+s+"r"+f.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},fx={readContext:Mr,useCallback:Dh,useContext:Mr,useEffect:Cu,useImperativeHandle:Mh,useInsertionEffect:kh,useLayoutEffect:Ph,useMemo:Lh,useReducer:wu,useRef:Rh,useState:function(){return wu(fa)},useDebugValue:Eu,useDeferredValue:function(t){var s=Dr();return Bh(s,Pn.memoizedState,t)},useTransition:function(){var t=wu(fa)[0],s=Dr().memoizedState;return[t,s]},useMutableSource:Ch,useSyncExternalStore:Eh,useId:Fh,unstable_isNewReconciler:!1},dx={readContext:Mr,useCallback:Dh,useContext:Mr,useEffect:Cu,useImperativeHandle:Mh,useInsertionEffect:kh,useLayoutEffect:Ph,useMemo:Lh,useReducer:vu,useRef:Rh,useState:function(){return vu(fa)},useDebugValue:Eu,useDeferredValue:function(t){var s=Dr();return Pn===null?s.memoizedState=t:Bh(s,Pn.memoizedState,t)},useTransition:function(){var t=vu(fa)[0],s=Dr().memoizedState;return[t,s]},useMutableSource:Ch,useSyncExternalStore:Eh,useId:Fh,unstable_isNewReconciler:!1};function Kr(t,s){if(t&&t.defaultProps){s=he({},s),t=t.defaultProps;for(var f in t)s[f]===void 0&&(s[f]=t[f]);return s}return s}function Au(t,s,f,g){s=t.memoizedState,f=f(g,s),f=f==null?s:he({},s,f),t.memoizedState=f,t.lanes===0&&(t.updateQueue.baseState=f)}var kl={isMounted:function(t){return(t=t._reactInternals)?Kn(t)===t:!1},enqueueSetState:function(t,s,f){t=t._reactInternals;var g=lr(),C=as(t),T=_i(g,C);T.payload=s,f!=null&&(T.callback=f),s=rs(t,T,C),s!==null&&(qr(s,t,C,g),Al(s,t,C))},enqueueReplaceState:function(t,s,f){t=t._reactInternals;var g=lr(),C=as(t),T=_i(g,C);T.tag=1,T.payload=s,f!=null&&(T.callback=f),s=rs(t,T,C),s!==null&&(qr(s,t,C,g),Al(s,t,C))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var f=lr(),g=as(t),C=_i(f,g);C.tag=2,s!=null&&(C.callback=s),s=rs(t,C,g),s!==null&&(qr(s,t,g,f),Al(s,t,g))}};function Uh(t,s,f,g,C,T,O){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(g,T,O):s.prototype&&s.prototype.isPureReactComponent?!ie(f,g)||!ie(C,T):!0}function Wh(t,s,f){var g=!1,C=es,T=s.contextType;return typeof T=="object"&&T!==null?T=Mr(T):(C=hr(s)?Os:qn.current,g=s.contextTypes,T=(g=g!=null)?fo(t,C):es),s=new s(f,T),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=kl,t.stateNode=s,s._reactInternals=t,g&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=C,t.__reactInternalMemoizedMaskedChildContext=T),s}function Hh(t,s,f,g){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,g),s.state!==t&&kl.enqueueReplaceState(s,s.state,null)}function bu(t,s,f,g){var C=t.stateNode;C.props=f,C.state=t.memoizedState,C.refs={},uu(t);var T=s.contextType;typeof T=="object"&&T!==null?C.context=Mr(T):(T=hr(s)?Os:qn.current,C.context=fo(t,T)),C.state=t.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Au(t,s,T,f),C.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(s=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),s!==C.state&&kl.enqueueReplaceState(C,C.state,null),bl(t,f,C,g),C.state=t.memoizedState),typeof C.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,s){try{var f="",g=s;do f+=at(g),g=g.return;while(g);var C=f}catch(T){C=`
Error generating stack: `+T.message+`
`+T.stack}return{value:t,source:s,stack:C,digest:null}}function Su(t,s,f){return{value:t,source:null,stack:f??null,digest:s??null}}function Tu(t,s){try{console.error(s.value)}catch(f){setTimeout(function(){throw f})}}var hx=typeof WeakMap=="function"?WeakMap:Map;function Gh(t,s,f){f=_i(-1,f),f.tag=3,f.payload={element:null};var g=s.value;return f.callback=function(){Fl||(Fl=!0,zu=g),Tu(t,s)},f}function Xh(t,s,f){f=_i(-1,f),f.tag=3;var g=t.type.getDerivedStateFromError;if(typeof g=="function"){var C=s.value;f.payload=function(){return g(C)},f.callback=function(){Tu(t,s)}}var T=t.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(f.callback=function(){Tu(t,s),typeof g!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var O=s.stack;this.componentDidCatch(s.value,{componentStack:O!==null?O:""})}),f}function Yh(t,s,f){var g=t.pingCache;if(g===null){g=t.pingCache=new hx;var C=new Set;g.set(s,C)}else C=g.get(s),C===void 0&&(C=new Set,g.set(s,C));C.has(f)||(C.add(f),t=Ix.bind(null,t,s,f),s.then(t,t))}function Kh(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Zh(t,s,f,g,C){return t.mode&1?(t.flags|=65536,t.lanes=C,t):(t===s?t.flags|=65536:(t.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(s=_i(-1,1),s.tag=2,rs(f,s,1))),f.lanes|=1),t)}var px=ne.ReactCurrentOwner,pr=!1;function ar(t,s,f,g){s.child=t===null?gh(s,null,f,g):mo(s,t.child,f,g)}function $h(t,s,f,g,C){f=f.render;var T=s.ref;return yo(s,C),g=xu(t,s,f,g,T,C),f=yu(),t!==null&&!pr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~C,ki(t,s,C)):(nn&&f&&eu(s),s.flags|=1,ar(t,s,g,C),s.child)}function qh(t,s,f,g,C){if(t===null){var T=f.type;return typeof T=="function"&&!Ku(T)&&T.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(s.tag=15,s.type=T,Qh(t,s,T,g,C)):(t=Hl(f.type,null,g,s,s.mode,C),t.ref=s.ref,t.return=s,s.child=t)}if(T=t.child,!(t.lanes&C)){var O=T.memoizedProps;if(f=f.compare,f=f!==null?f:ie,f(O,g)&&t.ref===s.ref)return ki(t,s,C)}return s.flags|=1,t=cs(T,g),t.ref=s.ref,t.return=s,s.child=t}function Qh(t,s,f,g,C){if(t!==null){var T=t.memoizedProps;if(ie(T,g)&&t.ref===s.ref)if(pr=!1,s.pendingProps=g=T,(t.lanes&C)!==0)t.flags&131072&&(pr=!0);else return s.lanes=t.lanes,ki(t,s,C)}return Iu(t,s,f,g,C)}function Jh(t,s,f){var g=s.pendingProps,C=g.children,T=t!==null?t.memoizedState:null;if(g.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Eo,Sr),Sr|=f;else{if(!(f&1073741824))return t=T!==null?T.baseLanes|f:f,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,qt(Eo,Sr),Sr|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:f,qt(Eo,Sr),Sr|=g}else T!==null?(g=T.baseLanes|f,s.memoizedState=null):g=f,qt(Eo,Sr),Sr|=g;return ar(t,s,C,f),s.child}function e0(t,s){var f=s.ref;(t===null&&f!==null||t!==null&&t.ref!==f)&&(s.flags|=512,s.flags|=2097152)}function Iu(t,s,f,g,C){var T=hr(f)?Os:qn.current;return T=fo(s,T),yo(s,C),f=xu(t,s,f,g,T,C),g=yu(),t!==null&&!pr?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~C,ki(t,s,C)):(nn&&g&&eu(s),s.flags|=1,ar(t,s,f,C),s.child)}function t0(t,s,f,g,C){if(hr(f)){var T=!0;gl(s)}else T=!1;if(yo(s,C),s.stateNode===null)Ol(t,s),Wh(s,f,g),bu(s,f,g,C),g=!0;else if(t===null){var O=s.stateNode,W=s.memoizedProps;O.props=W;var Y=O.context,ae=f.contextType;typeof ae=="object"&&ae!==null?ae=Mr(ae):(ae=hr(f)?Os:qn.current,ae=fo(s,ae));var we=f.getDerivedStateFromProps,ve=typeof we=="function"||typeof O.getSnapshotBeforeUpdate=="function";ve||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==g||Y!==ae)&&Hh(s,O,g,ae),ns=!1;var xe=s.memoizedState;O.state=xe,bl(s,g,O,C),Y=s.memoizedState,W!==g||xe!==Y||dr.current||ns?(typeof we=="function"&&(Au(s,f,we,g),Y=s.memoizedState),(W=ns||Uh(s,f,W,g,xe,Y,ae))?(ve||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(s.flags|=4194308)):(typeof O.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=Y),O.props=g,O.state=Y,O.context=ae,g=W):(typeof O.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{O=s.stateNode,xh(t,s),W=s.memoizedProps,ae=s.type===s.elementType?W:Kr(s.type,W),O.props=ae,ve=s.pendingProps,xe=O.context,Y=f.contextType,typeof Y=="object"&&Y!==null?Y=Mr(Y):(Y=hr(f)?Os:qn.current,Y=fo(s,Y));var Be=f.getDerivedStateFromProps;(we=typeof Be=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(W!==ve||xe!==Y)&&Hh(s,O,g,Y),ns=!1,xe=s.memoizedState,O.state=xe,bl(s,g,O,C);var ze=s.memoizedState;W!==ve||xe!==ze||dr.current||ns?(typeof Be=="function"&&(Au(s,f,Be,g),ze=s.memoizedState),(ae=ns||Uh(s,f,ae,g,xe,ze,Y)||!1)?(we||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,ze,Y),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,ze,Y)),typeof O.componentDidUpdate=="function"&&(s.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof O.componentDidUpdate!="function"||W===t.memoizedProps&&xe===t.memoizedState||(s.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===t.memoizedProps&&xe===t.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=ze),O.props=g,O.state=ze,O.context=Y,g=ae):(typeof O.componentDidUpdate!="function"||W===t.memoizedProps&&xe===t.memoizedState||(s.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||W===t.memoizedProps&&xe===t.memoizedState||(s.flags|=1024),g=!1)}return Nu(t,s,f,g,T,C)}function Nu(t,s,f,g,C,T){e0(t,s);var O=(s.flags&128)!==0;if(!g&&!O)return C&&oh(s,f,!1),ki(t,s,T);g=s.stateNode,px.current=s;var W=O&&typeof f.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,t!==null&&O?(s.child=mo(s,t.child,null,T),s.child=mo(s,null,W,T)):ar(t,s,W,T),s.memoizedState=g.state,C&&oh(s,f,!0),s.child}function n0(t){var s=t.stateNode;s.pendingContext?ih(t,s.pendingContext,s.pendingContext!==s.context):s.context&&ih(t,s.context,!1),fu(t,s.containerInfo)}function r0(t,s,f,g,C){return go(),iu(C),s.flags|=256,ar(t,s,f,g),s.child}var Ru={dehydrated:null,treeContext:null,retryLane:0};function _u(t){return{baseLanes:t,cachePool:null,transitions:null}}function i0(t,s,f){var g=s.pendingProps,C=an.current,T=!1,O=(s.flags&128)!==0,W;if((W=O)||(W=t!==null&&t.memoizedState===null?!1:(C&2)!==0),W?(T=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(C|=1),qt(an,C&1),t===null)return ru(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(O=g.children,t=g.fallback,T?(g=s.mode,T=s.child,O={mode:"hidden",children:O},!(g&1)&&T!==null?(T.childLanes=0,T.pendingProps=O):T=Gl(O,g,0,null),t=Ws(t,g,f,null),T.return=s,t.return=s,T.sibling=t,s.child=T,s.child.memoizedState=_u(f),s.memoizedState=Ru,t):ku(s,O));if(C=t.memoizedState,C!==null&&(W=C.dehydrated,W!==null))return gx(t,s,O,g,W,C,f);if(T){T=g.fallback,O=s.mode,C=t.child,W=C.sibling;var Y={mode:"hidden",children:g.children};return!(O&1)&&s.child!==C?(g=s.child,g.childLanes=0,g.pendingProps=Y,s.deletions=null):(g=cs(C,Y),g.subtreeFlags=C.subtreeFlags&14680064),W!==null?T=cs(W,T):(T=Ws(T,O,f,null),T.flags|=2),T.return=s,g.return=s,g.sibling=T,s.child=g,g=T,T=s.child,O=t.child.memoizedState,O=O===null?_u(f):{baseLanes:O.baseLanes|f,cachePool:null,transitions:O.transitions},T.memoizedState=O,T.childLanes=t.childLanes&~f,s.memoizedState=Ru,g}return T=t.child,t=T.sibling,g=cs(T,{mode:"visible",children:g.children}),!(s.mode&1)&&(g.lanes=f),g.return=s,g.sibling=null,t!==null&&(f=s.deletions,f===null?(s.deletions=[t],s.flags|=16):f.push(t)),s.child=g,s.memoizedState=null,g}function ku(t,s){return s=Gl({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Pl(t,s,f,g){return g!==null&&iu(g),mo(s,t.child,null,f),t=ku(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function gx(t,s,f,g,C,T,O){if(f)return s.flags&256?(s.flags&=-257,g=Su(Error(a(422))),Pl(t,s,O,g)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(T=g.fallback,C=s.mode,g=Gl({mode:"visible",children:g.children},C,0,null),T=Ws(T,C,O,null),T.flags|=2,g.return=s,T.return=s,g.sibling=T,s.child=g,s.mode&1&&mo(s,t.child,null,O),s.child.memoizedState=_u(O),s.memoizedState=Ru,T);if(!(s.mode&1))return Pl(t,s,O,null);if(C.data==="$!"){if(g=C.nextSibling&&C.nextSibling.dataset,g)var W=g.dgst;return g=W,T=Error(a(419)),g=Su(T,g,void 0),Pl(t,s,O,g)}if(W=(O&t.childLanes)!==0,pr||W){if(g=Bn,g!==null){switch(O&-O){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(g.suspendedLanes|O)?0:C,C!==0&&C!==T.retryLane&&(T.retryLane=C,Ri(t,C),qr(g,t,C,-1))}return Yu(),g=Su(Error(a(421))),Pl(t,s,O,g)}return C.data==="$?"?(s.flags|=128,s.child=t.child,s=Nx.bind(null,t),C._reactRetry=s,null):(t=T.treeContext,br=Qi(C.nextSibling),Ar=s,nn=!0,Yr=null,t!==null&&(Pr[Or++]=Ii,Pr[Or++]=Ni,Pr[Or++]=Ms,Ii=t.id,Ni=t.overflow,Ms=s),s=ku(s,g.children),s.flags|=4096,s)}function s0(t,s,f){t.lanes|=s;var g=t.alternate;g!==null&&(g.lanes|=s),lu(t.return,s,f)}function Pu(t,s,f,g,C){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:C}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=f,T.tailMode=C)}function o0(t,s,f){var g=s.pendingProps,C=g.revealOrder,T=g.tail;if(ar(t,s,g.children,f),g=an.current,g&2)g=g&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s0(t,f,s);else if(t.tag===19)s0(t,f,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}g&=1}if(qt(an,g),!(s.mode&1))s.memoizedState=null;else switch(C){case"forwards":for(f=s.child,C=null;f!==null;)t=f.alternate,t!==null&&Sl(t)===null&&(C=f),f=f.sibling;f=C,f===null?(C=s.child,s.child=null):(C=f.sibling,f.sibling=null),Pu(s,!1,C,f,T);break;case"backwards":for(f=null,C=s.child,s.child=null;C!==null;){if(t=C.alternate,t!==null&&Sl(t)===null){s.child=C;break}t=C.sibling,C.sibling=f,f=C,C=t}Pu(s,!0,f,null,T);break;case"together":Pu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ol(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function ki(t,s,f){if(t!==null&&(s.dependencies=t.dependencies),js|=s.lanes,!(f&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(a(153));if(s.child!==null){for(t=s.child,f=cs(t,t.pendingProps),s.child=f,f.return=s;t.sibling!==null;)t=t.sibling,f=f.sibling=cs(t,t.pendingProps),f.return=s;f.sibling=null}return s.child}function mx(t,s,f){switch(s.tag){case 3:n0(s),go();break;case 5:vh(s);break;case 1:hr(s.type)&&gl(s);break;case 4:fu(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,C=s.memoizedProps.value;qt(Cl,g._currentValue),g._currentValue=C;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(qt(an,an.current&1),s.flags|=128,null):f&s.child.childLanes?i0(t,s,f):(qt(an,an.current&1),t=ki(t,s,f),t!==null?t.sibling:null);qt(an,an.current&1);break;case 19:if(g=(f&s.childLanes)!==0,t.flags&128){if(g)return o0(t,s,f);s.flags|=128}if(C=s.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),qt(an,an.current),g)break;return null;case 22:case 23:return s.lanes=0,Jh(t,s,f)}return ki(t,s,f)}var a0,Ou,l0,c0;a0=function(t,s){for(var f=s.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Ou=function(){},l0=function(t,s,f,g){var C=t.memoizedProps;if(C!==g){t=s.stateNode,Bs(li.current);var T=null;switch(f){case"input":C=At(t,C),g=At(t,g),T=[];break;case"select":C=he({},C,{value:void 0}),g=he({},g,{value:void 0}),T=[];break;case"textarea":C=rt(t,C),g=rt(t,g),T=[];break;default:typeof C.onClick!="function"&&typeof g.onClick=="function"&&(t.onclick=dl)}Tt(f,g);var O;f=null;for(ae in C)if(!g.hasOwnProperty(ae)&&C.hasOwnProperty(ae)&&C[ae]!=null)if(ae==="style"){var W=C[ae];for(O in W)W.hasOwnProperty(O)&&(f||(f={}),f[O]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(p.hasOwnProperty(ae)?T||(T=[]):(T=T||[]).push(ae,null));for(ae in g){var Y=g[ae];if(W=C!=null?C[ae]:void 0,g.hasOwnProperty(ae)&&Y!==W&&(Y!=null||W!=null))if(ae==="style")if(W){for(O in W)!W.hasOwnProperty(O)||Y&&Y.hasOwnProperty(O)||(f||(f={}),f[O]="");for(O in Y)Y.hasOwnProperty(O)&&W[O]!==Y[O]&&(f||(f={}),f[O]=Y[O])}else f||(T||(T=[]),T.push(ae,f)),f=Y;else ae==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(T=T||[]).push(ae,Y)):ae==="children"?typeof Y!="string"&&typeof Y!="number"||(T=T||[]).push(ae,""+Y):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(p.hasOwnProperty(ae)?(Y!=null&&ae==="onScroll"&&Jt("scroll",t),T||W===Y||(T=[])):(T=T||[]).push(ae,Y))}f&&(T=T||[]).push("style",f);var ae=T;(s.updateQueue=ae)&&(s.flags|=4)}},c0=function(t,s,f,g){f!==g&&(s.flags|=4)};function ha(t,s){if(!nn)switch(t.tailMode){case"hidden":s=t.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?t.tail=null:f.sibling=null;break;case"collapsed":f=t.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:g.sibling=null}}function Jn(t){var s=t.alternate!==null&&t.alternate.child===t.child,f=0,g=0;if(s)for(var C=t.child;C!==null;)f|=C.lanes|C.childLanes,g|=C.subtreeFlags&14680064,g|=C.flags&14680064,C.return=t,C=C.sibling;else for(C=t.child;C!==null;)f|=C.lanes|C.childLanes,g|=C.subtreeFlags,g|=C.flags,C.return=t,C=C.sibling;return t.subtreeFlags|=g,t.childLanes=f,s}function xx(t,s,f){var g=s.pendingProps;switch(tu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jn(s),null;case 1:return hr(s.type)&&pl(),Jn(s),null;case 3:return g=s.stateNode,wo(),en(dr),en(qn),pu(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(t===null||t.child===null)&&(wl(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Yr!==null&&(Hu(Yr),Yr=null))),Ou(t,s),Jn(s),null;case 5:du(s);var C=Bs(la.current);if(f=s.type,t!==null&&s.stateNode!=null)l0(t,s,f,g,C),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(a(166));return Jn(s),null}if(t=Bs(li.current),wl(s)){g=s.stateNode,f=s.type;var T=s.memoizedProps;switch(g[ai]=s,g[ra]=T,t=(s.mode&1)!==0,f){case"dialog":Jt("cancel",g),Jt("close",g);break;case"iframe":case"object":case"embed":Jt("load",g);break;case"video":case"audio":for(C=0;C<ea.length;C++)Jt(ea[C],g);break;case"source":Jt("error",g);break;case"img":case"image":case"link":Jt("error",g),Jt("load",g);break;case"details":Jt("toggle",g);break;case"input":Ft(g,T),Jt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Jt("invalid",g);break;case"textarea":De(g,T),Jt("invalid",g)}Tt(f,T),C=null;for(var O in T)if(T.hasOwnProperty(O)){var W=T[O];O==="children"?typeof W=="string"?g.textContent!==W&&(T.suppressHydrationWarning!==!0&&fl(g.textContent,W,t),C=["children",W]):typeof W=="number"&&g.textContent!==""+W&&(T.suppressHydrationWarning!==!0&&fl(g.textContent,W,t),C=["children",""+W]):p.hasOwnProperty(O)&&W!=null&&O==="onScroll"&&Jt("scroll",g)}switch(f){case"input":gt(g),St(g,T,!0);break;case"textarea":gt(g),qe(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=dl)}g=C,s.updateQueue=g,g!==null&&(s.flags|=4)}else{O=C.nodeType===9?C:C.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=it(f)),t==="http://www.w3.org/1999/xhtml"?f==="script"?(t=O.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof g.is=="string"?t=O.createElement(f,{is:g.is}):(t=O.createElement(f),f==="select"&&(O=t,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):t=O.createElementNS(t,f),t[ai]=s,t[ra]=g,a0(t,s,!1,!1),s.stateNode=t;e:{switch(O=Yt(f,g),f){case"dialog":Jt("cancel",t),Jt("close",t),C=g;break;case"iframe":case"object":case"embed":Jt("load",t),C=g;break;case"video":case"audio":for(C=0;C<ea.length;C++)Jt(ea[C],t);C=g;break;case"source":Jt("error",t),C=g;break;case"img":case"image":case"link":Jt("error",t),Jt("load",t),C=g;break;case"details":Jt("toggle",t),C=g;break;case"input":Ft(t,g),C=At(t,g),Jt("invalid",t);break;case"option":C=g;break;case"select":t._wrapperState={wasMultiple:!!g.multiple},C=he({},g,{value:void 0}),Jt("invalid",t);break;case"textarea":De(t,g),C=rt(t,g),Jt("invalid",t);break;default:C=g}Tt(f,C),W=C;for(T in W)if(W.hasOwnProperty(T)){var Y=W[T];T==="style"?be(t,Y):T==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&ct(t,Y)):T==="children"?typeof Y=="string"?(f!=="textarea"||Y!=="")&&jt(t,Y):typeof Y=="number"&&jt(t,""+Y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(p.hasOwnProperty(T)?Y!=null&&T==="onScroll"&&Jt("scroll",t):Y!=null&&U(t,T,Y,O))}switch(f){case"input":gt(t),St(t,g,!1);break;case"textarea":gt(t),qe(t);break;case"option":g.value!=null&&t.setAttribute("value",""+Fe(g.value));break;case"select":t.multiple=!!g.multiple,T=g.value,T!=null?Ie(t,!!g.multiple,T,!1):g.defaultValue!=null&&Ie(t,!!g.multiple,g.defaultValue,!0);break;default:typeof C.onClick=="function"&&(t.onclick=dl)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Jn(s),null;case 6:if(t&&s.stateNode!=null)c0(t,s,t.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(a(166));if(f=Bs(la.current),Bs(li.current),wl(s)){if(g=s.stateNode,f=s.memoizedProps,g[ai]=s,(T=g.nodeValue!==f)&&(t=Ar,t!==null))switch(t.tag){case 3:fl(g.nodeValue,f,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fl(g.nodeValue,f,(t.mode&1)!==0)}T&&(s.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[ai]=s,s.stateNode=g}return Jn(s),null;case 13:if(en(an),g=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nn&&br!==null&&s.mode&1&&!(s.flags&128))dh(),go(),s.flags|=98560,T=!1;else if(T=wl(s),g!==null&&g.dehydrated!==null){if(t===null){if(!T)throw Error(a(318));if(T=s.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(a(317));T[ai]=s}else go(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Jn(s),T=!1}else Yr!==null&&(Hu(Yr),Yr=null),T=!0;if(!T)return s.flags&65536?s:null}return s.flags&128?(s.lanes=f,s):(g=g!==null,g!==(t!==null&&t.memoizedState!==null)&&g&&(s.child.flags|=8192,s.mode&1&&(t===null||an.current&1?On===0&&(On=3):Yu())),s.updateQueue!==null&&(s.flags|=4),Jn(s),null);case 4:return wo(),Ou(t,s),t===null&&ta(s.stateNode.containerInfo),Jn(s),null;case 10:return au(s.type._context),Jn(s),null;case 17:return hr(s.type)&&pl(),Jn(s),null;case 19:if(en(an),T=s.memoizedState,T===null)return Jn(s),null;if(g=(s.flags&128)!==0,O=T.rendering,O===null)if(g)ha(T,!1);else{if(On!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(O=Sl(t),O!==null){for(s.flags|=128,ha(T,!1),g=O.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=f,f=s.child;f!==null;)T=f,t=g,T.flags&=14680066,O=T.alternate,O===null?(T.childLanes=0,T.lanes=t,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=O.childLanes,T.lanes=O.lanes,T.child=O.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=O.memoizedProps,T.memoizedState=O.memoizedState,T.updateQueue=O.updateQueue,T.type=O.type,t=O.dependencies,T.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),f=f.sibling;return qt(an,an.current&1|2),s.child}t=t.sibling}T.tail!==null&&ut()>Ao&&(s.flags|=128,g=!0,ha(T,!1),s.lanes=4194304)}else{if(!g)if(t=Sl(O),t!==null){if(s.flags|=128,g=!0,f=t.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),ha(T,!0),T.tail===null&&T.tailMode==="hidden"&&!O.alternate&&!nn)return Jn(s),null}else 2*ut()-T.renderingStartTime>Ao&&f!==1073741824&&(s.flags|=128,g=!0,ha(T,!1),s.lanes=4194304);T.isBackwards?(O.sibling=s.child,s.child=O):(f=T.last,f!==null?f.sibling=O:s.child=O,T.last=O)}return T.tail!==null?(s=T.tail,T.rendering=s,T.tail=s.sibling,T.renderingStartTime=ut(),s.sibling=null,f=an.current,qt(an,g?f&1|2:f&1),s):(Jn(s),null);case 22:case 23:return Xu(),g=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==g&&(s.flags|=8192),g&&s.mode&1?Sr&1073741824&&(Jn(s),s.subtreeFlags&6&&(s.flags|=8192)):Jn(s),null;case 24:return null;case 25:return null}throw Error(a(156,s.tag))}function yx(t,s){switch(tu(s),s.tag){case 1:return hr(s.type)&&pl(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return wo(),en(dr),en(qn),pu(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return du(s),null;case 13:if(en(an),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(a(340));go()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return en(an),null;case 4:return wo(),null;case 10:return au(s.type._context),null;case 22:case 23:return Xu(),null;case 24:return null;default:return null}}var Ml=!1,er=!1,wx=typeof WeakSet=="function"?WeakSet:Set,je=null;function Co(t,s){var f=t.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){pn(t,s,g)}else f.current=null}function Mu(t,s,f){try{f()}catch(g){pn(t,s,g)}}var u0=!1;function vx(t,s){if(Xc=si,t=Et(),dt(t)){if("selectionStart"in t)var f={start:t.selectionStart,end:t.selectionEnd};else e:{f=(f=t.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var C=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var O=0,W=-1,Y=-1,ae=0,we=0,ve=t,xe=null;t:for(;;){for(var Be;ve!==f||C!==0&&ve.nodeType!==3||(W=O+C),ve!==T||g!==0&&ve.nodeType!==3||(Y=O+g),ve.nodeType===3&&(O+=ve.nodeValue.length),(Be=ve.firstChild)!==null;)xe=ve,ve=Be;for(;;){if(ve===t)break t;if(xe===f&&++ae===C&&(W=O),xe===T&&++we===g&&(Y=O),(Be=ve.nextSibling)!==null)break;ve=xe,xe=ve.parentNode}ve=Be}f=W===-1||Y===-1?null:{start:W,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(Yc={focusedElem:t,selectionRange:f},si=!1,je=s;je!==null;)if(s=je,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,je=t;else for(;je!==null;){s=je;try{var ze=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var He=ze.memoizedProps,Cn=ze.memoizedState,te=s.stateNode,$=te.getSnapshotBeforeUpdate(s.elementType===s.type?He:Kr(s.type,He),Cn);te.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var re=s.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Se){pn(s,s.return,Se)}if(t=s.sibling,t!==null){t.return=s.return,je=t;break}je=s.return}return ze=u0,u0=!1,ze}function pa(t,s,f){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var C=g=g.next;do{if((C.tag&t)===t){var T=C.destroy;C.destroy=void 0,T!==void 0&&Mu(s,f,T)}C=C.next}while(C!==g)}}function Dl(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var f=s=s.next;do{if((f.tag&t)===t){var g=f.create;f.destroy=g()}f=f.next}while(f!==s)}}function Du(t){var s=t.ref;if(s!==null){var f=t.stateNode;switch(t.tag){case 5:t=f;break;default:t=f}typeof s=="function"?s(t):s.current=t}}function f0(t){var s=t.alternate;s!==null&&(t.alternate=null,f0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[ai],delete s[ra],delete s[qc],delete s[nx],delete s[rx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d0(t){return t.tag===5||t.tag===3||t.tag===4}function h0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lu(t,s,f){var g=t.tag;if(g===5||g===6)t=t.stateNode,s?f.nodeType===8?f.parentNode.insertBefore(t,s):f.insertBefore(t,s):(f.nodeType===8?(s=f.parentNode,s.insertBefore(t,f)):(s=f,s.appendChild(t)),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=dl));else if(g!==4&&(t=t.child,t!==null))for(Lu(t,s,f),t=t.sibling;t!==null;)Lu(t,s,f),t=t.sibling}function Bu(t,s,f){var g=t.tag;if(g===5||g===6)t=t.stateNode,s?f.insertBefore(t,s):f.appendChild(t);else if(g!==4&&(t=t.child,t!==null))for(Bu(t,s,f),t=t.sibling;t!==null;)Bu(t,s,f),t=t.sibling}var Un=null,Zr=!1;function is(t,s,f){for(f=f.child;f!==null;)p0(t,s,f),f=f.sibling}function p0(t,s,f){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Ct,f)}catch{}switch(f.tag){case 5:er||Co(f,s);case 6:var g=Un,C=Zr;Un=null,is(t,s,f),Un=g,Zr=C,Un!==null&&(Zr?(t=Un,f=f.stateNode,t.nodeType===8?t.parentNode.removeChild(f):t.removeChild(f)):Un.removeChild(f.stateNode));break;case 18:Un!==null&&(Zr?(t=Un,f=f.stateNode,t.nodeType===8?$c(t.parentNode,f):t.nodeType===1&&$c(t,f),Hr(t)):$c(Un,f.stateNode));break;case 4:g=Un,C=Zr,Un=f.stateNode.containerInfo,Zr=!0,is(t,s,f),Un=g,Zr=C;break;case 0:case 11:case 14:case 15:if(!er&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){C=g=g.next;do{var T=C,O=T.destroy;T=T.tag,O!==void 0&&(T&2||T&4)&&Mu(f,s,O),C=C.next}while(C!==g)}is(t,s,f);break;case 1:if(!er&&(Co(f,s),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(W){pn(f,s,W)}is(t,s,f);break;case 21:is(t,s,f);break;case 22:f.mode&1?(er=(g=er)||f.memoizedState!==null,is(t,s,f),er=g):is(t,s,f);break;default:is(t,s,f)}}function g0(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var f=t.stateNode;f===null&&(f=t.stateNode=new wx),s.forEach(function(g){var C=Rx.bind(null,t,g);f.has(g)||(f.add(g),g.then(C,C))})}}function $r(t,s){var f=s.deletions;if(f!==null)for(var g=0;g<f.length;g++){var C=f[g];try{var T=t,O=s,W=O;e:for(;W!==null;){switch(W.tag){case 5:Un=W.stateNode,Zr=!1;break e;case 3:Un=W.stateNode.containerInfo,Zr=!0;break e;case 4:Un=W.stateNode.containerInfo,Zr=!0;break e}W=W.return}if(Un===null)throw Error(a(160));p0(T,O,C),Un=null,Zr=!1;var Y=C.alternate;Y!==null&&(Y.return=null),C.return=null}catch(ae){pn(C,s,ae)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)m0(s,t),s=s.sibling}function m0(t,s){var f=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($r(s,t),ui(t),g&4){try{pa(3,t,t.return),Dl(3,t)}catch(He){pn(t,t.return,He)}try{pa(5,t,t.return)}catch(He){pn(t,t.return,He)}}break;case 1:$r(s,t),ui(t),g&512&&f!==null&&Co(f,f.return);break;case 5:if($r(s,t),ui(t),g&512&&f!==null&&Co(f,f.return),t.flags&32){var C=t.stateNode;try{jt(C,"")}catch(He){pn(t,t.return,He)}}if(g&4&&(C=t.stateNode,C!=null)){var T=t.memoizedProps,O=f!==null?f.memoizedProps:T,W=t.type,Y=t.updateQueue;if(t.updateQueue=null,Y!==null)try{W==="input"&&T.type==="radio"&&T.name!=null&&Gt(C,T),Yt(W,O);var ae=Yt(W,T);for(O=0;O<Y.length;O+=2){var we=Y[O],ve=Y[O+1];we==="style"?be(C,ve):we==="dangerouslySetInnerHTML"?ct(C,ve):we==="children"?jt(C,ve):U(C,we,ve,ae)}switch(W){case"input":kt(C,T);break;case"textarea":Oe(C,T);break;case"select":var xe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!T.multiple;var Be=T.value;Be!=null?Ie(C,!!T.multiple,Be,!1):xe!==!!T.multiple&&(T.defaultValue!=null?Ie(C,!!T.multiple,T.defaultValue,!0):Ie(C,!!T.multiple,T.multiple?[]:"",!1))}C[ra]=T}catch(He){pn(t,t.return,He)}}break;case 6:if($r(s,t),ui(t),g&4){if(t.stateNode===null)throw Error(a(162));C=t.stateNode,T=t.memoizedProps;try{C.nodeValue=T}catch(He){pn(t,t.return,He)}}break;case 3:if($r(s,t),ui(t),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Hr(s.containerInfo)}catch(He){pn(t,t.return,He)}break;case 4:$r(s,t),ui(t);break;case 13:$r(s,t),ui(t),C=t.child,C.flags&8192&&(T=C.memoizedState!==null,C.stateNode.isHidden=T,!T||C.alternate!==null&&C.alternate.memoizedState!==null||(Vu=ut())),g&4&&g0(t);break;case 22:if(we=f!==null&&f.memoizedState!==null,t.mode&1?(er=(ae=er)||we,$r(s,t),er=ae):$r(s,t),ui(t),g&8192){if(ae=t.memoizedState!==null,(t.stateNode.isHidden=ae)&&!we&&t.mode&1)for(je=t,we=t.child;we!==null;){for(ve=je=we;je!==null;){switch(xe=je,Be=xe.child,xe.tag){case 0:case 11:case 14:case 15:pa(4,xe,xe.return);break;case 1:Co(xe,xe.return);var ze=xe.stateNode;if(typeof ze.componentWillUnmount=="function"){g=xe,f=xe.return;try{s=g,ze.props=s.memoizedProps,ze.state=s.memoizedState,ze.componentWillUnmount()}catch(He){pn(g,f,He)}}break;case 5:Co(xe,xe.return);break;case 22:if(xe.memoizedState!==null){w0(ve);continue}}Be!==null?(Be.return=xe,je=Be):w0(ve)}we=we.sibling}e:for(we=null,ve=t;;){if(ve.tag===5){if(we===null){we=ve;try{C=ve.stateNode,ae?(T=C.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(W=ve.stateNode,Y=ve.memoizedProps.style,O=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=Pt("display",O))}catch(He){pn(t,t.return,He)}}}else if(ve.tag===6){if(we===null)try{ve.stateNode.nodeValue=ae?"":ve.memoizedProps}catch(He){pn(t,t.return,He)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===t)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===t)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===t)break e;we===ve&&(we=null),ve=ve.return}we===ve&&(we=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:$r(s,t),ui(t),g&4&&g0(t);break;case 21:break;default:$r(s,t),ui(t)}}function ui(t){var s=t.flags;if(s&2){try{e:{for(var f=t.return;f!==null;){if(d0(f)){var g=f;break e}f=f.return}throw Error(a(160))}switch(g.tag){case 5:var C=g.stateNode;g.flags&32&&(jt(C,""),g.flags&=-33);var T=h0(t);Bu(t,T,C);break;case 3:case 4:var O=g.stateNode.containerInfo,W=h0(t);Lu(t,W,O);break;default:throw Error(a(161))}}catch(Y){pn(t,t.return,Y)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Cx(t,s,f){je=t,x0(t)}function x0(t,s,f){for(var g=(t.mode&1)!==0;je!==null;){var C=je,T=C.child;if(C.tag===22&&g){var O=C.memoizedState!==null||Ml;if(!O){var W=C.alternate,Y=W!==null&&W.memoizedState!==null||er;W=Ml;var ae=er;if(Ml=O,(er=Y)&&!ae)for(je=C;je!==null;)O=je,Y=O.child,O.tag===22&&O.memoizedState!==null?v0(C):Y!==null?(Y.return=O,je=Y):v0(C);for(;T!==null;)je=T,x0(T),T=T.sibling;je=C,Ml=W,er=ae}y0(t)}else C.subtreeFlags&8772&&T!==null?(T.return=C,je=T):y0(t)}}function y0(t){for(;je!==null;){var s=je;if(s.flags&8772){var f=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:er||Dl(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!er)if(f===null)g.componentDidMount();else{var C=s.elementType===s.type?f.memoizedProps:Kr(s.type,f.memoizedProps);g.componentDidUpdate(C,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=s.updateQueue;T!==null&&wh(s,T,g);break;case 3:var O=s.updateQueue;if(O!==null){if(f=null,s.child!==null)switch(s.child.tag){case 5:f=s.child.stateNode;break;case 1:f=s.child.stateNode}wh(s,O,f)}break;case 5:var W=s.stateNode;if(f===null&&s.flags&4){f=W;var Y=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&f.focus();break;case"img":Y.src&&(f.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ae=s.alternate;if(ae!==null){var we=ae.memoizedState;if(we!==null){var ve=we.dehydrated;ve!==null&&Hr(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}er||s.flags&512&&Du(s)}catch(xe){pn(s,s.return,xe)}}if(s===t){je=null;break}if(f=s.sibling,f!==null){f.return=s.return,je=f;break}je=s.return}}function w0(t){for(;je!==null;){var s=je;if(s===t){je=null;break}var f=s.sibling;if(f!==null){f.return=s.return,je=f;break}je=s.return}}function v0(t){for(;je!==null;){var s=je;try{switch(s.tag){case 0:case 11:case 15:var f=s.return;try{Dl(4,s)}catch(Y){pn(s,f,Y)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var C=s.return;try{g.componentDidMount()}catch(Y){pn(s,C,Y)}}var T=s.return;try{Du(s)}catch(Y){pn(s,T,Y)}break;case 5:var O=s.return;try{Du(s)}catch(Y){pn(s,O,Y)}}}catch(Y){pn(s,s.return,Y)}if(s===t){je=null;break}var W=s.sibling;if(W!==null){W.return=s.return,je=W;break}je=s.return}}var Ex=Math.ceil,Ll=ne.ReactCurrentDispatcher,Fu=ne.ReactCurrentOwner,Lr=ne.ReactCurrentBatchConfig,Dt=0,Bn=null,bn=null,Wn=0,Sr=0,Eo=Ji(0),On=0,ga=null,js=0,Bl=0,ju=0,ma=null,gr=null,Vu=0,Ao=1/0,Pi=null,Fl=!1,zu=null,ss=null,jl=!1,os=null,Vl=0,xa=0,Uu=null,zl=-1,Ul=0;function lr(){return Dt&6?ut():zl!==-1?zl:zl=ut()}function as(t){return t.mode&1?Dt&2&&Wn!==0?Wn&-Wn:sx.transition!==null?(Ul===0&&(Ul=Nn()),Ul):(t=wt,t!==0||(t=window.event,t=t===void 0?16:Ho(t.type)),t):1}function qr(t,s,f,g){if(50<xa)throw xa=0,Uu=null,Error(a(185));j(t,f,g),(!(Dt&2)||t!==Bn)&&(t===Bn&&(!(Dt&2)&&(Bl|=f),On===4&&ls(t,Wn)),mr(t,g),f===1&&Dt===0&&!(s.mode&1)&&(Ao=ut()+500,ml&&ts()))}function mr(t,s){var f=t.callbackNode;Ui(t,s);var g=wr(t,t===Bn?Wn:0);if(g===0)f!==null&&Ge(f),t.callbackNode=null,t.callbackPriority=0;else if(s=g&-g,t.callbackPriority!==s){if(f!=null&&Ge(f),s===1)t.tag===0?ix(E0.bind(null,t)):ah(E0.bind(null,t)),ex(function(){!(Dt&6)&&ts()}),f=null;else{switch(qa(g)){case 1:f=pe;break;case 4:f=Es;break;case 16:f=It;break;case 536870912:f=Fo;break;default:f=It}f=_0(f,C0.bind(null,t))}t.callbackPriority=s,t.callbackNode=f}}function C0(t,s){if(zl=-1,Ul=0,Dt&6)throw Error(a(327));var f=t.callbackNode;if(bo()&&t.callbackNode!==f)return null;var g=wr(t,t===Bn?Wn:0);if(g===0)return null;if(g&30||g&t.expiredLanes||s)s=Wl(t,g);else{s=g;var C=Dt;Dt|=2;var T=b0();(Bn!==t||Wn!==s)&&(Pi=null,Ao=ut()+500,zs(t,s));do try{Sx();break}catch(W){A0(t,W)}while(!0);ou(),Ll.current=T,Dt=C,bn!==null?s=0:(Bn=null,Wn=0,s=On)}if(s!==0){if(s===2&&(C=zt(t),C!==0&&(g=C,s=Wu(t,C))),s===1)throw f=ga,zs(t,0),ls(t,g),mr(t,ut()),f;if(s===6)ls(t,g);else{if(C=t.current.alternate,!(g&30)&&!Ax(C)&&(s=Wl(t,g),s===2&&(T=zt(t),T!==0&&(g=T,s=Wu(t,T))),s===1))throw f=ga,zs(t,0),ls(t,g),mr(t,ut()),f;switch(t.finishedWork=C,t.finishedLanes=g,s){case 0:case 1:throw Error(a(345));case 2:Us(t,gr,Pi);break;case 3:if(ls(t,g),(g&130023424)===g&&(s=Vu+500-ut(),10<s)){if(wr(t,0)!==0)break;if(C=t.suspendedLanes,(C&g)!==g){lr(),t.pingedLanes|=t.suspendedLanes&C;break}t.timeoutHandle=Zc(Us.bind(null,t,gr,Pi),s);break}Us(t,gr,Pi);break;case 4:if(ls(t,g),(g&4194240)===g)break;for(s=t.eventTimes,C=-1;0<g;){var O=31-or(g);T=1<<O,O=s[O],O>C&&(C=O),g&=~T}if(g=C,g=ut()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*Ex(g/1960))-g,10<g){t.timeoutHandle=Zc(Us.bind(null,t,gr,Pi),g);break}Us(t,gr,Pi);break;case 5:Us(t,gr,Pi);break;default:throw Error(a(329))}}}return mr(t,ut()),t.callbackNode===f?C0.bind(null,t):null}function Wu(t,s){var f=ma;return t.current.memoizedState.isDehydrated&&(zs(t,s).flags|=256),t=Wl(t,s),t!==2&&(s=gr,gr=f,s!==null&&Hu(s)),t}function Hu(t){gr===null?gr=t:gr.push.apply(gr,t)}function Ax(t){for(var s=t;;){if(s.flags&16384){var f=s.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var C=f[g],T=C.getSnapshot;C=C.value;try{if(!q(T(),C))return!1}catch{return!1}}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ls(t,s){for(s&=~ju,s&=~Bl,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var f=31-or(s),g=1<<f;t[f]=-1,s&=~g}}function E0(t){if(Dt&6)throw Error(a(327));bo();var s=wr(t,0);if(!(s&1))return mr(t,ut()),null;var f=Wl(t,s);if(t.tag!==0&&f===2){var g=zt(t);g!==0&&(s=g,f=Wu(t,g))}if(f===1)throw f=ga,zs(t,0),ls(t,s),mr(t,ut()),f;if(f===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Us(t,gr,Pi),mr(t,ut()),null}function Gu(t,s){var f=Dt;Dt|=1;try{return t(s)}finally{Dt=f,Dt===0&&(Ao=ut()+500,ml&&ts())}}function Vs(t){os!==null&&os.tag===0&&!(Dt&6)&&bo();var s=Dt;Dt|=1;var f=Lr.transition,g=wt;try{if(Lr.transition=null,wt=1,t)return t()}finally{wt=g,Lr.transition=f,Dt=s,!(Dt&6)&&ts()}}function Xu(){Sr=Eo.current,en(Eo)}function zs(t,s){t.finishedWork=null,t.finishedLanes=0;var f=t.timeoutHandle;if(f!==-1&&(t.timeoutHandle=-1,Jm(f)),bn!==null)for(f=bn.return;f!==null;){var g=f;switch(tu(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&pl();break;case 3:wo(),en(dr),en(qn),pu();break;case 5:du(g);break;case 4:wo();break;case 13:en(an);break;case 19:en(an);break;case 10:au(g.type._context);break;case 22:case 23:Xu()}f=f.return}if(Bn=t,bn=t=cs(t.current,null),Wn=Sr=s,On=0,ga=null,ju=Bl=js=0,gr=ma=null,Ls!==null){for(s=0;s<Ls.length;s++)if(f=Ls[s],g=f.interleaved,g!==null){f.interleaved=null;var C=g.next,T=f.pending;if(T!==null){var O=T.next;T.next=C,g.next=O}f.pending=g}Ls=null}return t}function A0(t,s){do{var f=bn;try{if(ou(),Tl.current=_l,Il){for(var g=ln.memoizedState;g!==null;){var C=g.queue;C!==null&&(C.pending=null),g=g.next}Il=!1}if(Fs=0,Ln=Pn=ln=null,ca=!1,ua=0,Fu.current=null,f===null||f.return===null){On=1,ga=s,bn=null;break}e:{var T=t,O=f.return,W=f,Y=s;if(s=Wn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ae=Y,we=W,ve=we.tag;if(!(we.mode&1)&&(ve===0||ve===11||ve===15)){var xe=we.alternate;xe?(we.updateQueue=xe.updateQueue,we.memoizedState=xe.memoizedState,we.lanes=xe.lanes):(we.updateQueue=null,we.memoizedState=null)}var Be=Kh(O);if(Be!==null){Be.flags&=-257,Zh(Be,O,W,T,s),Be.mode&1&&Yh(T,ae,s),s=Be,Y=ae;var ze=s.updateQueue;if(ze===null){var He=new Set;He.add(Y),s.updateQueue=He}else ze.add(Y);break e}else{if(!(s&1)){Yh(T,ae,s),Yu();break e}Y=Error(a(426))}}else if(nn&&W.mode&1){var Cn=Kh(O);if(Cn!==null){!(Cn.flags&65536)&&(Cn.flags|=256),Zh(Cn,O,W,T,s),iu(vo(Y,W));break e}}T=Y=vo(Y,W),On!==4&&(On=2),ma===null?ma=[T]:ma.push(T),T=O;do{switch(T.tag){case 3:T.flags|=65536,s&=-s,T.lanes|=s;var te=Gh(T,Y,s);yh(T,te);break e;case 1:W=Y;var $=T.type,re=T.stateNode;if(!(T.flags&128)&&(typeof $.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(ss===null||!ss.has(re)))){T.flags|=65536,s&=-s,T.lanes|=s;var Se=Xh(T,W,s);yh(T,Se);break e}}T=T.return}while(T!==null)}T0(f)}catch(Xe){s=Xe,bn===f&&f!==null&&(bn=f=f.return);continue}break}while(!0)}function b0(){var t=Ll.current;return Ll.current=_l,t===null?_l:t}function Yu(){(On===0||On===3||On===2)&&(On=4),Bn===null||!(js&268435455)&&!(Bl&268435455)||ls(Bn,Wn)}function Wl(t,s){var f=Dt;Dt|=2;var g=b0();(Bn!==t||Wn!==s)&&(Pi=null,zs(t,s));do try{bx();break}catch(C){A0(t,C)}while(!0);if(ou(),Dt=f,Ll.current=g,bn!==null)throw Error(a(261));return Bn=null,Wn=0,On}function bx(){for(;bn!==null;)S0(bn)}function Sx(){for(;bn!==null&&!ot();)S0(bn)}function S0(t){var s=R0(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,s===null?T0(t):bn=s,Fu.current=null}function T0(t){var s=t;do{var f=s.alternate;if(t=s.return,s.flags&32768){if(f=yx(f,s),f!==null){f.flags&=32767,bn=f;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{On=6,bn=null;return}}else if(f=xx(f,s,Sr),f!==null){bn=f;return}if(s=s.sibling,s!==null){bn=s;return}bn=s=t}while(s!==null);On===0&&(On=5)}function Us(t,s,f){var g=wt,C=Lr.transition;try{Lr.transition=null,wt=1,Tx(t,s,f,g)}finally{Lr.transition=C,wt=g}return null}function Tx(t,s,f,g){do bo();while(os!==null);if(Dt&6)throw Error(a(327));f=t.finishedWork;var C=t.finishedLanes;if(f===null)return null;if(t.finishedWork=null,t.finishedLanes=0,f===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var T=f.lanes|f.childLanes;if(Ye(t,T),t===Bn&&(bn=Bn=null,Wn=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||jl||(jl=!0,_0(It,function(){return bo(),null})),T=(f.flags&15990)!==0,f.subtreeFlags&15990||T){T=Lr.transition,Lr.transition=null;var O=wt;wt=1;var W=Dt;Dt|=4,Fu.current=null,vx(t,f),m0(f,t),$n(Yc),si=!!Xc,Yc=Xc=null,t.current=f,Cx(f),Ke(),Dt=W,wt=O,Lr.transition=T}else t.current=f;if(jl&&(jl=!1,os=t,Vl=C),T=t.pendingLanes,T===0&&(ss=null),Nt(f.stateNode),mr(t,ut()),s!==null)for(g=t.onRecoverableError,f=0;f<s.length;f++)C=s[f],g(C.value,{componentStack:C.stack,digest:C.digest});if(Fl)throw Fl=!1,t=zu,zu=null,t;return Vl&1&&t.tag!==0&&bo(),T=t.pendingLanes,T&1?t===Uu?xa++:(xa=0,Uu=t):xa=0,ts(),null}function bo(){if(os!==null){var t=qa(Vl),s=Lr.transition,f=wt;try{if(Lr.transition=null,wt=16>t?16:t,os===null)var g=!1;else{if(t=os,os=null,Vl=0,Dt&6)throw Error(a(331));var C=Dt;for(Dt|=4,je=t.current;je!==null;){var T=je,O=T.child;if(je.flags&16){var W=T.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var ae=W[Y];for(je=ae;je!==null;){var we=je;switch(we.tag){case 0:case 11:case 15:pa(8,we,T)}var ve=we.child;if(ve!==null)ve.return=we,je=ve;else for(;je!==null;){we=je;var xe=we.sibling,Be=we.return;if(f0(we),we===ae){je=null;break}if(xe!==null){xe.return=Be,je=xe;break}je=Be}}}var ze=T.alternate;if(ze!==null){var He=ze.child;if(He!==null){ze.child=null;do{var Cn=He.sibling;He.sibling=null,He=Cn}while(He!==null)}}je=T}}if(T.subtreeFlags&2064&&O!==null)O.return=T,je=O;else e:for(;je!==null;){if(T=je,T.flags&2048)switch(T.tag){case 0:case 11:case 15:pa(9,T,T.return)}var te=T.sibling;if(te!==null){te.return=T.return,je=te;break e}je=T.return}}var $=t.current;for(je=$;je!==null;){O=je;var re=O.child;if(O.subtreeFlags&2064&&re!==null)re.return=O,je=re;else e:for(O=$;je!==null;){if(W=je,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Dl(9,W)}}catch(Xe){pn(W,W.return,Xe)}if(W===O){je=null;break e}var Se=W.sibling;if(Se!==null){Se.return=W.return,je=Se;break e}je=W.return}}if(Dt=C,ts(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Ct,t)}catch{}g=!0}return g}finally{wt=f,Lr.transition=s}}return!1}function I0(t,s,f){s=vo(f,s),s=Gh(t,s,1),t=rs(t,s,1),s=lr(),t!==null&&(j(t,1,s),mr(t,s))}function pn(t,s,f){if(t.tag===3)I0(t,t,f);else for(;s!==null;){if(s.tag===3){I0(s,t,f);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ss===null||!ss.has(g))){t=vo(f,t),t=Xh(s,t,1),s=rs(s,t,1),t=lr(),s!==null&&(j(s,1,t),mr(s,t));break}}s=s.return}}function Ix(t,s,f){var g=t.pingCache;g!==null&&g.delete(s),s=lr(),t.pingedLanes|=t.suspendedLanes&f,Bn===t&&(Wn&f)===f&&(On===4||On===3&&(Wn&130023424)===Wn&&500>ut()-Vu?zs(t,0):ju|=f),mr(t,s)}function N0(t,s){s===0&&(t.mode&1?(s=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):s=1);var f=lr();t=Ri(t,s),t!==null&&(j(t,s,f),mr(t,f))}function Nx(t){var s=t.memoizedState,f=0;s!==null&&(f=s.retryLane),N0(t,f)}function Rx(t,s){var f=0;switch(t.tag){case 13:var g=t.stateNode,C=t.memoizedState;C!==null&&(f=C.retryLane);break;case 19:g=t.stateNode;break;default:throw Error(a(314))}g!==null&&g.delete(s),N0(t,f)}var R0;R0=function(t,s,f){if(t!==null)if(t.memoizedProps!==s.pendingProps||dr.current)pr=!0;else{if(!(t.lanes&f)&&!(s.flags&128))return pr=!1,mx(t,s,f);pr=!!(t.flags&131072)}else pr=!1,nn&&s.flags&1048576&&lh(s,yl,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;Ol(t,s),t=s.pendingProps;var C=fo(s,qn.current);yo(s,f),C=xu(null,s,g,t,C,f);var T=yu();return s.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hr(g)?(T=!0,gl(s)):T=!1,s.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,uu(s),C.updater=kl,s.stateNode=C,C._reactInternals=s,bu(s,g,t,f),s=Nu(null,s,g,!0,T,f)):(s.tag=0,nn&&T&&eu(s),ar(null,s,C,f),s=s.child),s;case 16:g=s.elementType;e:{switch(Ol(t,s),t=s.pendingProps,C=g._init,g=C(g._payload),s.type=g,C=s.tag=kx(g),t=Kr(g,t),C){case 0:s=Iu(null,s,g,t,f);break e;case 1:s=t0(null,s,g,t,f);break e;case 11:s=$h(null,s,g,t,f);break e;case 14:s=qh(null,s,g,Kr(g.type,t),f);break e}throw Error(a(306,g,""))}return s;case 0:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:Kr(g,C),Iu(t,s,g,C,f);case 1:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:Kr(g,C),t0(t,s,g,C,f);case 3:e:{if(n0(s),t===null)throw Error(a(387));g=s.pendingProps,T=s.memoizedState,C=T.element,xh(t,s),bl(s,g,null,f);var O=s.memoizedState;if(g=O.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},s.updateQueue.baseState=T,s.memoizedState=T,s.flags&256){C=vo(Error(a(423)),s),s=r0(t,s,g,f,C);break e}else if(g!==C){C=vo(Error(a(424)),s),s=r0(t,s,g,f,C);break e}else for(br=Qi(s.stateNode.containerInfo.firstChild),Ar=s,nn=!0,Yr=null,f=gh(s,null,g,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(go(),g===C){s=ki(t,s,f);break e}ar(t,s,g,f)}s=s.child}return s;case 5:return vh(s),t===null&&ru(s),g=s.type,C=s.pendingProps,T=t!==null?t.memoizedProps:null,O=C.children,Kc(g,C)?O=null:T!==null&&Kc(g,T)&&(s.flags|=32),e0(t,s),ar(t,s,O,f),s.child;case 6:return t===null&&ru(s),null;case 13:return i0(t,s,f);case 4:return fu(s,s.stateNode.containerInfo),g=s.pendingProps,t===null?s.child=mo(s,null,g,f):ar(t,s,g,f),s.child;case 11:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:Kr(g,C),$h(t,s,g,C,f);case 7:return ar(t,s,s.pendingProps,f),s.child;case 8:return ar(t,s,s.pendingProps.children,f),s.child;case 12:return ar(t,s,s.pendingProps.children,f),s.child;case 10:e:{if(g=s.type._context,C=s.pendingProps,T=s.memoizedProps,O=C.value,qt(Cl,g._currentValue),g._currentValue=O,T!==null)if(q(T.value,O)){if(T.children===C.children&&!dr.current){s=ki(t,s,f);break e}}else for(T=s.child,T!==null&&(T.return=s);T!==null;){var W=T.dependencies;if(W!==null){O=T.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===g){if(T.tag===1){Y=_i(-1,f&-f),Y.tag=2;var ae=T.updateQueue;if(ae!==null){ae=ae.shared;var we=ae.pending;we===null?Y.next=Y:(Y.next=we.next,we.next=Y),ae.pending=Y}}T.lanes|=f,Y=T.alternate,Y!==null&&(Y.lanes|=f),lu(T.return,f,s),W.lanes|=f;break}Y=Y.next}}else if(T.tag===10)O=T.type===s.type?null:T.child;else if(T.tag===18){if(O=T.return,O===null)throw Error(a(341));O.lanes|=f,W=O.alternate,W!==null&&(W.lanes|=f),lu(O,f,s),O=T.sibling}else O=T.child;if(O!==null)O.return=T;else for(O=T;O!==null;){if(O===s){O=null;break}if(T=O.sibling,T!==null){T.return=O.return,O=T;break}O=O.return}T=O}ar(t,s,C.children,f),s=s.child}return s;case 9:return C=s.type,g=s.pendingProps.children,yo(s,f),C=Mr(C),g=g(C),s.flags|=1,ar(t,s,g,f),s.child;case 14:return g=s.type,C=Kr(g,s.pendingProps),C=Kr(g.type,C),qh(t,s,g,C,f);case 15:return Qh(t,s,s.type,s.pendingProps,f);case 17:return g=s.type,C=s.pendingProps,C=s.elementType===g?C:Kr(g,C),Ol(t,s),s.tag=1,hr(g)?(t=!0,gl(s)):t=!1,yo(s,f),Wh(s,g,C),bu(s,g,C,f),Nu(null,s,g,!0,t,f);case 19:return o0(t,s,f);case 22:return Jh(t,s,f)}throw Error(a(156,s.tag))};function _0(t,s){return Ze(t,s)}function _x(t,s,f,g){this.tag=t,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(t,s,f,g){return new _x(t,s,f,g)}function Ku(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kx(t){if(typeof t=="function")return Ku(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Te)return 11;if(t===J)return 14}return 2}function cs(t,s){var f=t.alternate;return f===null?(f=Br(t.tag,s,t.key,t.mode),f.elementType=t.elementType,f.type=t.type,f.stateNode=t.stateNode,f.alternate=t,t.alternate=f):(f.pendingProps=s,f.type=t.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=t.flags&14680064,f.childLanes=t.childLanes,f.lanes=t.lanes,f.child=t.child,f.memoizedProps=t.memoizedProps,f.memoizedState=t.memoizedState,f.updateQueue=t.updateQueue,s=t.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=t.sibling,f.index=t.index,f.ref=t.ref,f}function Hl(t,s,f,g,C,T){var O=2;if(g=t,typeof t=="function")Ku(t)&&(O=1);else if(typeof t=="string")O=5;else e:switch(t){case X:return Ws(f.children,C,T,s);case ce:O=8,C|=8;break;case Q:return t=Br(12,f,s,C|2),t.elementType=Q,t.lanes=T,t;case Ne:return t=Br(13,f,s,C),t.elementType=Ne,t.lanes=T,t;case Re:return t=Br(19,f,s,C),t.elementType=Re,t.lanes=T,t;case ue:return Gl(f,C,T,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:O=10;break e;case ke:O=9;break e;case Te:O=11;break e;case J:O=14;break e;case Ve:O=16,g=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return s=Br(O,f,s,C),s.elementType=t,s.type=g,s.lanes=T,s}function Ws(t,s,f,g){return t=Br(7,t,g,s),t.lanes=f,t}function Gl(t,s,f,g){return t=Br(22,t,g,s),t.elementType=ue,t.lanes=f,t.stateNode={isHidden:!1},t}function Zu(t,s,f){return t=Br(6,t,null,s),t.lanes=f,t}function $u(t,s,f){return s=Br(4,t.children!==null?t.children:[],t.key,s),s.lanes=f,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Px(t,s,f,g,C){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ee(0),this.expirationTimes=ee(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ee(0),this.identifierPrefix=g,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function qu(t,s,f,g,C,T,O,W,Y){return t=new Px(t,s,f,W,Y),s===1?(s=1,T===!0&&(s|=8)):s=0,T=Br(3,null,null,s),t.current=T,T.stateNode=t,T.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},uu(T),t}function Ox(t,s,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:g==null?null:""+g,children:t,containerInfo:s,implementation:f}}function k0(t){if(!t)return es;t=t._reactInternals;e:{if(Kn(t)!==t||t.tag!==1)throw Error(a(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(a(171))}if(t.tag===1){var f=t.type;if(hr(f))return sh(t,f,s)}return s}function P0(t,s,f,g,C,T,O,W,Y){return t=qu(f,g,!0,t,C,T,O,W,Y),t.context=k0(null),f=t.current,g=lr(),C=as(f),T=_i(g,C),T.callback=s??null,rs(f,T,C),t.current.lanes=C,j(t,C,g),mr(t,g),t}function Xl(t,s,f,g){var C=s.current,T=lr(),O=as(C);return f=k0(f),s.context===null?s.context=f:s.pendingContext=f,s=_i(T,O),s.payload={element:t},g=g===void 0?null:g,g!==null&&(s.callback=g),t=rs(C,s,O),t!==null&&(qr(t,C,O,T),Al(t,C,O)),O}function Yl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O0(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var f=t.retryLane;t.retryLane=f!==0&&f<s?f:s}}function Qu(t,s){O0(t,s),(t=t.alternate)&&O0(t,s)}function Mx(){return null}var M0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ju(t){this._internalRoot=t}Kl.prototype.render=Ju.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(a(409));Xl(t,s,null,null)},Kl.prototype.unmount=Ju.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Vs(function(){Xl(null,t,null,null)}),s[Si]=null}};function Kl(t){this._internalRoot=t}Kl.prototype.unstable_scheduleHydration=function(t){if(t){var s=Zt();t={blockedOn:null,target:t,priority:s};for(var f=0;f<jn.length&&s!==0&&s<jn[f].priority;f++);jn.splice(f,0,t),f===0&&Ja(t)}};function ef(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function D0(){}function Dx(t,s,f,g,C){if(C){if(typeof g=="function"){var T=g;g=function(){var ae=Yl(O);T.call(ae)}}var O=P0(s,g,t,0,null,!1,!1,"",D0);return t._reactRootContainer=O,t[Si]=O.current,ta(t.nodeType===8?t.parentNode:t),Vs(),O}for(;C=t.lastChild;)t.removeChild(C);if(typeof g=="function"){var W=g;g=function(){var ae=Yl(Y);W.call(ae)}}var Y=qu(t,0,!1,null,null,!1,!1,"",D0);return t._reactRootContainer=Y,t[Si]=Y.current,ta(t.nodeType===8?t.parentNode:t),Vs(function(){Xl(s,Y,f,g)}),Y}function $l(t,s,f,g,C){var T=f._reactRootContainer;if(T){var O=T;if(typeof C=="function"){var W=C;C=function(){var Y=Yl(O);W.call(Y)}}Xl(s,O,t,C)}else O=Dx(f,s,t,C,g);return Yl(O)}eo=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var f=Kt(s.pendingLanes);f!==0&&(dn(s,f|1),mr(s,ut()),!(Dt&6)&&(Ao=ut()+500,ts()))}break;case 13:Vs(function(){var g=Ri(t,1);if(g!==null){var C=lr();qr(g,t,1,C)}}),Qu(t,1)}},Zn=function(t){if(t.tag===13){var s=Ri(t,134217728);if(s!==null){var f=lr();qr(s,t,134217728,f)}Qu(t,134217728)}},$e=function(t){if(t.tag===13){var s=as(t),f=Ri(t,s);if(f!==null){var g=lr();qr(f,t,s,g)}Qu(t,s)}},Zt=function(){return wt},zo=function(t,s){var f=wt;try{return wt=t,s()}finally{wt=f}},Fi=function(t,s,f){switch(s){case"input":if(kt(t,f),s=f.name,f.type==="radio"&&s!=null){for(f=t;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<f.length;s++){var g=f[s];if(g!==t&&g.form===t.form){var C=hl(g);if(!C)throw Error(a(90));yt(g),kt(g,C)}}}break;case"textarea":Oe(t,f);break;case"select":s=f.value,s!=null&&Ie(t,!!f.multiple,s,!1)}},Vi=Gu,sn=Vs;var Lx={usingClientEntryPoint:!1,Events:[ia,co,hl,ji,Yn,Gu]},ya={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bx={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vs(t),t===null?null:t.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||Mx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{Ct=ql.inject(Bx),ht=ql}catch{}}return xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lx,xr.createPortal=function(t,s){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(s))throw Error(a(200));return Ox(t,s,null,f)},xr.createRoot=function(t,s){if(!ef(t))throw Error(a(299));var f=!1,g="",C=M0;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=qu(t,1,!1,null,null,f,!1,g,C),t[Si]=s.current,ta(t.nodeType===8?t.parentNode:t),new Ju(s)},xr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=vs(s),t=t===null?null:t.stateNode,t},xr.flushSync=function(t){return Vs(t)},xr.hydrate=function(t,s,f){if(!Zl(s))throw Error(a(200));return $l(null,t,s,!0,f)},xr.hydrateRoot=function(t,s,f){if(!ef(t))throw Error(a(405));var g=f!=null&&f.hydratedSources||null,C=!1,T="",O=M0;if(f!=null&&(f.unstable_strictMode===!0&&(C=!0),f.identifierPrefix!==void 0&&(T=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),s=P0(s,null,t,1,f??null,C,!1,T,O),t[Si]=s.current,ta(t),g)for(t=0;t<g.length;t++)f=g[t],C=f._getVersion,C=C(f._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[f,C]:s.mutableSourceEagerHydrationData.push(f,C);return new Kl(s)},xr.render=function(t,s,f){if(!Zl(s))throw Error(a(200));return $l(null,t,s,!1,f)},xr.unmountComponentAtNode=function(t){if(!Zl(t))throw Error(a(40));return t._reactRootContainer?(Vs(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[Si]=null})}),!0):!1},xr.unstable_batchedUpdates=Gu,xr.unstable_renderSubtreeIntoContainer=function(t,s,f,g){if(!Zl(f))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return $l(t,s,f,!1,g)},xr.version="18.3.1-next-f1338f8080-20240426",xr}var W0;function Gx(){if(W0)return rf.exports;W0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),rf.exports=Hx(),rf.exports}var H0;function Xx(){if(H0)return Jl;H0=1;var r=Gx();return Jl.createRoot=r.createRoot,Jl.hydrateRoot=r.hydrateRoot,Jl}var Yx=Xx();const Tr=_.createContext(null),Kx=({children:r})=>{const[o,a]=_.useState(null),[d,p]=_.useState(null),[x,y]=_.useState(null),[A,w]=_.useState(null),[E,b]=_.useState(!1),[I,R]=_.useState(null),M=async()=>{const V=localStorage.getItem("access_token");if(V)try{const H=await fetch(window.server_url+"/load_user",{headers:{Authorization:`Bearer ${V}`}});if(H.ok){b(!0);const U=await H.json();console.log("USER DATA:",U),a(U.username),p(U.profile),R(U.permissions),console.log("PERMISSIONS:",U.permissions)}else console.log("TOKEN INVALID"),await fetch(window.server_url+"/debug?username="+o+"&message=checkAuth token_invalid",{method:"GET"}),localStorage.removeItem("access_token"),a(null),p(null),y(null),w(null),b(!1)}catch(H){console.log("ERROR:",H)}};_.useEffect(()=>{M()},[]);const L=V=>{a(V.username),y(V.access_token),w(V.refresh_token),R(V.permissions),console.log("PRE SAVE USERNAME:",V.username),localStorage.setItem("user",V.username),localStorage.setItem("access_token",V.access_token),localStorage.setItem("refresh_token",V.refresh_token)},F=async(V,H)=>{const U=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:V,password:H})});if(U.ok){const ne=await U.json();console.log("SIGNED UP, userData:",ne)}},B=()=>{a(null),p(null),y(null),w(null),b(!1)};return S.jsx(Tr.Provider,{value:{user:o,login:L,signup:F,logout:B,userProfile:d,checkAuth:M,permissions:I},children:r})};var If=function(r,o){return If=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(a[p]=d[p])},If(r,o)};function Zx(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");If(r,o);function a(){this.constructor=r}r.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)}var Hn=function(){return Hn=Object.assign||function(o){for(var a,d=1,p=arguments.length;d<p;d++){a=arguments[d];for(var x in a)Object.prototype.hasOwnProperty.call(a,x)&&(o[x]=a[x])}return o},Hn.apply(this,arguments)};var af,G0;function $x(){if(G0)return af;G0=1;var r=!1,o,a,d,p,x,y,A,w,E,b,I,R,M,L,F;function B(){if(!r){r=!0;var H=navigator.userAgent,U=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(H),ne=/(Mac OS X)|(Windows)|(Linux)/.exec(H);if(R=/\b(iPhone|iP[ao]d)/.exec(H),M=/\b(iP[ao]d)/.exec(H),b=/Android/i.exec(H),L=/FBAN\/\w+;/i.exec(H),F=/Mobile/i.exec(H),I=!!/Win64/.exec(H),U){o=U[1]?parseFloat(U[1]):U[5]?parseFloat(U[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var oe=/(?:Trident\/(\d+.\d+))/.exec(H);y=oe?parseFloat(oe[1])+4:o,a=U[2]?parseFloat(U[2]):NaN,d=U[3]?parseFloat(U[3]):NaN,p=U[4]?parseFloat(U[4]):NaN,p?(U=/(?:Chrome\/(\d+\.\d+))/.exec(H),x=U&&U[1]?parseFloat(U[1]):NaN):x=NaN}else o=a=d=x=p=NaN;if(ne){if(ne[1]){var le=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(H);A=le?parseFloat(le[1].replace("_",".")):!0}else A=!1;w=!!ne[2],E=!!ne[3]}else A=w=E=!1}}var V={ie:function(){return B()||o},ieCompatibilityMode:function(){return B()||y>o},ie64:function(){return V.ie()&&I},firefox:function(){return B()||a},opera:function(){return B()||d},webkit:function(){return B()||p},safari:function(){return V.webkit()},chrome:function(){return B()||x},windows:function(){return B()||w},osx:function(){return B()||A},linux:function(){return B()||E},iphone:function(){return B()||R},mobile:function(){return B()||R||M||b||F},nativeApp:function(){return B()||L},android:function(){return B()||b},ipad:function(){return B()||M}};return af=V,af}var lf,X0;function qx(){if(X0)return lf;X0=1;var r=!!(typeof window<"u"&&window.document&&window.document.createElement),o={canUseDOM:r,canUseWorkers:typeof Worker<"u",canUseEventListeners:r&&!!(window.addEventListener||window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};return lf=o,lf}var cf,Y0;function Qx(){if(Y0)return cf;Y0=1;var r=qx(),o;r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function a(d,p){if(!r.canUseDOM||p&&!("addEventListener"in document))return!1;var x="on"+d,y=x in document;if(!y){var A=document.createElement("div");A.setAttribute(x,"return;"),y=typeof A[x]=="function"}return!y&&o&&d==="wheel"&&(y=document.implementation.hasFeature("Events.wheel","3.0")),y}return cf=a,cf}var uf,K0;function Jx(){if(K0)return uf;K0=1;var r=$x(),o=Qx(),a=10,d=40,p=800;function x(y){var A=0,w=0,E=0,b=0;return"detail"in y&&(w=y.detail),"wheelDelta"in y&&(w=-y.wheelDelta/120),"wheelDeltaY"in y&&(w=-y.wheelDeltaY/120),"wheelDeltaX"in y&&(A=-y.wheelDeltaX/120),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(A=w,w=0),E=A*a,b=w*a,"deltaY"in y&&(b=y.deltaY),"deltaX"in y&&(E=y.deltaX),(E||b)&&y.deltaMode&&(y.deltaMode==1?(E*=d,b*=d):(E*=p,b*=p)),E&&!A&&(A=E<1?-1:1),b&&!w&&(w=b<1?-1:1),{spinX:A,spinY:w,pixelX:E,pixelY:b}}return x.getEventType=function(){return r.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},uf=x,uf}var ff,Z0;function e2(){return Z0||(Z0=1,ff=Jx()),ff}var t2=e2();const n2=Lp(t2);function r2(r,o,a,d,p,x){x===void 0&&(x=0);var y=ko(r,o,x),A=y.width,w=y.height,E=Math.min(A,a),b=Math.min(w,d);return E>b*p?{width:b*p,height:b}:{width:E,height:E/p}}function i2(r){return r.width>r.height?r.width/r.naturalWidth:r.height/r.naturalHeight}function va(r,o,a,d,p){p===void 0&&(p=0);var x=ko(o.width,o.height,p),y=x.width,A=x.height;return{x:$0(r.x,y,a.width,d),y:$0(r.y,A,a.height,d)}}function $0(r,o,a,d){var p=o*d/2-a/2;return Tc(r,-p,p)}function q0(r,o){return Math.sqrt(Math.pow(r.y-o.y,2)+Math.pow(r.x-o.x,2))}function Q0(r,o){return Math.atan2(o.y-r.y,o.x-r.x)*180/Math.PI}function s2(r,o,a,d,p,x,y){x===void 0&&(x=0),y===void 0&&(y=!0);var A=y?o2:a2,w=ko(o.width,o.height,x),E=ko(o.naturalWidth,o.naturalHeight,x),b={x:A(100,((w.width-a.width/p)/2-r.x/p)/w.width*100),y:A(100,((w.height-a.height/p)/2-r.y/p)/w.height*100),width:A(100,a.width/w.width*100/p),height:A(100,a.height/w.height*100/p)},I=Math.round(A(E.width,b.width*E.width/100)),R=Math.round(A(E.height,b.height*E.height/100)),M=E.width>=E.height*d,L=M?{width:Math.round(R*d),height:R}:{width:I,height:Math.round(I/d)},F=Hn(Hn({},L),{x:Math.round(A(E.width-L.width,b.x*E.width/100)),y:Math.round(A(E.height-L.height,b.y*E.height/100))});return{croppedAreaPercentages:b,croppedAreaPixels:F}}function o2(r,o){return Math.min(r,Math.max(0,o))}function a2(r,o){return o}function l2(r,o,a,d,p,x){var y=ko(o.width,o.height,a),A=Tc(d.width/y.width*(100/r.width),p,x),w={x:A*y.width/2-d.width/2-y.width*A*(r.x/100),y:A*y.height/2-d.height/2-y.height*A*(r.y/100)};return{crop:w,zoom:A}}function c2(r,o,a){var d=i2(o);return a.height>a.width?a.height/(r.height*d):a.width/(r.width*d)}function u2(r,o,a,d,p,x){a===void 0&&(a=0);var y=ko(o.naturalWidth,o.naturalHeight,a),A=Tc(c2(r,o,d),p,x),w=d.height>d.width?d.height/r.height:d.width/r.width,E={x:((y.width-r.width)/2-r.x)*w,y:((y.height-r.height)/2-r.y)*w};return{crop:E,zoom:A}}function J0(r,o){return{x:(o.x+r.x)/2,y:(o.y+r.y)/2}}function f2(r){return r*Math.PI/180}function ko(r,o,a){var d=f2(a);return{width:Math.abs(Math.cos(d)*r)+Math.abs(Math.sin(d)*o),height:Math.abs(Math.sin(d)*r)+Math.abs(Math.cos(d)*o)}}function Tc(r,o,a){return Math.min(Math.max(r,o),a)}function ec(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.filter(function(a){return typeof a=="string"&&a.length>0}).join(" ").trim()}var d2=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,h2=1,p2=3,g2=1,Jf=function(r){Zx(o,r);function o(){var a=r!==null&&r.apply(this,arguments)||this;return a.imageRef=_.createRef(),a.videoRef=_.createRef(),a.containerPosition={x:0,y:0},a.containerRef=null,a.styleRef=null,a.containerRect=null,a.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},a.dragStartPosition={x:0,y:0},a.dragStartCrop={x:0,y:0},a.gestureZoomStart=0,a.gestureRotationStart=0,a.isTouching=!1,a.lastPinchDistance=0,a.lastPinchRotation=0,a.rafDragTimeout=null,a.rafPinchTimeout=null,a.wheelTimer=null,a.currentDoc=typeof document<"u"?document:null,a.currentWindow=typeof window<"u"?window:null,a.resizeObserver=null,a.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},a.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!a.containerRef)){var d=!0;a.resizeObserver=new window.ResizeObserver(function(p){if(d){d=!1;return}a.computeSizes()}),a.resizeObserver.observe(a.containerRef)}},a.preventZoomSafari=function(d){return d.preventDefault()},a.cleanEvents=function(){a.currentDoc&&(a.currentDoc.removeEventListener("mousemove",a.onMouseMove),a.currentDoc.removeEventListener("mouseup",a.onDragStopped),a.currentDoc.removeEventListener("touchmove",a.onTouchMove),a.currentDoc.removeEventListener("touchend",a.onDragStopped),a.currentDoc.removeEventListener("gesturemove",a.onGestureMove),a.currentDoc.removeEventListener("gestureend",a.onGestureEnd),a.currentDoc.removeEventListener("scroll",a.onScroll))},a.clearScrollEvent=function(){a.containerRef&&a.containerRef.removeEventListener("wheel",a.onWheel),a.wheelTimer&&clearTimeout(a.wheelTimer)},a.onMediaLoad=function(){var d=a.computeSizes();d&&(a.emitCropData(),a.setInitialCrop(d)),a.props.onMediaLoaded&&a.props.onMediaLoaded(a.mediaSize)},a.setInitialCrop=function(d){if(a.props.initialCroppedAreaPercentages){var p=l2(a.props.initialCroppedAreaPercentages,a.mediaSize,a.props.rotation,d,a.props.minZoom,a.props.maxZoom),x=p.crop,y=p.zoom;a.props.onCropChange(x),a.props.onZoomChange&&a.props.onZoomChange(y)}else if(a.props.initialCroppedAreaPixels){var A=u2(a.props.initialCroppedAreaPixels,a.mediaSize,a.props.rotation,d,a.props.minZoom,a.props.maxZoom),x=A.crop,y=A.zoom;a.props.onCropChange(x),a.props.onZoomChange&&a.props.onZoomChange(y)}},a.computeSizes=function(){var d,p,x,y,A,w,E=a.imageRef.current||a.videoRef.current;if(E&&a.containerRef){a.containerRect=a.containerRef.getBoundingClientRect(),a.saveContainerPosition();var b=a.containerRect.width/a.containerRect.height,I=((d=a.imageRef.current)===null||d===void 0?void 0:d.naturalWidth)||((p=a.videoRef.current)===null||p===void 0?void 0:p.videoWidth)||0,R=((x=a.imageRef.current)===null||x===void 0?void 0:x.naturalHeight)||((y=a.videoRef.current)===null||y===void 0?void 0:y.videoHeight)||0,M=E.offsetWidth<I||E.offsetHeight<R,L=I/R,F=void 0;if(M)switch(a.state.mediaObjectFit){default:case"contain":F=b>L?{width:a.containerRect.height*L,height:a.containerRect.height}:{width:a.containerRect.width,height:a.containerRect.width/L};break;case"horizontal-cover":F={width:a.containerRect.width,height:a.containerRect.width/L};break;case"vertical-cover":F={width:a.containerRect.height*L,height:a.containerRect.height};break}else F={width:E.offsetWidth,height:E.offsetHeight};a.mediaSize=Hn(Hn({},F),{naturalWidth:I,naturalHeight:R}),a.props.setMediaSize&&a.props.setMediaSize(a.mediaSize);var B=a.props.cropSize?a.props.cropSize:r2(a.mediaSize.width,a.mediaSize.height,a.containerRect.width,a.containerRect.height,a.props.aspect,a.props.rotation);return(((A=a.state.cropSize)===null||A===void 0?void 0:A.height)!==B.height||((w=a.state.cropSize)===null||w===void 0?void 0:w.width)!==B.width)&&a.props.onCropSizeChange&&a.props.onCropSizeChange(B),a.setState({cropSize:B},a.recomputeCropPosition),a.props.setCropSize&&a.props.setCropSize(B),B}},a.saveContainerPosition=function(){if(a.containerRef){var d=a.containerRef.getBoundingClientRect();a.containerPosition={x:d.left,y:d.top}}},a.onMouseDown=function(d){a.currentDoc&&(d.preventDefault(),a.currentDoc.addEventListener("mousemove",a.onMouseMove),a.currentDoc.addEventListener("mouseup",a.onDragStopped),a.saveContainerPosition(),a.onDragStart(o.getMousePoint(d)))},a.onMouseMove=function(d){return a.onDrag(o.getMousePoint(d))},a.onScroll=function(d){a.currentDoc&&(d.preventDefault(),a.saveContainerPosition())},a.onTouchStart=function(d){a.currentDoc&&(a.isTouching=!0,!(a.props.onTouchRequest&&!a.props.onTouchRequest(d))&&(a.currentDoc.addEventListener("touchmove",a.onTouchMove,{passive:!1}),a.currentDoc.addEventListener("touchend",a.onDragStopped),a.saveContainerPosition(),d.touches.length===2?a.onPinchStart(d):d.touches.length===1&&a.onDragStart(o.getTouchPoint(d.touches[0]))))},a.onTouchMove=function(d){d.preventDefault(),d.touches.length===2?a.onPinchMove(d):d.touches.length===1&&a.onDrag(o.getTouchPoint(d.touches[0]))},a.onGestureStart=function(d){a.currentDoc&&(d.preventDefault(),a.currentDoc.addEventListener("gesturechange",a.onGestureMove),a.currentDoc.addEventListener("gestureend",a.onGestureEnd),a.gestureZoomStart=a.props.zoom,a.gestureRotationStart=a.props.rotation)},a.onGestureMove=function(d){if(d.preventDefault(),!a.isTouching){var p=o.getMousePoint(d),x=a.gestureZoomStart-1+d.scale;if(a.setNewZoom(x,p,{shouldUpdatePosition:!0}),a.props.onRotationChange){var y=a.gestureRotationStart+d.rotation;a.props.onRotationChange(y)}}},a.onGestureEnd=function(d){a.cleanEvents()},a.onDragStart=function(d){var p,x,y=d.x,A=d.y;a.dragStartPosition={x:y,y:A},a.dragStartCrop=Hn({},a.props.crop),(x=(p=a.props).onInteractionStart)===null||x===void 0||x.call(p)},a.onDrag=function(d){var p=d.x,x=d.y;a.currentWindow&&(a.rafDragTimeout&&a.currentWindow.cancelAnimationFrame(a.rafDragTimeout),a.rafDragTimeout=a.currentWindow.requestAnimationFrame(function(){if(a.state.cropSize&&!(p===void 0||x===void 0)){var y=p-a.dragStartPosition.x,A=x-a.dragStartPosition.y,w={x:a.dragStartCrop.x+y,y:a.dragStartCrop.y+A},E=a.props.restrictPosition?va(w,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):w;a.props.onCropChange(E)}}))},a.onDragStopped=function(){var d,p;a.isTouching=!1,a.cleanEvents(),a.emitCropData(),(p=(d=a.props).onInteractionEnd)===null||p===void 0||p.call(d)},a.onWheel=function(d){if(a.currentWindow&&!(a.props.onWheelRequest&&!a.props.onWheelRequest(d))){d.preventDefault();var p=o.getMousePoint(d),x=n2(d).pixelY,y=a.props.zoom-x*a.props.zoomSpeed/200;a.setNewZoom(y,p,{shouldUpdatePosition:!0}),a.state.hasWheelJustStarted||a.setState({hasWheelJustStarted:!0},function(){var A,w;return(w=(A=a.props).onInteractionStart)===null||w===void 0?void 0:w.call(A)}),a.wheelTimer&&clearTimeout(a.wheelTimer),a.wheelTimer=a.currentWindow.setTimeout(function(){return a.setState({hasWheelJustStarted:!1},function(){var A,w;return(w=(A=a.props).onInteractionEnd)===null||w===void 0?void 0:w.call(A)})},250)}},a.getPointOnContainer=function(d,p){var x=d.x,y=d.y;if(!a.containerRect)throw new Error("The Cropper is not mounted");return{x:a.containerRect.width/2-(x-p.x),y:a.containerRect.height/2-(y-p.y)}},a.getPointOnMedia=function(d){var p=d.x,x=d.y,y=a.props,A=y.crop,w=y.zoom;return{x:(p+A.x)/w,y:(x+A.y)/w}},a.setNewZoom=function(d,p,x){var y=x===void 0?{}:x,A=y.shouldUpdatePosition,w=A===void 0?!0:A;if(!(!a.state.cropSize||!a.props.onZoomChange)){var E=Tc(d,a.props.minZoom,a.props.maxZoom);if(w){var b=a.getPointOnContainer(p,a.containerPosition),I=a.getPointOnMedia(b),R={x:I.x*E-b.x,y:I.y*E-b.y},M=a.props.restrictPosition?va(R,a.mediaSize,a.state.cropSize,E,a.props.rotation):R;a.props.onCropChange(M)}a.props.onZoomChange(E)}},a.getCropData=function(){if(!a.state.cropSize)return null;var d=a.props.restrictPosition?va(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;return s2(d,a.mediaSize,a.state.cropSize,a.getAspect(),a.props.zoom,a.props.rotation,a.props.restrictPosition)},a.emitCropData=function(){var d=a.getCropData();if(d){var p=d.croppedAreaPercentages,x=d.croppedAreaPixels;a.props.onCropComplete&&a.props.onCropComplete(p,x),a.props.onCropAreaChange&&a.props.onCropAreaChange(p,x)}},a.emitCropAreaChange=function(){var d=a.getCropData();if(d){var p=d.croppedAreaPercentages,x=d.croppedAreaPixels;a.props.onCropAreaChange&&a.props.onCropAreaChange(p,x)}},a.recomputeCropPosition=function(){if(a.state.cropSize){var d=a.props.restrictPosition?va(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;a.props.onCropChange(d),a.emitCropData()}},a.onKeyDown=function(d){var p=a.props,x=p.crop,y=p.onCropChange,A=p.keyboardStep,w=p.zoom,E=p.rotation,b=A;if(a.state.cropSize){d.shiftKey&&(b*=.2);var I=Hn({},x);switch(d.key){case"ArrowUp":I.y-=b,d.preventDefault();break;case"ArrowDown":I.y+=b,d.preventDefault();break;case"ArrowLeft":I.x-=b,d.preventDefault();break;case"ArrowRight":I.x+=b,d.preventDefault();break;default:return}a.props.restrictPosition&&(I=va(I,a.mediaSize,a.state.cropSize,w,E)),y(I)}},a}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=d2,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},o.prototype.componentWillUnmount=function(){var a,d;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(a=this.resizeObserver)===null||a===void 0||a.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((d=this.styleRef.parentNode)===null||d===void 0||d.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(a){var d,p,x,y,A,w,E,b,I;a.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):a.aspect!==this.props.aspect?this.computeSizes():a.objectFit!==this.props.objectFit?this.computeSizes():a.zoom!==this.props.zoom?this.recomputeCropPosition():((d=a.cropSize)===null||d===void 0?void 0:d.height)!==((p=this.props.cropSize)===null||p===void 0?void 0:p.height)||((x=a.cropSize)===null||x===void 0?void 0:x.width)!==((y=this.props.cropSize)===null||y===void 0?void 0:y.width)?this.computeSizes():(((A=a.crop)===null||A===void 0?void 0:A.x)!==((w=this.props.crop)===null||w===void 0?void 0:w.x)||((E=a.crop)===null||E===void 0?void 0:E.y)!==((b=this.props.crop)===null||b===void 0?void 0:b.y))&&this.emitCropAreaChange(),a.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),a.video!==this.props.video&&((I=this.videoRef.current)===null||I===void 0||I.load());var R=this.getObjectFit();R!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:R},this.computeSizes)},o.prototype.getAspect=function(){var a=this.props,d=a.cropSize,p=a.aspect;return d?d.width/d.height:p},o.prototype.getObjectFit=function(){var a,d,p,x;if(this.props.objectFit==="cover"){var y=this.imageRef.current||this.videoRef.current;if(y&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var A=this.containerRect.width/this.containerRect.height,w=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((d=this.videoRef.current)===null||d===void 0?void 0:d.videoWidth)||0,E=((p=this.imageRef.current)===null||p===void 0?void 0:p.naturalHeight)||((x=this.videoRef.current)===null||x===void 0?void 0:x.videoHeight)||0,b=w/E;return b<A?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(a){var d=o.getTouchPoint(a.touches[0]),p=o.getTouchPoint(a.touches[1]);this.lastPinchDistance=q0(d,p),this.lastPinchRotation=Q0(d,p),this.onDragStart(J0(d,p))},o.prototype.onPinchMove=function(a){var d=this;if(!(!this.currentDoc||!this.currentWindow)){var p=o.getTouchPoint(a.touches[0]),x=o.getTouchPoint(a.touches[1]),y=J0(p,x);this.onDrag(y),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var A=q0(p,x),w=d.props.zoom*(A/d.lastPinchDistance);d.setNewZoom(w,y,{shouldUpdatePosition:!1}),d.lastPinchDistance=A;var E=Q0(p,x),b=d.props.rotation+(E-d.lastPinchRotation);d.props.onRotationChange&&d.props.onRotationChange(b),d.lastPinchRotation=E})}},o.prototype.render=function(){var a=this,d,p=this.props,x=p.image,y=p.video,A=p.mediaProps,w=p.transform,E=p.crop,b=E.x,I=E.y,R=p.rotation,M=p.zoom,L=p.cropShape,F=p.showGrid,B=p.style,V=B.containerStyle,H=B.cropAreaStyle,U=B.mediaStyle,ne=p.classes,oe=ne.containerClassName,le=ne.cropAreaClassName,X=ne.mediaClassName,ce=(d=this.state.mediaObjectFit)!==null&&d!==void 0?d:this.getObjectFit();return _.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(_e){return a.containerRef=_e},"data-testid":"container",style:V,className:ec("reactEasyCrop_Container",oe)},x?_.createElement("img",Hn({alt:"",className:ec("reactEasyCrop_Image",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",X)},A,{src:x,ref:this.imageRef,style:Hn(Hn({},U),{transform:w||"translate(".concat(b,"px, ").concat(I,"px) rotate(").concat(R,"deg) scale(").concat(M,")")}),onLoad:this.onMediaLoad})):y&&_.createElement("video",Hn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ec("reactEasyCrop_Video",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",X)},A,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Hn(Hn({},U),{transform:w||"translate(".concat(b,"px, ").concat(I,"px) rotate(").concat(R,"deg) scale(").concat(M,")")}),controls:!1}),(Array.isArray(y)?y:[{src:y}]).map(function(Q){return _.createElement("source",Hn({key:Q.src},Q))})),this.state.cropSize&&_.createElement("div",{style:Hn(Hn({},H),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:ec("reactEasyCrop_CropArea",L==="round"&&"reactEasyCrop_CropAreaRound",F&&"reactEasyCrop_CropAreaGrid",le)}))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:p2,minZoom:h2,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:g2},o.getMousePoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},o.getTouchPoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},o}(_.Component),Ca={},e1;function m2(){return e1||(e1=1,Ca.createCanvas=function(r,o){return Object.assign(document.createElement("canvas"),{width:r,height:o})},Ca.createImageData=function(r,o,a){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(r);case 2:return new ImageData(r,o);default:return new ImageData(r,o,a)}},Ca.loadImage=function(r,o){return new Promise(function(a,d){const p=Object.assign(document.createElement("img"),o);function x(){p.onload=null,p.onerror=null}p.onload=function(){x(),a(p)},p.onerror=function(){x(),d(new Error('Failed to load the image "'+r+'"'))},p.src=r})}),Ca}m2();async function ed(r,o){return console.log("Image source being cropped:",r),new Promise((a,d)=>{const p=new Image;p.onload=()=>{const x=document.createElement("canvas"),y=x.getContext("2d");x.width=o.width,x.height=o.height,y.drawImage(p,o.x,o.y,o.width,o.height,0,0,o.width,o.height);try{const A=x.toDataURL("image/jpeg");a(A)}catch{d(new Error("Error converting canvas to base64"))}},p.onerror=x=>d(new Error(`Image load error: ${x.message}`)),p.src=r})}const x2=({onSubmit:r,onClose:o,existingProfile:a})=>{const{user:d,userProfile:p,checkAuth:x}=_.useContext(Tr),[y,A]=_.useState({name:(p==null?void 0:p.name)||"",image:null,imagePreview:p!=null&&p.image_data?`data:image/jpeg;base64,${p.image_data}`:"/assets/fakeprofile.png",croppedImage:null}),[w,E]=_.useState({x:0,y:0}),[b,I]=_.useState(1),[R,M]=_.useState(null),[L,F]=_.useState(!1),[B,V]=_.useState(!1),H=oe=>{const le=oe.target.files[0];if(le){const X=new FileReader;X.onload=ce=>{A(Q=>({...Q,image:le,imagePreview:ce.target.result})),F(!0)},X.readAsDataURL(le)}},U=(oe,le)=>{console.log("Cropped Area Pixels:",le),M(le)};async function ne(oe){oe.preventDefault();let le;if(y.croppedImage)le=y.croppedImage.split(",")[1];else if(y.image instanceof File){const Q=await y.image.arrayBuffer();le=btoa(new Uint8Array(Q).reduce((_e,ke)=>_e+String.fromCharCode(ke),""))}else if(p!=null&&p.image_data)le=p.image_data;else{console.error("No valid image provided");return}const X={name:y.name,image_data:le};console.log("Image data (first 100 chars):",le.substring(0,100));const ce=localStorage.getItem("access_token");try{const Q=await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify(X)});if(!Q.ok)throw new Error("Failed to update profile");const _e=await Q.json();await x(),console.log("Profile updated successfully:",_e),o()}catch(Q){console.error("Error updating profile:",Q)}}return S.jsx("div",{className:"profile-creation-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:S.jsxs("div",{className:"profile-creation-modal",style:{width:"70%",maxWidth:"500px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"2rem",boxShadow:"0 10px 30px rgba(20,77,255,0.15)",position:"relative",border:"1px solid rgba(20,77,255,0.1)"},children:[S.jsx("button",{onClick:o,style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"#144dff",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:"×"}),S.jsx("h2",{style:{fontSize:"clamp(1.8rem, 6vw, 2.5rem)",color:"#144dff",textAlign:"center",marginBottom:"2rem",fontWeight:"600"},children:"Your Profile"}),S.jsxs("form",{onSubmit:ne,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[S.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[S.jsx("label",{style:{color:"#144dff",fontWeight:"500",fontSize:"1rem"},children:"Your Name"}),S.jsx("input",{type:"text",value:y.name,onChange:oe=>A({...y,name:oe.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #e0e0e0",fontSize:"0.9rem",transition:"all 0.3s ease",backgroundColor:"rgba(255,255,255,0.9)","&:focus":{borderColor:"#144dff",outline:"none",boxShadow:"0 0 0 3px rgba(20,77,255,0.1)"}}})]}),!L&&S.jsx("div",{style:{width:"250px",height:"250px",margin:"0 auto",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:S.jsx("img",{src:y.croppedImage?y.croppedImage:y.imagePreview?y.imagePreview:p!=null&&p.image_data?`data:image/jpeg;base64,${p.image_data}`:"/assets/fakeprofile.png",alt:"Profile preview",style:{width:"100%",height:"100%",objectFit:"cover"}})}),S.jsxs("div",{style:{textAlign:"center"},children:[S.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:H,style:{display:"none"}}),S.jsx("label",{htmlFor:"image-upload",style:{padding:"0.8rem 1.2rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",borderRadius:"25px",cursor:"pointer",display:"inline-block",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Upload New Image"})]}),L&&S.jsxs("div",{style:{width:"100%",maxWidth:"300px",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.2rem"},children:[S.jsx("div",{style:{position:"relative",width:"250px",height:"250px",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)"},children:S.jsx(Jf,{image:y.imagePreview,crop:w,zoom:b,aspect:1,onCropComplete:U,onCropChange:E,onZoomChange:I})}),S.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[S.jsx("button",{type:"button",onClick:()=>{F(!1),y.croppedImage||A(oe=>({...oe,imagePreview:null}))},style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"2px solid #144dff",background:"white",color:"#144dff",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease","&:hover":{background:"rgba(20,77,255,0.1)"}},children:"Cancel"}),S.jsx("button",{type:"button",onClick:async()=>{try{const oe=await ed(y.imagePreview,R);A(le=>({...le,croppedImage:oe,imagePreview:oe})),F(!1),V(!0),setTimeout(()=>V(!1),1e4)}catch(oe){console.error("Error cropping image:",oe)}},className:`save-profile-button ${B?"glow-bounce":""}`,style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"none",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(20,77,255,0.2)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Cropped Image"})]})]}),S.jsx("button",{type:"submit",className:`save-profile-button ${B?"glow-bounce":""}`,style:{padding:"1rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Profile"})]})]})})};var Ea={},t1;function y2(){if(t1)return Ea;t1=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.parse=y,Ea.serialize=E;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,o=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,d=/^[\u0020-\u003A\u003D-\u007E]*$/,p=Object.prototype.toString,x=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function y(R,M){const L=new x,F=R.length;if(F<2)return L;const B=(M==null?void 0:M.decode)||b;let V=0;do{const H=R.indexOf("=",V);if(H===-1)break;const U=R.indexOf(";",V),ne=U===-1?F:U;if(H>ne){V=R.lastIndexOf(";",H-1)+1;continue}const oe=A(R,V,H),le=w(R,H,oe),X=R.slice(oe,le);if(L[X]===void 0){let ce=A(R,H+1,ne),Q=w(R,ne,ce);const _e=B(R.slice(ce,Q));L[X]=_e}V=ne+1}while(V<F);return L}function A(R,M,L){do{const F=R.charCodeAt(M);if(F!==32&&F!==9)return M}while(++M<L);return L}function w(R,M,L){for(;M>L;){const F=R.charCodeAt(--M);if(F!==32&&F!==9)return M+1}return L}function E(R,M,L){const F=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const B=F(M);if(!o.test(B))throw new TypeError(`argument val is invalid: ${M}`);let V=R+"="+B;if(!L)return V;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);V+="; Max-Age="+L.maxAge}if(L.domain){if(!a.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);V+="; Domain="+L.domain}if(L.path){if(!d.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);V+="; Path="+L.path}if(L.expires){if(!I(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);V+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(V+="; HttpOnly"),L.secure&&(V+="; Secure"),L.partitioned&&(V+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return V}function b(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function I(R){return p.call(R)==="[object Date]"}return Ea}y2();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var n1="popstate";function w2(r={}){function o(d,p){let{pathname:x,search:y,hash:A}=d.location;return Nf("",{pathname:x,search:y,hash:A},p.state&&p.state.usr||null,p.state&&p.state.key||"default")}function a(d,p){return typeof p=="string"?p:Oa(p)}return C2(o,a,null,r)}function un(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function gi(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function v2(){return Math.random().toString(36).substring(2,10)}function r1(r,o){return{usr:r.state,key:r.key,idx:o}}function Nf(r,o,a=null,d){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?Mo(o):o,state:a,key:o&&o.key||d||v2()}}function Oa({pathname:r="/",search:o="",hash:a=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Mo(r){let o={};if(r){let a=r.indexOf("#");a>=0&&(o.hash=r.substring(a),r=r.substring(0,a));let d=r.indexOf("?");d>=0&&(o.search=r.substring(d),r=r.substring(0,d)),r&&(o.pathname=r)}return o}function C2(r,o,a,d={}){let{window:p=document.defaultView,v5Compat:x=!1}=d,y=p.history,A="POP",w=null,E=b();E==null&&(E=0,y.replaceState({...y.state,idx:E},""));function b(){return(y.state||{idx:null}).idx}function I(){A="POP";let B=b(),V=B==null?null:B-E;E=B,w&&w({action:A,location:F.location,delta:V})}function R(B,V){A="PUSH";let H=Nf(F.location,B,V);E=b()+1;let U=r1(H,E),ne=F.createHref(H);try{y.pushState(U,"",ne)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;p.location.assign(ne)}x&&w&&w({action:A,location:F.location,delta:1})}function M(B,V){A="REPLACE";let H=Nf(F.location,B,V);E=b();let U=r1(H,E),ne=F.createHref(H);y.replaceState(U,"",ne),x&&w&&w({action:A,location:F.location,delta:0})}function L(B){let V=p.location.origin!=="null"?p.location.origin:p.location.href,H=typeof B=="string"?B:Oa(B);return H=H.replace(/ $/,"%20"),un(V,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,V)}let F={get action(){return A},get location(){return r(p,y)},listen(B){if(w)throw new Error("A history only accepts one active listener");return p.addEventListener(n1,I),w=B,()=>{p.removeEventListener(n1,I),w=null}},createHref(B){return o(p,B)},createURL:L,encodeLocation(B){let V=L(B);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:R,replace:M,go(B){return y.go(B)}};return F}function Bp(r,o,a="/"){return E2(r,o,a,!1)}function E2(r,o,a,d){let p=typeof o=="string"?Mo(o):o,x=hs(p.pathname||"/",a);if(x==null)return null;let y=Fp(r);A2(y);let A=null;for(let w=0;A==null&&w<y.length;++w){let E=M2(x);A=P2(y[w],E,d)}return A}function Fp(r,o=[],a=[],d=""){let p=(x,y,A)=>{let w={relativePath:A===void 0?x.path||"":A,caseSensitive:x.caseSensitive===!0,childrenIndex:y,route:x};w.relativePath.startsWith("/")&&(un(w.relativePath.startsWith(d),`Absolute route path "${w.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),w.relativePath=w.relativePath.slice(d.length));let E=Di([d,w.relativePath]),b=a.concat(w);x.children&&x.children.length>0&&(un(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${E}".`),Fp(x.children,o,b,E)),!(x.path==null&&!x.index)&&o.push({path:E,score:_2(E,x.index),routesMeta:b})};return r.forEach((x,y)=>{var A;if(x.path===""||!((A=x.path)!=null&&A.includes("?")))p(x,y);else for(let w of jp(x.path))p(x,y,w)}),o}function jp(r){let o=r.split("/");if(o.length===0)return[];let[a,...d]=o,p=a.endsWith("?"),x=a.replace(/\?$/,"");if(d.length===0)return p?[x,""]:[x];let y=jp(d.join("/")),A=[];return A.push(...y.map(w=>w===""?x:[x,w].join("/"))),p&&A.push(...y),A.map(w=>r.startsWith("/")&&w===""?"/":w)}function A2(r){r.sort((o,a)=>o.score!==a.score?a.score-o.score:k2(o.routesMeta.map(d=>d.childrenIndex),a.routesMeta.map(d=>d.childrenIndex)))}var b2=/^:[\w-]+$/,S2=3,T2=2,I2=1,N2=10,R2=-2,i1=r=>r==="*";function _2(r,o){let a=r.split("/"),d=a.length;return a.some(i1)&&(d+=R2),o&&(d+=T2),a.filter(p=>!i1(p)).reduce((p,x)=>p+(b2.test(x)?S2:x===""?I2:N2),d)}function k2(r,o){return r.length===o.length&&r.slice(0,-1).every((d,p)=>d===o[p])?r[r.length-1]-o[o.length-1]:0}function P2(r,o,a=!1){let{routesMeta:d}=r,p={},x="/",y=[];for(let A=0;A<d.length;++A){let w=d[A],E=A===d.length-1,b=x==="/"?o:o.slice(x.length)||"/",I=gc({path:w.relativePath,caseSensitive:w.caseSensitive,end:E},b),R=w.route;if(!I&&E&&a&&!d[d.length-1].route.index&&(I=gc({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},b)),!I)return null;Object.assign(p,I.params),y.push({params:p,pathname:Di([x,I.pathname]),pathnameBase:F2(Di([x,I.pathnameBase])),route:R}),I.pathnameBase!=="/"&&(x=Di([x,I.pathnameBase]))}return y}function gc(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,d]=O2(r.path,r.caseSensitive,r.end),p=o.match(a);if(!p)return null;let x=p[0],y=x.replace(/(.)\/+$/,"$1"),A=p.slice(1);return{params:d.reduce((E,{paramName:b,isOptional:I},R)=>{if(b==="*"){let L=A[R]||"";y=x.slice(0,x.length-L.length).replace(/(.)\/+$/,"$1")}const M=A[R];return I&&!M?E[b]=void 0:E[b]=(M||"").replace(/%2F/g,"/"),E},{}),pathname:x,pathnameBase:y,pattern:r}}function O2(r,o=!1,a=!0){gi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let d=[],p="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,A,w)=>(d.push({paramName:A,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(d.push({paramName:"*"}),p+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?p+="\\/*$":r!==""&&r!=="/"&&(p+="(?:(?=\\/|$))"),[new RegExp(p,o?void 0:"i"),d]}function M2(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return gi(!1,`The URL path "${r}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function hs(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let a=o.endsWith("/")?o.length-1:o.length,d=r.charAt(a);return d&&d!=="/"?null:r.slice(a)||"/"}function D2(r,o="/"){let{pathname:a,search:d="",hash:p=""}=typeof r=="string"?Mo(r):r;return{pathname:a?a.startsWith("/")?a:L2(a,o):o,search:j2(d),hash:V2(p)}}function L2(r,o){let a=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(p=>{p===".."?a.length>1&&a.pop():p!=="."&&a.push(p)}),a.length>1?a.join("/"):"/"}function df(r,o,a,d){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B2(r){return r.filter((o,a)=>a===0||o.route.path&&o.route.path.length>0)}function Vp(r){let o=B2(r);return o.map((a,d)=>d===o.length-1?a.pathname:a.pathnameBase)}function zp(r,o,a,d=!1){let p;typeof r=="string"?p=Mo(r):(p={...r},un(!p.pathname||!p.pathname.includes("?"),df("?","pathname","search",p)),un(!p.pathname||!p.pathname.includes("#"),df("#","pathname","hash",p)),un(!p.search||!p.search.includes("#"),df("#","search","hash",p)));let x=r===""||p.pathname==="",y=x?"/":p.pathname,A;if(y==null)A=a;else{let I=o.length-1;if(!d&&y.startsWith("..")){let R=y.split("/");for(;R[0]==="..";)R.shift(),I-=1;p.pathname=R.join("/")}A=I>=0?o[I]:"/"}let w=D2(p,A),E=y&&y!=="/"&&y.endsWith("/"),b=(x||y===".")&&a.endsWith("/");return!w.pathname.endsWith("/")&&(E||b)&&(w.pathname+="/"),w}var Di=r=>r.join("/").replace(/\/\/+/g,"/"),F2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),j2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,V2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function z2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Up=["POST","PUT","PATCH","DELETE"];new Set(Up);var U2=["GET",...Up];new Set(U2);var Do=_.createContext(null);Do.displayName="DataRouter";var Ic=_.createContext(null);Ic.displayName="DataRouterState";var Wp=_.createContext({isTransitioning:!1});Wp.displayName="ViewTransition";var W2=_.createContext(new Map);W2.displayName="Fetchers";var H2=_.createContext(null);H2.displayName="Await";var mi=_.createContext(null);mi.displayName="Navigation";var Wa=_.createContext(null);Wa.displayName="Location";var xi=_.createContext({outlet:null,matches:[],isDataRoute:!1});xi.displayName="Route";var td=_.createContext(null);td.displayName="RouteError";function G2(r,{relative:o}={}){un(Ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:d}=_.useContext(mi),{hash:p,pathname:x,search:y}=Ga(r,{relative:o}),A=x;return a!=="/"&&(A=x==="/"?a:Di([a,x])),d.createHref({pathname:A,search:y,hash:p})}function Ha(){return _.useContext(Wa)!=null}function yi(){return un(Ha(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Wa).location}var Hp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gp(r){_.useContext(mi).static||_.useLayoutEffect(r)}function Ir(){let{isDataRoute:r}=_.useContext(xi);return r?sy():X2()}function X2(){un(Ha(),"useNavigate() may be used only in the context of a <Router> component.");let r=_.useContext(Do),{basename:o,navigator:a}=_.useContext(mi),{matches:d}=_.useContext(xi),{pathname:p}=yi(),x=JSON.stringify(Vp(d)),y=_.useRef(!1);return Gp(()=>{y.current=!0}),_.useCallback((w,E={})=>{if(gi(y.current,Hp),!y.current)return;if(typeof w=="number"){a.go(w);return}let b=zp(w,JSON.parse(x),p,E.relative==="path");r==null&&o!=="/"&&(b.pathname=b.pathname==="/"?o:Di([o,b.pathname])),(E.replace?a.replace:a.push)(b,E.state,E)},[o,a,x,p,r])}_.createContext(null);function Y2(){let{matches:r}=_.useContext(xi),o=r[r.length-1];return o?o.params:{}}function Ga(r,{relative:o}={}){let{matches:a}=_.useContext(xi),{pathname:d}=yi(),p=JSON.stringify(Vp(a));return _.useMemo(()=>zp(r,JSON.parse(p),d,o==="path"),[r,p,d,o])}function K2(r,o){return Xp(r,o)}function Xp(r,o,a,d){var V;un(Ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:p}=_.useContext(mi),{matches:x}=_.useContext(xi),y=x[x.length-1],A=y?y.params:{},w=y?y.pathname:"/",E=y?y.pathnameBase:"/",b=y&&y.route;{let H=b&&b.path||"";Yp(w,!b||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let I=yi(),R;if(o){let H=typeof o=="string"?Mo(o):o;un(E==="/"||((V=H.pathname)==null?void 0:V.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${H.pathname}" was given in the \`location\` prop.`),R=H}else R=I;let M=R.pathname||"/",L=M;if(E!=="/"){let H=E.replace(/^\//,"").split("/");L="/"+M.replace(/^\//,"").split("/").slice(H.length).join("/")}let F=Bp(r,{pathname:L});gi(b||F!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),gi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=J2(F&&F.map(H=>Object.assign({},H,{params:Object.assign({},A,H.params),pathname:Di([E,p.encodeLocation?p.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?E:Di([E,p.encodeLocation?p.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),x,a,d);return o&&B?_.createElement(Wa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function Z2(){let r=iy(),o=z2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,d="rgba(200,200,200, 0.5)",p={padding:"0.5rem",backgroundColor:d},x={padding:"2px 4px",backgroundColor:d},y=null;return console.error("Error handled by React Router default ErrorBoundary:",r),y=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:x},"ErrorBoundary")," or"," ",_.createElement("code",{style:x},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},o),a?_.createElement("pre",{style:p},a):null,y)}var $2=_.createElement(Z2,null),q2=class extends _.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){console.error("React Router caught the following error during render",r,o)}render(){return this.state.error!==void 0?_.createElement(xi.Provider,{value:this.props.routeContext},_.createElement(td.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q2({routeContext:r,match:o,children:a}){let d=_.useContext(Do);return d&&d.static&&d.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=o.route.id),_.createElement(xi.Provider,{value:r},a)}function J2(r,o=[],a=null,d=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(o.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let p=r,x=a==null?void 0:a.errors;if(x!=null){let w=p.findIndex(E=>E.route.id&&(x==null?void 0:x[E.route.id])!==void 0);un(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),p=p.slice(0,Math.min(p.length,w+1))}let y=!1,A=-1;if(a)for(let w=0;w<p.length;w++){let E=p[w];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(A=w),E.route.id){let{loaderData:b,errors:I}=a,R=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!I||I[E.route.id]===void 0);if(E.route.lazy||R){y=!0,A>=0?p=p.slice(0,A+1):p=[p[0]];break}}}return p.reduceRight((w,E,b)=>{let I,R=!1,M=null,L=null;a&&(I=x&&E.route.id?x[E.route.id]:void 0,M=E.route.errorElement||$2,y&&(A<0&&b===0?(Yp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):A===b&&(R=!0,L=E.route.hydrateFallbackElement||null)));let F=o.concat(p.slice(0,b+1)),B=()=>{let V;return I?V=M:R?V=L:E.route.Component?V=_.createElement(E.route.Component,null):E.route.element?V=E.route.element:V=w,_.createElement(Q2,{match:E,routeContext:{outlet:w,matches:F,isDataRoute:a!=null},children:V})};return a&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?_.createElement(q2,{location:a.location,revalidation:a.revalidation,component:M,error:I,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):B()},null)}function nd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ey(r){let o=_.useContext(Do);return un(o,nd(r)),o}function ty(r){let o=_.useContext(Ic);return un(o,nd(r)),o}function ny(r){let o=_.useContext(xi);return un(o,nd(r)),o}function rd(r){let o=ny(r),a=o.matches[o.matches.length-1];return un(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function ry(){return rd("useRouteId")}function iy(){var d;let r=_.useContext(td),o=ty("useRouteError"),a=rd("useRouteError");return r!==void 0?r:(d=o.errors)==null?void 0:d[a]}function sy(){let{router:r}=ey("useNavigate"),o=rd("useNavigate"),a=_.useRef(!1);return Gp(()=>{a.current=!0}),_.useCallback(async(p,x={})=>{gi(a.current,Hp),a.current&&(typeof p=="number"?r.navigate(p):await r.navigate(p,{fromRouteId:o,...x}))},[r,o])}var s1={};function Yp(r,o,a){!o&&!s1[r]&&(s1[r]=!0,gi(!1,a))}_.memo(oy);function oy({routes:r,future:o,state:a}){return Xp(r,void 0,a,o)}function Qr(r){un(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ay({basename:r="/",children:o=null,location:a,navigationType:d="POP",navigator:p,static:x=!1}){un(!Ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=r.replace(/^\/*/,"/"),A=_.useMemo(()=>({basename:y,navigator:p,static:x,future:{}}),[y,p,x]);typeof a=="string"&&(a=Mo(a));let{pathname:w="/",search:E="",hash:b="",state:I=null,key:R="default"}=a,M=_.useMemo(()=>{let L=hs(w,y);return L==null?null:{location:{pathname:L,search:E,hash:b,state:I,key:R},navigationType:d}},[y,w,E,b,I,R,d]);return gi(M!=null,`<Router basename="${y}"> is not able to match the URL "${w}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:_.createElement(mi.Provider,{value:A},_.createElement(Wa.Provider,{children:o,value:M}))}function ly({children:r,location:o}){return K2(Rf(r),o)}function Rf(r,o=[]){let a=[];return _.Children.forEach(r,(d,p)=>{if(!_.isValidElement(d))return;let x=[...o,p];if(d.type===_.Fragment){a.push.apply(a,Rf(d.props.children,x));return}un(d.type===Qr,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),un(!d.props.index||!d.props.children,"An index route cannot have child routes.");let y={id:d.props.id||x.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(y.children=Rf(d.props.children,x)),a.push(y)}),a}var lc="get",cc="application/x-www-form-urlencoded";function Nc(r){return r!=null&&typeof r.tagName=="string"}function cy(r){return Nc(r)&&r.tagName.toLowerCase()==="button"}function uy(r){return Nc(r)&&r.tagName.toLowerCase()==="form"}function fy(r){return Nc(r)&&r.tagName.toLowerCase()==="input"}function dy(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function hy(r,o){return r.button===0&&(!o||o==="_self")&&!dy(r)}var tc=null;function py(){if(tc===null)try{new FormData(document.createElement("form"),0),tc=!1}catch{tc=!0}return tc}var gy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hf(r){return r!=null&&!gy.has(r)?(gi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cc}"`),null):r}function my(r,o){let a,d,p,x,y;if(uy(r)){let A=r.getAttribute("action");d=A?hs(A,o):null,a=r.getAttribute("method")||lc,p=hf(r.getAttribute("enctype"))||cc,x=new FormData(r)}else if(cy(r)||fy(r)&&(r.type==="submit"||r.type==="image")){let A=r.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=r.getAttribute("formaction")||A.getAttribute("action");if(d=w?hs(w,o):null,a=r.getAttribute("formmethod")||A.getAttribute("method")||lc,p=hf(r.getAttribute("formenctype"))||hf(A.getAttribute("enctype"))||cc,x=new FormData(A,r),!py()){let{name:E,type:b,value:I}=r;if(b==="image"){let R=E?`${E}.`:"";x.append(`${R}x`,"0"),x.append(`${R}y`,"0")}else E&&x.append(E,I)}}else{if(Nc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=lc,d=null,p=cc,y=r}return x&&p==="text/plain"&&(y=x,x=void 0),{action:d,method:a.toLowerCase(),encType:p,formData:x,body:y}}function id(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}async function xy(r,o){if(r.id in o)return o[r.id];try{let a=await import(r.module);return o[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yy(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function wy(r,o,a){let d=await Promise.all(r.map(async p=>{let x=o.routes[p.route.id];if(x){let y=await xy(x,a);return y.links?y.links():[]}return[]}));return Ay(d.flat(1).filter(yy).filter(p=>p.rel==="stylesheet"||p.rel==="preload").map(p=>p.rel==="stylesheet"?{...p,rel:"prefetch",as:"style"}:{...p,rel:"prefetch"}))}function o1(r,o,a,d,p,x){let y=(w,E)=>a[E]?w.route.id!==a[E].route.id:!0,A=(w,E)=>{var b;return a[E].pathname!==w.pathname||((b=a[E].route.path)==null?void 0:b.endsWith("*"))&&a[E].params["*"]!==w.params["*"]};return x==="assets"?o.filter((w,E)=>y(w,E)||A(w,E)):x==="data"?o.filter((w,E)=>{var I;let b=d.routes[w.route.id];if(!b||!b.hasLoader)return!1;if(y(w,E)||A(w,E))return!0;if(w.route.shouldRevalidate){let R=w.route.shouldRevalidate({currentUrl:new URL(p.pathname+p.search+p.hash,window.origin),currentParams:((I=a[0])==null?void 0:I.params)||{},nextUrl:new URL(r,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function vy(r,o){return Cy(r.map(a=>{let d=o.routes[a.route.id];if(!d)return[];let p=[d.module];return d.imports&&(p=p.concat(d.imports)),p}).flat(1))}function Cy(r){return[...new Set(r)]}function Ey(r){let o={},a=Object.keys(r).sort();for(let d of a)o[d]=r[d];return o}function Ay(r,o){let a=new Set;return new Set(o),r.reduce((d,p)=>{let x=JSON.stringify(Ey(p));return a.has(x)||(a.add(x),d.push({key:x,link:p})),d},[])}function by(r){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname="_root.data":o.pathname=`${o.pathname.replace(/\/$/,"")}.data`,o}function Sy(){let r=_.useContext(Do);return id(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ty(){let r=_.useContext(Ic);return id(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var sd=_.createContext(void 0);sd.displayName="FrameworkContext";function Kp(){let r=_.useContext(sd);return id(r,"You must render this element inside a <HydratedRouter> element"),r}function Iy(r,o){let a=_.useContext(sd),[d,p]=_.useState(!1),[x,y]=_.useState(!1),{onFocus:A,onBlur:w,onMouseEnter:E,onMouseLeave:b,onTouchStart:I}=o,R=_.useRef(null);_.useEffect(()=>{if(r==="render"&&y(!0),r==="viewport"){let F=V=>{V.forEach(H=>{y(H.isIntersecting)})},B=new IntersectionObserver(F,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[r]),_.useEffect(()=>{if(d){let F=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(F)}}},[d]);let M=()=>{p(!0)},L=()=>{p(!1),y(!1)};return a?r!=="intent"?[x,R,{}]:[x,R,{onFocus:Aa(A,M),onBlur:Aa(w,L),onMouseEnter:Aa(E,M),onMouseLeave:Aa(b,L),onTouchStart:Aa(I,M)}]:[!1,R,{}]}function Aa(r,o){return a=>{r&&r(a),a.defaultPrevented||o(a)}}function Ny({page:r,...o}){let{router:a}=Sy(),d=_.useMemo(()=>Bp(a.routes,r,a.basename),[a.routes,r,a.basename]);return d?_.createElement(_y,{page:r,matches:d,...o}):(console.warn(`Tried to prefetch ${r} but no routes matched.`),null)}function Ry(r){let{manifest:o,routeModules:a}=Kp(),[d,p]=_.useState([]);return _.useEffect(()=>{let x=!1;return wy(r,o,a).then(y=>{x||p(y)}),()=>{x=!0}},[r,o,a]),d}function _y({page:r,matches:o,...a}){let d=yi(),{manifest:p,routeModules:x}=Kp(),{loaderData:y,matches:A}=Ty(),w=_.useMemo(()=>o1(r,o,A,p,d,"data"),[r,o,A,p,d]),E=_.useMemo(()=>o1(r,o,A,p,d,"assets"),[r,o,A,p,d]),b=_.useMemo(()=>{if(r===d.pathname+d.search+d.hash)return[];let M=new Set,L=!1;if(o.forEach(B=>{var H;let V=p.routes[B.route.id];!V||!V.hasLoader||(!w.some(U=>U.route.id===B.route.id)&&B.route.id in y&&((H=x[B.route.id])!=null&&H.shouldRevalidate)||V.hasClientLoader?L=!0:M.add(B.route.id))}),M.size===0)return[];let F=by(r);return L&&M.size>0&&F.searchParams.set("_routes",o.filter(B=>M.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[y,d,p,w,o,r,x]),I=_.useMemo(()=>vy(E,p),[E,p]),R=Ry(E);return _.createElement(_.Fragment,null,b.map(M=>_.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...a})),I.map(M=>_.createElement("link",{key:M,rel:"modulepreload",href:M,...a})),R.map(({key:M,link:L})=>_.createElement("link",{key:M,...L})))}function ky(...r){return o=>{r.forEach(a=>{typeof a=="function"?a(o):a!=null&&(a.current=o)})}}var Zp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zp&&(window.__reactRouterVersion="7.0.2")}catch{}function Py({basename:r,children:o,window:a}){let d=_.useRef();d.current==null&&(d.current=w2({window:a,v5Compat:!0}));let p=d.current,[x,y]=_.useState({action:p.action,location:p.location}),A=_.useCallback(w=>{_.startTransition(()=>y(w))},[y]);return _.useLayoutEffect(()=>p.listen(A),[p,A]),_.createElement(ay,{basename:r,children:o,location:x.location,navigationType:x.action,navigator:p})}var $p=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qp=_.forwardRef(function({onClick:o,discover:a="render",prefetch:d="none",relative:p,reloadDocument:x,replace:y,state:A,target:w,to:E,preventScrollReset:b,viewTransition:I,...R},M){let{basename:L}=_.useContext(mi),F=typeof E=="string"&&$p.test(E),B,V=!1;if(typeof E=="string"&&F&&(B=E,Zp))try{let Q=new URL(window.location.href),_e=E.startsWith("//")?new URL(Q.protocol+E):new URL(E),ke=hs(_e.pathname,L);_e.origin===Q.origin&&ke!=null?E=ke+_e.search+_e.hash:V=!0}catch{gi(!1,`<Link to="${E}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=G2(E,{relative:p}),[U,ne,oe]=Iy(d,R),le=Ly(E,{replace:y,state:A,target:w,preventScrollReset:b,relative:p,viewTransition:I});function X(Q){o&&o(Q),Q.defaultPrevented||le(Q)}let ce=_.createElement("a",{...R,...oe,href:B||H,onClick:V||x?o:X,ref:ky(M,ne),target:w,"data-discover":!F&&a==="render"?"true":void 0});return U&&!F?_.createElement(_.Fragment,null,ce,_.createElement(Ny,{page:H})):ce});qp.displayName="Link";var Oy=_.forwardRef(function({"aria-current":o="page",caseSensitive:a=!1,className:d="",end:p=!1,style:x,to:y,viewTransition:A,children:w,...E},b){let I=Ga(y,{relative:E.relative}),R=yi(),M=_.useContext(Ic),{navigator:L,basename:F}=_.useContext(mi),B=M!=null&&zy(I)&&A===!0,V=L.encodeLocation?L.encodeLocation(I).pathname:I.pathname,H=R.pathname,U=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;a||(H=H.toLowerCase(),U=U?U.toLowerCase():null,V=V.toLowerCase()),U&&F&&(U=hs(U,F)||U);const ne=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let oe=H===V||!p&&H.startsWith(V)&&H.charAt(ne)==="/",le=U!=null&&(U===V||!p&&U.startsWith(V)&&U.charAt(V.length)==="/"),X={isActive:oe,isPending:le,isTransitioning:B},ce=oe?o:void 0,Q;typeof d=="function"?Q=d(X):Q=[d,oe?"active":null,le?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let _e=typeof x=="function"?x(X):x;return _.createElement(qp,{...E,"aria-current":ce,className:Q,ref:b,style:_e,to:y,viewTransition:A},typeof w=="function"?w(X):w)});Oy.displayName="NavLink";var My=_.forwardRef(({discover:r="render",fetcherKey:o,navigate:a,reloadDocument:d,replace:p,state:x,method:y=lc,action:A,onSubmit:w,relative:E,preventScrollReset:b,viewTransition:I,...R},M)=>{let L=jy(),F=Vy(A,{relative:E}),B=y.toLowerCase()==="get"?"get":"post",V=typeof A=="string"&&$p.test(A),H=U=>{if(w&&w(U),U.defaultPrevented)return;U.preventDefault();let ne=U.nativeEvent.submitter,oe=(ne==null?void 0:ne.getAttribute("formmethod"))||y;L(ne||U.currentTarget,{fetcherKey:o,method:oe,navigate:a,replace:p,state:x,relative:E,preventScrollReset:b,viewTransition:I})};return _.createElement("form",{ref:M,method:B,action:F,onSubmit:d?w:H,...R,"data-discover":!V&&r==="render"?"true":void 0})});My.displayName="Form";function Dy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qp(r){let o=_.useContext(Do);return un(o,Dy(r)),o}function Ly(r,{target:o,replace:a,state:d,preventScrollReset:p,relative:x,viewTransition:y}={}){let A=Ir(),w=yi(),E=Ga(r,{relative:x});return _.useCallback(b=>{if(hy(b,o)){b.preventDefault();let I=a!==void 0?a:Oa(w)===Oa(E);A(r,{replace:I,state:d,preventScrollReset:p,relative:x,viewTransition:y})}},[w,A,E,a,d,o,r,p,x,y])}var By=0,Fy=()=>`__${String(++By)}__`;function jy(){let{router:r}=Qp("useSubmit"),{basename:o}=_.useContext(mi),a=ry();return _.useCallback(async(d,p={})=>{let{action:x,method:y,encType:A,formData:w,body:E}=my(d,o);if(p.navigate===!1){let b=p.fetcherKey||Fy();await r.fetch(b,a,p.action||x,{preventScrollReset:p.preventScrollReset,formData:w,body:E,formMethod:p.method||y,formEncType:p.encType||A,flushSync:p.flushSync})}else await r.navigate(p.action||x,{preventScrollReset:p.preventScrollReset,formData:w,body:E,formMethod:p.method||y,formEncType:p.encType||A,replace:p.replace,state:p.state,fromRouteId:a,flushSync:p.flushSync,viewTransition:p.viewTransition})},[r,o,a])}function Vy(r,{relative:o}={}){let{basename:a}=_.useContext(mi),d=_.useContext(xi);un(d,"useFormAction must be used inside a RouteContext");let[p]=d.matches.slice(-1),x={...Ga(r||".",{relative:o})},y=yi();if(r==null){x.search=y.search;let A=new URLSearchParams(x.search),w=A.getAll("index");if(w.some(b=>b==="")){A.delete("index"),w.filter(I=>I).forEach(I=>A.append("index",I));let b=A.toString();x.search=b?`?${b}`:""}}return(!r||r===".")&&p.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(x.pathname=x.pathname==="/"?a:Di([a,x.pathname])),Oa(x)}function zy(r,o={}){let a=_.useContext(Wp);un(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=Qp("useViewTransitionState"),p=Ga(r,{relative:o.relative});if(!a.isTransitioning)return!1;let x=hs(a.currentLocation.pathname,d)||a.currentLocation.pathname,y=hs(a.nextLocation.pathname,d)||a.nextLocation.pathname;return gc(p.pathname,y)!=null||gc(p.pathname,x)!=null}new TextEncoder;function Jp(){const r="./assets",o="/sounds/prod_combined.mp3";Ir();const a=_.useRef(new Audio(r+o)),[d,p]=_.useState(!1),[x,y]=_.useState(!1),[A,w]=_.useState(null),[E,b]=_.useState(!1),[I,R]=_.useState(!1);_.useEffect(()=>{const H=a.current,U=()=>{H.pause(),H.currentTime=0,y(!1),B()};return H.addEventListener("ended",U),()=>H.removeEventListener("ended",U)},[I]);function M(){w(null),a.current.load(),a.current.play().then(()=>{a.current.pause(),a.current.currentTime=0,p(!0),y(!0),b(!0),F()}).catch(H=>{console.error("Error loading audio:",H),w("Failed to load audio. Please check the file path and format."),b(!1)})}function L(){return!!(a.current&&!a.current.paused)}function F(){a.current.paused?a.current.play().catch(H=>{console.error("Error playing audio:",H),w("Failed to play audio. Please try again.")}):a.current.currentTime=0}function B(){a.current&&(a.current.pause(),a.current.currentTime=0,a.current.src="",a.current=null)}function V(H){a.current.currentTime=H,console.log(a.current.duration)}return{audioRef:a,error:A,playSound:F,loadSound:M,seekTo:V,cancelSound:B,checkSound:L,soundEnabled:E,setSoundEnabled:b,isPlaying:x}}var Mn;(function(r){r[r.QR_CODE=0]="QR_CODE",r[r.AZTEC=1]="AZTEC",r[r.CODABAR=2]="CODABAR",r[r.CODE_39=3]="CODE_39",r[r.CODE_93=4]="CODE_93",r[r.CODE_128=5]="CODE_128",r[r.DATA_MATRIX=6]="DATA_MATRIX",r[r.MAXICODE=7]="MAXICODE",r[r.ITF=8]="ITF",r[r.EAN_13=9]="EAN_13",r[r.EAN_8=10]="EAN_8",r[r.PDF_417=11]="PDF_417",r[r.RSS_14=12]="RSS_14",r[r.RSS_EXPANDED=13]="RSS_EXPANDED",r[r.UPC_A=14]="UPC_A",r[r.UPC_E=15]="UPC_E",r[r.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Mn||(Mn={}));Mn.QR_CODE,Mn.AZTEC,Mn.CODABAR,Mn.CODE_39,Mn.CODE_93,Mn.CODE_128,Mn.DATA_MATRIX,Mn.MAXICODE,Mn.ITF,Mn.EAN_13,Mn.EAN_8,Mn.PDF_417,Mn.RSS_14,Mn.RSS_EXPANDED,Mn.UPC_A,Mn.UPC_E,Mn.UPC_EAN_EXTENSION;var a1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.URL=1]="URL"})(a1||(a1={}));var mc;(function(r){r[r.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",r[r.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(mc||(mc={}));var Uy=function(){function r(){}return r.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",r.SCAN_DEFAULT_FPS=2,r.DEFAULT_DISABLE_FLIP=!1,r.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,r.DEFAULT_SUPPORTED_SCAN_TYPE=[mc.SCAN_TYPE_CAMERA,mc.SCAN_TYPE_FILE],r}(),l1;(function(r){r[r.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",r[r.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",r[r.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(l1||(l1={}));var Sa={exports:{}},Wy=Sa.exports,c1;function Hy(){return c1||(c1=1,function(r,o){(function(a,d){d(o)})(Wy,function(a){function d(k){return k==null}var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,e){k.__proto__=e}||function(k,e){for(var n in e)e.hasOwnProperty(n)&&(k[n]=e[n])};function x(k,e){p(k,e);function n(){this.constructor=k}k.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function y(k,e){var n=Object.setPrototypeOf;n?n(k,e):k.__proto__=e}function A(k,e){e===void 0&&(e=k.constructor);var n=Error.captureStackTrace;n&&n(k,e)}var w=function(k){x(e,k);function e(n){var i=this.constructor,l=k.call(this,n)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),y(l,i.prototype),A(l),l}return e}(Error);class E extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}E.kind="Exception";class b extends E{}b.kind="ArgumentException";class I extends E{}I.kind="IllegalArgumentException";class R{constructor(e){if(this.binarizer=e,e===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,n){return this.binarizer.getBlackRow(e,n)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,n,i,l){const c=this.binarizer.getLuminanceSource().crop(e,n,i,l);return new R(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class M extends E{static getChecksumInstance(){return new M}}M.kind="ChecksumException";class L{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(e,n,i,l,c){for(;c--;)i[l++]=e[n++]}static currentTimeMillis(){return Date.now()}}class B extends E{}B.kind="IndexOutOfBoundsException";class V extends B{constructor(e=void 0,n=void 0){super(n),this.index=e,this.message=n}}V.kind="ArrayIndexOutOfBoundsException";class H{static fill(e,n){for(let i=0,l=e.length;i<l;i++)e[i]=n}static fillWithin(e,n,i,l){H.rangeCheck(e.length,n,i);for(let c=n;c<i;c++)e[c]=l}static rangeCheck(e,n,i){if(n>i)throw new I("fromIndex("+n+") > toIndex("+i+")");if(n<0)throw new V(n);if(i>e)throw new V(i)}static asList(...e){return e}static create(e,n,i){return Array.from({length:e}).map(c=>Array.from({length:n}).fill(i))}static createInt32Array(e,n,i){return Array.from({length:e}).map(c=>Int32Array.from({length:n}).fill(i))}static equals(e,n){if(!e||!n||!e.length||!n.length||e.length!==n.length)return!1;for(let i=0,l=e.length;i<l;i++)if(e[i]!==n[i])return!1;return!0}static hashCode(e){if(e===null)return 0;let n=1;for(const i of e)n=31*n+i;return n}static fillUint8Array(e,n){for(let i=0;i!==e.length;i++)e[i]=n}static copyOf(e,n){return e.slice(0,n)}static copyOfUint8Array(e,n){if(e.length<=n){const i=new Uint8Array(n);return i.set(e),i}return e.slice(0,n)}static copyOfRange(e,n,i){const l=i-n,c=new Int32Array(l);return F.arraycopy(e,n,c,0,l),c}static binarySearch(e,n,i){i===void 0&&(i=H.numberComparator);let l=0,c=e.length-1;for(;l<=c;){const u=c+l>>1,h=i(n,e[u]);if(h>0)l=u+1;else if(h<0)c=u-1;else return u}return-l-1}static numberComparator(e,n){return e-n}}class U{static numberOfTrailingZeros(e){let n;if(e===0)return 32;let i=31;return n=e<<16,n!==0&&(i-=16,e=n),n=e<<8,n!==0&&(i-=8,e=n),n=e<<4,n!==0&&(i-=4,e=n),n=e<<2,n!==0&&(i-=2,e=n),i-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let n=1;return e>>>16||(n+=16,e<<=16),e>>>24||(n+=8,e<<=8),e>>>28||(n+=4,e<<=4),e>>>30||(n+=2,e<<=2),n-=e>>>31,n}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,n){return Math.trunc(e/n)}static parseInt(e,n=void 0){return parseInt(e,n)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ne{constructor(e,n){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,n==null?this.bits=ne.makeArray(e):this.bits=n)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const n=ne.makeArray(e);F.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),c=i[l];c&=~((1<<(e&31))-1);const u=i.length;for(;c===0;){if(++l===u)return n;c=i[l]}const h=l*32+U.numberOfTrailingZeros(c);return h>n?n:h}getNextUnset(e){const n=this.size;if(e>=n)return n;const i=this.bits;let l=Math.floor(e/32),c=~i[l];c&=~((1<<(e&31))-1);const u=i.length;for(;c===0;){if(++l===u)return n;c=~i[l]}const h=l*32+U.numberOfTrailingZeros(c);return h>n?n:h}setBulk(e,n){this.bits[Math.floor(e/32)]=n}setRange(e,n){if(n<e||e<0||n>this.size)throw new I;if(n===e)return;n--;const i=Math.floor(e/32),l=Math.floor(n/32),c=this.bits;for(let u=i;u<=l;u++){const h=u>i?0:e&31,v=(2<<(u<l?31:n&31))-(1<<h);c[u]|=v}}clear(){const e=this.bits.length,n=this.bits;for(let i=0;i<e;i++)n[i]=0}isRange(e,n,i){if(n<e||e<0||n>this.size)throw new I;if(n===e)return!0;n--;const l=Math.floor(e/32),c=Math.floor(n/32),u=this.bits;for(let h=l;h<=c;h++){const m=h>l?0:e&31,N=(2<<(h<c?31:n&31))-(1<<m)&4294967295;if((u[h]&N)!==(i?N:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,n){if(n<0||n>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(let i=n;i>0;i--)this.appendBit((e>>i-1&1)===1)}appendBitArray(e){const n=e.size;this.ensureCapacity(this.size+n);for(let i=0;i<n;i++)this.appendBit(e.get(i))}xor(e){if(this.size!==e.size)throw new I("Sizes don't match");const n=this.bits;for(let i=0,l=n.length;i<l;i++)n[i]^=e.bits[i]}toBytes(e,n,i,l){for(let c=0;c<l;c++){let u=0;for(let h=0;h<8;h++)this.get(e)&&(u|=1<<7-h),e++;n[i+c]=u}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),i=n+1,l=this.bits;for(let c=0;c<i;c++){let u=l[c];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,e[n-c]=u}if(this.size!==i*32){const c=i*32-this.size;let u=e[0]>>>c;for(let h=1;h<i;h++){const m=e[h];u|=m<<32-c,e[h-1]=u,u=m>>>c}e[i-1]=u}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ne))return!1;const n=e;return this.size===n.size&&H.equals(this.bits,n.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let e="";for(let n=0,i=this.size;n<i;n++)n&7||(e+=" "),e+=this.get(n)?"X":".";return e}clone(){return new ne(this.size,this.bits.slice())}}var oe;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(oe||(oe={}));var le=oe;class X extends E{static getFormatInstance(){return new X}}X.kind="FormatException";var ce;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(ce||(ce={}));class Q{constructor(e,n,i,...l){this.valueIdentifier=e,this.name=i,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=l,Q.VALUE_IDENTIFIER_TO_ECI.set(e,this),Q.NAME_TO_ECI.set(i,this);const c=this.values;for(let u=0,h=c.length;u!==h;u++){const m=c[u];Q.VALUES_TO_ECI.set(m,this)}for(const u of l)Q.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new X("incorect value");const n=Q.VALUES_TO_ECI.get(e);if(n===void 0)throw new X("incorect value");return n}static getCharacterSetECIByName(e){const n=Q.NAME_TO_ECI.get(e);if(n===void 0)throw new X("incorect value");return n}equals(e){if(!(e instanceof Q))return!1;const n=e;return this.getName()===n.getName()}}Q.VALUE_IDENTIFIER_TO_ECI=new Map,Q.VALUES_TO_ECI=new Map,Q.NAME_TO_ECI=new Map,Q.Cp437=new Q(ce.Cp437,Int32Array.from([0,2]),"Cp437"),Q.ISO8859_1=new Q(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Q.ISO8859_2=new Q(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Q.ISO8859_3=new Q(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Q.ISO8859_4=new Q(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Q.ISO8859_5=new Q(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Q.ISO8859_6=new Q(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Q.ISO8859_7=new Q(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Q.ISO8859_8=new Q(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Q.ISO8859_9=new Q(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Q.ISO8859_10=new Q(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Q.ISO8859_11=new Q(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Q.ISO8859_13=new Q(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Q.ISO8859_14=new Q(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Q.ISO8859_15=new Q(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Q.ISO8859_16=new Q(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Q.SJIS=new Q(ce.SJIS,20,"SJIS","Shift_JIS"),Q.Cp1250=new Q(ce.Cp1250,21,"Cp1250","windows-1250"),Q.Cp1251=new Q(ce.Cp1251,22,"Cp1251","windows-1251"),Q.Cp1252=new Q(ce.Cp1252,23,"Cp1252","windows-1252"),Q.Cp1256=new Q(ce.Cp1256,24,"Cp1256","windows-1256"),Q.UnicodeBigUnmarked=new Q(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Q.UTF8=new Q(ce.UTF8,26,"UTF8","UTF-8"),Q.ASCII=new Q(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Q.Big5=new Q(ce.Big5,28,"Big5"),Q.GB18030=new Q(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Q.EUC_KR=new Q(ce.EUC_KR,30,"EUC_KR","EUC-KR");class _e extends E{}_e.kind="UnsupportedOperationException";class ke{static decode(e,n){const i=this.encodingName(n);return this.customDecoder?this.customDecoder(e,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(e,i):new TextDecoder(i).decode(e)}static shouldDecodeOnFallback(e){return!ke.isBrowser()&&e==="ISO-8859-1"}static encode(e,n){const i=this.encodingName(n);return this.customEncoder?this.customEncoder(e,i):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof Q?e:Q.getCharacterSetECIByName(e)}static decodeFallback(e,n){const i=this.encodingCharacterSet(n);if(ke.isDecodeFallbackSupported(i)){let l="";for(let c=0,u=e.length;c<u;c++){let h=e[c].toString(16);h.length<2&&(h="0"+h),l+="%"+h}return decodeURIComponent(l)}if(i.equals(Q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _e(`Encoding ${this.encodingName(n)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(Q.UTF8)||e.equals(Q.ISO8859_1)||e.equals(Q.ASCII)}static encodeFallback(e){const i=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let c=0;c<i.length;c++)l.push(i[c].charCodeAt(0));return new Uint8Array(l)}}class Te{static castAsNonUtf8Char(e,n=null){const i=n?n.getName():this.ISO88591;return ke.decode(new Uint8Array([e]),i)}static guessEncoding(e,n){if(n!=null&&n.get(le.CHARACTER_SET)!==void 0)return n.get(le.CHARACTER_SET).toString();const i=e.length;let l=!0,c=!0,u=!0,h=0,m=0,v=0,N=0,P=0,D=0,z=0,G=0,K=0,q=0,ie=0;const Ce=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Ae=0;Ae<i&&(l||c||u);Ae++){const ye=e[Ae]&255;u&&(h>0?ye&128?h--:u=!1:ye&128&&(ye&64?(h++,ye&32?(h++,ye&16?(h++,ye&8?u=!1:N++):v++):m++):u=!1)),l&&(ye>127&&ye<160?l=!1:ye>159&&(ye<192||ye===215||ye===247)&&ie++),c&&(P>0?ye<64||ye===127||ye>252?c=!1:P--:ye===128||ye===160||ye>239?c=!1:ye>160&&ye<224?(D++,G=0,z++,z>K&&(K=z)):ye>127?(P++,z=0,G++,G>q&&(q=G)):(z=0,G=0))}return u&&h>0&&(u=!1),c&&P>0&&(c=!1),u&&(Ce||m+v+N>0)?Te.UTF8:c&&(Te.ASSUME_SHIFT_JIS||K>=3||q>=3)?Te.SHIFT_JIS:l&&c?K===2&&D===2||ie*10>=i?Te.SHIFT_JIS:Te.ISO88591:l?Te.ISO88591:c?Te.SHIFT_JIS:u?Te.UTF8:Te.PLATFORM_DEFAULT_ENCODING}static format(e,...n){let i=-1;function l(u,h,m,v,N,P){if(u==="%%")return"%";if(n[++i]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,z;switch(P){case"s":z=n[i];break;case"c":z=n[i][0];break;case"f":z=parseFloat(n[i]).toFixed(u);break;case"p":z=parseFloat(n[i]).toPrecision(u);break;case"e":z=parseFloat(n[i]).toExponential(u);break;case"x":z=parseInt(n[i]).toString(D||16);break;case"d":z=parseFloat(parseInt(n[i],D||10).toPrecision(u)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(D);let G=parseInt(m),K=m&&m[0]+""=="0"?"0":" ";for(;z.length<G;)z=h!==void 0?z+K:K+z;return z}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}static getBytes(e,n){return ke.encode(e,n)}static getCharCode(e,n=0){return e.charCodeAt(n)}static getCharAt(e){return String.fromCharCode(e)}}Te.SHIFT_JIS=Q.SJIS.getName(),Te.GB2312="GB2312",Te.ISO88591=Q.ISO8859_1.getName(),Te.EUC_JP="EUC_JP",Te.UTF8=Q.UTF8.getName(),Te.PLATFORM_DEFAULT_ENCODING=Te.UTF8,Te.ASSUME_SHIFT_JIS=!1;class Ne{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=Te.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,n,i){for(let l=n;n<n+i;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+1)}substring(e,n){return this.value.substring(e,n)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,n){this.value=this.value.substr(0,e)+n+this.value.substr(e+n.length)}}class Re{constructor(e,n,i,l){if(this.width=e,this.height=n,this.rowSize=i,this.bits=l,n==null&&(n=e),this.height=n,e<1||n<1)throw new I("Both dimensions must be greater than 0");i==null&&(i=Math.floor((e+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const n=e.length,i=e[0].length,l=new Re(i,n);for(let c=0;c<n;c++){const u=e[c];for(let h=0;h<i;h++)u[h]&&l.set(h,c)}return l}static parseFromString(e,n,i){if(e===null)throw new I("stringRepresentation cannot be null");const l=new Array(e.length);let c=0,u=0,h=-1,m=0,v=0;for(;v<e.length;)if(e.charAt(v)===`
`||e.charAt(v)==="\r"){if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new I("row lengths do not match");u=c,m++}v++}else if(e.substring(v,v+n.length)===n)v+=n.length,l[c]=!0,c++;else if(e.substring(v,v+i.length)===i)v+=i.length,l[c]=!1,c++;else throw new I("illegal character encountered: "+e.substring(v));if(c>u){if(h===-1)h=c-u;else if(c-u!==h)throw new I("row lengths do not match");m++}const N=new Re(h,m);for(let P=0;P<c;P++)l[P]&&N.set(Math.floor(P%h),Math.floor(P/h));return N}get(e,n){const i=n*this.rowSize+Math.floor(e/32);return(this.bits[i]>>>(e&31)&1)!==0}set(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]|=1<<(e&31)&4294967295}unset(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]&=~(1<<(e&31)&4294967295)}flip(e,n){const i=n*this.rowSize+Math.floor(e/32);this.bits[i]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new I("input matrix dimensions do not match");const n=new ne(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let c=0,u=this.height;c<u;c++){const h=c*i,m=e.getRow(c,n).getBitArray();for(let v=0;v<i;v++)l[h+v]^=m[v]}}clear(){const e=this.bits,n=e.length;for(let i=0;i<n;i++)e[i]=0}setRegion(e,n,i,l){if(n<0||e<0)throw new I("Left and top must be nonnegative");if(l<1||i<1)throw new I("Height and width must be at least 1");const c=e+i,u=n+l;if(u>this.height||c>this.width)throw new I("The region must fit inside the matrix");const h=this.rowSize,m=this.bits;for(let v=n;v<u;v++){const N=v*h;for(let P=e;P<c;P++)m[N+Math.floor(P/32)]|=1<<(P&31)&4294967295}}getRow(e,n){n==null||n.getSize()<this.width?n=new ne(this.width):n.clear();const i=this.rowSize,l=this.bits,c=e*i;for(let u=0;u<i;u++)n.setBulk(u*32,l[c+u]);return n}setRow(e,n){F.arraycopy(n.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),n=this.getHeight();let i=new ne(e),l=new ne(e);for(let c=0,u=Math.floor((n+1)/2);c<u;c++)i=this.getRow(c,i),l=this.getRow(n-1-c,l),i.reverse(),l.reverse(),this.setRow(c,l),this.setRow(n-1-c,i)}getEnclosingRectangle(){const e=this.width,n=this.height,i=this.rowSize,l=this.bits;let c=e,u=n,h=-1,m=-1;for(let v=0;v<n;v++)for(let N=0;N<i;N++){const P=l[v*i+N];if(P!==0){if(v<u&&(u=v),v>m&&(m=v),N*32<c){let D=0;for(;!(P<<31-D&4294967295);)D++;N*32+D<c&&(c=N*32+D)}if(N*32+31>h){let D=31;for(;!(P>>>D);)D--;N*32+D>h&&(h=N*32+D)}}}return h<c||m<u?null:Int32Array.from([c,u,h-c+1,m-u+1])}getTopLeftOnBit(){const e=this.rowSize,n=this.bits;let i=0;for(;i<n.length&&n[i]===0;)i++;if(i===n.length)return null;const l=i/e;let c=i%e*32;const u=n[i];let h=0;for(;!(u<<31-h&4294967295);)h++;return c+=h,Int32Array.from([c,l])}getBottomRightOnBit(){const e=this.rowSize,n=this.bits;let i=n.length-1;for(;i>=0&&n[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/e);let c=Math.floor(i%e)*32;const u=n[i];let h=31;for(;!(u>>>h);)h--;return c+=h,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Re))return!1;const n=e;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&H.equals(this.bits,n.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+H.hashCode(this.bits),e}toString(e="X ",n="  ",i=`
`){return this.buildToString(e,n,i)}buildToString(e,n,i){let l=new Ne;for(let c=0,u=this.height;c<u;c++){for(let h=0,m=this.width;h<m;h++)l.append(this.get(h,c)?e:n);l.append(i)}return l.toString()}clone(){return new Re(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends E{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class Ve extends L{constructor(e){super(e),this.luminances=Ve.EMPTY,this.buckets=new Int32Array(Ve.LUMINANCE_BUCKETS)}getBlackRow(e,n){const i=this.getLuminanceSource(),l=i.getWidth();n==null||n.getSize()<l?n=new ne(l):n.clear(),this.initArrays(l);const c=i.getRow(e,this.luminances),u=this.buckets;for(let m=0;m<l;m++)u[(c[m]&255)>>Ve.LUMINANCE_SHIFT]++;const h=Ve.estimateBlackPoint(u);if(l<3)for(let m=0;m<l;m++)(c[m]&255)<h&&n.set(m);else{let m=c[0]&255,v=c[1]&255;for(let N=1;N<l-1;N++){const P=c[N+1]&255;(v*4-m-P)/2<h&&n.set(N),m=v,v=P}}return n}getBlackMatrix(){const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight(),l=new Re(n,i);this.initArrays(n);const c=this.buckets;for(let m=1;m<5;m++){const v=Math.floor(i*m/5),N=e.getRow(v,this.luminances),P=Math.floor(n*4/5);for(let D=Math.floor(n/5);D<P;D++){const z=N[D]&255;c[z>>Ve.LUMINANCE_SHIFT]++}}const u=Ve.estimateBlackPoint(c),h=e.getMatrix();for(let m=0;m<i;m++){const v=m*n;for(let N=0;N<n;N++)(h[v+N]&255)<u&&l.set(N,m)}return l}createBinarizer(e){return new Ve(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const n=this.buckets;for(let i=0;i<Ve.LUMINANCE_BUCKETS;i++)n[i]=0}static estimateBlackPoint(e){const n=e.length;let i=0,l=0,c=0;for(let N=0;N<n;N++)e[N]>c&&(l=N,c=e[N]),e[N]>i&&(i=e[N]);let u=0,h=0;for(let N=0;N<n;N++){const P=N-l,D=e[N]*P*P;D>h&&(u=N,h=D)}if(l>u){const N=l;l=u,u=N}if(u-l<=n/16)throw new J;let m=u-1,v=-1;for(let N=u-1;N>l;N--){const P=N-l,D=P*P*(u-N)*(i-e[N]);D>v&&(m=N,v=D)}return m<<Ve.LUMINANCE_SHIFT}}Ve.LUMINANCE_BITS=5,Ve.LUMINANCE_SHIFT=8-Ve.LUMINANCE_BITS,Ve.LUMINANCE_BUCKETS=1<<Ve.LUMINANCE_BITS,Ve.EMPTY=Uint8ClampedArray.from([0]);class ue extends Ve{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),n=e.getWidth(),i=e.getHeight();if(n>=ue.MINIMUM_DIMENSION&&i>=ue.MINIMUM_DIMENSION){const l=e.getMatrix();let c=n>>ue.BLOCK_SIZE_POWER;n&ue.BLOCK_SIZE_MASK&&c++;let u=i>>ue.BLOCK_SIZE_POWER;i&ue.BLOCK_SIZE_MASK&&u++;const h=ue.calculateBlackPoints(l,c,u,n,i),m=new Re(n,i);ue.calculateThresholdForBlock(l,c,u,n,i,h,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ue(e)}static calculateThresholdForBlock(e,n,i,l,c,u,h){const m=c-ue.BLOCK_SIZE,v=l-ue.BLOCK_SIZE;for(let N=0;N<i;N++){let P=N<<ue.BLOCK_SIZE_POWER;P>m&&(P=m);const D=ue.cap(N,2,i-3);for(let z=0;z<n;z++){let G=z<<ue.BLOCK_SIZE_POWER;G>v&&(G=v);const K=ue.cap(z,2,n-3);let q=0;for(let Ce=-2;Ce<=2;Ce++){const Ae=u[D+Ce];q+=Ae[K-2]+Ae[K-1]+Ae[K]+Ae[K+1]+Ae[K+2]}const ie=q/25;ue.thresholdBlock(e,G,P,ie,l,h)}}}static cap(e,n,i){return e<n?n:e>i?i:e}static thresholdBlock(e,n,i,l,c,u){for(let h=0,m=i*c+n;h<ue.BLOCK_SIZE;h++,m+=c)for(let v=0;v<ue.BLOCK_SIZE;v++)(e[m+v]&255)<=l&&u.set(n+v,i+h)}static calculateBlackPoints(e,n,i,l,c){const u=c-ue.BLOCK_SIZE,h=l-ue.BLOCK_SIZE,m=new Array(i);for(let v=0;v<i;v++){m[v]=new Int32Array(n);let N=v<<ue.BLOCK_SIZE_POWER;N>u&&(N=u);for(let P=0;P<n;P++){let D=P<<ue.BLOCK_SIZE_POWER;D>h&&(D=h);let z=0,G=255,K=0;for(let ie=0,Ce=N*l+D;ie<ue.BLOCK_SIZE;ie++,Ce+=l){for(let Ae=0;Ae<ue.BLOCK_SIZE;Ae++){const ye=e[Ce+Ae]&255;z+=ye,ye<G&&(G=ye),ye>K&&(K=ye)}if(K-G>ue.MIN_DYNAMIC_RANGE)for(ie++,Ce+=l;ie<ue.BLOCK_SIZE;ie++,Ce+=l)for(let Ae=0;Ae<ue.BLOCK_SIZE;Ae++)z+=e[Ce+Ae]&255}let q=z>>ue.BLOCK_SIZE_POWER*2;if(K-G<=ue.MIN_DYNAMIC_RANGE&&(q=G/2,v>0&&P>0)){const ie=(m[v-1][P]+2*m[v][P-1]+m[v-1][P-1])/4;G<ie&&(q=ie)}m[v][P]=q}}return m}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class fe{constructor(e,n){this.width=e,this.height=n}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,n,i,l){throw new _e("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _e("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _e("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let n=new Ne;for(let i=0;i<this.height;i++){const l=this.getRow(i,e);for(let c=0;c<this.width;c++){const u=l[c]&255;let h;u<64?h="#":u<128?h="+":u<192?h=".":h=" ",n.append(h)}n.append(`
`)}return n.toString()}}class ge extends fe{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,n){const i=this.delegate.getRow(e,n),l=this.getWidth();for(let c=0;c<l;c++)i[c]=255-(i[c]&255);return i}getMatrix(){const e=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n);for(let l=0;l<n;l++)i[l]=255-(e[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(e,n,i,l){return new ge(this.delegate.crop(e,n,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class he extends fe{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const n=e.getContext("2d").getImageData(0,0,e.width,e.height);return he.toGrayscaleBuffer(n.data,e.width,e.height)}static toGrayscaleBuffer(e,n,i){const l=new Uint8ClampedArray(n*i);for(let c=0,u=0,h=e.length;c<h;c+=4,u++){let m;if(e[c+3]===0)m=255;else{const N=e[c],P=e[c+1],D=e[c+2];m=306*N+601*P+117*D+512>>10}l[u]=m}return l}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const i=this.getWidth(),l=e*i;return n===null?n=this.buffer.slice(l,l+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(l,l+i))),n}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,n,i,l){return super.crop(e,n,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const n=this.getTempCanvasElement(),i=n.getContext("2d"),l=e*he.DEGREE_TO_RADIANS,c=this.canvas.width,u=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*u),m=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*u);return n.width=h,n.height=m,i.translate(h/2,m/2),i.rotate(l),i.drawImage(this.canvas,c/-2,u/-2),this.buffer=he.makeBufferFromCanvasImageData(n),this}invert(){return new ge(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class Z{constructor(e,n,i){this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||Ql||self||window||void 0)&&(globalThis||Ql||self||window||void 0).__awaiter||function(k,e,n,i){function l(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(N){try{v(i.next(N))}catch(P){u(P)}}function m(N){try{v(i.throw(N))}catch(P){u(P)}}function v(N){N.done?c(N.value):l(N.value).then(h,m)}v((i=i.apply(k,e||[])).next())})};class We{constructor(e,n=500,i){this.reader=e,this.timeBetweenScansMillis=n,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),n=[];for(const i of e){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const c=i.deviceId||i.id,u=i.label||`Video device ${n.length+1}`,h=i.groupId,m={deviceId:c,label:u,kind:l,groupId:h};n.push(m)}return n})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(n=>new Z(n.deviceId,n.label))})}findDeviceById(e){return de(this,void 0,void 0,function*(){const n=yield this.listVideoInputDevices();return n?n.find(i=>i.deviceId===e):null})}decodeFromInputVideoDevice(e,n){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,n)})}decodeOnceFromVideoDevice(e,n){return de(this,void 0,void 0,function*(){this.reset();let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,n)})}decodeOnceFromConstraints(e,n){return de(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(i,n)})}decodeOnceFromStream(e,n){return de(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,n);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(e,n,i){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,n,i)})}decodeFromVideoDevice(e,n,i){return de(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeFromConstraints(c,n,i)})}decodeFromConstraints(e,n,i){return de(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,n,i)})}decodeFromStream(e,n,i){return de(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,n);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,n){return de(this,void 0,void 0,function*(){const i=this.prepareVideoElement(n);return this.addVideoSource(i,e),this.videoElement=i,this.stream=e,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(e){return new Promise((n,i)=>this.playVideoOnLoad(e,()=>n()))}playVideoOnLoad(e,n){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",n),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,n){const i=document.getElementById(e);if(!i)throw new b(`element with id '${e}' not found`);if(i.nodeName.toLowerCase()!==n.toLowerCase())throw new b(`element with id '${e}' must be an ${n} element`);return i}decodeFromImage(e,n){if(!e&&!n)throw new b("either imageElement with a src set or an url must be provided");return n&&!e?this.decodeFromImageUrl(n):this.decodeFromImageElement(e)}decodeFromVideo(e,n){if(!e&&!n)throw new b("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,n,i){if(e===void 0&&n===void 0)throw new b("Either an element with a src set or an URL must be provided");return n&&!e?this.decodeFromVideoUrlContinuously(n,i):this.decodeFromVideoElementContinuously(e,i)}decodeFromImageElement(e){if(!e)throw new b("An image element must be provided.");this.reset();const n=this.prepareImageElement(e);this.imageElement=n;let i;return this.isImageLoaded(n)?i=this.decodeOnce(n,!1,!0):i=this._decodeOnLoadImage(n),i}decodeFromVideoElement(e){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(n)}decodeFromVideoElementContinuously(e,n){const i=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(i,n)}_decodeFromVideoElementSetup(e){if(!e)throw new b("A video element must be provided.");this.reset();const n=this.prepareVideoElement(e);return this.videoElement=n,n}decodeFromImageUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const n=this.prepareImageElement();this.imageElement=n;const i=this._decodeOnLoadImage(n);return n.src=e,i}decodeFromVideoUrl(e){if(!e)throw new b("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElement(n);return n.src=e,i}decodeFromVideoUrlContinuously(e,n){if(!e)throw new b("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,n);return i.src=e,l}_decodeOnLoadImage(e){return new Promise((n,i)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(n,i),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,n){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,n)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let n;return typeof e>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(n=e),n}prepareVideoElement(e){let n;return!e&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof e=="string"&&(n=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(n=e),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}decodeOnce(e,n=!0,i=!0){this._stopAsyncDecode=!1;const l=(c,u)=>{if(this._stopAsyncDecode){u(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(e);c(h)}catch(h){const m=n&&h instanceof J,N=(h instanceof M||h instanceof X)&&i;if(m||N)return setTimeout(l,this._timeBetweenDecodingAttempts,c,u);u(h)}};return new Promise((c,u)=>l(c,u))}decodeContinuously(e,n){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);n(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){n(null,l);const c=l instanceof M||l instanceof X,u=l instanceof J;(c||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(e){const n=this.createBinaryBitmap(e);return this.decodeBitmap(n)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,n,i){n||(n={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}drawImageOnCanvas(e,n,i=this.captureCanvasContext){n||(n={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(e,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const n=this.getCaptureCanvas(e),i=new he(n),l=new ue(i);return new R(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const n=this.createCaptureCanvas(e);this.captureCanvas=n}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const n=document.createElement("canvas");let i,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(i=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(i=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),n.style.width=i+"px",n.style.height=l+"px",n.width=i,n.height=l,n}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,n){try{e.srcObject=n}catch{e.src=URL.createObjectURL(n)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class Ue{constructor(e,n,i=n==null?0:8*n.length,l,c,u=F.currentTimeMillis()){this.text=e,this.rawBytes=n,this.numBits=i,this.resultPoints=l,this.format=c,this.timestamp=u,this.text=e,this.rawBytes=n,i==null?this.numBits=n==null?0:8*n.length:this.numBits=i,this.resultPoints=l,this.format=c,this.resultMetadata=null,u==null?this.timestamp=F.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,n)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const n=this.resultPoints;if(n===null)this.resultPoints=e;else if(e!==null&&e.length>0){const i=new Array(n.length+e.length);F.arraycopy(n,0,i,0,n.length),F.arraycopy(e,0,i,n.length,e.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var at;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(at||(at={}));var Ee=at,tt;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(tt||(tt={}));var Fe=tt;class xt{constructor(e,n,i,l,c=-1,u=-1){this.rawBytes=e,this.text=n,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=u,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class me{exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}static addOrSubtract(e,n){return e^n}}class gt{constructor(e,n){if(n.length===0)throw new I;this.field=e;const i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),F.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const n=this.coefficients;let i;if(e===1){i=0;for(let u=0,h=n.length;u!==h;u++){const m=n[u];i=me.addOrSubtract(i,m)}return i}i=n[0];const l=n.length,c=this.field;for(let u=1;u<l;u++)i=me.addOrSubtract(c.multiply(e,i),n[u]);return i}addOrSubtract(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){const u=n;n=i,i=u}let l=new Int32Array(i.length);const c=i.length-n.length;F.arraycopy(i,0,l,0,c);for(let u=c;u<i.length;u++)l[u]=me.addOrSubtract(n[u-c],i[u]);return new gt(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const n=this.coefficients,i=n.length,l=e.coefficients,c=l.length,u=new Int32Array(i+c-1),h=this.field;for(let m=0;m<i;m++){const v=n[m];for(let N=0;N<c;N++)u[m+N]=me.addOrSubtract(u[m+N],h.multiply(v,l[N]))}return new gt(h,u)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const n=this.coefficients.length,i=this.field,l=new Int32Array(n),c=this.coefficients;for(let u=0;u<n;u++)l[u]=i.multiply(c[u],e);return new gt(i,l)}multiplyByMonomial(e,n){if(e<0)throw new I;if(n===0)return this.field.getZero();const i=this.coefficients,l=i.length,c=new Int32Array(l+e),u=this.field;for(let h=0;h<l;h++)c[h]=u.multiply(i[h],n);return new gt(u,c)}divide(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new I("Divide by 0");const n=this.field;let i=n.getZero(),l=this;const c=e.getCoefficient(e.getDegree()),u=n.inverse(c);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const h=l.getDegree()-e.getDegree(),m=n.multiply(l.getCoefficient(l.getDegree()),u),v=e.multiplyByMonomial(h,m),N=n.buildMonomial(h,m);i=i.addOrSubtract(N),l=l.addOrSubtract(v)}return[i,l]}toString(){let e="";for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);if(i!==0){if(i<0?(e+=" - ",i=-i):e.length>0&&(e+=" + "),n===0||i!==1){const l=this.field.log(i);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}n!==0&&(n===1?e+="x":(e+="x^",e+=n))}}return e}}class yt extends E{}yt.kind="ArithmeticException";class Pe extends me{constructor(e,n,i){super(),this.primitive=e,this.size=n,this.generatorBase=i;const l=new Int32Array(n);let c=1;for(let h=0;h<n;h++)l[h]=c,c*=2,c>=n&&(c^=e,c&=n-1);this.expTable=l;const u=new Int32Array(n);for(let h=0;h<n-1;h++)u[l[h]]=h;this.logTable=u,this.zero=new gt(this,Int32Array.from([0])),this.one=new gt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new I;if(n===0)return this.zero;const i=new Int32Array(e+1);return i[0]=n,new gt(this,i)}inverse(e){if(e===0)throw new yt;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Pe.AZTEC_DATA_12=new Pe(4201,4096,1),Pe.AZTEC_DATA_10=new Pe(1033,1024,1),Pe.AZTEC_DATA_6=new Pe(67,64,1),Pe.AZTEC_PARAM=new Pe(19,16,1),Pe.QR_CODE_FIELD_256=new Pe(285,256,0),Pe.DATA_MATRIX_FIELD_256=new Pe(301,256,1),Pe.AZTEC_DATA_8=Pe.DATA_MATRIX_FIELD_256,Pe.MAXICODE_FIELD_64=Pe.AZTEC_DATA_6;class At extends E{}At.kind="ReedSolomonException";class Ft extends E{}Ft.kind="IllegalStateException";class Gt{constructor(e){this.field=e}decode(e,n){const i=this.field,l=new gt(i,e),c=new Int32Array(n);let u=!0;for(let z=0;z<n;z++){const G=l.evaluateAt(i.exp(z+i.getGeneratorBase()));c[c.length-1-z]=G,G!==0&&(u=!1)}if(u)return;const h=new gt(i,c),m=this.runEuclideanAlgorithm(i.buildMonomial(n,1),h,n),v=m[0],N=m[1],P=this.findErrorLocations(v),D=this.findErrorMagnitudes(N,P);for(let z=0;z<P.length;z++){const G=e.length-1-i.log(P[z]);if(G<0)throw new At("Bad error location");e[G]=Pe.addOrSubtract(e[G],D[z])}}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){const z=e;e=n,n=z}const l=this.field;let c=e,u=n,h=l.getZero(),m=l.getOne();for(;u.getDegree()>=(i/2|0);){let z=c,G=h;if(c=u,h=m,c.isZero())throw new At("r_{i-1} was zero");u=z;let K=l.getZero();const q=c.getCoefficient(c.getDegree()),ie=l.inverse(q);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){const Ce=u.getDegree()-c.getDegree(),Ae=l.multiply(u.getCoefficient(u.getDegree()),ie);K=K.addOrSubtract(l.buildMonomial(Ce,Ae)),u=u.addOrSubtract(c.multiplyByMonomial(Ce,Ae))}if(m=K.multiply(h).addOrSubtract(G),u.getDegree()>=c.getDegree())throw new Ft("Division algorithm failed to reduce polynomial?")}const v=m.getCoefficient(0);if(v===0)throw new At("sigmaTilde(0) was zero");const N=l.inverse(v),P=m.multiplyScalar(N),D=u.multiplyScalar(N);return[P,D]}findErrorLocations(e){const n=e.getDegree();if(n===1)return Int32Array.from([e.getCoefficient(1)]);const i=new Int32Array(n);let l=0;const c=this.field;for(let u=1;u<c.getSize()&&l<n;u++)e.evaluateAt(u)===0&&(i[l]=c.inverse(u),l++);if(l!==n)throw new At("Error locator degree does not match number of roots");return i}findErrorMagnitudes(e,n){const i=n.length,l=new Int32Array(i),c=this.field;for(let u=0;u<i;u++){const h=c.inverse(n[u]);let m=1;for(let v=0;v<i;v++)if(u!==v){const N=c.multiply(n[v],h),P=N&1?N&-2:N|1;m=c.multiply(m,P)}l[u]=c.multiply(e.evaluateAt(h),c.inverse(m)),c.getGeneratorBase()!==0&&(l[u]=c.multiply(l[u],h))}return l}}var kt;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(kt||(kt={}));class St{decode(e){this.ddata=e;let n=e.getBits(),i=this.extractBits(n),l=this.correctBits(i),c=St.convertBoolArrayToByteArray(l),u=St.getEncodedData(l),h=new xt(c,u,null,null);return h.setNumBits(l.length),h}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let n=e.length,i=kt.UPPER,l=kt.UPPER,c="",u=0;for(;u<n;)if(l===kt.BINARY){if(n-u<5)break;let h=St.readCode(e,u,5);if(u+=5,h===0){if(n-u<11)break;h=St.readCode(e,u,11)+31,u+=11}for(let m=0;m<h;m++){if(n-u<8){u=n;break}const v=St.readCode(e,u,8);c+=Te.castAsNonUtf8Char(v),u+=8}l=i}else{let h=l===kt.DIGIT?4:5;if(n-u<h)break;let m=St.readCode(e,u,h);u+=h;let v=St.getCharacter(l,m);v.startsWith("CTRL_")?(i=l,l=St.getTable(v.charAt(5)),v.charAt(6)==="L"&&(i=l)):(c+=v,l=i)}return c}static getTable(e){switch(e){case"L":return kt.LOWER;case"P":return kt.PUNCT;case"M":return kt.MIXED;case"D":return kt.DIGIT;case"B":return kt.BINARY;case"U":default:return kt.UPPER}}static getCharacter(e,n){switch(e){case kt.UPPER:return St.UPPER_TABLE[n];case kt.LOWER:return St.LOWER_TABLE[n];case kt.MIXED:return St.MIXED_TABLE[n];case kt.PUNCT:return St.PUNCT_TABLE[n];case kt.DIGIT:return St.DIGIT_TABLE[n];default:throw new Ft("Bad table")}}correctBits(e){let n,i;this.ddata.getNbLayers()<=2?(i=6,n=Pe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,n=Pe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,n=Pe.AZTEC_DATA_10):(i=12,n=Pe.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),c=e.length/i;if(c<l)throw new X;let u=e.length%i,h=new Int32Array(c);for(let D=0;D<c;D++,u+=i)h[D]=St.readCode(e,u,i);try{new Gt(n).decode(h,c-l)}catch(D){throw new X(D)}let m=(1<<i)-1,v=0;for(let D=0;D<l;D++){let z=h[D];if(z===0||z===m)throw new X;(z===1||z===m-1)&&v++}let N=new Array(l*i-v),P=0;for(let D=0;D<l;D++){let z=h[D];if(z===1||z===m-1)N.fill(z>1,P,P+i-1),P+=i-1;else for(let G=i-1;G>=0;--G)N[P++]=(z&1<<G)!==0}return N}extractBits(e){let n=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(n?11:14)+i*4,c=new Int32Array(l),u=new Array(this.totalBitsInLayer(i,n));if(n)for(let h=0;h<c.length;h++)c[h]=h;else{let h=l+1+2*U.truncDivision(U.truncDivision(l,2)-1,15),m=l/2,v=U.truncDivision(h,2);for(let N=0;N<m;N++){let P=N+U.truncDivision(N,15);c[m-N-1]=v-P-1,c[m+N]=v+P+1}}for(let h=0,m=0;h<i;h++){let v=(i-h)*4+(n?9:12),N=h*2,P=l-1-N;for(let D=0;D<v;D++){let z=D*2;for(let G=0;G<2;G++)u[m+z+G]=e.get(c[N+G],c[N+D]),u[m+2*v+z+G]=e.get(c[N+D],c[P-G]),u[m+4*v+z+G]=e.get(c[P-G],c[P-D]),u[m+6*v+z+G]=e.get(c[P-D],c[N+G])}m+=v*8}return u}static readCode(e,n,i){let l=0;for(let c=n;c<n+i;c++)l<<=1,e[c]&&(l|=1);return l}static readByte(e,n){let i=e.length-n;return i>=8?St.readCode(e,n,8):St.readCode(e,n,i)<<8-i}static convertBoolArrayToByteArray(e){let n=new Uint8Array((e.length+7)/8);for(let i=0;i<n.length;i++)n[i]=St.readByte(e,8*i);return n}totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}St.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],St.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],St.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],St.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],St.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class mt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,n,i,l){const c=e-i,u=n-l;return Math.sqrt(c*c+u*u)}static sum(e){let n=0;for(let i=0,l=e.length;i!==l;i++){const c=e[i];n+=c}return n}}class Sn{static floatToIntBits(e){return e}}Sn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ie{constructor(e,n){this.x=e,this.y=n}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Ie){const n=e;return this.x===n.x&&this.y===n.y}return!1}hashCode(){return 31*Sn.floatToIntBits(this.x)+Sn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const n=this.distance(e[0],e[1]),i=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let c,u,h;if(i>=n&&i>=l?(u=e[0],c=e[1],h=e[2]):l>=i&&l>=n?(u=e[1],c=e[0],h=e[2]):(u=e[2],c=e[0],h=e[1]),this.crossProductZ(c,u,h)<0){const m=c;c=h,h=m}e[0]=c,e[1]=u,e[2]=h}static distance(e,n){return mt.distance(e.x,e.y,n.x,n.y)}static crossProductZ(e,n,i){const l=n.x,c=n.y;return(i.x-l)*(e.y-c)-(i.y-c)*(e.x-l)}}class rt{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class De extends rt{constructor(e,n,i,l,c){super(e,n),this.compact=i,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Oe{constructor(e,n,i,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),n==null&&(n=Oe.INIT_SIZE),i==null&&(i=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const c=n/2|0;if(this.leftInit=i-c,this.rightInit=i+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let e=this.leftInit,n=this.rightInit,i=this.upInit,l=this.downInit,c=!1,u=!0,h=!1,m=!1,v=!1,N=!1,P=!1;const D=this.width,z=this.height;for(;u;){u=!1;let G=!0;for(;(G||!m)&&n<D;)G=this.containsBlackPoint(i,l,n,!1),G?(n++,u=!0,m=!0):m||n++;if(n>=D){c=!0;break}let K=!0;for(;(K||!v)&&l<z;)K=this.containsBlackPoint(e,n,l,!0),K?(l++,u=!0,v=!0):v||l++;if(l>=z){c=!0;break}let q=!0;for(;(q||!N)&&e>=0;)q=this.containsBlackPoint(i,l,e,!1),q?(e--,u=!0,N=!0):N||e--;if(e<0){c=!0;break}let ie=!0;for(;(ie||!P)&&i>=0;)ie=this.containsBlackPoint(e,n,i,!0),ie?(i--,u=!0,P=!0):P||i--;if(i<0){c=!0;break}u&&(h=!0)}if(!c&&h){const G=n-e;let K=null;for(let Ae=1;K===null&&Ae<G;Ae++)K=this.getBlackPointOnSegment(e,l-Ae,e+Ae,l);if(K==null)throw new J;let q=null;for(let Ae=1;q===null&&Ae<G;Ae++)q=this.getBlackPointOnSegment(e,i+Ae,e+Ae,i);if(q==null)throw new J;let ie=null;for(let Ae=1;ie===null&&Ae<G;Ae++)ie=this.getBlackPointOnSegment(n,i+Ae,n-Ae,i);if(ie==null)throw new J;let Ce=null;for(let Ae=1;Ce===null&&Ae<G;Ae++)Ce=this.getBlackPointOnSegment(n,l-Ae,n-Ae,l);if(Ce==null)throw new J;return this.centerEdges(Ce,K,ie,q)}else throw new J}getBlackPointOnSegment(e,n,i,l){const c=mt.round(mt.distance(e,n,i,l)),u=(i-e)/c,h=(l-n)/c,m=this.image;for(let v=0;v<c;v++){const N=mt.round(e+v*u),P=mt.round(n+v*h);if(m.get(N,P))return new Ie(N,P)}return null}centerEdges(e,n,i,l){const c=e.getX(),u=e.getY(),h=n.getX(),m=n.getY(),v=i.getX(),N=i.getY(),P=l.getX(),D=l.getY(),z=Oe.CORR;return c<this.width/2?[new Ie(P-z,D+z),new Ie(h+z,m+z),new Ie(v-z,N-z),new Ie(c+z,u-z)]:[new Ie(P+z,D+z),new Ie(h+z,m-z),new Ie(v-z,N+z),new Ie(c-z,u-z)]}containsBlackPoint(e,n,i,l){const c=this.image;if(l){for(let u=e;u<=n;u++)if(c.get(u,i))return!0}else for(let u=e;u<=n;u++)if(c.get(i,u))return!0;return!1}}Oe.INIT_SIZE=10,Oe.CORR=1;class qe{static checkAndNudgePoints(e,n){const i=e.getWidth(),l=e.getHeight();let c=!0;for(let u=0;u<n.length&&c;u+=2){const h=Math.floor(n[u]),m=Math.floor(n[u+1]);if(h<-1||h>i||m<-1||m>l)throw new J;c=!1,h===-1?(n[u]=0,c=!0):h===i&&(n[u]=i-1,c=!0),m===-1?(n[u+1]=0,c=!0):m===l&&(n[u+1]=l-1,c=!0)}c=!0;for(let u=n.length-2;u>=0&&c;u-=2){const h=Math.floor(n[u]),m=Math.floor(n[u+1]);if(h<-1||h>i||m<-1||m>l)throw new J;c=!1,h===-1?(n[u]=0,c=!0):h===i&&(n[u]=i-1,c=!0),m===-1?(n[u+1]=0,c=!0):m===l&&(n[u+1]=l-1,c=!0)}}}class it{constructor(e,n,i,l,c,u,h,m,v){this.a11=e,this.a21=n,this.a31=i,this.a12=l,this.a22=c,this.a32=u,this.a13=h,this.a23=m,this.a33=v}static quadrilateralToQuadrilateral(e,n,i,l,c,u,h,m,v,N,P,D,z,G,K,q){const ie=it.quadrilateralToSquare(e,n,i,l,c,u,h,m);return it.squareToQuadrilateral(v,N,P,D,z,G,K,q).times(ie)}transformPoints(e){const n=e.length,i=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,m=this.a23,v=this.a31,N=this.a32,P=this.a33;for(let D=0;D<n;D+=2){const z=e[D],G=e[D+1],K=c*z+m*G+P;e[D]=(i*z+u*G+v)/K,e[D+1]=(l*z+h*G+N)/K}}transformPointsWithValues(e,n){const i=this.a11,l=this.a12,c=this.a13,u=this.a21,h=this.a22,m=this.a23,v=this.a31,N=this.a32,P=this.a33,D=e.length;for(let z=0;z<D;z++){const G=e[z],K=n[z],q=c*G+m*K+P;e[z]=(i*G+u*K+v)/q,n[z]=(l*G+h*K+N)/q}}static squareToQuadrilateral(e,n,i,l,c,u,h,m){const v=e-i+c-h,N=n-l+u-m;if(v===0&&N===0)return new it(i-e,c-i,e,l-n,u-l,n,0,0,1);{const P=i-c,D=h-c,z=l-u,G=m-u,K=P*G-D*z,q=(v*G-D*N)/K,ie=(P*N-v*z)/K;return new it(i-e+q*i,h-e+ie*h,e,l-n+q*l,m-n+ie*m,n,q,ie,1)}}static quadrilateralToSquare(e,n,i,l,c,u,h,m){return it.squareToQuadrilateral(e,n,i,l,c,u,h,m).buildAdjoint()}buildAdjoint(){return new it(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new it(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Wt extends qe{sampleGrid(e,n,i,l,c,u,h,m,v,N,P,D,z,G,K,q,ie,Ce,Ae){const ye=it.quadrilateralToQuadrilateral(l,c,u,h,m,v,N,P,D,z,G,K,q,ie,Ce,Ae);return this.sampleGridWithTransform(e,n,i,ye)}sampleGridWithTransform(e,n,i,l){if(n<=0||i<=0)throw new J;const c=new Re(n,i),u=new Float32Array(2*n);for(let h=0;h<i;h++){const m=u.length,v=h+.5;for(let N=0;N<m;N+=2)u[N]=N/2+.5,u[N+1]=v;l.transformPoints(u),qe.checkAndNudgePoints(e,u);try{for(let N=0;N<m;N+=2)e.get(Math.floor(u[N]),Math.floor(u[N+1]))&&c.set(N/2,h)}catch{throw new J}}return c}}class Ot{static setGridSampler(e){Ot.gridSampler=e}static getInstance(){return Ot.gridSampler}}Ot.gridSampler=new Wt;class ct{constructor(e,n){this.x=e,this.y=n}toResultPoint(){return new Ie(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class jt{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let n=this.getMatrixCenter(),i=this.getBullsEyeCorners(n);if(e){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),c=this.getMatrixCornerPoints(i);return new De(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new J;let n=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(e[0],e[1],n),this.sampleLine(e[1],e[2],n),this.sampleLine(e[2],e[3],n),this.sampleLine(e[3],e[0],n)]);this.shift=this.getRotation(i,n);let l=0;for(let u=0;u<4;u++){let h=i[(this.shift+u)%4];this.compact?(l<<=7,l+=h>>1&127):(l<<=10,l+=(h>>2&992)+(h>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(e,n){let i=0;e.forEach((l,c,u)=>{let h=(l>>n-2<<1)+(l&1);i=(i<<3)+h}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(U.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new J}getCorrectedParameterData(e,n){let i,l;n?(i=7,l=2):(i=10,l=4);let c=i-l,u=new Int32Array(i);for(let m=i-1;m>=0;--m)u[m]=e&15,e>>=4;try{new Gt(Pe.AZTEC_PARAM).decode(u,c)}catch{throw new J}let h=0;for(let m=0;m<l;m++)h=(h<<4)+u[m];return h}getBullsEyeCorners(e){let n=e,i=e,l=e,c=e,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let P=this.getFirstDifferent(n,u,1,-1),D=this.getFirstDifferent(i,u,1,1),z=this.getFirstDifferent(l,u,-1,1),G=this.getFirstDifferent(c,u,-1,-1);if(this.nbCenterLayers>2){let K=this.distancePoint(G,P)*this.nbCenterLayers/(this.distancePoint(c,n)*(this.nbCenterLayers+2));if(K<.75||K>1.25||!this.isWhiteOrBlackRectangle(P,D,z,G))break}n=P,i=D,l=z,c=G,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let h=new Ie(n.getX()+.5,n.getY()-.5),m=new Ie(i.getX()+.5,i.getY()+.5),v=new Ie(l.getX()-.5,l.getY()+.5),N=new Ie(c.getX()-.5,c.getY()-.5);return this.expandSquare([h,m,v,N],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,n,i,l;try{let h=new Oe(this.image).detect();e=h[0],n=h[1],i=h[2],l=h[3]}catch{let m=this.image.getWidth()/2,v=this.image.getHeight()/2;e=this.getFirstDifferent(new ct(m+7,v-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ct(m+7,v+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new ct(m-7,v+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new ct(m-7,v-7),!1,-1,-1).toResultPoint()}let c=mt.round((e.getX()+l.getX()+n.getX()+i.getX())/4),u=mt.round((e.getY()+l.getY()+n.getY()+i.getY())/4);try{let h=new Oe(this.image,15,c,u).detect();e=h[0],n=h[1],i=h[2],l=h[3]}catch{e=this.getFirstDifferent(new ct(c+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new ct(c+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new ct(c-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new ct(c-7,u-7),!1,-1,-1).toResultPoint()}return c=mt.round((e.getX()+l.getX()+n.getX()+i.getX())/4),u=mt.round((e.getY()+l.getY()+n.getY()+i.getY())/4),new ct(c,u)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,n,i,l,c){let u=Ot.getInstance(),h=this.getDimension(),m=h/2-this.nbCenterLayers,v=h/2+this.nbCenterLayers;return u.sampleGrid(e,h,h,m,m,v,m,v,v,m,v,n.getX(),n.getY(),i.getX(),i.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(e,n,i){let l=0,c=this.distanceResultPoint(e,n),u=c/i,h=e.getX(),m=e.getY(),v=u*(n.getX()-e.getX())/c,N=u*(n.getY()-e.getY())/c;for(let P=0;P<i;P++)this.image.get(mt.round(h+P*v),mt.round(m+P*N))&&(l|=1<<i-P-1);return l}isWhiteOrBlackRectangle(e,n,i,l){let c=3;e=new ct(e.getX()-c,e.getY()+c),n=new ct(n.getX()-c,n.getY()-c),i=new ct(i.getX()+c,i.getY()-c),l=new ct(l.getX()+c,l.getY()+c);let u=this.getColor(l,e);if(u===0)return!1;let h=this.getColor(e,n);return h!==u||(h=this.getColor(n,i),h!==u)?!1:(h=this.getColor(i,l),h===u)}getColor(e,n){let i=this.distancePoint(e,n),l=(n.getX()-e.getX())/i,c=(n.getY()-e.getY())/i,u=0,h=e.getX(),m=e.getY(),v=this.image.get(e.getX(),e.getY()),N=Math.ceil(i);for(let D=0;D<N;D++)h+=l,m+=c,this.image.get(mt.round(h),mt.round(m))!==v&&u++;let P=u/i;return P>.1&&P<.9?0:P<=.1===v?1:-1}getFirstDifferent(e,n,i,l){let c=e.getX()+i,u=e.getY()+l;for(;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=i,u+=l;for(c-=i,u-=l;this.isValid(c,u)&&this.image.get(c,u)===n;)c+=i;for(c-=i;this.isValid(c,u)&&this.image.get(c,u)===n;)u+=l;return u-=l,new ct(c,u)}expandSquare(e,n,i){let l=i/(2*n),c=e[0].getX()-e[2].getX(),u=e[0].getY()-e[2].getY(),h=(e[0].getX()+e[2].getX())/2,m=(e[0].getY()+e[2].getY())/2,v=new Ie(h+l*c,m+l*u),N=new Ie(h-l*c,m-l*u);c=e[1].getX()-e[3].getX(),u=e[1].getY()-e[3].getY(),h=(e[1].getX()+e[3].getX())/2,m=(e[1].getY()+e[3].getY())/2;let P=new Ie(h+l*c,m+l*u),D=new Ie(h-l*c,m-l*u);return[v,P,N,D]}isValid(e,n){return e>=0&&e<this.image.getWidth()&&n>0&&n<this.image.getHeight()}isValidPoint(e){let n=mt.round(e.getX()),i=mt.round(e.getY());return this.isValid(n,i)}distancePoint(e,n){return mt.distance(e.getX(),e.getY(),n.getX(),n.getY())}distanceResultPoint(e,n){return mt.distance(e.getX(),e.getY(),n.getX(),n.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Xt{decode(e,n=null){let i=null,l=new jt(e.getBlackMatrix()),c=null,u=null;try{let N=l.detectMirror(!1);c=N.getPoints(),this.reportFoundResultPoints(n,c),u=new St().decode(N)}catch(N){i=N}if(u==null)try{let N=l.detectMirror(!0);c=N.getPoints(),this.reportFoundResultPoints(n,c),u=new St().decode(N)}catch(N){throw i??N}let h=new Ue(u.getText(),u.getRawBytes(),u.getNumBits(),c,Ee.AZTEC,F.currentTimeMillis()),m=u.getByteSegments();m!=null&&h.putMetadata(Fe.BYTE_SEGMENTS,m);let v=u.getECLevel();return v!=null&&h.putMetadata(Fe.ERROR_CORRECTION_LEVEL,v),h}reportFoundResultPoints(e,n){if(e!=null){let i=e.get(le.NEED_RESULT_POINT_CALLBACK);i!=null&&n.forEach((l,c,u)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class xn extends We{constructor(e=500){super(new Xt,e)}}class Pt{decode(e,n){try{return this.doDecode(e,n)}catch{if(n&&n.get(le.TRY_HARDER)===!0&&e.isRotateSupported()){const c=e.rotateCounterClockwise(),u=this.doDecode(c,n),h=u.getResultMetadata();let m=270;h!==null&&h.get(Fe.ORIENTATION)===!0&&(m=m+h.get(Fe.ORIENTATION)%360),u.putMetadata(Fe.ORIENTATION,m);const v=u.getResultPoints();if(v!==null){const N=c.getHeight();for(let P=0;P<v.length;P++)v[P]=new Ie(N-v[P].getY()-1,v[P].getX())}return u}else throw new J}}reset(){}doDecode(e,n){const i=e.getWidth(),l=e.getHeight();let c=new ne(i);const u=n&&n.get(le.TRY_HARDER)===!0,h=Math.max(1,l>>(u?8:5));let m;u?m=l:m=15;const v=Math.trunc(l/2);for(let N=0;N<m;N++){const P=Math.trunc((N+1)/2),D=(N&1)===0,z=v+h*(D?P:-P);if(z<0||z>=l)break;try{c=e.getBlackRow(z,c)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(c.reverse(),n&&n.get(le.NEED_RESULT_POINT_CALLBACK)===!0)){const K=new Map;n.forEach((q,ie)=>K.set(ie,q)),K.delete(le.NEED_RESULT_POINT_CALLBACK),n=K}try{const K=this.decodeRow(z,c,n);if(G===1){K.putMetadata(Fe.ORIENTATION,180);const q=K.getResultPoints();q!==null&&(q[0]=new Ie(i-q[0].getX()-1,q[0].getY()),q[1]=new Ie(i-q[1].getX()-1,q[1].getY()))}return K}catch{}}}throw new J}static recordPattern(e,n,i){const l=i.length;for(let v=0;v<l;v++)i[v]=0;const c=e.getSize();if(n>=c)throw new J;let u=!e.get(n),h=0,m=n;for(;m<c;){if(e.get(m)!==u)i[h]++;else{if(++h===l)break;i[h]=1,u=!u}m++}if(!(h===l||h===l-1&&m===c))throw new J}static recordPatternInReverse(e,n,i){let l=i.length,c=e.get(n);for(;n>0&&l>=0;)e.get(--n)!==c&&(l--,c=!c);if(l>=0)throw new J;Pt.recordPattern(e,n+1,i)}static patternMatchVariance(e,n,i){const l=e.length;let c=0,u=0;for(let v=0;v<l;v++)c+=e[v],u+=n[v];if(c<u)return Number.POSITIVE_INFINITY;const h=c/u;i*=h;let m=0;for(let v=0;v<l;v++){const N=e[v],P=n[v]*h,D=N>P?N-P:P-N;if(D>i)return Number.POSITIVE_INFINITY;m+=D}return m/c}}class be extends Pt{static findStartPattern(e){const n=e.getSize(),i=e.getNextSet(0);let l=0,c=Int32Array.from([0,0,0,0,0,0]),u=i,h=!1;const m=6;for(let v=i;v<n;v++)if(e.get(v)!==h)c[l]++;else{if(l===m-1){let N=be.MAX_AVG_VARIANCE,P=-1;for(let D=be.CODE_START_A;D<=be.CODE_START_C;D++){const z=Pt.patternMatchVariance(c,be.CODE_PATTERNS[D],be.MAX_INDIVIDUAL_VARIANCE);z<N&&(N=z,P=D)}if(P>=0&&e.isRange(Math.max(0,u-(v-u)/2),u,!1))return Int32Array.from([u,v,P]);u+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,h=!h}throw new J}static decodeCode(e,n,i){Pt.recordPattern(e,i,n);let l=be.MAX_AVG_VARIANCE,c=-1;for(let u=0;u<be.CODE_PATTERNS.length;u++){const h=be.CODE_PATTERNS[u],m=this.patternMatchVariance(n,h,be.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,c=u)}if(c>=0)return c;throw new J}decodeRow(e,n,i){const l=i&&i.get(le.ASSUME_GS1)===!0,c=be.findStartPattern(n),u=c[2];let h=0;const m=new Uint8Array(20);m[h++]=u;let v;switch(u){case be.CODE_START_A:v=be.CODE_CODE_A;break;case be.CODE_START_B:v=be.CODE_CODE_B;break;case be.CODE_START_C:v=be.CODE_CODE_C;break;default:throw new X}let N=!1,P=!1,D="",z=c[0],G=c[1];const K=Int32Array.from([0,0,0,0,0,0]);let q=0,ie=0,Ce=u,Ae=0,ye=!0,Et=!1,dt=!1;for(;!N;){const Xr=P;switch(P=!1,q=ie,ie=be.decodeCode(n,K,G),m[h++]=ie,ie!==be.CODE_STOP&&(ye=!0),ie!==be.CODE_STOP&&(Ae++,Ce+=Ae*ie),z=G,G+=K.reduce(($i,Jo)=>$i+Jo,0),ie){case be.CODE_START_A:case be.CODE_START_B:case be.CODE_START_C:throw new X}switch(v){case be.CODE_CODE_A:if(ie<64)dt===Et?D+=String.fromCharCode(32+ie):D+=String.fromCharCode(32+ie+128),dt=!1;else if(ie<96)dt===Et?D+=String.fromCharCode(ie-64):D+=String.fromCharCode(ie+64),dt=!1;else switch(ie!==be.CODE_STOP&&(ye=!1),ie){case be.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_A:!Et&&dt?(Et=!0,dt=!1):Et&&dt?(Et=!1,dt=!1):dt=!0;break;case be.CODE_SHIFT:P=!0,v=be.CODE_CODE_B;break;case be.CODE_CODE_B:v=be.CODE_CODE_B;break;case be.CODE_CODE_C:v=be.CODE_CODE_C;break;case be.CODE_STOP:N=!0;break}break;case be.CODE_CODE_B:if(ie<96)dt===Et?D+=String.fromCharCode(32+ie):D+=String.fromCharCode(32+ie+128),dt=!1;else switch(ie!==be.CODE_STOP&&(ye=!1),ie){case be.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case be.CODE_FNC_2:case be.CODE_FNC_3:break;case be.CODE_FNC_4_B:!Et&&dt?(Et=!0,dt=!1):Et&&dt?(Et=!1,dt=!1):dt=!0;break;case be.CODE_SHIFT:P=!0,v=be.CODE_CODE_A;break;case be.CODE_CODE_A:v=be.CODE_CODE_A;break;case be.CODE_CODE_C:v=be.CODE_CODE_C;break;case be.CODE_STOP:N=!0;break}break;case be.CODE_CODE_C:if(ie<100)ie<10&&(D+="0"),D+=ie;else switch(ie!==be.CODE_STOP&&(ye=!1),ie){case be.CODE_FNC_1:l&&(D.length===0?D+="]C1":D+="");break;case be.CODE_CODE_A:v=be.CODE_CODE_A;break;case be.CODE_CODE_B:v=be.CODE_CODE_B;break;case be.CODE_STOP:N=!0;break}break}Xr&&(v=v===be.CODE_CODE_A?be.CODE_CODE_B:be.CODE_CODE_A)}const $n=G-z;if(G=n.getNextUnset(G),!n.isRange(G,Math.min(n.getSize(),G+(G-z)/2),!1))throw new J;if(Ce-=Ae*q,Ce%103!==q)throw new M;const Er=D.length;if(Er===0)throw new J;Er>0&&ye&&(v===be.CODE_CODE_C?D=D.substring(0,Er-2):D=D.substring(0,Er-1));const vn=(c[1]+c[0])/2,Bt=z+$n/2,on=m.length,zn=new Uint8Array(on);for(let Xr=0;Xr<on;Xr++)zn[Xr]=m[Xr];const bi=[new Ie(vn,e),new Ie(Bt,e)];return new Ue(D,zn,0,bi,Ee.CODE_128,new Date().getTime())}}be.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],be.MAX_AVG_VARIANCE=.25,be.MAX_INDIVIDUAL_VARIANCE=.7,be.CODE_SHIFT=98,be.CODE_CODE_C=99,be.CODE_CODE_B=100,be.CODE_CODE_A=101,be.CODE_FNC_1=102,be.CODE_FNC_2=97,be.CODE_FNC_3=96,be.CODE_FNC_4_A=101,be.CODE_FNC_4_B=100,be.CODE_START_A=103,be.CODE_START_B=104,be.CODE_START_C=105,be.CODE_STOP=106;class Vt extends Pt{constructor(e=!1,n=!1){super(),this.usingCheckDigit=e,this.extendedMode=n,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,n,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let c=Vt.findAsteriskPattern(n,l),u=n.getNextSet(c[1]),h=n.getSize(),m,v;do{Vt.recordPattern(n,u,l);let K=Vt.toNarrowWidePattern(l);if(K<0)throw new J;m=Vt.patternToChar(K),this.decodeRowResult+=m,v=u;for(let q of l)u+=q;u=n.getNextSet(u)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let N=0;for(let K of l)N+=K;let P=u-v-N;if(u!==h&&P*2<N)throw new J;if(this.usingCheckDigit){let K=this.decodeRowResult.length-1,q=0;for(let ie=0;ie<K;ie++)q+=Vt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ie));if(this.decodeRowResult.charAt(K)!==Vt.ALPHABET_STRING.charAt(q%43))throw new M;this.decodeRowResult=this.decodeRowResult.substring(0,K)}if(this.decodeRowResult.length===0)throw new J;let D;this.extendedMode?D=Vt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let z=(c[1]+c[0])/2,G=v+N/2;return new Ue(D,null,0,[new Ie(z,e),new Ie(G,e)],Ee.CODE_39,new Date().getTime())}static findAsteriskPattern(e,n){let i=e.getSize(),l=e.getNextSet(0),c=0,u=l,h=!1,m=n.length;for(let v=l;v<i;v++)if(e.get(v)!==h)n[c]++;else{if(c===m-1){if(this.toNarrowWidePattern(n)===Vt.ASTERISK_ENCODING&&e.isRange(Math.max(0,u-Math.floor((v-u)/2)),u,!1))return[u,v];u+=n[0]+n[1],n.copyWithin(0,2,2+c-1),n[c-1]=0,n[c]=0,c--}else c++;n[c]=1,h=!h}throw new J}static toNarrowWidePattern(e){let n=e.length,i=0,l;do{let c=2147483647;for(let m of e)m<c&&m>i&&(c=m);i=c,l=0;let u=0,h=0;for(let m=0;m<n;m++){let v=e[m];v>i&&(h|=1<<n-1-m,l++,u+=v)}if(l===3){for(let m=0;m<n&&l>0;m++){let v=e[m];if(v>i&&(l--,v*2>=u))return-1}return h}}while(l>3);return-1}static patternToChar(e){for(let n=0;n<Vt.CHARACTER_ENCODINGS.length;n++)if(Vt.CHARACTER_ENCODINGS[n]===e)return Vt.ALPHABET_STRING.charAt(n);if(e===Vt.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(e){let n=e.length,i="";for(let l=0;l<n;l++){let c=e.charAt(l);if(c==="+"||c==="$"||c==="%"||c==="/"){let u=e.charAt(l+1),h="\0";switch(c){case"+":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)+32);else throw new X;break;case"$":if(u>="A"&&u<="Z")h=String.fromCharCode(u.charCodeAt(0)-64);else throw new X;break;case"%":if(u>="A"&&u<="E")h=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")h=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")h=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")h="\0";else if(u==="V")h="@";else if(u==="W")h="`";else if(u==="X"||u==="Y"||u==="Z")h="";else throw new X;break;case"/":if(u>="A"&&u<="O")h=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")h=":";else throw new X;break}i+=h,l++}else i+=c}return i}}Vt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Vt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Vt.ASTERISK_ENCODING=148;class Tt extends Pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,n,i){let l=this.decodeStart(n),c=this.decodeEnd(n),u=new Ne;Tt.decodeMiddle(n,l[1],c[0],u);let h=u.toString(),m=null;i!=null&&(m=i.get(le.ALLOWED_LENGTHS)),m==null&&(m=Tt.DEFAULT_ALLOWED_LENGTHS);let v=h.length,N=!1,P=0;for(let G of m){if(v===G){N=!0;break}G>P&&(P=G)}if(!N&&v>P&&(N=!0),!N)throw new X;const D=[new Ie(l[1],e),new Ie(c[0],e)];return new Ue(h,null,0,D,Ee.ITF,new Date().getTime())}static decodeMiddle(e,n,i,l){let c=new Int32Array(10),u=new Int32Array(5),h=new Int32Array(5);for(c.fill(0),u.fill(0),h.fill(0);n<i;){Pt.recordPattern(e,n,c);for(let v=0;v<5;v++){let N=2*v;u[v]=c[N],h[v]=c[N+1]}let m=Tt.decodeDigit(u);l.append(m.toString()),m=this.decodeDigit(h),l.append(m.toString()),c.forEach(function(v){n+=v})}}decodeStart(e){let n=Tt.skipWhiteSpace(e),i=Tt.findGuardPattern(e,n,Tt.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(e,i[0]),i}validateQuietZone(e,n){let i=this.narrowLineWidth*10;i=i<n?i:n;for(let l=n-1;i>0&&l>=0&&!e.get(l);l--)i--;if(i!==0)throw new J}static skipWhiteSpace(e){const n=e.getSize(),i=e.getNextSet(0);if(i===n)throw new J;return i}decodeEnd(e){e.reverse();try{let n=Tt.skipWhiteSpace(e),i;try{i=Tt.findGuardPattern(e,n,Tt.END_PATTERN_REVERSED[0])}catch(c){c instanceof J&&(i=Tt.findGuardPattern(e,n,Tt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,i[0]);let l=i[0];return i[0]=e.getSize()-i[1],i[1]=e.getSize()-l,i}finally{e.reverse()}}static findGuardPattern(e,n,i){let l=i.length,c=new Int32Array(l),u=e.getSize(),h=!1,m=0,v=n;c.fill(0);for(let N=n;N<u;N++)if(e.get(N)!==h)c[m]++;else{if(m===l-1){if(Pt.patternMatchVariance(c,i,Tt.MAX_INDIVIDUAL_VARIANCE)<Tt.MAX_AVG_VARIANCE)return[v,N];v+=c[0]+c[1],F.arraycopy(c,2,c,0,m-1),c[m-1]=0,c[m]=0,m--}else m++;c[m]=1,h=!h}throw new J}static decodeDigit(e){let n=Tt.MAX_AVG_VARIANCE,i=-1,l=Tt.PATTERNS.length;for(let c=0;c<l;c++){let u=Tt.PATTERNS[c],h=Pt.patternMatchVariance(e,u,Tt.MAX_INDIVIDUAL_VARIANCE);h<n?(n=h,i=c):h===n&&(i=-1)}if(i>=0)return i%10;throw new J}}Tt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Tt.MAX_AVG_VARIANCE=.38,Tt.MAX_INDIVIDUAL_VARIANCE=.5,Tt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Tt.START_PATTERN=Int32Array.from([1,1,1,1]),Tt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Yt extends Pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let n=!1,i,l=0,c=Int32Array.from([0,0,0]);for(;!n;){c=Int32Array.from([0,0,0]),i=Yt.findGuardPattern(e,l,!1,this.START_END_PATTERN,c);let u=i[0];l=i[1];let h=u-(l-u);h>=0&&(n=e.isRange(h,u,!1))}return i}static checkChecksum(e){return Yt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return Yt.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new X;i+=c}i*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new X;i+=c}return(1e3-i)%10}static decodeEnd(e,n){return Yt.findGuardPattern(e,n,!1,Yt.START_END_PATTERN,new Int32Array(Yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,n,i,l){return this.findGuardPattern(e,n,i,l,new Int32Array(l.length))}static findGuardPattern(e,n,i,l,c){let u=e.getSize();n=i?e.getNextUnset(n):e.getNextSet(n);let h=0,m=n,v=l.length,N=i;for(let P=n;P<u;P++)if(e.get(P)!==N)c[h]++;else{if(h===v-1){if(Pt.patternMatchVariance(c,l,Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return Int32Array.from([m,P]);m+=c[0]+c[1];let D=c.slice(2,c.length-1);for(let z=0;z<h-1;z++)c[z]=D[z];c[h-1]=0,c[h]=0,h--}else h++;c[h]=1,N=!N}throw new J}static decodeDigit(e,n,i,l){this.recordPattern(e,i,n);let c=this.MAX_AVG_VARIANCE,u=-1,h=l.length;for(let m=0;m<h;m++){let v=l[m],N=Pt.patternMatchVariance(n,v,Yt.MAX_INDIVIDUAL_VARIANCE);N<c&&(c=N,u=m)}if(u>=0)return u;throw new J}}Yt.MAX_AVG_VARIANCE=.48,Yt.MAX_INDIVIDUAL_VARIANCE=.7,Yt.START_END_PATTERN=Int32Array.from([1,1,1]),Yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class zr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,i,l),u=l.toString(),h=zr.parseExtensionString(u),m=[new Ie((i[0]+i[1])/2,e),new Ie(c,e)],v=new Ue(u,null,0,m,Ee.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let v=0;v<5&&u<c;v++){let N=Yt.decodeDigit(e,l,u,Yt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let P of l)u+=P;N>=10&&(h|=1<<4-v),v!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(i.length!==5)throw new J;let m=this.determineCheckDigit(h);if(zr.extensionChecksum(i.toString())!==m)throw new J;return u}static extensionChecksum(e){let n=e.length,i=0;for(let l=n-2;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;i*=3;for(let l=n-1;l>=0;l-=2)i+=e.charAt(l).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(e){for(let n=0;n<10;n++)if(e===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new J}static parseExtensionString(e){if(e.length!==5)return null;let n=zr.parseExtension5String(e);return n==null?null:new Map([[Fe.SUGGESTED_PRICE,n]])}static parseExtension5String(e){let n;switch(e.charAt(0)){case"0":n="£";break;case"5":n="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}let i=parseInt(e.substring(1)),l=(i/100).toString(),c=i%100,u=c<10?"0"+c:c.toString();return n+l+"."+u}}class ei{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,n,i){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(n,i,l),u=l.toString(),h=ei.parseExtensionString(u),m=[new Ie((i[0]+i[1])/2,e),new Ie(c,e)],v=new Ue(u,null,0,m,Ee.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&v.putAllMetadata(h),v}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let m=0;m<2&&u<c;m++){let v=Yt.decodeDigit(e,l,u,Yt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+v%10);for(let N of l)u+=N;v>=10&&(h|=1<<1-m),m!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(i.length!==2)throw new J;if(parseInt(i.toString())%4!==h)throw new J;return u}static parseExtensionString(e){return e.length!==2?null:new Map([[Fe.ISSUE_NUMBER,parseInt(e)]])}}class Fi{static decodeRow(e,n,i){let l=Yt.findGuardPattern(n,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new zr().decodeRow(e,n,l)}catch{return new ei().decodeRow(e,n,l)}}}Fi.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class vt extends Yt{constructor(){super(),this.decodeRowStringBuffer="",vt.L_AND_G_PATTERNS=vt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let n=vt.L_PATTERNS[e-10],i=new Int32Array(n.length);for(let l=0;l<n.length;l++)i[l]=n[n.length-l-1];vt.L_AND_G_PATTERNS[e]=i}}decodeRow(e,n,i){let l=vt.findStartGuardPattern(n),c=i==null?null:i.get(le.NEED_RESULT_POINT_CALLBACK);if(c!=null){const ye=new Ie((l[0]+l[1])/2,e);c.foundPossibleResultPoint(ye)}let u=this.decodeMiddle(n,l,this.decodeRowStringBuffer),h=u.rowOffset,m=u.resultString;if(c!=null){const ye=new Ie(h,e);c.foundPossibleResultPoint(ye)}let v=this.decodeEnd(n,h);if(c!=null){const ye=new Ie((v[0]+v[1])/2,e);c.foundPossibleResultPoint(ye)}let N=v[1],P=N+(N-v[0]);if(P>=n.getSize()||!n.isRange(N,P,!1))throw new J;let D=m.toString();if(D.length<8)throw new X;if(!vt.checkChecksum(D))throw new M;let z=(l[1]+l[0])/2,G=(v[1]+v[0])/2,K=this.getBarcodeFormat(),q=[new Ie(z,e),new Ie(G,e)],ie=new Ue(D,null,0,q,K,new Date().getTime()),Ce=0;try{let ye=Fi.decodeRow(e,n,v[1]);ie.putMetadata(Fe.UPC_EAN_EXTENSION,ye.getText()),ie.putAllMetadata(ye.getResultMetadata()),ie.addResultPoints(ye.getResultPoints()),Ce=ye.getText().length}catch{}let Ae=i==null?null:i.get(le.ALLOWED_EAN_EXTENSIONS);if(Ae!=null){let ye=!1;for(let Et in Ae)if(Ce.toString()===Et){ye=!0;break}if(!ye)throw new J}return ie}decodeEnd(e,n){return vt.findGuardPattern(e,n,!1,vt.START_END_PATTERN,new Int32Array(vt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return vt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let n=e.length;if(n===0)return!1;let i=parseInt(e.charAt(n-1),10);return vt.getStandardUPCEANChecksum(e.substring(0,n-1))===i}static getStandardUPCEANChecksum(e){let n=e.length,i=0;for(let l=n-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new X;i+=c}i*=3;for(let l=n-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new X;i+=c}return(1e3-i)%10}}class Xn extends vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1],h=0;for(let v=0;v<6&&u<c;v++){let N=vt.decodeDigit(e,l,u,vt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let P of l)u+=P;N>=10&&(h|=1<<5-v)}i=Xn.determineFirstDigit(i,h),u=vt.findGuardPattern(e,u,!0,vt.MIDDLE_PATTERN,new Int32Array(vt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&u<c;v++){let N=vt.decodeDigit(e,l,u,vt.L_PATTERNS);i+=String.fromCharCode(48+N);for(let P of l)u+=P}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return Ee.EAN_13}static determineFirstDigit(e,n){for(let i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return e=String.fromCharCode(48+i)+e,e;throw new J}}Xn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ys extends vt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u=n[1];for(let m=0;m<4&&u<c;m++){let v=vt.decodeDigit(e,l,u,vt.L_PATTERNS);i+=String.fromCharCode(48+v);for(let N of l)u+=N}u=vt.findGuardPattern(e,u,!0,vt.MIDDLE_PATTERN,new Int32Array(vt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&u<c;m++){let v=vt.decodeDigit(e,l,u,vt.L_PATTERNS);i+=String.fromCharCode(48+v);for(let N of l)u+=N}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return Ee.EAN_8}}class ji extends vt{constructor(){super(...arguments),this.ean13Reader=new Xn}getBarcodeFormat(){return Ee.UPC_A}decode(e,n){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,n,i))}decodeMiddle(e,n,i){return this.ean13Reader.decodeMiddle(e,n,i)}maybeReturnResult(e){let n=e.getText();if(n.charAt(0)==="0"){let i=new Ue(n.substring(1),null,null,e.getResultPoints(),Ee.UPC_A);return e.getResultMetadata()!=null&&i.putAllMetadata(e.getResultMetadata()),i}else throw new J}reset(){this.ean13Reader.reset()}}class Yn extends vt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,n,i){const l=this.decodeMiddleCounters.map(v=>v);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const c=e.getSize();let u=n[1],h=0;for(let v=0;v<6&&u<c;v++){const N=Yn.decodeDigit(e,l,u,Yn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+N%10);for(let P of l)u+=P;N>=10&&(h|=1<<5-v)}let m=Yn.determineNumSysAndCheckDigit(i,h);return{rowOffset:u,resultString:m}}decodeEnd(e,n){return Yn.findGuardPatternWithoutCounters(e,n,!0,Yn.MIDDLE_END_PATTERN)}checkChecksum(e){return vt.checkChecksum(Yn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,n){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let c=String.fromCharCode(48+i),u=String.fromCharCode(48+l);return c+e+u}throw J.getNotFoundInstance()}getBarcodeFormat(){return Ee.UPC_E}static convertUPCEtoUPCA(e){const n=e.slice(1,7).split("").map(c=>c.charCodeAt(0)),i=new Ne;i.append(e.charAt(0));let l=n[5];switch(l){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(l),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(l);break}return e.length>=8&&i.append(e.charAt(7)),i.toString()}}Yn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Yn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Vi extends Pt{constructor(e){super();let n=e==null?null:e.get(le.POSSIBLE_FORMATS),i=[];d(n)?(i.push(new Xn),i.push(new ji),i.push(new ys),i.push(new Yn)):(n.indexOf(Ee.EAN_13)>-1&&i.push(new Xn),n.indexOf(Ee.UPC_A)>-1&&i.push(new ji),n.indexOf(Ee.EAN_8)>-1&&i.push(new ys),n.indexOf(Ee.UPC_E)>-1&&i.push(new Yn)),this.readers=i}decodeRow(e,n,i){for(let l of this.readers)try{const c=l.decodeRow(e,n,i),u=c.getBarcodeFormat()===Ee.EAN_13&&c.getText().charAt(0)==="0",h=i==null?null:i.get(le.POSSIBLE_FORMATS),m=h==null||h.includes(Ee.UPC_A);if(u&&m){const v=c.getRawBytes(),N=new Ue(c.getText().substring(1),v,v?v.length:null,c.getResultPoints(),Ee.UPC_A);return N.putAllMetadata(c.getResultMetadata()),N}return c}catch{}throw new J}reset(){for(let e of this.readers)e.reset()}}class sn extends Pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,n){for(let i=0;i<n.length;i++)if(Pt.patternMatchVariance(e,n[i],sn.MAX_INDIVIDUAL_VARIANCE)<sn.MAX_AVG_VARIANCE)return i;throw new J}static count(e){return mt.sum(new Int32Array(e))}static increment(e,n){let i=0,l=n[0];for(let c=1;c<e.length;c++)n[c]>l&&(l=n[c],i=c);e[i]++}static decrement(e,n){let i=0,l=n[0];for(let c=1;c<e.length;c++)n[c]<l&&(l=n[c],i=c);e[i]--}static isFinderPattern(e){let n=e[0]+e[1],i=n+e[2]+e[3],l=n/i;if(l>=sn.MIN_FINDER_PATTERN_RATIO&&l<=sn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let h of e)h>u&&(u=h),h<c&&(c=h);return u<10*c}return!1}}sn.MAX_AVG_VARIANCE=.2,sn.MAX_INDIVIDUAL_VARIANCE=.45,sn.MIN_FINDER_PATTERN_RATIO=9.5/12,sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Nr{constructor(e,n){this.value=e,this.checksumPortion=n}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Nr))return!1;const n=e;return this.value===n.value&&this.checksumPortion===n.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ti{constructor(e,n,i,l,c){this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Ie(i,c)),this.resultPoints.push(new Ie(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ti))return!1;const n=e;return this.value===n.value}hashCode(){return this.value}}class An{constructor(){}static getRSSvalue(e,n,i){let l=0;for(let m of e)l+=m;let c=0,u=0,h=e.length;for(let m=0;m<h-1;m++){let v;for(v=1,u|=1<<m;v<e[m];v++,u&=~(1<<m)){let N=An.combins(l-v-1,h-m-2);if(i&&u===0&&l-v-(h-m-1)>=h-m-1&&(N-=An.combins(l-v-(h-m),h-m-2)),h-m-1>1){let P=0;for(let D=l-v-(h-m-2);D>n;D--)P+=An.combins(l-v-D-1,h-m-3);N-=P*(h-1-m)}else l-v>n&&N--;c+=N}l-=v}return c}static combins(e,n){let i,l;e-n>n?(l=n,i=e-n):(l=e-n,i=n);let c=1,u=1;for(let h=e;h>i;h--)c*=h,u<=l&&(c/=u,u++);for(;u<=l;)c/=u,u++;return c}}class zi{static buildBitArray(e){let n=e.length*2-1;e[e.length-1].getRightChar()==null&&(n-=1);let i=12*n,l=new ne(i),c=0,h=e[0].getRightChar().getValue();for(let m=11;m>=0;--m)h&1<<m&&l.set(c),c++;for(let m=1;m<e.length;++m){let v=e[m],N=v.getLeftChar().getValue();for(let P=11;P>=0;--P)N&1<<P&&l.set(c),c++;if(v.getRightChar()!=null){let P=v.getRightChar().getValue();for(let D=11;D>=0;--D)P&1<<D&&l.set(c),c++}}return l}}class rr{constructor(e,n){n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ni{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class fn extends ni{constructor(e,n){super(e),this.value=n}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class ir extends ni{constructor(e,n,i){super(e),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=n}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Tn extends ni{constructor(e,n,i){if(super(e),n<0||n>10||i<0||i>10)throw new X;this.firstDigit=n,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Tn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Tn.FNC1}isAnyFNC1(){return this.firstDigit===Tn.FNC1||this.secondDigit===Tn.FNC1}}Tn.FNC1=10;class Me{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new J;let n=e.substring(0,2);for(let c of Me.TWO_DIGIT_DATA_LENGTH)if(c[0]===n)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(2,c[2],e):Me.processFixedAI(2,c[1],e);if(e.length<3)throw new J;let i=e.substring(0,3);for(let c of Me.THREE_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(3,c[2],e):Me.processFixedAI(3,c[1],e);for(let c of Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===i)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);if(e.length<4)throw new J;let l=e.substring(0,4);for(let c of Me.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===Me.VARIABLE_LENGTH?Me.processVariableAI(4,c[2],e):Me.processFixedAI(4,c[1],e);throw new J}static processFixedAI(e,n,i){if(i.length<e)throw new J;let l=i.substring(0,e);if(i.length<e+n)throw new J;let c=i.substring(e,e+n),u=i.substring(e+n),h="("+l+")"+c,m=Me.parseFieldsInGeneralPurpose(u);return m==null?h:h+m}static processVariableAI(e,n,i){let l=i.substring(0,e),c;i.length<e+n?c=i.length:c=e+n;let u=i.substring(e,c),h=i.substring(c),m="("+l+")"+u,v=Me.parseFieldsInGeneralPurpose(h);return v==null?m:m+v}}Me.VARIABLE_LENGTH=[],Me.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Me.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Me.VARIABLE_LENGTH,20],["22",Me.VARIABLE_LENGTH,29],["30",Me.VARIABLE_LENGTH,8],["37",Me.VARIABLE_LENGTH,8],["90",Me.VARIABLE_LENGTH,30],["91",Me.VARIABLE_LENGTH,30],["92",Me.VARIABLE_LENGTH,30],["93",Me.VARIABLE_LENGTH,30],["94",Me.VARIABLE_LENGTH,30],["95",Me.VARIABLE_LENGTH,30],["96",Me.VARIABLE_LENGTH,30],["97",Me.VARIABLE_LENGTH,3],["98",Me.VARIABLE_LENGTH,30],["99",Me.VARIABLE_LENGTH,30]],Me.THREE_DIGIT_DATA_LENGTH=[["240",Me.VARIABLE_LENGTH,30],["241",Me.VARIABLE_LENGTH,30],["242",Me.VARIABLE_LENGTH,6],["250",Me.VARIABLE_LENGTH,30],["251",Me.VARIABLE_LENGTH,30],["253",Me.VARIABLE_LENGTH,17],["254",Me.VARIABLE_LENGTH,20],["400",Me.VARIABLE_LENGTH,30],["401",Me.VARIABLE_LENGTH,30],["402",17],["403",Me.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Me.VARIABLE_LENGTH,20],["421",Me.VARIABLE_LENGTH,15],["422",3],["423",Me.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Me.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Me.VARIABLE_LENGTH,15],["391",Me.VARIABLE_LENGTH,18],["392",Me.VARIABLE_LENGTH,15],["393",Me.VARIABLE_LENGTH,18],["703",Me.VARIABLE_LENGTH,30]],Me.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Me.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Me.VARIABLE_LENGTH,20],["8003",Me.VARIABLE_LENGTH,30],["8004",Me.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Me.VARIABLE_LENGTH,30],["8008",Me.VARIABLE_LENGTH,12],["8018",18],["8020",Me.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Me.VARIABLE_LENGTH,70],["8200",Me.VARIABLE_LENGTH,70]];class ri{constructor(e){this.buffer=new Ne,this.information=e}decodeAllCodes(e,n){let i=n,l=null;do{let c=this.decodeGeneralPurposeField(i,l),u=Me.parseFieldsInGeneralPurpose(c.getNewString());if(u!=null&&e.append(u),c.isRemaining()?l=""+c.getRemainingValue():l=null,i===c.getNewPosition())break;i=c.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let n=e;n<e+3;++n)if(this.information.get(n))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(e,4);return c===0?new Tn(this.information.getSize(),Tn.FNC1,Tn.FNC1):new Tn(this.information.getSize(),c-1,Tn.FNC1)}let n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,l=(n-8)%11;return new Tn(e+7,i,l)}extractNumericValueFromBitArray(e,n){return ri.extractNumericValueFromBitArray(this.information,e,n)}static extractNumericValueFromBitArray(e,n,i){let l=0;for(let c=0;c<i;++c)e.get(n+c)&&(l|=1<<i-c-1);return l}decodeGeneralPurposeField(e,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(e);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new ir(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new ir(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,n;do{let i=this.current.getPosition();if(this.current.isAlpha()?(n=this.parseAlphaBlock(),e=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),e=n.isFinished()):(n=this.parseNumericBlock(),e=n.isFinished()),!(i!==this.current.getPosition())&&!e)break}while(!e);return n.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let n;return e.isSecondDigitFNC1()?n=new ir(this.current.getPosition(),this.buffer.toString()):n=new ir(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new rr(!0,n)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new rr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new rr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let n=new ir(this.current.getPosition(),this.buffer.toString());return new rr(!0,n)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new rr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new fn(e+5,fn.FNC1);if(n>=5&&n<15)return new fn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,7);if(i>=64&&i<90)return new fn(e+7,""+(i+1));if(i>=90&&i<116)return new fn(e+7,""+(i+7));let l=this.extractNumericValueFromBitArray(e,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new X}return new fn(e+8,c)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,5);if(n>=5&&n<16)return!0;if(e+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,6);return i>=16&&i<63}decodeAlphanumeric(e){let n=this.extractNumericValueFromBitArray(e,5);if(n===15)return new fn(e+5,fn.FNC1);if(n>=5&&n<15)return new fn(e+5,"0"+(n-5));let i=this.extractNumericValueFromBitArray(e,6);if(i>=32&&i<58)return new fn(e+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Ft("Decoding invalid alphanumeric value: "+i)}return new fn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<5&&n+e<this.information.getSize();++n)if(n===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+n))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let n=e;n<e+3;++n)if(this.information.get(n))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let n=0;n<4&&n+e<this.information.getSize();++n)if(this.information.get(e+n))return!1;return!0}}class ws{constructor(e){this.information=e,this.generalDecoder=new ri(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class In extends ws{constructor(e){super(e)}encodeCompressedGtin(e,n){e.append("(01)");let i=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,n,i)}encodeCompressedGtinWithoutAI(e,n,i){for(let l=0;l<4;++l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*l,10);c/100===0&&e.append("0"),c/10===0&&e.append("0"),e.append(c)}In.appendCheckDigit(e,i)}static appendCheckDigit(e,n){let i=0;for(let l=0;l<13;l++){let c=e.charAt(l+n).charCodeAt(0)-48;i+=l&1?c:3*c}i=10-i%10,i===10&&(i=0),e.append(i)}}In.GTIN_SIZE=40;class Kn extends In{constructor(e){super(e)}parseInformation(){let e=new Ne;e.append("(01)");let n=e.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE,4);return e.append(i),this.encodeCompressedGtinWithoutAI(e,Kn.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(e,Kn.HEADER_SIZE+44)}}Kn.HEADER_SIZE=4;class wi extends ws{constructor(e){super(e)}parseInformation(){let e=new Ne;return this.getGeneralDecoder().decodeAllCodes(e,wi.HEADER_SIZE)}}wi.HEADER_SIZE=5;class Ur extends In{constructor(e){super(e)}encodeCompressedWeight(e,n,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(e,l);let c=this.checkWeight(l),u=1e5;for(let h=0;h<5;++h)c/u===0&&e.append("0"),u/=10;e.append(c)}}class fr extends Ur{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=fr.HEADER_SIZE+Ur.GTIN_SIZE+fr.WEIGHT_SIZE)throw new J;let e=new Ne;return this.encodeCompressedGtin(e,fr.HEADER_SIZE),this.encodeCompressedWeight(e,fr.HEADER_SIZE+Ur.GTIN_SIZE,fr.WEIGHT_SIZE),e.toString()}}fr.HEADER_SIZE=5,fr.WEIGHT_SIZE=15;class vs extends fr{constructor(e){super(e)}addWeightCode(e,n){e.append("(3103)")}checkWeight(e){return e}}class Le extends fr{constructor(e){super(e)}addWeightCode(e,n){n<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Ze extends In{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ze.HEADER_SIZE+In.GTIN_SIZE)throw new J;let e=new Ne;this.encodeCompressedGtin(e,Ze.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ze.HEADER_SIZE+In.GTIN_SIZE,Ze.LAST_DIGIT_SIZE);e.append("(392"),e.append(n),e.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Ze.HEADER_SIZE+In.GTIN_SIZE+Ze.LAST_DIGIT_SIZE,null);return e.append(i.getNewString()),e.toString()}}Ze.HEADER_SIZE=8,Ze.LAST_DIGIT_SIZE=2;class Ge extends In{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ge.HEADER_SIZE+In.GTIN_SIZE)throw new J;let e=new Ne;this.encodeCompressedGtin(e,Ge.HEADER_SIZE);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE+In.GTIN_SIZE,Ge.LAST_DIGIT_SIZE);e.append("(393"),e.append(n),e.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ge.HEADER_SIZE+In.GTIN_SIZE+Ge.LAST_DIGIT_SIZE,Ge.FIRST_THREE_DIGITS_SIZE);i/100==0&&e.append("0"),i/10==0&&e.append("0"),e.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ge.HEADER_SIZE+In.GTIN_SIZE+Ge.LAST_DIGIT_SIZE+Ge.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Ge.HEADER_SIZE=8,Ge.LAST_DIGIT_SIZE=2,Ge.FIRST_THREE_DIGITS_SIZE=10;class ot extends Ur{constructor(e,n,i){super(e),this.dateCode=i,this.firstAIdigits=n}parseInformation(){if(this.getInformation().getSize()!=ot.HEADER_SIZE+ot.GTIN_SIZE+ot.WEIGHT_SIZE+ot.DATE_SIZE)throw new J;let e=new Ne;return this.encodeCompressedGtin(e,ot.HEADER_SIZE),this.encodeCompressedWeight(e,ot.HEADER_SIZE+ot.GTIN_SIZE,ot.WEIGHT_SIZE),this.encodeCompressedDate(e,ot.HEADER_SIZE+ot.GTIN_SIZE+ot.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,ot.DATE_SIZE);if(i==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=i%32;i/=32;let c=i%12+1;i/=12;let u=i;u/10==0&&e.append("0"),e.append(u),c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,n){e.append("("),e.append(this.firstAIdigits),e.append(n/1e5),e.append(")")}checkWeight(e){return e%1e5}}ot.HEADER_SIZE=8,ot.WEIGHT_SIZE=20,ot.DATE_SIZE=16;function Ke(k){try{if(k.get(1))return new Kn(k);if(!k.get(2))return new wi(k);switch(ri.extractNumericValueFromBitArray(k,1,4)){case 4:return new vs(k);case 5:return new Le(k)}switch(ri.extractNumericValueFromBitArray(k,1,5)){case 12:return new Ze(k);case 13:return new Ge(k)}switch(ri.extractNumericValueFromBitArray(k,1,7)){case 56:return new ot(k,"310","11");case 57:return new ot(k,"320","11");case 58:return new ot(k,"310","13");case 59:return new ot(k,"320","13");case 60:return new ot(k,"310","15");case 61:return new ot(k,"320","15");case 62:return new ot(k,"310","17");case 63:return new ot(k,"320","17")}}catch(e){throw console.log(e),new Ft("unknown decoder: "+k)}}class ut{constructor(e,n,i,l){this.leftchar=e,this.rightchar=n,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,n){return e instanceof ut?ut.equalsOrNull(e.leftchar,n.leftchar)&&ut.equalsOrNull(e.rightchar,n.rightchar)&&ut.equalsOrNull(e.finderpattern,n.finderpattern):!1}static equalsOrNull(e,n){return e===null?n===null:ut.equals(e,n)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cs{constructor(e,n,i){this.pairs=e,this.rowNumber=n,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,n){return e instanceof Cs?this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed:!1}checkEqualitity(e,n){if(!e||!n)return;let i;return e.forEach((l,c)=>{n.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class pe extends sn{constructor(e){super(...arguments),this.pairs=new Array(pe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,n,i){this.pairs.length=0,this.startFromEven=!1;try{return pe.constructResult(this.decodeRow2pairs(e,n))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,pe.constructResult(this.decodeRow2pairs(e,n))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,n){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,e))}catch(c){if(c instanceof J){if(!this.pairs.length)throw new J;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new J}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let n=null;try{n=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return e&&(this.rows=this.rows.reverse()),n}checkRows(e,n){for(let i=n;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let u of e)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!pe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(e);c.push(l);try{return this.checkRows(c,i+1)}catch(u){this.verbose&&console.log(u)}}throw new J}static isValidSequence(e){for(let n of pe.FINDER_PATTERN_SEQUENCES){if(e.length>n.length)continue;let i=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=n[l]){i=!1;break}if(i)return!0}return!1}storeRow(e,n){let i=0,l=!1,c=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>e){c=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),i++}c||l||pe.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Cs(this.pairs,e,n)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,n){for(let i of n)if(i.getPairs().length!==e.length){for(let l of i.getPairs())for(let c of e)if(ut.equals(l,c))break}}static isPartialRow(e,n){for(let i of n){let l=!0;for(let c of e){let u=!1;for(let h of i.getPairs())if(c.equals(h)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let n=zi.buildBitArray(e),l=Ke(n).parseInformation(),c=e[0].getFinderPattern().getResultPoints(),u=e[e.length-1].getFinderPattern().getResultPoints(),h=[c[0],c[1],u[0],u[1]];return new Ue(l,null,null,h,Ee.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),n=e.getLeftChar(),i=e.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),c=2;for(let h=1;h<this.pairs.size();++h){let m=this.pairs.get(h);l+=m.getLeftChar().getChecksumPortion(),c++;let v=m.getRightChar();v!=null&&(l+=v.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==n.getValue()}static getNextSecondBar(e,n){let i;return e.get(n)?(i=e.getNextUnset(n),i=e.getNextSet(i)):(i=e.getNextSet(n),i=e.getNextUnset(i)),i}retrieveNextPair(e,n,i){let l=n.length%2==0;this.startFromEven&&(l=!l);let c,u=!0,h=-1;do this.findNextPair(e,n,h),c=this.parseFoundFinderPattern(e,i,l),c==null?h=pe.getNextSecondBar(e,this.startEnd[0]):u=!1;while(u);let m=this.decodeDataCharacter(e,c,l,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new J;let v;try{v=this.decodeDataCharacter(e,c,l,!1)}catch(N){v=null,this.verbose&&console.log(N)}return new ut(m,v,c,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,n,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),u;i>=0?u=i:this.isEmptyPair(n)?u=0:u=n[n.length-1].getFinderPattern().getStartEnd()[1];let h=n.length%2!=0;this.startFromEven&&(h=!h);let m=!1;for(;u<c&&(m=!e.get(u),!!m);)u++;let v=0,N=u;for(let P=u;P<c;P++)if(e.get(P)!=m)l[v]++;else{if(v==3){if(h&&pe.reverseCounters(l),pe.isFinderPattern(l)){this.startEnd[0]=N,this.startEnd[1]=P;return}h&&pe.reverseCounters(l),N+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,v--}else v++;l[v]=1,m=!m}throw new J}static reverseCounters(e){let n=e.length;for(let i=0;i<n/2;++i){let l=e[i];e[i]=e[n-i-1],e[n-i-1]=l}}parseFoundFinderPattern(e,n,i){let l,c,u;if(i){let v=this.startEnd[0]-1;for(;v>=0&&!e.get(v);)v--;v++,l=this.startEnd[0]-v,c=v,u=this.startEnd[1]}else c=this.startEnd[0],u=e.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let h=this.getDecodeFinderCounters();F.arraycopy(h,0,h,1,h.length-1),h[0]=l;let m;try{m=this.parseFinderValue(h,pe.FINDER_PATTERNS)}catch{return null}return new ti(m,[c,u],c,u,n)}decodeDataCharacter(e,n,i,l){let c=this.getDataCharacterCounters();for(let Bt=0;Bt<c.length;Bt++)c[Bt]=0;if(l)pe.recordPatternInReverse(e,n.getStartEnd()[0],c);else{pe.recordPattern(e,n.getStartEnd()[1],c);for(let Bt=0,on=c.length-1;Bt<on;Bt++,on--){let zn=c[Bt];c[Bt]=c[on],c[on]=zn}}let u=17,h=mt.sum(new Int32Array(c))/u,m=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(h-m)/m>.3)throw new J;let v=this.getOddCounts(),N=this.getEvenCounts(),P=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Bt=0;Bt<c.length;Bt++){let on=1*c[Bt]/h,zn=on+.5;if(zn<1){if(on<.3)throw new J;zn=1}else if(zn>8){if(on>8.7)throw new J;zn=8}let bi=Bt/2;Bt&1?(N[bi]=zn,D[bi]=on-zn):(v[bi]=zn,P[bi]=on-zn)}this.adjustOddEvenCounts(u);let z=4*n.getValue()+(i?0:2)+(l?0:1)-1,G=0,K=0;for(let Bt=v.length-1;Bt>=0;Bt--){if(pe.isNotA1left(n,i,l)){let on=pe.WEIGHTS[z][2*Bt];K+=v[Bt]*on}G+=v[Bt]}let q=0;for(let Bt=N.length-1;Bt>=0;Bt--)if(pe.isNotA1left(n,i,l)){let on=pe.WEIGHTS[z][2*Bt+1];q+=N[Bt]*on}let ie=K+q;if(G&1||G>13||G<4)throw new J;let Ce=(13-G)/2,Ae=pe.SYMBOL_WIDEST[Ce],ye=9-Ae,Et=An.getRSSvalue(v,Ae,!0),dt=An.getRSSvalue(N,ye,!1),$n=pe.EVEN_TOTAL_SUBSET[Ce],Er=pe.GSUM[Ce],vn=Et*$n+dt+Er;return new Nr(vn,ie)}static isNotA1left(e,n,i){return!(e.getValue()==0&&n&&i)}adjustOddEvenCounts(e){let n=mt.sum(new Int32Array(this.getOddCounts())),i=mt.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;n>13?c=!0:n<4&&(l=!0);let u=!1,h=!1;i>13?h=!0:i<4&&(u=!0);let m=n+i-e,v=(n&1)==1,N=(i&1)==0;if(m==1)if(v){if(N)throw new J;c=!0}else{if(!N)throw new J;h=!0}else if(m==-1)if(v){if(N)throw new J;l=!0}else{if(!N)throw new J;u=!0}else if(m==0){if(v){if(!N)throw new J;n<i?(l=!0,h=!0):(c=!0,u=!0)}else if(N)throw new J}else throw new J;if(l){if(c)throw new J;pe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&pe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(h)throw new J;pe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&pe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pe.SYMBOL_WIDEST=[7,5,4,3,1],pe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],pe.GSUM=[0,348,1388,2948,3988],pe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],pe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],pe.FINDER_PAT_A=0,pe.FINDER_PAT_B=1,pe.FINDER_PAT_C=2,pe.FINDER_PAT_D=3,pe.FINDER_PAT_E=4,pe.FINDER_PAT_F=5,pe.FINDER_PATTERN_SEQUENCES=[[pe.FINDER_PAT_A,pe.FINDER_PAT_A],[pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B],[pe.FINDER_PAT_A,pe.FINDER_PAT_C,pe.FINDER_PAT_B,pe.FINDER_PAT_D],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_C],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_D,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_E,pe.FINDER_PAT_B,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_D],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_E],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F],[pe.FINDER_PAT_A,pe.FINDER_PAT_A,pe.FINDER_PAT_B,pe.FINDER_PAT_B,pe.FINDER_PAT_C,pe.FINDER_PAT_D,pe.FINDER_PAT_D,pe.FINDER_PAT_E,pe.FINDER_PAT_E,pe.FINDER_PAT_F,pe.FINDER_PAT_F]],pe.MAX_PAIRS=11;class Es extends Nr{constructor(e,n,i){super(e,n),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class It extends sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,n,i){const l=this.decodePair(n,!1,e,i);It.addOrTally(this.possibleLeftPairs,l),n.reverse();let c=this.decodePair(n,!0,e,i);It.addOrTally(this.possibleRightPairs,c),n.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&It.checkChecksum(u,h))return It.constructResult(u,h)}throw new J}static addOrTally(e,n){if(n==null)return;let i=!1;for(let l of e)if(l.getValue()===n.getValue()){l.incrementCount(),i=!0;break}i||e.push(n)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,n){let i=4537077*e.getValue()+n.getValue(),l=new String(i).toString(),c=new Ne;for(let v=13-l.length;v>0;v--)c.append("0");c.append(l);let u=0;for(let v=0;v<13;v++){let N=c.charAt(v).charCodeAt(0)-48;u+=v&1?N:3*N}u=10-u%10,u===10&&(u=0),c.append(u.toString());let h=e.getFinderPattern().getResultPoints(),m=n.getFinderPattern().getResultPoints();return new Ue(c.toString(),null,0,[h[0],h[1],m[0],m[1]],Ee.RSS_14,new Date().getTime())}static checkChecksum(e,n){let i=(e.getChecksumPortion()+16*n.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+n.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(e,n,i,l){try{let c=this.findFinderPattern(e,n),u=this.parseFoundFinderPattern(e,i,n,c),h=l==null?null:l.get(le.NEED_RESULT_POINT_CALLBACK);if(h!=null){let N=(c[0]+c[1])/2;n&&(N=e.getSize()-1-N),h.foundPossibleResultPoint(new Ie(N,i))}let m=this.decodeDataCharacter(e,u,!0),v=this.decodeDataCharacter(e,u,!1);return new Es(1597*m.getValue()+v.getValue(),m.getChecksumPortion()+4*v.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(e,n,i){let l=this.getDataCharacterCounters();for(let q=0;q<l.length;q++)l[q]=0;if(i)Pt.recordPatternInReverse(e,n.getStartEnd()[0],l);else{Pt.recordPattern(e,n.getStartEnd()[1]+1,l);for(let q=0,ie=l.length-1;q<ie;q++,ie--){let Ce=l[q];l[q]=l[ie],l[ie]=Ce}}let c=i?16:15,u=mt.sum(new Int32Array(l))/c,h=this.getOddCounts(),m=this.getEvenCounts(),v=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let q=0;q<l.length;q++){let ie=l[q]/u,Ce=Math.floor(ie+.5);Ce<1?Ce=1:Ce>8&&(Ce=8);let Ae=Math.floor(q/2);q&1?(m[Ae]=Ce,N[Ae]=ie-Ce):(h[Ae]=Ce,v[Ae]=ie-Ce)}this.adjustOddEvenCounts(i,c);let P=0,D=0;for(let q=h.length-1;q>=0;q--)D*=9,D+=h[q],P+=h[q];let z=0,G=0;for(let q=m.length-1;q>=0;q--)z*=9,z+=m[q],G+=m[q];let K=D+3*z;if(i){if(P&1||P>12||P<4)throw new J;let q=(12-P)/2,ie=It.OUTSIDE_ODD_WIDEST[q],Ce=9-ie,Ae=An.getRSSvalue(h,ie,!1),ye=An.getRSSvalue(m,Ce,!0),Et=It.OUTSIDE_EVEN_TOTAL_SUBSET[q],dt=It.OUTSIDE_GSUM[q];return new Nr(Ae*Et+ye+dt,K)}else{if(G&1||G>10||G<4)throw new J;let q=(10-G)/2,ie=It.INSIDE_ODD_WIDEST[q],Ce=9-ie,Ae=An.getRSSvalue(h,ie,!0),ye=An.getRSSvalue(m,Ce,!1),Et=It.INSIDE_ODD_TOTAL_SUBSET[q],dt=It.INSIDE_GSUM[q];return new Nr(ye*Et+Ae+dt,K)}}findFinderPattern(e,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=e.getSize(),c=!1,u=0;for(;u<l&&(c=!e.get(u),n!==c);)u++;let h=0,m=u;for(let v=u;v<l;v++)if(e.get(v)!==c)i[h]++;else{if(h===3){if(sn.isFinderPattern(i))return[m,v];m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,h--}else h++;i[h]=1,c=!c}throw new J}parseFoundFinderPattern(e,n,i,l){let c=e.get(l[0]),u=l[0]-1;for(;u>=0&&c!==e.get(u);)u--;u++;const h=l[0]-u,m=this.getDecodeFinderCounters(),v=new Int32Array(m.length);F.arraycopy(m,0,v,1,m.length-1),v[0]=h;const N=this.parseFinderValue(v,It.FINDER_PATTERNS);let P=u,D=l[1];return i&&(P=e.getSize()-1-P,D=e.getSize()-1-D),new ti(N,[u,l[1]],P,D,n)}adjustOddEvenCounts(e,n){let i=mt.sum(new Int32Array(this.getOddCounts())),l=mt.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1,h=!1,m=!1;e?(i>12?u=!0:i<4&&(c=!0),l>12?m=!0:l<4&&(h=!0)):(i>11?u=!0:i<5&&(c=!0),l>10?m=!0:l<4&&(h=!0));let v=i+l-n,N=(i&1)===(e?1:0),P=(l&1)===1;if(v===1)if(N){if(P)throw new J;u=!0}else{if(!P)throw new J;m=!0}else if(v===-1)if(N){if(P)throw new J;c=!0}else{if(!P)throw new J;h=!0}else if(v===0){if(N){if(!P)throw new J;i<l?(c=!0,m=!0):(u=!0,h=!0)}else if(P)throw new J}else throw new J;if(c){if(u)throw new J;sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new J;sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}It.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],It.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],It.OUTSIDE_GSUM=[0,161,961,2015,2715],It.INSIDE_GSUM=[0,336,1036,1516],It.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],It.INSIDE_ODD_WIDEST=[2,4,6,8],It.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class sr extends Pt{constructor(e,n){super(),this.readers=[],this.verbose=n===!0;const i=e?e.get(le.POSSIBLE_FORMATS):null,l=e&&e.get(le.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(Ee.EAN_13)||i.includes(Ee.UPC_A)||i.includes(Ee.EAN_8)||i.includes(Ee.UPC_E))&&this.readers.push(new Vi(e)),i.includes(Ee.CODE_39)&&this.readers.push(new Vt(l)),i.includes(Ee.CODE_128)&&this.readers.push(new be),i.includes(Ee.ITF)&&this.readers.push(new Tt),i.includes(Ee.RSS_14)&&this.readers.push(new It),i.includes(Ee.RSS_EXPANDED)&&this.readers.push(new pe(this.verbose))):(this.readers.push(new Vi(e)),this.readers.push(new Vt),this.readers.push(new Vi(e)),this.readers.push(new be),this.readers.push(new Tt),this.readers.push(new It),this.readers.push(new pe(this.verbose)))}decodeRow(e,n,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,n,i)}catch{}throw new J}reset(){this.readers.forEach(e=>e.reset())}}class Fo extends We{constructor(e=500,n){super(new sr(n),e,n)}}class Ct{constructor(e,n,i){this.ecCodewords=e,this.ecBlocks=[n],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ht{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Nt{constructor(e,n,i,l,c,u){this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=u;let h=0;const m=u.getECCodewords(),v=u.getECBlocks();for(let N of v)h+=N.getCount()*(N.getDataCodewords()+m);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,n){if(e&1||n&1)throw new X;for(let i of Nt.VERSIONS)if(i.symbolSizeRows===e&&i.symbolSizeColumns===n)return i;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new Nt(1,10,10,8,8,new Ct(5,new ht(1,3))),new Nt(2,12,12,10,10,new Ct(7,new ht(1,5))),new Nt(3,14,14,12,12,new Ct(10,new ht(1,8))),new Nt(4,16,16,14,14,new Ct(12,new ht(1,12))),new Nt(5,18,18,16,16,new Ct(14,new ht(1,18))),new Nt(6,20,20,18,18,new Ct(18,new ht(1,22))),new Nt(7,22,22,20,20,new Ct(20,new ht(1,30))),new Nt(8,24,24,22,22,new Ct(24,new ht(1,36))),new Nt(9,26,26,24,24,new Ct(28,new ht(1,44))),new Nt(10,32,32,14,14,new Ct(36,new ht(1,62))),new Nt(11,36,36,16,16,new Ct(42,new ht(1,86))),new Nt(12,40,40,18,18,new Ct(48,new ht(1,114))),new Nt(13,44,44,20,20,new Ct(56,new ht(1,144))),new Nt(14,48,48,22,22,new Ct(68,new ht(1,174))),new Nt(15,52,52,24,24,new Ct(42,new ht(2,102))),new Nt(16,64,64,14,14,new Ct(56,new ht(2,140))),new Nt(17,72,72,16,16,new Ct(36,new ht(4,92))),new Nt(18,80,80,18,18,new Ct(48,new ht(4,114))),new Nt(19,88,88,20,20,new Ct(56,new ht(4,144))),new Nt(20,96,96,22,22,new Ct(68,new ht(4,174))),new Nt(21,104,104,24,24,new Ct(56,new ht(6,136))),new Nt(22,120,120,18,18,new Ct(68,new ht(6,175))),new Nt(23,132,132,20,20,new Ct(62,new ht(8,163))),new Nt(24,144,144,22,22,new Ct(62,new ht(8,156),new ht(2,155))),new Nt(25,8,18,6,16,new Ct(7,new ht(1,5))),new Nt(26,8,32,6,14,new Ct(11,new ht(1,10))),new Nt(27,12,26,10,24,new Ct(14,new ht(1,16))),new Nt(28,12,36,10,16,new Ct(18,new ht(1,22))),new Nt(29,16,36,14,16,new Ct(24,new ht(1,32))),new Nt(30,16,48,14,22,new Ct(28,new ht(1,49)))]}}Nt.VERSIONS=Nt.buildVersions();class or{constructor(e){const n=e.getHeight();if(n<8||n>144||n&1)throw new X;this.version=or.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const n=e.getHeight(),i=e.getWidth();return Nt.getVersionForDimensions(n,i)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let n=0,i=4,l=0;const c=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let h=!1,m=!1,v=!1,N=!1;do if(i===c&&l===0&&!h)e[n++]=this.readCorner1(c,u)&255,i-=2,l+=2,h=!0;else if(i===c-2&&l===0&&u&3&&!m)e[n++]=this.readCorner2(c,u)&255,i-=2,l+=2,m=!0;else if(i===c+4&&l===2&&!(u&7)&&!v)e[n++]=this.readCorner3(c,u)&255,i-=2,l+=2,v=!0;else if(i===c-2&&l===0&&(u&7)===4&&!N)e[n++]=this.readCorner4(c,u)&255,i-=2,l+=2,N=!0;else{do i<c&&l>=0&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,c,u)&255),i-=2,l+=2;while(i>=0&&l<u);i+=1,l+=3;do i>=0&&l<u&&!this.readMappingMatrix.get(l,i)&&(e[n++]=this.readUtah(i,l,c,u)&255),i+=2,l-=2;while(i<c&&l>=0);i+=3,l+=1}while(i<c||l<u);if(n!==this.version.getTotalCodewords())throw new X;return e}readModule(e,n,i,l){return e<0&&(e+=i,n+=4-(i+4&7)),n<0&&(n+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(n,e),this.mappingBitMatrix.get(n,e)}readUtah(e,n,i,l){let c=0;return this.readModule(e-2,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e-2,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e-1,n,i,l)&&(c|=1),c<<=1,this.readModule(e,n-2,i,l)&&(c|=1),c<<=1,this.readModule(e,n-1,i,l)&&(c|=1),c<<=1,this.readModule(e,n,i,l)&&(c|=1),c}readCorner1(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,1,e,n)&&(i|=1),i<<=1,this.readModule(e-1,2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}readCorner2(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-4,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner3(e,n){let i=0;return this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(0,n-3,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-3,e,n)&&(i|=1),i<<=1,this.readModule(1,n-2,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i}readCorner4(e,n){let i=0;return this.readModule(e-3,0,e,n)&&(i|=1),i<<=1,this.readModule(e-2,0,e,n)&&(i|=1),i<<=1,this.readModule(e-1,0,e,n)&&(i|=1),i<<=1,this.readModule(0,n-2,e,n)&&(i|=1),i<<=1,this.readModule(0,n-1,e,n)&&(i|=1),i<<=1,this.readModule(1,n-1,e,n)&&(i|=1),i<<=1,this.readModule(2,n-1,e,n)&&(i|=1),i<<=1,this.readModule(3,n-1,e,n)&&(i|=1),i}extractDataRegion(e){const n=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(e.getHeight()!==n)throw new I("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),u=n/l|0,h=i/c|0,m=u*l,v=h*c,N=new Re(v,m);for(let P=0;P<u;++P){const D=P*l;for(let z=0;z<h;++z){const G=z*c;for(let K=0;K<l;++K){const q=P*(l+2)+1+K,ie=D+K;for(let Ce=0;Ce<c;++Ce){const Ae=z*(c+2)+1+Ce;if(e.get(Ae,q)){const ye=G+Ce;N.set(ye,ie)}}}}}return N}}class jo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n){const i=n.getECBlocks();let l=0;const c=i.getECBlocks();for(let K of c)l+=K.getCount();const u=new Array(l);let h=0;for(let K of c)for(let q=0;q<K.getCount();q++){const ie=K.getDataCodewords(),Ce=i.getECCodewords()+ie;u[h++]=new jo(ie,new Uint8Array(Ce))}const v=u[0].codewords.length-i.getECCodewords(),N=v-1;let P=0;for(let K=0;K<N;K++)for(let q=0;q<h;q++)u[q].codewords[K]=e[P++];const D=n.getVersionNumber()===24,z=D?8:h;for(let K=0;K<z;K++)u[K].codewords[v-1]=e[P++];const G=u[0].codewords.length;for(let K=v;K<G;K++)for(let q=0;q<h;q++){const ie=D?(q+8)%h:q,Ce=D&&ie>7?K-1:K;u[ie].codewords[Ce]=e[P++]}if(P!==e.length)throw new I;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Vo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new I(""+e);let n=0,i=this.bitOffset,l=this.byteOffset;const c=this.bytes;if(i>0){const u=8-i,h=e<u?e:u,m=u-h,v=255>>8-h<<m;n=(c[l]&v)>>m,e-=h,i+=h,i===8&&(i=0,l++)}if(e>0){for(;e>=8;)n=n<<8|c[l]&255,l++,e-=8;if(e>0){const u=8-e,h=255>>u<<u;n=n<<e|(c[l]&h)>>u,i+=e}}return this.bitOffset=i,this.byteOffset=l,n}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var yn;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(yn||(yn={}));class yr{static decode(e){const n=new Vo(e),i=new Ne,l=new Ne,c=new Array;let u=yn.ASCII_ENCODE;do if(u===yn.ASCII_ENCODE)u=this.decodeAsciiSegment(n,i,l);else{switch(u){case yn.C40_ENCODE:this.decodeC40Segment(n,i);break;case yn.TEXT_ENCODE:this.decodeTextSegment(n,i);break;case yn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,i);break;case yn.EDIFACT_ENCODE:this.decodeEdifactSegment(n,i);break;case yn.BASE256_ENCODE:this.decodeBase256Segment(n,i,c);break;default:throw new X}u=yn.ASCII_ENCODE}while(u!==yn.PAD_ENCODE&&n.available()>0);return l.length()>0&&i.append(l.toString()),new xt(e,i.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(e,n,i){let l=!1;do{let c=e.readBits(8);if(c===0)throw new X;if(c<=128)return l&&(c+=128),n.append(String.fromCharCode(c-1)),yn.ASCII_ENCODE;if(c===129)return yn.PAD_ENCODE;if(c<=229){const u=c-130;u<10&&n.append("0"),n.append(""+u)}else switch(c){case 230:return yn.C40_ENCODE;case 231:return yn.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),i.insert(0,"");break;case 237:n.append("[)>06"),i.insert(0,"");break;case 238:return yn.ANSIX12_ENCODE;case 239:return yn.TEXT_ENCODE;case 240:return yn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||e.available()!==0)throw new X;break}}while(e.available()>0);return yn.ASCII_ENCODE}static decodeC40Segment(e,n){let i=!1;const l=[];let c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(c){case 0:if(m<3)c=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else throw new X;break;case 1:i?(n.append(String.fromCharCode(m+128)),i=!1):n.append(String.fromCharCode(m)),c=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else switch(m){case 27:n.append("");break;case 30:i=!0;break;default:throw new X}c=0;break;case 3:i?(n.append(String.fromCharCode(m+224)),i=!1):n.append(String.fromCharCode(m+96)),c=0;break;default:throw new X}}}while(e.available()>0)}static decodeTextSegment(e,n){let i=!1,l=[],c=0;do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const m=l[h];switch(c){case 0:if(m<3)c=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else throw new X;break;case 1:i?(n.append(String.fromCharCode(m+128)),i=!1):n.append(String.fromCharCode(m)),c=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v)}else switch(m){case 27:n.append("");break;case 30:i=!0;break;default:throw new X}c=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[m];i?(n.append(String.fromCharCode(v.charCodeAt(0)+128)),i=!1):n.append(v),c=0}else throw new X;break;default:throw new X}}}while(e.available()>0)}static decodeAnsiX12Segment(e,n){const i=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(u){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(u<14)n.append(String.fromCharCode(u+44));else if(u<40)n.append(String.fromCharCode(u+51));else throw new X;break}}}while(e.available()>0)}static parseTwoBytes(e,n,i){let l=(e<<8)+n-1,c=Math.floor(l/1600);i[0]=c,l-=c*1600,c=Math.floor(l/40),i[1]=c,i[2]=l-c*40}static decodeEdifactSegment(e,n){do{if(e.available()<=16)return;for(let i=0;i<4;i++){let l=e.readBits(6);if(l===31){const c=8-e.getBitOffset();c!==8&&e.readBits(c);return}l&32||(l|=64),n.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,n,i){let l=1+e.getByteOffset();const c=this.unrandomize255State(e.readBits(8),l++);let u;if(c===0?u=e.available()/8|0:c<250?u=c:u=250*(c-249)+this.unrandomize255State(e.readBits(8),l++),u<0)throw new X;const h=new Uint8Array(u);for(let m=0;m<u;m++){if(e.available()<8)throw new X;h[m]=this.unrandomize255State(e.readBits(8),l++)}i.push(h);try{n.append(ke.decode(h,Te.ISO88591))}catch(m){throw new Ft("Platform does not support required encoding: "+m.message)}}static unrandomize255State(e,n){const i=149*n%255+1,l=e-i;return l>=0?l:l+256}}yr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],yr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],yr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],yr.TEXT_SHIFT2_SET_CHARS=yr.C40_SHIFT2_SET_CHARS,yr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Js{constructor(){this.rsDecoder=new Gt(Pe.DATA_MATRIX_FIELD_256)}decode(e){const n=new or(e),i=n.getVersion(),l=n.readCodewords(),c=jo.getDataBlocks(l,i);let u=0;for(let v of c)u+=v.getNumDataCodewords();const h=new Uint8Array(u),m=c.length;for(let v=0;v<m;v++){const N=c[v],P=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(P,D);for(let z=0;z<D;z++)h[z*m+v]=P[z]}return yr.decode(h)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new M}for(let l=0;l<n;l++)e[l]=i[l]}}class Kt{constructor(e){this.image=e,this.rectangleDetector=new Oe(this.image)}detect(){const e=this.rectangleDetector.detect();let n=this.detectSolid1(e);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new J;n=this.shiftToModuleCenter(n);const i=n[0],l=n[1],c=n[2],u=n[3];let h=this.transitionsBetween(i,u)+1,m=this.transitionsBetween(c,u)+1;(h&1)===1&&(h+=1),(m&1)===1&&(m+=1),4*h<7*m&&4*m<7*h&&(h=m=Math.max(h,m));let v=Kt.sampleGrid(this.image,i,l,c,u,h,m);return new rt(v,[i,l,c,u])}static shiftPoint(e,n,i){let l=(n.getX()-e.getX())/(i+1),c=(n.getY()-e.getY())/(i+1);return new Ie(e.getX()+l,e.getY()+c)}static moveAway(e,n,i){let l=e.getX(),c=e.getY();return l<n?l-=1:l+=1,c<i?c-=1:c+=1,new Ie(l,c)}detectSolid1(e){let n=e[0],i=e[1],l=e[3],c=e[2],u=this.transitionsBetween(n,i),h=this.transitionsBetween(i,l),m=this.transitionsBetween(l,c),v=this.transitionsBetween(c,n),N=u,P=[c,n,i,l];return N>h&&(N=h,P[0]=n,P[1]=i,P[2]=l,P[3]=c),N>m&&(N=m,P[0]=i,P[1]=l,P[2]=c,P[3]=n),N>v&&(P[0]=l,P[1]=c,P[2]=n,P[3]=i),P}detectSolid2(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=Kt.shiftPoint(i,l,(u+1)*4),m=Kt.shiftPoint(l,i,(u+1)*4),v=this.transitionsBetween(h,n),N=this.transitionsBetween(m,c);return v<N?(e[0]=n,e[1]=i,e[2]=l,e[3]=c):(e[0]=i,e[1]=l,e[2]=c,e[3]=n),e}correctTopRight(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c),h=this.transitionsBetween(i,c),m=Kt.shiftPoint(n,i,(h+1)*4),v=Kt.shiftPoint(l,i,(u+1)*4);u=this.transitionsBetween(m,c),h=this.transitionsBetween(v,c);let N=new Ie(c.getX()+(l.getX()-i.getX())/(u+1),c.getY()+(l.getY()-i.getY())/(u+1)),P=new Ie(c.getX()+(n.getX()-i.getX())/(h+1),c.getY()+(n.getY()-i.getY())/(h+1));if(!this.isValid(N))return this.isValid(P)?P:null;if(!this.isValid(P))return N;let D=this.transitionsBetween(m,N)+this.transitionsBetween(v,N),z=this.transitionsBetween(m,P)+this.transitionsBetween(v,P);return D>z?N:P}shiftToModuleCenter(e){let n=e[0],i=e[1],l=e[2],c=e[3],u=this.transitionsBetween(n,c)+1,h=this.transitionsBetween(l,c)+1,m=Kt.shiftPoint(n,i,h*4),v=Kt.shiftPoint(l,i,u*4);u=this.transitionsBetween(m,c)+1,h=this.transitionsBetween(v,c)+1,(u&1)===1&&(u+=1),(h&1)===1&&(h+=1);let N=(n.getX()+i.getX()+l.getX()+c.getX())/4,P=(n.getY()+i.getY()+l.getY()+c.getY())/4;n=Kt.moveAway(n,N,P),i=Kt.moveAway(i,N,P),l=Kt.moveAway(l,N,P),c=Kt.moveAway(c,N,P);let D,z;return m=Kt.shiftPoint(n,i,h*4),m=Kt.shiftPoint(m,c,u*4),D=Kt.shiftPoint(i,n,h*4),D=Kt.shiftPoint(D,l,u*4),v=Kt.shiftPoint(l,c,h*4),v=Kt.shiftPoint(v,i,u*4),z=Kt.shiftPoint(c,l,h*4),z=Kt.shiftPoint(z,n,u*4),[m,D,v,z]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,n,i,l,c,u,h){return Ot.getInstance().sampleGrid(e,u,h,.5,.5,u-.5,.5,u-.5,h-.5,.5,h-.5,n.getX(),n.getY(),c.getX(),c.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(e,n){let i=Math.trunc(e.getX()),l=Math.trunc(e.getY()),c=Math.trunc(n.getX()),u=Math.trunc(n.getY()),h=Math.abs(u-l)>Math.abs(c-i);if(h){let K=i;i=l,l=K,K=c,c=u,u=K}let m=Math.abs(c-i),v=Math.abs(u-l),N=-m/2,P=l<u?1:-1,D=i<c?1:-1,z=0,G=this.image.get(h?l:i,h?i:l);for(let K=i,q=l;K!==c;K+=D){let ie=this.image.get(h?q:K,h?K:q);if(ie!==G&&(z++,G=ie),N+=v,N>0){if(q===u)break;q+=P,N-=m}}return z}}class wr{constructor(){this.decoder=new Js}decode(e,n=null){let i,l;if(n!=null&&n.has(le.PURE_BARCODE)){const v=wr.extractPureBits(e.getBlackMatrix());i=this.decoder.decode(v),l=wr.NO_POINTS}else{const v=new Kt(e.getBlackMatrix()).detect();i=this.decoder.decode(v.getBits()),l=v.getPoints()}const c=i.getRawBytes(),u=new Ue(i.getText(),c,8*c.length,l,Ee.DATA_MATRIX,F.currentTimeMillis()),h=i.getByteSegments();h!=null&&u.putMetadata(Fe.BYTE_SEGMENTS,h);const m=i.getECLevel();return m!=null&&u.putMetadata(Fe.ERROR_CORRECTION_LEVEL,m),u}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n==null||i==null)throw new J;const l=this.moduleSize(n,e);let c=n[1];const u=i[1];let h=n[0];const v=(i[0]-h+1)/l,N=(u-c+1)/l;if(v<=0||N<=0)throw new J;const P=l/2;c+=P,h+=P;const D=new Re(v,N);for(let z=0;z<N;z++){const G=c+z*l;for(let K=0;K<v;K++)e.get(h+K*l,G)&&D.set(K,z)}return D}static moduleSize(e,n){const i=n.getWidth();let l=e[0];const c=e[1];for(;l<i&&n.get(l,c);)l++;if(l===i)throw new J;const u=l-e[0];if(u===0)throw new J;return u}}wr.NO_POINTS=[];class Dc extends We{constructor(e=500){super(new wr,e)}}var Ui;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(Ui||(Ui={}));class zt{constructor(e,n,i){this.value=e,this.stringValue=n,this.bits=i,zt.FOR_BITS.set(i,this),zt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return zt.L;case"M":return zt.M;case"Q":return zt.Q;case"H":return zt.H;default:throw new b(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof zt))return!1;const n=e;return this.value===n.value}static forBits(e){if(e<0||e>=zt.FOR_BITS.size)throw new I;return zt.FOR_BITS.get(e)}}zt.FOR_BITS=new Map,zt.FOR_VALUE=new Map,zt.L=new zt(Ui.L,"L",1),zt.M=new zt(Ui.M,"M",0),zt.Q=new zt(Ui.Q,"Q",3),zt.H=new zt(Ui.H,"H",2);class Nn{constructor(e){this.errorCorrectionLevel=zt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,n){return U.bitCount(e^n)}static decodeFormatInformation(e,n){const i=Nn.doDecodeFormatInformation(e,n);return i!==null?i:Nn.doDecodeFormatInformation(e^Nn.FORMAT_INFO_MASK_QR,n^Nn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,n){let i=Number.MAX_SAFE_INTEGER,l=0;for(const c of Nn.FORMAT_INFO_DECODE_LOOKUP){const u=c[0];if(u===e||u===n)return new Nn(c[1]);let h=Nn.numBitsDiffering(e,u);h<i&&(l=c[1],i=h),e!==n&&(h=Nn.numBitsDiffering(n,u),h<i&&(l=c[1],i=h))}return i<=3?new Nn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Nn))return!1;const n=e;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask}}Nn.FORMAT_INFO_MASK_QR=21522,Nn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ee{constructor(e,...n){this.ecCodewordsPerBlock=e,this.ecBlocks=n}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const n=this.ecBlocks;for(const i of n)e+=i.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(e,n){this.count=e,this.dataCodewords=n}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ye{constructor(e,n,...i){this.versionNumber=e,this.alignmentPatternCenters=n,this.ecBlocks=i;let l=0;const c=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const h of u)l+=h.getCount()*(h.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new X;try{return this.getVersionForNumber((e-17)/4)}catch{throw new X}}static getVersionForNumber(e){if(e<1||e>40)throw new I;return Ye.VERSIONS[e-1]}static decodeVersionInformation(e){let n=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<Ye.VERSION_DECODE_INFO.length;l++){const c=Ye.VERSION_DECODE_INFO[l];if(c===e)return Ye.getVersionForNumber(l+7);const u=Nn.numBitsDiffering(e,c);u<n&&(i=l+7,n=u)}return n<=3?Ye.getVersionForNumber(i):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),n=new Re(e);n.setRegion(0,0,9,9),n.setRegion(e-8,0,8,9),n.setRegion(0,e-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const c=this.alignmentPatternCenters[l]-2;for(let u=0;u<i;u++)l===0&&(u===0||u===i-1)||l===i-1&&u===0||n.setRegion(this.alignmentPatternCenters[u]-2,c,5,5)}return n.setRegion(6,9,1,e-17),n.setRegion(9,6,e-17,1),this.versionNumber>6&&(n.setRegion(e-11,0,3,6),n.setRegion(0,e-11,6,3)),n}toString(){return""+this.versionNumber}}Ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ye.VERSIONS=[new Ye(1,new Int32Array(0),new ee(7,new j(1,19)),new ee(10,new j(1,16)),new ee(13,new j(1,13)),new ee(17,new j(1,9))),new Ye(2,Int32Array.from([6,18]),new ee(10,new j(1,34)),new ee(16,new j(1,28)),new ee(22,new j(1,22)),new ee(28,new j(1,16))),new Ye(3,Int32Array.from([6,22]),new ee(15,new j(1,55)),new ee(26,new j(1,44)),new ee(18,new j(2,17)),new ee(22,new j(2,13))),new Ye(4,Int32Array.from([6,26]),new ee(20,new j(1,80)),new ee(18,new j(2,32)),new ee(26,new j(2,24)),new ee(16,new j(4,9))),new Ye(5,Int32Array.from([6,30]),new ee(26,new j(1,108)),new ee(24,new j(2,43)),new ee(18,new j(2,15),new j(2,16)),new ee(22,new j(2,11),new j(2,12))),new Ye(6,Int32Array.from([6,34]),new ee(18,new j(2,68)),new ee(16,new j(4,27)),new ee(24,new j(4,19)),new ee(28,new j(4,15))),new Ye(7,Int32Array.from([6,22,38]),new ee(20,new j(2,78)),new ee(18,new j(4,31)),new ee(18,new j(2,14),new j(4,15)),new ee(26,new j(4,13),new j(1,14))),new Ye(8,Int32Array.from([6,24,42]),new ee(24,new j(2,97)),new ee(22,new j(2,38),new j(2,39)),new ee(22,new j(4,18),new j(2,19)),new ee(26,new j(4,14),new j(2,15))),new Ye(9,Int32Array.from([6,26,46]),new ee(30,new j(2,116)),new ee(22,new j(3,36),new j(2,37)),new ee(20,new j(4,16),new j(4,17)),new ee(24,new j(4,12),new j(4,13))),new Ye(10,Int32Array.from([6,28,50]),new ee(18,new j(2,68),new j(2,69)),new ee(26,new j(4,43),new j(1,44)),new ee(24,new j(6,19),new j(2,20)),new ee(28,new j(6,15),new j(2,16))),new Ye(11,Int32Array.from([6,30,54]),new ee(20,new j(4,81)),new ee(30,new j(1,50),new j(4,51)),new ee(28,new j(4,22),new j(4,23)),new ee(24,new j(3,12),new j(8,13))),new Ye(12,Int32Array.from([6,32,58]),new ee(24,new j(2,92),new j(2,93)),new ee(22,new j(6,36),new j(2,37)),new ee(26,new j(4,20),new j(6,21)),new ee(28,new j(7,14),new j(4,15))),new Ye(13,Int32Array.from([6,34,62]),new ee(26,new j(4,107)),new ee(22,new j(8,37),new j(1,38)),new ee(24,new j(8,20),new j(4,21)),new ee(22,new j(12,11),new j(4,12))),new Ye(14,Int32Array.from([6,26,46,66]),new ee(30,new j(3,115),new j(1,116)),new ee(24,new j(4,40),new j(5,41)),new ee(20,new j(11,16),new j(5,17)),new ee(24,new j(11,12),new j(5,13))),new Ye(15,Int32Array.from([6,26,48,70]),new ee(22,new j(5,87),new j(1,88)),new ee(24,new j(5,41),new j(5,42)),new ee(30,new j(5,24),new j(7,25)),new ee(24,new j(11,12),new j(7,13))),new Ye(16,Int32Array.from([6,26,50,74]),new ee(24,new j(5,98),new j(1,99)),new ee(28,new j(7,45),new j(3,46)),new ee(24,new j(15,19),new j(2,20)),new ee(30,new j(3,15),new j(13,16))),new Ye(17,Int32Array.from([6,30,54,78]),new ee(28,new j(1,107),new j(5,108)),new ee(28,new j(10,46),new j(1,47)),new ee(28,new j(1,22),new j(15,23)),new ee(28,new j(2,14),new j(17,15))),new Ye(18,Int32Array.from([6,30,56,82]),new ee(30,new j(5,120),new j(1,121)),new ee(26,new j(9,43),new j(4,44)),new ee(28,new j(17,22),new j(1,23)),new ee(28,new j(2,14),new j(19,15))),new Ye(19,Int32Array.from([6,30,58,86]),new ee(28,new j(3,113),new j(4,114)),new ee(26,new j(3,44),new j(11,45)),new ee(26,new j(17,21),new j(4,22)),new ee(26,new j(9,13),new j(16,14))),new Ye(20,Int32Array.from([6,34,62,90]),new ee(28,new j(3,107),new j(5,108)),new ee(26,new j(3,41),new j(13,42)),new ee(30,new j(15,24),new j(5,25)),new ee(28,new j(15,15),new j(10,16))),new Ye(21,Int32Array.from([6,28,50,72,94]),new ee(28,new j(4,116),new j(4,117)),new ee(26,new j(17,42)),new ee(28,new j(17,22),new j(6,23)),new ee(30,new j(19,16),new j(6,17))),new Ye(22,Int32Array.from([6,26,50,74,98]),new ee(28,new j(2,111),new j(7,112)),new ee(28,new j(17,46)),new ee(30,new j(7,24),new j(16,25)),new ee(24,new j(34,13))),new Ye(23,Int32Array.from([6,30,54,78,102]),new ee(30,new j(4,121),new j(5,122)),new ee(28,new j(4,47),new j(14,48)),new ee(30,new j(11,24),new j(14,25)),new ee(30,new j(16,15),new j(14,16))),new Ye(24,Int32Array.from([6,28,54,80,106]),new ee(30,new j(6,117),new j(4,118)),new ee(28,new j(6,45),new j(14,46)),new ee(30,new j(11,24),new j(16,25)),new ee(30,new j(30,16),new j(2,17))),new Ye(25,Int32Array.from([6,32,58,84,110]),new ee(26,new j(8,106),new j(4,107)),new ee(28,new j(8,47),new j(13,48)),new ee(30,new j(7,24),new j(22,25)),new ee(30,new j(22,15),new j(13,16))),new Ye(26,Int32Array.from([6,30,58,86,114]),new ee(28,new j(10,114),new j(2,115)),new ee(28,new j(19,46),new j(4,47)),new ee(28,new j(28,22),new j(6,23)),new ee(30,new j(33,16),new j(4,17))),new Ye(27,Int32Array.from([6,34,62,90,118]),new ee(30,new j(8,122),new j(4,123)),new ee(28,new j(22,45),new j(3,46)),new ee(30,new j(8,23),new j(26,24)),new ee(30,new j(12,15),new j(28,16))),new Ye(28,Int32Array.from([6,26,50,74,98,122]),new ee(30,new j(3,117),new j(10,118)),new ee(28,new j(3,45),new j(23,46)),new ee(30,new j(4,24),new j(31,25)),new ee(30,new j(11,15),new j(31,16))),new Ye(29,Int32Array.from([6,30,54,78,102,126]),new ee(30,new j(7,116),new j(7,117)),new ee(28,new j(21,45),new j(7,46)),new ee(30,new j(1,23),new j(37,24)),new ee(30,new j(19,15),new j(26,16))),new Ye(30,Int32Array.from([6,26,52,78,104,130]),new ee(30,new j(5,115),new j(10,116)),new ee(28,new j(19,47),new j(10,48)),new ee(30,new j(15,24),new j(25,25)),new ee(30,new j(23,15),new j(25,16))),new Ye(31,Int32Array.from([6,30,56,82,108,134]),new ee(30,new j(13,115),new j(3,116)),new ee(28,new j(2,46),new j(29,47)),new ee(30,new j(42,24),new j(1,25)),new ee(30,new j(23,15),new j(28,16))),new Ye(32,Int32Array.from([6,34,60,86,112,138]),new ee(30,new j(17,115)),new ee(28,new j(10,46),new j(23,47)),new ee(30,new j(10,24),new j(35,25)),new ee(30,new j(19,15),new j(35,16))),new Ye(33,Int32Array.from([6,30,58,86,114,142]),new ee(30,new j(17,115),new j(1,116)),new ee(28,new j(14,46),new j(21,47)),new ee(30,new j(29,24),new j(19,25)),new ee(30,new j(11,15),new j(46,16))),new Ye(34,Int32Array.from([6,34,62,90,118,146]),new ee(30,new j(13,115),new j(6,116)),new ee(28,new j(14,46),new j(23,47)),new ee(30,new j(44,24),new j(7,25)),new ee(30,new j(59,16),new j(1,17))),new Ye(35,Int32Array.from([6,30,54,78,102,126,150]),new ee(30,new j(12,121),new j(7,122)),new ee(28,new j(12,47),new j(26,48)),new ee(30,new j(39,24),new j(14,25)),new ee(30,new j(22,15),new j(41,16))),new Ye(36,Int32Array.from([6,24,50,76,102,128,154]),new ee(30,new j(6,121),new j(14,122)),new ee(28,new j(6,47),new j(34,48)),new ee(30,new j(46,24),new j(10,25)),new ee(30,new j(2,15),new j(64,16))),new Ye(37,Int32Array.from([6,28,54,80,106,132,158]),new ee(30,new j(17,122),new j(4,123)),new ee(28,new j(29,46),new j(14,47)),new ee(30,new j(49,24),new j(10,25)),new ee(30,new j(24,15),new j(46,16))),new Ye(38,Int32Array.from([6,32,58,84,110,136,162]),new ee(30,new j(4,122),new j(18,123)),new ee(28,new j(13,46),new j(32,47)),new ee(30,new j(48,24),new j(14,25)),new ee(30,new j(42,15),new j(32,16))),new Ye(39,Int32Array.from([6,26,54,82,110,138,166]),new ee(30,new j(20,117),new j(4,118)),new ee(28,new j(40,47),new j(7,48)),new ee(30,new j(43,24),new j(22,25)),new ee(30,new j(10,15),new j(67,16))),new Ye(40,Int32Array.from([6,30,58,86,114,142,170]),new ee(30,new j(19,118),new j(6,119)),new ee(28,new j(18,47),new j(31,48)),new ee(30,new j(34,24),new j(34,25)),new ee(30,new j(20,15),new j(61,16)))];var dn;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(dn||(dn={}));class wt{constructor(e,n){this.value=e,this.isMasked=n}unmaskBitMatrix(e,n){for(let i=0;i<n;i++)for(let l=0;l<n;l++)this.isMasked(i,l)&&e.flip(l,i)}}wt.values=new Map([[dn.DATA_MASK_000,new wt(dn.DATA_MASK_000,(k,e)=>(k+e&1)===0)],[dn.DATA_MASK_001,new wt(dn.DATA_MASK_001,(k,e)=>(k&1)===0)],[dn.DATA_MASK_010,new wt(dn.DATA_MASK_010,(k,e)=>e%3===0)],[dn.DATA_MASK_011,new wt(dn.DATA_MASK_011,(k,e)=>(k+e)%3===0)],[dn.DATA_MASK_100,new wt(dn.DATA_MASK_100,(k,e)=>(Math.floor(k/2)+Math.floor(e/3)&1)===0)],[dn.DATA_MASK_101,new wt(dn.DATA_MASK_101,(k,e)=>k*e%6===0)],[dn.DATA_MASK_110,new wt(dn.DATA_MASK_110,(k,e)=>k*e%6<3)],[dn.DATA_MASK_111,new wt(dn.DATA_MASK_111,(k,e)=>(k+e+k*e%3&1)===0)]]);class qa{constructor(e){const n=e.getHeight();if(n<21||(n&3)!==1)throw new X;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let c=0;c<6;c++)e=this.copyBit(c,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let c=5;c>=0;c--)e=this.copyBit(8,c,e);const n=this.bitMatrix.getHeight();let i=0;const l=n-7;for(let c=n-1;c>=l;c--)i=this.copyBit(8,c,i);for(let c=n-8;c<n;c++)i=this.copyBit(c,8,i);if(this.parsedFormatInfo=Nn.decodeFormatInformation(e,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),n=Math.floor((e-17)/4);if(n<=6)return Ye.getVersionForNumber(n);let i=0;const l=e-11;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)i=this.copyBit(h,u,i);let c=Ye.decodeVersionInformation(i);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;i=0;for(let u=5;u>=0;u--)for(let h=e-9;h>=l;h--)i=this.copyBit(u,h,i);if(c=Ye.decodeVersionInformation(i),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new X}copyBit(e,n,i){return(this.isMirror?this.bitMatrix.get(n,e):this.bitMatrix.get(e,n))?i<<1|1:i<<1}readCodewords(){const e=this.readFormatInformation(),n=this.readVersion(),i=wt.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const c=n.buildFunctionPattern();let u=!0;const h=new Uint8Array(n.getTotalCodewords());let m=0,v=0,N=0;for(let P=l-1;P>0;P-=2){P===6&&P--;for(let D=0;D<l;D++){const z=u?l-1-D:D;for(let G=0;G<2;G++)c.get(P-G,z)||(N++,v<<=1,this.bitMatrix.get(P-G,z)&&(v|=1),N===8&&(h[m++]=v,N=0,v=0))}u=!u}if(m!==n.getTotalCodewords())throw new X;return h}remask(){if(this.parsedFormatInfo===null)return;const e=wt.values[this.parsedFormatInfo.getDataMask()],n=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,n)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let n=0,i=e.getWidth();n<i;n++)for(let l=n+1,c=e.getHeight();l<c;l++)e.get(n,l)!==e.get(l,n)&&(e.flip(l,n),e.flip(n,l))}}class eo{constructor(e,n){this.numDataCodewords=e,this.codewords=n}static getDataBlocks(e,n,i){if(e.length!==n.getTotalCodewords())throw new I;const l=n.getECBlocksForLevel(i);let c=0;const u=l.getECBlocks();for(const G of u)c+=G.getCount();const h=new Array(c);let m=0;for(const G of u)for(let K=0;K<G.getCount();K++){const q=G.getDataCodewords(),ie=l.getECCodewordsPerBlock()+q;h[m++]=new eo(q,new Uint8Array(ie))}const v=h[0].codewords.length;let N=h.length-1;for(;N>=0&&h[N].codewords.length!==v;)N--;N++;const P=v-l.getECCodewordsPerBlock();let D=0;for(let G=0;G<P;G++)for(let K=0;K<m;K++)h[K].codewords[G]=e[D++];for(let G=N;G<m;G++)h[G].codewords[P]=e[D++];const z=h[0].codewords.length;for(let G=P;G<z;G++)for(let K=0;K<m;K++){const q=K<N?G:G+1;h[K].codewords[q]=e[D++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zn;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(Zn||(Zn={}));class $e{constructor(e,n,i,l){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=i,this.bits=l,$e.FOR_BITS.set(l,this),$e.FOR_VALUE.set(e,this)}static forBits(e){const n=$e.FOR_BITS.get(e);if(n===void 0)throw new I;return n}getCharacterCountBits(e){const n=e.getVersionNumber();let i;return n<=9?i=0:n<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof $e))return!1;const n=e;return this.value===n.value}toString(){return this.stringValue}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.TERMINATOR=new $e(Zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),$e.NUMERIC=new $e(Zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),$e.ALPHANUMERIC=new $e(Zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),$e.STRUCTURED_APPEND=new $e(Zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),$e.BYTE=new $e(Zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),$e.ECI=new $e(Zn.ECI,"ECI",Int32Array.from([0,0,0]),7),$e.KANJI=new $e(Zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),$e.FNC1_FIRST_POSITION=new $e(Zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),$e.FNC1_SECOND_POSITION=new $e(Zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),$e.HANZI=new $e(Zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Zt{static decode(e,n,i,l){const c=new Vo(e);let u=new Ne;const h=new Array;let m=-1,v=-1;try{let N=null,P=!1,D;do{if(c.available()<4)D=$e.TERMINATOR;else{const z=c.readBits(4);D=$e.forBits(z)}switch(D){case $e.TERMINATOR:break;case $e.FNC1_FIRST_POSITION:case $e.FNC1_SECOND_POSITION:P=!0;break;case $e.STRUCTURED_APPEND:if(c.available()<16)throw new X;m=c.readBits(8),v=c.readBits(8);break;case $e.ECI:const z=Zt.parseECIValue(c);if(N=Q.getCharacterSetECIByValue(z),N===null)throw new X;break;case $e.HANZI:const G=c.readBits(4),K=c.readBits(D.getCharacterCountBits(n));G===Zt.GB2312_SUBSET&&Zt.decodeHanziSegment(c,u,K);break;default:const q=c.readBits(D.getCharacterCountBits(n));switch(D){case $e.NUMERIC:Zt.decodeNumericSegment(c,u,q);break;case $e.ALPHANUMERIC:Zt.decodeAlphanumericSegment(c,u,q,P);break;case $e.BYTE:Zt.decodeByteSegment(c,u,q,N,h,l);break;case $e.KANJI:Zt.decodeKanjiSegment(c,u,q);break;default:throw new X}break}}while(D!==$e.TERMINATOR)}catch{throw new X}return new xt(e,u.toString(),h.length===0?null:h,i===null?null:i.toString(),m,v)}static decodeHanziSegment(e,n,i){if(i*13>e.available())throw new X;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const u=e.readBits(13);let h=u/96<<8&4294967295|u%96;h<959?h+=41377:h+=42657,l[c]=h>>8&255,l[c+1]=h&255,c+=2,i--}try{n.append(ke.decode(l,Te.GB2312))}catch(u){throw new X(u)}}static decodeKanjiSegment(e,n,i){if(i*13>e.available())throw new X;const l=new Uint8Array(2*i);let c=0;for(;i>0;){const u=e.readBits(13);let h=u/192<<8&4294967295|u%192;h<7936?h+=33088:h+=49472,l[c]=h>>8,l[c+1]=h,c+=2,i--}try{n.append(ke.decode(l,Te.SHIFT_JIS))}catch(u){throw new X(u)}}static decodeByteSegment(e,n,i,l,c,u){if(8*i>e.available())throw new X;const h=new Uint8Array(i);for(let v=0;v<i;v++)h[v]=e.readBits(8);let m;l===null?m=Te.guessEncoding(h,u):m=l.getName();try{n.append(ke.decode(h,m))}catch(v){throw new X(v)}c.push(h)}static toAlphaNumericChar(e){if(e>=Zt.ALPHANUMERIC_CHARS.length)throw new X;return Zt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,n,i,l){const c=n.length();for(;i>1;){if(e.available()<11)throw new X;const u=e.readBits(11);n.append(Zt.toAlphaNumericChar(Math.floor(u/45))),n.append(Zt.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(e.available()<6)throw new X;n.append(Zt.toAlphaNumericChar(e.readBits(6)))}if(l)for(let u=c;u<n.length();u++)n.charAt(u)==="%"&&(u<n.length()-1&&n.charAt(u+1)==="%"?n.deleteCharAt(u+1):n.setCharAt(u,""))}static decodeNumericSegment(e,n,i){for(;i>=3;){if(e.available()<10)throw new X;const l=e.readBits(10);if(l>=1e3)throw new X;n.append(Zt.toAlphaNumericChar(Math.floor(l/100))),n.append(Zt.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(Zt.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(e.available()<7)throw new X;const l=e.readBits(7);if(l>=100)throw new X;n.append(Zt.toAlphaNumericChar(Math.floor(l/10))),n.append(Zt.toAlphaNumericChar(l%10))}else if(i===1){if(e.available()<4)throw new X;const l=e.readBits(4);if(l>=10)throw new X;n.append(Zt.toAlphaNumericChar(l))}}static parseECIValue(e){const n=e.readBits(8);if(!(n&128))return n&127;if((n&192)===128){const i=e.readBits(8);return(n&63)<<8&4294967295|i}if((n&224)===192){const i=e.readBits(16);return(n&31)<<16&4294967295|i}throw new X}}Zt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Zt.GB2312_SUBSET=1;class zo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const n=e[0];e[0]=e[2],e[2]=n}}class Uo{constructor(){this.rsDecoder=new Gt(Pe.QR_CODE_FIELD_256)}decodeBooleanArray(e,n){return this.decodeBitMatrix(Re.parseFromBooleanArray(e),n)}decodeBitMatrix(e,n){const i=new qa(e);let l=null;try{return this.decodeBitMatrixParser(i,n)}catch(c){l=c}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const c=this.decodeBitMatrixParser(i,n);return c.setOther(new zo(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(e,n){const i=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),u=eo.getDataBlocks(c,i,l);let h=0;for(const N of u)h+=N.getNumDataCodewords();const m=new Uint8Array(h);let v=0;for(const N of u){const P=N.getCodewords(),D=N.getNumDataCodewords();this.correctErrors(P,D);for(let z=0;z<D;z++)m[v++]=P[z]}return Zt.decode(m,i,l,n)}correctErrors(e,n){const i=new Int32Array(e);try{this.rsDecoder.decode(i,e.length-n)}catch{throw new M}for(let l=0;l<n;l++)e[l]=i[l]}}class Wi extends Ie{constructor(e,n,i){super(e,n),this.estimatedModuleSize=i}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=(this.getX()+n)/2,c=(this.getY()+e)/2,u=(this.estimatedModuleSize+i)/2;return new Wi(l,c,u)}}class vr{constructor(e,n,i,l,c,u,h){this.image=e,this.startX=n,this.startY=i,this.width=l,this.height=c,this.moduleSize=u,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,n=this.height,i=this.width,l=e+i,c=this.startY+n/2,u=new Int32Array(3),h=this.image;for(let m=0;m<n;m++){const v=c+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));u[0]=0,u[1]=0,u[2]=0;let N=e;for(;N<l&&!h.get(N,v);)N++;let P=0;for(;N<l;){if(h.get(N,v))if(P===1)u[1]++;else if(P===2){if(this.foundPatternCross(u)){const D=this.handlePossibleCenter(u,v,N);if(D!==null)return D}u[0]=u[2],u[1]=1,u[2]=0,P=1}else u[++P]++;else P===1&&P++,u[P]++;N++}if(this.foundPatternCross(u)){const D=this.handlePossibleCenter(u,v,l);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(e,n){return n-e[2]-e[1]/2}foundPatternCross(e){const n=this.moduleSize,i=n/2;for(let l=0;l<3;l++)if(Math.abs(n-e[l])>=i)return!1;return!0}crossCheckVertical(e,n,i,l){const c=this.image,u=c.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let m=e;for(;m>=0&&c.get(n,m)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&!c.get(n,m)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(n,m)&&h[1]<=i;)h[1]++,m++;if(m===u||h[1]>i)return NaN;for(;m<u&&!c.get(n,m)&&h[2]<=i;)h[2]++,m++;if(h[2]>i)return NaN;const v=h[0]+h[1]+h[2];return 5*Math.abs(v-l)>=2*l?NaN:this.foundPatternCross(h)?vr.centerFromEnd(h,m):NaN}handlePossibleCenter(e,n,i){const l=e[0]+e[1]+e[2],c=vr.centerFromEnd(e,i),u=this.crossCheckVertical(n,c,2*e[1],l);if(!isNaN(u)){const h=(e[0]+e[1]+e[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(h,u,c))return v.combineEstimate(u,c,h);const m=new Wi(c,u,h);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Rr extends Ie{constructor(e,n,i,l){super(e,n),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,n,i){if(Math.abs(n-this.getY())<=e&&Math.abs(i-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,n,i){const l=this.count+1,c=(this.count*this.getX()+n)/l,u=(this.count*this.getY()+e)/l,h=(this.count*this.estimatedModuleSize+i)/l;return new Rr(c,u,h,l)}}class ii{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class tn{constructor(e,n){this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const n=e!=null&&e.get(le.TRY_HARDER)!==void 0,i=e!=null&&e.get(le.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),u=l.getWidth();let h=Math.floor(3*c/(4*tn.MAX_MODULES));(h<tn.MIN_SKIP||n)&&(h=tn.MIN_SKIP);let m=!1;const v=new Int32Array(5);for(let P=h-1;P<c&&!m;P+=h){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let z=0;z<u;z++)if(l.get(z,P))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(tn.foundPatternCross(v)){if(this.handlePossibleCenter(v,P,z,i)===!0)if(h=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const K=this.findRowSkip();K>v[2]&&(P+=K-v[2]-h,z=u-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;tn.foundPatternCross(v)&&this.handlePossibleCenter(v,P,u,i)===!0&&(h=v[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const N=this.selectBestPatterns();return Ie.orderBestPatterns(N),new ii(N)}static centerFromEnd(e,n){return n-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let n=0;for(let c=0;c<5;c++){const u=e[c];if(u===0)return!1;n+=u}if(n<7)return!1;const i=n/7,l=i/2;return Math.abs(i-e[0])<l&&Math.abs(i-e[1])<l&&Math.abs(3*i-e[2])<3*l&&Math.abs(i-e[3])<l&&Math.abs(i-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,n,i,l){const c=this.getCrossCheckStateCount();let u=0;const h=this.image;for(;e>=u&&n>=u&&h.get(n-u,e-u);)c[2]++,u++;if(e<u||n<u)return!1;for(;e>=u&&n>=u&&!h.get(n-u,e-u)&&c[1]<=i;)c[1]++,u++;if(e<u||n<u||c[1]>i)return!1;for(;e>=u&&n>=u&&h.get(n-u,e-u)&&c[0]<=i;)c[0]++,u++;if(c[0]>i)return!1;const m=h.getHeight(),v=h.getWidth();for(u=1;e+u<m&&n+u<v&&h.get(n+u,e+u);)c[2]++,u++;if(e+u>=m||n+u>=v)return!1;for(;e+u<m&&n+u<v&&!h.get(n+u,e+u)&&c[3]<i;)c[3]++,u++;if(e+u>=m||n+u>=v||c[3]>=i)return!1;for(;e+u<m&&n+u<v&&h.get(n+u,e+u)&&c[4]<i;)c[4]++,u++;if(c[4]>=i)return!1;const N=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(N-l)<2*l&&tn.foundPatternCross(c)}crossCheckVertical(e,n,i,l){const c=this.image,u=c.getHeight(),h=this.getCrossCheckStateCount();let m=e;for(;m>=0&&c.get(n,m);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!c.get(n,m)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&c.get(n,m)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(n,m);)h[2]++,m++;if(m===u)return NaN;for(;m<u&&!c.get(n,m)&&h[3]<i;)h[3]++,m++;if(m===u||h[3]>=i)return NaN;for(;m<u&&c.get(n,m)&&h[4]<i;)h[4]++,m++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=2*l?NaN:tn.foundPatternCross(h)?tn.centerFromEnd(h,m):NaN}crossCheckHorizontal(e,n,i,l){const c=this.image,u=c.getWidth(),h=this.getCrossCheckStateCount();let m=e;for(;m>=0&&c.get(m,n);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!c.get(m,n)&&h[1]<=i;)h[1]++,m--;if(m<0||h[1]>i)return NaN;for(;m>=0&&c.get(m,n)&&h[0]<=i;)h[0]++,m--;if(h[0]>i)return NaN;for(m=e+1;m<u&&c.get(m,n);)h[2]++,m++;if(m===u)return NaN;for(;m<u&&!c.get(m,n)&&h[3]<i;)h[3]++,m++;if(m===u||h[3]>=i)return NaN;for(;m<u&&c.get(m,n)&&h[4]<i;)h[4]++,m++;if(h[4]>=i)return NaN;const v=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(v-l)>=l?NaN:tn.foundPatternCross(h)?tn.centerFromEnd(h,m):NaN}handlePossibleCenter(e,n,i,l){const c=e[0]+e[1]+e[2]+e[3]+e[4];let u=tn.centerFromEnd(e,i),h=this.crossCheckVertical(n,Math.floor(u),e[2],c);if(!isNaN(h)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(h),e[2],c),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(h),Math.floor(u),e[2],c)))){const m=c/7;let v=!1;const N=this.possibleCenters;for(let P=0,D=N.length;P<D;P++){const z=N[P];if(z.aboutEquals(m,h,u)){N[P]=z.combineEstimate(h,u,m),v=!0;break}}if(!v){const P=new Rr(u,h,m);N.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let n=null;for(const i of this.possibleCenters)if(i.getCount()>=tn.CENTER_QUORUM)if(n==null)n=i;else return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,n=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=tn.CENTER_QUORUM&&(e++,n+=u.getEstimatedModuleSize());if(e<3)return!1;const l=n/i;let c=0;for(const u of this.possibleCenters)c+=Math.abs(u.getEstimatedModuleSize()-l);return c<=.05*n}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new J;const n=this.possibleCenters;let i;if(e>3){let l=0,c=0;for(const m of this.possibleCenters){const v=m.getEstimatedModuleSize();l+=v,c+=v*v}i=l/e;let u=Math.sqrt(c/e-i*i);n.sort((m,v)=>{const N=Math.abs(v.getEstimatedModuleSize()-i),P=Math.abs(m.getEstimatedModuleSize()-i);return N<P?-1:N>P?1:0});const h=Math.max(.2*i,u);for(let m=0;m<n.length&&n.length>3;m++){const v=n[m];Math.abs(v.getEstimatedModuleSize()-i)>h&&(n.splice(m,1),m--)}}if(n.length>3){let l=0;for(const c of n)l+=c.getEstimatedModuleSize();i=l/n.length,n.sort((c,u)=>{if(u.getCount()===c.getCount()){const h=Math.abs(u.getEstimatedModuleSize()-i),m=Math.abs(c.getEstimatedModuleSize()-i);return h<m?1:h>m?-1:0}else return u.getCount()-c.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}tn.CENTER_QUORUM=2,tn.MIN_SKIP=3,tn.MAX_MODULES=57;class Wr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(le.NEED_RESULT_POINT_CALLBACK);const i=new tn(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(i)}processFinderPatternInfo(e){const n=e.getTopLeft(),i=e.getTopRight(),l=e.getBottomLeft(),c=this.calculateModuleSize(n,i,l);if(c<1)throw new J("No pattern found in proccess finder.");const u=Wr.computeDimension(n,i,l,c),h=Ye.getProvisionalVersionForDimension(u),m=h.getDimensionForVersion()-7;let v=null;if(h.getAlignmentPatternCenters().length>0){const z=i.getX()-n.getX()+l.getX(),G=i.getY()-n.getY()+l.getY(),K=1-3/m,q=Math.floor(n.getX()+K*(z-n.getX())),ie=Math.floor(n.getY()+K*(G-n.getY()));for(let Ce=4;Ce<=16;Ce<<=1)try{v=this.findAlignmentInRegion(c,q,ie,Ce);break}catch(Ae){if(!(Ae instanceof J))throw Ae}}const N=Wr.createTransform(n,i,l,v,u),P=Wr.sampleGrid(this.image,N,u);let D;return v===null?D=[l,n,i]:D=[l,n,i,v],new rt(P,D)}static createTransform(e,n,i,l,c){const u=c-3.5;let h,m,v,N;return l!==null?(h=l.getX(),m=l.getY(),v=u-3,N=v):(h=n.getX()-e.getX()+i.getX(),m=n.getY()-e.getY()+i.getY(),v=u,N=u),it.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,v,N,3.5,u,e.getX(),e.getY(),n.getX(),n.getY(),h,m,i.getX(),i.getY())}static sampleGrid(e,n,i){return Ot.getInstance().sampleGridWithTransform(e,i,i,n)}static computeDimension(e,n,i,l){const c=mt.round(Ie.distance(e,n)/l),u=mt.round(Ie.distance(e,i)/l);let h=Math.floor((c+u)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new J("Dimensions could be not found.")}return h}calculateModuleSize(e,n,i){return(this.calculateModuleSizeOneWay(e,n)+this.calculateModuleSizeOneWay(e,i))/2}calculateModuleSizeOneWay(e,n){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,n,i,l){let c=this.sizeOfBlackWhiteBlackRun(e,n,i,l),u=1,h=e-(i-e);h<0?(u=e/(e-h),h=0):h>=this.image.getWidth()&&(u=(this.image.getWidth()-1-e)/(h-e),h=this.image.getWidth()-1);let m=Math.floor(n-(l-n)*u);return u=1,m<0?(u=n/(n-m),m=0):m>=this.image.getHeight()&&(u=(this.image.getHeight()-1-n)/(m-n),m=this.image.getHeight()-1),h=Math.floor(e+(h-e)*u),c+=this.sizeOfBlackWhiteBlackRun(e,n,h,m),c-1}sizeOfBlackWhiteBlackRun(e,n,i,l){const c=Math.abs(l-n)>Math.abs(i-e);if(c){let z=e;e=n,n=z,z=i,i=l,l=z}const u=Math.abs(i-e),h=Math.abs(l-n);let m=-u/2;const v=e<i?1:-1,N=n<l?1:-1;let P=0;const D=i+v;for(let z=e,G=n;z!==D;z+=v){const K=c?G:z,q=c?z:G;if(P===1===this.image.get(K,q)){if(P===2)return mt.distance(z,G,e,n);P++}if(m+=h,m>0){if(G===l)break;G+=N,m-=u}}return P===2?mt.distance(i+v,l,e,n):NaN}findAlignmentInRegion(e,n,i,l){const c=Math.floor(l*e),u=Math.max(0,n-c),h=Math.min(this.image.getWidth()-1,n+c);if(h-u<e*3)throw new J("Alignment top exceeds estimated module size.");const m=Math.max(0,i-c),v=Math.min(this.image.getHeight()-1,i+c);if(v-m<e*3)throw new J("Alignment bottom exceeds estimated module size.");return new vr(this.image,u,m,h-u,v-m,e,this.resultPointCallback).find()}}class jn{constructor(){this.decoder=new Uo}getDecoder(){return this.decoder}decode(e,n){let i,l;if(n!=null&&n.get(le.PURE_BARCODE)!==void 0){const m=jn.extractPureBits(e.getBlackMatrix());i=this.decoder.decodeBitMatrix(m,n),l=jn.NO_POINTS}else{const m=new Wr(e.getBlackMatrix()).detect(n);i=this.decoder.decodeBitMatrix(m.getBits(),n),l=m.getPoints()}i.getOther()instanceof zo&&i.getOther().applyMirroredCorrection(l);const c=new Ue(i.getText(),i.getRawBytes(),void 0,l,Ee.QR_CODE,void 0),u=i.getByteSegments();u!==null&&c.putMetadata(Fe.BYTE_SEGMENTS,u);const h=i.getECLevel();return h!==null&&c.putMetadata(Fe.ERROR_CORRECTION_LEVEL,h),i.hasStructuredAppend()&&(c.putMetadata(Fe.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),c.putMetadata(Fe.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),c}reset(){}static extractPureBits(e){const n=e.getTopLeftOnBit(),i=e.getBottomRightOnBit();if(n===null||i===null)throw new J;const l=this.moduleSize(n,e);let c=n[1],u=i[1],h=n[0],m=i[0];if(h>=m||c>=u)throw new J;if(u-c!==m-h&&(m=h+(u-c),m>=e.getWidth()))throw new J;const v=Math.round((m-h+1)/l),N=Math.round((u-c+1)/l);if(v<=0||N<=0)throw new J;if(N!==v)throw new J;const P=Math.floor(l/2);c+=P,h+=P;const D=h+Math.floor((v-1)*l)-m;if(D>0){if(D>P)throw new J;h-=D}const z=c+Math.floor((N-1)*l)-u;if(z>0){if(z>P)throw new J;c-=z}const G=new Re(v,N);for(let K=0;K<N;K++){const q=c+Math.floor(K*l);for(let ie=0;ie<v;ie++)e.get(h+Math.floor(ie*l),q)&&G.set(ie,K)}return G}static moduleSize(e,n){const i=n.getHeight(),l=n.getWidth();let c=e[0],u=e[1],h=!0,m=0;for(;c<l&&u<i;){if(h!==n.get(c,u)){if(++m===5)break;h=!h}c++,u++}if(c===l||u===i)throw new J;return(c-e[0])/7}}jn.NO_POINTS=new Array;class nt{PDF417Common(){}static getBitCountSum(e){return mt.sum(e)}static toIntArray(e){if(e==null||!e.length)return nt.EMPTY_INT_ARRAY;const n=new Int32Array(e.length);let i=0;for(const l of e)n[i++]=l;return n}static getCodeword(e){const n=H.binarySearch(nt.SYMBOL_TABLE,e&262143);return n<0?-1:(nt.CODEWORD_TABLE[n]-1)%nt.NUMBER_OF_CODEWORDS}}nt.NUMBER_OF_CODEWORDS=929,nt.MAX_CODEWORDS_IN_BARCODE=nt.NUMBER_OF_CODEWORDS-1,nt.MIN_ROWS_IN_BARCODE=3,nt.MAX_ROWS_IN_BARCODE=90,nt.MODULES_IN_CODEWORD=17,nt.MODULES_IN_STOP_PATTERN=18,nt.BARS_IN_MODULE=8,nt.EMPTY_INT_ARRAY=new Int32Array([]),nt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),nt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qa{constructor(e,n){this.bits=e,this.points=n}getBits(){return this.bits}getPoints(){return this.points}}class ft{static detectMultiple(e,n,i){let l=e.getBlackMatrix(),c=ft.detect(i,l);return c.length||(l=l.clone(),l.rotate180(),c=ft.detect(i,l)),new Qa(l,c)}static detect(e,n){const i=new Array;let l=0,c=0,u=!1;for(;l<n.getHeight();){const h=ft.findVertices(n,l,c);if(h[0]==null&&h[3]==null){if(!u)break;u=!1,c=0;for(const m of i)m[1]!=null&&(l=Math.trunc(Math.max(l,m[1].getY()))),m[3]!=null&&(l=Math.max(l,Math.trunc(m[3].getY())));l+=ft.ROW_STEP;continue}if(u=!0,i.push(h),!e)break;h[2]!=null?(c=Math.trunc(h[2].getX()),l=Math.trunc(h[2].getY())):(c=Math.trunc(h[4].getX()),l=Math.trunc(h[4].getY()))}return i}static findVertices(e,n,i){const l=e.getHeight(),c=e.getWidth(),u=new Array(8);return ft.copyToResult(u,ft.findRowsWithPattern(e,l,c,n,i,ft.START_PATTERN),ft.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),n=Math.trunc(u[4].getY())),ft.copyToResult(u,ft.findRowsWithPattern(e,l,c,n,i,ft.STOP_PATTERN),ft.INDEXES_STOP_PATTERN),u}static copyToResult(e,n,i){for(let l=0;l<i.length;l++)e[i[l]]=n[l]}static findRowsWithPattern(e,n,i,l,c,u){const h=new Array(4);let m=!1;const v=new Int32Array(u.length);for(;l<n;l+=ft.ROW_STEP){let P=ft.findGuardPattern(e,c,l,i,!1,u,v);if(P!=null){for(;l>0;){const D=ft.findGuardPattern(e,c,--l,i,!1,u,v);if(D!=null)P=D;else{l++;break}}h[0]=new Ie(P[0],l),h[1]=new Ie(P[1],l),m=!0;break}}let N=l+1;if(m){let P=0,D=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;N<n;N++){const z=ft.findGuardPattern(e,D[0],N,i,!1,u,v);if(z!=null&&Math.abs(D[0]-z[0])<ft.MAX_PATTERN_DRIFT&&Math.abs(D[1]-z[1])<ft.MAX_PATTERN_DRIFT)D=z,P=0;else{if(P>ft.SKIPPED_ROW_COUNT_MAX)break;P++}}N-=P+1,h[2]=new Ie(D[0],N),h[3]=new Ie(D[1],N)}return N-l<ft.BARCODE_MIN_HEIGHT&&H.fill(h,null),h}static findGuardPattern(e,n,i,l,c,u,h){H.fillWithin(h,0,h.length,0);let m=n,v=0;for(;e.get(m,i)&&m>0&&v++<ft.MAX_PIXEL_DRIFT;)m--;let N=m,P=0,D=u.length;for(let z=c;N<l;N++)if(e.get(N,i)!==z)h[P]++;else{if(P===D-1){if(ft.patternMatchVariance(h,u,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE)return new Int32Array([m,N]);m+=h[0]+h[1],F.arraycopy(h,2,h,0,P-1),h[P-1]=0,h[P]=0,P--}else P++;h[P]=1,z=!z}return P===D-1&&ft.patternMatchVariance(h,u,ft.MAX_INDIVIDUAL_VARIANCE)<ft.MAX_AVG_VARIANCE?new Int32Array([m,N-1]):null}static patternMatchVariance(e,n,i){let l=e.length,c=0,u=0;for(let v=0;v<l;v++)c+=e[v],u+=n[v];if(c<u)return 1/0;let h=c/u;i*=h;let m=0;for(let v=0;v<l;v++){let N=e[v],P=n[v]*h,D=N>P?N-P:P-N;if(D>i)return 1/0;m+=D}return m/c}}ft.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ft.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ft.MAX_AVG_VARIANCE=.42,ft.MAX_INDIVIDUAL_VARIANCE=.8,ft.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ft.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ft.MAX_PIXEL_DRIFT=3,ft.MAX_PATTERN_DRIFT=5,ft.SKIPPED_ROW_COUNT_MAX=25,ft.ROW_STEP=5,ft.BARCODE_MIN_HEIGHT=10;class Rn{constructor(e,n){if(n.length===0)throw new I;this.field=e;let i=n.length;if(i>1&&n[0]===0){let l=1;for(;l<i&&n[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),F.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let n=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)n=this.field.add(this.field.multiply(e,n),this.coefficients[l]);return n}add(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let n=this.coefficients,i=e.coefficients;if(n.length>i.length){let u=n;n=i,i=u}let l=new Int32Array(i.length),c=i.length-n.length;F.arraycopy(i,0,l,0,c);for(let u=c;u<i.length;u++)l[u]=this.field.add(n[u-c],i[u]);return new Rn(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Rn?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Rn(this.field,new Int32Array([0]));let n=this.coefficients,i=n.length,l=e.coefficients,c=l.length,u=new Int32Array(i+c-1);for(let h=0;h<i;h++){let m=n[h];for(let v=0;v<c;v++)u[h+v]=this.field.add(u[h+v],this.field.multiply(m,l[v]))}return new Rn(this.field,u)}negative(){let e=this.coefficients.length,n=new Int32Array(e);for(let i=0;i<e;i++)n[i]=this.field.subtract(0,this.coefficients[i]);return new Rn(this.field,n)}multiplyScalar(e){if(e===0)return new Rn(this.field,new Int32Array([0]));if(e===1)return this;let n=this.coefficients.length,i=new Int32Array(n);for(let l=0;l<n;l++)i[l]=this.field.multiply(this.coefficients[l],e);return new Rn(this.field,i)}multiplyByMonomial(e,n){if(e<0)throw new I;if(n===0)return new Rn(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+e);for(let c=0;c<i;c++)l[c]=this.field.multiply(this.coefficients[c],n);return new Rn(this.field,l)}toString(){let e=new Ne;for(let n=this.getDegree();n>=0;n--){let i=this.getCoefficient(n);i!==0&&(i<0?(e.append(" - "),i=-i):e.length()>0&&e.append(" + "),(n===0||i!==1)&&e.append(i),n!==0&&(n===1?e.append("x"):(e.append("x^"),e.append(n))))}return e.toString()}}class Ja{add(e,n){return(e+n)%this.modulus}subtract(e,n){return(this.modulus+e-n)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}inverse(e){if(e===0)throw new yt;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,n){return e===0||n===0?0:this.expTable[(this.logTable[e]+this.logTable[n])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Hi extends Ja{constructor(e,n){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let i=1;for(let l=0;l<e;l++)this.expTable[l]=i,i=i*n%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Rn(this,new Int32Array([0])),this.one=new Rn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,n){if(e<0)throw new I;if(n===0)return this.zero;let i=new Int32Array(e+1);return i[0]=n,new Rn(this,i)}}Hi.PDF417_GF=new Hi(nt.NUMBER_OF_CODEWORDS,3);class Wo{constructor(){this.field=Hi.PDF417_GF}decode(e,n,i){let l=new Rn(this.field,e),c=new Int32Array(n),u=!1;for(let G=n;G>0;G--){let K=l.evaluateAt(this.field.exp(G));c[n-G]=K,K!==0&&(u=!0)}if(!u)return 0;let h=this.field.getOne();if(i!=null)for(const G of i){let K=this.field.exp(e.length-1-G),q=new Rn(this.field,new Int32Array([this.field.subtract(0,K),1]));h=h.multiply(q)}let m=new Rn(this.field,c),v=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),m,n),N=v[0],P=v[1],D=this.findErrorLocations(N),z=this.findErrorMagnitudes(P,N,D);for(let G=0;G<D.length;G++){let K=e.length-1-this.field.log(D[G]);if(K<0)throw M.getChecksumInstance();e[K]=this.field.subtract(e[K],z[G])}return D.length}runEuclideanAlgorithm(e,n,i){if(e.getDegree()<n.getDegree()){let D=e;e=n,n=D}let l=e,c=n,u=this.field.getZero(),h=this.field.getOne();for(;c.getDegree()>=Math.round(i/2);){let D=l,z=u;if(l=c,u=h,l.isZero())throw M.getChecksumInstance();c=D;let G=this.field.getZero(),K=l.getCoefficient(l.getDegree()),q=this.field.inverse(K);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let ie=c.getDegree()-l.getDegree(),Ce=this.field.multiply(c.getCoefficient(c.getDegree()),q);G=G.add(this.field.buildMonomial(ie,Ce)),c=c.subtract(l.multiplyByMonomial(ie,Ce))}h=G.multiply(u).subtract(z).negative()}let m=h.getCoefficient(0);if(m===0)throw M.getChecksumInstance();let v=this.field.inverse(m),N=h.multiply(v),P=c.multiply(v);return[N,P]}findErrorLocations(e){let n=e.getDegree(),i=new Int32Array(n),l=0;for(let c=1;c<this.field.getSize()&&l<n;c++)e.evaluateAt(c)===0&&(i[l]=this.field.inverse(c),l++);if(l!==n)throw M.getChecksumInstance();return i}findErrorMagnitudes(e,n,i){let l=n.getDegree(),c=new Int32Array(l);for(let v=1;v<=l;v++)c[l-v]=this.field.multiply(v,n.getCoefficient(v));let u=new Rn(this.field,c),h=i.length,m=new Int32Array(h);for(let v=0;v<h;v++){let N=this.field.inverse(i[v]),P=this.field.subtract(0,e.evaluateAt(N)),D=this.field.inverse(u.evaluateAt(N));m[v]=this.field.multiply(P,D)}return m}}class vi{constructor(e,n,i,l,c){e instanceof vi?this.constructor_2(e):this.constructor_1(e,n,i,l,c)}constructor_1(e,n,i,l,c){const u=n==null||i==null,h=l==null||c==null;if(u&&h)throw new J;u?(n=new Ie(0,l.getY()),i=new Ie(0,c.getY())):h&&(l=new Ie(e.getWidth()-1,n.getY()),c=new Ie(e.getWidth()-1,i.getY())),this.image=e,this.topLeft=n,this.bottomLeft=i,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(n.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),c.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,n){return e==null?n:n==null?e:new vi(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}addMissingRows(e,n,i){let l=this.topLeft,c=this.bottomLeft,u=this.topRight,h=this.bottomRight;if(e>0){let m=i?this.topLeft:this.topRight,v=Math.trunc(m.getY()-e);v<0&&(v=0);let N=new Ie(m.getX(),v);i?l=N:u=N}if(n>0){let m=i?this.bottomLeft:this.bottomRight,v=Math.trunc(m.getY()+n);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let N=new Ie(m.getX(),v);i?c=N:h=N}return new vi(this.image,l,c,u,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class As{constructor(e,n,i,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=i,this.rowCount=n+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Hr{constructor(){this.buffer=""}static form(e,n){let i=-1;function l(u,h,m,v,N,P){if(u==="%%")return"%";if(n[++i]===void 0)return;u=v?parseInt(v.substr(1)):void 0;let D=N?parseInt(N.substr(1)):void 0,z;switch(P){case"s":z=n[i];break;case"c":z=n[i][0];break;case"f":z=parseFloat(n[i]).toFixed(u);break;case"p":z=parseFloat(n[i]).toPrecision(u);break;case"e":z=parseFloat(n[i]).toExponential(u);break;case"x":z=parseInt(n[i]).toString(D||16);break;case"d":z=parseFloat(parseInt(n[i],D||10).toPrecision(u)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(D);let G=parseInt(m),K=m&&m[0]+""=="0"?"0":" ";for(;z.length<G;)z=h!==void 0?z+K:K+z;return z}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}format(e,...n){this.buffer+=Hr.form(e,n)}toString(){return this.buffer}}class _r{constructor(e){this.boundingBox=new vi(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let n=this.getCodeword(e);if(n!=null)return n;for(let i=1;i<_r.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(e)-i;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(e)+i,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,n){this.codewords[this.imageRowToCodewordIndex(e)]=n}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Hr;let n=0;for(const i of this.codewords){if(i==null){e.format("%3d:    |   %n",n++);continue}e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue())}return e.toString()}}_r.MAX_NEARBY_DISTANCE=5;class si{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let n=this.values.get(e);n==null&&(n=0),n++,this.values.set(e,n)}getValue(){let e=-1,n=new Array;for(const[i,l]of this.values.entries()){const c={getKey:()=>i,getValue:()=>l};c.getValue()>e?(e=c.getValue(),n=[],n.push(c.getKey())):c.getValue()===e&&n.push(c.getKey())}return nt.toIntArray(n)}getConfidence(e){return this.values.get(e)}}class el extends _r{constructor(e,n){super(e),this._isLeft=n}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,e);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(c.getY())),m=-1,v=1,N=0;for(let P=u;P<h;P++){if(n[P]==null)continue;let D=n[P],z=D.getRowNumber()-m;if(z===0)N++;else if(z===1)v=Math.max(v,N),N=1,m=D.getRowNumber();else if(z<0||D.getRowNumber()>=e.getRowCount()||z>P)n[P]=null;else{let G;v>2?G=(v-2)*z:G=z;let K=G>=P;for(let q=1;q<=G&&!K;q++)K=n[P-q]!=null;K?n[P]=null:(m=D.getRowNumber(),N=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let n=new Int32Array(e.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=n.length)continue;n[l]++}return n}adjustIncompleteIndicatorColumnRowNumbers(e){let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),l=this._isLeft?n.getBottomLeft():n.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.getCodewords(),m=-1;for(let v=c;v<u;v++){if(h[v]==null)continue;let N=h[v];N.setRowNumberAsRowIndicatorColumn();let P=N.getRowNumber()-m;P===0||(P===1?m=N.getRowNumber():N.getRowNumber()>=e.getRowCount()?h[v]=null:m=N.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),n=new si,i=new si,l=new si,c=new si;for(let h of e){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let m=h.getValue()%30,v=h.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:i.setValue(m*3+1);break;case 1:c.setValue(m/3),l.setValue(m%3);break;case 2:n.setValue(m+1);break}}if(n.getValue().length===0||i.getValue().length===0||l.getValue().length===0||c.getValue().length===0||n.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<nt.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>nt.MAX_ROWS_IN_BARCODE)return null;let u=new As(n.getValue()[0],i.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(e,u),u}removeIncorrectCodewords(e,n){for(let i=0;i<e.length;i++){let l=e[i];if(e[i]==null)continue;let c=l.getValue()%30,u=l.getRowNumber();if(u>n.getRowCount()){e[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:c*3+1!==n.getRowCountUpperPart()&&(e[i]=null);break;case 1:(Math.trunc(c/3)!==n.getErrorCorrectionLevel()||c%3!==n.getRowCountLowerPart())&&(e[i]=null);break;case 2:c+1!==n.getColumnCount()&&(e[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class bs{constructor(e,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=nt.MAX_CODEWORDS_IN_BARCODE,n;do n=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<n);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let n=1;n<this.barcodeColumnCount+1;n++){let i=this.detectionResultColumns[n].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,i))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<e.length;i++)if(e[i]!=null&&n[i]!=null&&e[i].getRowNumber()===n[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[i];c!=null&&(c.setRowNumber(e[i].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),c=0;for(let u=this.barcodeColumnCount+1;u>0&&c<this.ADJUST_ROW_NUMBER_SKIP;u--){let h=this.detectionResultColumns[u].getCodewords()[i];h!=null&&(c=bs.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,n=this.detectionResultColumns[0].getCodewords();for(let i=0;i<n.length;i++){if(n[i]==null)continue;let l=n[i].getRowNumber(),c=0;for(let u=1;u<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;u++){let h=this.detectionResultColumns[u].getCodewords()[i];h!=null&&(c=bs.adjustRowNumberIfValid(l,c,h),h.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,n,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(e)?(i.setRowNumber(e),n=0):++n),n}adjustRowNumbers(e,n,i){if(!this.detectionResultColumns[e-1])return;let l=i[n],c=this.detectionResultColumns[e-1].getCodewords(),u=c;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());let h=new Array(14);h[2]=c[n],h[3]=u[n],n>0&&(h[0]=i[n-1],h[4]=c[n-1],h[5]=u[n-1]),n>1&&(h[8]=i[n-2],h[10]=c[n-2],h[11]=u[n-2]),n<i.length-1&&(h[1]=i[n+1],h[6]=c[n+1],h[7]=u[n+1]),n<i.length-2&&(h[9]=i[n+2],h[12]=c[n+2],h[13]=u[n+2]);for(let m of h)if(bs.adjustRowNumber(l,m))return}static adjustRowNumber(e,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===e.getBucket()?(e.setRowNumber(n.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,n){this.detectionResultColumns[e]=n}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let n=new Hr;for(let i=0;i<e.getCodewords().length;i++){n.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[i];if(c==null){n.format("    |   ");continue}n.format(" %3d|%3d",c.getRowNumber(),c.getValue())}n.format("%n")}return n.toString()}}class Ci{constructor(e,n,i,l){this.rowNumber=Ci.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ci.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ci.BARCODE_ROW_UNKNOWN=-1;class _n{static initialize(){for(let e=0;e<nt.SYMBOL_TABLE.length;e++){let n=nt.SYMBOL_TABLE[e],i=n&1;for(let l=0;l<nt.BARS_IN_MODULE;l++){let c=0;for(;(n&1)===i;)c+=1,n>>=1;i=n&1,_n.RATIOS_TABLE[e]||(_n.RATIOS_TABLE[e]=new Array(nt.BARS_IN_MODULE)),_n.RATIOS_TABLE[e][nt.BARS_IN_MODULE-l-1]=Math.fround(c/nt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let n=_n.getDecodedCodewordValue(_n.sampleBitCounts(e));return n!==-1?n:_n.getClosestDecodedValue(e)}static sampleBitCounts(e){let n=mt.sum(e),i=new Int32Array(nt.BARS_IN_MODULE),l=0,c=0;for(let u=0;u<nt.MODULES_IN_CODEWORD;u++){let h=n/(2*nt.MODULES_IN_CODEWORD)+u*n/nt.MODULES_IN_CODEWORD;c+e[l]<=h&&(c+=e[l],l++),i[l]++}return i}static getDecodedCodewordValue(e){let n=_n.getBitValue(e);return nt.getCodeword(n)===-1?-1:n}static getBitValue(e){let n=0;for(let i=0;i<e.length;i++)for(let l=0;l<e[i];l++)n=n<<1|(i%2===0?1:0);return Math.trunc(n)}static getClosestDecodedValue(e){let n=mt.sum(e),i=new Array(nt.BARS_IN_MODULE);if(n>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(e[u]/n);let l=Sn.MAX_VALUE,c=-1;this.bSymbolTableReady||_n.initialize();for(let u=0;u<_n.RATIOS_TABLE.length;u++){let h=0,m=_n.RATIOS_TABLE[u];for(let v=0;v<nt.BARS_IN_MODULE;v++){let N=Math.fround(m[v]-i[v]);if(h+=Math.fround(N*N),h>=l)break}h<l&&(l=h,c=nt.SYMBOL_TABLE[u])}return c}}_n.bSymbolTableReady=!1,_n.RATIOS_TABLE=new Array(nt.SYMBOL_TABLE.length).map(k=>new Array(nt.BARS_IN_MODULE));class to{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Ho{static parseLong(e,n=void 0){return parseInt(e,n)}}class Gr extends E{}Gr.kind="NullPointerException";class Go{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,n,i){if(e==null)throw new Gr;if(n<0||n>e.length||i<0||n+i>e.length||n+i<0)throw new B;if(i===0)return;for(let l=0;l<i;l++)this.write(e[n+l])}flush(){}close(){}}class no extends E{}class tl extends Go{constructor(e=32){if(super(),this.count=0,e<0)throw new I("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let i=this.buf.length<<1;if(i-e<0&&(i=e),i<0){if(e<0)throw new no;i=U.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,i)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,n,i){if(n<0||n>e.length||i<0||n+i-e.length>0)throw new B;this.ensureCapacity(this.count+i),F.arraycopy(e,n,this.buf,this.count,i),this.count+=i}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Mt;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Mt||(Mt={}));function Ss(){if(typeof window<"u")return window.BigInt||null;if(typeof Ql<"u")return Ql.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ts;function hn(k){if(typeof Ts>"u"&&(Ts=Ss()),Ts===null)throw new Error("BigInt is not supported!");return Ts(k)}function Gi(){let k=[];k[0]=hn(1);let e=hn(900);k[1]=e;for(let n=2;n<16;n++)k[n]=k[n-1]*e;return k}class se{static decode(e,n){let i=new Ne(""),l=Q.ISO8859_1;i.enableDecoding(l);let c=1,u=e[c++],h=new to;for(;c<e[0];){switch(u){case se.TEXT_COMPACTION_MODE_LATCH:c=se.textCompaction(e,c,i);break;case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:c=se.byteCompaction(u,e,l,c,i);break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(e[c++]);break;case se.NUMERIC_COMPACTION_MODE_LATCH:c=se.numericCompaction(e,c,i);break;case se.ECI_CHARSET:Q.getCharacterSetECIByValue(e[c++]);break;case se.ECI_GENERAL_PURPOSE:c+=2;break;case se.ECI_USER_DEFINED:c++;break;case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=se.decodeMacroBlock(e,c,h);break;case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:throw new X;default:c--,c=se.textCompaction(e,c,i);break}if(c<e.length)u=e[c++];else throw X.getFormatInstance()}if(i.length()===0)throw X.getFormatInstance();let m=new xt(null,i.toString(),null,n);return m.setOther(h),m}static decodeMacroBlock(e,n,i){if(n+se.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw X.getFormatInstance();let l=new Int32Array(se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<se.NUMBER_OF_SEQUENCE_CODEWORDS;h++,n++)l[h]=e[n];i.setSegmentIndex(U.parseInt(se.decodeBase900toBase10(l,se.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new Ne;n=se.textCompaction(e,n,c),i.setFileId(c.toString());let u=-1;for(e[n]===se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=n+1);n<e[0];)switch(e[n]){case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,e[n]){case se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new Ne;n=se.textCompaction(e,n+1,h),i.setFileName(h.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new Ne;n=se.textCompaction(e,n+1,m),i.setSender(m.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new Ne;n=se.textCompaction(e,n+1,v),i.setAddressee(v.toString());break;case se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let N=new Ne;n=se.numericCompaction(e,n+1,N),i.setSegmentCount(U.parseInt(N.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let P=new Ne;n=se.numericCompaction(e,n+1,P),i.setTimestamp(Ho.parseLong(P.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new Ne;n=se.numericCompaction(e,n+1,D),i.setChecksum(U.parseInt(D.toString()));break;case se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new Ne;n=se.numericCompaction(e,n+1,z),i.setFileSize(Ho.parseLong(z.toString()));break;default:throw X.getFormatInstance()}break;case se.MACRO_PDF417_TERMINATOR:n++,i.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(u!==-1){let h=n-u;i.isLastSegment()&&h--,i.setOptionalData(H.copyOfRange(e,u,u+h))}return n}static textCompaction(e,n,i){let l=new Int32Array((e[0]-n)*2),c=new Int32Array((e[0]-n)*2),u=0,h=!1;for(;n<e[0]&&!h;){let m=e[n++];if(m<se.TEXT_COMPACTION_MODE_LATCH)l[u]=m/30,l[u+1]=m%30,u+=2;else switch(m){case se.TEXT_COMPACTION_MODE_LATCH:l[u++]=se.TEXT_COMPACTION_MODE_LATCH;break;case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:n--,h=!0;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=e[n++],c[u]=m,u++;break}}return se.decodeTextCompaction(l,c,u,i),n}static decodeTextCompaction(e,n,i,l){let c=Mt.ALPHA,u=Mt.ALPHA,h=0;for(;h<i;){let m=e[h],v="";switch(c){case Mt.ALPHA:if(m<26)v=String.fromCharCode(65+m);else switch(m){case 26:v=" ";break;case se.LL:c=Mt.LOWER;break;case se.ML:c=Mt.MIXED;break;case se.PS:u=c,c=Mt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case se.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.LOWER:if(m<26)v=String.fromCharCode(97+m);else switch(m){case 26:v=" ";break;case se.AS:u=c,c=Mt.ALPHA_SHIFT;break;case se.ML:c=Mt.MIXED;break;case se.PS:u=c,c=Mt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case se.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.MIXED:if(m<se.PL)v=se.MIXED_CHARS[m];else switch(m){case se.PL:c=Mt.PUNCT;break;case 26:v=" ";break;case se.LL:c=Mt.LOWER;break;case se.AL:c=Mt.ALPHA;break;case se.PS:u=c,c=Mt.PUNCT_SHIFT;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case se.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.PUNCT:if(m<se.PAL)v=se.PUNCT_CHARS[m];else switch(m){case se.PAL:c=Mt.ALPHA;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case se.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.ALPHA_SHIFT:if(c=u,m<26)v=String.fromCharCode(65+m);else switch(m){case 26:v=" ";break;case se.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break;case Mt.PUNCT_SHIFT:if(c=u,m<se.PAL)v=se.PUNCT_CHARS[m];else switch(m){case se.PAL:c=Mt.ALPHA;break;case se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[h]);break;case se.TEXT_COMPACTION_MODE_LATCH:c=Mt.ALPHA;break}break}v!==""&&l.append(v),h++}}static byteCompaction(e,n,i,l,c){let u=new tl,h=0,m=0,v=!1;switch(e){case se.BYTE_COMPACTION_MODE_LATCH:let N=new Int32Array(6),P=n[l++];for(;l<n[0]&&!v;)switch(N[h++]=P,m=900*m+P,P=n[l++],P){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:l--,v=!0;break;default:if(h%5===0&&h>0){for(let D=0;D<6;++D)u.write(Number(hn(m)>>hn(8*(5-D))));m=0,h=0}break}l===n[0]&&P<se.TEXT_COMPACTION_MODE_LATCH&&(N[h++]=P);for(let D=0;D<h;D++)u.write(N[D]);break;case se.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!v;){let D=n[l++];if(D<se.TEXT_COMPACTION_MODE_LATCH)h++,m=900*m+D;else switch(D){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.NUMERIC_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:l--,v=!0;break}if(h%5===0&&h>0){for(let z=0;z<6;++z)u.write(Number(hn(m)>>hn(8*(5-z))));m=0,h=0}}break}return c.append(ke.decode(u.toByteArray(),i)),l}static numericCompaction(e,n,i){let l=0,c=!1,u=new Int32Array(se.MAX_NUMERIC_CODEWORDS);for(;n<e[0]&&!c;){let h=e[n++];if(n===e[0]&&(c=!0),h<se.TEXT_COMPACTION_MODE_LATCH)u[l]=h,l++;else switch(h){case se.TEXT_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH:case se.BYTE_COMPACTION_MODE_LATCH_6:case se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case se.MACRO_PDF417_TERMINATOR:n--,c=!0;break}(l%se.MAX_NUMERIC_CODEWORDS===0||h===se.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(i.append(se.decodeBase900toBase10(u,l)),l=0)}return n}static decodeBase900toBase10(e,n){let i=hn(0);for(let c=0;c<n;c++)i+=se.EXP900[n-c-1]*hn(e[c]);let l=i.toString();if(l.charAt(0)!=="1")throw new X;return l.substring(1)}}se.TEXT_COMPACTION_MODE_LATCH=900,se.BYTE_COMPACTION_MODE_LATCH=901,se.NUMERIC_COMPACTION_MODE_LATCH=902,se.BYTE_COMPACTION_MODE_LATCH_6=924,se.ECI_USER_DEFINED=925,se.ECI_GENERAL_PURPOSE=926,se.ECI_CHARSET=927,se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,se.MACRO_PDF417_TERMINATOR=922,se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,se.MAX_NUMERIC_CODEWORDS=15,se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,se.PL=25,se.LL=27,se.AS=27,se.ML=28,se.AL=28,se.PS=29,se.PAL=29,se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",se.EXP900=Ss()?Gi():[],se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class pt{constructor(){}static decode(e,n,i,l,c,u,h){let m=new vi(e,n,i,l,c),v=null,N=null,P;for(let G=!0;;G=!1){if(n!=null&&(v=pt.getRowIndicatorColumn(e,m,n,!0,u,h)),l!=null&&(N=pt.getRowIndicatorColumn(e,m,l,!1,u,h)),P=pt.merge(v,N),P==null)throw J.getNotFoundInstance();let K=P.getBoundingBox();if(G&&K!=null&&(K.getMinY()<m.getMinY()||K.getMaxY()>m.getMaxY()))m=K;else break}P.setBoundingBox(m);let D=P.getBarcodeColumnCount()+1;P.setDetectionResultColumn(0,v),P.setDetectionResultColumn(D,N);let z=v!=null;for(let G=1;G<=D;G++){let K=z?G:D-G;if(P.getDetectionResultColumn(K)!==void 0)continue;let q;K===0||K===D?q=new el(m,K===0):q=new _r(m),P.setDetectionResultColumn(K,q);let ie=-1,Ce=ie;for(let Ae=m.getMinY();Ae<=m.getMaxY();Ae++){if(ie=pt.getStartColumn(P,K,Ae,z),ie<0||ie>m.getMaxX()){if(Ce===-1)continue;ie=Ce}let ye=pt.detectCodeword(e,m.getMinX(),m.getMaxX(),z,ie,Ae,u,h);ye!=null&&(q.setCodeword(Ae,ye),Ce=ie,u=Math.min(u,ye.getWidth()),h=Math.max(h,ye.getWidth()))}}return pt.createDecoderResult(P)}static merge(e,n){if(e==null&&n==null)return null;let i=pt.getBarcodeMetadata(e,n);if(i==null)return null;let l=vi.merge(pt.adjustBoundingBox(e),pt.adjustBoundingBox(n));return new bs(i,l)}static adjustBoundingBox(e){if(e==null)return null;let n=e.getRowHeights();if(n==null)return null;let i=pt.getMax(n),l=0;for(let h of n)if(l+=i-h,h>0)break;let c=e.getCodewords();for(let h=0;l>0&&c[h]==null;h++)l--;let u=0;for(let h=n.length-1;h>=0&&(u+=i-n[h],!(n[h]>0));h--);for(let h=c.length-1;u>0&&c[h]==null;h--)u--;return e.getBoundingBox().addMissingRows(l,u,e.isLeft())}static getMax(e){let n=-1;for(let i of e)n=Math.max(n,i);return n}static getBarcodeMetadata(e,n){let i;if(e==null||(i=e.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();let l;return n==null||(l=n.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(e,n,i,l,c,u){let h=new el(n,l);for(let m=0;m<2;m++){let v=m===0?1:-1,N=Math.trunc(Math.trunc(i.getX()));for(let P=Math.trunc(Math.trunc(i.getY()));P<=n.getMaxY()&&P>=n.getMinY();P+=v){let D=pt.detectCodeword(e,0,e.getWidth(),l,N,P,c,u);D!=null&&(h.setCodeword(P,D),l?N=D.getStartX():N=D.getEndX())}}return h}static adjustCodewordCount(e,n){let i=n[0][1],l=i.getValue(),c=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-pt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(c<1||c>nt.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();i.setValue(c)}else l[0]!==c&&i.setValue(c)}static createDecoderResult(e){let n=pt.createBarcodeMatrix(e);pt.adjustCodewordCount(e,n);let i=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),c=[],u=new Array;for(let m=0;m<e.getBarcodeRowCount();m++)for(let v=0;v<e.getBarcodeColumnCount();v++){let N=n[m][v+1].getValue(),P=m*e.getBarcodeColumnCount()+v;N.length===0?i.push(P):N.length===1?l[P]=N[0]:(u.push(P),c.push(N))}let h=new Array(c.length);for(let m=0;m<h.length;m++)h[m]=c[m];return pt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,nt.toIntArray(i),nt.toIntArray(u),h)}static createDecoderResultFromAmbiguousValues(e,n,i,l,c){let u=new Int32Array(l.length),h=100;for(;h-- >0;){for(let m=0;m<u.length;m++)n[l[m]]=c[m][u[m]];try{return pt.decodeCodewords(n,e,i)}catch(m){if(!(m instanceof M))throw m}if(u.length===0)throw M.getChecksumInstance();for(let m=0;m<u.length;m++)if(u[m]<c[m].length-1){u[m]++;break}else if(u[m]=0,m===u.length-1)throw M.getChecksumInstance()}throw M.getChecksumInstance()}static createBarcodeMatrix(e){let n=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<n.length;l++)for(let c=0;c<n[l].length;c++)n[l][c]=new si;let i=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let u=c.getRowNumber();if(u>=0){if(u>=n.length)continue;n[u][i].setValue(c.getValue())}}}i++}return n}static isValidBarcodeColumn(e,n){return n>=0&&n<=e.getBarcodeColumnCount()+1}static getStartColumn(e,n,i,l){let c=l?1:-1,u=null;if(pt.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodeword(i)),u!=null)return l?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(n).getCodewordNearby(i),u!=null)return l?u.getStartX():u.getEndX();if(pt.isValidBarcodeColumn(e,n-c)&&(u=e.getDetectionResultColumn(n-c).getCodewordNearby(i)),u!=null)return l?u.getEndX():u.getStartX();let h=0;for(;pt.isValidBarcodeColumn(e,n-c);){n-=c;for(let m of e.getDetectionResultColumn(n).getCodewords())if(m!=null)return(l?m.getEndX():m.getStartX())+c*h*(m.getEndX()-m.getStartX());h++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,n,i,l,c,u,h,m){c=pt.adjustCodewordStartColumn(e,n,i,l,c,u);let v=pt.getModuleBitCount(e,n,i,l,c,u);if(v==null)return null;let N,P=mt.sum(v);if(l)N=c+P;else{for(let G=0;G<v.length/2;G++){let K=v[G];v[G]=v[v.length-1-G],v[v.length-1-G]=K}N=c,c=N-P}if(!pt.checkCodewordSkew(P,h,m))return null;let D=_n.getDecodedValue(v),z=nt.getCodeword(D);return z===-1?null:new Ci(c,N,pt.getCodewordBucketNumber(D),z)}static getModuleBitCount(e,n,i,l,c,u){let h=c,m=new Int32Array(8),v=0,N=l?1:-1,P=l;for(;(l?h<i:h>=n)&&v<m.length;)e.get(h,u)===P?(m[v]++,h+=N):(v++,P=!P);return v===m.length||h===(l?i:n)&&v===m.length-1?m:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,n,i,l,c,u){let h=c,m=l?-1:1;for(let v=0;v<2;v++){for(;(l?h>=n:h<i)&&l===e.get(h,u);){if(Math.abs(c-h)>pt.CODEWORD_SKEW_SIZE)return c;h+=m}m=-m,l=!l}return h}static checkCodewordSkew(e,n,i){return n-pt.CODEWORD_SKEW_SIZE<=e&&e<=i+pt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,n,i){if(e.length===0)throw X.getFormatInstance();let l=1<<n+1,c=pt.correctErrors(e,i,l);pt.verifyCodewordCount(e,l);let u=se.decode(e,""+n);return u.setErrorsCorrected(c),u.setErasures(i.length),u}static correctErrors(e,n,i){if(n!=null&&n.length>i/2+pt.MAX_ERRORS||i<0||i>pt.MAX_EC_CODEWORDS)throw M.getChecksumInstance();return pt.errorCorrection.decode(e,i,n)}static verifyCodewordCount(e,n){if(e.length<4)throw X.getFormatInstance();let i=e[0];if(i>e.length)throw X.getFormatInstance();if(i===0)if(n<e.length)e[0]=e.length-n;else throw X.getFormatInstance()}static getBitCountForCodeword(e){let n=new Int32Array(8),i=0,l=n.length-1;for(;!((e&1)!==i&&(i=e&1,l--,l<0));)n[l]++,e>>=1;return n}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return pt.getCodewordBucketNumber(pt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let n=new Hr;for(let i=0;i<e.length;i++){n.format("Row %2d: ",i);for(let l=0;l<e[i].length;l++){let c=e[i][l];c.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}n.format("%n")}return n.toString()}}pt.CODEWORD_SKEW_SIZE=2,pt.MAX_ERRORS=3,pt.MAX_EC_CODEWORDS=512,pt.errorCorrection=new Wo;class kn{decode(e,n=null){let i=kn.decode(e,n,!1);if(i==null||i.length===0||i[0]==null)throw J.getNotFoundInstance();return i[0]}decodeMultiple(e,n=null){try{return kn.decode(e,n,!0)}catch(i){throw i instanceof X||i instanceof M?J.getNotFoundInstance():i}}static decode(e,n,i){const l=new Array,c=ft.detectMultiple(e,n,i);for(const u of c.getPoints()){const h=pt.decode(c.getBits(),u[4],u[5],u[6],u[7],kn.getMinCodewordWidth(u),kn.getMaxCodewordWidth(u)),m=new Ue(h.getText(),h.getRawBytes(),void 0,u,Ee.PDF_417);m.putMetadata(Fe.ERROR_CORRECTION_LEVEL,h.getECLevel());const v=h.getOther();v!=null&&m.putMetadata(Fe.PDF417_EXTRA_METADATA,v),l.push(m)}return l.map(u=>u)}static getMaxWidth(e,n){return e==null||n==null?0:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMinWidth(e,n){return e==null||n==null?U.MAX_VALUE:Math.trunc(Math.abs(e.getX()-n.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(kn.getMaxWidth(e[0],e[4]),kn.getMaxWidth(e[6],e[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.max(kn.getMaxWidth(e[1],e[5]),kn.getMaxWidth(e[7],e[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(kn.getMinWidth(e[0],e[4]),kn.getMinWidth(e[6],e[2])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN),Math.min(kn.getMinWidth(e[1],e[5]),kn.getMinWidth(e[7],e[3])*nt.MODULES_IN_CODEWORD/nt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Xi extends E{}Xi.kind="ReaderException";class ro{constructor(e,n){this.verbose=e===!0,n&&this.setHints(n)}decode(e,n){return n&&this.setHints(n),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const n=!d(e)&&e.get(le.TRY_HARDER)===!0,i=d(e)?null:e.get(le.POSSIBLE_FORMATS),l=new Array;if(!d(i)){const c=i.some(u=>u===Ee.UPC_A||u===Ee.UPC_E||u===Ee.EAN_13||u===Ee.EAN_8||u===Ee.CODABAR||u===Ee.CODE_39||u===Ee.CODE_93||u===Ee.CODE_128||u===Ee.ITF||u===Ee.RSS_14||u===Ee.RSS_EXPANDED);c&&!n&&l.push(new sr(e,this.verbose)),i.includes(Ee.QR_CODE)&&l.push(new jn),i.includes(Ee.DATA_MATRIX)&&l.push(new wr),i.includes(Ee.AZTEC)&&l.push(new Xt),i.includes(Ee.PDF_417)&&l.push(new kn),c&&n&&l.push(new sr(e,this.verbose))}l.length===0&&(n||l.push(new sr(e,this.verbose)),l.push(new jn),l.push(new wr),l.push(new Xt),l.push(new kn),n&&l.push(new sr(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Xi("No readers where selected, nothing can be read.");for(const n of this.readers)try{return n.decode(e,this.hints)}catch(i){if(i instanceof Xi)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class Is extends We{constructor(e=null,n=500){const i=new ro;i.setHints(e),super(i,n)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class io extends We{constructor(e=500){super(new kn,e)}}class nl extends We{constructor(e=500){super(new jn,e)}}var Xo;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(Xo||(Xo={}));var wn=Xo;class Yo{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new gt(e,Int32Array.from([1])))}buildGenerator(e){const n=this.cachedGenerators;if(e>=n.length){let i=n[n.length-1];const l=this.field;for(let c=n.length;c<=e;c++){const u=i.multiply(new gt(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));n.push(u),i=u}}return n[e]}encode(e,n){if(n===0)throw new I("No error correction bytes");const i=e.length-n;if(i<=0)throw new I("No data bytes provided");const l=this.buildGenerator(n),c=new Int32Array(i);F.arraycopy(e,0,c,0,i);let u=new gt(this.field,c);u=u.multiplyByMonomial(n,1);const m=u.divide(l)[1].getCoefficients(),v=n-m.length;for(let N=0;N<v;N++)e[i+N]=0;F.arraycopy(m,0,e,i+v,m.length)}}class $t{constructor(){}static applyMaskPenaltyRule1(e){return $t.applyMaskPenaltyRule1Internal(e,!0)+$t.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c-1;u++){const h=i[u];for(let m=0;m<l-1;m++){const v=h[m];v===h[m+1]&&v===i[u+1][m]&&v===i[u+1][m+1]&&n++}}return $t.N2*n}static applyMaskPenaltyRule3(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let u=0;u<c;u++)for(let h=0;h<l;h++){const m=i[u];h+6<l&&m[h]===1&&m[h+1]===0&&m[h+2]===1&&m[h+3]===1&&m[h+4]===1&&m[h+5]===0&&m[h+6]===1&&($t.isWhiteHorizontal(m,h-4,h)||$t.isWhiteHorizontal(m,h+7,h+11))&&n++,u+6<c&&i[u][h]===1&&i[u+1][h]===0&&i[u+2][h]===1&&i[u+3][h]===1&&i[u+4][h]===1&&i[u+5][h]===0&&i[u+6][h]===1&&($t.isWhiteVertical(i,h,u-4,u)||$t.isWhiteVertical(i,h,u+7,u+11))&&n++}return n*$t.N3}static isWhiteHorizontal(e,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let l=n;l<i;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,n,i,l){i=Math.max(i,0),l=Math.min(l,e.length);for(let c=i;c<l;c++)if(e[c][n]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let n=0;const i=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let m=0;m<c;m++){const v=i[m];for(let N=0;N<l;N++)v[N]===1&&n++}const u=e.getHeight()*e.getWidth();return Math.floor(Math.abs(n*2-u)*10/u)*$t.N4}static getDataMaskBit(e,n,i){let l,c;switch(e){case 0:l=i+n&1;break;case 1:l=i&1;break;case 2:l=n%3;break;case 3:l=(i+n)%3;break;case 4:l=Math.floor(i/2)+Math.floor(n/3)&1;break;case 5:c=i*n,l=(c&1)+c%3;break;case 6:c=i*n,l=(c&1)+c%3&1;break;case 7:c=i*n,l=c%3+(i+n&1)&1;break;default:throw new I("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,n){let i=0;const l=n?e.getHeight():e.getWidth(),c=n?e.getWidth():e.getHeight(),u=e.getArray();for(let h=0;h<l;h++){let m=0,v=-1;for(let N=0;N<c;N++){const P=n?u[h][N]:u[N][h];P===v?m++:(m>=5&&(i+=$t.N1+(m-5)),m=1,v=P)}m>=5&&(i+=$t.N1+(m-5))}return i}}$t.N1=3,$t.N2=3,$t.N3=40,$t.N4=10;class so{constructor(e,n){this.width=e,this.height=n;const i=new Array(n);for(let l=0;l!==n;l++)i[l]=new Uint8Array(e);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(e,n){return this.bytes[n][e]}getArray(){return this.bytes}setNumber(e,n,i){this.bytes[n][e]=i}setBoolean(e,n,i){this.bytes[n][e]=i?1:0}clear(e){for(const n of this.bytes)H.fill(n,e)}equals(e){if(!(e instanceof so))return!1;const n=e;if(this.width!==n.width||this.height!==n.height)return!1;for(let i=0,l=this.height;i<l;++i){const c=this.bytes[i],u=n.bytes[i];for(let h=0,m=this.width;h<m;++h)if(c[h]!==u[h])return!1}return!0}toString(){const e=new Ne;for(let n=0,i=this.height;n<i;++n){const l=this.bytes[n];for(let c=0,u=this.width;c<u;++c)switch(l[c]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Ei{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ne;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ei.NUM_MASK_PATTERNS}}Ei.NUM_MASK_PATTERNS=8;class Ut extends E{}Ut.kind="WriterException";class Qe{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,n,i,l,c){Qe.clearMatrix(c),Qe.embedBasicPatterns(i,c),Qe.embedTypeInfo(n,l,c),Qe.maybeEmbedVersionInfo(i,c),Qe.embedDataBits(e,l,c)}static embedBasicPatterns(e,n){Qe.embedPositionDetectionPatternsAndSeparators(n),Qe.embedDarkDotAtLeftBottomCorner(n),Qe.maybeEmbedPositionAdjustmentPatterns(e,n),Qe.embedTimingPatterns(n)}static embedTypeInfo(e,n,i){const l=new ne;Qe.makeTypeInfoBits(e,n,l);for(let c=0,u=l.getSize();c<u;++c){const h=l.get(l.getSize()-1-c),m=Qe.TYPE_INFO_COORDINATES[c],v=m[0],N=m[1];if(i.setBoolean(v,N,h),c<8){const P=i.getWidth()-c-1;i.setBoolean(P,8,h)}else{const D=i.getHeight()-7+(c-8);i.setBoolean(8,D,h)}}}static maybeEmbedVersionInfo(e,n){if(e.getVersionNumber()<7)return;const i=new ne;Qe.makeVersionInfoBits(e,i);let l=6*3-1;for(let c=0;c<6;++c)for(let u=0;u<3;++u){const h=i.get(l);l--,n.setBoolean(c,n.getHeight()-11+u,h),n.setBoolean(n.getHeight()-11+u,c,h)}}static embedDataBits(e,n,i){let l=0,c=-1,u=i.getWidth()-1,h=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);h>=0&&h<i.getHeight();){for(let m=0;m<2;++m){const v=u-m;if(!Qe.isEmpty(i.get(v,h)))continue;let N;l<e.getSize()?(N=e.get(l),++l):N=!1,n!==255&&$t.getDataMaskBit(n,v,h)&&(N=!N),i.setBoolean(v,h,N)}h+=c}c=-c,h+=c,u-=2}if(l!==e.getSize())throw new Ut("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-U.numberOfLeadingZeros(e)}static calculateBCHCode(e,n){if(n===0)throw new I("0 polynomial");const i=Qe.findMSBSet(n);for(e<<=i-1;Qe.findMSBSet(e)>=i;)e^=n<<Qe.findMSBSet(e)-i;return e}static makeTypeInfoBits(e,n,i){if(!Ei.isValidMaskPattern(n))throw new Ut("Invalid mask pattern");const l=e.getBits()<<3|n;i.appendBits(l,5);const c=Qe.calculateBCHCode(l,Qe.TYPE_INFO_POLY);i.appendBits(c,10);const u=new ne;if(u.appendBits(Qe.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new Ut("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(e,n){n.appendBits(e.getVersionNumber(),6);const i=Qe.calculateBCHCode(e.getVersionNumber(),Qe.VERSION_INFO_POLY);if(n.appendBits(i,12),n.getSize()!==18)throw new Ut("should not happen but we got: "+n.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let n=8;n<e.getWidth()-8;++n){const i=(n+1)%2;Qe.isEmpty(e.get(n,6))&&e.setNumber(n,6,i),Qe.isEmpty(e.get(6,n))&&e.setNumber(6,n,i)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ut;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,n,i){for(let l=0;l<8;++l){if(!Qe.isEmpty(i.get(e+l,n)))throw new Ut;i.setNumber(e+l,n,0)}}static embedVerticalSeparationPattern(e,n,i){for(let l=0;l<7;++l){if(!Qe.isEmpty(i.get(e,n+l)))throw new Ut;i.setNumber(e,n+l,0)}}static embedPositionAdjustmentPattern(e,n,i){for(let l=0;l<5;++l){const c=Qe.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)i.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPattern(e,n,i){for(let l=0;l<7;++l){const c=Qe.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)i.setNumber(e+u,n+l,c[u])}}static embedPositionDetectionPatternsAndSeparators(e){const n=Qe.POSITION_DETECTION_PATTERN[0].length;Qe.embedPositionDetectionPattern(0,0,e),Qe.embedPositionDetectionPattern(e.getWidth()-n,0,e),Qe.embedPositionDetectionPattern(0,e.getWidth()-n,e);const i=8;Qe.embedHorizontalSeparationPattern(0,i-1,e),Qe.embedHorizontalSeparationPattern(e.getWidth()-i,i-1,e),Qe.embedHorizontalSeparationPattern(0,e.getWidth()-i,e);const l=7;Qe.embedVerticalSeparationPattern(l,0,e),Qe.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Qe.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,n){if(e.getVersionNumber()<2)return;const i=e.getVersionNumber()-1,l=Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let c=0,u=l.length;c!==u;c++){const h=l[c];if(h>=0)for(let m=0;m!==u;m++){const v=l[m];v>=0&&Qe.isEmpty(n.get(v,h))&&Qe.embedPositionAdjustmentPattern(v-2,h-2,n)}}}}Qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Qe.VERSION_INFO_POLY=7973,Qe.TYPE_INFO_POLY=1335,Qe.TYPE_INFO_MASK_PATTERN=21522;class Lc{constructor(e,n){this.dataBytes=e,this.errorCorrectionBytes=n}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ht{constructor(){}static calculateMaskPenalty(e){return $t.applyMaskPenaltyRule1(e)+$t.applyMaskPenaltyRule2(e)+$t.applyMaskPenaltyRule3(e)+$t.applyMaskPenaltyRule4(e)}static encode(e,n,i=null){let l=Ht.DEFAULT_BYTE_MODE_ENCODING;const c=i!==null&&i.get(wn.CHARACTER_SET)!==void 0;c&&(l=i.get(wn.CHARACTER_SET).toString());const u=this.chooseMode(e,l),h=new ne;if(u===$e.BYTE&&(c||Ht.DEFAULT_BYTE_MODE_ENCODING!==l)){const Ae=Q.getCharacterSetECIByName(l);Ae!==void 0&&this.appendECI(Ae,h)}this.appendModeInfo(u,h);const m=new ne;this.appendBytes(e,u,m,l);let v;if(i!==null&&i.get(wn.QR_VERSION)!==void 0){const Ae=Number.parseInt(i.get(wn.QR_VERSION).toString(),10);v=Ye.getVersionForNumber(Ae);const ye=this.calculateBitsNeeded(u,h,m,v);if(!this.willFit(ye,v,n))throw new Ut("Data too big for requested version")}else v=this.recommendVersion(n,u,h,m);const N=new ne;N.appendBitArray(h);const P=u===$e.BYTE?m.getSizeInBytes():e.length;this.appendLengthInfo(P,v,u,N),N.appendBitArray(m);const D=v.getECBlocksForLevel(n),z=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(z,N);const G=this.interleaveWithECBytes(N,v.getTotalCodewords(),z,D.getNumBlocks()),K=new Ei;K.setECLevel(n),K.setMode(u),K.setVersion(v);const q=v.getDimensionForVersion(),ie=new so(q,q),Ce=this.chooseMaskPattern(G,n,v,ie);return K.setMaskPattern(Ce),Qe.buildMatrix(G,n,v,Ce,ie),K.setMatrix(ie),K}static recommendVersion(e,n,i,l){const c=this.calculateBitsNeeded(n,i,l,Ye.getVersionForNumber(1)),u=this.chooseVersion(c,e),h=this.calculateBitsNeeded(n,i,l,u);return this.chooseVersion(h,e)}static calculateBitsNeeded(e,n,i,l){return n.getSize()+e.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(e){return e<Ht.ALPHANUMERIC_TABLE.length?Ht.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,n=null){if(Q.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return $e.KANJI;let i=!1,l=!1;for(let c=0,u=e.length;c<u;++c){const h=e.charAt(c);if(Ht.isDigit(h))i=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)l=!0;else return $e.BYTE}return l?$e.ALPHANUMERIC:i?$e.NUMERIC:$e.BYTE}static isOnlyDoubleByteKanji(e){let n;try{n=ke.encode(e,Q.SJIS)}catch{return!1}const i=n.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const c=n[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(e,n,i,l){let c=Number.MAX_SAFE_INTEGER,u=-1;for(let h=0;h<Ei.NUM_MASK_PATTERNS;h++){Qe.buildMatrix(e,n,i,h,l);let m=this.calculateMaskPenalty(l);m<c&&(c=m,u=h)}return u}static chooseVersion(e,n){for(let i=1;i<=40;i++){const l=Ye.getVersionForNumber(i);if(Ht.willFit(e,l,n))return l}throw new Ut("Data too big")}static willFit(e,n,i){const l=n.getTotalCodewords(),u=n.getECBlocksForLevel(i).getTotalECCodewords(),h=l-u,m=(e+7)/8;return h>=m}static terminateBits(e,n){const i=e*8;if(n.getSize()>i)throw new Ut("data bits cannot fit in the QR Code"+n.getSize()+" > "+i);for(let u=0;u<4&&n.getSize()<i;++u)n.appendBit(!1);const l=n.getSize()&7;if(l>0)for(let u=l;u<8;u++)n.appendBit(!1);const c=e-n.getSizeInBytes();for(let u=0;u<c;++u)n.appendBits(u&1?17:236,8);if(n.getSize()!==i)throw new Ut("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,n,i,l,c,u){if(l>=i)throw new Ut("Block ID too large");const h=e%i,m=i-h,v=Math.floor(e/i),N=v+1,P=Math.floor(n/i),D=P+1,z=v-P,G=N-D;if(z!==G)throw new Ut("EC bytes mismatch");if(i!==m+h)throw new Ut("RS blocks mismatch");if(e!==(P+z)*m+(D+G)*h)throw new Ut("Total bytes mismatch");l<m?(c[0]=P,u[0]=z):(c[0]=D,u[0]=G)}static interleaveWithECBytes(e,n,i,l){if(e.getSizeInBytes()!==i)throw new Ut("Number of bits and data bytes does not match");let c=0,u=0,h=0;const m=new Array;for(let N=0;N<l;++N){const P=new Int32Array(1),D=new Int32Array(1);Ht.getNumDataBytesAndNumECBytesForBlockID(n,i,l,N,P,D);const z=P[0],G=new Uint8Array(z);e.toBytes(8*c,G,0,z);const K=Ht.generateECBytes(G,D[0]);m.push(new Lc(G,K)),u=Math.max(u,z),h=Math.max(h,K.length),c+=P[0]}if(i!==c)throw new Ut("Data bytes does not match offset");const v=new ne;for(let N=0;N<u;++N)for(const P of m){const D=P.getDataBytes();N<D.length&&v.appendBits(D[N],8)}for(let N=0;N<h;++N)for(const P of m){const D=P.getErrorCorrectionBytes();N<D.length&&v.appendBits(D[N],8)}if(n!==v.getSizeInBytes())throw new Ut("Interleaving error: "+n+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(e,n){const i=e.length,l=new Int32Array(i+n);for(let u=0;u<i;u++)l[u]=e[u]&255;new Yo(Pe.QR_CODE_FIELD_256).encode(l,n);const c=new Uint8Array(n);for(let u=0;u<n;u++)c[u]=l[i+u];return c}static appendModeInfo(e,n){n.appendBits(e.getBits(),4)}static appendLengthInfo(e,n,i,l){const c=i.getCharacterCountBits(n);if(e>=1<<c)throw new Ut(e+" is bigger than "+((1<<c)-1));l.appendBits(e,c)}static appendBytes(e,n,i,l){switch(n){case $e.NUMERIC:Ht.appendNumericBytes(e,i);break;case $e.ALPHANUMERIC:Ht.appendAlphanumericBytes(e,i);break;case $e.BYTE:Ht.append8BitBytes(e,i,l);break;case $e.KANJI:Ht.appendKanjiBytes(e,i);break;default:throw new Ut("Invalid mode: "+n)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const n=Ht.getDigit(e);return n>=0&&n<=9}static appendNumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const c=Ht.getDigit(e.charAt(l));if(l+2<i){const u=Ht.getDigit(e.charAt(l+1)),h=Ht.getDigit(e.charAt(l+2));n.appendBits(c*100+u*10+h,10),l+=3}else if(l+1<i){const u=Ht.getDigit(e.charAt(l+1));n.appendBits(c*10+u,7),l+=2}else n.appendBits(c,4),l++}}static appendAlphanumericBytes(e,n){const i=e.length;let l=0;for(;l<i;){const c=Ht.getAlphanumericCode(e.charCodeAt(l));if(c===-1)throw new Ut;if(l+1<i){const u=Ht.getAlphanumericCode(e.charCodeAt(l+1));if(u===-1)throw new Ut;n.appendBits(c*45+u,11),l+=2}else n.appendBits(c,6),l++}}static append8BitBytes(e,n,i){let l;try{l=ke.encode(e,i)}catch(c){throw new Ut(c)}for(let c=0,u=l.length;c!==u;c++){const h=l[c];n.appendBits(h,8)}}static appendKanjiBytes(e,n){let i;try{i=ke.encode(e,Q.SJIS)}catch(c){throw new Ut(c)}const l=i.length;for(let c=0;c<l;c+=2){const u=i[c]&255,h=i[c+1]&255,m=u<<8&4294967295|h;let v=-1;if(m>=33088&&m<=40956?v=m-33088:m>=57408&&m<=60351&&(v=m-49472),v===-1)throw new Ut("Invalid byte sequence");const N=(v>>8)*192+(v&255);n.appendBits(N,13)}}static appendECI(e,n){n.appendBits($e.ECI.getBits(),4),n.appendBits(e.getValue(),8)}}Ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ht.DEFAULT_BYTE_MODE_ENCODING=Q.UTF8.getName();class Ai{write(e,n,i,l=null){if(e.length===0)throw new I("Found empty contents");if(n<0||i<0)throw new I("Requested dimensions are too small: "+n+"x"+i);let c=zt.L,u=Ai.QUIET_ZONE_SIZE;l!==null&&(l.get(wn.ERROR_CORRECTION)!==void 0&&(c=zt.fromString(l.get(wn.ERROR_CORRECTION).toString())),l.get(wn.MARGIN)!==void 0&&(u=Number.parseInt(l.get(wn.MARGIN).toString(),10)));const h=Ht.encode(e,c,l);return this.renderResult(h,n,i,u)}writeToDom(e,n,i,l,c=null){typeof e=="string"&&(e=document.querySelector(e));const u=this.write(n,i,l,c);e&&e.appendChild(u)}renderResult(e,n,i,l){const c=e.getMatrix();if(c===null)throw new Ft;const u=c.getWidth(),h=c.getHeight(),m=u+l*2,v=h+l*2,N=Math.max(n,m),P=Math.max(i,v),D=Math.min(Math.floor(N/m),Math.floor(P/v)),z=Math.floor((N-u*D)/2),G=Math.floor((P-h*D)/2),K=this.createSVGElement(N,P);for(let q=0,ie=G;q<h;q++,ie+=D)for(let Ce=0,Ae=z;Ce<u;Ce++,Ae+=D)if(c.get(Ce,q)===1){const ye=this.createSvgRectElement(Ae,ie,D,D);K.appendChild(ye)}return K}createSVGElement(e,n){const i=document.createElementNS(Ai.SVG_NS,"svg");return i.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width",n.toString()),i}createSvgRectElement(e,n,i,l){const c=document.createElementNS(Ai.SVG_NS,"rect");return c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",l.toString()),c.setAttributeNS(null,"fill","#000000"),c}}Ai.QUIET_ZONE_SIZE=4,Ai.SVG_NS="http://www.w3.org/2000/svg";class Yi{encode(e,n,i,l,c){if(e.length===0)throw new I("Found empty contents");if(n!==Ee.QR_CODE)throw new I("Can only encode QR_CODE, but got "+n);if(i<0||l<0)throw new I(`Requested dimensions are too small: ${i}x${l}`);let u=zt.L,h=Yi.QUIET_ZONE_SIZE;c!==null&&(c.get(wn.ERROR_CORRECTION)!==void 0&&(u=zt.fromString(c.get(wn.ERROR_CORRECTION).toString())),c.get(wn.MARGIN)!==void 0&&(h=Number.parseInt(c.get(wn.MARGIN).toString(),10)));const m=Ht.encode(e,u,c);return Yi.renderResult(m,i,l,h)}static renderResult(e,n,i,l){const c=e.getMatrix();if(c===null)throw new Ft;const u=c.getWidth(),h=c.getHeight(),m=u+l*2,v=h+l*2,N=Math.max(n,m),P=Math.max(i,v),D=Math.min(Math.floor(N/m),Math.floor(P/v)),z=Math.floor((N-u*D)/2),G=Math.floor((P-h*D)/2),K=new Re(N,P);for(let q=0,ie=G;q<h;q++,ie+=D)for(let Ce=0,Ae=z;Ce<u;Ce++,Ae+=D)c.get(Ce,q)===1&&K.setRegion(Ae,ie,D,D);return K}}Yi.QUIET_ZONE_SIZE=4;class Bc{encode(e,n,i,l,c){let u;switch(n){case Ee.QR_CODE:u=new Yi;break;default:throw new I("No encoder available for format "+n)}return u.encode(e,n,i,l,c)}}class kr extends fe{constructor(e,n,i,l,c,u,h,m){if(super(u,h),this.yuvData=e,this.dataWidth=n,this.dataHeight=i,this.left=l,this.top=c,l+u>n||c+h>i)throw new I("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(u,h)}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.yuvData;const i=e*n,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return F.arraycopy(this.yuvData,c,l,0,i),l;for(let u=0;u<n;u++){const h=u*e;F.arraycopy(this.yuvData,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new kr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+n,i,l,!1)}renderThumbnail(){const e=this.getWidth()/kr.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/kr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(e*n),l=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let u=0;u<n;u++){const h=u*e;for(let m=0;m<e;m++){const v=l[c+m*kr.THUMBNAIL_SCALE_FACTOR]&255;i[h+m]=4278190080|v*65793}c+=this.dataWidth*kr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/kr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/kr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,n){const i=this.yuvData;for(let l=0,c=this.top*this.dataWidth+this.left;l<n;l++,c+=this.dataWidth){const u=c+e/2;for(let h=c,m=c+e-1;h<u;h++,m--){const v=i[h];i[h]=i[m],i[m]=v}}}invert(){return new ge(this)}}kr.THUMBNAIL_SCALE_FACTOR=2;class Ns extends fe{constructor(e,n,i,l,c,u,h){if(super(n,i),this.dataWidth=l,this.dataHeight=c,this.left=u,this.top=h,e.BYTES_PER_ELEMENT===4){const m=n*i,v=new Uint8ClampedArray(m);for(let N=0;N<m;N++){const P=e[N],D=P>>16&255,z=P>>7&510,G=P&255;v[N]=(D+z+G)/4&255}this.luminances=v}else this.luminances=e;if(l===void 0&&(this.dataWidth=n),c===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+n>this.dataWidth||this.top+i>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(e,n){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));const l=(e+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,l,n,0,i),n}getMatrix(){const e=this.getWidth(),n=this.getHeight();if(e===this.dataWidth&&n===this.dataHeight)return this.luminances;const i=e*n,l=new Uint8ClampedArray(i);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return F.arraycopy(this.luminances,c,l,0,i),l;for(let u=0;u<n;u++){const h=u*e;F.arraycopy(this.luminances,c,l,h,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,n,i,l){return new Ns(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+e,this.top+n)}invert(){return new ge(this)}}class rl extends Q{static forName(e){return this.getCharacterSetECIByName(e)}}class Ko{}Ko.ISO_8859_1=Q.ISO8859_1;class il{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Zo{static singletonList(e){return[e]}static min(e,n){return e.sort(n)[0]}}class Fc{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Ki extends Fc{constructor(e,n,i){super(e),this.value=n,this.bitCount=i}appendTo(e,n){e.appendBits(this.value,this.bitCount)}add(e,n){return new Ki(this,e,n)}addBinaryShift(e,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ki(this,e,n)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+U.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class $o extends Ki{constructor(e,n,i){super(e,0,0),this.binaryShiftStart=n,this.binaryShiftByteCount=i}appendTo(e,n){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):i===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(n[this.binaryShiftStart+i],8)}addBinaryShift(e,n){return new $o(this,e,n)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function jc(k,e,n){return new $o(k,e,n)}function Rs(k,e,n){return new Ki(k,e,n)}const Vc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oi=0,Zi=1,Dn=2,sl=3,Cr=4,ol=new Ki(null,0,0),oo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function al(k){for(let e of k)H.fill(e,-1);return k[oi][Cr]=0,k[Zi][Cr]=0,k[Zi][oi]=28,k[sl][Cr]=0,k[Dn][Cr]=0,k[Dn][oi]=15,k}const qo=al(H.createInt32Array(6,6));class Vn{constructor(e,n,i,l){this.token=e,this.mode=n,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,n){let i=this.bitCount,l=this.token;if(e!==this.mode){let u=oo[this.mode][e];l=Rs(l,u&65535,u>>16),i+=u>>16}let c=e===Dn?4:5;return l=Rs(l,n,c),new Vn(l,e,0,i+c)}shiftAndAppend(e,n){let i=this.token,l=this.mode===Dn?4:5;return i=Rs(i,qo[this.mode][e],l),i=Rs(i,n,5),new Vn(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let n=this.token,i=this.mode,l=this.bitCount;if(this.mode===Cr||this.mode===Dn){let h=oo[i][oi];n=Rs(n,h&65535,h>>16),l+=h>>16,i=oi}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Vn(n,i,this.binaryShiftByteCount+1,l+c);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(e+1)),u}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let n=this.token;return n=jc(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Vn(n,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let n=this.bitCount+(oo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=Vn.calculateBinaryShiftCost(e)-Vn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}toBitArray(e){let n=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())n.unshift(l);let i=new ne;for(const l of n)l.appendTo(i,e);return i}toString(){return Te.format("%s bits=%d bytes=%d",Vc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Vn.INITIAL_STATE=new Vn(ol,oi,0,0);function zc(k){const e=Te.getCharCode(" "),n=Te.getCharCode("."),i=Te.getCharCode(",");k[oi][e]=1;const l=Te.getCharCode("Z"),c=Te.getCharCode("A");for(let D=c;D<=l;D++)k[oi][D]=D-c+2;k[Zi][e]=1;const u=Te.getCharCode("z"),h=Te.getCharCode("a");for(let D=h;D<=u;D++)k[Zi][D]=D-h+2;k[Dn][e]=1;const m=Te.getCharCode("9"),v=Te.getCharCode("0");for(let D=v;D<=m;D++)k[Dn][D]=D-v+2;k[Dn][i]=12,k[Dn][n]=13;const N=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<N.length;D++)k[sl][Te.getCharCode(N[D])]=D;const P=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<P.length;D++)Te.getCharCode(P[D])>0&&(k[Cr][Te.getCharCode(P[D])]=D);return k}const Qo=zc(H.createInt32Array(5,256));class _s{constructor(e){this.text=e}encode(){const e=Te.getCharCode(" "),n=Te.getCharCode(`
`);let i=Zo.singletonList(Vn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let u,h=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case Te.getCharCode("\r"):u=h===n?2:0;break;case Te.getCharCode("."):u=h===e?3:0;break;case Te.getCharCode(","):u=h===e?4:0;break;case Te.getCharCode(":"):u=h===e?5:0;break;default:u=0}u>0?(i=_s.updateStateListForPair(i,c,u),c++):i=this.updateStateListForChar(i,c)}return Zo.min(i,(c,u)=>c.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,n){const i=[];for(let l of e)this.updateStateForChar(l,n,i);return _s.simplifyStates(i)}updateStateForChar(e,n,i){let l=this.text[n]&255,c=Qo[e.getMode()][l]>0,u=null;for(let h=0;h<=Cr;h++){let m=Qo[h][l];if(m>0){if(u==null&&(u=e.endBinaryShift(n)),!c||h===e.getMode()||h===Dn){const v=u.latchAndAppend(h,m);i.push(v)}if(!c&&qo[e.getMode()][h]>=0){const v=u.shiftAndAppend(h,m);i.push(v)}}}if(e.getBinaryShiftByteCount()>0||Qo[e.getMode()][l]===0){let h=e.addBinaryShiftChar(n);i.push(h)}}static updateStateListForPair(e,n,i){const l=[];for(let c of e)this.updateStateForPair(c,n,i,l);return this.simplifyStates(l)}static updateStateForPair(e,n,i,l){let c=e.endBinaryShift(n);if(l.push(c.latchAndAppend(Cr,i)),e.getMode()!==Cr&&l.push(c.shiftAndAppend(Cr,i)),i===3||i===4){let u=c.latchAndAppend(Dn,16-i).latchAndAppend(Dn,1);l.push(u)}if(e.getBinaryShiftByteCount()>0){let u=e.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(u)}}static simplifyStates(e){let n=[];for(const i of e){let l=!0;for(const c of n){if(c.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(c)&&(n=n.filter(u=>u!==c))}l&&n.push(i)}return n}}class _t{constructor(){}static encodeBytes(e){return _t.encode(e,_t.DEFAULT_EC_PERCENT,_t.DEFAULT_AZTEC_LAYERS)}static encode(e,n,i){let l=new _s(e).encode(),c=U.truncDivision(l.getSize()*n,100)+11,u=l.getSize()+c,h,m,v,N,P;if(i!==_t.DEFAULT_AZTEC_LAYERS){if(h=i<0,m=Math.abs(i),m>(h?_t.MAX_NB_BITS_COMPACT:_t.MAX_NB_BITS))throw new I(Te.format("Illegal value %s for layers",i));v=_t.totalBitsInLayer(m,h),N=_t.WORD_SIZE[m];let ye=v-v%N;if(P=_t.stuffBits(l,N),P.getSize()+c>ye)throw new I("Data to large for user specified layer");if(h&&P.getSize()>N*64)throw new I("Data to large for user specified layer")}else{N=0,P=null;for(let ye=0;;ye++){if(ye>_t.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(h=ye<=3,m=h?ye+1:ye,v=_t.totalBitsInLayer(m,h),u>v)continue;(P==null||N!==_t.WORD_SIZE[m])&&(N=_t.WORD_SIZE[m],P=_t.stuffBits(l,N));let Et=v-v%N;if(!(h&&P.getSize()>N*64)&&P.getSize()+c<=Et)break}}let D=_t.generateCheckWords(P,v,N),z=P.getSize()/N,G=_t.generateModeMessage(h,m,z),K=(h?11:14)+m*4,q=new Int32Array(K),ie;if(h){ie=K;for(let ye=0;ye<q.length;ye++)q[ye]=ye}else{ie=K+1+2*U.truncDivision(U.truncDivision(K,2)-1,15);let ye=U.truncDivision(K,2),Et=U.truncDivision(ie,2);for(let dt=0;dt<ye;dt++){let $n=dt+U.truncDivision(dt,15);q[ye-dt-1]=Et-$n-1,q[ye+dt]=Et+$n+1}}let Ce=new Re(ie);for(let ye=0,Et=0;ye<m;ye++){let dt=(m-ye)*4+(h?9:12);for(let $n=0;$n<dt;$n++){let Er=$n*2;for(let vn=0;vn<2;vn++)D.get(Et+Er+vn)&&Ce.set(q[ye*2+vn],q[ye*2+$n]),D.get(Et+dt*2+Er+vn)&&Ce.set(q[ye*2+$n],q[K-1-ye*2-vn]),D.get(Et+dt*4+Er+vn)&&Ce.set(q[K-1-ye*2-vn],q[K-1-ye*2-$n]),D.get(Et+dt*6+Er+vn)&&Ce.set(q[K-1-ye*2-$n],q[ye*2+vn])}Et+=dt*8}if(_t.drawModeMessage(Ce,h,ie,G),h)_t.drawBullsEye(Ce,U.truncDivision(ie,2),5);else{_t.drawBullsEye(Ce,U.truncDivision(ie,2),7);for(let ye=0,Et=0;ye<U.truncDivision(K,2)-1;ye+=15,Et+=16)for(let dt=U.truncDivision(ie,2)&1;dt<ie;dt+=2)Ce.set(U.truncDivision(ie,2)-Et,dt),Ce.set(U.truncDivision(ie,2)+Et,dt),Ce.set(dt,U.truncDivision(ie,2)-Et),Ce.set(dt,U.truncDivision(ie,2)+Et)}let Ae=new il;return Ae.setCompact(h),Ae.setSize(ie),Ae.setLayers(m),Ae.setCodeWords(z),Ae.setMatrix(Ce),Ae}static drawBullsEye(e,n,i){for(let l=0;l<i;l+=2)for(let c=n-l;c<=n+l;c++)e.set(c,n-l),e.set(c,n+l),e.set(n-l,c),e.set(n+l,c);e.set(n-i,n-i),e.set(n-i+1,n-i),e.set(n-i,n-i+1),e.set(n+i,n-i),e.set(n+i,n-i+1),e.set(n+i,n+i-1)}static generateModeMessage(e,n,i){let l=new ne;return e?(l.appendBits(n-1,2),l.appendBits(i-1,6),l=_t.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(i-1,11),l=_t.generateCheckWords(l,40,4)),l}static drawModeMessage(e,n,i,l){let c=U.truncDivision(i,2);if(n)for(let u=0;u<7;u++){let h=c-3+u;l.get(u)&&e.set(h,c-5),l.get(u+7)&&e.set(c+5,h),l.get(20-u)&&e.set(h,c+5),l.get(27-u)&&e.set(c-5,h)}else for(let u=0;u<10;u++){let h=c-5+u+U.truncDivision(u,5);l.get(u)&&e.set(h,c-7),l.get(u+10)&&e.set(c+7,h),l.get(29-u)&&e.set(h,c+7),l.get(39-u)&&e.set(c-7,h)}}static generateCheckWords(e,n,i){let l=e.getSize()/i,c=new Yo(_t.getGF(i)),u=U.truncDivision(n,i),h=_t.bitsToWords(e,i,u);c.encode(h,u-l);let m=n%i,v=new ne;v.appendBits(0,m);for(const N of Array.from(h))v.appendBits(N,i);return v}static bitsToWords(e,n,i){let l=new Int32Array(i),c,u;for(c=0,u=e.getSize()/n;c<u;c++){let h=0;for(let m=0;m<n;m++)h|=e.get(c*n+m)?1<<n-m-1:0;l[c]=h}return l}static getGF(e){switch(e){case 4:return Pe.AZTEC_PARAM;case 6:return Pe.AZTEC_DATA_6;case 8:return Pe.AZTEC_DATA_8;case 10:return Pe.AZTEC_DATA_10;case 12:return Pe.AZTEC_DATA_12;default:throw new I("Unsupported word size "+e)}}static stuffBits(e,n){let i=new ne,l=e.getSize(),c=(1<<n)-2;for(let u=0;u<l;u+=n){let h=0;for(let m=0;m<n;m++)(u+m>=l||e.get(u+m))&&(h|=1<<n-1-m);(h&c)===c?(i.appendBits(h&c,n),u--):h&c?i.appendBits(h,n):(i.appendBits(h|1,n),u--)}return i}static totalBitsInLayer(e,n){return((n?88:112)+16*e)*e}}_t.DEFAULT_EC_PERCENT=33,_t.DEFAULT_AZTEC_LAYERS=0,_t.MAX_NB_BITS=32,_t.MAX_NB_BITS_COMPACT=4,_t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ks{encode(e,n,i,l){return this.encodeWithHints(e,n,i,l,null)}encodeWithHints(e,n,i,l,c){let u=Ko.ISO_8859_1,h=_t.DEFAULT_EC_PERCENT,m=_t.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(wn.CHARACTER_SET)&&(u=rl.forName(c.get(wn.CHARACTER_SET).toString())),c.has(wn.ERROR_CORRECTION)&&(h=U.parseInt(c.get(wn.ERROR_CORRECTION).toString())),c.has(wn.AZTEC_LAYERS)&&(m=U.parseInt(c.get(wn.AZTEC_LAYERS).toString()))),ks.encodeLayers(e,n,i,l,u,h,m)}static encodeLayers(e,n,i,l,c,u,h){if(n!==Ee.AZTEC)throw new I("Can only encode AZTEC, but got "+n);let m=_t.encode(Te.getBytes(e,c),u,h);return ks.renderResult(m,i,l)}static renderResult(e,n,i){let l=e.getMatrix();if(l==null)throw new Ft;let c=l.getWidth(),u=l.getHeight(),h=Math.max(n,c),m=Math.max(i,u),v=Math.min(h/c,m/u),N=(h-c*v)/2,P=(m-u*v)/2,D=new Re(h,m);for(let z=0,G=P;z<u;z++,G+=v)for(let K=0,q=N;K<c;K++,q+=v)l.get(K,z)&&D.setRegion(q,G,v,v);return D}}a.AbstractExpandedDecoder=ws,a.ArgumentException=b,a.ArithmeticException=yt,a.AztecCode=il,a.AztecCodeReader=Xt,a.AztecCodeWriter=ks,a.AztecDecoder=St,a.AztecDetector=jt,a.AztecDetectorResult=De,a.AztecEncoder=_t,a.AztecHighLevelEncoder=_s,a.AztecPoint=ct,a.BarcodeFormat=Ee,a.Binarizer=L,a.BinaryBitmap=R,a.BitArray=ne,a.BitMatrix=Re,a.BitSource=Vo,a.BrowserAztecCodeReader=xn,a.BrowserBarcodeReader=Fo,a.BrowserCodeReader=We,a.BrowserDatamatrixCodeReader=Dc,a.BrowserMultiFormatReader=Is,a.BrowserPDF417Reader=io,a.BrowserQRCodeReader=nl,a.BrowserQRCodeSvgWriter=Ai,a.CharacterSetECI=Q,a.ChecksumException=M,a.Code128Reader=be,a.Code39Reader=Vt,a.DataMatrixDecodedBitStreamParser=yr,a.DataMatrixReader=wr,a.DecodeHintType=le,a.DecoderResult=xt,a.DefaultGridSampler=Wt,a.DetectorResult=rt,a.EAN13Reader=Xn,a.EncodeHintType=wn,a.Exception=E,a.FormatException=X,a.GenericGF=Pe,a.GenericGFPoly=gt,a.GlobalHistogramBinarizer=Ve,a.GridSampler=qe,a.GridSamplerInstance=Ot,a.HTMLCanvasElementLuminanceSource=he,a.HybridBinarizer=ue,a.ITFReader=Tt,a.IllegalArgumentException=I,a.IllegalStateException=Ft,a.InvertedLuminanceSource=ge,a.LuminanceSource=fe,a.MathUtils=mt,a.MultiFormatOneDReader=sr,a.MultiFormatReader=ro,a.MultiFormatWriter=Bc,a.NotFoundException=J,a.OneDReader=Pt,a.PDF417DecodedBitStreamParser=se,a.PDF417DecoderErrorCorrection=Wo,a.PDF417Reader=kn,a.PDF417ResultMetadata=to,a.PerspectiveTransform=it,a.PlanarYUVLuminanceSource=kr,a.QRCodeByteMatrix=so,a.QRCodeDataMask=wt,a.QRCodeDecodedBitStreamParser=Zt,a.QRCodeDecoderErrorCorrectionLevel=zt,a.QRCodeDecoderFormatInformation=Nn,a.QRCodeEncoder=Ht,a.QRCodeEncoderQRCode=Ei,a.QRCodeMaskUtil=$t,a.QRCodeMatrixUtil=Qe,a.QRCodeMode=$e,a.QRCodeReader=jn,a.QRCodeVersion=Ye,a.QRCodeWriter=Yi,a.RGBLuminanceSource=Ns,a.RSS14Reader=It,a.RSSExpandedReader=pe,a.ReaderException=Xi,a.ReedSolomonDecoder=Gt,a.ReedSolomonEncoder=Yo,a.ReedSolomonException=At,a.Result=Ue,a.ResultMetadataType=Fe,a.ResultPoint=Ie,a.StringUtils=Te,a.UnsupportedOperationException=_e,a.VideoInputDevice=Z,a.WhiteRectangleDetector=Oe,a.WriterException=Ut,a.ZXingArrays=H,a.ZXingCharset=rl,a.ZXingInteger=U,a.ZXingStandardCharsets=Ko,a.ZXingStringBuilder=Ne,a.ZXingStringEncoding=ke,a.ZXingSystem=F,a.createAbstractExpandedDecoder=Ke,Object.defineProperty(a,"__esModule",{value:!0})})}(Sa,Sa.exports)),Sa.exports}Hy();var od=function(){var r=function(o,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])},r(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}(),eg=function(){function r(o,a){this.name=o,this.track=a}return r.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},r.prototype.apply=function(o){var a={};a[this.name]=o;var d={advanced:[a]};return this.track.applyConstraints(d)},r.prototype.value=function(){var o=this.track.getSettings();if(this.name in o){var a=o[this.name];return a}return null},r}(),Gy=function(r){od(o,r);function o(a,d){return r.call(this,a,d)||this}return o.prototype.min=function(){return this.getCapabilities().min},o.prototype.max=function(){return this.getCapabilities().max},o.prototype.step=function(){return this.getCapabilities().step},o.prototype.apply=function(a){var d={};d[this.name]=a;var p={advanced:[d]};return this.track.applyConstraints(p)},o.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),d=a[this.name];return{min:d.min,max:d.max,step:d.step}},o.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},o}(eg);(function(r){od(o,r);function o(a){return r.call(this,"zoom",a)||this}return o})(Gy);(function(r){od(o,r);function o(a){return r.call(this,"torch",a)||this}return o})(eg);var u1;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.NOT_STARTED=1]="NOT_STARTED",r[r.SCANNING=2]="SCANNING",r[r.PAUSED=3]="PAUSED"})(u1||(u1={}));var Xy=function(){var r=function(o,a){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&(d[x]=p[x])},r(o,a)};return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");r(o,a);function d(){this.constructor=o}o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)}}();(function(r){Xy(o,r);function o(){return r!==null&&r.apply(this,arguments)||this}return o.DEFAULT_WIDTH=300,o.DEFAULT_WIDTH_OFFSET=2,o.FILE_SCAN_MIN_HEIGHT=300,o.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,o.MIN_QR_BOX_SIZE=50,o.SHADED_LEFT=1,o.SHADED_RIGHT=2,o.SHADED_TOP=3,o.SHADED_BOTTOM=4,o.SHADED_REGION_ELEMENT_ID="qr-shaded-region",o.VERBOSE=!1,o.BORDER_SHADER_DEFAULT_COLOR="#ffffff",o.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",o})(Uy);var f1;(function(r){r[r.STATUS_DEFAULT=0]="STATUS_DEFAULT",r[r.STATUS_SUCCESS=1]="STATUS_SUCCESS",r[r.STATUS_WARNING=2]="STATUS_WARNING",r[r.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(f1||(f1={}));const Yy=({user:r,onProfileClick:o})=>{const a=Ir();return S.jsx("div",{children:S.jsx("div",{style:{position:"absolute",top:"45px",display:"flex",alignItems:"center",width:"94%",height:"10px",left:"3%"},children:r==null?S.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[S.jsx("button",{className:"login-button",onClick:()=>a("/login"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:S.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Login"})}),S.jsx("button",{className:"login-button",onClick:()=>a("/signup"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:S.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Sign up"})})]}):S.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[S.jsx("button",{className:"login-button",onClick:()=>a("/logout"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:S.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Logout"})}),S.jsx("button",{className:"login-button",onClick:o,style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:S.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Profile"})})]})})})},ad=_.createContext({});function ld(r){const o=_.useRef(null);return o.current===null&&(o.current=r()),o.current}const cd=typeof window<"u",tg=cd?_.useLayoutEffect:_.useEffect,Rc=_.createContext(null),ud=_.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class Ky extends _.Component{getSnapshotBeforeUpdate(o){const a=this.props.childRef.current;if(a&&o.isPresent&&!this.props.isPresent){const d=a.offsetParent,p=d instanceof HTMLElement&&d.offsetWidth||0,x=this.props.sizeRef.current;x.height=a.offsetHeight||0,x.width=a.offsetWidth||0,x.top=a.offsetTop,x.left=a.offsetLeft,x.right=p-x.width-x.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Zy({children:r,isPresent:o,anchorX:a}){const d=_.useId(),p=_.useRef(null),x=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=_.useContext(ud);return _.useInsertionEffect(()=>{const{width:A,height:w,top:E,left:b,right:I}=x.current;if(o||!p.current||!A||!w)return;const R=a==="left"?`left: ${b}`:`right: ${I}`;p.current.dataset.motionPopId=d;const M=document.createElement("style");return y&&(M.nonce=y),document.head.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${A}px !important;
            height: ${w}px !important;
            ${R}px !important;
            top: ${E}px !important;
          }
        `),()=>{document.head.removeChild(M)}},[o]),S.jsx(Ky,{isPresent:o,childRef:p,sizeRef:x,children:_.cloneElement(r,{ref:p})})}const $y=({children:r,initial:o,isPresent:a,onExitComplete:d,custom:p,presenceAffectsLayout:x,mode:y,anchorX:A})=>{const w=ld(qy),E=_.useId(),b=_.useCallback(R=>{w.set(R,!0);for(const M of w.values())if(!M)return;d&&d()},[w,d]),I=_.useMemo(()=>({id:E,initial:o,isPresent:a,custom:p,onExitComplete:b,register:R=>(w.set(R,!1),()=>w.delete(R))}),x?[Math.random(),b]:[a,b]);return _.useMemo(()=>{w.forEach((R,M)=>w.set(M,!1))},[a]),_.useEffect(()=>{!a&&!w.size&&d&&d()},[a]),y==="popLayout"&&(r=S.jsx(Zy,{isPresent:a,anchorX:A,children:r})),S.jsx(Rc.Provider,{value:I,children:r})};function qy(){return new Map}function ng(r=!0){const o=_.useContext(Rc);if(o===null)return[!0,null];const{isPresent:a,onExitComplete:d,register:p}=o,x=_.useId();_.useEffect(()=>{if(r)return p(x)},[r]);const y=_.useCallback(()=>r&&d&&d(x),[x,d,r]);return!a&&d?[!1,y]:[!0]}const nc=r=>r.key||"";function d1(r){const o=[];return _.Children.forEach(r,a=>{_.isValidElement(a)&&o.push(a)}),o}const h1=({children:r,custom:o,initial:a=!0,onExitComplete:d,presenceAffectsLayout:p=!0,mode:x="sync",propagate:y=!1,anchorX:A="left"})=>{const[w,E]=ng(y),b=_.useMemo(()=>d1(r),[r]),I=y&&!w?[]:b.map(nc),R=_.useRef(!0),M=_.useRef(b),L=ld(()=>new Map),[F,B]=_.useState(b),[V,H]=_.useState(b);tg(()=>{R.current=!1,M.current=b;for(let oe=0;oe<V.length;oe++){const le=nc(V[oe]);I.includes(le)?L.delete(le):L.get(le)!==!0&&L.set(le,!1)}},[V,I.length,I.join("-")]);const U=[];if(b!==F){let oe=[...b];for(let le=0;le<V.length;le++){const X=V[le],ce=nc(X);I.includes(ce)||(oe.splice(le,0,X),U.push(X))}return x==="wait"&&U.length&&(oe=U),H(d1(oe)),B(b),null}const{forceRender:ne}=_.useContext(ad);return S.jsx(S.Fragment,{children:V.map(oe=>{const le=nc(oe),X=y&&!w?!1:b===V||I.includes(le),ce=()=>{if(L.has(le))L.set(le,!0);else return;let Q=!0;L.forEach(_e=>{_e||(Q=!1)}),Q&&(ne==null||ne(),H(M.current),y&&(E==null||E()),d&&d())};return S.jsx($y,{isPresent:X,initial:!R.current||a?void 0:!1,custom:o,presenceAffectsLayout:p,mode:x,onExitComplete:X?void 0:ce,anchorX:A,children:oe},le)})})};function fd(r,o){r.indexOf(o)===-1&&r.push(o)}function dd(r,o){const a=r.indexOf(o);a>-1&&r.splice(a,1)}let rg=()=>{};const Qy={useManualTiming:!1};function hd(r){let o;return()=>(o===void 0&&(o=r()),o)}const Vr=r=>r,Ma=(r,o,a)=>{const d=o-r;return d===0?1:(a-r)/d};class pd{constructor(){this.subscriptions=[]}add(o){return fd(this.subscriptions,o),()=>dd(this.subscriptions,o)}notify(o,a,d){const p=this.subscriptions.length;if(p)if(p===1)this.subscriptions[0](o,a,d);else for(let x=0;x<p;x++){const y=this.subscriptions[x];y&&y(o,a,d)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const fi=r=>r*1e3,di=r=>r/1e3;function ig(r,o){return o?r*(1e3/o):0}const Jy=hd(()=>window.ScrollTimeline!==void 0);class ew{constructor(o){this.stop=()=>this.runAll("stop"),this.animations=o.filter(Boolean)}get finished(){return Promise.all(this.animations.map(o=>o.finished))}getAll(o){return this.animations[0][o]}setAll(o,a){for(let d=0;d<this.animations.length;d++)this.animations[d][o]=a}attachTimeline(o,a){const d=this.animations.map(p=>{if(Jy()&&p.attachTimeline)return p.attachTimeline(o);if(typeof a=="function")return a(p)});return()=>{d.forEach((p,x)=>{p&&p(),this.animations[x].stop()})}}get time(){return this.getAll("time")}set time(o){this.setAll("time",o)}get speed(){return this.getAll("speed")}set speed(o){this.setAll("speed",o)}get startTime(){return this.getAll("startTime")}get duration(){let o=0;for(let a=0;a<this.animations.length;a++)o=Math.max(o,this.animations[a].duration);return o}runAll(o){this.animations.forEach(a=>a[o]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tw extends ew{then(o,a){return this.finished.finally(o).then(()=>{})}}const p1={value:null},gd=r=>Array.isArray(r)&&typeof r[0]=="number",nw={};function rw(r,o){const a=hd(r);return()=>nw[o]??a()}const Da=rw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sg=(r,o,a=10)=>{let d="";const p=Math.max(Math.round(o/a),2);for(let x=0;x<p;x++)d+=r(x/(p-1))+", ";return`linear(${d.substring(0,d.length-2)})`},Ta=([r,o,a,d])=>`cubic-bezier(${r}, ${o}, ${a}, ${d})`,_f={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ta([0,.65,.55,1]),circOut:Ta([.55,0,1,.45]),backIn:Ta([.31,.01,.66,-.59]),backOut:Ta([.33,1.53,.69,.99])};function og(r,o){if(r)return typeof r=="function"&&Da()?sg(r,o):gd(r)?Ta(r):Array.isArray(r)?r.map(a=>og(a,o)||_f.easeOut):_f[r]}function iw(r,o,a,{delay:d=0,duration:p=300,repeat:x=0,repeatType:y="loop",ease:A="easeInOut",times:w}={},E=void 0){const b={[o]:a};w&&(b.offset=w);const I=og(A,p);return Array.isArray(I)&&(b.easing=I),r.animate(b,{delay:d,duration:p,easing:Array.isArray(I)?"linear":I,fill:"both",iterations:x+1,direction:y==="reverse"?"alternate":"normal",pseudoElement:E})}function md(r){return typeof r=="function"&&"applyToOptions"in r}function xd(r,o){return(r==null?void 0:r[o])??(r==null?void 0:r.default)??r}const xc=2e4;function yd(r){let o=0;const a=50;let d=r.next(o);for(;!d.done&&o<xc;)o+=a,d=r.next(o);return o>=xc?1/0:o}function sw(r,o=100,a){const d=a({...r,keyframes:[0,o]}),p=Math.min(yd(d),xc);return{type:"keyframes",ease:x=>d.next(p*x).value/o,duration:di(p)}}function ag(r){return!!(typeof r=="function"&&Da()||!r||typeof r=="string"&&(r in _f||Da())||gd(r)||Array.isArray(r)&&r.every(ag))}function g1(r,o){r.timeline=o,r.onfinish=null}const rc=["read","resolveKeyframes","update","preRender","render","postRender"];function ow(r,o){let a=new Set,d=new Set,p=!1,x=!1;const y=new WeakSet;let A={delta:0,timestamp:0,isProcessing:!1},w=0;function E(I){y.has(I)&&(b.schedule(I),r()),w++,I(A)}const b={schedule:(I,R=!1,M=!1)=>{const F=M&&p?a:d;return R&&y.add(I),F.has(I)||F.add(I),I},cancel:I=>{d.delete(I),y.delete(I)},process:I=>{if(A=I,p){x=!0;return}p=!0,[a,d]=[d,a],a.forEach(E),o&&p1.value&&p1.value.frameloop[o].push(w),w=0,a.clear(),p=!1,x&&(x=!1,b.process(I))}};return b}const aw=40;function lg(r,o){let a=!1,d=!0;const p={delta:0,timestamp:0,isProcessing:!1},x=()=>a=!0,y=rc.reduce((V,H)=>(V[H]=ow(x,o?H:void 0),V),{}),{read:A,resolveKeyframes:w,update:E,preRender:b,render:I,postRender:R}=y,M=()=>{const V=performance.now();a=!1,p.delta=d?1e3/60:Math.max(Math.min(V-p.timestamp,aw),1),p.timestamp=V,p.isProcessing=!0,A.process(p),w.process(p),E.process(p),b.process(p),I.process(p),R.process(p),p.isProcessing=!1,a&&o&&(d=!1,r(M))},L=()=>{a=!0,d=!0,p.isProcessing||r(M)};return{schedule:rc.reduce((V,H)=>{const U=y[H];return V[H]=(ne,oe=!1,le=!1)=>(a||L(),U.schedule(ne,oe,le)),V},{}),cancel:V=>{for(let H=0;H<rc.length;H++)y[rc[H]].cancel(V)},state:p,steps:y}}const{schedule:Qt,cancel:ps,state:Gn,steps:pf}=lg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0),{schedule:wd}=lg(queueMicrotask,!1);let uc;function lw(){uc=void 0}const hi={now:()=>(uc===void 0&&hi.set(Gn.isProcessing||Qy.useManualTiming?Gn.timestamp:performance.now()),uc),set:r=>{uc=r,queueMicrotask(lw)}},Jr={x:!1,y:!1};function cg(){return Jr.x||Jr.y}function cw(r){return r==="x"||r==="y"?Jr[r]?null:(Jr[r]=!0,()=>{Jr[r]=!1}):Jr.x||Jr.y?null:(Jr.x=Jr.y=!0,()=>{Jr.x=Jr.y=!1})}function uw(r,o,a){if(r instanceof EventTarget)return[r];if(typeof r=="string"){const p=document.querySelectorAll(r);return p?Array.from(p):[]}return Array.from(r)}function ug(r,o){const a=uw(r),d=new AbortController,p={passive:!0,...o,signal:d.signal};return[a,p,()=>d.abort()]}function m1(r){return!(r.pointerType==="touch"||cg())}function fw(r,o,a={}){const[d,p,x]=ug(r,a),y=A=>{if(!m1(A))return;const{target:w}=A,E=o(w,A);if(typeof E!="function"||!w)return;const b=I=>{m1(I)&&(E(I),w.removeEventListener("pointerleave",b))};w.addEventListener("pointerleave",b,p)};return d.forEach(A=>{A.addEventListener("pointerenter",y,p)}),x}const fg=(r,o)=>o?r===o?!0:fg(r,o.parentElement):!1,vd=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,dw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hw(r){return dw.has(r.tagName)||r.tabIndex!==-1}const Ia=new WeakSet;function x1(r){return o=>{o.key==="Enter"&&r(o)}}function gf(r,o){r.dispatchEvent(new PointerEvent("pointer"+o,{isPrimary:!0,bubbles:!0}))}const pw=(r,o)=>{const a=r.currentTarget;if(!a)return;const d=x1(()=>{if(Ia.has(a))return;gf(a,"down");const p=x1(()=>{gf(a,"up")}),x=()=>gf(a,"cancel");a.addEventListener("keyup",p,o),a.addEventListener("blur",x,o)});a.addEventListener("keydown",d,o),a.addEventListener("blur",()=>a.removeEventListener("keydown",d),o)};function y1(r){return vd(r)&&!cg()}function gw(r,o,a={}){const[d,p,x]=ug(r,a),y=A=>{const w=A.currentTarget;if(!y1(A)||Ia.has(w))return;Ia.add(w);const E=o(w,A),b=(M,L)=>{window.removeEventListener("pointerup",I),window.removeEventListener("pointercancel",R),!(!y1(M)||!Ia.has(w))&&(Ia.delete(w),typeof E=="function"&&E(M,{success:L}))},I=M=>{b(M,w===window||w===document||a.useGlobalTarget||fg(w,M.target))},R=M=>{b(M,!1)};window.addEventListener("pointerup",I,p),window.addEventListener("pointercancel",R,p)};return d.forEach(A=>{(a.useGlobalTarget?window:A).addEventListener("pointerdown",y,p),A instanceof HTMLElement&&(A.addEventListener("focus",E=>pw(E,p)),!hw(A)&&!A.hasAttribute("tabindex")&&(A.tabIndex=0))}),x}const w1=30,mw=r=>!isNaN(parseFloat(r));class xw{constructor(o,a={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(d,p=!0)=>{const x=hi.now();this.updatedAt!==x&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(d),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),p&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(o),this.owner=a.owner}setCurrent(o){this.current=o,this.updatedAt=hi.now(),this.canTrackVelocity===null&&o!==void 0&&(this.canTrackVelocity=mw(this.current))}setPrevFrameValue(o=this.current){this.prevFrameValue=o,this.prevUpdatedAt=this.updatedAt}onChange(o){return this.on("change",o)}on(o,a){this.events[o]||(this.events[o]=new pd);const d=this.events[o].add(a);return o==="change"?()=>{d(),Qt.read(()=>{this.events.change.getSize()||this.stop()})}:d}clearListeners(){for(const o in this.events)this.events[o].clear()}attach(o,a){this.passiveEffect=o,this.stopPassiveEffect=a}set(o,a=!0){!a||!this.passiveEffect?this.updateAndNotify(o,a):this.passiveEffect(o,this.updateAndNotify)}setWithVelocity(o,a,d){this.set(a),this.prev=void 0,this.prevFrameValue=o,this.prevUpdatedAt=this.updatedAt-d}jump(o,a=!0){this.updateAndNotify(o),this.prev=o,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const o=hi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||o-this.updatedAt>w1)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,w1);return ig(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(o){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=o(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(r,o){return new xw(r,o)}const dg=_.createContext({strict:!1}),v1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Po={};for(const r in v1)Po[r]={isEnabled:o=>v1[r].some(a=>!!o[a])};function yw(r){for(const o in r)Po[o]={...Po[o],...r[o]}}const ww=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yc(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||ww.has(r)}let hg=r=>!yc(r);function vw(r){r&&(hg=o=>o.startsWith("on")?!yc(o):r(o))}try{vw(require("@emotion/is-prop-valid").default)}catch{}function Cw(r,o,a){const d={};for(const p in r)p==="values"&&typeof r.values=="object"||(hg(p)||a===!0&&yc(p)||!o&&!yc(p)||r.draggable&&p.startsWith("onDrag"))&&(d[p]=r[p]);return d}function Ew(r){if(typeof Proxy>"u")return r;const o=new Map,a=(...d)=>r(...d);return new Proxy(a,{get:(d,p)=>p==="create"?r:(o.has(p)||o.set(p,r(p)),o.get(p))})}const _c=_.createContext({});function kc(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Ba(r){return typeof r=="string"||Array.isArray(r)}const Cd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ed=["initial",...Cd];function Pc(r){return kc(r.animate)||Ed.some(o=>Ba(r[o]))}function pg(r){return!!(Pc(r)||r.variants)}function Aw(r,o){if(Pc(r)){const{initial:a,animate:d}=r;return{initial:a===!1||Ba(a)?a:void 0,animate:Ba(d)?d:void 0}}return r.inherit!==!1?o:{}}function bw(r){const{initial:o,animate:a}=Aw(r,_.useContext(_c));return _.useMemo(()=>({initial:o,animate:a}),[C1(o),C1(a)])}function C1(r){return Array.isArray(r)?r.join(" "):r}const Sw=Symbol.for("motionComponentSymbol");function So(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Tw(r,o,a){return _.useCallback(d=>{d&&r.onMount&&r.onMount(d),o&&(d?o.mount(d):o.unmount()),a&&(typeof a=="function"?a(d):So(a)&&(a.current=d))},[o])}const Ad=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Iw="framerAppearId",gg="data-"+Ad(Iw),mg=_.createContext({});function Nw(r,o,a,d,p){var F,B;const{visualElement:x}=_.useContext(_c),y=_.useContext(dg),A=_.useContext(Rc),w=_.useContext(ud).reducedMotion,E=_.useRef(null);d=d||y.renderer,!E.current&&d&&(E.current=d(r,{visualState:o,parent:x,props:a,presenceContext:A,blockInitialAnimation:A?A.initial===!1:!1,reducedMotionConfig:w}));const b=E.current,I=_.useContext(mg);b&&!b.projection&&p&&(b.type==="html"||b.type==="svg")&&Rw(E.current,a,p,I);const R=_.useRef(!1);_.useInsertionEffect(()=>{b&&R.current&&b.update(a,A)});const M=a[gg],L=_.useRef(!!M&&!((F=window.MotionHandoffIsComplete)!=null&&F.call(window,M))&&((B=window.MotionHasOptimisedAnimation)==null?void 0:B.call(window,M)));return tg(()=>{b&&(R.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),wd.render(b.render),L.current&&b.animationState&&b.animationState.animateChanges())}),_.useEffect(()=>{b&&(!L.current&&b.animationState&&b.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)==null||V.call(window,M)}),L.current=!1))}),b}function Rw(r,o,a,d){const{layoutId:p,layout:x,drag:y,dragConstraints:A,layoutScroll:w,layoutRoot:E}=o;r.projection=new a(r.latestValues,o["data-framer-portal-id"]?void 0:xg(r.parent)),r.projection.setOptions({layoutId:p,layout:x,alwaysMeasureLayout:!!y||A&&So(A),visualElement:r,animationType:typeof x=="string"?x:"both",initialPromotionConfig:d,layoutScroll:w,layoutRoot:E})}function xg(r){if(r)return r.options.allowProjection!==!1?r.projection:xg(r.parent)}function _w({preloadedFeatures:r,createVisualElement:o,useRender:a,useVisualState:d,Component:p}){r&&yw(r);function x(A,w){let E;const b={..._.useContext(ud),...A,layoutId:kw(A)},{isStatic:I}=b,R=bw(A),M=d(A,I);if(!I&&cd){Pw();const L=Ow(b);E=L.MeasureLayout,R.visualElement=Nw(p,M,b,o,L.ProjectionNode)}return S.jsxs(_c.Provider,{value:R,children:[E&&R.visualElement?S.jsx(E,{visualElement:R.visualElement,...b}):null,a(p,A,Tw(M,R.visualElement,w),M,I,R.visualElement)]})}x.displayName=`motion.${typeof p=="string"?p:`create(${p.displayName??p.name??""})`}`;const y=_.forwardRef(x);return y[Sw]=p,y}function kw({layoutId:r}){const o=_.useContext(ad).id;return o&&r!==void 0?o+"-"+r:r}function Pw(r,o){_.useContext(dg).strict}function Ow(r){const{drag:o,layout:a}=Po;if(!o&&!a)return{};const d={...o,...a};return{MeasureLayout:o!=null&&o.isEnabled(r)||a!=null&&a.isEnabled(r)?d.MeasureLayout:void 0,ProjectionNode:d.ProjectionNode}}const yg=r=>o=>typeof o=="string"&&o.startsWith(r),bd=yg("--"),Mw=yg("var(--"),Sd=r=>Mw(r)?Dw.test(r.split("/*")[0].trim()):!1,Dw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fa={};function Lw(r){for(const o in r)Fa[o]=r[o],bd(o)&&(Fa[o].isCSSVariable=!0)}const Lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(Lo);function wg(r,{layout:o,layoutId:a}){return qs.has(r)||r.startsWith("origin")||(o||a!==void 0)&&(!!Fa[r]||r==="opacity")}const nr=r=>!!(r&&r.getVelocity),vg=(r,o)=>o&&typeof r=="number"?o.transform(r):r,Li=(r,o,a)=>a>o?o:a<r?r:a,Bo={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},ja={...Bo,transform:r=>Li(0,1,r)},ic={...Bo,default:1},Xa=r=>({test:o=>typeof o=="string"&&o.endsWith(r)&&o.split(" ").length===1,parse:parseFloat,transform:o=>`${o}${r}`}),fs=Xa("deg"),pi=Xa("%"),st=Xa("px"),Bw=Xa("vh"),Fw=Xa("vw"),E1={...pi,parse:r=>pi.parse(r)/100,transform:r=>pi.transform(r*100)},jw={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st},Vw={rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:ic,scaleX:ic,scaleY:ic,scaleZ:ic,skew:fs,skewX:fs,skewY:fs,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:ja,originX:E1,originY:E1,originZ:st},A1={...Bo,transform:Math.round},Td={...jw,...Vw,zIndex:A1,size:st,fillOpacity:ja,strokeOpacity:ja,numOctaves:A1},zw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uw=Lo.length;function Ww(r,o,a){let d="",p=!0;for(let x=0;x<Uw;x++){const y=Lo[x],A=r[y];if(A===void 0)continue;let w=!0;if(typeof A=="number"?w=A===(y.startsWith("scale")?1:0):w=parseFloat(A)===0,!w||a){const E=vg(A,Td[y]);if(!w){p=!1;const b=zw[y]||y;d+=`${b}(${E}) `}a&&(o[y]=E)}}return d=d.trim(),a?d=a(o,p?"":d):p&&(d="none"),d}function Id(r,o,a){const{style:d,vars:p,transformOrigin:x}=r;let y=!1,A=!1;for(const w in o){const E=o[w];if(qs.has(w)){y=!0;continue}else if(bd(w)){p[w]=E;continue}else{const b=vg(E,Td[w]);w.startsWith("origin")?(A=!0,x[w]=b):d[w]=b}}if(o.transform||(y||a?d.transform=Ww(o,r.transform,a):d.transform&&(d.transform="none")),A){const{originX:w="50%",originY:E="50%",originZ:b=0}=x;d.transformOrigin=`${w} ${E} ${b}`}}const Nd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Cg(r,o,a){for(const d in o)!nr(o[d])&&!wg(d,a)&&(r[d]=o[d])}function Hw({transformTemplate:r},o){return _.useMemo(()=>{const a=Nd();return Id(a,o,r),Object.assign({},a.vars,a.style)},[o])}function Gw(r,o){const a=r.style||{},d={};return Cg(d,a,r),Object.assign(d,Hw(r,o)),d}function Xw(r,o){const a={},d=Gw(r,o);return r.drag&&r.dragListener!==!1&&(a.draggable=!1,d.userSelect=d.WebkitUserSelect=d.WebkitTouchCallout="none",d.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(a.tabIndex=0),a.style=d,a}const Yw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Rd(r){return typeof r!="string"||r.includes("-")?!1:!!(Yw.indexOf(r)>-1||/[A-Z]/u.test(r))}const Kw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zw={offset:"strokeDashoffset",array:"strokeDasharray"};function $w(r,o,a=1,d=0,p=!0){r.pathLength=1;const x=p?Kw:Zw;r[x.offset]=st.transform(-d);const y=st.transform(o),A=st.transform(a);r[x.array]=`${y} ${A}`}function b1(r,o,a){return typeof r=="string"?r:st.transform(o+a*r)}function qw(r,o,a){const d=b1(o,r.x,r.width),p=b1(a,r.y,r.height);return`${d} ${p}`}function _d(r,{attrX:o,attrY:a,attrScale:d,originX:p,originY:x,pathLength:y,pathSpacing:A=1,pathOffset:w=0,...E},b,I){if(Id(r,E,I),b){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:R,style:M,dimensions:L}=r;R.transform&&(L&&(M.transform=R.transform),delete R.transform),L&&(p!==void 0||x!==void 0||M.transform)&&(M.transformOrigin=qw(L,p!==void 0?p:.5,x!==void 0?x:.5)),o!==void 0&&(R.x=o),a!==void 0&&(R.y=a),d!==void 0&&(R.scale=d),y!==void 0&&$w(R,y,A,w,!1)}const Eg=()=>({...Nd(),attrs:{}}),kd=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Qw(r,o,a,d){const p=_.useMemo(()=>{const x=Eg();return _d(x,o,kd(d),r.transformTemplate),{...x.attrs,style:{...x.style}}},[o]);if(r.style){const x={};Cg(x,r.style,r),p.style={...x,...p.style}}return p}function Jw(r=!1){return(a,d,p,{latestValues:x},y)=>{const w=(Rd(a)?Qw:Xw)(d,x,y,a),E=Cw(d,typeof a=="string",r),b=a!==_.Fragment?{...E,...w,ref:p}:{},{children:I}=d,R=_.useMemo(()=>nr(I)?I.get():I,[I]);return _.createElement(a,{...b,children:R})}}function S1(r){const o=[{},{}];return r==null||r.values.forEach((a,d)=>{o[0][d]=a.get(),o[1][d]=a.getVelocity()}),o}function Pd(r,o,a,d){if(typeof o=="function"){const[p,x]=S1(d);o=o(a!==void 0?a:r.custom,p,x)}if(typeof o=="string"&&(o=r.variants&&r.variants[o]),typeof o=="function"){const[p,x]=S1(d);o=o(a!==void 0?a:r.custom,p,x)}return o}const kf=r=>Array.isArray(r),e3=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),t3=r=>kf(r)?r[r.length-1]||0:r;function fc(r){const o=nr(r)?r.get():r;return e3(o)?o.toValue():o}function n3({scrapeMotionValuesFromProps:r,createRenderState:o,onUpdate:a},d,p,x){const y={latestValues:r3(d,p,x,r),renderState:o()};return a&&(y.onMount=A=>a({props:d,current:A,...y}),y.onUpdate=A=>a(A)),y}const Ag=r=>(o,a)=>{const d=_.useContext(_c),p=_.useContext(Rc),x=()=>n3(r,o,d,p);return a?x():ld(x)};function r3(r,o,a,d){const p={},x=d(r,{});for(const R in x)p[R]=fc(x[R]);let{initial:y,animate:A}=r;const w=Pc(r),E=pg(r);o&&E&&!w&&r.inherit!==!1&&(y===void 0&&(y=o.initial),A===void 0&&(A=o.animate));let b=a?a.initial===!1:!1;b=b||y===!1;const I=b?A:y;if(I&&typeof I!="boolean"&&!kc(I)){const R=Array.isArray(I)?I:[I];for(let M=0;M<R.length;M++){const L=Pd(r,R[M]);if(L){const{transitionEnd:F,transition:B,...V}=L;for(const H in V){let U=V[H];if(Array.isArray(U)){const ne=b?U.length-1:0;U=U[ne]}U!==null&&(p[H]=U)}for(const H in F)p[H]=F[H]}}}return p}function Od(r,o,a){var x;const{style:d}=r,p={};for(const y in d)(nr(d[y])||o.style&&nr(o.style[y])||wg(y,r)||((x=a==null?void 0:a.getValue(y))==null?void 0:x.liveStyle)!==void 0)&&(p[y]=d[y]);return p}const i3={useVisualState:Ag({scrapeMotionValuesFromProps:Od,createRenderState:Nd})};function bg(r,o){try{o.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{o.dimensions={x:0,y:0,width:0,height:0}}}function Sg(r,{style:o,vars:a},d,p){Object.assign(r.style,o,p&&p.getProjectionStyles(d));for(const x in a)r.style.setProperty(x,a[x])}const Tg=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ig(r,o,a,d){Sg(r,o,void 0,d);for(const p in o.attrs)r.setAttribute(Tg.has(p)?p:Ad(p),o.attrs[p])}function Ng(r,o,a){const d=Od(r,o,a);for(const p in r)if(nr(r[p])||nr(o[p])){const x=Lo.indexOf(p)!==-1?"attr"+p.charAt(0).toUpperCase()+p.substring(1):p;d[x]=r[p]}return d}const T1=["x","y","width","height","cx","cy","r"],s3={useVisualState:Ag({scrapeMotionValuesFromProps:Ng,createRenderState:Eg,onUpdate:({props:r,prevProps:o,current:a,renderState:d,latestValues:p})=>{if(!a)return;let x=!!r.drag;if(!x){for(const A in p)if(qs.has(A)){x=!0;break}}if(!x)return;let y=!o;if(o)for(let A=0;A<T1.length;A++){const w=T1[A];r[w]!==o[w]&&(y=!0)}y&&Qt.read(()=>{bg(a,d),Qt.render(()=>{_d(d,p,kd(a.tagName),r.transformTemplate),Ig(a,d)})})}})};function o3(r,o){return function(d,{forwardMotionProps:p}={forwardMotionProps:!1}){const y={...Rd(d)?s3:i3,preloadedFeatures:r,useRender:Jw(p),createVisualElement:o,Component:d};return _w(y)}}function Va(r,o,a){const d=r.getProps();return Pd(d,o,a!==void 0?a:d.custom,r)}const Rg=new Set(["width","height","top","left","right","bottom",...Lo]);function a3(r,o,a){r.hasValue(o)?r.getValue(o).set(a):r.addValue(o,La(a))}function l3(r,o){const a=Va(r,o);let{transitionEnd:d={},transition:p={},...x}=a||{};x={...x,...d};for(const y in x){const A=t3(x[y]);a3(r,y,A)}}function c3(r){return!!(nr(r)&&r.add)}function Pf(r,o){const a=r.getValue("willChange");if(c3(a))return a.add(o)}function _g(r){return r.props[gg]}const kg=(r,o,a)=>(((1-3*a+3*o)*r+(3*a-6*o))*r+3*o)*r,u3=1e-7,f3=12;function d3(r,o,a,d,p){let x,y,A=0;do y=o+(a-o)/2,x=kg(y,d,p)-r,x>0?a=y:o=y;while(Math.abs(x)>u3&&++A<f3);return y}function Ya(r,o,a,d){if(r===o&&a===d)return Vr;const p=x=>d3(x,0,1,r,a);return x=>x===0||x===1?x:kg(p(x),o,d)}const Pg=r=>o=>o<=.5?r(2*o)/2:(2-r(2*(1-o)))/2,Og=r=>o=>1-r(1-o),Mg=Ya(.33,1.53,.69,.99),Md=Og(Mg),Dg=Pg(Md),Lg=r=>(r*=2)<1?.5*Md(r):.5*(2-Math.pow(2,-10*(r-1))),Dd=r=>1-Math.sin(Math.acos(r)),Bg=Og(Dd),Fg=Pg(Dd),jg=r=>/^0[^.\s]+$/u.test(r);function h3(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||jg(r):!0}const Na=r=>Math.round(r*1e5)/1e5,Ld=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function p3(r){return r==null}const g3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bd=(r,o)=>a=>!!(typeof a=="string"&&g3.test(a)&&a.startsWith(r)||o&&!p3(a)&&Object.prototype.hasOwnProperty.call(a,o)),Vg=(r,o,a)=>d=>{if(typeof d!="string")return d;const[p,x,y,A]=d.match(Ld);return{[r]:parseFloat(p),[o]:parseFloat(x),[a]:parseFloat(y),alpha:A!==void 0?parseFloat(A):1}},m3=r=>Li(0,255,r),mf={...Bo,transform:r=>Math.round(m3(r))},Xs={test:Bd("rgb","red"),parse:Vg("red","green","blue"),transform:({red:r,green:o,blue:a,alpha:d=1})=>"rgba("+mf.transform(r)+", "+mf.transform(o)+", "+mf.transform(a)+", "+Na(ja.transform(d))+")"};function x3(r){let o="",a="",d="",p="";return r.length>5?(o=r.substring(1,3),a=r.substring(3,5),d=r.substring(5,7),p=r.substring(7,9)):(o=r.substring(1,2),a=r.substring(2,3),d=r.substring(3,4),p=r.substring(4,5),o+=o,a+=a,d+=d,p+=p),{red:parseInt(o,16),green:parseInt(a,16),blue:parseInt(d,16),alpha:p?parseInt(p,16)/255:1}}const Of={test:Bd("#"),parse:x3,transform:Xs.transform},To={test:Bd("hsl","hue"),parse:Vg("hue","saturation","lightness"),transform:({hue:r,saturation:o,lightness:a,alpha:d=1})=>"hsla("+Math.round(r)+", "+pi.transform(Na(o))+", "+pi.transform(Na(a))+", "+Na(ja.transform(d))+")"},tr={test:r=>Xs.test(r)||Of.test(r)||To.test(r),parse:r=>Xs.test(r)?Xs.parse(r):To.test(r)?To.parse(r):Of.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Xs.transform(r):To.transform(r)},y3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w3(r){var o,a;return isNaN(r)&&typeof r=="string"&&(((o=r.match(Ld))==null?void 0:o.length)||0)+(((a=r.match(y3))==null?void 0:a.length)||0)>0}const zg="number",Ug="color",v3="var",C3="var(",I1="${}",E3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function za(r){const o=r.toString(),a=[],d={color:[],number:[],var:[]},p=[];let x=0;const A=o.replace(E3,w=>(tr.test(w)?(d.color.push(x),p.push(Ug),a.push(tr.parse(w))):w.startsWith(C3)?(d.var.push(x),p.push(v3),a.push(w)):(d.number.push(x),p.push(zg),a.push(parseFloat(w))),++x,I1)).split(I1);return{values:a,split:A,indexes:d,types:p}}function Wg(r){return za(r).values}function Hg(r){const{split:o,types:a}=za(r),d=o.length;return p=>{let x="";for(let y=0;y<d;y++)if(x+=o[y],p[y]!==void 0){const A=a[y];A===zg?x+=Na(p[y]):A===Ug?x+=tr.transform(p[y]):x+=p[y]}return x}}const A3=r=>typeof r=="number"?0:r;function b3(r){const o=Wg(r);return Hg(r)(o.map(A3))}const gs={test:w3,parse:Wg,createTransformer:Hg,getAnimatableNone:b3},S3=new Set(["brightness","contrast","saturate","opacity"]);function T3(r){const[o,a]=r.slice(0,-1).split("(");if(o==="drop-shadow")return r;const[d]=a.match(Ld)||[];if(!d)return r;const p=a.replace(d,"");let x=S3.has(o)?1:0;return d!==a&&(x*=100),o+"("+x+p+")"}const I3=/\b([a-z-]*)\(.*?\)/gu,Mf={...gs,getAnimatableNone:r=>{const o=r.match(I3);return o?o.map(T3).join(" "):r}},N3={...Td,color:tr,backgroundColor:tr,outlineColor:tr,fill:tr,stroke:tr,borderColor:tr,borderTopColor:tr,borderRightColor:tr,borderBottomColor:tr,borderLeftColor:tr,filter:Mf,WebkitFilter:Mf},Gg=r=>N3[r];function Xg(r,o){let a=Gg(r);return a!==Mf&&(a=gs),a.getAnimatableNone?a.getAnimatableNone(o):void 0}const R3=new Set(["auto","none","0"]);function _3(r,o,a){let d=0,p;for(;d<r.length&&!p;){const x=r[d];typeof x=="string"&&!R3.has(x)&&za(x).values.length&&(p=r[d]),d++}if(p&&a)for(const x of o)r[x]=Xg(a,p)}const Ys=r=>r*180/Math.PI,Df=r=>{const o=Ys(Math.atan2(r[1],r[0]));return Lf(o)},k3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Df,rotateZ:Df,skewX:r=>Ys(Math.atan(r[1])),skewY:r=>Ys(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Lf=r=>(r=r%360,r<0&&(r+=360),r),N1=Df,R1=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),_1=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),P3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:R1,scaleY:_1,scale:r=>(R1(r)+_1(r))/2,rotateX:r=>Lf(Ys(Math.atan2(r[6],r[5]))),rotateY:r=>Lf(Ys(Math.atan2(-r[2],r[0]))),rotateZ:N1,rotate:N1,skewX:r=>Ys(Math.atan(r[4])),skewY:r=>Ys(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function k1(r){return r.includes("scale")?1:0}function Bf(r,o){if(!r||r==="none")return k1(o);const a=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let d,p;if(a)d=P3,p=a;else{const A=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);d=k3,p=A}if(!p)return k1(o);const x=d[o],y=p[1].split(",").map(M3);return typeof x=="function"?x(y):y[x]}const O3=(r,o)=>{const{transform:a="none"}=getComputedStyle(r);return Bf(a,o)};function M3(r){return parseFloat(r.trim())}const P1=r=>r===Bo||r===st,D3=new Set(["x","y","z"]),L3=Lo.filter(r=>!D3.has(r));function B3(r){const o=[];return L3.forEach(a=>{const d=r.getValue(a);d!==void 0&&(o.push([a,d.get()]),d.set(a.startsWith("scale")?1:0))}),o}const Oo={width:({x:r},{paddingLeft:o="0",paddingRight:a="0"})=>r.max-r.min-parseFloat(o)-parseFloat(a),height:({y:r},{paddingTop:o="0",paddingBottom:a="0"})=>r.max-r.min-parseFloat(o)-parseFloat(a),top:(r,{top:o})=>parseFloat(o),left:(r,{left:o})=>parseFloat(o),bottom:({y:r},{top:o})=>parseFloat(o)+(r.max-r.min),right:({x:r},{left:o})=>parseFloat(o)+(r.max-r.min),x:(r,{transform:o})=>Bf(o,"x"),y:(r,{transform:o})=>Bf(o,"y")};Oo.translateX=Oo.x;Oo.translateY=Oo.y;const Zs=new Set;let Ff=!1,jf=!1;function Yg(){if(jf){const r=Array.from(Zs).filter(d=>d.needsMeasurement),o=new Set(r.map(d=>d.element)),a=new Map;o.forEach(d=>{const p=B3(d);p.length&&(a.set(d,p),d.render())}),r.forEach(d=>d.measureInitialState()),o.forEach(d=>{d.render();const p=a.get(d);p&&p.forEach(([x,y])=>{var A;(A=d.getValue(x))==null||A.set(y)})}),r.forEach(d=>d.measureEndState()),r.forEach(d=>{d.suspendedScrollY!==void 0&&window.scrollTo(0,d.suspendedScrollY)})}jf=!1,Ff=!1,Zs.forEach(r=>r.complete()),Zs.clear()}function Kg(){Zs.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(jf=!0)})}function F3(){Kg(),Yg()}class Fd{constructor(o,a,d,p,x,y=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...o],this.onComplete=a,this.name=d,this.motionValue=p,this.element=x,this.isAsync=y}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Zs.add(this),Ff||(Ff=!0,Qt.read(Kg),Qt.resolveKeyframes(Yg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:o,name:a,element:d,motionValue:p}=this;for(let x=0;x<o.length;x++)if(o[x]===null)if(x===0){const y=p==null?void 0:p.get(),A=o[o.length-1];if(y!==void 0)o[0]=y;else if(d&&a){const w=d.readValue(a,A);w!=null&&(o[0]=w)}o[0]===void 0&&(o[0]=A),p&&y===void 0&&p.set(o[0])}else o[x]=o[x-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Zs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Zs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Zg=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),j3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V3(r){const o=j3.exec(r);if(!o)return[,];const[,a,d,p]=o;return[`--${a??d}`,p]}function $g(r,o,a=1){const[d,p]=V3(r);if(!d)return;const x=window.getComputedStyle(o).getPropertyValue(d);if(x){const y=x.trim();return Zg(y)?parseFloat(y):y}return Sd(p)?$g(p,o,a+1):p}const qg=r=>o=>o.test(r),z3={test:r=>r==="auto",parse:r=>r},Qg=[Bo,st,pi,fs,Fw,Bw,z3],O1=r=>Qg.find(qg(r));class Jg extends Fd{constructor(o,a,d,p,x){super(o,a,d,p,x,!0)}readKeyframes(){const{unresolvedKeyframes:o,element:a,name:d}=this;if(!a||!a.current)return;super.readKeyframes();for(let w=0;w<o.length;w++){let E=o[w];if(typeof E=="string"&&(E=E.trim(),Sd(E))){const b=$g(E,a.current);b!==void 0&&(o[w]=b),w===o.length-1&&(this.finalKeyframe=E)}}if(this.resolveNoneKeyframes(),!Rg.has(d)||o.length!==2)return;const[p,x]=o,y=O1(p),A=O1(x);if(y!==A)if(P1(y)&&P1(A))for(let w=0;w<o.length;w++){const E=o[w];typeof E=="string"&&(o[w]=parseFloat(E))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:o,name:a}=this,d=[];for(let p=0;p<o.length;p++)h3(o[p])&&d.push(p);d.length&&_3(o,d,a)}measureInitialState(){const{element:o,unresolvedKeyframes:a,name:d}=this;if(!o||!o.current)return;d==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oo[d](o.measureViewportBox(),window.getComputedStyle(o.current)),a[0]=this.measuredOrigin;const p=a[a.length-1];p!==void 0&&o.getValue(d,p).jump(p,!1)}measureEndState(){var A;const{element:o,name:a,unresolvedKeyframes:d}=this;if(!o||!o.current)return;const p=o.getValue(a);p&&p.jump(this.measuredOrigin,!1);const x=d.length-1,y=d[x];d[x]=Oo[a](o.measureViewportBox(),window.getComputedStyle(o.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),(A=this.removedTransforms)!=null&&A.length&&this.removedTransforms.forEach(([w,E])=>{o.getValue(w).set(E)}),this.resolveNoneKeyframes()}}const M1=(r,o)=>o==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(gs.test(r)||r==="0")&&!r.startsWith("url("));function U3(r){const o=r[0];if(r.length===1)return!0;for(let a=0;a<r.length;a++)if(r[a]!==o)return!0}function W3(r,o,a,d){const p=r[0];if(p===null)return!1;if(o==="display"||o==="visibility")return!0;const x=r[r.length-1],y=M1(p,o),A=M1(x,o);return!y||!A?!1:U3(r)||(a==="spring"||md(a))&&d}const H3=r=>r!==null;function Oc(r,{repeat:o,repeatType:a="loop"},d){const p=r.filter(H3),x=o&&a!=="loop"&&o%2===1?0:p.length-1;return!x||d===void 0?p[x]:d}const G3=40;class em{constructor({autoplay:o=!0,delay:a=0,type:d="keyframes",repeat:p=0,repeatDelay:x=0,repeatType:y="loop",...A}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=hi.now(),this.options={autoplay:o,delay:a,type:d,repeat:p,repeatDelay:x,repeatType:y,...A},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>G3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&F3(),this._resolved}onKeyframesResolved(o,a){this.resolvedAt=hi.now(),this.hasAttemptedResolve=!0;const{name:d,type:p,velocity:x,delay:y,onComplete:A,onUpdate:w,isGenerator:E}=this.options;if(!E&&!W3(o,d,p,x))if(y)this.options.duration=0;else{w&&w(Oc(o,this.options,a)),A&&A(),this.resolveFinishedPromise();return}const b=this.initPlayback(o,a);b!==!1&&(this._resolved={keyframes:o,finalKeyframe:a,...b},this.onPostResolved())}onPostResolved(){}then(o,a){return this.currentFinishedPromise.then(o,a)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(o=>{this.resolveFinishedPromise=o})}}const cn=(r,o,a)=>r+(o-r)*a;function xf(r,o,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?r+(o-r)*6*a:a<1/2?o:a<2/3?r+(o-r)*(2/3-a)*6:r}function X3({hue:r,saturation:o,lightness:a,alpha:d}){r/=360,o/=100,a/=100;let p=0,x=0,y=0;if(!o)p=x=y=a;else{const A=a<.5?a*(1+o):a+o-a*o,w=2*a-A;p=xf(w,A,r+1/3),x=xf(w,A,r),y=xf(w,A,r-1/3)}return{red:Math.round(p*255),green:Math.round(x*255),blue:Math.round(y*255),alpha:d}}function wc(r,o){return a=>a>0?o:r}const yf=(r,o,a)=>{const d=r*r,p=a*(o*o-d)+d;return p<0?0:Math.sqrt(p)},Y3=[Of,Xs,To],K3=r=>Y3.find(o=>o.test(r));function D1(r){const o=K3(r);if(!o)return!1;let a=o.parse(r);return o===To&&(a=X3(a)),a}const L1=(r,o)=>{const a=D1(r),d=D1(o);if(!a||!d)return wc(r,o);const p={...a};return x=>(p.red=yf(a.red,d.red,x),p.green=yf(a.green,d.green,x),p.blue=yf(a.blue,d.blue,x),p.alpha=cn(a.alpha,d.alpha,x),Xs.transform(p))},Z3=(r,o)=>a=>o(r(a)),Ka=(...r)=>r.reduce(Z3),Vf=new Set(["none","hidden"]);function $3(r,o){return Vf.has(r)?a=>a<=0?r:o:a=>a>=1?o:r}function q3(r,o){return a=>cn(r,o,a)}function jd(r){return typeof r=="number"?q3:typeof r=="string"?Sd(r)?wc:tr.test(r)?L1:ev:Array.isArray(r)?tm:typeof r=="object"?tr.test(r)?L1:Q3:wc}function tm(r,o){const a=[...r],d=a.length,p=r.map((x,y)=>jd(x)(x,o[y]));return x=>{for(let y=0;y<d;y++)a[y]=p[y](x);return a}}function Q3(r,o){const a={...r,...o},d={};for(const p in a)r[p]!==void 0&&o[p]!==void 0&&(d[p]=jd(r[p])(r[p],o[p]));return p=>{for(const x in d)a[x]=d[x](p);return a}}function J3(r,o){const a=[],d={color:0,var:0,number:0};for(let p=0;p<o.values.length;p++){const x=o.types[p],y=r.indexes[x][d[x]],A=r.values[y]??0;a[p]=A,d[x]++}return a}const ev=(r,o)=>{const a=gs.createTransformer(o),d=za(r),p=za(o);return d.indexes.var.length===p.indexes.var.length&&d.indexes.color.length===p.indexes.color.length&&d.indexes.number.length>=p.indexes.number.length?Vf.has(r)&&!p.values.length||Vf.has(o)&&!d.values.length?$3(r,o):Ka(tm(J3(d,p),p.values),a):wc(r,o)};function nm(r,o,a){return typeof r=="number"&&typeof o=="number"&&typeof a=="number"?cn(r,o,a):jd(r)(r,o)}const tv=5;function rm(r,o,a){const d=Math.max(o-tv,0);return ig(a-r(d),o-d)}const mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},B1=.001;function nv({duration:r=mn.duration,bounce:o=mn.bounce,velocity:a=mn.velocity,mass:d=mn.mass}){let p,x,y=1-o;y=Li(mn.minDamping,mn.maxDamping,y),r=Li(mn.minDuration,mn.maxDuration,di(r)),y<1?(p=E=>{const b=E*y,I=b*r,R=b-a,M=zf(E,y),L=Math.exp(-I);return B1-R/M*L},x=E=>{const I=E*y*r,R=I*a+a,M=Math.pow(y,2)*Math.pow(E,2)*r,L=Math.exp(-I),F=zf(Math.pow(E,2),y);return(-p(E)+B1>0?-1:1)*((R-M)*L)/F}):(p=E=>{const b=Math.exp(-E*r),I=(E-a)*r+1;return-.001+b*I},x=E=>{const b=Math.exp(-E*r),I=(a-E)*(r*r);return b*I});const A=5/r,w=iv(p,x,A);if(r=fi(r),isNaN(w))return{stiffness:mn.stiffness,damping:mn.damping,duration:r};{const E=Math.pow(w,2)*d;return{stiffness:E,damping:y*2*Math.sqrt(d*E),duration:r}}}const rv=12;function iv(r,o,a){let d=a;for(let p=1;p<rv;p++)d=d-r(d)/o(d);return d}function zf(r,o){return r*Math.sqrt(1-o*o)}const sv=["duration","bounce"],ov=["stiffness","damping","mass"];function F1(r,o){return o.some(a=>r[a]!==void 0)}function av(r){let o={velocity:mn.velocity,stiffness:mn.stiffness,damping:mn.damping,mass:mn.mass,isResolvedFromDuration:!1,...r};if(!F1(r,ov)&&F1(r,sv))if(r.visualDuration){const a=r.visualDuration,d=2*Math.PI/(a*1.2),p=d*d,x=2*Li(.05,1,1-(r.bounce||0))*Math.sqrt(p);o={...o,mass:mn.mass,stiffness:p,damping:x}}else{const a=nv(r);o={...o,...a,mass:mn.mass},o.isResolvedFromDuration=!0}return o}function vc(r=mn.visualDuration,o=mn.bounce){const a=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:o}:r;let{restSpeed:d,restDelta:p}=a;const x=a.keyframes[0],y=a.keyframes[a.keyframes.length-1],A={done:!1,value:x},{stiffness:w,damping:E,mass:b,duration:I,velocity:R,isResolvedFromDuration:M}=av({...a,velocity:-di(a.velocity||0)}),L=R||0,F=E/(2*Math.sqrt(w*b)),B=y-x,V=di(Math.sqrt(w/b)),H=Math.abs(B)<5;d||(d=H?mn.restSpeed.granular:mn.restSpeed.default),p||(p=H?mn.restDelta.granular:mn.restDelta.default);let U;if(F<1){const oe=zf(V,F);U=le=>{const X=Math.exp(-F*V*le);return y-X*((L+F*V*B)/oe*Math.sin(oe*le)+B*Math.cos(oe*le))}}else if(F===1)U=oe=>y-Math.exp(-V*oe)*(B+(L+V*B)*oe);else{const oe=V*Math.sqrt(F*F-1);U=le=>{const X=Math.exp(-F*V*le),ce=Math.min(oe*le,300);return y-X*((L+F*V*B)*Math.sinh(ce)+oe*B*Math.cosh(ce))/oe}}const ne={calculatedDuration:M&&I||null,next:oe=>{const le=U(oe);if(M)A.done=oe>=I;else{let X=0;F<1&&(X=oe===0?fi(L):rm(U,oe,le));const ce=Math.abs(X)<=d,Q=Math.abs(y-le)<=p;A.done=ce&&Q}return A.value=A.done?y:le,A},toString:()=>{const oe=Math.min(yd(ne),xc),le=sg(X=>ne.next(oe*X).value,oe,30);return oe+"ms "+le},toTransition:()=>{}};return ne}vc.applyToOptions=r=>{const o=sw(r,100,vc);return r.ease=Da()?o.ease:"easeOut",r.duration=fi(o.duration),r.type="keyframes",r};function j1({keyframes:r,velocity:o=0,power:a=.8,timeConstant:d=325,bounceDamping:p=10,bounceStiffness:x=500,modifyTarget:y,min:A,max:w,restDelta:E=.5,restSpeed:b}){const I=r[0],R={done:!1,value:I},M=ce=>A!==void 0&&ce<A||w!==void 0&&ce>w,L=ce=>A===void 0?w:w===void 0||Math.abs(A-ce)<Math.abs(w-ce)?A:w;let F=a*o;const B=I+F,V=y===void 0?B:y(B);V!==B&&(F=V-I);const H=ce=>-F*Math.exp(-ce/d),U=ce=>V+H(ce),ne=ce=>{const Q=H(ce),_e=U(ce);R.done=Math.abs(Q)<=E,R.value=R.done?V:_e};let oe,le;const X=ce=>{M(R.value)&&(oe=ce,le=vc({keyframes:[R.value,L(R.value)],velocity:rm(U,ce,R.value),damping:p,stiffness:x,restDelta:E,restSpeed:b}))};return X(0),{calculatedDuration:null,next:ce=>{let Q=!1;return!le&&oe===void 0&&(Q=!0,ne(ce),X(ce)),oe!==void 0&&ce>=oe?le.next(ce-oe):(!Q&&ne(ce),R)}}}const lv=Ya(.42,0,1,1),cv=Ya(0,0,.58,1),im=Ya(.42,0,.58,1),uv=r=>Array.isArray(r)&&typeof r[0]!="number",fv={linear:Vr,easeIn:lv,easeInOut:im,easeOut:cv,circIn:Dd,circInOut:Fg,circOut:Bg,backIn:Md,backInOut:Dg,backOut:Mg,anticipate:Lg},V1=r=>{if(gd(r)){rg(r.length===4);const[o,a,d,p]=r;return Ya(o,a,d,p)}else if(typeof r=="string")return fv[r];return r};function dv(r,o,a){const d=[],p=a||nm,x=r.length-1;for(let y=0;y<x;y++){let A=p(r[y],r[y+1]);if(o){const w=Array.isArray(o)?o[y]||Vr:o;A=Ka(w,A)}d.push(A)}return d}function hv(r,o,{clamp:a=!0,ease:d,mixer:p}={}){const x=r.length;if(rg(x===o.length),x===1)return()=>o[0];if(x===2&&o[0]===o[1])return()=>o[1];const y=r[0]===r[1];r[0]>r[x-1]&&(r=[...r].reverse(),o=[...o].reverse());const A=dv(o,d,p),w=A.length,E=b=>{if(y&&b<r[0])return o[0];let I=0;if(w>1)for(;I<r.length-2&&!(b<r[I+1]);I++);const R=Ma(r[I],r[I+1],b);return A[I](R)};return a?b=>E(Li(r[0],r[x-1],b)):E}function pv(r,o){const a=r[r.length-1];for(let d=1;d<=o;d++){const p=Ma(0,o,d);r.push(cn(a,1,p))}}function gv(r){const o=[0];return pv(o,r.length-1),o}function mv(r,o){return r.map(a=>a*o)}function xv(r,o){return r.map(()=>o||im).splice(0,r.length-1)}function Cc({duration:r=300,keyframes:o,times:a,ease:d="easeInOut"}){const p=uv(d)?d.map(V1):V1(d),x={done:!1,value:o[0]},y=mv(a&&a.length===o.length?a:gv(o),r),A=hv(y,o,{ease:Array.isArray(p)?p:xv(o,p)});return{calculatedDuration:r,next:w=>(x.value=A(w),x.done=w>=r,x)}}const yv=r=>{const o=({timestamp:a})=>r(a);return{start:()=>Qt.update(o,!0),stop:()=>ps(o),now:()=>Gn.isProcessing?Gn.timestamp:hi.now()}},wv={decay:j1,inertia:j1,tween:Cc,keyframes:Cc,spring:vc},vv=r=>r/100;class Vd extends em{constructor(o){super(o),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:w}=this.options;w&&w()};const{name:a,motionValue:d,element:p,keyframes:x}=this.options,y=(p==null?void 0:p.KeyframeResolver)||Fd,A=(w,E)=>this.onKeyframesResolved(w,E);this.resolver=new y(x,A,a,d,p),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(o){const{type:a="keyframes",repeat:d=0,repeatDelay:p=0,repeatType:x,velocity:y=0}=this.options,A=md(a)?a:wv[a]||Cc;let w,E;A!==Cc&&typeof o[0]!="number"&&(w=Ka(vv,nm(o[0],o[1])),o=[0,100]);const b=A({...this.options,keyframes:o});x==="mirror"&&(E=A({...this.options,keyframes:[...o].reverse(),velocity:-y})),b.calculatedDuration===null&&(b.calculatedDuration=yd(b));const{calculatedDuration:I}=b,R=I+p,M=R*(d+1)-p;return{generator:b,mirroredGenerator:E,mapPercentToKeyframes:w,calculatedDuration:I,resolvedDuration:R,totalDuration:M}}onPostResolved(){const{autoplay:o=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!o?this.pause():this.state=this.pendingPlayState}tick(o,a=!1){const{resolved:d}=this;if(!d){const{keyframes:ce}=this.options;return{done:!0,value:ce[ce.length-1]}}const{finalKeyframe:p,generator:x,mirroredGenerator:y,mapPercentToKeyframes:A,keyframes:w,calculatedDuration:E,totalDuration:b,resolvedDuration:I}=d;if(this.startTime===null)return x.next(0);const{delay:R,repeat:M,repeatType:L,repeatDelay:F,onUpdate:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,o):this.speed<0&&(this.startTime=Math.min(o-b/this.speed,this.startTime)),a?this.currentTime=o:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(o-this.startTime)*this.speed;const V=this.currentTime-R*(this.speed>=0?1:-1),H=this.speed>=0?V<0:V>b;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=b);let U=this.currentTime,ne=x;if(M){const ce=Math.min(this.currentTime,b)/I;let Q=Math.floor(ce),_e=ce%1;!_e&&ce>=1&&(_e=1),_e===1&&Q--,Q=Math.min(Q,M+1),!!(Q%2)&&(L==="reverse"?(_e=1-_e,F&&(_e-=F/I)):L==="mirror"&&(ne=y)),U=Li(0,1,_e)*I}const oe=H?{done:!1,value:w[0]}:ne.next(U);A&&(oe.value=A(oe.value));let{done:le}=oe;!H&&E!==null&&(le=this.speed>=0?this.currentTime>=b:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return X&&p!==void 0&&(oe.value=Oc(w,this.options,p)),B&&B(oe.value),X&&this.finish(),oe}get duration(){const{resolved:o}=this;return o?di(o.calculatedDuration):0}get time(){return di(this.currentTime)}set time(o){o=fi(o),this.currentTime=o,this.holdTime!==null||this.speed===0?this.holdTime=o:this.driver&&(this.startTime=this.driver.now()-o/this.speed)}get speed(){return this.playbackSpeed}set speed(o){const a=this.playbackSpeed!==o;this.playbackSpeed=o,a&&(this.time=di(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:o=yv,onPlay:a,startTime:d}=this.options;this.driver||(this.driver=o(x=>this.tick(x))),a&&a();const p=this.driver.now();this.holdTime!==null?this.startTime=p-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=p):this.startTime=d??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:o}=this.options;o&&o()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(o){return this.startTime=0,this.tick(o,!0)}get finished(){return this.currentFinishedPromise}}const Cv=new Set(["opacity","clipPath","filter","transform"]),Ev=hd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Ec=10,Av=2e4;function bv(r){return md(r.type)||r.type==="spring"||!ag(r.ease)}function Sv(r,o){const a=new Vd({...o,keyframes:r,repeat:0,delay:0,isGenerator:!0});let d={done:!1,value:r[0]};const p=[];let x=0;for(;!d.done&&x<Av;)d=a.sample(x),p.push(d.value),x+=Ec;return{times:void 0,keyframes:p,duration:x-Ec,ease:"linear"}}const sm={anticipate:Lg,backInOut:Dg,circInOut:Fg};function Tv(r){return r in sm}class z1 extends em{constructor(o){super(o);const{name:a,motionValue:d,element:p,keyframes:x}=this.options;this.resolver=new Jg(x,(y,A)=>this.onKeyframesResolved(y,A),a,d,p),this.resolver.scheduleResolve()}initPlayback(o,a){let{duration:d=300,times:p,ease:x,type:y,motionValue:A,name:w,startTime:E}=this.options;if(!A.owner||!A.owner.current)return!1;if(typeof x=="string"&&Da()&&Tv(x)&&(x=sm[x]),bv(this.options)){const{onComplete:I,onUpdate:R,motionValue:M,element:L,...F}=this.options,B=Sv(o,F);o=B.keyframes,o.length===1&&(o[1]=o[0]),d=B.duration,p=B.times,x=B.ease,y="keyframes"}const b=iw(A.owner.current,w,o,{...this.options,duration:d,times:p,ease:x});return b.startTime=E??this.calcStartTime(),this.pendingTimeline?(g1(b,this.pendingTimeline),this.pendingTimeline=void 0):b.onfinish=()=>{const{onComplete:I}=this.options;A.set(Oc(o,this.options,a)),I&&I(),this.cancel(),this.resolveFinishedPromise()},{animation:b,duration:d,times:p,type:y,ease:x,keyframes:o}}get duration(){const{resolved:o}=this;if(!o)return 0;const{duration:a}=o;return di(a)}get time(){const{resolved:o}=this;if(!o)return 0;const{animation:a}=o;return di(a.currentTime||0)}set time(o){const{resolved:a}=this;if(!a)return;const{animation:d}=a;d.currentTime=fi(o)}get speed(){const{resolved:o}=this;if(!o)return 1;const{animation:a}=o;return a.playbackRate}get finished(){return this.resolved.animation.finished}set speed(o){const{resolved:a}=this;if(!a)return;const{animation:d}=a;d.playbackRate=o}get state(){const{resolved:o}=this;if(!o)return"idle";const{animation:a}=o;return a.playState}get startTime(){const{resolved:o}=this;if(!o)return null;const{animation:a}=o;return a.startTime}attachTimeline(o){if(!this._resolved)this.pendingTimeline=o;else{const{resolved:a}=this;if(!a)return Vr;const{animation:d}=a;g1(d,o)}return Vr}play(){if(this.isStopped)return;const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.playState==="finished"&&this.updateFinishedPromise(),a.play()}pause(){const{resolved:o}=this;if(!o)return;const{animation:a}=o;a.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:o}=this;if(!o)return;const{animation:a,keyframes:d,duration:p,type:x,ease:y,times:A}=o;if(a.playState==="idle"||a.playState==="finished")return;if(this.time){const{motionValue:E,onUpdate:b,onComplete:I,element:R,...M}=this.options,L=new Vd({...M,keyframes:d,duration:p,type:x,ease:y,times:A,isGenerator:!0}),F=fi(this.time);E.setWithVelocity(L.sample(F-Ec).value,L.sample(F).value,Ec)}const{onStop:w}=this.options;w&&w(),this.cancel()}complete(){const{resolved:o}=this;o&&o.animation.finish()}cancel(){const{resolved:o}=this;o&&o.animation.cancel()}static supports(o){const{motionValue:a,name:d,repeatDelay:p,repeatType:x,damping:y,type:A}=o;if(!a||!a.owner||!(a.owner.current instanceof HTMLElement))return!1;const{onUpdate:w,transformTemplate:E}=a.owner.getProps();return Ev()&&d&&Cv.has(d)&&(d!=="transform"||!E)&&!w&&!p&&x!=="mirror"&&y!==0&&A!=="inertia"}}const Iv={type:"spring",stiffness:500,damping:25,restSpeed:10},Nv=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),Rv={type:"keyframes",duration:.8},_v={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kv=(r,{keyframes:o})=>o.length>2?Rv:qs.has(r)?r.startsWith("scale")?Nv(o[1]):Iv:_v;function Pv({when:r,delay:o,delayChildren:a,staggerChildren:d,staggerDirection:p,repeat:x,repeatType:y,repeatDelay:A,from:w,elapsed:E,...b}){return!!Object.keys(b).length}const zd=(r,o,a,d={},p,x)=>y=>{const A=xd(d,r)||{},w=A.delay||d.delay||0;let{elapsed:E=0}=d;E=E-fi(w);let b={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:o.getVelocity(),...A,delay:-E,onUpdate:R=>{o.set(R),A.onUpdate&&A.onUpdate(R)},onComplete:()=>{y(),A.onComplete&&A.onComplete()},name:r,motionValue:o,element:x?void 0:p};Pv(A)||(b={...b,...kv(r,b)}),b.duration&&(b.duration=fi(b.duration)),b.repeatDelay&&(b.repeatDelay=fi(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let I=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(b.duration=0,b.delay===0&&(I=!0)),b.allowFlatten=!A.type&&!A.ease,I&&!x&&o.get()!==void 0){const R=Oc(b.keyframes,A);if(R!==void 0)return Qt.update(()=>{b.onUpdate(R),b.onComplete()}),new tw([])}return!x&&z1.supports(b)?new z1(b):new Vd(b)};function Ov({protectedKeys:r,needsAnimating:o},a){const d=r.hasOwnProperty(a)&&o[a]!==!0;return o[a]=!1,d}function om(r,o,{delay:a=0,transitionOverride:d,type:p}={}){let{transition:x=r.getDefaultTransition(),transitionEnd:y,...A}=o;d&&(x=d);const w=[],E=p&&r.animationState&&r.animationState.getState()[p];for(const b in A){const I=r.getValue(b,r.latestValues[b]??null),R=A[b];if(R===void 0||E&&Ov(E,b))continue;const M={delay:a,...xd(x||{},b)};let L=!1;if(window.MotionHandoffAnimation){const B=_g(r);if(B){const V=window.MotionHandoffAnimation(B,b,Qt);V!==null&&(M.startTime=V,L=!0)}}Pf(r,b),I.start(zd(b,I,R,r.shouldReduceMotion&&Rg.has(b)?{type:!1}:M,r,L));const F=I.animation;F&&w.push(F)}return y&&Promise.all(w).then(()=>{Qt.update(()=>{y&&l3(r,y)})}),w}function Uf(r,o,a={}){var w;const d=Va(r,o,a.type==="exit"?(w=r.presenceContext)==null?void 0:w.custom:void 0);let{transition:p=r.getDefaultTransition()||{}}=d||{};a.transitionOverride&&(p=a.transitionOverride);const x=d?()=>Promise.all(om(r,d,a)):()=>Promise.resolve(),y=r.variantChildren&&r.variantChildren.size?(E=0)=>{const{delayChildren:b=0,staggerChildren:I,staggerDirection:R}=p;return Mv(r,o,b+E,I,R,a)}:()=>Promise.resolve(),{when:A}=p;if(A){const[E,b]=A==="beforeChildren"?[x,y]:[y,x];return E().then(()=>b())}else return Promise.all([x(),y(a.delay)])}function Mv(r,o,a=0,d=0,p=1,x){const y=[],A=(r.variantChildren.size-1)*d,w=p===1?(E=0)=>E*d:(E=0)=>A-E*d;return Array.from(r.variantChildren).sort(Dv).forEach((E,b)=>{E.notify("AnimationStart",o),y.push(Uf(E,o,{...x,delay:a+w(b)}).then(()=>E.notify("AnimationComplete",o)))}),Promise.all(y)}function Dv(r,o){return r.sortNodePosition(o)}function Lv(r,o,a={}){r.notify("AnimationStart",o);let d;if(Array.isArray(o)){const p=o.map(x=>Uf(r,x,a));d=Promise.all(p)}else if(typeof o=="string")d=Uf(r,o,a);else{const p=typeof o=="function"?Va(r,o,a.custom):o;d=Promise.all(om(r,p,a))}return d.then(()=>{r.notify("AnimationComplete",o)})}function am(r,o){if(!Array.isArray(o))return!1;const a=o.length;if(a!==r.length)return!1;for(let d=0;d<a;d++)if(o[d]!==r[d])return!1;return!0}const Bv=Ed.length;function lm(r){if(!r)return;if(!r.isControllingVariants){const a=r.parent?lm(r.parent)||{}:{};return r.props.initial!==void 0&&(a.initial=r.props.initial),a}const o={};for(let a=0;a<Bv;a++){const d=Ed[a],p=r.props[d];(Ba(p)||p===!1)&&(o[d]=p)}return o}const Fv=[...Cd].reverse(),jv=Cd.length;function Vv(r){return o=>Promise.all(o.map(({animation:a,options:d})=>Lv(r,a,d)))}function zv(r){let o=Vv(r),a=U1(),d=!0;const p=w=>(E,b)=>{var R;const I=Va(r,b,w==="exit"?(R=r.presenceContext)==null?void 0:R.custom:void 0);if(I){const{transition:M,transitionEnd:L,...F}=I;E={...E,...F,...L}}return E};function x(w){o=w(r)}function y(w){const{props:E}=r,b=lm(r.parent)||{},I=[],R=new Set;let M={},L=1/0;for(let B=0;B<jv;B++){const V=Fv[B],H=a[V],U=E[V]!==void 0?E[V]:b[V],ne=Ba(U),oe=V===w?H.isActive:null;oe===!1&&(L=B);let le=U===b[V]&&U!==E[V]&&ne;if(le&&d&&r.manuallyAnimateOnMount&&(le=!1),H.protectedKeys={...M},!H.isActive&&oe===null||!U&&!H.prevProp||kc(U)||typeof U=="boolean")continue;const X=Uv(H.prevProp,U);let ce=X||V===w&&H.isActive&&!le&&ne||B>L&&ne,Q=!1;const _e=Array.isArray(U)?U:[U];let ke=_e.reduce(p(V),{});oe===!1&&(ke={});const{prevResolvedValues:Te={}}=H,Ne={...Te,...ke},Re=ue=>{ce=!0,R.has(ue)&&(Q=!0,R.delete(ue)),H.needsAnimating[ue]=!0;const fe=r.getValue(ue);fe&&(fe.liveStyle=!1)};for(const ue in Ne){const fe=ke[ue],ge=Te[ue];if(M.hasOwnProperty(ue))continue;let he=!1;kf(fe)&&kf(ge)?he=!am(fe,ge):he=fe!==ge,he?fe!=null?Re(ue):R.add(ue):fe!==void 0&&R.has(ue)?Re(ue):H.protectedKeys[ue]=!0}H.prevProp=U,H.prevResolvedValues=ke,H.isActive&&(M={...M,...ke}),d&&r.blockInitialAnimation&&(ce=!1),ce&&(!(le&&X)||Q)&&I.push(..._e.map(ue=>({animation:ue,options:{type:V}})))}if(R.size){const B={};if(typeof E.initial!="boolean"){const V=Va(r,Array.isArray(E.initial)?E.initial[0]:E.initial);V&&V.transition&&(B.transition=V.transition)}R.forEach(V=>{const H=r.getBaseTarget(V),U=r.getValue(V);U&&(U.liveStyle=!0),B[V]=H??null}),I.push({animation:B})}let F=!!I.length;return d&&(E.initial===!1||E.initial===E.animate)&&!r.manuallyAnimateOnMount&&(F=!1),d=!1,F?o(I):Promise.resolve()}function A(w,E){var I;if(a[w].isActive===E)return Promise.resolve();(I=r.variantChildren)==null||I.forEach(R=>{var M;return(M=R.animationState)==null?void 0:M.setActive(w,E)}),a[w].isActive=E;const b=y(w);for(const R in a)a[R].protectedKeys={};return b}return{animateChanges:y,setActive:A,setAnimateFunction:x,getState:()=>a,reset:()=>{a=U1(),d=!0}}}function Uv(r,o){return typeof o=="string"?o!==r:Array.isArray(o)?!am(o,r):!1}function Hs(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function U1(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}class ms{constructor(o){this.isMounted=!1,this.node=o}update(){}}class Wv extends ms{constructor(o){super(o),o.animationState||(o.animationState=zv(o))}updateAnimationControlsSubscription(){const{animate:o}=this.node.getProps();kc(o)&&(this.unmountControls=o.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:o}=this.node.getProps(),{animate:a}=this.node.prevProps||{};o!==a&&this.updateAnimationControlsSubscription()}unmount(){var o;this.node.animationState.reset(),(o=this.unmountControls)==null||o.call(this)}}let Hv=0;class Gv extends ms{constructor(){super(...arguments),this.id=Hv++}update(){if(!this.node.presenceContext)return;const{isPresent:o,onExitComplete:a}=this.node.presenceContext,{isPresent:d}=this.node.prevPresenceContext||{};if(!this.node.animationState||o===d)return;const p=this.node.animationState.setActive("exit",!o);a&&!o&&p.then(()=>{a(this.id)})}mount(){const{register:o,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),o&&(this.unmount=o(this.id))}unmount(){}}const Xv={animation:{Feature:Wv},exit:{Feature:Gv}};function Ua(r,o,a,d={passive:!0}){return r.addEventListener(o,a,d),()=>r.removeEventListener(o,a)}function Za(r){return{point:{x:r.pageX,y:r.pageY}}}const Yv=r=>o=>vd(o)&&r(o,Za(o));function Ra(r,o,a,d){return Ua(r,o,Yv(a),d)}function cm({top:r,left:o,right:a,bottom:d}){return{x:{min:o,max:a},y:{min:r,max:d}}}function Kv({x:r,y:o}){return{top:o.min,right:r.max,bottom:o.max,left:r.min}}function Zv(r,o){if(!o)return r;const a=o({x:r.left,y:r.top}),d=o({x:r.right,y:r.bottom});return{top:a.y,left:a.x,bottom:d.y,right:d.x}}const um=1e-4,$v=1-um,qv=1+um,fm=.01,Qv=0-fm,Jv=0+fm;function ur(r){return r.max-r.min}function eC(r,o,a){return Math.abs(r-o)<=a}function W1(r,o,a,d=.5){r.origin=d,r.originPoint=cn(o.min,o.max,r.origin),r.scale=ur(a)/ur(o),r.translate=cn(a.min,a.max,r.origin)-r.originPoint,(r.scale>=$v&&r.scale<=qv||isNaN(r.scale))&&(r.scale=1),(r.translate>=Qv&&r.translate<=Jv||isNaN(r.translate))&&(r.translate=0)}function _a(r,o,a,d){W1(r.x,o.x,a.x,d?d.originX:void 0),W1(r.y,o.y,a.y,d?d.originY:void 0)}function H1(r,o,a){r.min=a.min+o.min,r.max=r.min+ur(o)}function tC(r,o,a){H1(r.x,o.x,a.x),H1(r.y,o.y,a.y)}function G1(r,o,a){r.min=o.min-a.min,r.max=r.min+ur(o)}function ka(r,o,a){G1(r.x,o.x,a.x),G1(r.y,o.y,a.y)}const X1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Io=()=>({x:X1(),y:X1()}),Y1=()=>({min:0,max:0}),En=()=>({x:Y1(),y:Y1()});function jr(r){return[r("x"),r("y")]}function wf(r){return r===void 0||r===1}function Wf({scale:r,scaleX:o,scaleY:a}){return!wf(r)||!wf(o)||!wf(a)}function Gs(r){return Wf(r)||dm(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function dm(r){return K1(r.x)||K1(r.y)}function K1(r){return r&&r!=="0%"}function Ac(r,o,a){const d=r-a,p=o*d;return a+p}function Z1(r,o,a,d,p){return p!==void 0&&(r=Ac(r,p,d)),Ac(r,a,d)+o}function Hf(r,o=0,a=1,d,p){r.min=Z1(r.min,o,a,d,p),r.max=Z1(r.max,o,a,d,p)}function hm(r,{x:o,y:a}){Hf(r.x,o.translate,o.scale,o.originPoint),Hf(r.y,a.translate,a.scale,a.originPoint)}const $1=.999999999999,q1=1.0000000000001;function nC(r,o,a,d=!1){const p=a.length;if(!p)return;o.x=o.y=1;let x,y;for(let A=0;A<p;A++){x=a[A],y=x.projectionDelta;const{visualElement:w}=x.options;w&&w.props.style&&w.props.style.display==="contents"||(d&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Ro(r,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),y&&(o.x*=y.x.scale,o.y*=y.y.scale,hm(r,y)),d&&Gs(x.latestValues)&&Ro(r,x.latestValues))}o.x<q1&&o.x>$1&&(o.x=1),o.y<q1&&o.y>$1&&(o.y=1)}function No(r,o){r.min=r.min+o,r.max=r.max+o}function Q1(r,o,a,d,p=.5){const x=cn(r.min,r.max,p);Hf(r,o,a,x,d)}function Ro(r,o){Q1(r.x,o.x,o.scaleX,o.scale,o.originX),Q1(r.y,o.y,o.scaleY,o.scale,o.originY)}function pm(r,o){return cm(Zv(r.getBoundingClientRect(),o))}function rC(r,o,a){const d=pm(r,a),{scroll:p}=o;return p&&(No(d.x,p.offset.x),No(d.y,p.offset.y)),d}const gm=({current:r})=>r?r.ownerDocument.defaultView:null,J1=(r,o)=>Math.abs(r-o);function iC(r,o){const a=J1(r.x,o.x),d=J1(r.y,o.y);return Math.sqrt(a**2+d**2)}class mm{constructor(o,a,{transformPagePoint:d,contextWindow:p,dragSnapToOrigin:x=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Cf(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,M=iC(I.offset,{x:0,y:0})>=3;if(!R&&!M)return;const{point:L}=I,{timestamp:F}=Gn;this.history.push({...L,timestamp:F});const{onStart:B,onMove:V}=this.handlers;R||(B&&B(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,I)},this.handlePointerMove=(I,R)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=vf(R,this.transformPagePoint),Qt.update(this.updatePoint,!0)},this.handlePointerUp=(I,R)=>{this.end();const{onEnd:M,onSessionEnd:L,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=Cf(I.type==="pointercancel"?this.lastMoveEventInfo:vf(R,this.transformPagePoint),this.history);this.startEvent&&M&&M(I,B),L&&L(I,B)},!vd(o))return;this.dragSnapToOrigin=x,this.handlers=a,this.transformPagePoint=d,this.contextWindow=p||window;const y=Za(o),A=vf(y,this.transformPagePoint),{point:w}=A,{timestamp:E}=Gn;this.history=[{...w,timestamp:E}];const{onSessionStart:b}=a;b&&b(o,Cf(A,this.history)),this.removeListeners=Ka(Ra(this.contextWindow,"pointermove",this.handlePointerMove),Ra(this.contextWindow,"pointerup",this.handlePointerUp),Ra(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(o){this.handlers=o}end(){this.removeListeners&&this.removeListeners(),ps(this.updatePoint)}}function vf(r,o){return o?{point:o(r.point)}:r}function ep(r,o){return{x:r.x-o.x,y:r.y-o.y}}function Cf({point:r},o){return{point:r,delta:ep(r,xm(o)),offset:ep(r,sC(o)),velocity:oC(o,.1)}}function sC(r){return r[0]}function xm(r){return r[r.length-1]}function oC(r,o){if(r.length<2)return{x:0,y:0};let a=r.length-1,d=null;const p=xm(r);for(;a>=0&&(d=r[a],!(p.timestamp-d.timestamp>fi(o)));)a--;if(!d)return{x:0,y:0};const x=di(p.timestamp-d.timestamp);if(x===0)return{x:0,y:0};const y={x:(p.x-d.x)/x,y:(p.y-d.y)/x};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function aC(r,{min:o,max:a},d){return o!==void 0&&r<o?r=d?cn(o,r,d.min):Math.max(r,o):a!==void 0&&r>a&&(r=d?cn(a,r,d.max):Math.min(r,a)),r}function tp(r,o,a){return{min:o!==void 0?r.min+o:void 0,max:a!==void 0?r.max+a-(r.max-r.min):void 0}}function lC(r,{top:o,left:a,bottom:d,right:p}){return{x:tp(r.x,a,p),y:tp(r.y,o,d)}}function np(r,o){let a=o.min-r.min,d=o.max-r.max;return o.max-o.min<r.max-r.min&&([a,d]=[d,a]),{min:a,max:d}}function cC(r,o){return{x:np(r.x,o.x),y:np(r.y,o.y)}}function uC(r,o){let a=.5;const d=ur(r),p=ur(o);return p>d?a=Ma(o.min,o.max-d,r.min):d>p&&(a=Ma(r.min,r.max-p,o.min)),Li(0,1,a)}function fC(r,o){const a={};return o.min!==void 0&&(a.min=o.min-r.min),o.max!==void 0&&(a.max=o.max-r.min),a}const Gf=.35;function dC(r=Gf){return r===!1?r=0:r===!0&&(r=Gf),{x:rp(r,"left","right"),y:rp(r,"top","bottom")}}function rp(r,o,a){return{min:ip(r,o),max:ip(r,a)}}function ip(r,o){return typeof r=="number"?r:r[o]||0}const hC=new WeakMap;class pC{constructor(o){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=En(),this.visualElement=o}start(o,{snapToCursor:a=!1}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const p=b=>{const{dragSnapToOrigin:I}=this.getProps();I?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Za(b).point)},x=(b,I)=>{const{drag:R,dragPropagation:M,onDragStart:L}=this.getProps();if(R&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cw(R),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(B=>{let V=this.getAxisMotionValue(B).get()||0;if(pi.test(V)){const{projection:H}=this.visualElement;if(H&&H.layout){const U=H.layout.layoutBox[B];U&&(V=ur(U)*(parseFloat(V)/100))}}this.originPoint[B]=V}),L&&Qt.postRender(()=>L(b,I)),Pf(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},y=(b,I)=>{const{dragPropagation:R,dragDirectionLock:M,onDirectionLock:L,onDrag:F}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:B}=I;if(M&&this.currentDirection===null){this.currentDirection=gC(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",I.point,B),this.updateAxis("y",I.point,B),this.visualElement.render(),F&&F(b,I)},A=(b,I)=>this.stop(b,I),w=()=>jr(b=>{var I;return this.getAnimationState(b)==="paused"&&((I=this.getAxisMotionValue(b).animation)==null?void 0:I.play())}),{dragSnapToOrigin:E}=this.getProps();this.panSession=new mm(o,{onSessionStart:p,onStart:x,onMove:y,onSessionEnd:A,resumeAnimation:w},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:E,contextWindow:gm(this.visualElement)})}stop(o,a){const d=this.isDragging;if(this.cancel(),!d)return;const{velocity:p}=a;this.startAnimation(p);const{onDragEnd:x}=this.getProps();x&&Qt.postRender(()=>x(o,a))}cancel(){this.isDragging=!1;const{projection:o,animationState:a}=this.visualElement;o&&(o.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:d}=this.getProps();!d&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(o,a,d){const{drag:p}=this.getProps();if(!d||!sc(o,p,this.currentDirection))return;const x=this.getAxisMotionValue(o);let y=this.originPoint[o]+d[o];this.constraints&&this.constraints[o]&&(y=aC(y,this.constraints[o],this.elastic[o])),x.set(y)}resolveConstraints(){var x;const{dragConstraints:o,dragElastic:a}=this.getProps(),d=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(x=this.visualElement.projection)==null?void 0:x.layout,p=this.constraints;o&&So(o)?this.constraints||(this.constraints=this.resolveRefConstraints()):o&&d?this.constraints=lC(d.layoutBox,o):this.constraints=!1,this.elastic=dC(a),p!==this.constraints&&d&&this.constraints&&!this.hasMutatedConstraints&&jr(y=>{this.constraints!==!1&&this.getAxisMotionValue(y)&&(this.constraints[y]=fC(d.layoutBox[y],this.constraints[y]))})}resolveRefConstraints(){const{dragConstraints:o,onMeasureDragConstraints:a}=this.getProps();if(!o||!So(o))return!1;const d=o.current,{projection:p}=this.visualElement;if(!p||!p.layout)return!1;const x=rC(d,p.root,this.visualElement.getTransformPagePoint());let y=cC(p.layout.layoutBox,x);if(a){const A=a(Kv(y));this.hasMutatedConstraints=!!A,A&&(y=cm(A))}return y}startAnimation(o){const{drag:a,dragMomentum:d,dragElastic:p,dragTransition:x,dragSnapToOrigin:y,onDragTransitionEnd:A}=this.getProps(),w=this.constraints||{},E=jr(b=>{if(!sc(b,a,this.currentDirection))return;let I=w&&w[b]||{};y&&(I={min:0,max:0});const R=p?200:1e6,M=p?40:1e7,L={type:"inertia",velocity:d?o[b]:0,bounceStiffness:R,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...x,...I};return this.startAxisValueAnimation(b,L)});return Promise.all(E).then(A)}startAxisValueAnimation(o,a){const d=this.getAxisMotionValue(o);return Pf(this.visualElement,o),d.start(zd(o,d,0,a,this.visualElement,!1))}stopAnimation(){jr(o=>this.getAxisMotionValue(o).stop())}pauseAnimation(){jr(o=>{var a;return(a=this.getAxisMotionValue(o).animation)==null?void 0:a.pause()})}getAnimationState(o){var a;return(a=this.getAxisMotionValue(o).animation)==null?void 0:a.state}getAxisMotionValue(o){const a=`_drag${o.toUpperCase()}`,d=this.visualElement.getProps(),p=d[a];return p||this.visualElement.getValue(o,(d.initial?d.initial[o]:void 0)||0)}snapToCursor(o){jr(a=>{const{drag:d}=this.getProps();if(!sc(a,d,this.currentDirection))return;const{projection:p}=this.visualElement,x=this.getAxisMotionValue(a);if(p&&p.layout){const{min:y,max:A}=p.layout.layoutBox[a];x.set(o[a]-cn(y,A,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:o,dragConstraints:a}=this.getProps(),{projection:d}=this.visualElement;if(!So(a)||!d||!this.constraints)return;this.stopAnimation();const p={x:0,y:0};jr(y=>{const A=this.getAxisMotionValue(y);if(A&&this.constraints!==!1){const w=A.get();p[y]=uC({min:w,max:w},this.constraints[y])}});const{transformTemplate:x}=this.visualElement.getProps();this.visualElement.current.style.transform=x?x({},""):"none",d.root&&d.root.updateScroll(),d.updateLayout(),this.resolveConstraints(),jr(y=>{if(!sc(y,o,null))return;const A=this.getAxisMotionValue(y),{min:w,max:E}=this.constraints[y];A.set(cn(w,E,p[y]))})}addListeners(){if(!this.visualElement.current)return;hC.set(this.visualElement,this);const o=this.visualElement.current,a=Ra(o,"pointerdown",w=>{const{drag:E,dragListener:b=!0}=this.getProps();E&&b&&this.start(w)}),d=()=>{const{dragConstraints:w}=this.getProps();So(w)&&w.current&&(this.constraints=this.resolveRefConstraints())},{projection:p}=this.visualElement,x=p.addEventListener("measure",d);p&&!p.layout&&(p.root&&p.root.updateScroll(),p.updateLayout()),Qt.read(d);const y=Ua(window,"resize",()=>this.scalePositionWithinConstraints()),A=p.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E})=>{this.isDragging&&E&&(jr(b=>{const I=this.getAxisMotionValue(b);I&&(this.originPoint[b]+=w[b].translate,I.set(I.get()+w[b].translate))}),this.visualElement.render())});return()=>{y(),a(),x(),A&&A()}}getProps(){const o=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:d=!1,dragPropagation:p=!1,dragConstraints:x=!1,dragElastic:y=Gf,dragMomentum:A=!0}=o;return{...o,drag:a,dragDirectionLock:d,dragPropagation:p,dragConstraints:x,dragElastic:y,dragMomentum:A}}}function sc(r,o,a){return(o===!0||o===r)&&(a===null||a===r)}function gC(r,o=10){let a=null;return Math.abs(r.y)>o?a="y":Math.abs(r.x)>o&&(a="x"),a}class mC extends ms{constructor(o){super(o),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new pC(o)}mount(){const{dragControls:o}=this.node.getProps();o&&(this.removeGroupControls=o.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}unmount(){this.removeGroupControls(),this.removeListeners()}}const sp=r=>(o,a)=>{r&&Qt.postRender(()=>r(o,a))};class xC extends ms{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(o){this.session=new mm(o,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gm(this.node)})}createPanHandlers(){const{onPanSessionStart:o,onPanStart:a,onPan:d,onPanEnd:p}=this.node.getProps();return{onSessionStart:sp(o),onStart:sp(a),onMove:d,onEnd:(x,y)=>{delete this.session,p&&Qt.postRender(()=>p(x,y))}}}mount(){this.removePointerDownListener=Ra(this.node.current,"pointerdown",o=>this.onPointerDown(o))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function op(r,o){return o.max===o.min?0:r/(o.max-o.min)*100}const ba={correct:(r,o)=>{if(!o.target)return r;if(typeof r=="string")if(st.test(r))r=parseFloat(r);else return r;const a=op(r,o.target.x),d=op(r,o.target.y);return`${a}% ${d}%`}},yC={correct:(r,{treeScale:o,projectionDelta:a})=>{const d=r,p=gs.parse(r);if(p.length>5)return d;const x=gs.createTransformer(r),y=typeof p[0]!="number"?1:0,A=a.x.scale*o.x,w=a.y.scale*o.y;p[0+y]/=A,p[1+y]/=w;const E=cn(A,w,.5);return typeof p[2+y]=="number"&&(p[2+y]/=E),typeof p[3+y]=="number"&&(p[3+y]/=E),x(p)}};class wC extends _.Component{componentDidMount(){const{visualElement:o,layoutGroup:a,switchLayoutGroup:d,layoutId:p}=this.props,{projection:x}=o;Lw(vC),x&&(a.group&&a.group.add(x),d&&d.register&&p&&d.register(x),x.root.didUpdate(),x.addEventListener("animationComplete",()=>{this.safeToRemove()}),x.setOptions({...x.options,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(o){const{layoutDependency:a,visualElement:d,drag:p,isPresent:x}=this.props,y=d.projection;return y&&(y.isPresent=x,p||o.layoutDependency!==a||a===void 0||o.isPresent!==x?y.willUpdate():this.safeToRemove(),o.isPresent!==x&&(x?y.promote():y.relegate()||Qt.postRender(()=>{const A=y.getStack();(!A||!A.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:o}=this.props.visualElement;o&&(o.root.didUpdate(),wd.postRender(()=>{!o.currentAnimation&&o.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:o,layoutGroup:a,switchLayoutGroup:d}=this.props,{projection:p}=o;p&&(p.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(p),d&&d.deregister&&d.deregister(p))}safeToRemove(){const{safeToRemove:o}=this.props;o&&o()}render(){return null}}function ym(r){const[o,a]=ng(),d=_.useContext(ad);return S.jsx(wC,{...r,layoutGroup:d,switchLayoutGroup:_.useContext(mg),isPresent:o,safeToRemove:a})}const vC={borderRadius:{...ba,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ba,borderTopRightRadius:ba,borderBottomLeftRadius:ba,borderBottomRightRadius:ba,boxShadow:yC};function CC(r,o,a){const d=nr(r)?r:La(r);return d.start(zd("",d,o,a)),d.animation}function EC(r){return r instanceof SVGElement&&r.tagName!=="svg"}const AC=(r,o)=>r.depth-o.depth;class bC{constructor(){this.children=[],this.isDirty=!1}add(o){fd(this.children,o),this.isDirty=!0}remove(o){dd(this.children,o),this.isDirty=!0}forEach(o){this.isDirty&&this.children.sort(AC),this.isDirty=!1,this.children.forEach(o)}}function SC(r,o){const a=hi.now(),d=({timestamp:p})=>{const x=p-a;x>=o&&(ps(d),r(x-o))};return Qt.read(d,!0),()=>ps(d)}const wm=["TopLeft","TopRight","BottomLeft","BottomRight"],TC=wm.length,ap=r=>typeof r=="string"?parseFloat(r):r,lp=r=>typeof r=="number"||st.test(r);function IC(r,o,a,d,p,x){p?(r.opacity=cn(0,a.opacity!==void 0?a.opacity:1,NC(d)),r.opacityExit=cn(o.opacity!==void 0?o.opacity:1,0,RC(d))):x&&(r.opacity=cn(o.opacity!==void 0?o.opacity:1,a.opacity!==void 0?a.opacity:1,d));for(let y=0;y<TC;y++){const A=`border${wm[y]}Radius`;let w=cp(o,A),E=cp(a,A);if(w===void 0&&E===void 0)continue;w||(w=0),E||(E=0),w===0||E===0||lp(w)===lp(E)?(r[A]=Math.max(cn(ap(w),ap(E),d),0),(pi.test(E)||pi.test(w))&&(r[A]+="%")):r[A]=E}(o.rotate||a.rotate)&&(r.rotate=cn(o.rotate||0,a.rotate||0,d))}function cp(r,o){return r[o]!==void 0?r[o]:r.borderRadius}const NC=vm(0,.5,Bg),RC=vm(.5,.95,Vr);function vm(r,o,a){return d=>d<r?0:d>o?1:a(Ma(r,o,d))}function up(r,o){r.min=o.min,r.max=o.max}function Fr(r,o){up(r.x,o.x),up(r.y,o.y)}function fp(r,o){r.translate=o.translate,r.scale=o.scale,r.originPoint=o.originPoint,r.origin=o.origin}function dp(r,o,a,d,p){return r-=o,r=Ac(r,1/a,d),p!==void 0&&(r=Ac(r,1/p,d)),r}function _C(r,o=0,a=1,d=.5,p,x=r,y=r){if(pi.test(o)&&(o=parseFloat(o),o=cn(y.min,y.max,o/100)-y.min),typeof o!="number")return;let A=cn(x.min,x.max,d);r===x&&(A-=o),r.min=dp(r.min,o,a,A,p),r.max=dp(r.max,o,a,A,p)}function hp(r,o,[a,d,p],x,y){_C(r,o[a],o[d],o[p],o.scale,x,y)}const kC=["x","scaleX","originX"],PC=["y","scaleY","originY"];function pp(r,o,a,d){hp(r.x,o,kC,a?a.x:void 0,d?d.x:void 0),hp(r.y,o,PC,a?a.y:void 0,d?d.y:void 0)}function gp(r){return r.translate===0&&r.scale===1}function Cm(r){return gp(r.x)&&gp(r.y)}function mp(r,o){return r.min===o.min&&r.max===o.max}function OC(r,o){return mp(r.x,o.x)&&mp(r.y,o.y)}function xp(r,o){return Math.round(r.min)===Math.round(o.min)&&Math.round(r.max)===Math.round(o.max)}function Em(r,o){return xp(r.x,o.x)&&xp(r.y,o.y)}function yp(r){return ur(r.x)/ur(r.y)}function wp(r,o){return r.translate===o.translate&&r.scale===o.scale&&r.originPoint===o.originPoint}class MC{constructor(){this.members=[]}add(o){fd(this.members,o),o.scheduleRender()}remove(o){if(dd(this.members,o),o===this.prevLead&&(this.prevLead=void 0),o===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(o){const a=this.members.findIndex(p=>o===p);if(a===0)return!1;let d;for(let p=a;p>=0;p--){const x=this.members[p];if(x.isPresent!==!1){d=x;break}}return d?(this.promote(d),!0):!1}promote(o,a){const d=this.lead;if(o!==d&&(this.prevLead=d,this.lead=o,o.show(),d)){d.instance&&d.scheduleRender(),o.scheduleRender(),o.resumeFrom=d,a&&(o.resumeFrom.preserveOpacity=!0),d.snapshot&&(o.snapshot=d.snapshot,o.snapshot.latestValues=d.animationValues||d.latestValues),o.root&&o.root.isUpdating&&(o.isLayoutDirty=!0);const{crossfade:p}=o.options;p===!1&&d.hide()}}exitAnimationComplete(){this.members.forEach(o=>{const{options:a,resumingFrom:d}=o;a.onExitComplete&&a.onExitComplete(),d&&d.options.onExitComplete&&d.options.onExitComplete()})}scheduleRender(){this.members.forEach(o=>{o.instance&&o.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DC(r,o,a){let d="";const p=r.x.translate/o.x,x=r.y.translate/o.y,y=(a==null?void 0:a.z)||0;if((p||x||y)&&(d=`translate3d(${p}px, ${x}px, ${y}px) `),(o.x!==1||o.y!==1)&&(d+=`scale(${1/o.x}, ${1/o.y}) `),a){const{transformPerspective:E,rotate:b,rotateX:I,rotateY:R,skewX:M,skewY:L}=a;E&&(d=`perspective(${E}px) ${d}`),b&&(d+=`rotate(${b}deg) `),I&&(d+=`rotateX(${I}deg) `),R&&(d+=`rotateY(${R}deg) `),M&&(d+=`skewX(${M}deg) `),L&&(d+=`skewY(${L}deg) `)}const A=r.x.scale*o.x,w=r.y.scale*o.y;return(A!==1||w!==1)&&(d+=`scale(${A}, ${w})`),d||"none"}const Ef=["","X","Y","Z"],LC={visibility:"hidden"},vp=1e3;let BC=0;function Af(r,o,a,d){const{latestValues:p}=o;p[r]&&(a[r]=p[r],o.setStaticValue(r,0),d&&(d[r]=0))}function Am(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:o}=r.options;if(!o)return;const a=_g(o);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:p,layoutId:x}=r.options;window.MotionCancelOptimisedAnimation(a,"transform",Qt,!(p||x))}const{parent:d}=r;d&&!d.hasCheckedOptimisedAppear&&Am(d)}function bm({attachResizeListener:r,defaultParent:o,measureScroll:a,checkIsScrollRoot:d,resetTransform:p}){return class{constructor(y={},A=o==null?void 0:o()){this.id=BC++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VC),this.nodes.forEach(GC),this.nodes.forEach(XC),this.nodes.forEach(zC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=y,this.root=A?A.root||A:this,this.path=A?[...A.path,A]:[],this.parent=A,this.depth=A?A.depth+1:0;for(let w=0;w<this.path.length;w++)this.path[w].shouldResetTransform=!0;this.root===this&&(this.nodes=new bC)}addEventListener(y,A){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new pd),this.eventHandlers.get(y).add(A)}notifyListeners(y,...A){const w=this.eventHandlers.get(y);w&&w.notify(...A)}hasListeners(y){return this.eventHandlers.has(y)}mount(y,A=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=EC(y),this.instance=y;const{layoutId:w,layout:E,visualElement:b}=this.options;if(b&&!b.current&&b.mount(y),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),A&&(E||w)&&(this.isLayoutDirty=!0),r){let I;const R=()=>this.root.updateBlockedByResize=!1;r(y,()=>{this.root.updateBlockedByResize=!0,I&&I(),I=SC(R,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(Ep))})}w&&this.root.registerSharedNode(w,this),this.options.animate!==!1&&b&&(w||E)&&this.addEventListener("didUpdate",({delta:I,hasLayoutChanged:R,hasRelativeLayoutChanged:M,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const F=this.options.transition||b.getDefaultTransition()||qC,{onLayoutAnimationStart:B,onLayoutAnimationComplete:V}=b.getProps(),H=!this.targetLayout||!Em(this.targetLayout,L),U=!R&&M;if(this.options.layoutRoot||this.resumeFrom||U||R&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(I,U);const ne={...xd(F,"layout"),onPlay:B,onComplete:V};(b.shouldReduceMotion||this.options.layoutRoot)&&(ne.delay=0,ne.type=!1),this.startAnimation(ne)}else R||Ep(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const y=this.getStack();y&&y.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ps(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YC),this.animationId++)}getTransformTemplate(){const{visualElement:y}=this.options;return y&&y.getProps().transformTemplate}willUpdate(y=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Am(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const I=this.path[b];I.shouldResetTransform=!0,I.updateScroll("snapshot"),I.options.layoutRoot&&I.willUpdate(!1)}const{layoutId:A,layout:w}=this.options;if(A===void 0&&!w)return;const E=this.getTransformTemplate();this.prevTransformTemplateValue=E?E(this.latestValues,""):void 0,this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Cp);return}this.isUpdating||this.nodes.forEach(WC),this.isUpdating=!1,this.nodes.forEach(HC),this.nodes.forEach(FC),this.nodes.forEach(jC),this.clearAllSnapshots();const A=hi.now();Gn.delta=Li(0,1e3/60,A-Gn.timestamp),Gn.timestamp=A,Gn.isProcessing=!0,pf.update.process(Gn),pf.preRender.process(Gn),pf.render.process(Gn),Gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UC),this.sharedNodes.forEach(KC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ur(this.snapshot.measuredBox.x)&&!ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let w=0;w<this.path.length;w++)this.path[w].updateScroll();const y=this.layout;this.layout=this.measure(!1),this.layoutCorrected=En(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:A}=this.options;A&&A.notify("LayoutMeasure",this.layout.layoutBox,y?y.layoutBox:void 0)}updateScroll(y="measure"){let A=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===y&&(A=!1),A){const w=d(this.instance);this.scroll={animationId:this.root.animationId,phase:y,isRoot:w,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:w}}}resetTransform(){if(!p)return;const y=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,A=this.projectionDelta&&!Cm(this.projectionDelta),w=this.getTransformTemplate(),E=w?w(this.latestValues,""):void 0,b=E!==this.prevTransformTemplateValue;y&&(A||Gs(this.latestValues)||b)&&(p(this.instance,E),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const A=this.measurePageBox();let w=this.removeElementScroll(A);return y&&(w=this.removeTransform(w)),QC(w),{animationId:this.root.animationId,measuredBox:A,layoutBox:w,latestValues:{},source:this.id}}measurePageBox(){var E;const{visualElement:y}=this.options;if(!y)return En();const A=y.measureViewportBox();if(!(((E=this.scroll)==null?void 0:E.wasRoot)||this.path.some(JC))){const{scroll:b}=this.root;b&&(No(A.x,b.offset.x),No(A.y,b.offset.y))}return A}removeElementScroll(y){var w;const A=En();if(Fr(A,y),(w=this.scroll)!=null&&w.wasRoot)return A;for(let E=0;E<this.path.length;E++){const b=this.path[E],{scroll:I,options:R}=b;b!==this.root&&I&&R.layoutScroll&&(I.wasRoot&&Fr(A,y),No(A.x,I.offset.x),No(A.y,I.offset.y))}return A}applyTransform(y,A=!1){const w=En();Fr(w,y);for(let E=0;E<this.path.length;E++){const b=this.path[E];!A&&b.options.layoutScroll&&b.scroll&&b!==b.root&&Ro(w,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),Gs(b.latestValues)&&Ro(w,b.latestValues)}return Gs(this.latestValues)&&Ro(w,this.latestValues),w}removeTransform(y){const A=En();Fr(A,y);for(let w=0;w<this.path.length;w++){const E=this.path[w];if(!E.instance||!Gs(E.latestValues))continue;Wf(E.latestValues)&&E.updateSnapshot();const b=En(),I=E.measurePageBox();Fr(b,I),pp(A,E.latestValues,E.snapshot?E.snapshot.layoutBox:void 0,b)}return Gs(this.latestValues)&&pp(A,this.latestValues),A}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(y=!1){var R;const A=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=A.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=A.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=A.isSharedProjectionDirty);const w=!!this.resumingFrom||this!==A;if(!(y||w&&this.isSharedProjectionDirty||this.isProjectionDirty||(R=this.parent)!=null&&R.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:I}=this.options;if(!(!this.layout||!(b||I))){if(this.resolvedRelativeTargetAt=Gn.timestamp,!this.targetDelta&&!this.relativeTarget){const M=this.getClosestProjectingParent();M&&M.layout&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),ka(this.relativeTargetOrigin,this.layout.layoutBox,M.layout.layoutBox),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=En(),this.targetWithTransforms=En()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fr(this.target,this.layout.layoutBox),hm(this.target,this.targetDelta)):Fr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const M=this.getClosestProjectingParent();M&&!!M.resumingFrom==!!this.resumingFrom&&!M.options.layoutScroll&&M.target&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),ka(this.relativeTargetOrigin,this.target,M.target),Fr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wf(this.parent.latestValues)||dm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var L;const y=this.getLead(),A=!!this.resumingFrom||this!==y;let w=!0;if((this.isProjectionDirty||(L=this.parent)!=null&&L.isProjectionDirty)&&(w=!1),A&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(w=!1),this.resolvedRelativeTargetAt===Gn.timestamp&&(w=!1),w)return;const{layout:E,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(E||b))return;Fr(this.layoutCorrected,this.layout.layoutBox);const I=this.treeScale.x,R=this.treeScale.y;nC(this.layoutCorrected,this.treeScale,this.path,A),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=En());const{target:M}=y;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fp(this.prevProjectionDelta.x,this.projectionDelta.x),fp(this.prevProjectionDelta.y,this.projectionDelta.y)),_a(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==I||this.treeScale.y!==R||!wp(this.projectionDelta.x,this.prevProjectionDelta.x)||!wp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){var A;if((A=this.options.visualElement)==null||A.scheduleRender(),y){const w=this.getStack();w&&w.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Io(),this.projectionDelta=Io(),this.projectionDeltaWithTransform=Io()}setAnimationOrigin(y,A=!1){const w=this.snapshot,E=w?w.latestValues:{},b={...this.latestValues},I=Io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!A;const R=En(),M=w?w.source:void 0,L=this.layout?this.layout.source:void 0,F=M!==L,B=this.getStack(),V=!B||B.members.length<=1,H=!!(F&&!V&&this.options.crossfade===!0&&!this.path.some($C));this.animationProgress=0;let U;this.mixTargetDelta=ne=>{const oe=ne/1e3;Ap(I.x,y.x,oe),Ap(I.y,y.y,oe),this.setTargetDelta(I),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ka(R,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZC(this.relativeTarget,this.relativeTargetOrigin,R,oe),U&&OC(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=En()),Fr(U,this.relativeTarget)),F&&(this.animationValues=b,IC(b,E,this.latestValues,oe,H,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=oe},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(y){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ps(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qt.update(()=>{dc.hasAnimatedSinceResize=!0,this.currentAnimation=CC(0,vp,{...y,onUpdate:A=>{this.mixTargetDelta(A),y.onUpdate&&y.onUpdate(A)},onStop:()=>{},onComplete:()=>{y.onComplete&&y.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const y=this.getStack();y&&y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:A,target:w,layout:E,latestValues:b}=y;if(!(!A||!w||!E)){if(this!==y&&this.layout&&E&&Sm(this.options.animationType,this.layout.layoutBox,E.layoutBox)){w=this.target||En();const I=ur(this.layout.layoutBox.x);w.x.min=y.target.x.min,w.x.max=w.x.min+I;const R=ur(this.layout.layoutBox.y);w.y.min=y.target.y.min,w.y.max=w.y.min+R}Fr(A,w),Ro(A,b),_a(this.projectionDeltaWithTransform,this.layoutCorrected,A,b)}}registerSharedNode(y,A){this.sharedNodes.has(y)||this.sharedNodes.set(y,new MC),this.sharedNodes.get(y).add(A);const E=A.options.initialPromotionConfig;A.promote({transition:E?E.transition:void 0,preserveFollowOpacity:E&&E.shouldPreserveFollowOpacity?E.shouldPreserveFollowOpacity(A):void 0})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){var A;const{layoutId:y}=this.options;return y?((A=this.getStack())==null?void 0:A.lead)||this:this}getPrevLead(){var A;const{layoutId:y}=this.options;return y?(A=this.getStack())==null?void 0:A.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:A,preserveFollowOpacity:w}={}){const E=this.getStack();E&&E.promote(this,w),y&&(this.projectionDelta=void 0,this.needsReset=!0),A&&this.setOptions({transition:A})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetSkewAndRotation(){const{visualElement:y}=this.options;if(!y)return;let A=!1;const{latestValues:w}=y;if((w.z||w.rotate||w.rotateX||w.rotateY||w.rotateZ||w.skewX||w.skewY)&&(A=!0),!A)return;const E={};w.z&&Af("z",y,E,this.animationValues);for(let b=0;b<Ef.length;b++)Af(`rotate${Ef[b]}`,y,E,this.animationValues),Af(`skew${Ef[b]}`,y,E,this.animationValues);y.render();for(const b in E)y.setStaticValue(b,E[b]),this.animationValues&&(this.animationValues[b]=E[b]);y.scheduleRender()}getProjectionStyles(y){if(!this.instance||this.isSVG)return;if(!this.isVisible)return LC;const A={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,A.opacity="",A.pointerEvents=fc(y==null?void 0:y.pointerEvents)||"",A.transform=w?w(this.latestValues,""):"none",A;const E=this.getLead();if(!this.projectionDelta||!this.layout||!E.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=fc(y==null?void 0:y.pointerEvents)||""),this.hasProjected&&!Gs(this.latestValues)&&(M.transform=w?w({},""):"none",this.hasProjected=!1),M}const b=E.animationValues||E.latestValues;this.applyTransformsToTarget(),A.transform=DC(this.projectionDeltaWithTransform,this.treeScale,b),w&&(A.transform=w(b,A.transform));const{x:I,y:R}=this.projectionDelta;A.transformOrigin=`${I.origin*100}% ${R.origin*100}% 0`,E.animationValues?A.opacity=E===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:A.opacity=E===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const M in Fa){if(b[M]===void 0)continue;const{correct:L,applyTo:F,isCSSVariable:B}=Fa[M],V=A.transform==="none"?b[M]:L(b[M],E);if(F){const H=F.length;for(let U=0;U<H;U++)A[F[U]]=V}else B?this.options.visualElement.renderState.vars[M]=V:A[M]=V}return this.options.layoutId&&(A.pointerEvents=E===this?fc(y==null?void 0:y.pointerEvents)||"":"none"),A}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>{var A;return(A=y.currentAnimation)==null?void 0:A.stop()}),this.root.nodes.forEach(Cp),this.root.sharedNodes.clear()}}}function FC(r){r.updateLayout()}function jC(r){var a;const o=((a=r.resumeFrom)==null?void 0:a.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&o&&r.hasListeners("didUpdate")){const{layoutBox:d,measuredBox:p}=r.layout,{animationType:x}=r.options,y=o.source!==r.layout.source;x==="size"?jr(I=>{const R=y?o.measuredBox[I]:o.layoutBox[I],M=ur(R);R.min=d[I].min,R.max=R.min+M}):Sm(x,o.layoutBox,d)&&jr(I=>{const R=y?o.measuredBox[I]:o.layoutBox[I],M=ur(d[I]);R.max=R.min+M,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[I].max=r.relativeTarget[I].min+M)});const A=Io();_a(A,d,o.layoutBox);const w=Io();y?_a(w,r.applyTransform(p,!0),o.measuredBox):_a(w,d,o.layoutBox);const E=!Cm(A);let b=!1;if(!r.resumeFrom){const I=r.getClosestProjectingParent();if(I&&!I.resumeFrom){const{snapshot:R,layout:M}=I;if(R&&M){const L=En();ka(L,o.layoutBox,R.layoutBox);const F=En();ka(F,d,M.layoutBox),Em(L,F)||(b=!0),I.options.layoutRoot&&(r.relativeTarget=F,r.relativeTargetOrigin=L,r.relativeParent=I)}}}r.notifyListeners("didUpdate",{layout:d,snapshot:o,delta:w,layoutDelta:A,hasLayoutChanged:E,hasRelativeLayoutChanged:b})}else if(r.isLead()){const{onExitComplete:d}=r.options;d&&d()}r.options.transition=void 0}function VC(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function zC(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function UC(r){r.clearSnapshot()}function Cp(r){r.clearMeasurements()}function WC(r){r.isLayoutDirty=!1}function HC(r){const{visualElement:o}=r.options;o&&o.getProps().onBeforeLayoutMeasure&&o.notify("BeforeLayoutMeasure"),r.resetTransform()}function Ep(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function GC(r){r.resolveTargetDelta()}function XC(r){r.calcProjection()}function YC(r){r.resetSkewAndRotation()}function KC(r){r.removeLeadSnapshot()}function Ap(r,o,a){r.translate=cn(o.translate,0,a),r.scale=cn(o.scale,1,a),r.origin=o.origin,r.originPoint=o.originPoint}function bp(r,o,a,d){r.min=cn(o.min,a.min,d),r.max=cn(o.max,a.max,d)}function ZC(r,o,a,d){bp(r.x,o.x,a.x,d),bp(r.y,o.y,a.y,d)}function $C(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const qC={duration:.45,ease:[.4,0,.1,1]},Sp=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),Tp=Sp("applewebkit/")&&!Sp("chrome/")?Math.round:Vr;function Ip(r){r.min=Tp(r.min),r.max=Tp(r.max)}function QC(r){Ip(r.x),Ip(r.y)}function Sm(r,o,a){return r==="position"||r==="preserve-aspect"&&!eC(yp(o),yp(a),.2)}function JC(r){var o;return r!==r.root&&((o=r.scroll)==null?void 0:o.wasRoot)}const eE=bm({attachResizeListener:(r,o)=>Ua(r,"resize",o),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bf={current:void 0},Tm=bm({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!bf.current){const r=new eE({});r.mount(window),r.setOptions({layoutScroll:!0}),bf.current=r}return bf.current},resetTransform:(r,o)=>{r.style.transform=o!==void 0?o:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),tE={pan:{Feature:xC},drag:{Feature:mC,ProjectionNode:Tm,MeasureLayout:ym}};function Np(r,o,a){const{props:d}=r;r.animationState&&d.whileHover&&r.animationState.setActive("whileHover",a==="Start");const p="onHover"+a,x=d[p];x&&Qt.postRender(()=>x(o,Za(o)))}class nE extends ms{mount(){const{current:o}=this.node;o&&(this.unmount=fw(o,(a,d)=>(Np(this.node,d,"Start"),p=>Np(this.node,p,"End"))))}unmount(){}}class rE extends ms{constructor(){super(...arguments),this.isActive=!1}onFocus(){let o=!1;try{o=this.node.current.matches(":focus-visible")}catch{o=!0}!o||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ka(Ua(this.node.current,"focus",()=>this.onFocus()),Ua(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rp(r,o,a){const{props:d}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&d.whileTap&&r.animationState.setActive("whileTap",a==="Start");const p="onTap"+(a==="End"?"":a),x=d[p];x&&Qt.postRender(()=>x(o,Za(o)))}class iE extends ms{mount(){const{current:o}=this.node;o&&(this.unmount=gw(o,(a,d)=>(Rp(this.node,d,"Start"),(p,{success:x})=>Rp(this.node,p,x?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xf=new WeakMap,Sf=new WeakMap,sE=r=>{const o=Xf.get(r.target);o&&o(r)},oE=r=>{r.forEach(sE)};function aE({root:r,...o}){const a=r||document;Sf.has(a)||Sf.set(a,{});const d=Sf.get(a),p=JSON.stringify(o);return d[p]||(d[p]=new IntersectionObserver(oE,{root:r,...o})),d[p]}function lE(r,o,a){const d=aE(o);return Xf.set(r,a),d.observe(r),()=>{Xf.delete(r),d.unobserve(r)}}const cE={some:0,all:1};class uE extends ms{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:o={}}=this.node.getProps(),{root:a,margin:d,amount:p="some",once:x}=o,y={root:a?a.current:void 0,rootMargin:d,threshold:typeof p=="number"?p:cE[p]},A=w=>{const{isIntersecting:E}=w;if(this.isInView===E||(this.isInView=E,x&&!E&&this.hasEnteredView))return;E&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",E);const{onViewportEnter:b,onViewportLeave:I}=this.node.getProps(),R=E?b:I;R&&R(w)};return lE(this.node.current,y,A)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:o,prevProps:a}=this.node;["amount","margin","root"].some(fE(o,a))&&this.startObserver()}unmount(){}}function fE({viewport:r={}},{viewport:o={}}={}){return a=>r[a]!==o[a]}const dE={inView:{Feature:uE},tap:{Feature:iE},focus:{Feature:rE},hover:{Feature:nE}},hE={layout:{ProjectionNode:Tm,MeasureLayout:ym}},Yf={current:null},Im={current:!1};function pE(){if(Im.current=!0,!!cd)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),o=()=>Yf.current=r.matches;r.addListener(o),o()}else Yf.current=!1}const gE=[...Qg,tr,gs],mE=r=>gE.find(qg(r)),xE=new WeakMap;function yE(r,o,a){for(const d in o){const p=o[d],x=a[d];if(nr(p))r.addValue(d,p);else if(nr(x))r.addValue(d,La(p,{owner:r}));else if(x!==p)if(r.hasValue(d)){const y=r.getValue(d);y.liveStyle===!0?y.jump(p):y.hasAnimated||y.set(p)}else{const y=r.getStaticValue(d);r.addValue(d,La(y!==void 0?y:p,{owner:r}))}}for(const d in a)o[d]===void 0&&r.removeValue(d);return o}const _p=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wE{scrapeMotionValuesFromProps(o,a,d){return{}}constructor({parent:o,props:a,presenceContext:d,reducedMotionConfig:p,blockInitialAnimation:x,visualState:y},A={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const M=hi.now();this.renderScheduledAt<M&&(this.renderScheduledAt=M,Qt.render(this.render,!1,!0))};const{latestValues:w,renderState:E,onUpdate:b}=y;this.onUpdate=b,this.latestValues=w,this.baseTarget={...w},this.initialValues=a.initial?{...w}:{},this.renderState=E,this.parent=o,this.props=a,this.presenceContext=d,this.depth=o?o.depth+1:0,this.reducedMotionConfig=p,this.options=A,this.blockInitialAnimation=!!x,this.isControllingVariants=Pc(a),this.isVariantNode=pg(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(o&&o.current);const{willChange:I,...R}=this.scrapeMotionValuesFromProps(a,{},this);for(const M in R){const L=R[M];w[M]!==void 0&&nr(L)&&L.set(w[M],!1)}}mount(o){this.current=o,xE.set(o,this),this.projection&&!this.projection.instance&&this.projection.mount(o),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,d)=>this.bindToMotionValue(d,a)),Im.current||pE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ps(this.notifyUpdate),ps(this.render),this.valueSubscriptions.forEach(o=>o()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const o in this.events)this.events[o].clear();for(const o in this.features){const a=this.features[o];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(o,a){this.valueSubscriptions.has(o)&&this.valueSubscriptions.get(o)();const d=qs.has(o);d&&this.onBindTransform&&this.onBindTransform();const p=a.on("change",A=>{this.latestValues[o]=A,this.props.onUpdate&&Qt.preRender(this.notifyUpdate),d&&this.projection&&(this.projection.isTransformDirty=!0)}),x=a.on("renderRequest",this.scheduleRender);let y;window.MotionCheckAppearSync&&(y=window.MotionCheckAppearSync(this,o,a)),this.valueSubscriptions.set(o,()=>{p(),x(),y&&y(),a.owner&&a.stop()})}sortNodePosition(o){return!this.current||!this.sortInstanceNodePosition||this.type!==o.type?0:this.sortInstanceNodePosition(this.current,o.current)}updateFeatures(){let o="animation";for(o in Po){const a=Po[o];if(!a)continue;const{isEnabled:d,Feature:p}=a;if(!this.features[o]&&p&&d(this.props)&&(this.features[o]=new p(this)),this.features[o]){const x=this.features[o];x.isMounted?x.update():(x.mount(),x.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(o){return this.latestValues[o]}setStaticValue(o,a){this.latestValues[o]=a}update(o,a){(o.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=o,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let d=0;d<_p.length;d++){const p=_p[d];this.propEventSubscriptions[p]&&(this.propEventSubscriptions[p](),delete this.propEventSubscriptions[p]);const x="on"+p,y=o[x];y&&(this.propEventSubscriptions[p]=this.on(p,y))}this.prevMotionValues=yE(this,this.scrapeMotionValuesFromProps(o,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(o){return this.props.variants?this.props.variants[o]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(o){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(o),()=>a.variantChildren.delete(o)}addValue(o,a){const d=this.values.get(o);a!==d&&(d&&this.removeValue(o),this.bindToMotionValue(o,a),this.values.set(o,a),this.latestValues[o]=a.get())}removeValue(o){this.values.delete(o);const a=this.valueSubscriptions.get(o);a&&(a(),this.valueSubscriptions.delete(o)),delete this.latestValues[o],this.removeValueFromRenderState(o,this.renderState)}hasValue(o){return this.values.has(o)}getValue(o,a){if(this.props.values&&this.props.values[o])return this.props.values[o];let d=this.values.get(o);return d===void 0&&a!==void 0&&(d=La(a===null?void 0:a,{owner:this}),this.addValue(o,d)),d}readValue(o,a){let d=this.latestValues[o]!==void 0||!this.current?this.latestValues[o]:this.getBaseTargetFromProps(this.props,o)??this.readValueFromInstance(this.current,o,this.options);return d!=null&&(typeof d=="string"&&(Zg(d)||jg(d))?d=parseFloat(d):!mE(d)&&gs.test(a)&&(d=Xg(o,a)),this.setBaseTarget(o,nr(d)?d.get():d)),nr(d)?d.get():d}setBaseTarget(o,a){this.baseTarget[o]=a}getBaseTarget(o){var x;const{initial:a}=this.props;let d;if(typeof a=="string"||typeof a=="object"){const y=Pd(this.props,a,(x=this.presenceContext)==null?void 0:x.custom);y&&(d=y[o])}if(a&&d!==void 0)return d;const p=this.getBaseTargetFromProps(this.props,o);return p!==void 0&&!nr(p)?p:this.initialValues[o]!==void 0&&d===void 0?void 0:this.baseTarget[o]}on(o,a){return this.events[o]||(this.events[o]=new pd),this.events[o].add(a)}notify(o,...a){this.events[o]&&this.events[o].notify(...a)}}class Nm extends wE{constructor(){super(...arguments),this.KeyframeResolver=Jg}sortInstanceNodePosition(o,a){return o.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(o,a){return o.style?o.style[a]:void 0}removeValueFromRenderState(o,{vars:a,style:d}){delete a[o],delete d[o]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:o}=this.props;nr(o)&&(this.childSubscription=o.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function vE(r){return window.getComputedStyle(r)}class CE extends Nm{constructor(){super(...arguments),this.type="html",this.renderInstance=Sg}readValueFromInstance(o,a){if(qs.has(a))return O3(o,a);{const d=vE(o),p=(bd(a)?d.getPropertyValue(a):d[a])||0;return typeof p=="string"?p.trim():p}}measureInstanceViewportBox(o,{transformPagePoint:a}){return pm(o,a)}build(o,a,d){Id(o,a,d.transformTemplate)}scrapeMotionValuesFromProps(o,a,d){return Od(o,a,d)}}class EE extends Nm{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=En,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&bg(this.current,this.renderState)}}getBaseTargetFromProps(o,a){return o[a]}readValueFromInstance(o,a){if(qs.has(a)){const d=Gg(a);return d&&d.default||0}return a=Tg.has(a)?a:Ad(a),o.getAttribute(a)}scrapeMotionValuesFromProps(o,a,d){return Ng(o,a,d)}onBindTransform(){this.current&&!this.renderState.dimensions&&Qt.postRender(this.updateDimensions)}build(o,a,d){_d(o,a,this.isSVGTag,d.transformTemplate)}renderInstance(o,a,d,p){Ig(o,a,d,p)}mount(o){this.isSVGTag=kd(o.tagName),super.mount(o)}}const AE=(r,o)=>Rd(r)?new EE(o):new CE(o,{allowProjection:r!==_.Fragment}),bE=o3({...Xv,...dE,...tE,...hE},AE),Oi=Ew(bE),SE=()=>{const{login:r,signup:o,user:a,logout:d,checkAuth:p}=_.useContext(Tr),[x,y]=_.useState(""),[A,w]=_.useState(""),[E,b]=_.useState(""),[I,R]=_.useState(null),[M,L]=_.useState(null),[F,B]=_.useState(""),[V,H]=_.useState(0),[U,ne]=_.useState({x:0,y:0}),[oe,le]=_.useState(1),[X,ce]=_.useState(null),[Q,_e]=_.useState(!1),[ke,Te]=_.useState(!1),[Ne,Re]=_.useState({}),[J,Ve]=_.useState({}),[ue,fe]=_.useState(!1),[ge,he]=_.useState(!1),[Z,de]=_.useState(null),We=Ir(),Ue=yi(),at=new URLSearchParams(Ue.search),Ee=at.get("redirect"),tt=at.get("code"),Fe=Ee==="lobby",xt=()=>{const Oe="abcdefghijklmnopqrstuvwxyz0123456789";let qe="";for(let it=0;it<10;it++)qe+=Oe.charAt(Math.floor(Math.random()*Oe.length));return qe};_.useEffect(()=>{if(Fe&&!x&&!A){const Oe=xt(),qe=xt();y(Oe),w(qe),Ve(it=>({...it,username:!0,password:!0})),Re(it=>({...it,username:"",password:""})),H(2)}},[Fe,x,A,E]),_.useEffect(()=>{V===2&&E&&yt(E)&&(fe(!0),Ve(Oe=>({...Oe,displayName:!0})),Re(Oe=>({...Oe,displayName:""})))},[V,E]);const me=Oe=>{const qe=/^[a-z0-9]+$/;return Oe.length>=2&&qe.test(Oe)},gt=Oe=>Oe.length>=2,yt=Oe=>Oe.length>=2,Pe=()=>{V<De.length-1&&(V===0&&!E&&(b(x),Ve(Oe=>({...Oe,displayName:!0})),Re(Oe=>({...Oe,displayName:""}))),V===1&&E&&E.length>=2?fe(!0):fe(!1),H(Oe=>Oe+1))},At=()=>{if(V>0){const Oe=V-1;H(Oe);const qe=De[Oe];if(qe.validate){const it=qe.value;qe.validate(it)&&fe(!0)}else fe(!0)}},Ft=(Oe,qe,it)=>{it(Oe.target.value);const Wt=Oe.target.value;qe(Wt)?(Ve(Ot=>({...Ot,[De[V].id]:!0})),Re(Ot=>({...Ot,[De[V].id]:""})),fe(!0)):(Ve(Ot=>({...Ot,[De[V].id]:!1})),Re(Ot=>({...Ot,[De[V].id]:"Must be at least 2 characters"})),fe(!1))},Gt=Oe=>{const qe=Oe.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(qe),me(qe)?(Ve(it=>({...it,username:!0})),Re(it=>({...it,username:""})),fe(!0)):(Ve(it=>({...it,username:!1})),Re(it=>({...it,username:"Must be at least 2 characters"})),fe(!1))},kt=Oe=>{Ft(Oe,gt,w)},St=Oe=>{Ft(Oe,yt,b)},mt=Oe=>{const qe=Oe.target.files[0];if(qe){const it=new FileReader;it.onload=Wt=>{const Ot=new Image;Ot.onload=()=>{let ct=Ot.width,jt=Ot.height;const Xt=1500;ct>jt&&ct>Xt?(jt=jt*Xt/ct,ct=Xt):jt>ct&&jt>Xt&&(ct=ct*Xt/jt,jt=Xt);const xn=document.createElement("canvas");xn.width=ct,xn.height=jt,xn.getContext("2d").drawImage(Ot,0,0,ct,jt);const be=xn.toDataURL("image/jpeg",.75);R(qe),L(be),_e(!0),Ve(Vt=>({...Vt,image:!0})),Re(Vt=>({...Vt,image:""})),fe(!0)},Ot.src=Wt.target.result},it.readAsDataURL(qe)}},Sn=(Oe,qe)=>{ce(qe)},Ie=async()=>{try{const Oe=await ed(M,X);L(Oe),_e(!1)}catch(Oe){console.error("Error cropping the image:",Oe),B("Failed to crop image. Please try again.")}},rt=async Oe=>{if(Oe.preventDefault(),Te(!0),B(""),console.log("Signup attempt - Username:",x,"Password:",A),!x||!A||!E){B("All fields are required"),Te(!1);return}if(!I||!M){B("Your profile picture is required👆🏼"),Te(!1);return}try{const qe="/signup",it=await fetch(window.server_url+qe,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:x,password:A})}),Wt=await it.json();if(Wt.error==="Username already taken")if(Fe){const Xt=xt(),xn=xt();y(Xt),w(xn);const Pt=await fetch(window.server_url+qe,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:Xt,password:xn})}),be=await Pt.json();if(!Pt.ok||be.error==="Username already taken"){B("Unable to create account. Please try again."),Te(!1);return}r(be)}else{B("Username is taken"),Te(!1);return}else{if(!it.ok){B(Wt.message||"Signup failed"),Te(!1);return}r(Wt)}await p();const Ot=localStorage.getItem("access_token");if(!Ot)throw new Error("Authentication failed");let ct=null;if(I)ct=M,ct=ct.split(",")[1];else{const Pt=await(await(await fetch("/assets/fakeprofile.png")).blob()).arrayBuffer();ct=btoa(new Uint8Array(Pt).reduce((be,Vt)=>be+String.fromCharCode(Vt),""))}if(!(await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${Ot}`,"Content-Type":"application/json"},body:JSON.stringify({name:E,image_data:ct})})).ok)throw new Error("Failed to update profile");await p(),We(Ee==="lobby"?tt?`/lobby?code=${tt}`:"/?showLobbyModal=true":Ee==="product-selection"?"/product-selection":"/")}catch(qe){console.error("Error:",qe),B("An error occurred. Please try again.")}Te(!1)},De=[{id:"username",label:"Username",value:x,onChange:Gt,type:"text",placeholder:"Enter a username",validate:me},{id:"password",label:"Password",value:A,onChange:kt,type:"text",placeholder:"Create a password",validate:gt},{id:"displayName",label:tt==="demolobby"?"Display Name (Type Any Name)":"Display Name (what people will see)",value:E,onChange:St,type:"text",placeholder:"Enter your preferred name",validate:yt},{id:"image",label:tt==="demolobby"?"Profile Image (Upload Any Image)":"Upload a Selfie (so people can find you)",type:"file",onChange:mt,accept:"image/*"}];return S.jsxs("div",{className:"signup-container",children:[S.jsx("button",{onClick:()=>We("/"),className:"homescreen-button",children:"Home"}),S.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),S.jsx("h3",{className:"signup-header",children:tt==="demolobby"?"Join the demo":"Sign Up to Join"}),tt&&tt!=="demolobby"&&S.jsxs("h2",{className:"signup-header",children:[tt," lobby"]}),tt==="demolobby"&&S.jsx("h2",{className:"signup-header",style:{fontSize:"0.9rem"},children:"Try Reuneo for Free!"}),S.jsxs("p",{className:"login-link-text",children:["Already have an account? ",S.jsx("a",{href:"#",onClick:Oe=>{Oe.preventDefault(),We("/login")},className:"login-link",children:"Login here"})]}),S.jsxs("div",{className:"step-form-container",children:[S.jsx("div",{className:"step-progress",children:(Fe?De.slice(2):De).map((Oe,qe)=>S.jsx("div",{className:`progress-dot ${Fe?(qe===V-2?"active":"")+(qe<V-2?" completed":""):(qe===V?"active":"")+(qe<V?" completed":"")}`},qe))}),S.jsxs("form",{onSubmit:rt,children:[S.jsx(h1,{mode:"wait",initial:!1,children:S.jsxs(Oi.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{type:"spring",stiffness:500,damping:25,mass:.3},className:"step active",style:{willChange:"transform, opacity"},children:[S.jsx("div",{className:"step-content",children:S.jsxs(Oi.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[S.jsx("label",{className:"step-label",children:De[V].label}),S.jsx(Oi.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.15,ease:"easeOut"},children:De[V].type==="file"?S.jsx("div",{className:"image-upload-container",children:Q?S.jsxs("div",{className:"cropper-container",children:[S.jsx("div",{className:"cropper-wrapper",children:S.jsx(Jf,{image:M,crop:U,zoom:oe,aspect:1,onCropComplete:Sn,onCropChange:ne,onZoomChange:le})}),S.jsxs("div",{className:"cropper-controls",children:[S.jsx("button",{type:"button",onClick:()=>{_e(!1),L(null),R(null)},className:"cancel-crop-button",children:"Cancel"}),S.jsx("button",{type:"button",onClick:Ie,className:"save-crop-button",children:"Good"})]})]}):S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"file",onChange:De[V].onChange,accept:De[V].accept,className:"step-input"}),M&&S.jsx("div",{children:S.jsx("img",{src:M,alt:"Profile preview",className:"profile-preview-image"})})]})}):S.jsx("input",{type:De[V].type,value:De[V].value,onChange:De[V].onChange,placeholder:De[V].placeholder,className:"step-input",autoFocus:!0})}),S.jsxs(h1,{mode:"wait",children:[Ne[De[V].id]&&S.jsx(Oi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"step-error",children:Ne[De[V].id]}),J[De[V].id]&&S.jsx(Oi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"step-success",children:"✓ Valid"})]})]})}),!Q&&S.jsxs("div",{className:"button-container",children:[V>0&&S.jsx(Oi.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:At,className:"backz-button",children:"← Back"}),ue&&V<De.length-1&&S.jsx(Oi.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:Pe,className:"nextz-button",children:"Next →"})]})]},V)}),F&&S.jsx(Oi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"error-message",children:F}),V===De.length-1&&S.jsx(Oi.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},type:"submit",className:"primary-button",disabled:ke,children:ke?"Loading...":"Complete Signup"})]})]})]})},TE=5e3,Rm=(r,o=null,a=null)=>{_.useEffect(()=>{const d=async()=>{try{const x=a?`${window.server_url}/display_lobby_metadata?lobby_code=${a}`:`${window.server_url}/display_lobby_metadata`,y=localStorage.getItem("access_token"),A=await fetch(x,{headers:{Authorization:`Bearer ${y}`,lobby_code:a}});if(!A.ok){console.error("Failed to fetch lobby metadata");return}const w=await A.json();r(w.player_count),o&&o(w.lobby_state)}catch(x){console.error("Error fetching lobby metadata:",x)}};d();const p=setInterval(d,TE);return()=>clearInterval(p)},[r,o,a])},_m=({profile:r})=>{var w,E,b,I;const o="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z",[a,d]=_.useState(!1),p={card:{backgroundColor:"#ffffff",borderRadius:"20px",boxShadow:"0 8px 32px rgba(20, 77, 255, 0.15)",padding:"1.5rem",margin:"0.5rem",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",maxWidth:"420px",border:"1px solid rgba(20, 77, 255, 0.1)",position:"relative",overflow:"hidden"},heading:{color:"#144dff",fontSize:"1.8rem",marginBottom:"1rem",fontWeight:"700",letterSpacing:"-0.5px",textAlign:"center"},imageContainer:{display:"flex",justifyContent:"center",marginBottom:"1rem",position:"relative"},image:{width:"120px",height:"120px",borderRadius:"60px",objectFit:"cover",border:"4px solid #144dff",boxShadow:"0 8px 24px rgba(20, 77, 255, 0.3)",transition:"transform 0.3s ease"},description:{color:"#4a5568",fontSize:"1.1rem",lineHeight:"1.7",marginBottom:"0.75rem",display:"-webkit-box",WebkitLineClamp:a?"unset":3,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:a?"unset":"ellipsis",textAlign:"center"},expandButton:{background:"linear-gradient(135deg, #144dff, #3b82f6)",border:"none",color:"white",cursor:"pointer",padding:"8px 16px",fontSize:"0.9rem",fontWeight:"600",borderRadius:"20px",transition:"all 0.2s ease",display:"block",margin:"0 auto 0.75rem",boxShadow:"0 4px 12px rgba(20, 77, 255, 0.3)"},linksContainer:{marginTop:"1rem",padding:"1rem 0 0",borderTop:"2px solid rgba(20, 77, 255, 0.1)",display:"flex",flexDirection:"column",gap:"0.5rem"},linkItem:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",color:"#144dff",textDecoration:"none",padding:"10px 16px",borderRadius:"12px",background:"rgba(20, 77, 255, 0.05)",transition:"all 0.3s ease",fontWeight:"500",border:"1px solid rgba(20, 77, 255, 0.1)"}},x=_.useRef(null),[y,A]=_.useState(!1);return _.useEffect(()=>{if(x.current){const R=x.current;A(R.scrollHeight>R.clientHeight)}},[r.description]),S.jsxs("div",{className:"profile-card",style:p.card,onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-8px)",R.currentTarget.style.boxShadow="0 16px 48px rgba(20, 77, 255, 0.25)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 8px 32px rgba(20, 77, 255, 0.15)"},children:[S.jsx("h2",{style:p.heading,children:r.name}),S.jsx("div",{style:p.imageContainer,children:S.jsx("img",{src:`data:image/jpeg;base64,${r.small_image_data}`,alt:`${r.name}'s profile`,style:p.image,onMouseEnter:R=>R.target.style.transform="scale(1.05)",onMouseLeave:R=>R.target.style.transform="scale(1)"})}),S.jsxs("div",{children:[S.jsx("p",{ref:x,style:p.description,children:r.description}),y&&S.jsx("button",{style:p.expandButton,onClick:R=>{R.stopPropagation(),d(!a)},onMouseEnter:R=>{R.target.style.transform="translateY(-2px)",R.target.style.boxShadow="0 6px 16px rgba(20, 77, 255, 0.4)"},onMouseLeave:R=>{R.target.style.transform="translateY(0)",R.target.style.boxShadow="0 4px 12px rgba(20, 77, 255, 0.3)"},children:a?"▲ Show less":"▼ Read more"})]}),S.jsx("div",{style:p.linksContainer,children:(w=r.media_link)!=null&&w.startsWith("https://www.linkedin.com/")?S.jsxs(S.Fragment,{children:[S.jsxs("a",{href:r.media_link,target:"_blank",rel:"noopener noreferrer",style:p.linkItem,onMouseEnter:R=>{R.target.style.background="rgba(20, 77, 255, 0.1)",R.target.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.target.style.background="rgba(20, 77, 255, 0.05)",R.target.style.transform="translateY(0)"},children:[S.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:S.jsx("path",{d:o})}),S.jsx("span",{style:{fontWeight:"600"},children:"LinkedIn Profile"})]}),r.other_link&&S.jsx("a",{href:r.other_link,target:"_blank",rel:"noopener noreferrer",style:p.linkItem,onMouseEnter:R=>{R.target.style.background="rgba(20, 77, 255, 0.1)",R.target.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.target.style.background="rgba(20, 77, 255, 0.05)",R.target.style.transform="translateY(0)"},children:S.jsxs("span",{children:["🌐 ",((E=r.other_link)==null?void 0:E.length)>35?r.other_link.substring(0,35)+"...":r.other_link]})})]}):S.jsxs(S.Fragment,{children:[r.media_link&&S.jsx("a",{href:r.media_link,target:"_blank",rel:"noopener noreferrer",style:p.linkItem,onMouseEnter:R=>{R.target.style.background="rgba(20, 77, 255, 0.1)",R.target.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.target.style.background="rgba(20, 77, 255, 0.05)",R.target.style.transform="translateY(0)"},children:S.jsxs("span",{children:["🔗 ",((b=r.media_link)==null?void 0:b.length)>35?r.media_link.substring(0,35)+"...":r.media_link]})}),r.other_link&&S.jsx("a",{href:r.other_link,target:"_blank",rel:"noopener noreferrer",style:p.linkItem,onMouseEnter:R=>{R.target.style.background="rgba(20, 77, 255, 0.1)",R.target.style.transform="translateY(-2px)"},onMouseLeave:R=>{R.target.style.background="rgba(20, 77, 255, 0.05)",R.target.style.transform="translateY(0)"},children:S.jsxs("span",{children:["🌐 ",((I=r.other_link)==null?void 0:I.length)>35?r.other_link.substring(0,35)+"...":r.other_link]})})]})})]})};function IE(){const[r,o]=_.useState([]),[a,d]=_.useState(null),[p,x]=_.useState(!1),[y,A]=_.useState(!1),[w,E]=_.useState(!1),b=async()=>{try{const B=localStorage.getItem("access_token"),V=await fetch(`${window.server_url}/cofounder_data`,{headers:{Authorization:`Bearer ${B}`}});if(!V.ok)throw new Error("Failed to fetch profiles");const H=await V.json();o(H),console.log("PROFILE DATA",H)}catch(B){console.error("Error fetching profiles:",B),d(B.message)}},I=async()=>{const B=localStorage.getItem("access_token"),V=await fetch(`${window.server_url}/delete_community_profile`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},method:"POST"});if(!V.ok)throw new Error("Failed to delete community profile");const H=await V.json();console.log(H),await b()},R=async()=>{E(!0);try{await I(),A(!1),setTimeout(()=>{E(!1)},1e3)}catch(B){console.error("Error deleting profile:",B),E(!1)}},M=async()=>{try{await b()}catch(B){console.error("Error fetching profiles after creation:",B),setTimeout(async()=>{try{await b()}catch(V){console.error("Retry failed:",V),d("Profile created successfully! Please refresh the page to see your new profile.")}},1e3)}},L={container:{minHeight:"100vh",width:"100%",background:"linear-gradient(135deg, #f5f7ff 0%, #e8ecf7 100%)",padding:"1rem 0",fontFamily:'"Inter", "Helvetica Neue", Arial, sans-serif',margin:0,boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center"},headerContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"1.5rem",width:"100%",maxWidth:"1200px",position:"relative",padding:"0 1rem"},logoContainer:{display:"flex",justifyContent:"center",marginBottom:"-3.0rem",marginTop:"-1rem"},logo:{maxWidth:"85px",height:"auto",objectFit:"contain"},headerTitle:{fontSize:"2.0rem",color:"#144dff",marginBottom:"1.2rem",fontWeight:"800",textAlign:"center",textShadow:"2px 2px 8px rgba(20, 77, 255, 0.15)",lineHeight:"1.2",letterSpacing:"-0.02em",background:"linear-gradient(135deg, #144dff 0%, #3b82f6 100%, #144dff 200%)",backgroundSize:"200% 100%",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},buttonContainer:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap",justifyContent:"center"},primaryButton:{background:"linear-gradient(135deg, #144dff, #3b82f6)",color:"white",border:"none",borderRadius:"16px",padding:"14px 28px",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontWeight:"600",boxShadow:"0 8px 24px rgba(20, 77, 255, 0.3)",position:"relative",overflow:"hidden"},deleteButton:{background:"linear-gradient(135deg, #ff4444, #dc2626)",color:"white",border:"none",borderRadius:"16px",padding:"14px 28px",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontWeight:"600",boxShadow:"0 8px 24px rgba(255, 68, 68, 0.3)"},backButton:{position:"fixed",bottom:"2rem",right:"2rem",background:"linear-gradient(135deg, #6b7280, #4b5563)",color:"white",border:"none",borderRadius:"16px",padding:"14px 28px",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontWeight:"600",boxShadow:"0 8px 24px rgba(107, 114, 128, 0.3)",zIndex:1e3},profilesWrapper:{width:"100%",display:"flex",justifyContent:"center",padding:"0 1rem"},profilesContainer:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem",maxWidth:"1400px",width:"100%"},loadingState:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",fontSize:"1.2rem",color:"#144dff",width:"100%"},errorState:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",fontSize:"1.2rem",color:"#dc2626",background:"rgba(220, 38, 38, 0.1)",borderRadius:"16px",padding:"2rem",margin:"2rem auto",maxWidth:"600px"}},F={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(20, 77, 255, 0.15)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3,animation:"fadeIn 0.3s ease-out"},popup:{backgroundColor:"#fff",padding:"2.5rem",borderRadius:"20px",boxShadow:"0 20px 60px rgba(20, 77, 255, 0.3)",textAlign:"center",maxWidth:"450px",width:"90%",border:"1px solid rgba(20, 77, 255, 0.1)",animation:"slideUp 0.3s ease-out"},title:{color:"#144dff",marginBottom:"1.5rem",fontSize:"1.8rem",fontWeight:"700"},message:{color:"#4b5563",marginBottom:"2rem",fontSize:"1.1rem",lineHeight:"1.6"},buttonContainer:{display:"flex",gap:"1rem",justifyContent:"center"},cancelButton:{backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"12px",padding:"12px 24px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"all 0.2s ease"},confirmButton:{backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"12px",padding:"12px 24px",cursor:"pointer",fontSize:"1rem",fontWeight:"600",transition:"all 0.2s ease"}};return _.useEffect(()=>{b()},[]),a?S.jsx("div",{style:L.container,children:S.jsxs("div",{style:L.errorState,children:["Error loading profiles: ",a]})}):S.jsxs("div",{style:L.container,children:[S.jsxs("div",{style:L.headerContainer,children:[S.jsx("div",{style:L.logoContainer,children:S.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",style:L.logo})}),S.jsxs("h1",{style:L.headerTitle,children:["Co-Founder",S.jsx("br",{}),"Network"]}),S.jsxs("div",{style:L.buttonContainer,children:[S.jsx("button",{style:L.primaryButton,onClick:()=>x(!0),onMouseEnter:B=>{B.target.style.transform="translateY(-3px)",B.target.style.boxShadow="0 12px 32px rgba(20, 77, 255, 0.4)"},onMouseLeave:B=>{B.target.style.transform="translateY(0)",B.target.style.boxShadow="0 8px 24px rgba(20, 77, 255, 0.3)"},children:"Create Profile"}),S.jsx("button",{style:L.deleteButton,onClick:()=>A(!0),onMouseEnter:B=>{B.target.style.transform="translateY(-3px)",B.target.style.boxShadow="0 12px 32px rgba(255, 68, 68, 0.4)"},onMouseLeave:B=>{B.target.style.transform="translateY(0)",B.target.style.boxShadow="0 8px 24px rgba(255, 68, 68, 0.3)"},children:"Delete Profile"})]})]}),S.jsx("button",{style:L.backButton,onClick:()=>window.history.back(),onMouseEnter:B=>{B.target.style.transform="translateY(-3px)",B.target.style.boxShadow="0 12px 32px rgba(107, 114, 128, 0.4)"},onMouseLeave:B=>{B.target.style.transform="translateY(0)",B.target.style.boxShadow="0 8px 24px rgba(107, 114, 128, 0.3)"},children:"Back"}),r.length===0?S.jsx("div",{style:L.loadingState,children:"Loading amazing co-founders..."}):S.jsx("div",{style:L.profilesWrapper,children:S.jsx("div",{style:L.profilesContainer,children:r.map(B=>S.jsx(_m,{profile:B},B.id||`profile-${B.name}-${Math.random()}`))})}),p&&S.jsx(RE,{onClose:()=>x(!1),onProfileCreated:M}),y&&S.jsx("div",{style:F.overlay,children:S.jsxs("div",{style:F.popup,children:[S.jsx("h3",{style:F.title,children:"Delete Profile"}),S.jsx("p",{style:F.message,children:"Are you sure you want to delete your community profile? This action cannot be undone."}),S.jsxs("div",{style:F.buttonContainer,children:[S.jsx("button",{style:F.cancelButton,onClick:()=>A(!1),disabled:w,onMouseEnter:B=>B.target.style.backgroundColor="#4b5563",onMouseLeave:B=>B.target.style.backgroundColor="#6b7280",children:"Cancel"}),S.jsx("button",{style:F.confirmButton,onClick:R,disabled:w,onMouseEnter:B=>B.target.style.backgroundColor="#b91c1c",onMouseLeave:B=>B.target.style.backgroundColor="#dc2626",children:w?"Deleting...":"Delete"})]})]})})]})}const NE=({onClose:r})=>(_.useEffect(()=>{const o=setTimeout(()=>{r()},1e3);return()=>clearTimeout(o)},[]),S.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",padding:"2rem",borderRadius:"16px",boxShadow:"0 20px 60px rgba(20, 77, 255, 0.3)",zIndex:1e3,textAlign:"center",border:"1px solid rgba(20, 77, 255, 0.1)"},children:S.jsx("h1",{style:{color:"#144dff",fontSize:"1.5rem",margin:0},children:"You need to login to create a community profile"})})),RE=({onClose:r,onProfileCreated:o})=>{const{user:a,userProfile:d,checkAuth:p,permissions:x}=_.useContext(Tr);if(!d)return S.jsx(NE,{onClose:r});const[y,A]=_.useState(""),[w,E]=_.useState(""),[b,I]=_.useState(""),[R,M]=_.useState(!1),[L,F]=_.useState(null),[B,V]=_.useState(null),[H,U]=_.useState(),ne=async(X,ce,Q,_e)=>{localStorage.getItem("access_token");const ke=await fetch(`${window.server_url}/create_community_profile`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:X,description:ce,small_image_data:d.small_image_data,media_link:Q,other_link:_e})});if(ke.ok)return await ke.json(),!0;{const Te=await ke.json();return console.log("ERROR DATA",Te),U(Te.detail),!1}},oe=async X=>{X.preventDefault(),M(!0),await ne(L.name,L.description,L.media_link,L.other_link)&&(U(null),M(!1),o&&await o(),setTimeout(()=>{r()},1e3))};_.useEffect(()=>{F({name:d.name,small_image_data:d.small_image_data,description:y,media_link:w,other_link:b})},[y,w,b,d]);const le={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(20, 77, 255, 0.15)",backdropFilter:"blur(8px)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,overflow:"auto",padding:"20px",boxSizing:"border-box"},popup:{backgroundColor:"#fff",padding:"2rem",borderRadius:"20px",boxShadow:"0 20px 60px rgba(20, 77, 255, 0.3)",position:"relative",width:"95%",maxWidth:"600px",maxHeight:"90vh",overflow:"auto",margin:"0 auto",border:"1px solid rgba(20, 77, 255, 0.1)"},closeButton:{position:"absolute",top:"15px",right:"15px",border:"none",background:"none",fontSize:"2rem",cursor:"pointer",color:"#144dff",transition:"all 0.2s ease",padding:"5px",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},form:{display:"flex",flexDirection:"column",gap:"1.5rem",marginTop:"1rem"},textarea:{padding:"1rem",borderRadius:"12px",border:"2px solid rgba(20, 77, 255, 0.2)",minHeight:"120px",fontSize:"16px",resize:"vertical",width:"100%",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s ease",backgroundColor:"#f9fafb"},input:{padding:"1rem",borderRadius:"12px",border:"2px solid rgba(20, 77, 255, 0.2)",fontSize:"16px",width:"100%",boxSizing:"border-box",fontFamily:"inherit",transition:"border-color 0.2s ease",backgroundColor:"#f9fafb"},submitButton:{background:"linear-gradient(135deg, #144dff, #3b82f6)",color:"white",padding:"1rem",border:"none",borderRadius:"12px",fontSize:"1.1rem",cursor:"pointer",transition:"all 0.3s ease",marginTop:"0.5rem",width:"100%",boxSizing:"border-box",fontWeight:"600",boxShadow:"0 8px 24px rgba(20, 77, 255, 0.3)"},title:{color:"#144dff",marginBottom:"1.5rem",fontSize:"2rem",textAlign:"center",wordWrap:"break-word",fontWeight:"700"},errorMessage:{color:"#dc2626",textAlign:"center",backgroundColor:"rgba(220, 38, 38, 0.1)",padding:"1rem",borderRadius:"12px",marginBottom:"1rem",border:"1px solid rgba(220, 38, 38, 0.2)"}};return S.jsx("div",{className:"popup-overlay",style:le.overlay,children:S.jsxs("div",{className:"create-profile-popup",style:le.popup,children:[H&&S.jsx("div",{style:le.errorMessage,children:H}),S.jsx("h2",{style:le.title,children:"Create Community Profile"}),L&&S.jsx(_m,{profile:L,edit:!0}),S.jsxs("form",{onSubmit:oe,style:le.form,children:[S.jsx("textarea",{name:"description",placeholder:"Tell us about yourself...",value:y,onChange:X=>A(X.target.value),style:le.textarea,onFocus:X=>X.target.style.borderColor="#144dff",onBlur:X=>X.target.style.borderColor="rgba(20, 77, 255, 0.2)"}),S.jsx("input",{type:"text",name:"media_link",placeholder:"Add your social media link (optional)",value:w,onChange:X=>E(X.target.value),style:le.input,onFocus:X=>X.target.style.borderColor="#144dff",onBlur:X=>X.target.style.borderColor="rgba(20, 77, 255, 0.2)"}),S.jsx("input",{type:"text",name:"other_link",placeholder:"Add your website or other link (optional)",value:b,onChange:X=>I(X.target.value),style:le.input,onFocus:X=>X.target.style.borderColor="#144dff",onBlur:X=>X.target.style.borderColor="rgba(20, 77, 255, 0.2)"}),S.jsx("button",{type:"submit",style:le.submitButton,onMouseEnter:X=>{X.target.style.transform="translateY(-2px)",X.target.style.boxShadow="0 12px 32px rgba(20, 77, 255, 0.4)"},onMouseLeave:X=>{X.target.style.transform="translateY(0)",X.target.style.boxShadow="0 8px 24px rgba(20, 77, 255, 0.3)"},disabled:R,children:R?"Creating...":"Create Profile"})]}),S.jsx("button",{onClick:r,style:le.closeButton,onMouseEnter:X=>{X.target.style.backgroundColor="rgba(20, 77, 255, 0.1)",X.target.style.transform="scale(1.1)"},onMouseLeave:X=>{X.target.style.backgroundColor="transparent",X.target.style.transform="scale(1)"},children:"×"})]})})},km=({left_position:r="50%",top_position:o="20px",position:a="fixed"})=>{const d=Ir(),p={position:a,display:"flex",justifyContent:"center",alignItems:"center",top:o,left:r,transform:"translateX(-50%)",zIndex:100,borderRadius:"14px",border:"none",cursor:"pointer",fontWeight:"bold",fontFamily:"Helvetica, sans-serif",fontSize:"0.9rem",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",transition:"all 0.3s ease",color:"#f5f7ff",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)",background:"linear-gradient(135deg, #144dff, #3b82f6)",padding:"12px 20px"};return S.jsxs("button",{onClick:()=>d("/cofounders"),style:p,onMouseEnter:x=>{x.target.style.transform="translateX(-50%) translateY(-2px)",x.target.style.boxShadow="0 12px 24px rgba(20, 77, 255, 0.4)"},onMouseLeave:x=>{x.target.style.transform="translateX(-50%) translateY(0)",x.target.style.boxShadow="0 7px 4px rgba(0, 0, 0, 0.1)"},children:["Co-Founders",S.jsx("br",{}),"Network"]})},_E=()=>{const[r,o]=_.useState(!1),[a,d]=_.useState(!1),[p,x]=_.useState(""),[y,A]=_.useState(""),[w,E]=_.useState(""),[b,I]=_.useState(null);Jp();const{user:R,userProfile:M,checkAuth:L,permissions:F}=_.useContext(Tr),[B,V]=_.useState(null),[H,U]=_.useState(null),[ne,oe]=_.useState([]),[le,X]=_.useState(!1),ce=Ir();Rm(V,U);const[Q,_e]=_.useState(!1);_.useRef(null);const ke=_.useRef(null),Te=async()=>{if(R){X(!0);try{const ue=localStorage.getItem("access_token"),fe=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${ue}`}});if(fe.ok){const ge=await fe.json();console.log("User's active lobbies:",ge),ge&&ge.lobbies&&Array.isArray(ge.lobbies)?oe(ge.lobbies):oe([])}else console.error("Failed to fetch user's active lobbies"),oe([])}catch(ue){console.error("Error fetching user's active lobbies:",ue),oe([])}finally{X(!1)}}};_.useEffect(()=>{R&&Te()},[R]),_.useEffect(()=>{L()},[]),_.useEffect(()=>{if(new URLSearchParams(window.location.search).get("showLobbyModal")==="true"&&R){d(!0);const ge=window.location.pathname;window.history.replaceState({},"",ge)}},[R]);const Ne=ue=>{(F==="admin"||F==="organizer")&&ce(`/admin_lobby_view?code=${ue}`)},Re=ue=>{ue.preventDefault();const ge=new FormData(ue.target).get("name");if(!ge||ge.trim()===""){A("Please enter a lobby code");return}const he=ge.toLowerCase().replace(/[^a-z0-9]/g,"");if(he===""){A("Lobby code must contain only letters and numbers");return}E(he),d(!1),console.log(he),x(he),ce(`/lobby?code=${he}`),x(""),A("")},J=()=>{_e(!1),ke.current&&(ke.current.clear(),ke.current=null)},Ve=()=>a?S.jsx("div",{className:"lobby-modal-overlay",children:S.jsxs("div",{className:"lobby-modal-container",children:[S.jsx("button",{onClick:()=>{d(!1),x(""),A(""),J()},className:"lobby-modal-close",children:"×"}),S.jsx("h2",{className:"lobby-modal-title",children:"Join Lobby"}),S.jsxs("form",{onSubmit:Re,className:"lobby-form",children:[S.jsxs("div",{className:"lobby-input-container",children:[S.jsx("input",{type:"text",name:"name",placeholder:"Enter Lobby Code",className:"lobby-input",pattern:"[a-zA-Z0-9]+",title:"Only letters and numbers are allowed",required:!0}),y&&S.jsx("div",{className:"lobby-error-message",children:y})]}),S.jsx("button",{type:"submit",className:"lobby-submit-button",children:"Join"})]})]})}):null;return S.jsxs("div",{style:{position:"relative",height:"var(--viewport-height)",overflow:"hidden"},children:[S.jsx("div",{style:{position:"absolute",top:"40%",left:"50%",width:"100%",height:"10%",zIndex:1e3},children:S.jsx(km,{position:"absolute",left_position:"0",top_position:"0"})}),S.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/assets/demo_app_home_video_cover.jpg",children:[S.jsx("source",{src:"/assets/demo_app_home_video_X2_small.mp4",type:"video/mp4"}),S.jsx("source",{src:"/assets/app_home_video_2.webm",type:"video/webm"}),S.jsx("img",{src:"/assets/demo_app_home_video_cover.jpg",alt:"Background fallback",style:{width:"100%",height:"100%",objectFit:"cover"}}),"Your browser does not support the video tag."]}),S.jsxs("div",{style:{position:"relative",zIndex:1,color:"white",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[S.jsx("div",{style:{position:"absolute",top:"0",left:"50%",transform:"translateX(-50%)"},children:S.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Logo",style:{width:"110px",height:"110px",objectFit:"contain"}})}),S.jsx("div",{style:{marginTop:"10%",display:"flex",flexDirection:"column"},children:S.jsx(Yy,{user:R,onProfileClick:()=>o(!0)})}),r&&S.jsx(x2,{onSubmit:ue=>{o(!1)},onClose:()=>o(!1),existingProfile:M}),S.jsx("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",width:"90%",maxWidth:"1200px",textAlign:"center",marginLeft:"auto",marginRight:"auto",zIndex:1,top:"50%"},children:S.jsx("h2",{className:"welcome-header",style:{color:"#ffffff",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:"4px 4px 8px rgba(0,0,0,0.9)",margin:0},children:R&&M&&(F==="admin"||F==="organizer")?(()=>{const ue="Create a Lobby",fe=M?M.name.slice(0,15):"";return S.jsxs(S.Fragment,{children:[ue.split("").map((ge,he)=>S.jsx("span",{style:{"--i":he+1,marginRight:ge===" "?"0.5em":"1px"},children:ge},`main-${he}`)),S.jsx("br",{}),fe&&fe.split("").map((ge,he)=>S.jsx("span",{style:{"--i":he+1,marginRight:ge===" "?"0.5em":"1px"},children:ge},`name-${he}`))]})})():(()=>{const ue="Join the Experience",fe=M?M.name.slice(0,15):"";return S.jsxs(S.Fragment,{children:[ue.split("").map((ge,he)=>S.jsx("span",{style:{"--i":he+1,marginRight:ge===" "?"0.5em":"1px"},children:ge},`main-${he}`)),S.jsx("br",{}),fe&&fe.split("").map((ge,he)=>S.jsx("span",{style:{"--i":he+1,marginRight:ge===" "?"0.5em":"1px"},children:ge},`name-${he}`))]})})()})}),S.jsx("div",{style:{position:"absolute",bottom:"20px",left:"50%",transform:"translateX(-50%)",width:"94%",display:"flex",flexDirection:"row",justifyContent:"center",gap:"1.5rem"},children:S.jsx("div",{className:"event-item",style:{width:"auto",maxWidth:"none",margin:"0",padding:"10px 20px",borderRadius:"16px",marginBottom:"20px",cursor:"pointer",opacity:1,display:"flex",flexDirection:"row",alignItems:"center",gap:"1.5rem",":hover":{transform:"translateY(-5px)"}},children:S.jsxs("div",{style:{display:"flex",gap:"1.5rem",flexDirection:"row",alignItems:"center"},children:[S.jsx("button",{className:`primary-button ${F!=="admin"&&F!=="organizer"?"join-lobby-button":""}`,onClick:()=>R?d(!0):ce("/signup?redirect=lobby"),disabled:B===null||H==="terminate",style:{opacity:1,cursor:B===null||H==="terminate"?"not-allowed":"pointer",padding:"16px 20px",backgroundColor:F!=="admin"&&F!=="organizer"?"transparent":"#144dff",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",display:"block",position:"relative",zIndex:1,textAlign:"center",outline:F!=="admin"&&F!=="organizer"?"none":"1px solid rgba(58, 53, 53, 0.7)",":hover":{backgroundColor:F!=="admin"&&F!=="organizer"?"transparent":"#535bf2",transform:"scale(1.02)"}},children:S.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Join Lobby"})}),F!=="admin"&&F!=="organizer"&&S.jsx("button",{className:"primary-button join-lobby-button",onClick:()=>window.location.href="https://reuneo.app/",style:{padding:"16px 20px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",display:"block",position:"relative",zIndex:1,textAlign:"center",outline:"none",":hover":{transform:"scale(1.02)"}},children:S.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Get Started"})}),(F==="admin"||F==="organizer")&&S.jsx("button",{className:`primary-button ${F==="admin"||F==="organizer"?"create-lobby-button":""}`,onClick:ne.length>0?void 0:()=>ce("/create_lobby"),disabled:ne.length>0,title:ne.length>0?"You already have an active lobby. Close it before creating a new one.":"Create a new lobby",style:{padding:"16px 20px",backgroundColor:ne.length>0?"rgba(128, 128, 128, 0.3)":"transparent",color:ne.length>0?"rgba(255, 255, 255, 0.5)":"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:ne.length>0?"0 2px 3px rgba(0, 0, 0, 0.2)":"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",width:"160px",margin:"0",position:"relative",zIndex:1,textAlign:"center",cursor:ne.length>0?"not-allowed":"pointer",opacity:ne.length>0?.6:1,":hover":{transform:ne.length>0?"none":"scale(1.02)"}},children:S.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",color:"inherit"},children:"Create Lobby"})})]})})}),(F==="admin"||F==="organizer")&&ne.length>0&&S.jsx("div",{className:"events-list",style:{position:"absolute",bottom:"calc(20px + 120px + 10px)",left:"50%",transform:"translateX(-50%)",width:"44%",height:"15%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.05), rgba(83, 91, 242, 0.05))",borderRadius:"30px",padding:"1rem",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.1)",justifyContent:"center",alignItems:"center"},children:le?S.jsx("div",{style:{textAlign:"center",color:"white"},children:S.jsx("p",{children:"Loading your lobbies..."})}):ne.length>0?S.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",perspective:"1000px"},children:ne.map((ue,fe)=>S.jsxs("div",{className:"card",style:{width:"calc(100% - 2rem)",maxWidth:"200px",minWidth:"150px",background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",boxShadow:"0 10px 30px rgba(20, 77, 255, 0.15)",border:"1px solid rgba(20, 77, 255, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",padding:"1rem 1rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transformStyle:"preserve-3d","&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(20, 77, 255, 0.1), rgba(83, 91, 242, 0.1))",opacity:0,transition:"opacity 0.4s ease"}},onClick:()=>Ne(ue),onMouseEnter:ge=>{ge.currentTarget.style.transform="translateY(-10px) rotateX(5deg)",ge.currentTarget.style.boxShadow="0 20px 40px rgba(20, 77, 255, 0.25)",ge.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.4)",ge.currentTarget.style.background="rgba(255, 255, 255, 0.98)"},onMouseLeave:ge=>{ge.currentTarget.style.transform="translateY(0) rotateX(0)",ge.currentTarget.style.boxShadow="0 10px 30px rgba(20, 77, 255, 0.15)",ge.currentTarget.style.border="1px solid rgba(20, 77, 255, 0.2)",ge.currentTarget.style.background="rgba(255, 255, 255, 0.95)"},children:[S.jsx("div",{className:"glow-button",style:{width:"30px",height:"30px",borderRadius:"50%",background:"linear-gradient(135deg, #144dff, #535bf2)",marginBottom:".5rem",marginTop:"-1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:".8rem",boxShadow:"0 8px 20px rgba(20, 77, 255, 0.3)",transition:"all 0.4s ease",position:"relative","&::after":{content:'""',position:"absolute",top:"-5px",left:"-5px",right:"-5px",bottom:"-5px",borderRadius:"50%",background:"linear-gradient(135deg, rgba(20, 77, 255, 0.2), rgba(83, 91, 242, 0.2))",zIndex:-1,animation:"pulse 2s infinite"}},children:ue&&ue.length>0?ue.charAt(0).toUpperCase():"?"}),S.jsxs("h3",{style:{marginTop:"0.5rem",color:"#144dff",fontWeight:"700",fontSize:".9em",fontFamily:"Helvetica",textAlign:"center",textShadow:"0 2px 4px rgba(20, 77, 255, 0.1)",letterSpacing:"0.5px"},children:["Lobby ",ue||"Unknown"]})]},fe))}):S.jsx("div",{style:{}})})]}),S.jsx(Ve,{})]})};function kE(){const{pathname:r}=yi();return _.useEffect(()=>{window.scrollTo(0,0)},[r]),null}const PE=()=>{const{login:r,signup:o,user:a,logout:d,checkAuth:p}=_.useContext(Tr),[x,y]=_.useState(""),[A,w]=_.useState(""),[E,b]=_.useState(""),[I,R]=_.useState(""),[M,L]=_.useState(!0),[F,B]=_.useState({}),[V,H]=_.useState(!1),U=Ir(),ne=X=>{const ce=/^[a-z0-9]+$/;return X.length>=2&&ce.test(X)},oe=X=>{const ce=X.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(ce),ce.length>0?H(!0):H(!1),ne(ce)?B(Q=>({...Q,username:""})):B(Q=>({...Q,username:" "}))},le=async X=>{if(X.preventDefault(),R(""),!ne(x)){R("Please enter a valid username");return}try{const ce=M?"/login":"/signup",Q=await fetch(window.server_url+ce,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:x,password:A}),mode:"cors"});if(Q.ok){const _e=await Q.json();r(_e),p(),U("/")}else{const _e=await Q.json();R(_e.message||`${M?"Login":"Signup"} failed`)}}catch(ce){R("Network error occurred. Please try again."),console.error("Error:",ce)}};return S.jsxs("div",{className:"login-container",children:[S.jsx("button",{onClick:()=>U("/"),className:"homescreen-button",children:"Home"}),S.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),S.jsx("h1",{className:"login-header",children:"Login"}),S.jsxs("div",{className:"login-signup-form",children:[I&&S.jsx("div",{className:"error-message",children:I}),S.jsxs("form",{onSubmit:le,children:[S.jsxs("div",{className:"form-group",children:[S.jsx("input",{type:"text",placeholder:"Username",className:"login-input",value:x,onChange:oe,required:!0}),V&&S.jsx("div",{className:"step-success",children:"lowercase letters and numbers only"})]}),S.jsx("div",{className:"form-group",children:S.jsx("input",{type:"text",placeholder:"Password",className:"login-input",value:A,onChange:X=>w(X.target.value),required:!0})}),S.jsx("button",{type:"submit",className:"login-primary-button",children:"Login"})]})]})]})},OE=()=>{const r=Ir(),{logout:o}=_.useContext(Tr);return localStorage.removeItem("access_token"),_.useEffect(()=>{console.log("LogoutPage useEffect"),setTimeout(()=>{o(),r("/")},100)},[]),S.jsx("div",{children:"Logged out redirecting to homescreen"})};var ME=Object.defineProperty,bc=Object.getOwnPropertySymbols,Pm=Object.prototype.hasOwnProperty,Om=Object.prototype.propertyIsEnumerable,kp=(r,o,a)=>o in r?ME(r,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[o]=a,Kf=(r,o)=>{for(var a in o||(o={}))Pm.call(o,a)&&kp(r,a,o[a]);if(bc)for(var a of bc(o))Om.call(o,a)&&kp(r,a,o[a]);return r},Zf=(r,o)=>{var a={};for(var d in r)Pm.call(r,d)&&o.indexOf(d)<0&&(a[d]=r[d]);if(r!=null&&bc)for(var d of bc(r))o.indexOf(d)<0&&Om.call(r,d)&&(a[d]=r[d]);return a};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var $s;(r=>{const o=class Rt{constructor(w,E,b,I){if(this.version=w,this.errorCorrectionLevel=E,this.modules=[],this.isFunction=[],w<Rt.MIN_VERSION||w>Rt.MAX_VERSION)throw new RangeError("Version value out of range");if(I<-1||I>7)throw new RangeError("Mask value out of range");this.size=w*4+17;let R=[];for(let L=0;L<this.size;L++)R.push(!1);for(let L=0;L<this.size;L++)this.modules.push(R.slice()),this.isFunction.push(R.slice());this.drawFunctionPatterns();const M=this.addEccAndInterleave(b);if(this.drawCodewords(M),I==-1){let L=1e9;for(let F=0;F<8;F++){this.applyMask(F),this.drawFormatBits(F);const B=this.getPenaltyScore();B<L&&(I=F,L=B),this.applyMask(F)}}p(0<=I&&I<=7),this.mask=I,this.applyMask(I),this.drawFormatBits(I),this.isFunction=[]}static encodeText(w,E){const b=r.QrSegment.makeSegments(w);return Rt.encodeSegments(b,E)}static encodeBinary(w,E){const b=r.QrSegment.makeBytes(w);return Rt.encodeSegments([b],E)}static encodeSegments(w,E,b=1,I=40,R=-1,M=!0){if(!(Rt.MIN_VERSION<=b&&b<=I&&I<=Rt.MAX_VERSION)||R<-1||R>7)throw new RangeError("Invalid value");let L,F;for(L=b;;L++){const U=Rt.getNumDataCodewords(L,E)*8,ne=y.getTotalBits(w,L);if(ne<=U){F=ne;break}if(L>=I)throw new RangeError("Data too long")}for(const U of[Rt.Ecc.MEDIUM,Rt.Ecc.QUARTILE,Rt.Ecc.HIGH])M&&F<=Rt.getNumDataCodewords(L,U)*8&&(E=U);let B=[];for(const U of w){a(U.mode.modeBits,4,B),a(U.numChars,U.mode.numCharCountBits(L),B);for(const ne of U.getData())B.push(ne)}p(B.length==F);const V=Rt.getNumDataCodewords(L,E)*8;p(B.length<=V),a(0,Math.min(4,V-B.length),B),a(0,(8-B.length%8)%8,B),p(B.length%8==0);for(let U=236;B.length<V;U^=253)a(U,8,B);let H=[];for(;H.length*8<B.length;)H.push(0);return B.forEach((U,ne)=>H[ne>>>3]|=U<<7-(ne&7)),new Rt(L,E,H,R)}getModule(w,E){return 0<=w&&w<this.size&&0<=E&&E<this.size&&this.modules[E][w]}getModules(){return this.modules}drawFunctionPatterns(){for(let b=0;b<this.size;b++)this.setFunctionModule(6,b,b%2==0),this.setFunctionModule(b,6,b%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const w=this.getAlignmentPatternPositions(),E=w.length;for(let b=0;b<E;b++)for(let I=0;I<E;I++)b==0&&I==0||b==0&&I==E-1||b==E-1&&I==0||this.drawAlignmentPattern(w[b],w[I]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(w){const E=this.errorCorrectionLevel.formatBits<<3|w;let b=E;for(let R=0;R<10;R++)b=b<<1^(b>>>9)*1335;const I=(E<<10|b)^21522;p(I>>>15==0);for(let R=0;R<=5;R++)this.setFunctionModule(8,R,d(I,R));this.setFunctionModule(8,7,d(I,6)),this.setFunctionModule(8,8,d(I,7)),this.setFunctionModule(7,8,d(I,8));for(let R=9;R<15;R++)this.setFunctionModule(14-R,8,d(I,R));for(let R=0;R<8;R++)this.setFunctionModule(this.size-1-R,8,d(I,R));for(let R=8;R<15;R++)this.setFunctionModule(8,this.size-15+R,d(I,R));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let w=this.version;for(let b=0;b<12;b++)w=w<<1^(w>>>11)*7973;const E=this.version<<12|w;p(E>>>18==0);for(let b=0;b<18;b++){const I=d(E,b),R=this.size-11+b%3,M=Math.floor(b/3);this.setFunctionModule(R,M,I),this.setFunctionModule(M,R,I)}}drawFinderPattern(w,E){for(let b=-4;b<=4;b++)for(let I=-4;I<=4;I++){const R=Math.max(Math.abs(I),Math.abs(b)),M=w+I,L=E+b;0<=M&&M<this.size&&0<=L&&L<this.size&&this.setFunctionModule(M,L,R!=2&&R!=4)}}drawAlignmentPattern(w,E){for(let b=-2;b<=2;b++)for(let I=-2;I<=2;I++)this.setFunctionModule(w+I,E+b,Math.max(Math.abs(I),Math.abs(b))!=1)}setFunctionModule(w,E,b){this.modules[E][w]=b,this.isFunction[E][w]=!0}addEccAndInterleave(w){const E=this.version,b=this.errorCorrectionLevel;if(w.length!=Rt.getNumDataCodewords(E,b))throw new RangeError("Invalid argument");const I=Rt.NUM_ERROR_CORRECTION_BLOCKS[b.ordinal][E],R=Rt.ECC_CODEWORDS_PER_BLOCK[b.ordinal][E],M=Math.floor(Rt.getNumRawDataModules(E)/8),L=I-M%I,F=Math.floor(M/I);let B=[];const V=Rt.reedSolomonComputeDivisor(R);for(let U=0,ne=0;U<I;U++){let oe=w.slice(ne,ne+F-R+(U<L?0:1));ne+=oe.length;const le=Rt.reedSolomonComputeRemainder(oe,V);U<L&&oe.push(0),B.push(oe.concat(le))}let H=[];for(let U=0;U<B[0].length;U++)B.forEach((ne,oe)=>{(U!=F-R||oe>=L)&&H.push(ne[U])});return p(H.length==M),H}drawCodewords(w){if(w.length!=Math.floor(Rt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let E=0;for(let b=this.size-1;b>=1;b-=2){b==6&&(b=5);for(let I=0;I<this.size;I++)for(let R=0;R<2;R++){const M=b-R,F=(b+1&2)==0?this.size-1-I:I;!this.isFunction[F][M]&&E<w.length*8&&(this.modules[F][M]=d(w[E>>>3],7-(E&7)),E++)}}p(E==w.length*8)}applyMask(w){if(w<0||w>7)throw new RangeError("Mask value out of range");for(let E=0;E<this.size;E++)for(let b=0;b<this.size;b++){let I;switch(w){case 0:I=(b+E)%2==0;break;case 1:I=E%2==0;break;case 2:I=b%3==0;break;case 3:I=(b+E)%3==0;break;case 4:I=(Math.floor(b/3)+Math.floor(E/2))%2==0;break;case 5:I=b*E%2+b*E%3==0;break;case 6:I=(b*E%2+b*E%3)%2==0;break;case 7:I=((b+E)%2+b*E%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[E][b]&&I&&(this.modules[E][b]=!this.modules[E][b])}}getPenaltyScore(){let w=0;for(let R=0;R<this.size;R++){let M=!1,L=0,F=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[R][B]==M?(L++,L==5?w+=Rt.PENALTY_N1:L>5&&w++):(this.finderPenaltyAddHistory(L,F),M||(w+=this.finderPenaltyCountPatterns(F)*Rt.PENALTY_N3),M=this.modules[R][B],L=1);w+=this.finderPenaltyTerminateAndCount(M,L,F)*Rt.PENALTY_N3}for(let R=0;R<this.size;R++){let M=!1,L=0,F=[0,0,0,0,0,0,0];for(let B=0;B<this.size;B++)this.modules[B][R]==M?(L++,L==5?w+=Rt.PENALTY_N1:L>5&&w++):(this.finderPenaltyAddHistory(L,F),M||(w+=this.finderPenaltyCountPatterns(F)*Rt.PENALTY_N3),M=this.modules[B][R],L=1);w+=this.finderPenaltyTerminateAndCount(M,L,F)*Rt.PENALTY_N3}for(let R=0;R<this.size-1;R++)for(let M=0;M<this.size-1;M++){const L=this.modules[R][M];L==this.modules[R][M+1]&&L==this.modules[R+1][M]&&L==this.modules[R+1][M+1]&&(w+=Rt.PENALTY_N2)}let E=0;for(const R of this.modules)E=R.reduce((M,L)=>M+(L?1:0),E);const b=this.size*this.size,I=Math.ceil(Math.abs(E*20-b*10)/b)-1;return p(0<=I&&I<=9),w+=I*Rt.PENALTY_N4,p(0<=w&&w<=2568888),w}getAlignmentPatternPositions(){if(this.version==1)return[];{const w=Math.floor(this.version/7)+2,E=this.version==32?26:Math.ceil((this.version*4+4)/(w*2-2))*2;let b=[6];for(let I=this.size-7;b.length<w;I-=E)b.splice(1,0,I);return b}}static getNumRawDataModules(w){if(w<Rt.MIN_VERSION||w>Rt.MAX_VERSION)throw new RangeError("Version number out of range");let E=(16*w+128)*w+64;if(w>=2){const b=Math.floor(w/7)+2;E-=(25*b-10)*b-55,w>=7&&(E-=36)}return p(208<=E&&E<=29648),E}static getNumDataCodewords(w,E){return Math.floor(Rt.getNumRawDataModules(w)/8)-Rt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][w]*Rt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][w]}static reedSolomonComputeDivisor(w){if(w<1||w>255)throw new RangeError("Degree out of range");let E=[];for(let I=0;I<w-1;I++)E.push(0);E.push(1);let b=1;for(let I=0;I<w;I++){for(let R=0;R<E.length;R++)E[R]=Rt.reedSolomonMultiply(E[R],b),R+1<E.length&&(E[R]^=E[R+1]);b=Rt.reedSolomonMultiply(b,2)}return E}static reedSolomonComputeRemainder(w,E){let b=E.map(I=>0);for(const I of w){const R=I^b.shift();b.push(0),E.forEach((M,L)=>b[L]^=Rt.reedSolomonMultiply(M,R))}return b}static reedSolomonMultiply(w,E){if(w>>>8||E>>>8)throw new RangeError("Byte out of range");let b=0;for(let I=7;I>=0;I--)b=b<<1^(b>>>7)*285,b^=(E>>>I&1)*w;return p(b>>>8==0),b}finderPenaltyCountPatterns(w){const E=w[1];p(E<=this.size*3);const b=E>0&&w[2]==E&&w[3]==E*3&&w[4]==E&&w[5]==E;return(b&&w[0]>=E*4&&w[6]>=E?1:0)+(b&&w[6]>=E*4&&w[0]>=E?1:0)}finderPenaltyTerminateAndCount(w,E,b){return w&&(this.finderPenaltyAddHistory(E,b),E=0),E+=this.size,this.finderPenaltyAddHistory(E,b),this.finderPenaltyCountPatterns(b)}finderPenaltyAddHistory(w,E){E[0]==0&&(w+=this.size),E.pop(),E.unshift(w)}};o.MIN_VERSION=1,o.MAX_VERSION=40,o.PENALTY_N1=3,o.PENALTY_N2=3,o.PENALTY_N3=40,o.PENALTY_N4=10,o.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],o.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],r.QrCode=o;function a(A,w,E){if(w<0||w>31||A>>>w)throw new RangeError("Value out of range");for(let b=w-1;b>=0;b--)E.push(A>>>b&1)}function d(A,w){return(A>>>w&1)!=0}function p(A){if(!A)throw new Error("Assertion error")}const x=class gn{constructor(w,E,b){if(this.mode=w,this.numChars=E,this.bitData=b,E<0)throw new RangeError("Invalid argument");this.bitData=b.slice()}static makeBytes(w){let E=[];for(const b of w)a(b,8,E);return new gn(gn.Mode.BYTE,w.length,E)}static makeNumeric(w){if(!gn.isNumeric(w))throw new RangeError("String contains non-numeric characters");let E=[];for(let b=0;b<w.length;){const I=Math.min(w.length-b,3);a(parseInt(w.substring(b,b+I),10),I*3+1,E),b+=I}return new gn(gn.Mode.NUMERIC,w.length,E)}static makeAlphanumeric(w){if(!gn.isAlphanumeric(w))throw new RangeError("String contains unencodable characters in alphanumeric mode");let E=[],b;for(b=0;b+2<=w.length;b+=2){let I=gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(b))*45;I+=gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(b+1)),a(I,11,E)}return b<w.length&&a(gn.ALPHANUMERIC_CHARSET.indexOf(w.charAt(b)),6,E),new gn(gn.Mode.ALPHANUMERIC,w.length,E)}static makeSegments(w){return w==""?[]:gn.isNumeric(w)?[gn.makeNumeric(w)]:gn.isAlphanumeric(w)?[gn.makeAlphanumeric(w)]:[gn.makeBytes(gn.toUtf8ByteArray(w))]}static makeEci(w){let E=[];if(w<0)throw new RangeError("ECI assignment value out of range");if(w<128)a(w,8,E);else if(w<16384)a(2,2,E),a(w,14,E);else if(w<1e6)a(6,3,E),a(w,21,E);else throw new RangeError("ECI assignment value out of range");return new gn(gn.Mode.ECI,0,E)}static isNumeric(w){return gn.NUMERIC_REGEX.test(w)}static isAlphanumeric(w){return gn.ALPHANUMERIC_REGEX.test(w)}getData(){return this.bitData.slice()}static getTotalBits(w,E){let b=0;for(const I of w){const R=I.mode.numCharCountBits(E);if(I.numChars>=1<<R)return 1/0;b+=4+R+I.bitData.length}return b}static toUtf8ByteArray(w){w=encodeURI(w);let E=[];for(let b=0;b<w.length;b++)w.charAt(b)!="%"?E.push(w.charCodeAt(b)):(E.push(parseInt(w.substring(b+1,b+3),16)),b+=2);return E}};x.NUMERIC_REGEX=/^[0-9]*$/,x.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,x.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let y=x;r.QrSegment=x})($s||($s={}));(r=>{(o=>{const a=class{constructor(p,x){this.ordinal=p,this.formatBits=x}};a.LOW=new a(0,1),a.MEDIUM=new a(1,0),a.QUARTILE=new a(2,3),a.HIGH=new a(3,2),o.Ecc=a})(r.QrCode||(r.QrCode={}))})($s||($s={}));(r=>{(o=>{const a=class{constructor(p,x){this.modeBits=p,this.numBitsCharCount=x}numCharCountBits(p){return this.numBitsCharCount[Math.floor((p+7)/17)]}};a.NUMERIC=new a(1,[10,12,14]),a.ALPHANUMERIC=new a(2,[9,11,13]),a.BYTE=new a(4,[8,16,16]),a.KANJI=new a(8,[8,10,12]),a.ECI=new a(7,[0,0,0]),o.Mode=a})(r.QrSegment||(r.QrSegment={}))})($s||($s={}));var _o=$s;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var DE={L:_o.QrCode.Ecc.LOW,M:_o.QrCode.Ecc.MEDIUM,Q:_o.QrCode.Ecc.QUARTILE,H:_o.QrCode.Ecc.HIGH},Mm=128,Dm="L",Lm="#FFFFFF",Bm="#000000",Fm=!1,jm=1,LE=4,BE=0,FE=.1;function Vm(r,o=0){const a=[];return r.forEach(function(d,p){let x=null;d.forEach(function(y,A){if(!y&&x!==null){a.push(`M${x+o} ${p+o}h${A-x}v1H${x+o}z`),x=null;return}if(A===d.length-1){if(!y)return;x===null?a.push(`M${A+o},${p+o} h1v1H${A+o}z`):a.push(`M${x+o},${p+o} h${A+1-x}v1H${x+o}z`);return}y&&x===null&&(x=A)})}),a.join("")}function zm(r,o){return r.slice().map((a,d)=>d<o.y||d>=o.y+o.h?a:a.map((p,x)=>x<o.x||x>=o.x+o.w?p:!1))}function jE(r,o,a,d){if(d==null)return null;const p=r.length+a*2,x=Math.floor(o*FE),y=p/o,A=(d.width||x)*y,w=(d.height||x)*y,E=d.x==null?r.length/2-A/2:d.x*y,b=d.y==null?r.length/2-w/2:d.y*y,I=d.opacity==null?1:d.opacity;let R=null;if(d.excavate){let L=Math.floor(E),F=Math.floor(b),B=Math.ceil(A+E-L),V=Math.ceil(w+b-F);R={x:L,y:F,w:B,h:V}}const M=d.crossOrigin;return{x:E,y:b,h:w,w:A,excavation:R,opacity:I,crossOrigin:M}}function VE(r,o){return o!=null?Math.max(Math.floor(o),0):r?LE:BE}function Um({value:r,level:o,minVersion:a,includeMargin:d,marginSize:p,imageSettings:x,size:y,boostLevel:A}){let w=rn.useMemo(()=>{const L=(Array.isArray(r)?r:[r]).reduce((F,B)=>(F.push(..._o.QrSegment.makeSegments(B)),F),[]);return _o.QrCode.encodeSegments(L,DE[o],a,void 0,void 0,A)},[r,o,a,A]);const{cells:E,margin:b,numCells:I,calculatedImageSettings:R}=rn.useMemo(()=>{let M=w.getModules();const L=VE(d,p),F=M.length+L*2,B=jE(M,y,L,x);return{cells:M,margin:L,numCells:F,calculatedImageSettings:B}},[w,y,x,d,p]);return{qrcode:w,margin:b,cells:E,numCells:I,calculatedImageSettings:R}}var zE=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),UE=rn.forwardRef(function(o,a){const d=o,{value:p,size:x=Mm,level:y=Dm,bgColor:A=Lm,fgColor:w=Bm,includeMargin:E=Fm,minVersion:b=jm,boostLevel:I,marginSize:R,imageSettings:M}=d,F=Zf(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:B}=F,V=Zf(F,["style"]),H=M==null?void 0:M.src,U=rn.useRef(null),ne=rn.useRef(null),oe=rn.useCallback(Re=>{U.current=Re,typeof a=="function"?a(Re):a&&(a.current=Re)},[a]),[le,X]=rn.useState(!1),{margin:ce,cells:Q,numCells:_e,calculatedImageSettings:ke}=Um({value:p,level:y,minVersion:b,boostLevel:I,includeMargin:E,marginSize:R,imageSettings:M,size:x});rn.useEffect(()=>{if(U.current!=null){const Re=U.current,J=Re.getContext("2d");if(!J)return;let Ve=Q;const ue=ne.current,fe=ke!=null&&ue!==null&&ue.complete&&ue.naturalHeight!==0&&ue.naturalWidth!==0;fe&&ke.excavation!=null&&(Ve=zm(Q,ke.excavation));const ge=window.devicePixelRatio||1;Re.height=Re.width=x*ge;const he=x/_e*ge;J.scale(he,he),J.fillStyle=A,J.fillRect(0,0,_e,_e),J.fillStyle=w,zE?J.fill(new Path2D(Vm(Ve,ce))):Q.forEach(function(Z,de){Z.forEach(function(We,Ue){We&&J.fillRect(Ue+ce,de+ce,1,1)})}),ke&&(J.globalAlpha=ke.opacity),fe&&J.drawImage(ue,ke.x+ce,ke.y+ce,ke.w,ke.h)}}),rn.useEffect(()=>{X(!1)},[H]);const Te=Kf({height:x,width:x},B);let Ne=null;return H!=null&&(Ne=rn.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{X(!0)},ref:ne,crossOrigin:ke==null?void 0:ke.crossOrigin})),rn.createElement(rn.Fragment,null,rn.createElement("canvas",Kf({style:Te,height:x,width:x,ref:oe,role:"img"},V)),Ne)});UE.displayName="QRCodeCanvas";var Ud=rn.forwardRef(function(o,a){const d=o,{value:p,size:x=Mm,level:y=Dm,bgColor:A=Lm,fgColor:w=Bm,includeMargin:E=Fm,minVersion:b=jm,boostLevel:I,title:R,marginSize:M,imageSettings:L}=d,F=Zf(d,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:B,cells:V,numCells:H,calculatedImageSettings:U}=Um({value:p,level:y,minVersion:b,boostLevel:I,includeMargin:E,marginSize:M,imageSettings:L,size:x});let ne=V,oe=null;L!=null&&U!=null&&(U.excavation!=null&&(ne=zm(V,U.excavation)),oe=rn.createElement("image",{href:L.src,height:U.h,width:U.w,x:U.x+B,y:U.y+B,preserveAspectRatio:"none",opacity:U.opacity,crossOrigin:U.crossOrigin}));const le=Vm(ne,B);return rn.createElement("svg",Kf({height:x,width:x,viewBox:`0 0 ${H} ${H}`,ref:a,role:"img"},F),!!R&&rn.createElement("title",null,R),rn.createElement("path",{fill:A,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),rn.createElement("path",{fill:w,d:le,shapeRendering:"crispEdges"}),oe)});Ud.displayName="QRCodeSVG";const WE=({player:r})=>S.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"350px",height:"500px",margin:"0 auto",position:"relative"},children:r!=null&&r.image_data?S.jsxs("div",{style:{position:"relative",width:"350px",height:"450px"},children:[S.jsx("img",{src:`data:image/jpeg;base64,${r.image_data}`,alt:r.name,style:{width:"350px",height:"450px",objectFit:"cover",borderRadius:"50px",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",margin:"auto",display:"block"},onError:o=>{console.error("Image failed to load:",o),o.target.style.display="none"}}),S.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]}):S.jsxs("div",{style:{width:"350px",height:"450px",backgroundColor:"#f0f0f0",borderRadius:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:[S.jsx("p",{style:{marginBottom:"60px"},children:"No image available"}),S.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:r.name})]})});var Pp=typeof window>"u"?_.useEffect:_.useLayoutEffect,HE=({isPlaying:r,duration:o,startAt:a=0,updateInterval:d=0,onComplete:p,onUpdate:x})=>{let[y,A]=_.useState(a),w=_.useRef(0),E=_.useRef(a),b=_.useRef(a*-1e3),I=_.useRef(null),R=_.useRef(null),M=_.useRef(null),L=V=>{let H=V/1e3;if(R.current===null){R.current=H,I.current=requestAnimationFrame(L);return}let U=H-R.current,ne=w.current+U;R.current=H,w.current=ne;let oe=E.current+(d===0?ne:(ne/d|0)*d),le=E.current+ne,X=typeof o=="number"&&le>=o;A(X?o:oe),X||(I.current=requestAnimationFrame(L))},F=()=>{I.current&&cancelAnimationFrame(I.current),M.current&&clearTimeout(M.current),R.current=null},B=_.useCallback(V=>{F(),w.current=0;let H=typeof V=="number"?V:a;E.current=H,A(H),r&&(I.current=requestAnimationFrame(L))},[r,a]);return Pp(()=>{if(x==null||x(y),o&&y>=o){b.current+=o*1e3;let{shouldRepeat:V=!1,delay:H=0,newStartAt:U}=(p==null?void 0:p(b.current/1e3))||{};V&&(M.current=setTimeout(()=>B(U),H*1e3))}},[y,o]),Pp(()=>(r&&(I.current=requestAnimationFrame(L)),F),[r,o,d]),{elapsedTime:y,reset:B}},GE=(r,o,a)=>{let d=r/2,p=o/2,x=d-p,y=2*x,A=a==="clockwise"?"1,0":"0,1",w=2*Math.PI*x;return{path:`m ${d},${p} a ${x},${x} 0 ${A} 0,${y} a ${x},${x} 0 ${A} 0,-${y}`,pathLength:w}},Op=(r,o)=>r===0||r===o?0:typeof o=="number"?r-o:0,XE=r=>({position:"relative",width:r,height:r}),YE={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},Wm=(r,o,a,d,p)=>{if(d===0)return o;let x=(p?d-r:r)/d;return o+a*x},Mp=r=>{var o,a;return(a=(o=r.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(d,p,x,y)=>`#${p}${p}${x}${x}${y}${y}`).substring(1).match(/.{2}/g))==null?void 0:o.map(d=>parseInt(d,16)))!=null?a:[]},KE=(r,o)=>{var a;let{colors:d,colorsTime:p,isSmoothColorTransition:x=!0}=r;if(typeof d=="string")return d;let y=(a=p==null?void 0:p.findIndex((R,M)=>R>=o&&o>=p[M+1]))!=null?a:-1;if(!p||y===-1)return d[0];if(!x)return d[y];let A=p[y]-o,w=p[y]-p[y+1],E=Mp(d[y]),b=Mp(d[y+1]),I=!!r.isGrowing;return`rgb(${E.map((R,M)=>Wm(A,R,b[M]-R,w,I)|0).join(",")})`},ZE=r=>{let{duration:o,initialRemainingTime:a,updateInterval:d,size:p=180,strokeWidth:x=12,trailStrokeWidth:y,isPlaying:A=!1,isGrowing:w=!1,rotation:E="clockwise",onComplete:b,onUpdate:I}=r,R=_.useRef(),M=Math.max(x,y??0),{path:L,pathLength:F}=GE(p,M,E),{elapsedTime:B}=HE({isPlaying:A,duration:o,startAt:Op(o,a),updateInterval:d,onUpdate:typeof I=="function"?H=>{let U=Math.ceil(o-H);U!==R.current&&(R.current=U,I(U))}:void 0,onComplete:typeof b=="function"?H=>{var U;let{shouldRepeat:ne,delay:oe,newInitialRemainingTime:le}=(U=b(H))!=null?U:{};if(ne)return{shouldRepeat:ne,delay:oe,newStartAt:Op(o,le)}}:void 0}),V=o-B;return{elapsedTime:B,path:L,pathLength:F,remainingTime:Math.ceil(V),rotation:E,size:p,stroke:KE(r,V),strokeDashoffset:Wm(B,0,F,o,w),strokeWidth:x}},Wd=r=>{let{children:o,strokeLinecap:a,trailColor:d,trailStrokeWidth:p}=r,{path:x,pathLength:y,stroke:A,strokeDashoffset:w,remainingTime:E,elapsedTime:b,size:I,strokeWidth:R}=ZE(r);return rn.createElement("div",{style:XE(I)},rn.createElement("svg",{viewBox:`0 0 ${I} ${I}`,width:I,height:I,xmlns:"http://www.w3.org/2000/svg"},rn.createElement("path",{d:x,fill:"none",stroke:d??"#d9d9d9",strokeWidth:p??R}),rn.createElement("path",{d:x,fill:"none",stroke:A,strokeLinecap:a??"round",strokeWidth:R,strokeDasharray:y,strokeDashoffset:w})),typeof o=="function"&&rn.createElement("div",{style:YE},o({remainingTime:E,elapsedTime:b,color:A})))};Wd.displayName="CountdownCircleTimer";const $E=({onComplete:r})=>{const[o,a]=_.useState(5),[d,p]=_.useState(!1),x=_.useRef(null),y=_.useRef(null);_.useEffect(()=>(x.current&&clearTimeout(x.current),y.current&&clearInterval(y.current),y.current=setInterval(()=>{p(!0),x.current=setTimeout(()=>{a(w=>w<=1?(y.current&&clearInterval(y.current),x.current&&clearTimeout(x.current),r&&r(),0):w-1),p(!1)},500)},1500),()=>{y.current&&clearInterval(y.current),x.current&&clearTimeout(x.current)}),[r]);const A=d?"pop-burst":"";return S.jsx("div",{className:"lobby-countdown-overlay",children:S.jsxs("div",{className:`lobby-countdown-container ${A}`,children:[S.jsx("div",{className:"lobby-countdown-number",children:o}),S.jsx("div",{className:"lobby-countdown-text",children:o>0?"Get ready!":"Starting..."})]})})},qE=({onComplete:r,lobbyCode:o="this"})=>{const{userProfile:a}=_.useContext(Tr),[d,p]=_.useState(0),[x,y]=_.useState(!1),[A,w]=_.useState(!1),[E,b]=_.useState([0]),[I,R]=_.useState(!1),M=_.useRef(null),L=_.useRef(null),F=[{image:a!=null&&a.image_data?`data:image/jpeg;base64,${a.image_data}`:"/assets/how_to_pt1_1.svg",duration:2e3,animatedText:"Find your match using their profile picture!"},{image:"/assets/how_to_pt2_2.svg",duration:4e3,animatedText:"Raise the volume, you need it to know whats going on!"},{image:"/assets/how_to_pt3_3.svg",duration:4e3,animatedText:"Tap this to stop or pause, you can rejoin anytime"}];return _.useEffect(()=>{const B=()=>{if(d>=F.length-1){clearInterval(M.current),r&&r();return}y(!0);const V=d+1;b([d,V]),L.current=setTimeout(()=>{R(!1),p(V),y(!1),setTimeout(()=>{b([V]),w(!0),F[V].animatedText&&R(!0)},500)},500)};return M.current=setInterval(B,F[d].duration),w(!0),d===0&&F[0].animatedText&&R(!0),()=>{M.current&&clearInterval(M.current),L.current&&clearTimeout(L.current)}},[d,F.length,r]),S.jsx("div",{className:"tutorial-overlay",children:S.jsxs("div",{className:"tutorial-container",children:[E.map(B=>S.jsxs("div",{className:`tutorial-slide ${B===d?"current":B<d?"previous":"next"}`,children:[B===d&&F[B].animatedText&&I&&S.jsx("div",{className:"animated-text pop-burst",children:F[B].animatedText}),B===1&&S.jsx("div",{className:"volume-arrow-container",children:S.jsx("svg",{className:"volume-arrow",width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M19 12H5M5 12L12 5M5 12L12 19",stroke:"#144dff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),S.jsx("div",{className:`tutorial-image-container ${B===0?"first-slide":""}`,children:S.jsx("img",{src:F[B].image,alt:`Tutorial step ${B+1}`,className:"tutorial-image"})}),S.jsx("div",{className:`tutorial-text ${A&&B===d?"text-animate":""}`,children:F[B].text})]},B)),S.jsx("div",{className:"tutorial-progress",children:F.map((B,V)=>S.jsx("div",{className:`progress-dot ${V===d?"active":""}`},V))})]})})},QE=({isVisible:r,onAnimationEnd:o})=>{const[a,d]=_.useState(!1),p=_.useRef(null);return _.useEffect(()=>(p.current&&clearTimeout(p.current),r?(d(!0),p.current=setTimeout(()=>{d(!1),o&&o()},3e3)):d(!1),()=>{p.current&&(clearTimeout(p.current),p.current=null)}),[r,o]),a?S.jsxs("div",{className:"match-overlay",children:[S.jsxs("div",{className:"confetti-container",children:[[...Array(50)].map((x,y)=>S.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":Math.random()*.2}},`first-${y}`)),[...Array(50)].map((x,y)=>S.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":`${.6+Math.random()*.2}s`}},`second-${y}`))]}),S.jsx("div",{className:"match-text",children:"It's a Match!"})]}):null},JE=({isVisible:r,onAnimationEnd:o})=>{const[a,d]=_.useState(!1),p=_.useRef(null);return _.useEffect(()=>(p.current&&clearTimeout(p.current),r?(d(!0),p.current=setTimeout(()=>{d(!1),o&&o()},1800)):d(!1),()=>{p.current&&(clearTimeout(p.current),p.current=null)}),[r,o]),a?S.jsxs("div",{className:"ready-overlay",children:[S.jsxs("div",{className:"confetti-container",children:[[...Array(50)].map((x,y)=>S.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":Math.random()*.2}},`first-${y}`)),[...Array(50)].map((x,y)=>S.jsx("div",{className:`confetti confetti-${y%5}`,style:{"--rand-x":Math.random(),"--rand-y":Math.random(),"--rand-rotation":Math.random()*720,"--rand-delay":`${.6+Math.random()*.2}s`}},`second-${y}`))]}),S.jsx("div",{className:"ready-text",children:"You're ready!"})]}):null},oc=9,eA=5,tA=5e3,nA=()=>{const r=Math.floor(540),[o,a]=_.useState([]),[d,p]=_.useState("self"),[x,y]=_.useState(!1),[A,w]=_.useState(""),E=_.useRef(null),b=_.useRef(null),[I,R]=_.useState(!1),M=_.useRef(!1),[L,F]=_.useState(!1),{loadSound:B,seekTo:V,cancelSound:H,checkSound:U,soundEnabled:ne,setSoundEnabled:oe,isPlaying:le}=Jp(),[X,ce]=_.useState("yonder"),Q=Ir(),{code:_e}=Y2(),[ke,Te]=_.useState(null);Rm(Te,null,X);const{user:Ne,userProfile:Re,checkAuth:J,permissions:Ve}=_.useContext(Tr);_.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token"))try{Ne||await J()}catch(Ge){console.error("Authentication error:",Ge);const Ke=new URLSearchParams(window.location.search).get("code")||_e;Q(Ke?`/signup?redirect=lobby&code=${Ke}`:"/signup?redirect=lobby")}else{await fetch(window.server_url+"/debug?username="+Ne+"&message=no token on the lobby page",{method:"GET"});const ot=new URLSearchParams(window.location.search).get("code")||_e;Q(ot?`/signup?redirect=lobby&code=${ot}`:"/signup?redirect=lobby")}})()},[Q,_e,J,Ne]),_.useEffect(()=>{(()=>{const Ge=new URLSearchParams(window.location.search).get("code")||_e;if(Ge){ce(Ge),vt(Ge);const ot=`hasSeenTutorial_${Ge}`,Ke=localStorage.getItem(ot),ut=!!localStorage.getItem("access_token");console.log("Tutorial check:",{codeParam:Ge,lobbyTutorialKey:ot,hasSeenLobbyTutorial:Ke,isAuthenticated:ut}),!Ke&&ut&&(Ur(!0),localStorage.setItem(ot,"true"))}})()},[_e]);const[ue,fe]=_.useState(null),[ge,he]=_.useState(null),[Z,de]=_.useState(null),[We,Ue]=_.useState(null),[at,Ee]=_.useState(null),tt=_.useRef(!1),Fe=_.useRef(null),xt=_.useRef(null),[me,gt]=_.useState(null),[yt,Pe]=_.useState(null),[At,Ft]=_.useState(null),[Gt,kt]=_.useState(null),[St,mt]=_.useState(!0),Sn=_.useRef(0),[Ie,rt]=_.useState(null),[De,Oe]=_.useState(null),[qe,it]=_.useState([]),[Wt,Ot]=_.useState([]),[ct,jt]=_.useState(!document.hidden),Xt=_.useRef("yonder"),xn=_.useRef({}),Pt=_.useRef([]),[be,Vt]=_.useState(!1),Tt=_.useRef(null),[Yt,zr]=_.useState(!1);_.useEffect(()=>{Xt.current=X},[X]);async function ei(Le,Ze){const Ge=localStorage.getItem("access_token"),Ke=await(await fetch(window.server_url+"/set_profile_info",{method:"POST",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify({tags_work:Le,tags_desiring_work:Ze})})).json();console.log("SET PROFILE INFO:",Ke)}const Fi=async Le=>{if(Le.length!==0){Vt(!0);try{const Ze=localStorage.getItem("access_token"),Ge=await fetch(`${window.server_url}/load_batch_pfp_small_icons`,{method:"POST",headers:{Authorization:`Bearer ${Ze}`,"Content-Type":"application/json",lobby_code:Xt.current},body:JSON.stringify({usernames:Le})});if(Ge.ok){const ot=await Ge.json();xn.current={...xn.current,...ot},console.log("Profile images fetched:",Object.keys(ot))}else console.error("Failed to fetch profile images:",Ge.status)}catch(Ze){console.error("Error fetching profile images:",Ze)}finally{Vt(!1)}}},vt=async Le=>{try{const Ze=await fetch(`${window.server_url}/lobby_setup_data`,{headers:{lobby_code:Le}});if(Ze.ok){const Ge=await Ze.json();Ge.logo_icon?(Tt.current=Ge.logo_icon,zr(!0),console.log("Sponsor logo loaded successfully")):console.log("No sponsor logo available for this lobby")}else console.error("Failed to fetch lobby setup data:",Ze.status)}catch(Ze){console.error("Error fetching lobby setup data:",Ze)}};async function Xn(){try{const Le=localStorage.getItem("access_token");H(),xn.current={},Pt.current=[],(await fetch(window.server_url+"/disconnect_lobby",{headers:{Authorization:`Bearer ${Le}`,lobby_code:X}})).ok&&Q("/")}catch(Le){console.error("Error disconnecting from lobby:",Le),Q("/")}finally{H(),Q("/"),console.log("finally")}}const[ys,ji]=_.useState(!1),[Yn,Vi]=_.useState(null),sn=_.useRef(!1),[Nr,ti]=_.useState(!1),[An,zi]=_.useState(null),rr=(Le,Ze)=>{if(!Le||!Ze)return null;for(const Ge of Le.tags_work)if(Ze.desiring_tags_work.includes(Ge)){for(const ot of Ze.tags_work)if(Le.desiring_tags_work.includes(ot))return{playerTag:Ge,opponentTag:ot}}return null};async function ni(){try{Sn.current+=1,Sn.current>5&&(Sn.current=0,tt.current=!1);const Le=localStorage.getItem("access_token"),Ze=!document.hidden,Ge=Xt.current;if(console.log("lobby code fr:",Ge),Ge=="yonder"){console.log("lobby code is not set");return}const ot=await fetch(`${window.server_url}/lobby?is_visible=${Ze}`,{headers:{Authorization:`Bearer ${Le}`,is_visible_t_f:Ze?"t":"f",lobby_code:Ge}});if(ot.ok){const Ke=await ot.json();console.log("LOBBY PAIR DATA:",Ge,Ke),Ke.status=="inactive"&&(H(),Q("/")),de(Ke.opponent_name),Ke.opponent_name==null&&fe(null),a(Ke.custom_tags),gt(Ke.lobby_state),kt(Ke.lobby_duration);const ut=typeof Ke.round_time_left=="number"&&!isNaN(Ke.round_time_left)?Ke.round_time_left:0;console.log("Timer Debug:",{roundDuration:Ke.lobby_duration,timeLeft:ut,lobbyState:Ke.lobby_state,usingDefaultDuration:!Ke.lobby_duration}),Fe.current=ut,xt.current=Ke.beat_go_off,Pe(Math.floor(ut));const Cs=Math.floor(ut/60),pe=Math.floor(ut%60);Ft(`${Cs}:${pe.toString().padStart(2,"0")}`),Ee(Ke.table_number),Ke.player_tags!=null&&Ke.player_tags.tags_work!=null&&it(Ke.player_tags.tags_work),Ke.player_tags!=null&&Ke.player_tags.desiring_tags_work!=null&&Ot(Ke.player_tags.desiring_tags_work),Fe.current!=null&&Ke.lobby_state=="active"&&Fe.current!=0&&(V(r-Fe.current),console.log("seeking to",r-Fe.current));const Es=await fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${Ge}`,{headers:{Authorization:`Bearer ${Le}`,lobby_code:Ge}});if(Es.ok){const It=await Es.json();Te(It.player_count);const sr=It.usernames||[];if(JSON.stringify(Pt.current)!==JSON.stringify(sr)){Pt.current=sr;const Ct=sr.filter(ht=>!xn.current[ht]&&ht!==(Ne==null?void 0:Ne.username));Ct.length>0&&(console.log("Fetching images for new users:",Ct),Fi(Ct))}}if((Z!=Ke.opponent_name||ue==null)&&!tt.current&&Ke.opponent_name!=null){tt.current=!0,console.log("fetching profile");const It=await fetch(window.server_url+"/paired_player_profile",{headers:{Authorization:`Bearer ${Le}`}});if(It.ok){const sr=await It.json();fe(sr),console.log("profile fetched:",sr.name)}else console.log("profile fetch failed");tt.current=!1}if(Yn==="interrim"&&Ke.lobby_state==="active"&&Ke.opponent_name&&!sn.current){console.log("Checking for matches...");const It=rr(Ke.player_tags,Ke.opponent_tags);It&&(console.log("Match found! Setting animation and banner...",It),zi(It),ti(!0),sn.current=!0,ji(!0))}Vi(Ke.lobby_state)}}catch(Le){console.error("Error fetching lobby data:",Le)}}_.useEffect(()=>{U()?oe(!0):oe(!1);const Le=setInterval(async()=>{ni()},tA);return()=>clearInterval(Le)},[]),_.useEffect(()=>{const Le=setTimeout(ni,1e3);return()=>clearTimeout(Le)},[me,X]),_.useEffect(()=>{const Le=()=>{const Ze=!document.hidden;Ze&&!ct&&(console.log("Page became visible - fetching latest data"),ni()),jt(Ze)};return document.addEventListener("visibilitychange",Le),()=>{document.removeEventListener("visibilitychange",Le)}},[ct]);const fn=()=>S.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.125)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:S.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",position:"relative",minWidth:"300px"},children:[S.jsx("button",{onClick:()=>mt(!1),style:{color:"#144fff",position:"absolute",right:"10px",top:"10px",border:"none",background:"none",fontSize:"2px",cursor:"pointer"},children:"X"}),S.jsx("h2",{style:{marginTop:"5px"},children:"The Sound is Important"}),S.jsx("h3",{style:{marginTop:"5px"},children:"Raise your volume also"}),S.jsx("p",{style:{color:"#144dff"},children:"You'll need this for the best experience."}),S.jsx("button",{onClick:()=>{B(),mt(!1)},style:{padding:"10px 20px",marginTop:"20px",backgroundColor:"#144dff",color:"#ffffff",border:"none",borderRadius:"14px",fontWeight:"bold",cursor:"pointer"},children:"Enable Sound"})]})}),ir=(Le,Ze)=>{Ie==null&&rt(qe),De==null&&Oe(Wt);const Ge=Le==="self"?Ie:De;if(!(Ge!=null&&Ge.includes(Ze))&&(Ge==null?void 0:Ge.length)>=eA){w("Reached tag limit for this section"),setTimeout(()=>{var Ke;(Ke=b.current)==null||Ke.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{w("")},3e3);return}Le==="self"?rt(Ke=>Ke.includes(Ze)?Ke.filter(ut=>ut!==Ze):[...Ke,Ze]):Oe(Ke=>Ke.includes(Ze)?Ke.filter(ut=>ut!==Ze):[...Ke,Ze])},Tn=()=>{Ie!=null&&ei(Ie,De||[]),p("desiring"),setTimeout(()=>{var Le;(Le=E.current)==null||Le.scrollIntoView({behavior:"smooth",block:"start"})},100)},Me=()=>{De!=null&&(ei(Ie||[],De),setTimeout(()=>{M.current||(M.current=!0,R(!0),F(!0))},500)),window.scrollTo({top:0,behavior:"smooth"})},ri=()=>{p("self")},[ws,In]=_.useState(!1);_.useEffect(()=>{if(me==="interrim")In(!0);else if(me==="active"){const Le=setTimeout(()=>{In(!1)},1e3);return()=>clearTimeout(Le)}},[me]);const Kn=()=>{console.log("Lobby countdown animation completed")},[wi,Ur]=_.useState(!1),fr=()=>{Ur(!1)};_.useEffect(()=>{(me!=="active"||!ue)&&(ti(!1),zi(null))},[me,ue]),_.useEffect(()=>{me==="terminated"&&(xn.current={},Pt.current=[])},[me]);const vs=_.useRef(null);return _.useEffect(()=>{var Le;!x&&!(qe!=null&&qe.length)&&!(Wt!=null&&Wt.length)&&(o==null?void 0:o.length)>0&&((Le=vs.current)==null||Le.scrollIntoView({behavior:"smooth"}),y(!0))},[qe,Wt,o,x]),S.jsxs("div",{className:"lobby-container",children:[S.jsx(km,{}),S.jsxs("div",{className:"lobby-content",children:[S.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0",marginTop:"-1.5rem"},children:S.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),(me==="checkin"||me==="active"&&!ue||me==="interrim")&&S.jsx("div",{className:"user-profile-container",children:S.jsxs("div",{className:"user-profile",children:[S.jsx("img",{src:Re!=null&&Re.image_data?`data:image/jpeg;base64,${Re.image_data}`:"/assets/avatar_3.png",alt:"Your Profile",className:"user-profile-picture"}),S.jsx("div",{className:"user-profile-glow"})]})}),S.jsx("div",{className:"lobby-header",style:{marginTop:"-50px"},children:S.jsx("h2",{children:me==="active"&&ue?S.jsxs("span",{className:"lobby-pop-burst",children:["Go find ",ue.name,"!"]}):me==="checkin"?S.jsxs(S.Fragment,{children:["Wait here ",Re.name.slice(0,15),".",S.jsx("br",{}),"Your host will start the experience."]}):me==="active"&&!ue?"You will be paired with someone in the next round.":me==="interrim"?"Get ready for the next round!":me==="terminated"?"This session has ended. Thank you for participating!":""})},me),me==="active"&&ue&&at&&S.jsx("div",{className:"table-number",children:S.jsxs("h3",{children:["at table: ",at]})}),(Tt.current||me!=="checkin")&&S.jsxs("div",{className:`timer-sponsor-container ${Tt.current&&me!=="checkin"?"has-timer":""}`,children:[Tt.current&&S.jsx("div",{className:"sponsor-logo",children:S.jsx("img",{src:`data:image/jpeg;base64,${Tt.current}`,alt:"Sponsor Logo",style:{width:"100px",height:"100px",objectFit:"contain"}})}),me!=="checkin"&&S.jsx("div",{className:"time-left",style:{display:"flex",flexDirection:"column",alignItems:"center",background:"white"},children:(me==="active"||me==="interrim")&&yt?S.jsxs(S.Fragment,{children:[S.jsx(Wd,{isPlaying:me==="active",duration:Gt||300,initialRemainingTime:yt||0,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>(ni(),{shouldRepeat:!1}),children:({remainingTime:Le})=>{const Ze=typeof Le=="number"&&!isNaN(Le)?Le:0,Ge=Math.floor(Ze/60),ot=Math.floor(Ze%60);return S.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[Ge,":",String(ot).padStart(2,"0")]})}},`${me}-${yt}`),S.jsx("span",{style:{fontWeight:700,fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)"},children:"round time left"})]}):S.jsx("span",{className:"time-left-text"})})]}),Nr&&An&&me==="active"&&ue&&S.jsxs("div",{className:"match-banner",children:[S.jsx("span",{className:"match-tag",children:An.playerTag}),S.jsx("div",{className:"match-arrow"}),S.jsx("span",{className:"match-tag",children:An.opponentTag})]}),S.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",margin:"0 auto"},children:me==="active"||me==="interrim"?ue?S.jsx("div",{style:{marginTop:"-3rem",width:"100%",display:"flex",justifyContent:"center"},children:S.jsx(WE,{player:ue})}):S.jsx(S.Fragment,{}):me==="terminated"?S.jsx("div",{className:"status-message",children:S.jsxs("h2",{children:["This session has ended.",S.jsx("br",{}),"Thank you for participating!"]})}):null}),(me==="checkin"||me==="active"&&!ue)&&ke!==null&&S.jsx("div",{className:"player-count-container",children:S.jsxs("div",{className:"player-count-bubble",children:[S.jsx("div",{className:"player-count-icon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:S.jsx("img",{src:"/assets/players_display_icon.png",alt:"Players in lobby",className:"player-count-img",style:{width:"40px",height:"40px",objectFit:"contain"}})}),S.jsxs("div",{className:"player-count-text",children:[S.jsx("span",{className:"player-count-number",children:ke}),S.jsxs("span",{className:"player-count-label",children:[""," in ",X," lobby"]})]})]})}),(me==="checkin"||me==="active"&&!ue)&&S.jsx("div",{className:"lobby-profiles-container",children:S.jsx("div",{className:"lobby-profiles-grid",children:ke>0?S.jsxs(S.Fragment,{children:[Array.from({length:Math.min(ke,oc)}).map((Le,Ze)=>{let Ge;if(Ze===0)Ge=Re!=null&&Re.image_data?`data:image/jpeg;base64,${Re.image_data}`:"/assets/avatar_8.png";else{const Ke=Pt.current.filter(ut=>ut!==(Ne==null?void 0:Ne.username)&&xn.current[ut])[Ze-1];Ke&&xn.current[Ke]?Ge=`data:image/jpeg;base64,${xn.current[Ke]}`:Ge="/assets/avatar_8.png"}return S.jsxs("div",{className:`profile-icon-wrapper ${Ze===Math.min(ke,oc)-1?"pop-in":""}`,children:[S.jsx("img",{src:Ge,alt:Ze===0?"Your Profile":`Profile ${Ze+1}`,className:"profile-icon",loading:"lazy"}),S.jsx("div",{className:"profile-icon-glow"})]},`profile-${Ze}`)}),ke>oc&&S.jsx("div",{className:"profile-icon-wrapper more-profiles",children:S.jsxs("div",{className:"more-profiles-bubble",children:["+",ke-oc]})})]}):S.jsx("div",{children:"No profiles to display"})})}),(me==="checkin"||me==="active")&&S.jsxs("div",{className:"selected-tags-container",children:[Ie&&Ie.length>0&&S.jsxs("div",{className:"tag-category",children:[S.jsx("h4",{children:"I am:"}),S.jsx("div",{className:"tag-list",children:Ie.map(Le=>S.jsx("span",{className:"tag-item",children:Le},`self-${Le}`))})]}),De&&De.length>0&&S.jsxs("div",{className:"tag-category",children:[S.jsx("h4",{children:"Looking for:"}),S.jsx("div",{className:"tag-list",children:De.map(Le=>S.jsx("span",{className:"tag-item",children:Le},`desiring-${Le}`))})]})]}),S.jsx("button",{className:"leave-lobby-button",onClick:Xn,children:"Leave"}),S.jsx("button",{className:"how-to-tutorial-button",onClick:()=>Ur(!0),children:"Tutorial"}),Ve==="admin"&&S.jsx("button",{className:"admin-view-button",onClick:()=>Q(`/admin_lobby_view?code=${X}`),children:"Manage"}),Array.isArray(o)&&o.length>0&&S.jsx("form",{onSubmit:Le=>{Le.preventDefault(),d==="self"?Tn():Me()},children:S.jsxs("div",{className:"tags-section",ref:vs,children:[S.jsx("div",{className:"progress-bar-container",children:S.jsx("div",{className:`progress-bar ${d==="desiring"?"progress-complete":""}`,onClick:ri})}),S.jsxs("div",{className:`tag-group ${d==="self"?"active":"hidden"}`,children:[S.jsx("div",{className:"bounce-wrapper",children:S.jsx("h2",{children:"Who are you?"})}),S.jsx("div",{className:"tag-labels-container",children:o.map(Le=>S.jsxs("label",{className:"tag-label",children:[S.jsx("input",{type:"checkbox",checked:Ie!=null?Ie.includes(Le):qe.includes(Le),onChange:()=>ir("self",Le)}),Le]},`self-${Le}`))})]}),S.jsxs("div",{className:`tag-group ${d==="desiring"?"active":"hidden"}`,ref:E,children:[S.jsx("div",{className:"bounce-wrapper",children:S.jsx("h2",{children:"Who do you want to meet?"})}),S.jsx("div",{className:"tag-labels-container",children:o.map(Le=>S.jsxs("label",{className:"tag-label",children:[S.jsx("input",{type:"checkbox",checked:De!=null?De.includes(Le):Wt.includes(Le),onChange:()=>ir("desiring",Le)}),Le]},`desiring-${Le}`))})]}),S.jsx("button",{type:"submit",className:"tag-selection-button",ref:b,children:d==="self"?"Continue":"Save"}),A&&S.jsx("div",{style:{color:"#144dff",textAlign:"center",marginTop:"1rem",fontSize:"0.9rem",fontWeight:"600"},children:A})]})})]}),ne||!St||me=="checkin"||me==null||le?null:S.jsx(fn,{}),ws&&S.jsx($E,{onComplete:Kn}),wi&&S.jsx(qE,{onComplete:fr,lobbyCode:X}),S.jsx(QE,{isVisible:ys,onAnimationEnd:()=>{ji(!1),sn.current=!1}}),S.jsx(JE,{isVisible:I,onAnimationEnd:()=>{R(!1),M.current=!1}})]})};let rA={data:""},iA=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||rA,sA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oA=/\/\*[^]*?\*\/|  +/g,Dp=/\n+/g,ds=(r,o)=>{let a="",d="",p="";for(let x in r){let y=r[x];x[0]=="@"?x[1]=="i"?a=x+" "+y+";":d+=x[1]=="f"?ds(y,x):x+"{"+ds(y,x[1]=="k"?"":o)+"}":typeof y=="object"?d+=ds(y,o?o.replace(/([^,])+/g,A=>x.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,w=>/&/.test(w)?w.replace(/&/g,A):A?A+" "+w:w)):x):y!=null&&(x=/^--/.test(x)?x:x.replace(/[A-Z]/g,"-$&").toLowerCase(),p+=ds.p?ds.p(x,y):x+":"+y+";")}return a+(o&&p?o+"{"+p+"}":p)+d},Mi={},Hm=r=>{if(typeof r=="object"){let o="";for(let a in r)o+=a+Hm(r[a]);return o}return r},aA=(r,o,a,d,p)=>{let x=Hm(r),y=Mi[x]||(Mi[x]=(w=>{let E=0,b=11;for(;E<w.length;)b=101*b+w.charCodeAt(E++)>>>0;return"go"+b})(x));if(!Mi[y]){let w=x!==r?r:(E=>{let b,I,R=[{}];for(;b=sA.exec(E.replace(oA,""));)b[4]?R.shift():b[3]?(I=b[3].replace(Dp," ").trim(),R.unshift(R[0][I]=R[0][I]||{})):R[0][b[1]]=b[2].replace(Dp," ").trim();return R[0]})(r);Mi[y]=ds(p?{["@keyframes "+y]:w}:w,a?"":"."+y)}let A=a&&Mi.g?Mi.g:null;return a&&(Mi.g=Mi[y]),((w,E,b,I)=>{I?E.data=E.data.replace(I,w):E.data.indexOf(w)===-1&&(E.data=b?w+E.data:E.data+w)})(Mi[y],o,d,A),y},lA=(r,o,a)=>r.reduce((d,p,x)=>{let y=o[x];if(y&&y.call){let A=y(a),w=A&&A.props&&A.props.className||/^go/.test(A)&&A;y=w?"."+w:A&&typeof A=="object"?A.props?"":ds(A,""):A===!1?"":A}return d+p+(y??"")},"");function Mc(r){let o=this||{},a=r.call?r(o.p):r;return aA(a.unshift?a.raw?lA(a,[].slice.call(arguments,1),o.p):a.reduce((d,p)=>Object.assign(d,p&&p.call?p(o.p):p),{}):a,iA(o.target),o.g,o.o,o.k)}let Gm,$f,qf;Mc.bind({g:1});let Bi=Mc.bind({k:1});function cA(r,o,a,d){ds.p=o,Gm=r,$f=a,qf=d}function xs(r,o){let a=this||{};return function(){let d=arguments;function p(x,y){let A=Object.assign({},x),w=A.className||p.className;a.p=Object.assign({theme:$f&&$f()},A),a.o=/ *go\d+/.test(w),A.className=Mc.apply(a,d)+(w?" "+w:"");let E=r;return r[0]&&(E=A.as||r,delete A.as),qf&&E[0]&&qf(A),Gm(E,A)}return p}}var uA=r=>typeof r=="function",Sc=(r,o)=>uA(r)?r(o):r,fA=(()=>{let r=0;return()=>(++r).toString()})(),Xm=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let o=matchMedia("(prefers-reduced-motion: reduce)");r=!o||o.matches}return r}})(),dA=20,Ym=(r,o)=>{switch(o.type){case 0:return{...r,toasts:[o.toast,...r.toasts].slice(0,dA)};case 1:return{...r,toasts:r.toasts.map(x=>x.id===o.toast.id?{...x,...o.toast}:x)};case 2:let{toast:a}=o;return Ym(r,{type:r.toasts.find(x=>x.id===a.id)?1:0,toast:a});case 3:let{toastId:d}=o;return{...r,toasts:r.toasts.map(x=>x.id===d||d===void 0?{...x,dismissed:!0,visible:!1}:x)};case 4:return o.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(x=>x.id!==o.toastId)};case 5:return{...r,pausedAt:o.time};case 6:let p=o.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(x=>({...x,pauseDuration:x.pauseDuration+p}))}}},hc=[],Ks={toasts:[],pausedAt:void 0},Qs=r=>{Ks=Ym(Ks,r),hc.forEach(o=>{o(Ks)})},hA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pA=(r={})=>{let[o,a]=_.useState(Ks),d=_.useRef(Ks);_.useEffect(()=>(d.current!==Ks&&a(Ks),hc.push(a),()=>{let x=hc.indexOf(a);x>-1&&hc.splice(x,1)}),[]);let p=o.toasts.map(x=>{var y,A,w;return{...r,...r[x.type],...x,removeDelay:x.removeDelay||((y=r[x.type])==null?void 0:y.removeDelay)||(r==null?void 0:r.removeDelay),duration:x.duration||((A=r[x.type])==null?void 0:A.duration)||(r==null?void 0:r.duration)||hA[x.type],style:{...r.style,...(w=r[x.type])==null?void 0:w.style,...x.style}}});return{...o,toasts:p}},gA=(r,o="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:o,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...a,id:(a==null?void 0:a.id)||fA()}),$a=r=>(o,a)=>{let d=gA(o,r,a);return Qs({type:2,toast:d}),d.id},cr=(r,o)=>$a("blank")(r,o);cr.error=$a("error");cr.success=$a("success");cr.loading=$a("loading");cr.custom=$a("custom");cr.dismiss=r=>{Qs({type:3,toastId:r})};cr.remove=r=>Qs({type:4,toastId:r});cr.promise=(r,o,a)=>{let d=cr.loading(o.loading,{...a,...a==null?void 0:a.loading});return typeof r=="function"&&(r=r()),r.then(p=>{let x=o.success?Sc(o.success,p):void 0;return x?cr.success(x,{id:d,...a,...a==null?void 0:a.success}):cr.dismiss(d),p}).catch(p=>{let x=o.error?Sc(o.error,p):void 0;x?cr.error(x,{id:d,...a,...a==null?void 0:a.error}):cr.dismiss(d)}),r};var mA=(r,o)=>{Qs({type:1,toast:{id:r,height:o}})},xA=()=>{Qs({type:5,time:Date.now()})},Pa=new Map,yA=1e3,wA=(r,o=yA)=>{if(Pa.has(r))return;let a=setTimeout(()=>{Pa.delete(r),Qs({type:4,toastId:r})},o);Pa.set(r,a)},vA=r=>{let{toasts:o,pausedAt:a}=pA(r);_.useEffect(()=>{if(a)return;let x=Date.now(),y=o.map(A=>{if(A.duration===1/0)return;let w=(A.duration||0)+A.pauseDuration-(x-A.createdAt);if(w<0){A.visible&&cr.dismiss(A.id);return}return setTimeout(()=>cr.dismiss(A.id),w)});return()=>{y.forEach(A=>A&&clearTimeout(A))}},[o,a]);let d=_.useCallback(()=>{a&&Qs({type:6,time:Date.now()})},[a]),p=_.useCallback((x,y)=>{let{reverseOrder:A=!1,gutter:w=8,defaultPosition:E}=y||{},b=o.filter(M=>(M.position||E)===(x.position||E)&&M.height),I=b.findIndex(M=>M.id===x.id),R=b.filter((M,L)=>L<I&&M.visible).length;return b.filter(M=>M.visible).slice(...A?[R+1]:[0,R]).reduce((M,L)=>M+(L.height||0)+w,0)},[o]);return _.useEffect(()=>{o.forEach(x=>{if(x.dismissed)wA(x.id,x.removeDelay);else{let y=Pa.get(x.id);y&&(clearTimeout(y),Pa.delete(x.id))}})},[o]),{toasts:o,handlers:{updateHeight:mA,startPause:xA,endPause:d,calculateOffset:p}}},CA=Bi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,EA=Bi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AA=Bi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bA=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${CA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${EA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SA=Bi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,TA=xs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${SA} 1s linear infinite;
`,IA=Bi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,NA=Bi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RA=xs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${NA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,_A=xs("div")`
  position: absolute;
`,kA=xs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PA=Bi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OA=xs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,MA=({toast:r})=>{let{icon:o,type:a,iconTheme:d}=r;return o!==void 0?typeof o=="string"?_.createElement(OA,null,o):o:a==="blank"?null:_.createElement(kA,null,_.createElement(TA,{...d}),a!=="loading"&&_.createElement(_A,null,a==="error"?_.createElement(bA,{...d}):_.createElement(RA,{...d})))},DA=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,LA=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,BA="0%{opacity:0;} 100%{opacity:1;}",FA="0%{opacity:1;} 100%{opacity:0;}",jA=xs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,VA=xs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zA=(r,o)=>{let a=r.includes("top")?1:-1,[d,p]=Xm()?[BA,FA]:[DA(a),LA(a)];return{animation:o?`${Bi(d)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Bi(p)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},UA=_.memo(({toast:r,position:o,style:a,children:d})=>{let p=r.height?zA(r.position||o||"top-center",r.visible):{opacity:0},x=_.createElement(MA,{toast:r}),y=_.createElement(VA,{...r.ariaProps},Sc(r.message,r));return _.createElement(jA,{className:r.className,style:{...p,...a,...r.style}},typeof d=="function"?d({icon:x,message:y}):_.createElement(_.Fragment,null,x,y))});cA(_.createElement);var WA=({id:r,className:o,style:a,onHeightUpdate:d,children:p})=>{let x=_.useCallback(y=>{if(y){let A=()=>{let w=y.getBoundingClientRect().height;d(r,w)};A(),new MutationObserver(A).observe(y,{subtree:!0,childList:!0,characterData:!0})}},[r,d]);return _.createElement("div",{ref:x,className:o,style:a},p)},HA=(r,o)=>{let a=r.includes("top"),d=a?{top:0}:{bottom:0},p=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Xm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${o*(a?1:-1)}px)`,...d,...p}},GA=Mc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ac=16,XA=({reverseOrder:r,position:o="top-center",toastOptions:a,gutter:d,children:p,containerStyle:x,containerClassName:y})=>{let{toasts:A,handlers:w}=vA(a);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ac,left:ac,right:ac,bottom:ac,pointerEvents:"none",...x},className:y,onMouseEnter:w.startPause,onMouseLeave:w.endPause},A.map(E=>{let b=E.position||o,I=w.calculateOffset(E,{reverseOrder:r,gutter:d,defaultPosition:o}),R=HA(b,I);return _.createElement(WA,{id:E.id,key:E.id,onHeightUpdate:w.updateHeight,className:E.visible?GA:"",style:R},E.type==="custom"?Sc(E.message,E):p?p(E):_.createElement(UA,{toast:E,position:b}))}))},pc=cr;const Tf=({direction:r="down",show:o=!0,className:a="",style:d={}})=>{if(!o)return null;const p=r==="down"?"rotate(180 16 16)":"";return S.jsxs("div",{className:`arrow-hint-container ${r} ${a}`,style:d,children:[S.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"arrow-hint-svg",children:S.jsxs("g",{transform:p,children:[S.jsx("path",{d:"M16 6v16M16 22l-7-7M16 22l7-7",stroke:"url(#arrow-gradient)",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#arrow-glow)"}),S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"arrow-gradient",x1:"16",y1:"6",x2:"16",y2:"22",gradientUnits:"userSpaceOnUse",children:[S.jsx("stop",{stopColor:"#7f5fff"}),S.jsx("stop",{offset:"0.5",stopColor:"#2e8bff"}),S.jsx("stop",{offset:"1",stopColor:"#00e0ff"})]}),S.jsx("filter",{id:"arrow-glow",x:"-10",y:"-10",width:"52",height:"52",filterUnits:"userSpaceOnUse",children:S.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2.5",floodColor:"#7f5fff",floodOpacity:"0.5"})})]})]})}),S.jsx("div",{className:"arrow-hint-text",children:"Tap Here"})]})},YA=({isOpen:r,onClose:o,onConfirm:a,userName:d})=>r?S.jsx("div",{className:"kick-modal",children:S.jsxs("div",{className:"kick-modal-content",children:[S.jsx("h2",{className:"kick-modal-title",children:"Kick User"}),S.jsxs("p",{className:"kick-modal-message",children:["Are you sure you want to kick ",d," from the lobby?"]}),S.jsxs("div",{className:"kick-modal-actions",children:[S.jsx("button",{onClick:a,className:"admin-button admin-button-danger",children:"Yes, Kick User"}),S.jsx("button",{onClick:o,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,KA=({isOpen:r,onClose:o,onConfirm:a})=>r?S.jsx("div",{className:"join-modal",children:S.jsxs("div",{className:"join-modal-content",children:[S.jsx("h2",{className:"join-modal-title",children:"Join Lobby"}),S.jsx("p",{className:"join-modal-message",children:"Are you sure you want to join? You will be paired up with your attendees."}),S.jsxs("div",{className:"join-modal-actions",children:[S.jsx("button",{onClick:a,className:"admin-button admin-button-join",children:"Yes, Join Lobby"}),S.jsx("button",{onClick:o,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,ZA=({lobbyState:r,playerCount:o,onStart:a,onEnd:d,lobbyCode:p,currentRound:x})=>{const y=r==="checkin",A=o>=2&&r==="checkin",w=r==="active",E=r==="active",b=r==="terminated",[I,R]=_.useState(null),[M,L]=_.useState({code:!1,qr:!1}),[F,B]=_.useState(!1),V=()=>{R("start")},H=()=>{R("end")},U=()=>{B(!0),R("checkin")},ne=()=>{I==="start"?(a(),pc.success("Rounds started!",{position:"top-center"})):I==="end"&&d(),R(null)},oe=()=>R(null),le=(Ne,Re)=>Ne?"progress-arrow active-shimmer":Re?"progress-arrow available-shimmer":"progress-arrow inactive",X=y&&!F&&o<6,ce=r==="checkin"&&o>=6,Q=r==="active"&&x+1>=12,_e=()=>{const Ne=document.getElementById("modal-qr-svg");if(!Ne)return;const J=new XMLSerializer().serializeToString(Ne),Ve=new window.Image,ue=512,fe=document.createElement("canvas");fe.width=ue,fe.height=ue;const ge=fe.getContext("2d");Ve.onload=()=>{ge.clearRect(0,0,ue,ue),ge.drawImage(Ve,0,0,ue,ue),fe.toBlob(he=>{navigator.clipboard&&navigator.clipboard.write?navigator.clipboard.write([new window.ClipboardItem({"image/png":he})]).then(()=>{L(Z=>({...Z,qr:!0})),setTimeout(()=>L(Z=>({...Z,qr:!1})),800)}).catch(()=>{ke(he)}):ke(he)},"image/png")},Ve.onerror=()=>alert("Failed to render QR code image."),Ve.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(J)))};function ke(Ne){const Re=URL.createObjectURL(Ne),J=document.createElement("a");J.href=Re,J.download=`reuneo-lobby-${p}.png`,document.body.appendChild(J),J.click(),document.body.removeChild(J),URL.revokeObjectURL(Re),L(Ve=>({...Ve,qr:!0})),setTimeout(()=>L(Ve=>({...Ve,qr:!1})),800)}const Te=()=>{navigator.clipboard.writeText(p),L(Ne=>({...Ne,code:!0})),setTimeout(()=>L(Ne=>({...Ne,code:!1})),800)};return S.jsxs("div",{className:"lobby-progress-bar",style:{marginTop:"-1rem",height:"40px"},children:[S.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[S.jsx("div",{className:le(y,!1),tabIndex:0,title:"Check-in phase",onClick:U,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"Start Checkin"}),S.jsx(Tf,{direction:"down",show:X})]}),S.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[S.jsx("div",{className:le(w,A&&!w),tabIndex:0,title:A?"Start rounds":"At least 2 players required",onClick:V,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"Start Rounds"}),S.jsx(Tf,{direction:"down",show:ce})]}),S.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[S.jsx("div",{className:le(b,E&&!b),tabIndex:0,title:E?"End rounds":"Cannot end yet",onClick:H,style:{cursor:"pointer",width:"100%",color:"#f5f7ff",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",boxShadow:"0 7px 4px rgba(0, 0, 0, 0.1)"},children:"End Rounds"}),S.jsx(Tf,{direction:"down",show:Q})]}),I&&S.jsx("div",{className:"progress-modal-overlay",children:S.jsx("div",{className:"progress-modal",children:I==="checkin"?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"progress-modal-title",children:"Have your attendees scan the QR code to join your lobby"}),S.jsx("div",{className:"progress-modal-message",children:"You can start when you have 6-10 people, don't worry new people can join in the next rounds."}),S.jsxs("div",{className:"progress-modal-qr",onClick:_e,style:{cursor:"pointer",position:"relative"},children:[S.jsx(Ud,{value:`${window.location.origin}/lobby?code=${p}`,size:200,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"modal-qr-svg"}),S.jsx("span",{className:"copy-icon modal-copy-icon","aria-label":"Copy",style:{position:"absolute",right:8,bottom:8,background:"#fff",borderRadius:"50%",padding:"2px"},children:S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[S.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),S.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})}),M.qr&&S.jsx("span",{className:"modal-copied-feedback",style:{position:"absolute",left:"50%",bottom:"-1.5rem",transform:"translateX(-50%)",color:"#28a745",fontWeight:600,fontSize:"0.95rem"},children:"Copied!"})]}),S.jsxs("div",{className:`progress-modal-lobbycode${M.code?" copied":""}`,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[S.jsxs("b",{children:["lobby code: ",p]}),S.jsx("span",{className:"copy-icon modal-copy-icon","aria-label":"Copy",onClick:Te,style:{cursor:"pointer"},children:S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[S.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),S.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})}),M.code&&S.jsx("span",{className:"modal-copied-feedback",style:{color:"#28a745",fontWeight:600,fontSize:"0.95rem"},children:"Copied!"})]}),S.jsx("div",{className:"progress-modal-actions",children:S.jsx("button",{className:"progress-modal-btn confirm",onClick:oe,children:"Got it"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"progress-modal-title",children:I==="start"?"Are you sure you want to start rounds?":"Are you sure you want to end the rounds?"}),S.jsx("div",{className:"progress-modal-actions",children:I==="start"?S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"progress-modal-btn cancel",onClick:oe,children:"Not Yet"}),S.jsx("button",{className:"progress-modal-btn confirm",onClick:ne,children:"Start"})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"progress-modal-btn cancel",onClick:oe,children:"Keep Going"}),S.jsx("button",{className:"progress-modal-btn confirm danger",onClick:ne,children:"End"})]})})]})})})]})},$A=({players:r})=>{const o=[...r.pairedPlayers?r.pairedPlayers.flat():[],...r.lobbyData?r.lobbyData:[]],a=10,d=o.slice(0,a),p=o.length-a,x=o.length;return S.jsxs("div",{className:"overlapping-profile-list-wrapper",style:{marginTop:"3rem"},children:[S.jsxs("div",{className:"overlapping-profile-list",children:[d.map((y,A)=>S.jsx("img",{src:y.pfp_data||"/assets/player_icon_trans.png",alt:y.name||"Player",className:"overlapping-profile-img",style:{zIndex:A+1}},y.username||y.name||A)),p>0&&S.jsxs("span",{className:"overlapping-profile-overflow",children:["+ ",p]})]}),S.jsxs("div",{className:"overlapping-profile-list-label",style:{marginTop:"0.5rem",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.1)"},children:["People joined: ",x]})]})},qA=()=>{const{user:r,userProfile:o,checkAuth:a,permissions:d}=_.useContext(Tr),p=Ir(),x=yi(),A=new URLSearchParams(x.search).get("code"),[w,E]=_.useState(A||"test"),b=async()=>{await fetch(window.server_url+"/reset_lobby_timer",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}})};_.useEffect(()=>{A||(console.log("No lobby code found in URL, using default 'test' value"),(async()=>{try{const gt=localStorage.getItem("access_token"),yt=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${gt}`}});if(yt.ok){const Pe=await yt.json();if(console.log("Active lobbies response:",Pe),Pe&&Pe.lobbies&&Pe.lobbies.length>0){const At=Pe.lobbies[0];E(At),window.history.replaceState({},"",`/admin_lobby_view?code=${At}`)}}}catch(gt){console.error("Error fetching active lobby:",gt)}})())},[A]);const[I,R]=_.useState(!1),[M,L]=_.useState(null),[F,B]=_.useState(!1),[V,H]=_.useState(null),[U,ne]=_.useState(null),[oe,le]=_.useState(null),[X,ce]=_.useState(null),[Q,_e]=_.useState(null),[ke,Te]=_.useState({}),[Ne,Re]=_.useState([]),[J,Ve]=_.useState(0),ue=((U==null?void 0:U.length)||0)+((V==null?void 0:V.length)*2||0),[fe,ge]=_.useState(!1);_.useEffect(()=>{if(a(),d!=="admin"&&d!=="organizer"){p("/");return}const me=async yt=>{if(ke[yt])return ke[yt];try{const Pe=await fetch(`${window.server_url}/pfp_small_icon?username=${encodeURIComponent(yt)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(Pe.ok){let At=await Pe.text();At.startsWith('"')&&At.endsWith('"')&&(At=At.slice(1,-1));const Ft=At.startsWith("data:image")?At:`data:image/jpeg;base64,${At}`;return Te(Gt=>({...Gt,[yt]:Ft})),Ft}return null}catch(Pe){return console.error(`Error fetching profile picture for ${yt}:`,Pe),null}},gt=setInterval(async()=>{try{const yt=await fetch(window.server_url+"/admin_lobby_data",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}});if(yt.ok){const Pe=await yt.json();if(console.log("Admin lobby data:",w,Pe),Pe.lobby_state==="active"&&Ve(At=>Pe.current_round>At?Pe.current_round:At),Pe.lobby_state==="terminated"&&Ve(0),Pe&&Pe.unpaired_players){const At=await Promise.all(Pe.unpaired_players.map(async Gt=>{const kt=await me(Gt.username);return{...Gt,pfp_data:kt}})),Ft=await Promise.all((Pe.pairs_data||[]).map(async Gt=>{const kt=await me(Gt[0].username),St=await me(Gt[1].username);return[{...Gt[0],pfp_data:kt},{...Gt[1],pfp_data:St}]}));ne(At),H(Ft),le(Pe.round_time_left),ce(Pe.lobby_state),_e(Pe.lobby_duration||300),Re(Pe.custom_tags||[])}else console.error("Invalid lobby data structure:",Pe),ne([]),H([])}else console.error("Failed to fetch admin lobby data:",yt.status)}catch(yt){console.error("Error fetching admin lobby data:",yt)}},1e3);return()=>clearInterval(gt)},[ke]);const he=me=>{L(me),R(!0)},Z=()=>{R(!1),L(null)},de=()=>{M&&fetch(window.server_url+"/kick_user",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({username:M.username,lobby_code:w})}).then(me=>{me.ok?console.log(`User ${M.name} kicked successfully`):console.error(`Failed to kick user ${M.name}`)}).catch(me=>{console.error("Error kicking user:",me)}).finally(()=>{Z()})},We=()=>{B(!0)},Ue=()=>{B(!1)},at=()=>{p(`/lobby?code=${w}`),Ue()};async function Ee(){const me=document.getElementById("admin-qr-svg");if(!me)return;const yt=new XMLSerializer().serializeToString(me),Pe=new window.Image,At=512,Ft=document.createElement("canvas");Ft.width=At,Ft.height=At;const Gt=Ft.getContext("2d");Pe.onload=()=>{Gt.clearRect(0,0,At,At),Gt.drawImage(Pe,0,0,At,At),Ft.toBlob(kt=>{navigator.clipboard&&navigator.clipboard.write?navigator.clipboard.write([new window.ClipboardItem({"image/png":kt})]).then(()=>{pc.success("QR code copied to clipboard!")}).catch(()=>{tt(kt)}):tt(kt)},"image/png")},Pe.onerror=()=>pc.error("Failed to generate QR code image."),Pe.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(yt)))}function tt(me){const gt=URL.createObjectURL(me),yt=document.createElement("a");yt.href=gt,yt.download=`reuneo-lobby-${w}.png`,document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),URL.revokeObjectURL(gt),pc.success("QR code downloaded!")}const Fe=async()=>{await fetch(window.server_url+"/start_rounds",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}})},xt=async()=>{(await fetch(window.server_url+"/terminate_lobby",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:w}})).ok&&p("/")};return S.jsxs(S.Fragment,{children:[S.jsx(XA,{position:"top-center"}),S.jsxs("div",{className:"admin-lobby-container",children:[S.jsx("button",{onClick:b,children:"Reset Lobby Timer"}),S.jsx("div",{className:"admin-view-logo",style:{cursor:"pointer"},children:S.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Reuneo Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain",transition:"transform 0.3s ease"},onClick:()=>p("/")})}),S.jsx(ZA,{lobbyState:X,playerCount:ue,onStart:Fe,onEnd:xt,lobbyCode:w,currentRound:J}),S.jsx($A,{players:{pairedPlayers:V,lobbyData:U}}),S.jsxs("div",{className:"admin-lobby-dropdown-toggle",onClick:()=>ge(me=>!me),style:{cursor:"pointer",background:"var(--primary-color)",color:"#f5f7ff",fontWeight:700,textShadow:"1px 1px 2px rgba(0, 0, 0, 0.8)",fontSize:".75rem",borderRadius:fe?"14px 14px 0 0":"14px",padding:"0.5rem 1rem",margin:"0 auto",maxWidth:420,boxShadow:"0 2px 8px rgba(20,77,255,0.08)",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s",letterSpacing:"0.5px"},children:[fe?"Hide Controls":"More Controls",S.jsx("span",{style:{marginLeft:12,fontSize:"1.2em",transition:"transform 0.3s",display:"inline-block",transform:fe?"rotate(180deg)":"rotate(0deg)"},children:"▼"})]}),S.jsxs("div",{className:"admin-lobby-body",style:{maxHeight:fe?1e3:0,overflow:"hidden",transition:"max-height 0.5s cubic-bezier(0.4,0,0.2,1)",opacity:fe?1:0,pointerEvents:fe?"auto":"none",marginBottom:fe?"2rem":0},children:[S.jsxs("div",{className:"admin-lobby-qr",onClick:Ee,style:{cursor:"pointer"},children:[S.jsxs("span",{className:"qr-label",style:{display:"flex",alignItems:"center",gap:"0.4rem",marginBottom:"0.5rem"},children:["People scan to join",S.jsx("span",{className:"copy-icon","aria-label":"Copy",children:S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[S.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),S.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]}),S.jsx("div",{style:{position:"relative",display:"inline-block"},children:S.jsx(Ud,{value:`${window.location.origin}/lobby?code=${w}`,size:140,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"admin-qr-svg"})}),S.jsxs("div",{className:"lobby-code-display",onClick:()=>{navigator.clipboard.writeText(w);const me=document.querySelector(".lobby-code-display");me.classList.add("copied"),setTimeout(()=>me.classList.remove("copied"),250)},children:[S.jsx("span",{className:"lobby-code-label",children:"lobby code:"}),S.jsx("span",{className:"lobby-code-value",children:w}),S.jsx("span",{className:"copy-icon","aria-label":"Copy",children:S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[S.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),S.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]})]}),S.jsxs("div",{className:"admin-lobby-event-settings",children:[S.jsxs("div",{className:"admin-profile",children:[S.jsx("img",{src:o!=null&&o.image_data?`data:image/jpeg;base64,${o.image_data}`:"/assets/player_icon_trans.png",alt:"Your Profile",className:"admin-profile-picture"}),S.jsx("span",{className:"admin-profile-name",children:o!=null&&o.name?o.name.slice(0,20):r==null?void 0:r.slice(0,20)})]}),S.jsx("button",{onClick:We,className:"page-control-button page-control-join",style:{marginTop:".5rem"},children:"Join Rounds"}),S.jsxs("div",{className:"setting-item",style:{padding:"1rem"},children:[S.jsxs("span",{className:"setting-label",children:["Round Duration: ",S.jsxs("span",{className:"setting-value",children:[Math.floor(Q/60)," min"]})]}),S.jsx("span",{className:"setting-label",style:{},children:"Tags:"}),Ne&&Ne.length>0&&S.jsx("div",{className:"setting-item",children:S.jsxs("div",{className:"tags-container",children:[Ne.slice(0,3).map((me,gt)=>S.jsx("span",{className:"tag-pill",children:me},gt)),Ne.length>3&&S.jsxs("span",{className:"tag-pill more-tags",children:["+",Ne.length-3," more"]})]})})]})]}),S.jsx("div",{className:"admin-lobby-actions"})]}),(X==="active"||X==="interrim")&&oe&&S.jsx("div",{className:"admin-lobby-timer-container",children:S.jsxs("div",{className:"admin-lobby-timer-glass",children:[S.jsx(Wd,{isPlaying:X==="active",duration:Q,initialRemainingTime:oe,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"url(#trailGradient)",onComplete:()=>({shouldRepeat:!1}),strokeLinecap:"round",children:({remainingTime:me})=>{const gt=Math.floor(me/60),yt=Math.floor(me%60);return S.jsxs("span",{className:`timer-text ${me<=10?"timer-text-fadescale":""}`,children:[gt,":",String(yt).padStart(2,"0")]})}},`${X}-${Math.floor(oe)}`),S.jsx("span",{className:"timer-subtext",children:"round time left"}),S.jsx("svg",{width:"0",height:"0",children:S.jsx("defs",{children:S.jsxs("linearGradient",{id:"trailGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[S.jsx("stop",{offset:"0%",stopColor:"#e0e7ff"}),S.jsx("stop",{offset:"100%",stopColor:"#f5f7ff"})]})})})]})}),X!=="checkin"&&S.jsxs("div",{className:"admin-lobby-stats",children:[S.jsxs("div",{className:"stat-card",children:[S.jsx("div",{className:"stat-title",children:"Total Players"}),S.jsx("div",{className:"stat-value",children:((U==null?void 0:U.length)||0)+((V==null?void 0:V.length)*2||0)})]}),S.jsxs("div",{className:"stat-card",children:[S.jsx("div",{className:"stat-title",children:"Paired Players"}),S.jsx("div",{className:"stat-value",children:(V==null?void 0:V.length)*2||0})]}),S.jsxs("div",{className:"stat-card",children:[S.jsx("div",{className:"stat-title",children:"Unpaired Players"}),S.jsx("div",{className:"stat-value",children:(U==null?void 0:U.length)||0})]})]}),V&&X!=="checkin"&&S.jsx("div",{className:"admin-lobby-players",children:S.jsxs("div",{className:"player-section",children:[S.jsxs("div",{className:"section-header",children:["Paired Players: ",S.jsx("span",{className:"stat-value",style:{fontSize:"1.3rem"},children:(V==null?void 0:V.length)*2||0})]}),S.jsx("div",{className:"player-grid",children:V.map((me,gt)=>S.jsxs("div",{className:"paired-player-card",children:[S.jsxs("div",{className:"paired-player",onClick:()=>he(me[0]),children:[S.jsx("img",{src:me[0].pfp_data,alt:me[0].name,className:"paired-player-avatar"}),S.jsx("h3",{className:"paired-player-name",children:me[0].name})]}),S.jsxs("div",{className:"paired-player",onClick:()=>he(me[1]),children:[S.jsx("img",{src:me[1].pfp_data,alt:me[1].name,className:"paired-player-avatar"}),S.jsx("h3",{className:"paired-player-name",children:me[1].name})]})]},gt))})]})}),U&&S.jsx("div",{className:"admin-lobby-players",children:S.jsxs("div",{className:"player-section",children:[S.jsxs("div",{className:"section-header",children:[X==="checkin"?"People Joined":"Unpaired Players",": ",S.jsx("span",{className:"stat-value",style:{fontSize:"1.3rem"},children:(U==null?void 0:U.length)||0})]}),S.jsx("div",{className:"player-grid",children:U.map((me,gt)=>S.jsxs("div",{className:"player-card",onClick:()=>he(me),children:[S.jsx("img",{src:me.pfp_data,alt:me.name,className:"player-avatar"}),S.jsx("h3",{className:"player-name",children:me.name})]},gt))})]})}),S.jsx(KA,{isOpen:F,onClose:Ue,onConfirm:at}),S.jsx(YA,{isOpen:I,onClose:Z,onConfirm:de,userName:(M==null?void 0:M.name)||"this user"})]})]})},QA=()=>{const r=Ir(),{user:o}=_.useContext(Tr),a=()=>{window.location.href="https://reunio.app/become-an-organizer"};return S.jsxs("div",{className:"product-selection-container",children:[S.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[S.jsx("source",{src:"/assets/purchase_plan_video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),S.jsxs("div",{className:"product-selection-content",children:[S.jsx("div",{className:"product-selection-header",children:S.jsx("h1",{children:"Product Selection"})}),S.jsxs("div",{className:"plans-section",children:[S.jsx("h2",{children:"Available Plans"}),S.jsxs("div",{className:"plan-card",children:[S.jsx("h3",{children:"Organizer Plan"}),S.jsxs("div",{className:"plan-description",children:[S.jsx("p",{children:"Create experiences for your community with our beta plan."}),S.jsxs("ul",{children:[S.jsx("li",{children:"Create unlimited experiences"}),S.jsx("li",{children:"Access to organizer dashboard"}),S.jsx("li",{children:"Priority customer support"})]})]}),S.jsx("button",{className:"purchase-button",onClick:a,children:"Contact Us"})]})]}),S.jsx("button",{className:"back-button",onClick:()=>r("/"),children:"Home"})]})]})},JA=()=>{const{user:r,userProfile:o,checkAuth:a,permissions:d}=_.useContext(Tr),[p,x]=_.useState(""),[y,A]=_.useState(""),[w,E]=_.useState(!1),[b,I]=_.useState(""),[R,M]=_.useState(!1),[L,F]=_.useState([]),[B,V]=_.useState(""),[H,U]=_.useState("5"),[ne,oe]=_.useState("0"),[le,X]=_.useState(null),[ce,Q]=_.useState(""),[_e,ke]=_.useState(""),[Te,Ne]=_.useState(null),[Re,J]=_.useState(null),[Ve,ue]=_.useState(""),[fe,ge]=_.useState(!1),[he,Z]=_.useState(!1),[de,We]=_.useState({x:0,y:0}),[Ue,at]=_.useState(1),[Ee,tt]=_.useState(null),Fe=8,xt=Ir(),me=_.useRef(null);_.useEffect(()=>{window.scrollTo(0,0),r&&(x(r),A(r)),me.current&&me.current.focus()},[r]);const gt=rt=>{const De=/^[a-z0-9]+$/;return rt.length>=2&&De.test(rt)},yt=rt=>{const De=rt.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");A(De),M(!0),setTimeout(()=>{M(!1)},500)},Pe=()=>{B.trim()&&!L.includes(B.trim())&&(F([...L,B.trim()]),V(""))},At=rt=>{F(L.filter(De=>De!==rt))},Ft=rt=>{rt.key==="Enter"&&B.trim()&&(rt.preventDefault(),Pe())},Gt=(rt,De,Oe)=>new Promise(qe=>{const it=new Image;it.onload=()=>{const Wt=document.createElement("canvas"),Ot=Wt.getContext("2d");let{width:ct,height:jt}=it;ct>jt?ct>De&&(jt=jt*De/ct,ct=De):jt>Oe&&(ct=ct*Oe/jt,jt=Oe),Wt.width=ct,Wt.height=jt,Ot.drawImage(it,0,0,ct,jt);const Xt=Wt.toDataURL("image/jpeg",.7);qe(Xt)},it.src=URL.createObjectURL(rt)}),kt=async rt=>{const De=rt.target.files[0];if(De){if(ue(""),Z(!0),!["image/jpeg","image/jpg","image/png"].includes(De.type)){ue("Invalid format. Please upload a JPG or PNG image."),Z(!1);return}if(De.size>2*1024*1024){ue("File too large. Please choose an image under 2MB."),Z(!1);return}try{const Oe=await Gt(De,400,400);X(De),Ne(Oe),ge(!0),Z(!1)}catch(Oe){console.error("Error processing image:",Oe),ue("Error processing image. Please try again."),Z(!1)}}},St=(rt,De)=>{tt(De)},mt=async()=>{try{Z(!0);const rt=await ed(Te,Ee);J(rt),ge(!1),Z(!1)}catch(rt){console.error("Error cropping logo:",rt),ue("Error processing image. Please try again."),ge(!1),Z(!1)}},Sn=()=>{X(null),Ne(null),J(null),ge(!1),Z(!1),We({x:0,y:0}),at(1),tt(null),ue("");const rt=document.getElementById("logoUpload");rt&&(rt.value="")},Ie=async rt=>{if(rt.preventDefault(),!gt(y)){I("Lobby code must be at least 2 characters long and contain only lowercase letters and numbers");return}E(!0),I("");const De=parseInt(H)*60+parseInt(ne);let Oe=null;Re&&(Oe=Re.split(",")[1]);try{const qe={lobby_code:y,custom_tags:L,lobby_duration:De};Oe&&(qe.logo_icon=Oe),ce.trim()&&(qe.logo_name=ce.trim()),_e.trim()&&(qe.logo_hyperlink=_e.trim());const it=await fetch(window.server_url+"/create_lobby",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify(qe)});if(it.ok)console.log("Lobby created successfully"),console.log(await it.json()),xt(`/admin_lobby_view?code=${y}`);else{const Wt=await it.json();I(Wt.message||"Failed to create lobby"),console.error("Failed to create lobby")}}catch(qe){I("An error occurred while creating the lobby"),console.error("Error creating lobby:",qe)}finally{E(!1)}};return S.jsxs("div",{className:"create-lobby-background",children:[S.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Reunio Logo",className:"logo-image",onClick:()=>xt(-1)}),S.jsxs("div",{className:"create-lobby-container",children:[S.jsx("h1",{className:"create-lobby-title",children:"Create a New Lobby"}),S.jsxs("form",{onSubmit:Ie,className:"create-lobby-form",children:[S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"lobbyCode",children:"Lobby Code"}),S.jsx("input",{ref:me,type:"text",id:"lobbyCode",value:y,onChange:yt,placeholder:"Enter lobby code (lowercase letters and numbers only)",required:!0,className:`form-input ${R?"typing":""}`,autoComplete:"off"}),S.jsx("div",{className:"input-hint",children:"lowercase letters and numbers only"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{children:"Round Duration"}),S.jsxs("div",{className:"duration-input-container",children:[S.jsxs("div",{className:"duration-input-group",children:[S.jsx("input",{type:"number",id:"minutes",value:H,onChange:rt=>{const De=rt.target.value;(De===""||parseInt(De)>0&&parseInt(De)<=Fe)&&(U(De),parseInt(De)===Fe&&oe("0"))},min:"1",max:Fe,placeholder:`1-${Fe}`,className:"form-input duration-input",autoComplete:"off"}),S.jsx("label",{htmlFor:"minutes",className:"duration-label",children:"Minutes"})]}),S.jsxs("div",{className:"duration-input-group",children:[S.jsx("input",{type:"number",id:"seconds",value:ne,onChange:rt=>{const De=rt.target.value;(De===""||parseInt(De)>=0&&parseInt(De)<=59)&&oe(De)},min:"0",max:"59",placeholder:"0-59",className:"form-input duration-input",autoComplete:"off",disabled:parseInt(H)===Fe}),S.jsx("label",{htmlFor:"seconds",className:"duration-label",children:"Seconds"})]})]}),S.jsx("div",{className:"input-hint",children:"Maximum total duration is 5 minutes"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"tagInput",children:"Matchmaking Tags"}),S.jsxs("div",{className:"tag-input-container",children:[S.jsx("input",{type:"text",id:"tagInput",value:B,onChange:rt=>V(rt.target.value),onKeyDown:Ft,placeholder:"Add tags (press + to add)",className:"form-input",autoComplete:"off"}),S.jsx("button",{type:"button",onClick:Pe,className:"tag-add-button",children:"+"})]}),L.length>0&&S.jsx("div",{className:"tag-list",children:L.map((rt,De)=>S.jsxs("div",{className:"tag-item",children:[rt,S.jsx("button",{type:"button",onClick:()=>At(rt),className:"tag-remove-button",children:"×"})]},De))}),S.jsx("div",{className:"input-hint",children:"If you want to match people based on role/interests"})]}),S.jsxs("div",{className:"form-group logo-upload-section",children:[S.jsx("label",{children:"Sponsor Logo"}),!Re&&!fe&&S.jsxs(S.Fragment,{children:[he?S.jsx("div",{className:"logo-processing",children:"Processing..."}):S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"file",id:"logoUpload",accept:"image/jpeg,image/jpg,image/png",onChange:kt,style:{display:"none"}}),S.jsx("button",{type:"button",onClick:()=>document.getElementById("logoUpload").click(),className:"logo-upload-button",children:"Upload Logo"})]}),Ve&&S.jsx("div",{className:"logo-error-message",children:Ve})]}),fe&&Te&&S.jsxs("div",{className:"logo-crop-container",children:[S.jsx("div",{className:"logo-crop-area",children:S.jsx(Jf,{image:Te,crop:de,zoom:Ue,aspect:1,onCropChange:We,onZoomChange:at,onCropComplete:St})}),S.jsxs("div",{className:"logo-crop-controls",children:[S.jsx("button",{type:"button",onClick:mt,className:"logo-save-button",disabled:he,children:he?"Processing...":"Save Crop"}),S.jsx("button",{type:"button",onClick:Sn,className:"logo-cancel-button",children:"Cancel"})]})]}),Re&&!fe&&S.jsx("div",{className:"logo-preview-container",children:S.jsxs("div",{className:"logo-preview",children:[S.jsx("img",{src:Re,alt:"Logo preview",className:"logo-preview-image"}),S.jsx("button",{type:"button",onClick:Sn,className:"logo-remove-button",children:"×"})]})}),(Re||fe)&&S.jsxs("div",{className:"logo-name-group",children:[S.jsx("label",{htmlFor:"logoName",children:"Logo Name (optional)"}),S.jsx("input",{type:"text",id:"logoName",value:ce,onChange:rt=>Q(rt.target.value.slice(0,20)),placeholder:"Enter logo name",className:"form-input logo-input",maxLength:"20",autoComplete:"off"}),S.jsxs("div",{className:"input-hint",children:[ce.length,"/20 characters"]})]}),(Re||fe)&&S.jsxs("div",{className:"logo-url-group",children:[S.jsx("label",{htmlFor:"logoUrl",children:"Logo URL (optional)"}),S.jsx("input",{type:"url",id:"logoUrl",value:_e,onChange:rt=>ke(rt.target.value),placeholder:"https://example.com",className:"form-input logo-input",autoComplete:"off"})]})]}),b&&S.jsx("div",{className:"error-message",children:b}),S.jsx("button",{type:"submit",className:"submit-button",disabled:w,children:w?"Creating...":"Create Lobby"})]})]})]})},eb=5e3,tb=()=>{const{checkAuth:r,permissions:o,user:a}=_.useContext(Tr),d=Ir(),[p,x]=_.useState([]),[y,A]=_.useState(!0),[w,E]=_.useState(null),[b,I]=_.useState(!1);return _.useEffect(()=>{r()},[r]),_.useEffect(()=>{a==="topaz"&&o==="admin"?I(!0):o!==null&&a!==null&&d("/")},[o,a,d]),_.useEffect(()=>{if(!b)return;let R=!0,M,L=!0;const F=async()=>{L&&A(!0),E(null);try{const B=localStorage.getItem("access_token");if(!B)return;const V=await fetch(window.server_url+"/admin_all_lobbies",{headers:{Authorization:`Bearer ${B}`}});if(!V.ok)throw new Error("Failed to fetch lobbies");const H=await V.json();if(H.status!=="success"||!Array.isArray(H.lobbies))throw new Error("Invalid response format");if(!R)return;x(H.lobbies),console.log("Received lobbies data:",H.lobbies)}catch(B){R&&E(B.message||"Error fetching lobbies")}finally{R&&L&&A(!1),L=!1,M=setTimeout(F,eb)}};return F(),()=>{R=!1,M&&clearTimeout(M)}},[b]),y?S.jsx("div",{className:"master-lobby-container",children:S.jsxs("div",{className:"loading-state",children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"Loading lobbies..."})]})}):w&&p.length===0?S.jsx("div",{className:"master-lobby-container",children:S.jsx("div",{className:"error-state",children:S.jsx("p",{children:w})})}):p.length===0?S.jsx("div",{className:"master-lobby-container",children:S.jsx("div",{className:"empty-state",children:S.jsx("p",{children:"No active lobbies found"})})}):S.jsxs("div",{className:"master-lobby-container",children:[w&&S.jsxs("div",{className:"error-banner",style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"0.75rem",marginBottom:"1rem",borderRadius:"0.25rem",border:"1px solid #f5c6cb"},children:[w," (showing last known data)"]}),S.jsx("div",{className:"master-lobby-grid",children:p.map(R=>S.jsx("div",{className:"lobby-tile",children:S.jsxs("div",{className:"lobby-tile-content",children:[S.jsx("h3",{className:"lobby-code",children:R.code}),S.jsxs("div",{className:"lobby-stats",children:[S.jsxs("span",{className:"player-count",children:[R.player_count," players"]}),S.jsx("span",{className:"lobby-state",children:R.lobby_state})]}),S.jsxs("div",{style:{fontSize:"0.7rem",color:"#666",marginTop:"0.5rem"},children:["Debug: player_count=",R.player_count,", lobby_state=",R.lobby_state]})]})},R.code))})]})};Yx.createRoot(document.getElementById("root")).render(S.jsx(_.StrictMode,{children:S.jsx(Kx,{children:S.jsxs(Py,{basename:"/",children:[S.jsx(kE,{}),S.jsxs(ly,{children:[S.jsx(Qr,{path:"/",element:S.jsx(_E,{})}),S.jsx(Qr,{path:"/login",element:S.jsx(PE,{})}),S.jsx(Qr,{path:"/signup",element:S.jsx(SE,{})}),S.jsx(Qr,{path:"/logout",element:S.jsx(OE,{})}),S.jsx(Qr,{path:"/lobby",element:S.jsx(nA,{})}),S.jsx(Qr,{path:"/admin_lobby_view",element:S.jsx(qA,{})}),S.jsx(Qr,{path:"/create_lobby",element:S.jsx(JA,{})}),S.jsx(Qr,{path:"/product-selection",element:S.jsx(QA,{})}),S.jsx(Qr,{path:"/master_lobby_view",element:S.jsx(tb,{})}),S.jsx(Qr,{path:"/cofounders",element:S.jsx(IE,{})})]})]})})}));
