function h2(t,i){for(var s=0;s<i.length;s++){const u=i[s];if(typeof u!="string"&&!Array.isArray(u)){for(const h in u)if(h!=="default"&&!(h in t)){const p=Object.getOwnPropertyDescriptor(u,h);p&&Object.defineProperty(t,h,p.get?p:{enumerable:!0,get:()=>u[h]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&u(y)}).observe(document,{childList:!0,subtree:!0});function s(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function u(h){if(h.ep)return;h.ep=!0;const p=s(h);fetch(h.href,p)}})();var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ud(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pf={exports:{}},Ia={},gf={exports:{}},dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function p2(){if(Z0)return dt;Z0=1;var t=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function N(Z){return Z===null||typeof Z!="object"?null:(Z=T&&Z[T]||Z["@@iterator"],typeof Z=="function"?Z:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,B={};function F(Z,re,me){this.props=Z,this.context=re,this.refs=B,this.updater=me||O}F.prototype.isReactComponent={},F.prototype.setState=function(Z,re){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,re,"setState")},F.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function z(){}z.prototype=F.prototype;function H(Z,re,me){this.props=Z,this.context=re,this.refs=B,this.updater=me||O}var V=H.prototype=new z;V.constructor=H,k(V,F.prototype),V.isPureReactComponent=!0;var ee=Array.isArray,se=Object.prototype.hasOwnProperty,ue={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function ce(Z,re,me){var ve,He={},pe=null,ze=null;if(re!=null)for(ve in re.ref!==void 0&&(ze=re.ref),re.key!==void 0&&(pe=""+re.key),re)se.call(re,ve)&&!J.hasOwnProperty(ve)&&(He[ve]=re[ve]);var _e=arguments.length-2;if(_e===1)He.children=me;else if(1<_e){for(var it=Array(_e),ft=0;ft<_e;ft++)it[ft]=arguments[ft+2];He.children=it}if(Z&&Z.defaultProps)for(ve in _e=Z.defaultProps,_e)He[ve]===void 0&&(He[ve]=_e[ve]);return{$$typeof:t,type:Z,key:pe,ref:ze,props:He,_owner:ue.current}}function q(Z,re){return{$$typeof:t,type:Z.type,key:re,ref:Z.ref,props:Z.props,_owner:Z._owner}}function Me(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function Pe(Z){var re={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(me){return re[me]})}var be=/\/+/g;function Fe(Z,re){return typeof Z=="object"&&Z!==null&&Z.key!=null?Pe(""+Z.key):re.toString(36)}function Re(Z,re,me,ve,He){var pe=typeof Z;(pe==="undefined"||pe==="boolean")&&(Z=null);var ze=!1;if(Z===null)ze=!0;else switch(pe){case"string":case"number":ze=!0;break;case"object":switch(Z.$$typeof){case t:case i:ze=!0}}if(ze)return ze=Z,He=He(ze),Z=ve===""?"."+Fe(ze,0):ve,ee(He)?(me="",Z!=null&&(me=Z.replace(be,"$&/")+"/"),Re(He,re,me,"",function(ft){return ft})):He!=null&&(Me(He)&&(He=q(He,me+(!He.key||ze&&ze.key===He.key?"":(""+He.key).replace(be,"$&/")+"/")+Z)),re.push(He)),1;if(ze=0,ve=ve===""?".":ve+":",ee(Z))for(var _e=0;_e<Z.length;_e++){pe=Z[_e];var it=ve+Fe(pe,_e);ze+=Re(pe,re,me,it,He)}else if(it=N(Z),typeof it=="function")for(Z=it.call(Z),_e=0;!(pe=Z.next()).done;)pe=pe.value,it=ve+Fe(pe,_e++),ze+=Re(pe,re,me,it,He);else if(pe==="object")throw re=String(Z),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.");return ze}function Q(Z,re,me){if(Z==null)return Z;var ve=[],He=0;return Re(Z,ve,"","",function(pe){return re.call(me,pe,He++)}),ve}function Ve(Z){if(Z._status===-1){var re=Z._result;re=re(),re.then(function(me){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=me)},function(me){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=me)}),Z._status===-1&&(Z._status=0,Z._result=re)}if(Z._status===1)return Z._result.default;throw Z._result}var we={current:null},he={transition:null},De={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:he,ReactCurrentOwner:ue};function fe(){throw Error("act(...) is not supported in production builds of React.")}return dt.Children={map:Q,forEach:function(Z,re,me){Q(Z,function(){re.apply(this,arguments)},me)},count:function(Z){var re=0;return Q(Z,function(){re++}),re},toArray:function(Z){return Q(Z,function(re){return re})||[]},only:function(Z){if(!Me(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},dt.Component=F,dt.Fragment=s,dt.Profiler=h,dt.PureComponent=H,dt.StrictMode=u,dt.Suspense=v,dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=De,dt.act=fe,dt.cloneElement=function(Z,re,me){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var ve=k({},Z.props),He=Z.key,pe=Z.ref,ze=Z._owner;if(re!=null){if(re.ref!==void 0&&(pe=re.ref,ze=ue.current),re.key!==void 0&&(He=""+re.key),Z.type&&Z.type.defaultProps)var _e=Z.type.defaultProps;for(it in re)se.call(re,it)&&!J.hasOwnProperty(it)&&(ve[it]=re[it]===void 0&&_e!==void 0?_e[it]:re[it])}var it=arguments.length-2;if(it===1)ve.children=me;else if(1<it){_e=Array(it);for(var ft=0;ft<it;ft++)_e[ft]=arguments[ft+2];ve.children=_e}return{$$typeof:t,type:Z.type,key:He,ref:pe,props:ve,_owner:ze}},dt.createContext=function(Z){return Z={$$typeof:y,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:p,_context:Z},Z.Consumer=Z},dt.createElement=ce,dt.createFactory=function(Z){var re=ce.bind(null,Z);return re.type=Z,re},dt.createRef=function(){return{current:null}},dt.forwardRef=function(Z){return{$$typeof:C,render:Z}},dt.isValidElement=Me,dt.lazy=function(Z){return{$$typeof:E,_payload:{_status:-1,_result:Z},_init:Ve}},dt.memo=function(Z,re){return{$$typeof:x,type:Z,compare:re===void 0?null:re}},dt.startTransition=function(Z){var re=he.transition;he.transition={};try{Z()}finally{he.transition=re}},dt.unstable_act=fe,dt.useCallback=function(Z,re){return we.current.useCallback(Z,re)},dt.useContext=function(Z){return we.current.useContext(Z)},dt.useDebugValue=function(){},dt.useDeferredValue=function(Z){return we.current.useDeferredValue(Z)},dt.useEffect=function(Z,re){return we.current.useEffect(Z,re)},dt.useId=function(){return we.current.useId()},dt.useImperativeHandle=function(Z,re,me){return we.current.useImperativeHandle(Z,re,me)},dt.useInsertionEffect=function(Z,re){return we.current.useInsertionEffect(Z,re)},dt.useLayoutEffect=function(Z,re){return we.current.useLayoutEffect(Z,re)},dt.useMemo=function(Z,re){return we.current.useMemo(Z,re)},dt.useReducer=function(Z,re,me){return we.current.useReducer(Z,re,me)},dt.useRef=function(Z){return we.current.useRef(Z)},dt.useState=function(Z){return we.current.useState(Z)},dt.useSyncExternalStore=function(Z,re,me){return we.current.useSyncExternalStore(Z,re,me)},dt.useTransition=function(){return we.current.useTransition()},dt.version="18.3.1",dt}var K0;function fd(){return K0||(K0=1,gf.exports=p2()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q0;function g2(){if(Q0)return Ia;Q0=1;var t=fd(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,h=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function y(C,v,x){var E,T={},N=null,O=null;x!==void 0&&(N=""+x),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(O=v.ref);for(E in v)u.call(v,E)&&!p.hasOwnProperty(E)&&(T[E]=v[E]);if(C&&C.defaultProps)for(E in v=C.defaultProps,v)T[E]===void 0&&(T[E]=v[E]);return{$$typeof:i,type:C,key:N,ref:O,props:T,_owner:h.current}}return Ia.Fragment=s,Ia.jsx=y,Ia.jsxs=y,Ia}var $0;function m2(){return $0||($0=1,pf.exports=g2()),pf.exports}var R=m2(),P=fd();const Jt=ud(P);var fc={},mf={exports:{}},pr={},xf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function x2(){return q0||(q0=1,function(t){function i(he,De){var fe=he.length;he.push(De);e:for(;0<fe;){var Z=fe-1>>>1,re=he[Z];if(0<h(re,De))he[Z]=De,he[fe]=re,fe=Z;else break e}}function s(he){return he.length===0?null:he[0]}function u(he){if(he.length===0)return null;var De=he[0],fe=he.pop();if(fe!==De){he[0]=fe;e:for(var Z=0,re=he.length,me=re>>>1;Z<me;){var ve=2*(Z+1)-1,He=he[ve],pe=ve+1,ze=he[pe];if(0>h(He,fe))pe<re&&0>h(ze,He)?(he[Z]=ze,he[pe]=fe,Z=pe):(he[Z]=He,he[ve]=fe,Z=ve);else if(pe<re&&0>h(ze,fe))he[Z]=ze,he[pe]=fe,Z=pe;else break e}}return De}function h(he,De){var fe=he.sortIndex-De.sortIndex;return fe!==0?fe:he.id-De.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;t.unstable_now=function(){return p.now()}}else{var y=Date,C=y.now();t.unstable_now=function(){return y.now()-C}}var v=[],x=[],E=1,T=null,N=3,O=!1,k=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(he){for(var De=s(x);De!==null;){if(De.callback===null)u(x);else if(De.startTime<=he)u(x),De.sortIndex=De.expirationTime,i(v,De);else break;De=s(x)}}function ee(he){if(B=!1,V(he),!k)if(s(v)!==null)k=!0,Ve(se);else{var De=s(x);De!==null&&we(ee,De.startTime-he)}}function se(he,De){k=!1,B&&(B=!1,z(ce),ce=-1),O=!0;var fe=N;try{for(V(De),T=s(v);T!==null&&(!(T.expirationTime>De)||he&&!Pe());){var Z=T.callback;if(typeof Z=="function"){T.callback=null,N=T.priorityLevel;var re=Z(T.expirationTime<=De);De=t.unstable_now(),typeof re=="function"?T.callback=re:T===s(v)&&u(v),V(De)}else u(v);T=s(v)}if(T!==null)var me=!0;else{var ve=s(x);ve!==null&&we(ee,ve.startTime-De),me=!1}return me}finally{T=null,N=fe,O=!1}}var ue=!1,J=null,ce=-1,q=5,Me=-1;function Pe(){return!(t.unstable_now()-Me<q)}function be(){if(J!==null){var he=t.unstable_now();Me=he;var De=!0;try{De=J(!0,he)}finally{De?Fe():(ue=!1,J=null)}}else ue=!1}var Fe;if(typeof H=="function")Fe=function(){H(be)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Q=Re.port2;Re.port1.onmessage=be,Fe=function(){Q.postMessage(null)}}else Fe=function(){F(be,0)};function Ve(he){J=he,ue||(ue=!0,Fe())}function we(he,De){ce=F(function(){he(t.unstable_now())},De)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(he){he.callback=null},t.unstable_continueExecution=function(){k||O||(k=!0,Ve(se))},t.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<he?Math.floor(1e3/he):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return s(v)},t.unstable_next=function(he){switch(N){case 1:case 2:case 3:var De=3;break;default:De=N}var fe=N;N=De;try{return he()}finally{N=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(he,De){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var fe=N;N=he;try{return De()}finally{N=fe}},t.unstable_scheduleCallback=function(he,De,fe){var Z=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Z+fe:Z):fe=Z,he){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=fe+re,he={id:E++,callback:De,priorityLevel:he,startTime:fe,expirationTime:re,sortIndex:-1},fe>Z?(he.sortIndex=fe,i(x,he),s(v)===null&&he===s(x)&&(B?(z(ce),ce=-1):B=!0,we(ee,fe-Z))):(he.sortIndex=re,i(v,he),k||O||(k=!0,Ve(se))),he},t.unstable_shouldYield=Pe,t.unstable_wrapCallback=function(he){var De=N;return function(){var fe=N;N=De;try{return he.apply(this,arguments)}finally{N=fe}}}}(yf)),yf}var J0;function y2(){return J0||(J0=1,xf.exports=x2()),xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1;function w2(){if(e1)return pr;e1=1;var t=fd(),i=y2();function s(n){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+n,d=1;d<arguments.length;d++)a+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,h={};function p(n,a){y(n,a),y(n+"Capture",a)}function y(n,a){for(h[n]=a,n=0;n<a.length;n++)u.add(a[n])}var C=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},T={};function N(n){return v.call(T,n)?!0:v.call(E,n)?!1:x.test(n)?T[n]=!0:(E[n]=!0,!1)}function O(n,a,d,m){if(d!==null&&d.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,a,d,m){if(a===null||typeof a>"u"||O(n,a,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function B(n,a,d,m,A,I,D){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=A,this.mustUseProperty=d,this.propertyName=n,this.type=a,this.sanitizeURL=I,this.removeEmptyString=D}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){F[n]=new B(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var a=n[0];F[a]=new B(a,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){F[n]=new B(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){F[n]=new B(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){F[n]=new B(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){F[n]=new B(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){F[n]=new B(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){F[n]=new B(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){F[n]=new B(n,5,!1,n.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function H(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var a=n.replace(z,H);F[a]=new B(a,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var a=n.replace(z,H);F[a]=new B(a,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var a=n.replace(z,H);F[a]=new B(a,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){F[n]=new B(n,1,!1,n.toLowerCase(),null,!1,!1)}),F.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){F[n]=new B(n,1,!1,n.toLowerCase(),null,!0,!0)});function V(n,a,d,m){var A=F.hasOwnProperty(a)?F[a]:null;(A!==null?A.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,d,A,m)&&(d=null),m||A===null?N(a)&&(d===null?n.removeAttribute(a):n.setAttribute(a,""+d)):A.mustUseProperty?n[A.propertyName]=d===null?A.type===3?!1:"":d:(a=A.attributeName,m=A.attributeNamespace,d===null?n.removeAttribute(a):(A=A.type,d=A===3||A===4&&d===!0?"":""+d,m?n.setAttributeNS(m,a,d):n.setAttribute(a,d))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),ue=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Me=Symbol.for("react.provider"),Pe=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),he=Symbol.iterator;function De(n){return n===null||typeof n!="object"?null:(n=he&&n[he]||n["@@iterator"],typeof n=="function"?n:null)}var fe=Object.assign,Z;function re(n){if(Z===void 0)try{throw Error()}catch(d){var a=d.stack.trim().match(/\n( *(at )?)/);Z=a&&a[1]||""}return`
`+Z+n}var me=!1;function ve(n,a){if(!n||me)return"";me=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(le){var m=le}Reflect.construct(n,[],a)}else{try{a.call()}catch(le){m=le}n.call(a.prototype)}else{try{throw Error()}catch(le){m=le}n()}}catch(le){if(le&&m&&typeof le.stack=="string"){for(var A=le.stack.split(`
`),I=m.stack.split(`
`),D=A.length-1,W=I.length-1;1<=D&&0<=W&&A[D]!==I[W];)W--;for(;1<=D&&0<=W;D--,W--)if(A[D]!==I[W]){if(D!==1||W!==1)do if(D--,W--,0>W||A[D]!==I[W]){var Y=`
`+A[D].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=D&&0<=W);break}}}finally{me=!1,Error.prepareStackTrace=d}return(n=n?n.displayName||n.name:"")?re(n):""}function He(n){switch(n.tag){case 5:return re(n.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 2:case 15:return n=ve(n.type,!1),n;case 11:return n=ve(n.type.render,!1),n;case 1:return n=ve(n.type,!0),n;default:return""}}function pe(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case J:return"Fragment";case ue:return"Portal";case q:return"Profiler";case ce:return"StrictMode";case Fe:return"Suspense";case Re:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Pe:return(n.displayName||"Context")+".Consumer";case Me:return(n._context.displayName||"Context")+".Provider";case be:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return a=n.displayName||null,a!==null?a:pe(n.type)||"Memo";case Ve:a=n._payload,n=n._init;try{return pe(n(a))}catch{}}return null}function ze(n){var a=n.type;switch(n.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=a.render,n=n.displayName||n.name||"",a.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(a);case 8:return a===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function _e(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function it(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ft(n){var a=it(n)?"checked":"value",d=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),m=""+n[a];if(!n.hasOwnProperty(a)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var A=d.get,I=d.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return A.call(this)},set:function(D){m=""+D,I.call(this,D)}}),Object.defineProperty(n,a,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function _t(n){n._valueTracker||(n._valueTracker=ft(n))}function er(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var d=a.getValue(),m="";return n&&(m=it(n)?n.checked?"true":"false":n.value),n=m,n!==d?(a.setValue(n),!0):!1}function ot(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Hn(n,a){var d=a.checked;return fe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??n._wrapperState.initialChecked})}function Ut(n,a){var d=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;d=_e(a.value!=null?a.value:d),n._wrapperState={initialChecked:m,initialValue:d,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function gr(n,a){a=a.checked,a!=null&&V(n,"checked",a,!1)}function xt(n,a){gr(n,a);var d=_e(a.value),m=a.type;if(d!=null)m==="number"?(d===0&&n.value===""||n.value!=d)&&(n.value=""+d):n.value!==""+d&&(n.value=""+d);else if(m==="submit"||m==="reset"){n.removeAttribute("value");return}a.hasOwnProperty("value")?tt(n,a.type,d):a.hasOwnProperty("defaultValue")&&tt(n,a.type,_e(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(n.defaultChecked=!!a.defaultChecked)}function yt(n,a,d){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+n._wrapperState.initialValue,d||a===n.value||(n.value=a),n.defaultValue=a}d=n.name,d!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,d!==""&&(n.name=d)}function tt(n,a,d){(a!=="number"||ot(n.ownerDocument)!==n)&&(d==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+d&&(n.defaultValue=""+d))}var ar=Array.isArray;function Ce(n,a,d,m){if(n=n.options,a){a={};for(var A=0;A<d.length;A++)a["$"+d[A]]=!0;for(d=0;d<n.length;d++)A=a.hasOwnProperty("$"+n[d].value),n[d].selected!==A&&(n[d].selected=A),A&&m&&(n[d].defaultSelected=!0)}else{for(d=""+_e(d),a=null,A=0;A<n.length;A++){if(n[A].value===d){n[A].selected=!0,m&&(n[A].defaultSelected=!0);return}a!==null||n[A].disabled||(a=n[A])}a!==null&&(a.selected=!0)}}function $e(n,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return fe({},a,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function St(n,a){var d=a.value;if(d==null){if(d=a.children,a=a.defaultValue,d!=null){if(a!=null)throw Error(s(92));if(ar(d)){if(1<d.length)throw Error(s(93));d=d[0]}a=d}a==null&&(a=""),d=a}n._wrapperState={initialValue:_e(d)}}function At(n,a){var d=_e(a.value),m=_e(a.defaultValue);d!=null&&(d=""+d,d!==n.value&&(n.value=d),a.defaultValue==null&&n.defaultValue!==d&&(n.defaultValue=d)),m!=null&&(n.defaultValue=""+m)}function Pn(n){var a=n.textContent;a===n._wrapperState.initialValue&&a!==""&&a!==null&&(n.value=a)}function wt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kt(n,a){return n==null||n==="http://www.w3.org/1999/xhtml"?wt(a):n==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Dt,Lt=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,d,m,A){MSApp.execUnsafeLocalFunction(function(){return n(a,d,m,A)})}:n}(function(n,a){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=a;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Dt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;a.firstChild;)n.appendChild(a.firstChild)}});function Ln(n,a){if(a){var d=n.firstChild;if(d&&d===n.lastChild&&d.nodeType===3){d.nodeValue=a;return}}n.textContent=a}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ci=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(n){Ci.forEach(function(a){a=a+n.charAt(0).toUpperCase()+n.substring(1),tr[a]=tr[n]})});function It(n,a,d){return a==null||typeof a=="boolean"||a===""?"":d||typeof a!="number"||a===0||tr.hasOwnProperty(n)&&tr[n]?(""+a).trim():a+"px"}function Ne(n,a){n=n.style;for(var d in a)if(a.hasOwnProperty(d)){var m=d.indexOf("--")===0,A=It(d,a[d],m);d==="float"&&(d="cssFloat"),m?n.setProperty(d,A):n[d]=A}}var Qt=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(n,a){if(a){if(Qt[n]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,n));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function kt(n,a){if(n.indexOf("-")===-1)return typeof a.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mr=null;function Ei(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Si=null,Se=null,at=null;function bt(n){if(n=fa(n)){if(typeof Si!="function")throw Error(s(280));var a=n.stateNode;a&&(a=Tl(a),Si(n.stateNode,n.type,a))}}function wn(n){Se?at?at.push(n):at=[n]:Se=n}function Ye(){if(Se){var n=Se,a=at;if(at=Se=null,bt(n),a)for(n=0;n<a.length;n++)bt(a[n])}}function En(n,a){return n(a)}function dn(){}var Mr=!1;function ri(n,a,d){if(Mr)return n(a,d);Mr=!0;try{return En(n,a,d)}finally{Mr=!1,(Se!==null||at!==null)&&(dn(),Ye())}}function hn(n,a){var d=n.stateNode;if(d===null)return null;var m=Tl(d);if(m===null)return null;d=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(n=n.type,m=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!m;break e;default:n=!1}if(n)return null;if(d&&typeof d!="function")throw Error(s(231,a,typeof d));return d}var Hi=!1;if(C)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Hi=!1}function Wo(n,a,d,m,A,I,D,W,Y){var le=Array.prototype.slice.call(arguments,3);try{a.apply(d,le)}catch(ye){this.onError(ye)}}var vn=!1,_r=null,kn=!1,Oe=null,Gi={onError:function(n){vn=!0,_r=n}};function Ho(n,a,d,m,A,I,D,W,Y){vn=!1,_r=null,Wo.apply(Gi,arguments)}function Gn(n,a,d,m,A,I,D,W,Y){if(Ho.apply(this,arguments),vn){if(vn){var le=_r;vn=!1,_r=null}else throw Error(s(198));kn||(kn=!0,Oe=le)}}function lr(n){var a=n,d=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,a.flags&4098&&(d=a.return),n=a.return;while(n)}return a.tag===3?d:null}function Ts(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function Is(n){if(lr(n)!==n)throw Error(s(188))}function Dr(n){var a=n.alternate;if(!a){if(a=lr(n),a===null)throw Error(s(188));return a!==n?null:n}for(var d=n,m=a;;){var A=d.return;if(A===null)break;var I=A.alternate;if(I===null){if(m=A.return,m!==null){d=m;continue}break}if(A.child===I.child){for(I=A.child;I;){if(I===d)return Is(A),n;if(I===m)return Is(A),a;I=I.sibling}throw Error(s(188))}if(d.return!==m.return)d=A,m=I;else{for(var D=!1,W=A.child;W;){if(W===d){D=!0,d=A,m=I;break}if(W===m){D=!0,m=A,d=I;break}W=W.sibling}if(!D){for(W=I.child;W;){if(W===d){D=!0,d=I,m=A;break}if(W===m){D=!0,m=I,d=A;break}W=W.sibling}if(!D)throw Error(s(189))}}if(d.alternate!==m)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?n:a}function il(n){return n=Dr(n),n!==null?sl(n):null}function sl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var a=sl(n);if(a!==null)return a;n=n.sibling}return null}var yr=i.unstable_scheduleCallback,Rn=i.unstable_cancelCallback,zt=i.unstable_shouldYield,ol=i.unstable_requestPaint,Rt=i.unstable_now,Go=i.unstable_getCurrentPriorityLevel,de=i.unstable_ImmediatePriority,al=i.unstable_UserBlockingPriority,Ft=i.unstable_NormalPriority,Yi=i.unstable_LowPriority,ll=i.unstable_IdlePriority,mt=null,lt=null;function ht(n){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(mt,n,void 0,(n.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:pn,Yo=Math.log,Xo=Math.LN2;function pn(n){return n>>>=0,n===0?32:31-(Yo(n)/Xo|0)|0}var wr=64,ro=4194304;function jt(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function vr(n,a){var d=n.pendingLanes;if(d===0)return 0;var m=0,A=n.suspendedLanes,I=n.pingedLanes,D=d&268435455;if(D!==0){var W=D&~A;W!==0?m=jt(W):(I&=D,I!==0&&(m=jt(I)))}else D=d&~A,D!==0?m=jt(D):I!==0&&(m=jt(I));if(m===0)return 0;if(a!==0&&a!==m&&!(a&A)&&(A=m&-m,I=a&-a,A>=I||A===16&&(I&4194240)!==0))return a;if(m&4&&(m|=d&16),a=n.entangledLanes,a!==0)for(n=n.entanglements,a&=m;0<a;)d=31-nr(a),A=1<<d,m|=n[d],a&=~A;return m}function Xc(n,a){switch(n){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xi(n,a){for(var d=n.suspendedLanes,m=n.pingedLanes,A=n.expirationTimes,I=n.pendingLanes;0<I;){var D=31-nr(I),W=1<<D,Y=A[D];Y===-1?(!(W&d)||W&m)&&(A[D]=Xc(W,a)):Y<=a&&(n.expiredLanes|=W),I&=~W}}function Mt(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Sn(){var n=wr;return wr<<=1,!(wr&4194240)&&(wr=64),n}function te(n){for(var a=[],d=0;31>d;d++)a.push(n);return a}function j(n,a,d){n.pendingLanes|=a,a!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,a=31-nr(a),n[a]=d}function Ge(n,a){var d=n.pendingLanes&~a;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=a,n.mutableReadLanes&=a,n.entangledLanes&=a,a=n.entanglements;var m=n.eventTimes;for(n=n.expirationTimes;0<d;){var A=31-nr(d),I=1<<A;a[A]=0,m[A]=-1,n[A]=-1,d&=~I}}function on(n,a){var d=n.entangledLanes|=a;for(n=n.entanglements;d;){var m=31-nr(d),A=1<<m;A&a|n[m]&a&&(n[m]|=a),d&=~A}}var ct=0;function cl(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var io,Yn,Xe,Vt,Zo,Ko=!1,Zi=[],Cr=null,Or=null,ii=null,$t=new Map,Gr=new Map,Bn=[],qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ul(n,a){switch(n){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":$t.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(a.pointerId)}}function nt(n,a,d,m,A,I){return n===null||n.nativeEvent!==I?(n={blockedOn:a,domEventName:d,eventSystemFlags:m,nativeEvent:I,targetContainers:[A]},a!==null&&(a=fa(a),a!==null&&Yn(a)),n):(n.eventSystemFlags|=m,a=n.targetContainers,A!==null&&a.indexOf(A)===-1&&a.push(A),n)}function An(n,a,d,m,A){switch(a){case"focusin":return Cr=nt(Cr,n,a,d,m,A),!0;case"dragenter":return Or=nt(Or,n,a,d,m,A),!0;case"mouseover":return ii=nt(ii,n,a,d,m,A),!0;case"pointerover":var I=A.pointerId;return $t.set(I,nt($t.get(I)||null,n,a,d,m,A)),!0;case"gotpointercapture":return I=A.pointerId,Gr.set(I,nt(Gr.get(I)||null,n,a,d,m,A)),!0}return!1}function fl(n){var a=ks(n.target);if(a!==null){var d=lr(a);if(d!==null){if(a=d.tag,a===13){if(a=Ts(d),a!==null){n.blockedOn=a,Zo(n.priority,function(){Xe(d)});return}}else if(a===3&&d.stateNode.current.memoizedState.isDehydrated){n.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ki(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var d=so(n.domEventName,n.eventSystemFlags,a[0],n.nativeEvent);if(d===null){d=n.nativeEvent;var m=new d.constructor(d.type,d);mr=m,d.target.dispatchEvent(m),mr=null}else return a=fa(d),a!==null&&Yn(a),n.blockedOn=d,!1;a.shift()}return!0}function Qo(n,a,d){Ki(n)&&d.delete(a)}function Ai(){Ko=!1,Cr!==null&&Ki(Cr)&&(Cr=null),Or!==null&&Ki(Or)&&(Or=null),ii!==null&&Ki(ii)&&(ii=null),$t.forEach(Qo),Gr.forEach(Qo)}function bs(n,a){n.blockedOn===a&&(n.blockedOn=null,Ko||(Ko=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ai)))}function Yr(n){function a(A){return bs(A,n)}if(0<Zi.length){bs(Zi[0],n);for(var d=1;d<Zi.length;d++){var m=Zi[d];m.blockedOn===n&&(m.blockedOn=null)}}for(Cr!==null&&bs(Cr,n),Or!==null&&bs(Or,n),ii!==null&&bs(ii,n),$t.forEach(a),Gr.forEach(a),d=0;d<Bn.length;d++)m=Bn[d],m.blockedOn===n&&(m.blockedOn=null);for(;0<Bn.length&&(d=Bn[0],d.blockedOn===null);)fl(d),d.blockedOn===null&&Bn.shift()}var Pr=ee.ReactCurrentBatchConfig,si=!0;function dl(n,a,d,m){var A=ct,I=Pr.transition;Pr.transition=null;try{ct=1,Ti(n,a,d,m)}finally{ct=A,Pr.transition=I}}function Ns(n,a,d,m){var A=ct,I=Pr.transition;Pr.transition=null;try{ct=4,Ti(n,a,d,m)}finally{ct=A,Pr.transition=I}}function Ti(n,a,d,m){if(si){var A=so(n,a,d,m);if(A===null)ru(n,a,m,Tn,d),ul(n,m);else if(An(A,n,a,d,m))m.stopPropagation();else if(ul(n,m),a&4&&-1<qe.indexOf(n)){for(;A!==null;){var I=fa(A);if(I!==null&&io(I),I=so(n,a,d,m),I===null&&ru(n,a,m,Tn,d),I===A)break;A=I}A!==null&&m.stopPropagation()}else ru(n,a,m,null,d)}}var Tn=null;function so(n,a,d,m){if(Tn=null,n=Ei(m),n=ks(n),n!==null)if(a=lr(n),a===null)n=null;else if(d=a.tag,d===13){if(n=Ts(a),n!==null)return n;n=null}else if(d===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null);return Tn=n,null}function $o(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Go()){case de:return 1;case al:return 4;case Ft:case Yi:return 16;case ll:return 536870912;default:return 16}default:return 16}}var Xr=null,qo=null,oo=null;function hl(){if(oo)return oo;var n,a=qo,d=a.length,m,A="value"in Xr?Xr.value:Xr.textContent,I=A.length;for(n=0;n<d&&a[n]===A[n];n++);var D=d-n;for(m=1;m<=D&&a[d-m]===A[I-m];m++);return oo=A.slice(n,1<m?1-m:void 0)}function Ct(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Rs(){return!0}function Ms(){return!1}function an(n){function a(d,m,A,I,D){this._reactName=d,this._targetInst=A,this.type=m,this.nativeEvent=I,this.target=D,this.currentTarget=null;for(var W in n)n.hasOwnProperty(W)&&(d=n[W],this[W]=d?d(I):I[W]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?Rs:Ms,this.isPropagationStopped=Ms,this}return fe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Rs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Rs)},persist:function(){},isPersistent:Rs}),a}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ae=an(Qi),st=fe({},Qi,{view:0,detail:0}),In=an(st),$i,ao,_s,lo=fe({},st,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_s&&(_s&&n.type==="mousemove"?($i=n.screenX-_s.screenX,ao=n.screenY-_s.screenY):ao=$i=0,_s=n),$i)},movementY:function(n){return"movementY"in n?n.movementY:ao}}),pl=an(lo),Jo=fe({},lo,{dataTransfer:0}),gn=an(Jo),ea=fe({},st,{relatedTarget:0}),Wt=an(ea),co=fe({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ii=an(co),Ot=fe({},Qi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ze=an(Ot),Zc=fe({},Qi,{data:0}),Bt=an(Zc),bi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=Kc[n])?!!a[n]:!1}function Ds(){return Lr}var gl=fe({},st,{key:function(n){if(n.key){var a=bi[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=Ct(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qi[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(n){return n.type==="keypress"?Ct(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ct(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ta=an(gl),ml=fe({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),na=an(ml),Qc=fe({},st,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Ji=an(Qc),ra=fe({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$c=an(ra),Os=fe({},lo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qc=an(Os),oi=[9,13,27,32],es=C&&"CompositionEvent"in window,Mn=null;C&&"documentMode"in document&&(Mn=document.documentMode);var xl=C&&"TextEvent"in window&&!Mn,Er=C&&(!es||Mn&&8<Mn&&11>=Mn),yl=" ",uo=!1;function wl(n,a){switch(n){case"keyup":return oi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ia(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Fn=!1;function Jc(n,a){switch(n){case"compositionend":return ia(a);case"keypress":return a.which!==32?null:(uo=!0,yl);case"textInput":return n=a.data,n===yl&&uo?null:n;default:return null}}function sa(n,a){if(Fn)return n==="compositionend"||!es&&wl(n,a)?(n=hl(),oo=qo=Xr=null,Fn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Er&&a.locale!=="ko"?null:a.data;default:return null}}var Ps={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Ps[n.type]:a==="textarea"}function Ls(n,a,d,m){wn(m),a=El(a,"onChange"),0<a.length&&(d=new ae("onChange","change",null,d,m),n.push({event:d,listeners:a}))}var M=null,e=null;function r(n){uh(n,0)}function o(n){var a=po(n);if(er(a))return n}function l(n,a){if(n==="change")return a}var c=!1;if(C){var f;if(C){var g="oninput"in document;if(!g){var w=document.createElement("div");w.setAttribute("oninput","return;"),g=typeof w.oninput=="function"}f=g}else f=!1;c=f&&(!document.documentMode||9<document.documentMode)}function S(){M&&(M.detachEvent("onpropertychange",b),e=M=null)}function b(n){if(n.propertyName==="value"&&o(e)){var a=[];Ls(a,e,n,Ei(n)),ri(r,a)}}function _(n,a,d){n==="focusin"?(S(),M=a,e=d,M.attachEvent("onpropertychange",b)):n==="focusout"&&S()}function L(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return o(e)}function U(n,a){if(n==="click")return o(a)}function G(n,a){if(n==="input"||n==="change")return o(a)}function X(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var $=typeof Object.is=="function"?Object.is:X;function oe(n,a){if($(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var d=Object.keys(n),m=Object.keys(a);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var A=d[m];if(!v.call(a,A)||!$(n[A],a[A]))return!1}return!0}function Ae(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Te(n,a){var d=Ae(n);n=0;for(var m;d;){if(d.nodeType===3){if(m=n+d.textContent.length,n<=a&&m>=a)return{node:d,offset:a-n};n=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ae(d)}}function xe(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?xe(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function ut(){for(var n=window,a=ot();a instanceof n.HTMLIFrameElement;){try{var d=typeof a.contentWindow.location.href=="string"}catch{d=!1}if(d)n=a.contentWindow;else break;a=ot(n.document)}return a}function rt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}function Xn(n){var a=ut(),d=n.focusedElem,m=n.selectionRange;if(a!==d&&d&&d.ownerDocument&&xe(d.ownerDocument.documentElement,d)){if(m!==null&&rt(d)){if(a=m.start,n=m.end,n===void 0&&(n=a),"selectionStart"in d)d.selectionStart=a,d.selectionEnd=Math.min(n,d.value.length);else if(n=(a=d.ownerDocument||document)&&a.defaultView||window,n.getSelection){n=n.getSelection();var A=d.textContent.length,I=Math.min(m.start,A);m=m.end===void 0?I:Math.min(m.end,A),!n.extend&&I>m&&(A=m,m=I,I=A),A=Te(d,I);var D=Te(d,m);A&&D&&(n.rangeCount!==1||n.anchorNode!==A.node||n.anchorOffset!==A.offset||n.focusNode!==D.node||n.focusOffset!==D.offset)&&(a=a.createRange(),a.setStart(A.node,A.offset),n.removeAllRanges(),I>m?(n.addRange(a),n.extend(D.node,D.offset)):(a.setEnd(D.node,D.offset),n.addRange(a)))}}for(a=[],n=d;n=n.parentNode;)n.nodeType===1&&a.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<a.length;d++)n=a[d],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Sr=C&&"documentMode"in document&&11>=document.documentMode,mn=null,Nt=null,en=null,jn=!1;function Ni(n,a,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;jn||mn==null||mn!==ot(m)||(m=mn,"selectionStart"in m&&rt(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),en&&oe(en,m)||(en=m,m=El(Nt,"onSelect"),0<m.length&&(a=new ae("onSelect","select",null,a,d),n.push({event:a,listeners:m}),a.target=mn)))}function Zr(n,a){var d={};return d[n.toLowerCase()]=a.toLowerCase(),d["Webkit"+n]="webkit"+a,d["Moz"+n]="moz"+a,d}var ts={animationend:Zr("Animation","AnimationEnd"),animationiteration:Zr("Animation","AnimationIteration"),animationstart:Zr("Animation","AnimationStart"),transitionend:Zr("Transition","TransitionEnd")},oa={},nh={};C&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function vl(n){if(oa[n])return oa[n];if(!ts[n])return n;var a=ts[n],d;for(d in a)if(a.hasOwnProperty(d)&&d in nh)return oa[n]=a[d];return n}var rh=vl("animationend"),ih=vl("animationiteration"),sh=vl("animationstart"),oh=vl("transitionend"),ah=new Map,lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(n,a){ah.set(n,a),p(a,[n])}for(var eu=0;eu<lh.length;eu++){var tu=lh[eu],Ex=tu.toLowerCase(),Sx=tu[0].toUpperCase()+tu.slice(1);ns(Ex,"on"+Sx)}ns(rh,"onAnimationEnd"),ns(ih,"onAnimationIteration"),ns(sh,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(oh,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ax=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function ch(n,a,d){var m=n.type||"unknown-event";n.currentTarget=d,Gn(m,a,void 0,n),n.currentTarget=null}function uh(n,a){a=(a&4)!==0;for(var d=0;d<n.length;d++){var m=n[d],A=m.event;m=m.listeners;e:{var I=void 0;if(a)for(var D=m.length-1;0<=D;D--){var W=m[D],Y=W.instance,le=W.currentTarget;if(W=W.listener,Y!==I&&A.isPropagationStopped())break e;ch(A,W,le),I=Y}else for(D=0;D<m.length;D++){if(W=m[D],Y=W.instance,le=W.currentTarget,W=W.listener,Y!==I&&A.isPropagationStopped())break e;ch(A,W,le),I=Y}}}if(kn)throw n=Oe,kn=!1,Oe=null,n}function Yt(n,a){var d=a[cu];d===void 0&&(d=a[cu]=new Set);var m=n+"__bubble";d.has(m)||(fh(a,n,2,!1),d.add(m))}function nu(n,a,d){var m=0;a&&(m|=4),fh(d,n,m,a)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function la(n){if(!n[Cl]){n[Cl]=!0,u.forEach(function(d){d!=="selectionchange"&&(Ax.has(d)||nu(d,!1,n),nu(d,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Cl]||(a[Cl]=!0,nu("selectionchange",!1,a))}}function fh(n,a,d,m){switch($o(a)){case 1:var A=dl;break;case 4:A=Ns;break;default:A=Ti}d=A.bind(null,a,d,n),A=void 0,!Hi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(A=!0),m?A!==void 0?n.addEventListener(a,d,{capture:!0,passive:A}):n.addEventListener(a,d,!0):A!==void 0?n.addEventListener(a,d,{passive:A}):n.addEventListener(a,d,!1)}function ru(n,a,d,m,A){var I=m;if(!(a&1)&&!(a&2)&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var W=m.stateNode.containerInfo;if(W===A||W.nodeType===8&&W.parentNode===A)break;if(D===4)for(D=m.return;D!==null;){var Y=D.tag;if((Y===3||Y===4)&&(Y=D.stateNode.containerInfo,Y===A||Y.nodeType===8&&Y.parentNode===A))return;D=D.return}for(;W!==null;){if(D=ks(W),D===null)return;if(Y=D.tag,Y===5||Y===6){m=I=D;continue e}W=W.parentNode}}m=m.return}ri(function(){var le=I,ye=Ei(d),Ee=[];e:{var ge=ah.get(n);if(ge!==void 0){var Le=ae,je=n;switch(n){case"keypress":if(Ct(d)===0)break e;case"keydown":case"keyup":Le=ta;break;case"focusin":je="focus",Le=Wt;break;case"focusout":je="blur",Le=Wt;break;case"beforeblur":case"afterblur":Le=Wt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Ji;break;case rh:case ih:case sh:Le=Ii;break;case oh:Le=$c;break;case"scroll":Le=In;break;case"wheel":Le=qc;break;case"copy":case"cut":case"paste":Le=Ze;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=na}var Ue=(a&4)!==0,xn=!Ue&&n==="scroll",ne=Ue?ge!==null?ge+"Capture":null:ge;Ue=[];for(var K=le,ie;K!==null;){ie=K;var Ie=ie.stateNode;if(ie.tag===5&&Ie!==null&&(ie=Ie,ne!==null&&(Ie=hn(K,ne),Ie!=null&&Ue.push(ca(K,Ie,ie)))),xn)break;K=K.return}0<Ue.length&&(ge=new Le(ge,je,null,d,ye),Ee.push({event:ge,listeners:Ue}))}}if(!(a&7)){e:{if(ge=n==="mouseover"||n==="pointerover",Le=n==="mouseout"||n==="pointerout",ge&&d!==mr&&(je=d.relatedTarget||d.fromElement)&&(ks(je)||je[Ri]))break e;if((Le||ge)&&(ge=ye.window===ye?ye:(ge=ye.ownerDocument)?ge.defaultView||ge.parentWindow:window,Le?(je=d.relatedTarget||d.toElement,Le=le,je=je?ks(je):null,je!==null&&(xn=lr(je),je!==xn||je.tag!==5&&je.tag!==6)&&(je=null)):(Le=null,je=le),Le!==je)){if(Ue=pl,Ie="onMouseLeave",ne="onMouseEnter",K="mouse",(n==="pointerout"||n==="pointerover")&&(Ue=na,Ie="onPointerLeave",ne="onPointerEnter",K="pointer"),xn=Le==null?ge:po(Le),ie=je==null?ge:po(je),ge=new Ue(Ie,K+"leave",Le,d,ye),ge.target=xn,ge.relatedTarget=ie,Ie=null,ks(ye)===le&&(Ue=new Ue(ne,K+"enter",je,d,ye),Ue.target=ie,Ue.relatedTarget=xn,Ie=Ue),xn=Ie,Le&&je)t:{for(Ue=Le,ne=je,K=0,ie=Ue;ie;ie=fo(ie))K++;for(ie=0,Ie=ne;Ie;Ie=fo(Ie))ie++;for(;0<K-ie;)Ue=fo(Ue),K--;for(;0<ie-K;)ne=fo(ne),ie--;for(;K--;){if(Ue===ne||ne!==null&&Ue===ne.alternate)break t;Ue=fo(Ue),ne=fo(ne)}Ue=null}else Ue=null;Le!==null&&dh(Ee,ge,Le,Ue,!1),je!==null&&xn!==null&&dh(Ee,xn,je,Ue,!0)}}e:{if(ge=le?po(le):window,Le=ge.nodeName&&ge.nodeName.toLowerCase(),Le==="select"||Le==="input"&&ge.type==="file")var We=l;else if(gt(ge))if(c)We=G;else{We=L;var Ke=_}else(Le=ge.nodeName)&&Le.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(We=U);if(We&&(We=We(n,le))){Ls(Ee,We,d,ye);break e}Ke&&Ke(n,ge,le),n==="focusout"&&(Ke=ge._wrapperState)&&Ke.controlled&&ge.type==="number"&&tt(ge,"number",ge.value)}switch(Ke=le?po(le):window,n){case"focusin":(gt(Ke)||Ke.contentEditable==="true")&&(mn=Ke,Nt=le,en=null);break;case"focusout":en=Nt=mn=null;break;case"mousedown":jn=!0;break;case"contextmenu":case"mouseup":case"dragend":jn=!1,Ni(Ee,d,ye);break;case"selectionchange":if(Sr)break;case"keydown":case"keyup":Ni(Ee,d,ye)}var Qe;if(es)e:{switch(n){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Fn?wl(n,d)&&(et="onCompositionEnd"):n==="keydown"&&d.keyCode===229&&(et="onCompositionStart");et&&(Er&&d.locale!=="ko"&&(Fn||et!=="onCompositionStart"?et==="onCompositionEnd"&&Fn&&(Qe=hl()):(Xr=ye,qo="value"in Xr?Xr.value:Xr.textContent,Fn=!0)),Ke=El(le,et),0<Ke.length&&(et=new Bt(et,n,null,d,ye),Ee.push({event:et,listeners:Ke}),Qe?et.data=Qe:(Qe=ia(d),Qe!==null&&(et.data=Qe)))),(Qe=xl?Jc(n,d):sa(n,d))&&(le=El(le,"onBeforeInput"),0<le.length&&(ye=new Bt("onBeforeInput","beforeinput",null,d,ye),Ee.push({event:ye,listeners:le}),ye.data=Qe))}uh(Ee,a)})}function ca(n,a,d){return{instance:n,listener:a,currentTarget:d}}function El(n,a){for(var d=a+"Capture",m=[];n!==null;){var A=n,I=A.stateNode;A.tag===5&&I!==null&&(A=I,I=hn(n,d),I!=null&&m.unshift(ca(n,I,A)),I=hn(n,a),I!=null&&m.push(ca(n,I,A))),n=n.return}return m}function fo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function dh(n,a,d,m,A){for(var I=a._reactName,D=[];d!==null&&d!==m;){var W=d,Y=W.alternate,le=W.stateNode;if(Y!==null&&Y===m)break;W.tag===5&&le!==null&&(W=le,A?(Y=hn(d,I),Y!=null&&D.unshift(ca(d,Y,W))):A||(Y=hn(d,I),Y!=null&&D.push(ca(d,Y,W)))),d=d.return}D.length!==0&&n.push({event:a,listeners:D})}var Tx=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function hh(n){return(typeof n=="string"?n:""+n).replace(Tx,`
`).replace(Ix,"")}function Sl(n,a,d){if(a=hh(a),hh(n)!==a&&d)throw Error(s(425))}function Al(){}var iu=null,su=null;function ou(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var au=typeof setTimeout=="function"?setTimeout:void 0,bx=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,Nx=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(n){return ph.resolve(null).then(n).catch(Rx)}:au;function Rx(n){setTimeout(function(){throw n})}function lu(n,a){var d=a,m=0;do{var A=d.nextSibling;if(n.removeChild(d),A&&A.nodeType===8)if(d=A.data,d==="/$"){if(m===0){n.removeChild(A),Yr(a);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=A}while(d);Yr(a)}function rs(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return n}function gh(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var d=n.data;if(d==="$"||d==="$!"||d==="$?"){if(a===0)return n;a--}else d==="/$"&&a++}n=n.previousSibling}return null}var ho=Math.random().toString(36).slice(2),ai="__reactFiber$"+ho,ua="__reactProps$"+ho,Ri="__reactContainer$"+ho,cu="__reactEvents$"+ho,Mx="__reactListeners$"+ho,_x="__reactHandles$"+ho;function ks(n){var a=n[ai];if(a)return a;for(var d=n.parentNode;d;){if(a=d[Ri]||d[ai]){if(d=a.alternate,a.child!==null||d!==null&&d.child!==null)for(n=gh(n);n!==null;){if(d=n[ai])return d;n=gh(n)}return a}n=d,d=n.parentNode}return null}function fa(n){return n=n[ai]||n[Ri],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function po(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(s(33))}function Tl(n){return n[ua]||null}var uu=[],go=-1;function is(n){return{current:n}}function Xt(n){0>go||(n.current=uu[go],uu[go]=null,go--)}function Ht(n,a){go++,uu[go]=n.current,n.current=a}var ss={},Zn=is(ss),cr=is(!1),Bs=ss;function mo(n,a){var d=n.type.contextTypes;if(!d)return ss;var m=n.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var A={},I;for(I in d)A[I]=a[I];return m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=a,n.__reactInternalMemoizedMaskedChildContext=A),A}function ur(n){return n=n.childContextTypes,n!=null}function Il(){Xt(cr),Xt(Zn)}function mh(n,a,d){if(Zn.current!==ss)throw Error(s(168));Ht(Zn,a),Ht(cr,d)}function xh(n,a,d){var m=n.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var A in m)if(!(A in a))throw Error(s(108,ze(n)||"Unknown",A));return fe({},d,m)}function bl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ss,Bs=Zn.current,Ht(Zn,n),Ht(cr,cr.current),!0}function yh(n,a,d){var m=n.stateNode;if(!m)throw Error(s(169));d?(n=xh(n,a,Bs),m.__reactInternalMemoizedMergedChildContext=n,Xt(cr),Xt(Zn),Ht(Zn,n)):Xt(cr),Ht(cr,d)}var Mi=null,Nl=!1,fu=!1;function wh(n){Mi===null?Mi=[n]:Mi.push(n)}function Dx(n){Nl=!0,wh(n)}function os(){if(!fu&&Mi!==null){fu=!0;var n=0,a=ct;try{var d=Mi;for(ct=1;n<d.length;n++){var m=d[n];do m=m(!0);while(m!==null)}Mi=null,Nl=!1}catch(A){throw Mi!==null&&(Mi=Mi.slice(n+1)),yr(de,os),A}finally{ct=a,fu=!1}}return null}var xo=[],yo=0,Rl=null,Ml=0,kr=[],Br=0,Fs=null,_i=1,Di="";function js(n,a){xo[yo++]=Ml,xo[yo++]=Rl,Rl=n,Ml=a}function vh(n,a,d){kr[Br++]=_i,kr[Br++]=Di,kr[Br++]=Fs,Fs=n;var m=_i;n=Di;var A=32-nr(m)-1;m&=~(1<<A),d+=1;var I=32-nr(a)+A;if(30<I){var D=A-A%5;I=(m&(1<<D)-1).toString(32),m>>=D,A-=D,_i=1<<32-nr(a)+A|d<<A|m,Di=I+n}else _i=1<<I|d<<A|m,Di=n}function du(n){n.return!==null&&(js(n,1),vh(n,1,0))}function hu(n){for(;n===Rl;)Rl=xo[--yo],xo[yo]=null,Ml=xo[--yo],xo[yo]=null;for(;n===Fs;)Fs=kr[--Br],kr[Br]=null,Di=kr[--Br],kr[Br]=null,_i=kr[--Br],kr[Br]=null}var Ar=null,Tr=null,qt=!1,Kr=null;function Ch(n,a){var d=zr(5,null,null,0);d.elementType="DELETED",d.stateNode=a,d.return=n,a=n.deletions,a===null?(n.deletions=[d],n.flags|=16):a.push(d)}function Eh(n,a){switch(n.tag){case 5:var d=n.type;return a=a.nodeType!==1||d.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(n.stateNode=a,Ar=n,Tr=rs(a.firstChild),!0):!1;case 6:return a=n.pendingProps===""||a.nodeType!==3?null:a,a!==null?(n.stateNode=a,Ar=n,Tr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(d=Fs!==null?{id:_i,overflow:Di}:null,n.memoizedState={dehydrated:a,treeContext:d,retryLane:1073741824},d=zr(18,null,null,0),d.stateNode=a,d.return=n,n.child=d,Ar=n,Tr=null,!0):!1;default:return!1}}function pu(n){return(n.mode&1)!==0&&(n.flags&128)===0}function gu(n){if(qt){var a=Tr;if(a){var d=a;if(!Eh(n,a)){if(pu(n))throw Error(s(418));a=rs(d.nextSibling);var m=Ar;a&&Eh(n,a)?Ch(m,d):(n.flags=n.flags&-4097|2,qt=!1,Ar=n)}}else{if(pu(n))throw Error(s(418));n.flags=n.flags&-4097|2,qt=!1,Ar=n}}}function Sh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ar=n}function _l(n){if(n!==Ar)return!1;if(!qt)return Sh(n),qt=!0,!1;var a;if((a=n.tag!==3)&&!(a=n.tag!==5)&&(a=n.type,a=a!=="head"&&a!=="body"&&!ou(n.type,n.memoizedProps)),a&&(a=Tr)){if(pu(n))throw Ah(),Error(s(418));for(;a;)Ch(n,a),a=rs(a.nextSibling)}if(Sh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8){var d=n.data;if(d==="/$"){if(a===0){Tr=rs(n.nextSibling);break e}a--}else d!=="$"&&d!=="$!"&&d!=="$?"||a++}n=n.nextSibling}Tr=null}}else Tr=Ar?rs(n.stateNode.nextSibling):null;return!0}function Ah(){for(var n=Tr;n;)n=rs(n.nextSibling)}function wo(){Tr=Ar=null,qt=!1}function mu(n){Kr===null?Kr=[n]:Kr.push(n)}var Ox=ee.ReactCurrentBatchConfig;function da(n,a,d){if(n=d.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(s(309));var m=d.stateNode}if(!m)throw Error(s(147,n));var A=m,I=""+n;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===I?a.ref:(a=function(D){var W=A.refs;D===null?delete W[I]:W[I]=D},a._stringRef=I,a)}if(typeof n!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,n))}return n}function Dl(n,a){throw n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n))}function Th(n){var a=n._init;return a(n._payload)}function Ih(n){function a(ne,K){if(n){var ie=ne.deletions;ie===null?(ne.deletions=[K],ne.flags|=16):ie.push(K)}}function d(ne,K){if(!n)return null;for(;K!==null;)a(ne,K),K=K.sibling;return null}function m(ne,K){for(ne=new Map;K!==null;)K.key!==null?ne.set(K.key,K):ne.set(K.index,K),K=K.sibling;return ne}function A(ne,K){return ne=ps(ne,K),ne.index=0,ne.sibling=null,ne}function I(ne,K,ie){return ne.index=ie,n?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<K?(ne.flags|=2,K):ie):(ne.flags|=2,K)):(ne.flags|=1048576,K)}function D(ne){return n&&ne.alternate===null&&(ne.flags|=2),ne}function W(ne,K,ie,Ie){return K===null||K.tag!==6?(K=lf(ie,ne.mode,Ie),K.return=ne,K):(K=A(K,ie),K.return=ne,K)}function Y(ne,K,ie,Ie){var We=ie.type;return We===J?ye(ne,K,ie.props.children,Ie,ie.key):K!==null&&(K.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Ve&&Th(We)===K.type)?(Ie=A(K,ie.props),Ie.ref=da(ne,K,ie),Ie.return=ne,Ie):(Ie=nc(ie.type,ie.key,ie.props,null,ne.mode,Ie),Ie.ref=da(ne,K,ie),Ie.return=ne,Ie)}function le(ne,K,ie,Ie){return K===null||K.tag!==4||K.stateNode.containerInfo!==ie.containerInfo||K.stateNode.implementation!==ie.implementation?(K=cf(ie,ne.mode,Ie),K.return=ne,K):(K=A(K,ie.children||[]),K.return=ne,K)}function ye(ne,K,ie,Ie,We){return K===null||K.tag!==7?(K=Xs(ie,ne.mode,Ie,We),K.return=ne,K):(K=A(K,ie),K.return=ne,K)}function Ee(ne,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number")return K=lf(""+K,ne.mode,ie),K.return=ne,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case se:return ie=nc(K.type,K.key,K.props,null,ne.mode,ie),ie.ref=da(ne,null,K),ie.return=ne,ie;case ue:return K=cf(K,ne.mode,ie),K.return=ne,K;case Ve:var Ie=K._init;return Ee(ne,Ie(K._payload),ie)}if(ar(K)||De(K))return K=Xs(K,ne.mode,ie,null),K.return=ne,K;Dl(ne,K)}return null}function ge(ne,K,ie,Ie){var We=K!==null?K.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return We!==null?null:W(ne,K,""+ie,Ie);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case se:return ie.key===We?Y(ne,K,ie,Ie):null;case ue:return ie.key===We?le(ne,K,ie,Ie):null;case Ve:return We=ie._init,ge(ne,K,We(ie._payload),Ie)}if(ar(ie)||De(ie))return We!==null?null:ye(ne,K,ie,Ie,null);Dl(ne,ie)}return null}function Le(ne,K,ie,Ie,We){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ne=ne.get(ie)||null,W(K,ne,""+Ie,We);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case se:return ne=ne.get(Ie.key===null?ie:Ie.key)||null,Y(K,ne,Ie,We);case ue:return ne=ne.get(Ie.key===null?ie:Ie.key)||null,le(K,ne,Ie,We);case Ve:var Ke=Ie._init;return Le(ne,K,ie,Ke(Ie._payload),We)}if(ar(Ie)||De(Ie))return ne=ne.get(ie)||null,ye(K,ne,Ie,We,null);Dl(K,Ie)}return null}function je(ne,K,ie,Ie){for(var We=null,Ke=null,Qe=K,et=K=0,On=null;Qe!==null&&et<ie.length;et++){Qe.index>et?(On=Qe,Qe=null):On=Qe.sibling;var Tt=ge(ne,Qe,ie[et],Ie);if(Tt===null){Qe===null&&(Qe=On);break}n&&Qe&&Tt.alternate===null&&a(ne,Qe),K=I(Tt,K,et),Ke===null?We=Tt:Ke.sibling=Tt,Ke=Tt,Qe=On}if(et===ie.length)return d(ne,Qe),qt&&js(ne,et),We;if(Qe===null){for(;et<ie.length;et++)Qe=Ee(ne,ie[et],Ie),Qe!==null&&(K=I(Qe,K,et),Ke===null?We=Qe:Ke.sibling=Qe,Ke=Qe);return qt&&js(ne,et),We}for(Qe=m(ne,Qe);et<ie.length;et++)On=Le(Qe,ne,et,ie[et],Ie),On!==null&&(n&&On.alternate!==null&&Qe.delete(On.key===null?et:On.key),K=I(On,K,et),Ke===null?We=On:Ke.sibling=On,Ke=On);return n&&Qe.forEach(function(gs){return a(ne,gs)}),qt&&js(ne,et),We}function Ue(ne,K,ie,Ie){var We=De(ie);if(typeof We!="function")throw Error(s(150));if(ie=We.call(ie),ie==null)throw Error(s(151));for(var Ke=We=null,Qe=K,et=K=0,On=null,Tt=ie.next();Qe!==null&&!Tt.done;et++,Tt=ie.next()){Qe.index>et?(On=Qe,Qe=null):On=Qe.sibling;var gs=ge(ne,Qe,Tt.value,Ie);if(gs===null){Qe===null&&(Qe=On);break}n&&Qe&&gs.alternate===null&&a(ne,Qe),K=I(gs,K,et),Ke===null?We=gs:Ke.sibling=gs,Ke=gs,Qe=On}if(Tt.done)return d(ne,Qe),qt&&js(ne,et),We;if(Qe===null){for(;!Tt.done;et++,Tt=ie.next())Tt=Ee(ne,Tt.value,Ie),Tt!==null&&(K=I(Tt,K,et),Ke===null?We=Tt:Ke.sibling=Tt,Ke=Tt);return qt&&js(ne,et),We}for(Qe=m(ne,Qe);!Tt.done;et++,Tt=ie.next())Tt=Le(Qe,ne,et,Tt.value,Ie),Tt!==null&&(n&&Tt.alternate!==null&&Qe.delete(Tt.key===null?et:Tt.key),K=I(Tt,K,et),Ke===null?We=Tt:Ke.sibling=Tt,Ke=Tt);return n&&Qe.forEach(function(d2){return a(ne,d2)}),qt&&js(ne,et),We}function xn(ne,K,ie,Ie){if(typeof ie=="object"&&ie!==null&&ie.type===J&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case se:e:{for(var We=ie.key,Ke=K;Ke!==null;){if(Ke.key===We){if(We=ie.type,We===J){if(Ke.tag===7){d(ne,Ke.sibling),K=A(Ke,ie.props.children),K.return=ne,ne=K;break e}}else if(Ke.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===Ve&&Th(We)===Ke.type){d(ne,Ke.sibling),K=A(Ke,ie.props),K.ref=da(ne,Ke,ie),K.return=ne,ne=K;break e}d(ne,Ke);break}else a(ne,Ke);Ke=Ke.sibling}ie.type===J?(K=Xs(ie.props.children,ne.mode,Ie,ie.key),K.return=ne,ne=K):(Ie=nc(ie.type,ie.key,ie.props,null,ne.mode,Ie),Ie.ref=da(ne,K,ie),Ie.return=ne,ne=Ie)}return D(ne);case ue:e:{for(Ke=ie.key;K!==null;){if(K.key===Ke)if(K.tag===4&&K.stateNode.containerInfo===ie.containerInfo&&K.stateNode.implementation===ie.implementation){d(ne,K.sibling),K=A(K,ie.children||[]),K.return=ne,ne=K;break e}else{d(ne,K);break}else a(ne,K);K=K.sibling}K=cf(ie,ne.mode,Ie),K.return=ne,ne=K}return D(ne);case Ve:return Ke=ie._init,xn(ne,K,Ke(ie._payload),Ie)}if(ar(ie))return je(ne,K,ie,Ie);if(De(ie))return Ue(ne,K,ie,Ie);Dl(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,K!==null&&K.tag===6?(d(ne,K.sibling),K=A(K,ie),K.return=ne,ne=K):(d(ne,K),K=lf(ie,ne.mode,Ie),K.return=ne,ne=K),D(ne)):d(ne,K)}return xn}var vo=Ih(!0),bh=Ih(!1),Ol=is(null),Pl=null,Co=null,xu=null;function yu(){xu=Co=Pl=null}function wu(n){var a=Ol.current;Xt(Ol),n._currentValue=a}function vu(n,a,d){for(;n!==null;){var m=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),n===d)break;n=n.return}}function Eo(n,a){Pl=n,xu=Co=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&a&&(fr=!0),n.firstContext=null)}function Fr(n){var a=n._currentValue;if(xu!==n)if(n={context:n,memoizedValue:a,next:null},Co===null){if(Pl===null)throw Error(s(308));Co=n,Pl.dependencies={lanes:0,firstContext:n}}else Co=Co.next=n;return a}var Us=null;function Cu(n){Us===null?Us=[n]:Us.push(n)}function Nh(n,a,d,m){var A=a.interleaved;return A===null?(d.next=d,Cu(a)):(d.next=A.next,A.next=d),a.interleaved=d,Oi(n,m)}function Oi(n,a){n.lanes|=a;var d=n.alternate;for(d!==null&&(d.lanes|=a),d=n,n=n.return;n!==null;)n.childLanes|=a,d=n.alternate,d!==null&&(d.childLanes|=a),d=n,n=n.return;return d.tag===3?d.stateNode:null}var as=!1;function Eu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rh(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Pi(n,a){return{eventTime:n,lane:a,tag:0,payload:null,callback:null,next:null}}function ls(n,a,d){var m=n.updateQueue;if(m===null)return null;if(m=m.shared,Et&2){var A=m.pending;return A===null?a.next=a:(a.next=A.next,A.next=a),m.pending=a,Oi(n,d)}return A=m.interleaved,A===null?(a.next=a,Cu(m)):(a.next=A.next,A.next=a),m.interleaved=a,Oi(n,d)}function Ll(n,a,d){if(a=a.updateQueue,a!==null&&(a=a.shared,(d&4194240)!==0)){var m=a.lanes;m&=n.pendingLanes,d|=m,a.lanes=d,on(n,d)}}function Mh(n,a){var d=n.updateQueue,m=n.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var A=null,I=null;if(d=d.firstBaseUpdate,d!==null){do{var D={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};I===null?A=I=D:I=I.next=D,d=d.next}while(d!==null);I===null?A=I=a:I=I.next=a}else A=I=a;d={baseState:m.baseState,firstBaseUpdate:A,lastBaseUpdate:I,shared:m.shared,effects:m.effects},n.updateQueue=d;return}n=d.lastBaseUpdate,n===null?d.firstBaseUpdate=a:n.next=a,d.lastBaseUpdate=a}function kl(n,a,d,m){var A=n.updateQueue;as=!1;var I=A.firstBaseUpdate,D=A.lastBaseUpdate,W=A.shared.pending;if(W!==null){A.shared.pending=null;var Y=W,le=Y.next;Y.next=null,D===null?I=le:D.next=le,D=Y;var ye=n.alternate;ye!==null&&(ye=ye.updateQueue,W=ye.lastBaseUpdate,W!==D&&(W===null?ye.firstBaseUpdate=le:W.next=le,ye.lastBaseUpdate=Y))}if(I!==null){var Ee=A.baseState;D=0,ye=le=Y=null,W=I;do{var ge=W.lane,Le=W.eventTime;if((m&ge)===ge){ye!==null&&(ye=ye.next={eventTime:Le,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var je=n,Ue=W;switch(ge=a,Le=d,Ue.tag){case 1:if(je=Ue.payload,typeof je=="function"){Ee=je.call(Le,Ee,ge);break e}Ee=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ue.payload,ge=typeof je=="function"?je.call(Le,Ee,ge):je,ge==null)break e;Ee=fe({},Ee,ge);break e;case 2:as=!0}}W.callback!==null&&W.lane!==0&&(n.flags|=64,ge=A.effects,ge===null?A.effects=[W]:ge.push(W))}else Le={eventTime:Le,lane:ge,tag:W.tag,payload:W.payload,callback:W.callback,next:null},ye===null?(le=ye=Le,Y=Ee):ye=ye.next=Le,D|=ge;if(W=W.next,W===null){if(W=A.shared.pending,W===null)break;ge=W,W=ge.next,ge.next=null,A.lastBaseUpdate=ge,A.shared.pending=null}}while(!0);if(ye===null&&(Y=Ee),A.baseState=Y,A.firstBaseUpdate=le,A.lastBaseUpdate=ye,a=A.shared.interleaved,a!==null){A=a;do D|=A.lane,A=A.next;while(A!==a)}else I===null&&(A.shared.lanes=0);Ws|=D,n.lanes=D,n.memoizedState=Ee}}function _h(n,a,d){if(n=a.effects,a.effects=null,n!==null)for(a=0;a<n.length;a++){var m=n[a],A=m.callback;if(A!==null){if(m.callback=null,m=d,typeof A!="function")throw Error(s(191,A));A.call(m)}}}var ha={},li=is(ha),pa=is(ha),ga=is(ha);function zs(n){if(n===ha)throw Error(s(174));return n}function Su(n,a){switch(Ht(ga,a),Ht(pa,n),Ht(li,ha),n=a.nodeType,n){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Kt(null,"");break;default:n=n===8?a.parentNode:a,a=n.namespaceURI||null,n=n.tagName,a=Kt(a,n)}Xt(li),Ht(li,a)}function So(){Xt(li),Xt(pa),Xt(ga)}function Dh(n){zs(ga.current);var a=zs(li.current),d=Kt(a,n.type);a!==d&&(Ht(pa,n),Ht(li,d))}function Au(n){pa.current===n&&(Xt(li),Xt(pa))}var tn=is(0);function Bl(n){for(var a=n;a!==null;){if(a.tag===13){var d=a.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Tu=[];function Iu(){for(var n=0;n<Tu.length;n++)Tu[n]._workInProgressVersionPrimary=null;Tu.length=0}var Fl=ee.ReactCurrentDispatcher,bu=ee.ReactCurrentBatchConfig,Vs=0,nn=null,bn=null,_n=null,jl=!1,ma=!1,xa=0,Px=0;function Kn(){throw Error(s(321))}function Nu(n,a){if(a===null)return!1;for(var d=0;d<a.length&&d<n.length;d++)if(!$(n[d],a[d]))return!1;return!0}function Ru(n,a,d,m,A,I){if(Vs=I,nn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Fl.current=n===null||n.memoizedState===null?Fx:jx,n=d(m,A),ma){I=0;do{if(ma=!1,xa=0,25<=I)throw Error(s(301));I+=1,_n=bn=null,a.updateQueue=null,Fl.current=Ux,n=d(m,A)}while(ma)}if(Fl.current=Vl,a=bn!==null&&bn.next!==null,Vs=0,_n=bn=nn=null,jl=!1,a)throw Error(s(300));return n}function Mu(){var n=xa!==0;return xa=0,n}function ci(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?nn.memoizedState=_n=n:_n=_n.next=n,_n}function jr(){if(bn===null){var n=nn.alternate;n=n!==null?n.memoizedState:null}else n=bn.next;var a=_n===null?nn.memoizedState:_n.next;if(a!==null)_n=a,bn=n;else{if(n===null)throw Error(s(310));bn=n,n={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},_n===null?nn.memoizedState=_n=n:_n=_n.next=n}return _n}function ya(n,a){return typeof a=="function"?a(n):a}function _u(n){var a=jr(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var m=bn,A=m.baseQueue,I=d.pending;if(I!==null){if(A!==null){var D=A.next;A.next=I.next,I.next=D}m.baseQueue=A=I,d.pending=null}if(A!==null){I=A.next,m=m.baseState;var W=D=null,Y=null,le=I;do{var ye=le.lane;if((Vs&ye)===ye)Y!==null&&(Y=Y.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),m=le.hasEagerState?le.eagerState:n(m,le.action);else{var Ee={lane:ye,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};Y===null?(W=Y=Ee,D=m):Y=Y.next=Ee,nn.lanes|=ye,Ws|=ye}le=le.next}while(le!==null&&le!==I);Y===null?D=m:Y.next=W,$(m,a.memoizedState)||(fr=!0),a.memoizedState=m,a.baseState=D,a.baseQueue=Y,d.lastRenderedState=m}if(n=d.interleaved,n!==null){A=n;do I=A.lane,nn.lanes|=I,Ws|=I,A=A.next;while(A!==n)}else A===null&&(d.lanes=0);return[a.memoizedState,d.dispatch]}function Du(n){var a=jr(),d=a.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=n;var m=d.dispatch,A=d.pending,I=a.memoizedState;if(A!==null){d.pending=null;var D=A=A.next;do I=n(I,D.action),D=D.next;while(D!==A);$(I,a.memoizedState)||(fr=!0),a.memoizedState=I,a.baseQueue===null&&(a.baseState=I),d.lastRenderedState=I}return[I,m]}function Oh(){}function Ph(n,a){var d=nn,m=jr(),A=a(),I=!$(m.memoizedState,A);if(I&&(m.memoizedState=A,fr=!0),m=m.queue,Ou(Bh.bind(null,d,m,n),[n]),m.getSnapshot!==a||I||_n!==null&&_n.memoizedState.tag&1){if(d.flags|=2048,wa(9,kh.bind(null,d,m,A,a),void 0,null),Dn===null)throw Error(s(349));Vs&30||Lh(d,a,A)}return A}function Lh(n,a,d){n.flags|=16384,n={getSnapshot:a,value:d},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.stores=[n]):(d=a.stores,d===null?a.stores=[n]:d.push(n))}function kh(n,a,d,m){a.value=d,a.getSnapshot=m,Fh(a)&&jh(n)}function Bh(n,a,d){return d(function(){Fh(a)&&jh(n)})}function Fh(n){var a=n.getSnapshot;n=n.value;try{var d=a();return!$(n,d)}catch{return!0}}function jh(n){var a=Oi(n,1);a!==null&&Jr(a,n,1,-1)}function Uh(n){var a=ci();return typeof n=="function"&&(n=n()),a.memoizedState=a.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:n},a.queue=n,n=n.dispatch=Bx.bind(null,nn,n),[a.memoizedState,n]}function wa(n,a,d,m){return n={tag:n,create:a,destroy:d,deps:m,next:null},a=nn.updateQueue,a===null?(a={lastEffect:null,stores:null},nn.updateQueue=a,a.lastEffect=n.next=n):(d=a.lastEffect,d===null?a.lastEffect=n.next=n:(m=d.next,d.next=n,n.next=m,a.lastEffect=n)),n}function zh(){return jr().memoizedState}function Ul(n,a,d,m){var A=ci();nn.flags|=n,A.memoizedState=wa(1|a,d,void 0,m===void 0?null:m)}function zl(n,a,d,m){var A=jr();m=m===void 0?null:m;var I=void 0;if(bn!==null){var D=bn.memoizedState;if(I=D.destroy,m!==null&&Nu(m,D.deps)){A.memoizedState=wa(a,d,I,m);return}}nn.flags|=n,A.memoizedState=wa(1|a,d,I,m)}function Vh(n,a){return Ul(8390656,8,n,a)}function Ou(n,a){return zl(2048,8,n,a)}function Wh(n,a){return zl(4,2,n,a)}function Hh(n,a){return zl(4,4,n,a)}function Gh(n,a){if(typeof a=="function")return n=n(),a(n),function(){a(null)};if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Yh(n,a,d){return d=d!=null?d.concat([n]):null,zl(4,4,Gh.bind(null,a,n),d)}function Pu(){}function Xh(n,a){var d=jr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Nu(a,m[1])?m[0]:(d.memoizedState=[n,a],n)}function Zh(n,a){var d=jr();a=a===void 0?null:a;var m=d.memoizedState;return m!==null&&a!==null&&Nu(a,m[1])?m[0]:(n=n(),d.memoizedState=[n,a],n)}function Kh(n,a,d){return Vs&21?($(d,a)||(d=Sn(),nn.lanes|=d,Ws|=d,n.baseState=!0),a):(n.baseState&&(n.baseState=!1,fr=!0),n.memoizedState=d)}function Lx(n,a){var d=ct;ct=d!==0&&4>d?d:4,n(!0);var m=bu.transition;bu.transition={};try{n(!1),a()}finally{ct=d,bu.transition=m}}function Qh(){return jr().memoizedState}function kx(n,a,d){var m=ds(n);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},$h(n))qh(a,d);else if(d=Nh(n,a,d,m),d!==null){var A=ir();Jr(d,n,m,A),Jh(d,a,m)}}function Bx(n,a,d){var m=ds(n),A={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if($h(n))qh(a,A);else{var I=n.alternate;if(n.lanes===0&&(I===null||I.lanes===0)&&(I=a.lastRenderedReducer,I!==null))try{var D=a.lastRenderedState,W=I(D,d);if(A.hasEagerState=!0,A.eagerState=W,$(W,D)){var Y=a.interleaved;Y===null?(A.next=A,Cu(a)):(A.next=Y.next,Y.next=A),a.interleaved=A;return}}catch{}finally{}d=Nh(n,a,A,m),d!==null&&(A=ir(),Jr(d,n,m,A),Jh(d,a,m))}}function $h(n){var a=n.alternate;return n===nn||a!==null&&a===nn}function qh(n,a){ma=jl=!0;var d=n.pending;d===null?a.next=a:(a.next=d.next,d.next=a),n.pending=a}function Jh(n,a,d){if(d&4194240){var m=a.lanes;m&=n.pendingLanes,d|=m,a.lanes=d,on(n,d)}}var Vl={readContext:Fr,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useInsertionEffect:Kn,useLayoutEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useMutableSource:Kn,useSyncExternalStore:Kn,useId:Kn,unstable_isNewReconciler:!1},Fx={readContext:Fr,useCallback:function(n,a){return ci().memoizedState=[n,a===void 0?null:a],n},useContext:Fr,useEffect:Vh,useImperativeHandle:function(n,a,d){return d=d!=null?d.concat([n]):null,Ul(4194308,4,Gh.bind(null,a,n),d)},useLayoutEffect:function(n,a){return Ul(4194308,4,n,a)},useInsertionEffect:function(n,a){return Ul(4,2,n,a)},useMemo:function(n,a){var d=ci();return a=a===void 0?null:a,n=n(),d.memoizedState=[n,a],n},useReducer:function(n,a,d){var m=ci();return a=d!==void 0?d(a):a,m.memoizedState=m.baseState=a,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:a},m.queue=n,n=n.dispatch=kx.bind(null,nn,n),[m.memoizedState,n]},useRef:function(n){var a=ci();return n={current:n},a.memoizedState=n},useState:Uh,useDebugValue:Pu,useDeferredValue:function(n){return ci().memoizedState=n},useTransition:function(){var n=Uh(!1),a=n[0];return n=Lx.bind(null,n[1]),ci().memoizedState=n,[a,n]},useMutableSource:function(){},useSyncExternalStore:function(n,a,d){var m=nn,A=ci();if(qt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=a(),Dn===null)throw Error(s(349));Vs&30||Lh(m,a,d)}A.memoizedState=d;var I={value:d,getSnapshot:a};return A.queue=I,Vh(Bh.bind(null,m,I,n),[n]),m.flags|=2048,wa(9,kh.bind(null,m,I,d,a),void 0,null),d},useId:function(){var n=ci(),a=Dn.identifierPrefix;if(qt){var d=Di,m=_i;d=(m&~(1<<32-nr(m)-1)).toString(32)+d,a=":"+a+"R"+d,d=xa++,0<d&&(a+="H"+d.toString(32)),a+=":"}else d=Px++,a=":"+a+"r"+d.toString(32)+":";return n.memoizedState=a},unstable_isNewReconciler:!1},jx={readContext:Fr,useCallback:Xh,useContext:Fr,useEffect:Ou,useImperativeHandle:Yh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Zh,useReducer:_u,useRef:zh,useState:function(){return _u(ya)},useDebugValue:Pu,useDeferredValue:function(n){var a=jr();return Kh(a,bn.memoizedState,n)},useTransition:function(){var n=_u(ya)[0],a=jr().memoizedState;return[n,a]},useMutableSource:Oh,useSyncExternalStore:Ph,useId:Qh,unstable_isNewReconciler:!1},Ux={readContext:Fr,useCallback:Xh,useContext:Fr,useEffect:Ou,useImperativeHandle:Yh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Zh,useReducer:Du,useRef:zh,useState:function(){return Du(ya)},useDebugValue:Pu,useDeferredValue:function(n){var a=jr();return bn===null?a.memoizedState=n:Kh(a,bn.memoizedState,n)},useTransition:function(){var n=Du(ya)[0],a=jr().memoizedState;return[n,a]},useMutableSource:Oh,useSyncExternalStore:Ph,useId:Qh,unstable_isNewReconciler:!1};function Qr(n,a){if(n&&n.defaultProps){a=fe({},a),n=n.defaultProps;for(var d in n)a[d]===void 0&&(a[d]=n[d]);return a}return a}function Lu(n,a,d,m){a=n.memoizedState,d=d(m,a),d=d==null?a:fe({},a,d),n.memoizedState=d,n.lanes===0&&(n.updateQueue.baseState=d)}var Wl={isMounted:function(n){return(n=n._reactInternals)?lr(n)===n:!1},enqueueSetState:function(n,a,d){n=n._reactInternals;var m=ir(),A=ds(n),I=Pi(m,A);I.payload=a,d!=null&&(I.callback=d),a=ls(n,I,A),a!==null&&(Jr(a,n,A,m),Ll(a,n,A))},enqueueReplaceState:function(n,a,d){n=n._reactInternals;var m=ir(),A=ds(n),I=Pi(m,A);I.tag=1,I.payload=a,d!=null&&(I.callback=d),a=ls(n,I,A),a!==null&&(Jr(a,n,A,m),Ll(a,n,A))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var d=ir(),m=ds(n),A=Pi(d,m);A.tag=2,a!=null&&(A.callback=a),a=ls(n,A,m),a!==null&&(Jr(a,n,m,d),Ll(a,n,m))}};function e0(n,a,d,m,A,I,D){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(m,I,D):a.prototype&&a.prototype.isPureReactComponent?!oe(d,m)||!oe(A,I):!0}function t0(n,a,d){var m=!1,A=ss,I=a.contextType;return typeof I=="object"&&I!==null?I=Fr(I):(A=ur(a)?Bs:Zn.current,m=a.contextTypes,I=(m=m!=null)?mo(n,A):ss),a=new a(d,I),n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Wl,n.stateNode=a,a._reactInternals=n,m&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=A,n.__reactInternalMemoizedMaskedChildContext=I),a}function n0(n,a,d,m){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(d,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(d,m),a.state!==n&&Wl.enqueueReplaceState(a,a.state,null)}function ku(n,a,d,m){var A=n.stateNode;A.props=d,A.state=n.memoizedState,A.refs={},Eu(n);var I=a.contextType;typeof I=="object"&&I!==null?A.context=Fr(I):(I=ur(a)?Bs:Zn.current,A.context=mo(n,I)),A.state=n.memoizedState,I=a.getDerivedStateFromProps,typeof I=="function"&&(Lu(n,a,I,d),A.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(a=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),a!==A.state&&Wl.enqueueReplaceState(A,A.state,null),kl(n,d,A,m),A.state=n.memoizedState),typeof A.componentDidMount=="function"&&(n.flags|=4194308)}function Ao(n,a){try{var d="",m=a;do d+=He(m),m=m.return;while(m);var A=d}catch(I){A=`
Error generating stack: `+I.message+`
`+I.stack}return{value:n,source:a,stack:A,digest:null}}function Bu(n,a,d){return{value:n,source:null,stack:d??null,digest:a??null}}function Fu(n,a){try{console.error(a.value)}catch(d){setTimeout(function(){throw d})}}var zx=typeof WeakMap=="function"?WeakMap:Map;function r0(n,a,d){d=Pi(-1,d),d.tag=3,d.payload={element:null};var m=a.value;return d.callback=function(){Ql||(Ql=!0,Ju=m),Fu(n,a)},d}function i0(n,a,d){d=Pi(-1,d),d.tag=3;var m=n.type.getDerivedStateFromError;if(typeof m=="function"){var A=a.value;d.payload=function(){return m(A)},d.callback=function(){Fu(n,a)}}var I=n.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(d.callback=function(){Fu(n,a),typeof m!="function"&&(us===null?us=new Set([this]):us.add(this));var D=a.stack;this.componentDidCatch(a.value,{componentStack:D!==null?D:""})}),d}function s0(n,a,d){var m=n.pingCache;if(m===null){m=n.pingCache=new zx;var A=new Set;m.set(a,A)}else A=m.get(a),A===void 0&&(A=new Set,m.set(a,A));A.has(d)||(A.add(d),n=t2.bind(null,n,a,d),a.then(n,n))}function o0(n){do{var a;if((a=n.tag===13)&&(a=n.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return n;n=n.return}while(n!==null);return null}function a0(n,a,d,m,A){return n.mode&1?(n.flags|=65536,n.lanes=A,n):(n===a?n.flags|=65536:(n.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(a=Pi(-1,1),a.tag=2,ls(d,a,1))),d.lanes|=1),n)}var Vx=ee.ReactCurrentOwner,fr=!1;function rr(n,a,d,m){a.child=n===null?bh(a,null,d,m):vo(a,n.child,d,m)}function l0(n,a,d,m,A){d=d.render;var I=a.ref;return Eo(a,A),m=Ru(n,a,d,m,I,A),d=Mu(),n!==null&&!fr?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~A,Li(n,a,A)):(qt&&d&&du(a),a.flags|=1,rr(n,a,m,A),a.child)}function c0(n,a,d,m,A){if(n===null){var I=d.type;return typeof I=="function"&&!af(I)&&I.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(a.tag=15,a.type=I,u0(n,a,I,m,A)):(n=nc(d.type,null,m,a,a.mode,A),n.ref=a.ref,n.return=a,a.child=n)}if(I=n.child,!(n.lanes&A)){var D=I.memoizedProps;if(d=d.compare,d=d!==null?d:oe,d(D,m)&&n.ref===a.ref)return Li(n,a,A)}return a.flags|=1,n=ps(I,m),n.ref=a.ref,n.return=a,a.child=n}function u0(n,a,d,m,A){if(n!==null){var I=n.memoizedProps;if(oe(I,m)&&n.ref===a.ref)if(fr=!1,a.pendingProps=m=I,(n.lanes&A)!==0)n.flags&131072&&(fr=!0);else return a.lanes=n.lanes,Li(n,a,A)}return ju(n,a,d,m,A)}function f0(n,a,d){var m=a.pendingProps,A=m.children,I=n!==null?n.memoizedState:null;if(m.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Io,Ir),Ir|=d;else{if(!(d&1073741824))return n=I!==null?I.baseLanes|d:d,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:n,cachePool:null,transitions:null},a.updateQueue=null,Ht(Io,Ir),Ir|=n,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=I!==null?I.baseLanes:d,Ht(Io,Ir),Ir|=m}else I!==null?(m=I.baseLanes|d,a.memoizedState=null):m=d,Ht(Io,Ir),Ir|=m;return rr(n,a,A,d),a.child}function d0(n,a){var d=a.ref;(n===null&&d!==null||n!==null&&n.ref!==d)&&(a.flags|=512,a.flags|=2097152)}function ju(n,a,d,m,A){var I=ur(d)?Bs:Zn.current;return I=mo(a,I),Eo(a,A),d=Ru(n,a,d,m,I,A),m=Mu(),n!==null&&!fr?(a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~A,Li(n,a,A)):(qt&&m&&du(a),a.flags|=1,rr(n,a,d,A),a.child)}function h0(n,a,d,m,A){if(ur(d)){var I=!0;bl(a)}else I=!1;if(Eo(a,A),a.stateNode===null)Gl(n,a),t0(a,d,m),ku(a,d,m,A),m=!0;else if(n===null){var D=a.stateNode,W=a.memoizedProps;D.props=W;var Y=D.context,le=d.contextType;typeof le=="object"&&le!==null?le=Fr(le):(le=ur(d)?Bs:Zn.current,le=mo(a,le));var ye=d.getDerivedStateFromProps,Ee=typeof ye=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ee||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==m||Y!==le)&&n0(a,D,m,le),as=!1;var ge=a.memoizedState;D.state=ge,kl(a,m,D,A),Y=a.memoizedState,W!==m||ge!==Y||cr.current||as?(typeof ye=="function"&&(Lu(a,d,ye,m),Y=a.memoizedState),(W=as||e0(a,d,W,m,ge,Y,le))?(Ee||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(a.flags|=4194308)):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=Y),D.props=m,D.state=Y,D.context=le,m=W):(typeof D.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{D=a.stateNode,Rh(n,a),W=a.memoizedProps,le=a.type===a.elementType?W:Qr(a.type,W),D.props=le,Ee=a.pendingProps,ge=D.context,Y=d.contextType,typeof Y=="object"&&Y!==null?Y=Fr(Y):(Y=ur(d)?Bs:Zn.current,Y=mo(a,Y));var Le=d.getDerivedStateFromProps;(ye=typeof Le=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(W!==Ee||ge!==Y)&&n0(a,D,m,Y),as=!1,ge=a.memoizedState,D.state=ge,kl(a,m,D,A);var je=a.memoizedState;W!==Ee||ge!==je||cr.current||as?(typeof Le=="function"&&(Lu(a,d,Le,m),je=a.memoizedState),(le=as||e0(a,d,le,m,ge,je,Y)||!1)?(ye||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(m,je,Y),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(m,je,Y)),typeof D.componentDidUpdate=="function"&&(a.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof D.componentDidUpdate!="function"||W===n.memoizedProps&&ge===n.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&ge===n.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=je),D.props=m,D.state=je,D.context=Y,m=le):(typeof D.componentDidUpdate!="function"||W===n.memoizedProps&&ge===n.memoizedState||(a.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||W===n.memoizedProps&&ge===n.memoizedState||(a.flags|=1024),m=!1)}return Uu(n,a,d,m,I,A)}function Uu(n,a,d,m,A,I){d0(n,a);var D=(a.flags&128)!==0;if(!m&&!D)return A&&yh(a,d,!1),Li(n,a,I);m=a.stateNode,Vx.current=a;var W=D&&typeof d.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,n!==null&&D?(a.child=vo(a,n.child,null,I),a.child=vo(a,null,W,I)):rr(n,a,W,I),a.memoizedState=m.state,A&&yh(a,d,!0),a.child}function p0(n){var a=n.stateNode;a.pendingContext?mh(n,a.pendingContext,a.pendingContext!==a.context):a.context&&mh(n,a.context,!1),Su(n,a.containerInfo)}function g0(n,a,d,m,A){return wo(),mu(A),a.flags|=256,rr(n,a,d,m),a.child}var zu={dehydrated:null,treeContext:null,retryLane:0};function Vu(n){return{baseLanes:n,cachePool:null,transitions:null}}function m0(n,a,d){var m=a.pendingProps,A=tn.current,I=!1,D=(a.flags&128)!==0,W;if((W=D)||(W=n!==null&&n.memoizedState===null?!1:(A&2)!==0),W?(I=!0,a.flags&=-129):(n===null||n.memoizedState!==null)&&(A|=1),Ht(tn,A&1),n===null)return gu(a),n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(a.mode&1?n.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(D=m.children,n=m.fallback,I?(m=a.mode,I=a.child,D={mode:"hidden",children:D},!(m&1)&&I!==null?(I.childLanes=0,I.pendingProps=D):I=rc(D,m,0,null),n=Xs(n,m,d,null),I.return=a,n.return=a,I.sibling=n,a.child=I,a.child.memoizedState=Vu(d),a.memoizedState=zu,n):Wu(a,D));if(A=n.memoizedState,A!==null&&(W=A.dehydrated,W!==null))return Wx(n,a,D,m,W,A,d);if(I){I=m.fallback,D=a.mode,A=n.child,W=A.sibling;var Y={mode:"hidden",children:m.children};return!(D&1)&&a.child!==A?(m=a.child,m.childLanes=0,m.pendingProps=Y,a.deletions=null):(m=ps(A,Y),m.subtreeFlags=A.subtreeFlags&14680064),W!==null?I=ps(W,I):(I=Xs(I,D,d,null),I.flags|=2),I.return=a,m.return=a,m.sibling=I,a.child=m,m=I,I=a.child,D=n.child.memoizedState,D=D===null?Vu(d):{baseLanes:D.baseLanes|d,cachePool:null,transitions:D.transitions},I.memoizedState=D,I.childLanes=n.childLanes&~d,a.memoizedState=zu,m}return I=n.child,n=I.sibling,m=ps(I,{mode:"visible",children:m.children}),!(a.mode&1)&&(m.lanes=d),m.return=a,m.sibling=null,n!==null&&(d=a.deletions,d===null?(a.deletions=[n],a.flags|=16):d.push(n)),a.child=m,a.memoizedState=null,m}function Wu(n,a){return a=rc({mode:"visible",children:a},n.mode,0,null),a.return=n,n.child=a}function Hl(n,a,d,m){return m!==null&&mu(m),vo(a,n.child,null,d),n=Wu(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Wx(n,a,d,m,A,I,D){if(d)return a.flags&256?(a.flags&=-257,m=Bu(Error(s(422))),Hl(n,a,D,m)):a.memoizedState!==null?(a.child=n.child,a.flags|=128,null):(I=m.fallback,A=a.mode,m=rc({mode:"visible",children:m.children},A,0,null),I=Xs(I,A,D,null),I.flags|=2,m.return=a,I.return=a,m.sibling=I,a.child=m,a.mode&1&&vo(a,n.child,null,D),a.child.memoizedState=Vu(D),a.memoizedState=zu,I);if(!(a.mode&1))return Hl(n,a,D,null);if(A.data==="$!"){if(m=A.nextSibling&&A.nextSibling.dataset,m)var W=m.dgst;return m=W,I=Error(s(419)),m=Bu(I,m,void 0),Hl(n,a,D,m)}if(W=(D&n.childLanes)!==0,fr||W){if(m=Dn,m!==null){switch(D&-D){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(m.suspendedLanes|D)?0:A,A!==0&&A!==I.retryLane&&(I.retryLane=A,Oi(n,A),Jr(m,n,A,-1))}return of(),m=Bu(Error(s(421))),Hl(n,a,D,m)}return A.data==="$?"?(a.flags|=128,a.child=n.child,a=n2.bind(null,n),A._reactRetry=a,null):(n=I.treeContext,Tr=rs(A.nextSibling),Ar=a,qt=!0,Kr=null,n!==null&&(kr[Br++]=_i,kr[Br++]=Di,kr[Br++]=Fs,_i=n.id,Di=n.overflow,Fs=a),a=Wu(a,m.children),a.flags|=4096,a)}function x0(n,a,d){n.lanes|=a;var m=n.alternate;m!==null&&(m.lanes|=a),vu(n.return,a,d)}function Hu(n,a,d,m,A){var I=n.memoizedState;I===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:A}:(I.isBackwards=a,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=d,I.tailMode=A)}function y0(n,a,d){var m=a.pendingProps,A=m.revealOrder,I=m.tail;if(rr(n,a,m.children,d),m=tn.current,m&2)m=m&1|2,a.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&x0(n,d,a);else if(n.tag===19)x0(n,d,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}m&=1}if(Ht(tn,m),!(a.mode&1))a.memoizedState=null;else switch(A){case"forwards":for(d=a.child,A=null;d!==null;)n=d.alternate,n!==null&&Bl(n)===null&&(A=d),d=d.sibling;d=A,d===null?(A=a.child,a.child=null):(A=d.sibling,d.sibling=null),Hu(a,!1,A,d,I);break;case"backwards":for(d=null,A=a.child,a.child=null;A!==null;){if(n=A.alternate,n!==null&&Bl(n)===null){a.child=A;break}n=A.sibling,A.sibling=d,d=A,A=n}Hu(a,!0,d,null,I);break;case"together":Hu(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Gl(n,a){!(a.mode&1)&&n!==null&&(n.alternate=null,a.alternate=null,a.flags|=2)}function Li(n,a,d){if(n!==null&&(a.dependencies=n.dependencies),Ws|=a.lanes,!(d&a.childLanes))return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,d=ps(n,n.pendingProps),a.child=d,d.return=a;n.sibling!==null;)n=n.sibling,d=d.sibling=ps(n,n.pendingProps),d.return=a;d.sibling=null}return a.child}function Hx(n,a,d){switch(a.tag){case 3:p0(a),wo();break;case 5:Dh(a);break;case 1:ur(a.type)&&bl(a);break;case 4:Su(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,A=a.memoizedProps.value;Ht(Ol,m._currentValue),m._currentValue=A;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Ht(tn,tn.current&1),a.flags|=128,null):d&a.child.childLanes?m0(n,a,d):(Ht(tn,tn.current&1),n=Li(n,a,d),n!==null?n.sibling:null);Ht(tn,tn.current&1);break;case 19:if(m=(d&a.childLanes)!==0,n.flags&128){if(m)return y0(n,a,d);a.flags|=128}if(A=a.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Ht(tn,tn.current),m)break;return null;case 22:case 23:return a.lanes=0,f0(n,a,d)}return Li(n,a,d)}var w0,Gu,v0,C0;w0=function(n,a){for(var d=a.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break;for(;d.sibling===null;){if(d.return===null||d.return===a)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Gu=function(){},v0=function(n,a,d,m){var A=n.memoizedProps;if(A!==m){n=a.stateNode,zs(li.current);var I=null;switch(d){case"input":A=Hn(n,A),m=Hn(n,m),I=[];break;case"select":A=fe({},A,{value:void 0}),m=fe({},m,{value:void 0}),I=[];break;case"textarea":A=$e(n,A),m=$e(n,m),I=[];break;default:typeof A.onClick!="function"&&typeof m.onClick=="function"&&(n.onclick=Al)}vt(d,m);var D;d=null;for(le in A)if(!m.hasOwnProperty(le)&&A.hasOwnProperty(le)&&A[le]!=null)if(le==="style"){var W=A[le];for(D in W)W.hasOwnProperty(D)&&(d||(d={}),d[D]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(h.hasOwnProperty(le)?I||(I=[]):(I=I||[]).push(le,null));for(le in m){var Y=m[le];if(W=A!=null?A[le]:void 0,m.hasOwnProperty(le)&&Y!==W&&(Y!=null||W!=null))if(le==="style")if(W){for(D in W)!W.hasOwnProperty(D)||Y&&Y.hasOwnProperty(D)||(d||(d={}),d[D]="");for(D in Y)Y.hasOwnProperty(D)&&W[D]!==Y[D]&&(d||(d={}),d[D]=Y[D])}else d||(I||(I=[]),I.push(le,d)),d=Y;else le==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,W=W?W.__html:void 0,Y!=null&&W!==Y&&(I=I||[]).push(le,Y)):le==="children"?typeof Y!="string"&&typeof Y!="number"||(I=I||[]).push(le,""+Y):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(h.hasOwnProperty(le)?(Y!=null&&le==="onScroll"&&Yt("scroll",n),I||W===Y||(I=[])):(I=I||[]).push(le,Y))}d&&(I=I||[]).push("style",d);var le=I;(a.updateQueue=le)&&(a.flags|=4)}},C0=function(n,a,d,m){d!==m&&(a.flags|=4)};function va(n,a){if(!qt)switch(n.tailMode){case"hidden":a=n.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?n.tail=null:d.sibling=null;break;case"collapsed":d=n.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:m.sibling=null}}function Qn(n){var a=n.alternate!==null&&n.alternate.child===n.child,d=0,m=0;if(a)for(var A=n.child;A!==null;)d|=A.lanes|A.childLanes,m|=A.subtreeFlags&14680064,m|=A.flags&14680064,A.return=n,A=A.sibling;else for(A=n.child;A!==null;)d|=A.lanes|A.childLanes,m|=A.subtreeFlags,m|=A.flags,A.return=n,A=A.sibling;return n.subtreeFlags|=m,n.childLanes=d,a}function Gx(n,a,d){var m=a.pendingProps;switch(hu(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(a),null;case 1:return ur(a.type)&&Il(),Qn(a),null;case 3:return m=a.stateNode,So(),Xt(cr),Xt(Zn),Iu(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(n===null||n.child===null)&&(_l(a)?a.flags|=4:n===null||n.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Kr!==null&&(nf(Kr),Kr=null))),Gu(n,a),Qn(a),null;case 5:Au(a);var A=zs(ga.current);if(d=a.type,n!==null&&a.stateNode!=null)v0(n,a,d,m,A),n.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(s(166));return Qn(a),null}if(n=zs(li.current),_l(a)){m=a.stateNode,d=a.type;var I=a.memoizedProps;switch(m[ai]=a,m[ua]=I,n=(a.mode&1)!==0,d){case"dialog":Yt("cancel",m),Yt("close",m);break;case"iframe":case"object":case"embed":Yt("load",m);break;case"video":case"audio":for(A=0;A<aa.length;A++)Yt(aa[A],m);break;case"source":Yt("error",m);break;case"img":case"image":case"link":Yt("error",m),Yt("load",m);break;case"details":Yt("toggle",m);break;case"input":Ut(m,I),Yt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!I.multiple},Yt("invalid",m);break;case"textarea":St(m,I),Yt("invalid",m)}vt(d,I),A=null;for(var D in I)if(I.hasOwnProperty(D)){var W=I[D];D==="children"?typeof W=="string"?m.textContent!==W&&(I.suppressHydrationWarning!==!0&&Sl(m.textContent,W,n),A=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(I.suppressHydrationWarning!==!0&&Sl(m.textContent,W,n),A=["children",""+W]):h.hasOwnProperty(D)&&W!=null&&D==="onScroll"&&Yt("scroll",m)}switch(d){case"input":_t(m),yt(m,I,!0);break;case"textarea":_t(m),Pn(m);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(m.onclick=Al)}m=A,a.updateQueue=m,m!==null&&(a.flags|=4)}else{D=A.nodeType===9?A:A.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=wt(d)),n==="http://www.w3.org/1999/xhtml"?d==="script"?(n=D.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof m.is=="string"?n=D.createElement(d,{is:m.is}):(n=D.createElement(d),d==="select"&&(D=n,m.multiple?D.multiple=!0:m.size&&(D.size=m.size))):n=D.createElementNS(n,d),n[ai]=a,n[ua]=m,w0(n,a,!1,!1),a.stateNode=n;e:{switch(D=kt(d,m),d){case"dialog":Yt("cancel",n),Yt("close",n),A=m;break;case"iframe":case"object":case"embed":Yt("load",n),A=m;break;case"video":case"audio":for(A=0;A<aa.length;A++)Yt(aa[A],n);A=m;break;case"source":Yt("error",n),A=m;break;case"img":case"image":case"link":Yt("error",n),Yt("load",n),A=m;break;case"details":Yt("toggle",n),A=m;break;case"input":Ut(n,m),A=Hn(n,m),Yt("invalid",n);break;case"option":A=m;break;case"select":n._wrapperState={wasMultiple:!!m.multiple},A=fe({},m,{value:void 0}),Yt("invalid",n);break;case"textarea":St(n,m),A=$e(n,m),Yt("invalid",n);break;default:A=m}vt(d,A),W=A;for(I in W)if(W.hasOwnProperty(I)){var Y=W[I];I==="style"?Ne(n,Y):I==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Lt(n,Y)):I==="children"?typeof Y=="string"?(d!=="textarea"||Y!=="")&&Ln(n,Y):typeof Y=="number"&&Ln(n,""+Y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(h.hasOwnProperty(I)?Y!=null&&I==="onScroll"&&Yt("scroll",n):Y!=null&&V(n,I,Y,D))}switch(d){case"input":_t(n),yt(n,m,!1);break;case"textarea":_t(n),Pn(n);break;case"option":m.value!=null&&n.setAttribute("value",""+_e(m.value));break;case"select":n.multiple=!!m.multiple,I=m.value,I!=null?Ce(n,!!m.multiple,I,!1):m.defaultValue!=null&&Ce(n,!!m.multiple,m.defaultValue,!0);break;default:typeof A.onClick=="function"&&(n.onclick=Al)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Qn(a),null;case 6:if(n&&a.stateNode!=null)C0(n,a,n.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(s(166));if(d=zs(ga.current),zs(li.current),_l(a)){if(m=a.stateNode,d=a.memoizedProps,m[ai]=a,(I=m.nodeValue!==d)&&(n=Ar,n!==null))switch(n.tag){case 3:Sl(m.nodeValue,d,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Sl(m.nodeValue,d,(n.mode&1)!==0)}I&&(a.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[ai]=a,a.stateNode=m}return Qn(a),null;case 13:if(Xt(tn),m=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(qt&&Tr!==null&&a.mode&1&&!(a.flags&128))Ah(),wo(),a.flags|=98560,I=!1;else if(I=_l(a),m!==null&&m.dehydrated!==null){if(n===null){if(!I)throw Error(s(318));if(I=a.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(s(317));I[ai]=a}else wo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Qn(a),I=!1}else Kr!==null&&(nf(Kr),Kr=null),I=!0;if(!I)return a.flags&65536?a:null}return a.flags&128?(a.lanes=d,a):(m=m!==null,m!==(n!==null&&n.memoizedState!==null)&&m&&(a.child.flags|=8192,a.mode&1&&(n===null||tn.current&1?Nn===0&&(Nn=3):of())),a.updateQueue!==null&&(a.flags|=4),Qn(a),null);case 4:return So(),Gu(n,a),n===null&&la(a.stateNode.containerInfo),Qn(a),null;case 10:return wu(a.type._context),Qn(a),null;case 17:return ur(a.type)&&Il(),Qn(a),null;case 19:if(Xt(tn),I=a.memoizedState,I===null)return Qn(a),null;if(m=(a.flags&128)!==0,D=I.rendering,D===null)if(m)va(I,!1);else{if(Nn!==0||n!==null&&n.flags&128)for(n=a.child;n!==null;){if(D=Bl(n),D!==null){for(a.flags|=128,va(I,!1),m=D.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=d,d=a.child;d!==null;)I=d,n=m,I.flags&=14680066,D=I.alternate,D===null?(I.childLanes=0,I.lanes=n,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=D.childLanes,I.lanes=D.lanes,I.child=D.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=D.memoizedProps,I.memoizedState=D.memoizedState,I.updateQueue=D.updateQueue,I.type=D.type,n=D.dependencies,I.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),d=d.sibling;return Ht(tn,tn.current&1|2),a.child}n=n.sibling}I.tail!==null&&Rt()>bo&&(a.flags|=128,m=!0,va(I,!1),a.lanes=4194304)}else{if(!m)if(n=Bl(D),n!==null){if(a.flags|=128,m=!0,d=n.updateQueue,d!==null&&(a.updateQueue=d,a.flags|=4),va(I,!0),I.tail===null&&I.tailMode==="hidden"&&!D.alternate&&!qt)return Qn(a),null}else 2*Rt()-I.renderingStartTime>bo&&d!==1073741824&&(a.flags|=128,m=!0,va(I,!1),a.lanes=4194304);I.isBackwards?(D.sibling=a.child,a.child=D):(d=I.last,d!==null?d.sibling=D:a.child=D,I.last=D)}return I.tail!==null?(a=I.tail,I.rendering=a,I.tail=a.sibling,I.renderingStartTime=Rt(),a.sibling=null,d=tn.current,Ht(tn,m?d&1|2:d&1),a):(Qn(a),null);case 22:case 23:return sf(),m=a.memoizedState!==null,n!==null&&n.memoizedState!==null!==m&&(a.flags|=8192),m&&a.mode&1?Ir&1073741824&&(Qn(a),a.subtreeFlags&6&&(a.flags|=8192)):Qn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function Yx(n,a){switch(hu(a),a.tag){case 1:return ur(a.type)&&Il(),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return So(),Xt(cr),Xt(Zn),Iu(),n=a.flags,n&65536&&!(n&128)?(a.flags=n&-65537|128,a):null;case 5:return Au(a),null;case 13:if(Xt(tn),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));wo()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return Xt(tn),null;case 4:return So(),null;case 10:return wu(a.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var Yl=!1,$n=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,Be=null;function To(n,a){var d=n.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){ln(n,a,m)}else d.current=null}function Yu(n,a,d){try{d()}catch(m){ln(n,a,m)}}var E0=!1;function Zx(n,a){if(iu=si,n=ut(),rt(n)){if("selectionStart"in n)var d={start:n.selectionStart,end:n.selectionEnd};else e:{d=(d=n.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var A=m.anchorOffset,I=m.focusNode;m=m.focusOffset;try{d.nodeType,I.nodeType}catch{d=null;break e}var D=0,W=-1,Y=-1,le=0,ye=0,Ee=n,ge=null;t:for(;;){for(var Le;Ee!==d||A!==0&&Ee.nodeType!==3||(W=D+A),Ee!==I||m!==0&&Ee.nodeType!==3||(Y=D+m),Ee.nodeType===3&&(D+=Ee.nodeValue.length),(Le=Ee.firstChild)!==null;)ge=Ee,Ee=Le;for(;;){if(Ee===n)break t;if(ge===d&&++le===A&&(W=D),ge===I&&++ye===m&&(Y=D),(Le=Ee.nextSibling)!==null)break;Ee=ge,ge=Ee.parentNode}Ee=Le}d=W===-1||Y===-1?null:{start:W,end:Y}}else d=null}d=d||{start:0,end:0}}else d=null;for(su={focusedElem:n,selectionRange:d},si=!1,Be=a;Be!==null;)if(a=Be,n=a.child,(a.subtreeFlags&1028)!==0&&n!==null)n.return=a,Be=n;else for(;Be!==null;){a=Be;try{var je=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ue=je.memoizedProps,xn=je.memoizedState,ne=a.stateNode,K=ne.getSnapshotBeforeUpdate(a.elementType===a.type?Ue:Qr(a.type,Ue),xn);ne.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ie){ln(a,a.return,Ie)}if(n=a.sibling,n!==null){n.return=a.return,Be=n;break}Be=a.return}return je=E0,E0=!1,je}function Ca(n,a,d){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var A=m=m.next;do{if((A.tag&n)===n){var I=A.destroy;A.destroy=void 0,I!==void 0&&Yu(a,d,I)}A=A.next}while(A!==m)}}function Xl(n,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&n)===n){var m=d.create;d.destroy=m()}d=d.next}while(d!==a)}}function Xu(n){var a=n.ref;if(a!==null){var d=n.stateNode;switch(n.tag){case 5:n=d;break;default:n=d}typeof a=="function"?a(n):a.current=n}}function S0(n){var a=n.alternate;a!==null&&(n.alternate=null,S0(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&(delete a[ai],delete a[ua],delete a[cu],delete a[Mx],delete a[_x])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function A0(n){return n.tag===5||n.tag===3||n.tag===4}function T0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||A0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zu(n,a,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,a?d.nodeType===8?d.parentNode.insertBefore(n,a):d.insertBefore(n,a):(d.nodeType===8?(a=d.parentNode,a.insertBefore(n,d)):(a=d,a.appendChild(n)),d=d._reactRootContainer,d!=null||a.onclick!==null||(a.onclick=Al));else if(m!==4&&(n=n.child,n!==null))for(Zu(n,a,d),n=n.sibling;n!==null;)Zu(n,a,d),n=n.sibling}function Ku(n,a,d){var m=n.tag;if(m===5||m===6)n=n.stateNode,a?d.insertBefore(n,a):d.appendChild(n);else if(m!==4&&(n=n.child,n!==null))for(Ku(n,a,d),n=n.sibling;n!==null;)Ku(n,a,d),n=n.sibling}var Un=null,$r=!1;function cs(n,a,d){for(d=d.child;d!==null;)I0(n,a,d),d=d.sibling}function I0(n,a,d){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(mt,d)}catch{}switch(d.tag){case 5:$n||To(d,a);case 6:var m=Un,A=$r;Un=null,cs(n,a,d),Un=m,$r=A,Un!==null&&($r?(n=Un,d=d.stateNode,n.nodeType===8?n.parentNode.removeChild(d):n.removeChild(d)):Un.removeChild(d.stateNode));break;case 18:Un!==null&&($r?(n=Un,d=d.stateNode,n.nodeType===8?lu(n.parentNode,d):n.nodeType===1&&lu(n,d),Yr(n)):lu(Un,d.stateNode));break;case 4:m=Un,A=$r,Un=d.stateNode.containerInfo,$r=!0,cs(n,a,d),Un=m,$r=A;break;case 0:case 11:case 14:case 15:if(!$n&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){A=m=m.next;do{var I=A,D=I.destroy;I=I.tag,D!==void 0&&(I&2||I&4)&&Yu(d,a,D),A=A.next}while(A!==m)}cs(n,a,d);break;case 1:if(!$n&&(To(d,a),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(W){ln(d,a,W)}cs(n,a,d);break;case 21:cs(n,a,d);break;case 22:d.mode&1?($n=(m=$n)||d.memoizedState!==null,cs(n,a,d),$n=m):cs(n,a,d);break;default:cs(n,a,d)}}function b0(n){var a=n.updateQueue;if(a!==null){n.updateQueue=null;var d=n.stateNode;d===null&&(d=n.stateNode=new Xx),a.forEach(function(m){var A=r2.bind(null,n,m);d.has(m)||(d.add(m),m.then(A,A))})}}function qr(n,a){var d=a.deletions;if(d!==null)for(var m=0;m<d.length;m++){var A=d[m];try{var I=n,D=a,W=D;e:for(;W!==null;){switch(W.tag){case 5:Un=W.stateNode,$r=!1;break e;case 3:Un=W.stateNode.containerInfo,$r=!0;break e;case 4:Un=W.stateNode.containerInfo,$r=!0;break e}W=W.return}if(Un===null)throw Error(s(160));I0(I,D,A),Un=null,$r=!1;var Y=A.alternate;Y!==null&&(Y.return=null),A.return=null}catch(le){ln(A,a,le)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)N0(a,n),a=a.sibling}function N0(n,a){var d=n.alternate,m=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(qr(a,n),ui(n),m&4){try{Ca(3,n,n.return),Xl(3,n)}catch(Ue){ln(n,n.return,Ue)}try{Ca(5,n,n.return)}catch(Ue){ln(n,n.return,Ue)}}break;case 1:qr(a,n),ui(n),m&512&&d!==null&&To(d,d.return);break;case 5:if(qr(a,n),ui(n),m&512&&d!==null&&To(d,d.return),n.flags&32){var A=n.stateNode;try{Ln(A,"")}catch(Ue){ln(n,n.return,Ue)}}if(m&4&&(A=n.stateNode,A!=null)){var I=n.memoizedProps,D=d!==null?d.memoizedProps:I,W=n.type,Y=n.updateQueue;if(n.updateQueue=null,Y!==null)try{W==="input"&&I.type==="radio"&&I.name!=null&&gr(A,I),kt(W,D);var le=kt(W,I);for(D=0;D<Y.length;D+=2){var ye=Y[D],Ee=Y[D+1];ye==="style"?Ne(A,Ee):ye==="dangerouslySetInnerHTML"?Lt(A,Ee):ye==="children"?Ln(A,Ee):V(A,ye,Ee,le)}switch(W){case"input":xt(A,I);break;case"textarea":At(A,I);break;case"select":var ge=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!I.multiple;var Le=I.value;Le!=null?Ce(A,!!I.multiple,Le,!1):ge!==!!I.multiple&&(I.defaultValue!=null?Ce(A,!!I.multiple,I.defaultValue,!0):Ce(A,!!I.multiple,I.multiple?[]:"",!1))}A[ua]=I}catch(Ue){ln(n,n.return,Ue)}}break;case 6:if(qr(a,n),ui(n),m&4){if(n.stateNode===null)throw Error(s(162));A=n.stateNode,I=n.memoizedProps;try{A.nodeValue=I}catch(Ue){ln(n,n.return,Ue)}}break;case 3:if(qr(a,n),ui(n),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Yr(a.containerInfo)}catch(Ue){ln(n,n.return,Ue)}break;case 4:qr(a,n),ui(n);break;case 13:qr(a,n),ui(n),A=n.child,A.flags&8192&&(I=A.memoizedState!==null,A.stateNode.isHidden=I,!I||A.alternate!==null&&A.alternate.memoizedState!==null||(qu=Rt())),m&4&&b0(n);break;case 22:if(ye=d!==null&&d.memoizedState!==null,n.mode&1?($n=(le=$n)||ye,qr(a,n),$n=le):qr(a,n),ui(n),m&8192){if(le=n.memoizedState!==null,(n.stateNode.isHidden=le)&&!ye&&n.mode&1)for(Be=n,ye=n.child;ye!==null;){for(Ee=Be=ye;Be!==null;){switch(ge=Be,Le=ge.child,ge.tag){case 0:case 11:case 14:case 15:Ca(4,ge,ge.return);break;case 1:To(ge,ge.return);var je=ge.stateNode;if(typeof je.componentWillUnmount=="function"){m=ge,d=ge.return;try{a=m,je.props=a.memoizedProps,je.state=a.memoizedState,je.componentWillUnmount()}catch(Ue){ln(m,d,Ue)}}break;case 5:To(ge,ge.return);break;case 22:if(ge.memoizedState!==null){_0(Ee);continue}}Le!==null?(Le.return=ge,Be=Le):_0(Ee)}ye=ye.sibling}e:for(ye=null,Ee=n;;){if(Ee.tag===5){if(ye===null){ye=Ee;try{A=Ee.stateNode,le?(I=A.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(W=Ee.stateNode,Y=Ee.memoizedProps.style,D=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,W.style.display=It("display",D))}catch(Ue){ln(n,n.return,Ue)}}}else if(Ee.tag===6){if(ye===null)try{Ee.stateNode.nodeValue=le?"":Ee.memoizedProps}catch(Ue){ln(n,n.return,Ue)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===n)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===n)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===n)break e;ye===Ee&&(ye=null),Ee=Ee.return}ye===Ee&&(ye=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:qr(a,n),ui(n),m&4&&b0(n);break;case 21:break;default:qr(a,n),ui(n)}}function ui(n){var a=n.flags;if(a&2){try{e:{for(var d=n.return;d!==null;){if(A0(d)){var m=d;break e}d=d.return}throw Error(s(160))}switch(m.tag){case 5:var A=m.stateNode;m.flags&32&&(Ln(A,""),m.flags&=-33);var I=T0(n);Ku(n,I,A);break;case 3:case 4:var D=m.stateNode.containerInfo,W=T0(n);Zu(n,W,D);break;default:throw Error(s(161))}}catch(Y){ln(n,n.return,Y)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Kx(n,a,d){Be=n,R0(n)}function R0(n,a,d){for(var m=(n.mode&1)!==0;Be!==null;){var A=Be,I=A.child;if(A.tag===22&&m){var D=A.memoizedState!==null||Yl;if(!D){var W=A.alternate,Y=W!==null&&W.memoizedState!==null||$n;W=Yl;var le=$n;if(Yl=D,($n=Y)&&!le)for(Be=A;Be!==null;)D=Be,Y=D.child,D.tag===22&&D.memoizedState!==null?D0(A):Y!==null?(Y.return=D,Be=Y):D0(A);for(;I!==null;)Be=I,R0(I),I=I.sibling;Be=A,Yl=W,$n=le}M0(n)}else A.subtreeFlags&8772&&I!==null?(I.return=A,Be=I):M0(n)}}function M0(n){for(;Be!==null;){var a=Be;if(a.flags&8772){var d=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:$n||Xl(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!$n)if(d===null)m.componentDidMount();else{var A=a.elementType===a.type?d.memoizedProps:Qr(a.type,d.memoizedProps);m.componentDidUpdate(A,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var I=a.updateQueue;I!==null&&_h(a,I,m);break;case 3:var D=a.updateQueue;if(D!==null){if(d=null,a.child!==null)switch(a.child.tag){case 5:d=a.child.stateNode;break;case 1:d=a.child.stateNode}_h(a,D,d)}break;case 5:var W=a.stateNode;if(d===null&&a.flags&4){d=W;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&d.focus();break;case"img":Y.src&&(d.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var le=a.alternate;if(le!==null){var ye=le.memoizedState;if(ye!==null){var Ee=ye.dehydrated;Ee!==null&&Yr(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}$n||a.flags&512&&Xu(a)}catch(ge){ln(a,a.return,ge)}}if(a===n){Be=null;break}if(d=a.sibling,d!==null){d.return=a.return,Be=d;break}Be=a.return}}function _0(n){for(;Be!==null;){var a=Be;if(a===n){Be=null;break}var d=a.sibling;if(d!==null){d.return=a.return,Be=d;break}Be=a.return}}function D0(n){for(;Be!==null;){var a=Be;try{switch(a.tag){case 0:case 11:case 15:var d=a.return;try{Xl(4,a)}catch(Y){ln(a,d,Y)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var A=a.return;try{m.componentDidMount()}catch(Y){ln(a,A,Y)}}var I=a.return;try{Xu(a)}catch(Y){ln(a,I,Y)}break;case 5:var D=a.return;try{Xu(a)}catch(Y){ln(a,D,Y)}}}catch(Y){ln(a,a.return,Y)}if(a===n){Be=null;break}var W=a.sibling;if(W!==null){W.return=a.return,Be=W;break}Be=a.return}}var Qx=Math.ceil,Zl=ee.ReactCurrentDispatcher,Qu=ee.ReactCurrentOwner,Ur=ee.ReactCurrentBatchConfig,Et=0,Dn=null,Cn=null,zn=0,Ir=0,Io=is(0),Nn=0,Ea=null,Ws=0,Kl=0,$u=0,Sa=null,dr=null,qu=0,bo=1/0,ki=null,Ql=!1,Ju=null,us=null,$l=!1,fs=null,ql=0,Aa=0,ef=null,Jl=-1,ec=0;function ir(){return Et&6?Rt():Jl!==-1?Jl:Jl=Rt()}function ds(n){return n.mode&1?Et&2&&zn!==0?zn&-zn:Ox.transition!==null?(ec===0&&(ec=Sn()),ec):(n=ct,n!==0||(n=window.event,n=n===void 0?16:$o(n.type)),n):1}function Jr(n,a,d,m){if(50<Aa)throw Aa=0,ef=null,Error(s(185));j(n,d,m),(!(Et&2)||n!==Dn)&&(n===Dn&&(!(Et&2)&&(Kl|=d),Nn===4&&hs(n,zn)),hr(n,m),d===1&&Et===0&&!(a.mode&1)&&(bo=Rt()+500,Nl&&os()))}function hr(n,a){var d=n.callbackNode;Xi(n,a);var m=vr(n,n===Dn?zn:0);if(m===0)d!==null&&Rn(d),n.callbackNode=null,n.callbackPriority=0;else if(a=m&-m,n.callbackPriority!==a){if(d!=null&&Rn(d),a===1)n.tag===0?Dx(P0.bind(null,n)):wh(P0.bind(null,n)),Nx(function(){!(Et&6)&&os()}),d=null;else{switch(cl(m)){case 1:d=de;break;case 4:d=al;break;case 16:d=Ft;break;case 536870912:d=ll;break;default:d=Ft}d=V0(d,O0.bind(null,n))}n.callbackPriority=a,n.callbackNode=d}}function O0(n,a){if(Jl=-1,ec=0,Et&6)throw Error(s(327));var d=n.callbackNode;if(No()&&n.callbackNode!==d)return null;var m=vr(n,n===Dn?zn:0);if(m===0)return null;if(m&30||m&n.expiredLanes||a)a=tc(n,m);else{a=m;var A=Et;Et|=2;var I=k0();(Dn!==n||zn!==a)&&(ki=null,bo=Rt()+500,Gs(n,a));do try{Jx();break}catch(W){L0(n,W)}while(!0);yu(),Zl.current=I,Et=A,Cn!==null?a=0:(Dn=null,zn=0,a=Nn)}if(a!==0){if(a===2&&(A=Mt(n),A!==0&&(m=A,a=tf(n,A))),a===1)throw d=Ea,Gs(n,0),hs(n,m),hr(n,Rt()),d;if(a===6)hs(n,m);else{if(A=n.current.alternate,!(m&30)&&!$x(A)&&(a=tc(n,m),a===2&&(I=Mt(n),I!==0&&(m=I,a=tf(n,I))),a===1))throw d=Ea,Gs(n,0),hs(n,m),hr(n,Rt()),d;switch(n.finishedWork=A,n.finishedLanes=m,a){case 0:case 1:throw Error(s(345));case 2:Ys(n,dr,ki);break;case 3:if(hs(n,m),(m&130023424)===m&&(a=qu+500-Rt(),10<a)){if(vr(n,0)!==0)break;if(A=n.suspendedLanes,(A&m)!==m){ir(),n.pingedLanes|=n.suspendedLanes&A;break}n.timeoutHandle=au(Ys.bind(null,n,dr,ki),a);break}Ys(n,dr,ki);break;case 4:if(hs(n,m),(m&4194240)===m)break;for(a=n.eventTimes,A=-1;0<m;){var D=31-nr(m);I=1<<D,D=a[D],D>A&&(A=D),m&=~I}if(m=A,m=Rt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Qx(m/1960))-m,10<m){n.timeoutHandle=au(Ys.bind(null,n,dr,ki),m);break}Ys(n,dr,ki);break;case 5:Ys(n,dr,ki);break;default:throw Error(s(329))}}}return hr(n,Rt()),n.callbackNode===d?O0.bind(null,n):null}function tf(n,a){var d=Sa;return n.current.memoizedState.isDehydrated&&(Gs(n,a).flags|=256),n=tc(n,a),n!==2&&(a=dr,dr=d,a!==null&&nf(a)),n}function nf(n){dr===null?dr=n:dr.push.apply(dr,n)}function $x(n){for(var a=n;;){if(a.flags&16384){var d=a.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var A=d[m],I=A.getSnapshot;A=A.value;try{if(!$(I(),A))return!1}catch{return!1}}}if(d=a.child,a.subtreeFlags&16384&&d!==null)d.return=a,a=d;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hs(n,a){for(a&=~$u,a&=~Kl,n.suspendedLanes|=a,n.pingedLanes&=~a,n=n.expirationTimes;0<a;){var d=31-nr(a),m=1<<d;n[d]=-1,a&=~m}}function P0(n){if(Et&6)throw Error(s(327));No();var a=vr(n,0);if(!(a&1))return hr(n,Rt()),null;var d=tc(n,a);if(n.tag!==0&&d===2){var m=Mt(n);m!==0&&(a=m,d=tf(n,m))}if(d===1)throw d=Ea,Gs(n,0),hs(n,a),hr(n,Rt()),d;if(d===6)throw Error(s(345));return n.finishedWork=n.current.alternate,n.finishedLanes=a,Ys(n,dr,ki),hr(n,Rt()),null}function rf(n,a){var d=Et;Et|=1;try{return n(a)}finally{Et=d,Et===0&&(bo=Rt()+500,Nl&&os())}}function Hs(n){fs!==null&&fs.tag===0&&!(Et&6)&&No();var a=Et;Et|=1;var d=Ur.transition,m=ct;try{if(Ur.transition=null,ct=1,n)return n()}finally{ct=m,Ur.transition=d,Et=a,!(Et&6)&&os()}}function sf(){Ir=Io.current,Xt(Io)}function Gs(n,a){n.finishedWork=null,n.finishedLanes=0;var d=n.timeoutHandle;if(d!==-1&&(n.timeoutHandle=-1,bx(d)),Cn!==null)for(d=Cn.return;d!==null;){var m=d;switch(hu(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Il();break;case 3:So(),Xt(cr),Xt(Zn),Iu();break;case 5:Au(m);break;case 4:So();break;case 13:Xt(tn);break;case 19:Xt(tn);break;case 10:wu(m.type._context);break;case 22:case 23:sf()}d=d.return}if(Dn=n,Cn=n=ps(n.current,null),zn=Ir=a,Nn=0,Ea=null,$u=Kl=Ws=0,dr=Sa=null,Us!==null){for(a=0;a<Us.length;a++)if(d=Us[a],m=d.interleaved,m!==null){d.interleaved=null;var A=m.next,I=d.pending;if(I!==null){var D=I.next;I.next=A,m.next=D}d.pending=m}Us=null}return n}function L0(n,a){do{var d=Cn;try{if(yu(),Fl.current=Vl,jl){for(var m=nn.memoizedState;m!==null;){var A=m.queue;A!==null&&(A.pending=null),m=m.next}jl=!1}if(Vs=0,_n=bn=nn=null,ma=!1,xa=0,Qu.current=null,d===null||d.return===null){Nn=1,Ea=a,Cn=null;break}e:{var I=n,D=d.return,W=d,Y=a;if(a=zn,W.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var le=Y,ye=W,Ee=ye.tag;if(!(ye.mode&1)&&(Ee===0||Ee===11||Ee===15)){var ge=ye.alternate;ge?(ye.updateQueue=ge.updateQueue,ye.memoizedState=ge.memoizedState,ye.lanes=ge.lanes):(ye.updateQueue=null,ye.memoizedState=null)}var Le=o0(D);if(Le!==null){Le.flags&=-257,a0(Le,D,W,I,a),Le.mode&1&&s0(I,le,a),a=Le,Y=le;var je=a.updateQueue;if(je===null){var Ue=new Set;Ue.add(Y),a.updateQueue=Ue}else je.add(Y);break e}else{if(!(a&1)){s0(I,le,a),of();break e}Y=Error(s(426))}}else if(qt&&W.mode&1){var xn=o0(D);if(xn!==null){!(xn.flags&65536)&&(xn.flags|=256),a0(xn,D,W,I,a),mu(Ao(Y,W));break e}}I=Y=Ao(Y,W),Nn!==4&&(Nn=2),Sa===null?Sa=[I]:Sa.push(I),I=D;do{switch(I.tag){case 3:I.flags|=65536,a&=-a,I.lanes|=a;var ne=r0(I,Y,a);Mh(I,ne);break e;case 1:W=Y;var K=I.type,ie=I.stateNode;if(!(I.flags&128)&&(typeof K.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(us===null||!us.has(ie)))){I.flags|=65536,a&=-a,I.lanes|=a;var Ie=i0(I,W,a);Mh(I,Ie);break e}}I=I.return}while(I!==null)}F0(d)}catch(We){a=We,Cn===d&&d!==null&&(Cn=d=d.return);continue}break}while(!0)}function k0(){var n=Zl.current;return Zl.current=Vl,n===null?Vl:n}function of(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Dn===null||!(Ws&268435455)&&!(Kl&268435455)||hs(Dn,zn)}function tc(n,a){var d=Et;Et|=2;var m=k0();(Dn!==n||zn!==a)&&(ki=null,Gs(n,a));do try{qx();break}catch(A){L0(n,A)}while(!0);if(yu(),Et=d,Zl.current=m,Cn!==null)throw Error(s(261));return Dn=null,zn=0,Nn}function qx(){for(;Cn!==null;)B0(Cn)}function Jx(){for(;Cn!==null&&!zt();)B0(Cn)}function B0(n){var a=z0(n.alternate,n,Ir);n.memoizedProps=n.pendingProps,a===null?F0(n):Cn=a,Qu.current=null}function F0(n){var a=n;do{var d=a.alternate;if(n=a.return,a.flags&32768){if(d=Yx(d,a),d!==null){d.flags&=32767,Cn=d;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nn=6,Cn=null;return}}else if(d=Gx(d,a,Ir),d!==null){Cn=d;return}if(a=a.sibling,a!==null){Cn=a;return}Cn=a=n}while(a!==null);Nn===0&&(Nn=5)}function Ys(n,a,d){var m=ct,A=Ur.transition;try{Ur.transition=null,ct=1,e2(n,a,d,m)}finally{Ur.transition=A,ct=m}return null}function e2(n,a,d,m){do No();while(fs!==null);if(Et&6)throw Error(s(327));d=n.finishedWork;var A=n.finishedLanes;if(d===null)return null;if(n.finishedWork=null,n.finishedLanes=0,d===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0;var I=d.lanes|d.childLanes;if(Ge(n,I),n===Dn&&(Cn=Dn=null,zn=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||$l||($l=!0,V0(Ft,function(){return No(),null})),I=(d.flags&15990)!==0,d.subtreeFlags&15990||I){I=Ur.transition,Ur.transition=null;var D=ct;ct=1;var W=Et;Et|=4,Qu.current=null,Zx(n,d),N0(d,n),Xn(su),si=!!iu,su=iu=null,n.current=d,Kx(d),ol(),Et=W,ct=D,Ur.transition=I}else n.current=d;if($l&&($l=!1,fs=n,ql=A),I=n.pendingLanes,I===0&&(us=null),ht(d.stateNode),hr(n,Rt()),a!==null)for(m=n.onRecoverableError,d=0;d<a.length;d++)A=a[d],m(A.value,{componentStack:A.stack,digest:A.digest});if(Ql)throw Ql=!1,n=Ju,Ju=null,n;return ql&1&&n.tag!==0&&No(),I=n.pendingLanes,I&1?n===ef?Aa++:(Aa=0,ef=n):Aa=0,os(),null}function No(){if(fs!==null){var n=cl(ql),a=Ur.transition,d=ct;try{if(Ur.transition=null,ct=16>n?16:n,fs===null)var m=!1;else{if(n=fs,fs=null,ql=0,Et&6)throw Error(s(331));var A=Et;for(Et|=4,Be=n.current;Be!==null;){var I=Be,D=I.child;if(Be.flags&16){var W=I.deletions;if(W!==null){for(var Y=0;Y<W.length;Y++){var le=W[Y];for(Be=le;Be!==null;){var ye=Be;switch(ye.tag){case 0:case 11:case 15:Ca(8,ye,I)}var Ee=ye.child;if(Ee!==null)Ee.return=ye,Be=Ee;else for(;Be!==null;){ye=Be;var ge=ye.sibling,Le=ye.return;if(S0(ye),ye===le){Be=null;break}if(ge!==null){ge.return=Le,Be=ge;break}Be=Le}}}var je=I.alternate;if(je!==null){var Ue=je.child;if(Ue!==null){je.child=null;do{var xn=Ue.sibling;Ue.sibling=null,Ue=xn}while(Ue!==null)}}Be=I}}if(I.subtreeFlags&2064&&D!==null)D.return=I,Be=D;else e:for(;Be!==null;){if(I=Be,I.flags&2048)switch(I.tag){case 0:case 11:case 15:Ca(9,I,I.return)}var ne=I.sibling;if(ne!==null){ne.return=I.return,Be=ne;break e}Be=I.return}}var K=n.current;for(Be=K;Be!==null;){D=Be;var ie=D.child;if(D.subtreeFlags&2064&&ie!==null)ie.return=D,Be=ie;else e:for(D=K;Be!==null;){if(W=Be,W.flags&2048)try{switch(W.tag){case 0:case 11:case 15:Xl(9,W)}}catch(We){ln(W,W.return,We)}if(W===D){Be=null;break e}var Ie=W.sibling;if(Ie!==null){Ie.return=W.return,Be=Ie;break e}Be=W.return}}if(Et=A,os(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(mt,n)}catch{}m=!0}return m}finally{ct=d,Ur.transition=a}}return!1}function j0(n,a,d){a=Ao(d,a),a=r0(n,a,1),n=ls(n,a,1),a=ir(),n!==null&&(j(n,1,a),hr(n,a))}function ln(n,a,d){if(n.tag===3)j0(n,n,d);else for(;a!==null;){if(a.tag===3){j0(a,n,d);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(us===null||!us.has(m))){n=Ao(d,n),n=i0(a,n,1),a=ls(a,n,1),n=ir(),a!==null&&(j(a,1,n),hr(a,n));break}}a=a.return}}function t2(n,a,d){var m=n.pingCache;m!==null&&m.delete(a),a=ir(),n.pingedLanes|=n.suspendedLanes&d,Dn===n&&(zn&d)===d&&(Nn===4||Nn===3&&(zn&130023424)===zn&&500>Rt()-qu?Gs(n,0):$u|=d),hr(n,a)}function U0(n,a){a===0&&(n.mode&1?(a=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):a=1);var d=ir();n=Oi(n,a),n!==null&&(j(n,a,d),hr(n,d))}function n2(n){var a=n.memoizedState,d=0;a!==null&&(d=a.retryLane),U0(n,d)}function r2(n,a){var d=0;switch(n.tag){case 13:var m=n.stateNode,A=n.memoizedState;A!==null&&(d=A.retryLane);break;case 19:m=n.stateNode;break;default:throw Error(s(314))}m!==null&&m.delete(a),U0(n,d)}var z0;z0=function(n,a,d){if(n!==null)if(n.memoizedProps!==a.pendingProps||cr.current)fr=!0;else{if(!(n.lanes&d)&&!(a.flags&128))return fr=!1,Hx(n,a,d);fr=!!(n.flags&131072)}else fr=!1,qt&&a.flags&1048576&&vh(a,Ml,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;Gl(n,a),n=a.pendingProps;var A=mo(a,Zn.current);Eo(a,d),A=Ru(null,a,m,n,A,d);var I=Mu();return a.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,ur(m)?(I=!0,bl(a)):I=!1,a.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Eu(a),A.updater=Wl,a.stateNode=A,A._reactInternals=a,ku(a,m,n,d),a=Uu(null,a,m,!0,I,d)):(a.tag=0,qt&&I&&du(a),rr(null,a,A,d),a=a.child),a;case 16:m=a.elementType;e:{switch(Gl(n,a),n=a.pendingProps,A=m._init,m=A(m._payload),a.type=m,A=a.tag=s2(m),n=Qr(m,n),A){case 0:a=ju(null,a,m,n,d);break e;case 1:a=h0(null,a,m,n,d);break e;case 11:a=l0(null,a,m,n,d);break e;case 14:a=c0(null,a,m,Qr(m.type,n),d);break e}throw Error(s(306,m,""))}return a;case 0:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Qr(m,A),ju(n,a,m,A,d);case 1:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Qr(m,A),h0(n,a,m,A,d);case 3:e:{if(p0(a),n===null)throw Error(s(387));m=a.pendingProps,I=a.memoizedState,A=I.element,Rh(n,a),kl(a,m,null,d);var D=a.memoizedState;if(m=D.element,I.isDehydrated)if(I={element:m,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},a.updateQueue.baseState=I,a.memoizedState=I,a.flags&256){A=Ao(Error(s(423)),a),a=g0(n,a,m,d,A);break e}else if(m!==A){A=Ao(Error(s(424)),a),a=g0(n,a,m,d,A);break e}else for(Tr=rs(a.stateNode.containerInfo.firstChild),Ar=a,qt=!0,Kr=null,d=bh(a,null,m,d),a.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(wo(),m===A){a=Li(n,a,d);break e}rr(n,a,m,d)}a=a.child}return a;case 5:return Dh(a),n===null&&gu(a),m=a.type,A=a.pendingProps,I=n!==null?n.memoizedProps:null,D=A.children,ou(m,A)?D=null:I!==null&&ou(m,I)&&(a.flags|=32),d0(n,a),rr(n,a,D,d),a.child;case 6:return n===null&&gu(a),null;case 13:return m0(n,a,d);case 4:return Su(a,a.stateNode.containerInfo),m=a.pendingProps,n===null?a.child=vo(a,null,m,d):rr(n,a,m,d),a.child;case 11:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Qr(m,A),l0(n,a,m,A,d);case 7:return rr(n,a,a.pendingProps,d),a.child;case 8:return rr(n,a,a.pendingProps.children,d),a.child;case 12:return rr(n,a,a.pendingProps.children,d),a.child;case 10:e:{if(m=a.type._context,A=a.pendingProps,I=a.memoizedProps,D=A.value,Ht(Ol,m._currentValue),m._currentValue=D,I!==null)if($(I.value,D)){if(I.children===A.children&&!cr.current){a=Li(n,a,d);break e}}else for(I=a.child,I!==null&&(I.return=a);I!==null;){var W=I.dependencies;if(W!==null){D=I.child;for(var Y=W.firstContext;Y!==null;){if(Y.context===m){if(I.tag===1){Y=Pi(-1,d&-d),Y.tag=2;var le=I.updateQueue;if(le!==null){le=le.shared;var ye=le.pending;ye===null?Y.next=Y:(Y.next=ye.next,ye.next=Y),le.pending=Y}}I.lanes|=d,Y=I.alternate,Y!==null&&(Y.lanes|=d),vu(I.return,d,a),W.lanes|=d;break}Y=Y.next}}else if(I.tag===10)D=I.type===a.type?null:I.child;else if(I.tag===18){if(D=I.return,D===null)throw Error(s(341));D.lanes|=d,W=D.alternate,W!==null&&(W.lanes|=d),vu(D,d,a),D=I.sibling}else D=I.child;if(D!==null)D.return=I;else for(D=I;D!==null;){if(D===a){D=null;break}if(I=D.sibling,I!==null){I.return=D.return,D=I;break}D=D.return}I=D}rr(n,a,A.children,d),a=a.child}return a;case 9:return A=a.type,m=a.pendingProps.children,Eo(a,d),A=Fr(A),m=m(A),a.flags|=1,rr(n,a,m,d),a.child;case 14:return m=a.type,A=Qr(m,a.pendingProps),A=Qr(m.type,A),c0(n,a,m,A,d);case 15:return u0(n,a,a.type,a.pendingProps,d);case 17:return m=a.type,A=a.pendingProps,A=a.elementType===m?A:Qr(m,A),Gl(n,a),a.tag=1,ur(m)?(n=!0,bl(a)):n=!1,Eo(a,d),t0(a,m,A),ku(a,m,A,d),Uu(null,a,m,!0,n,d);case 19:return y0(n,a,d);case 22:return f0(n,a,d)}throw Error(s(156,a.tag))};function V0(n,a){return yr(n,a)}function i2(n,a,d,m){this.tag=n,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(n,a,d,m){return new i2(n,a,d,m)}function af(n){return n=n.prototype,!(!n||!n.isReactComponent)}function s2(n){if(typeof n=="function")return af(n)?1:0;if(n!=null){if(n=n.$$typeof,n===be)return 11;if(n===Q)return 14}return 2}function ps(n,a){var d=n.alternate;return d===null?(d=zr(n.tag,a,n.key,n.mode),d.elementType=n.elementType,d.type=n.type,d.stateNode=n.stateNode,d.alternate=n,n.alternate=d):(d.pendingProps=a,d.type=n.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=n.flags&14680064,d.childLanes=n.childLanes,d.lanes=n.lanes,d.child=n.child,d.memoizedProps=n.memoizedProps,d.memoizedState=n.memoizedState,d.updateQueue=n.updateQueue,a=n.dependencies,d.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},d.sibling=n.sibling,d.index=n.index,d.ref=n.ref,d}function nc(n,a,d,m,A,I){var D=2;if(m=n,typeof n=="function")af(n)&&(D=1);else if(typeof n=="string")D=5;else e:switch(n){case J:return Xs(d.children,A,I,a);case ce:D=8,A|=8;break;case q:return n=zr(12,d,a,A|2),n.elementType=q,n.lanes=I,n;case Fe:return n=zr(13,d,a,A),n.elementType=Fe,n.lanes=I,n;case Re:return n=zr(19,d,a,A),n.elementType=Re,n.lanes=I,n;case we:return rc(d,A,I,a);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Me:D=10;break e;case Pe:D=9;break e;case be:D=11;break e;case Q:D=14;break e;case Ve:D=16,m=null;break e}throw Error(s(130,n==null?n:typeof n,""))}return a=zr(D,d,a,A),a.elementType=n,a.type=m,a.lanes=I,a}function Xs(n,a,d,m){return n=zr(7,n,m,a),n.lanes=d,n}function rc(n,a,d,m){return n=zr(22,n,m,a),n.elementType=we,n.lanes=d,n.stateNode={isHidden:!1},n}function lf(n,a,d){return n=zr(6,n,null,a),n.lanes=d,n}function cf(n,a,d){return a=zr(4,n.children!==null?n.children:[],n.key,a),a.lanes=d,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}function o2(n,a,d,m,A){this.tag=a,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=te(0),this.expirationTimes=te(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.identifierPrefix=m,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function uf(n,a,d,m,A,I,D,W,Y){return n=new o2(n,a,d,W,Y),a===1?(a=1,I===!0&&(a|=8)):a=0,I=zr(3,null,null,a),n.current=I,I.stateNode=n,I.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(I),n}function a2(n,a,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:m==null?null:""+m,children:n,containerInfo:a,implementation:d}}function W0(n){if(!n)return ss;n=n._reactInternals;e:{if(lr(n)!==n||n.tag!==1)throw Error(s(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(ur(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(n.tag===1){var d=n.type;if(ur(d))return xh(n,d,a)}return a}function H0(n,a,d,m,A,I,D,W,Y){return n=uf(d,m,!0,n,A,I,D,W,Y),n.context=W0(null),d=n.current,m=ir(),A=ds(d),I=Pi(m,A),I.callback=a??null,ls(d,I,A),n.current.lanes=A,j(n,A,m),hr(n,m),n}function ic(n,a,d,m){var A=a.current,I=ir(),D=ds(A);return d=W0(d),a.context===null?a.context=d:a.pendingContext=d,a=Pi(I,D),a.payload={element:n},m=m===void 0?null:m,m!==null&&(a.callback=m),n=ls(A,a,D),n!==null&&(Jr(n,A,D,I),Ll(n,A,D)),D}function sc(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function G0(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var d=n.retryLane;n.retryLane=d!==0&&d<a?d:a}}function ff(n,a){G0(n,a),(n=n.alternate)&&G0(n,a)}function l2(){return null}var Y0=typeof reportError=="function"?reportError:function(n){console.error(n)};function df(n){this._internalRoot=n}oc.prototype.render=df.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));ic(n,a,null,null)},oc.prototype.unmount=df.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Hs(function(){ic(null,n,null,null)}),a[Ri]=null}};function oc(n){this._internalRoot=n}oc.prototype.unstable_scheduleHydration=function(n){if(n){var a=Vt();n={blockedOn:null,target:n,priority:a};for(var d=0;d<Bn.length&&a!==0&&a<Bn[d].priority;d++);Bn.splice(d,0,n),d===0&&fl(n)}};function hf(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function ac(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function X0(){}function c2(n,a,d,m,A){if(A){if(typeof m=="function"){var I=m;m=function(){var le=sc(D);I.call(le)}}var D=H0(a,m,n,0,null,!1,!1,"",X0);return n._reactRootContainer=D,n[Ri]=D.current,la(n.nodeType===8?n.parentNode:n),Hs(),D}for(;A=n.lastChild;)n.removeChild(A);if(typeof m=="function"){var W=m;m=function(){var le=sc(Y);W.call(le)}}var Y=uf(n,0,!1,null,null,!1,!1,"",X0);return n._reactRootContainer=Y,n[Ri]=Y.current,la(n.nodeType===8?n.parentNode:n),Hs(function(){ic(a,Y,d,m)}),Y}function lc(n,a,d,m,A){var I=d._reactRootContainer;if(I){var D=I;if(typeof A=="function"){var W=A;A=function(){var Y=sc(D);W.call(Y)}}ic(a,D,n,A)}else D=c2(d,a,n,A,m);return sc(D)}io=function(n){switch(n.tag){case 3:var a=n.stateNode;if(a.current.memoizedState.isDehydrated){var d=jt(a.pendingLanes);d!==0&&(on(a,d|1),hr(a,Rt()),!(Et&6)&&(bo=Rt()+500,os()))}break;case 13:Hs(function(){var m=Oi(n,1);if(m!==null){var A=ir();Jr(m,n,1,A)}}),ff(n,1)}},Yn=function(n){if(n.tag===13){var a=Oi(n,134217728);if(a!==null){var d=ir();Jr(a,n,134217728,d)}ff(n,134217728)}},Xe=function(n){if(n.tag===13){var a=ds(n),d=Oi(n,a);if(d!==null){var m=ir();Jr(d,n,a,m)}ff(n,a)}},Vt=function(){return ct},Zo=function(n,a){var d=ct;try{return ct=n,a()}finally{ct=d}},Si=function(n,a,d){switch(a){case"input":if(xt(n,d),a=d.name,d.type==="radio"&&a!=null){for(d=n;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<d.length;a++){var m=d[a];if(m!==n&&m.form===n.form){var A=Tl(m);if(!A)throw Error(s(90));er(m),xt(m,A)}}}break;case"textarea":At(n,d);break;case"select":a=d.value,a!=null&&Ce(n,!!d.multiple,a,!1)}},En=rf,dn=Hs;var u2={usingClientEntryPoint:!1,Events:[fa,po,Tl,wn,Ye,rf]},Ta={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f2={bundleType:Ta.bundleType,version:Ta.version,rendererPackageName:Ta.rendererPackageName,rendererConfig:Ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=il(n),n===null?null:n.stateNode},findFiberByHostInstance:Ta.findFiberByHostInstance||l2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{mt=cc.inject(f2),lt=cc}catch{}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u2,pr.createPortal=function(n,a){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(a))throw Error(s(200));return a2(n,a,null,d)},pr.createRoot=function(n,a){if(!hf(n))throw Error(s(299));var d=!1,m="",A=Y0;return a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),a=uf(n,1,!1,null,null,d,!1,m,A),n[Ri]=a.current,la(n.nodeType===8?n.parentNode:n),new df(a)},pr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=il(a),n=n===null?null:n.stateNode,n},pr.flushSync=function(n){return Hs(n)},pr.hydrate=function(n,a,d){if(!ac(a))throw Error(s(200));return lc(null,n,a,!0,d)},pr.hydrateRoot=function(n,a,d){if(!hf(n))throw Error(s(405));var m=d!=null&&d.hydratedSources||null,A=!1,I="",D=Y0;if(d!=null&&(d.unstable_strictMode===!0&&(A=!0),d.identifierPrefix!==void 0&&(I=d.identifierPrefix),d.onRecoverableError!==void 0&&(D=d.onRecoverableError)),a=H0(a,null,n,1,d??null,A,!1,I,D),n[Ri]=a.current,la(n),m)for(n=0;n<m.length;n++)d=m[n],A=d._getVersion,A=A(d._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[d,A]:a.mutableSourceEagerHydrationData.push(d,A);return new oc(a)},pr.render=function(n,a,d){if(!ac(a))throw Error(s(200));return lc(null,n,a,!1,d)},pr.unmountComponentAtNode=function(n){if(!ac(n))throw Error(s(40));return n._reactRootContainer?(Hs(function(){lc(null,null,n,!1,function(){n._reactRootContainer=null,n[Ri]=null})}),!0):!1},pr.unstable_batchedUpdates=rf,pr.unstable_renderSubtreeIntoContainer=function(n,a,d,m){if(!ac(d))throw Error(s(200));if(n==null||n._reactInternals===void 0)throw Error(s(38));return lc(n,a,d,!1,m)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var t1;function v2(){if(t1)return mf.exports;t1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(i){console.error(i)}}return t(),mf.exports=w2(),mf.exports}var n1;function C2(){if(n1)return fc;n1=1;var t=v2();return fc.createRoot=t.createRoot,fc.hydrateRoot=t.hydrateRoot,fc}var E2=C2();const xi=P.createContext(null),S2=({children:t})=>{const[i,s]=P.useState(null),[u,h]=P.useState(null),[p,y]=P.useState(null),[C,v]=P.useState(null),[x,E]=P.useState(!1),[T,N]=P.useState(null),O=async()=>{const z=localStorage.getItem("access_token");if(z)try{const H=await fetch(window.server_url+"/load_user",{headers:{Authorization:`Bearer ${z}`}});if(H.ok){E(!0);const V=await H.json();console.log("USER DATA:",V),s(V.username),h(V.profile),N(V.permissions),console.log("PERMISSIONS:",V.permissions)}else console.log("TOKEN INVALID"),localStorage.removeItem("token"),s(null),h(null),y(null),v(null),E(!1)}catch(H){console.log("ERROR:",H)}};P.useEffect(()=>{O()},[]);const k=z=>{s(z.username),y(z.access_token),v(z.refresh_token),N(z.permissions),console.log("PRE SAVE USERNAME:",z.username),localStorage.setItem("user",z.username),localStorage.setItem("access_token",z.access_token),localStorage.setItem("refresh_token",z.refresh_token)},B=async(z,H)=>{const V=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:z,password:H})});if(V.ok){const ee=await V.json();console.log("SIGNED UP, userData:",ee)}},F=()=>{s(null),h(null),y(null),v(null),E(!1)};return R.jsx(xi.Provider,{value:{user:i,login:k,signup:B,logout:F,userProfile:u,checkAuth:O,permissions:T},children:t})};var Ff=function(t,i){return Ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,u){s.__proto__=u}||function(s,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(s[h]=u[h])},Ff(t,i)};function A2(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");Ff(t,i);function s(){this.constructor=t}t.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}var Vn=function(){return Vn=Object.assign||function(i){for(var s,u=1,h=arguments.length;u<h;u++){s=arguments[u];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(i[p]=s[p])}return i},Vn.apply(this,arguments)};var wf,r1;function T2(){if(r1)return wf;r1=1;var t=!1,i,s,u,h,p,y,C,v,x,E,T,N,O,k,B;function F(){if(!t){t=!0;var H=navigator.userAgent,V=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(H),ee=/(Mac OS X)|(Windows)|(Linux)/.exec(H);if(N=/\b(iPhone|iP[ao]d)/.exec(H),O=/\b(iP[ao]d)/.exec(H),E=/Android/i.exec(H),k=/FBAN\/\w+;/i.exec(H),B=/Mobile/i.exec(H),T=!!/Win64/.exec(H),V){i=V[1]?parseFloat(V[1]):V[5]?parseFloat(V[5]):NaN,i&&document&&document.documentMode&&(i=document.documentMode);var se=/(?:Trident\/(\d+.\d+))/.exec(H);y=se?parseFloat(se[1])+4:i,s=V[2]?parseFloat(V[2]):NaN,u=V[3]?parseFloat(V[3]):NaN,h=V[4]?parseFloat(V[4]):NaN,h?(V=/(?:Chrome\/(\d+\.\d+))/.exec(H),p=V&&V[1]?parseFloat(V[1]):NaN):p=NaN}else i=s=u=p=h=NaN;if(ee){if(ee[1]){var ue=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(H);C=ue?parseFloat(ue[1].replace("_",".")):!0}else C=!1;v=!!ee[2],x=!!ee[3]}else C=v=x=!1}}var z={ie:function(){return F()||i},ieCompatibilityMode:function(){return F()||y>i},ie64:function(){return z.ie()&&T},firefox:function(){return F()||s},opera:function(){return F()||u},webkit:function(){return F()||h},safari:function(){return z.webkit()},chrome:function(){return F()||p},windows:function(){return F()||v},osx:function(){return F()||C},linux:function(){return F()||x},iphone:function(){return F()||N},mobile:function(){return F()||N||O||E||B},nativeApp:function(){return F()||k},android:function(){return F()||E},ipad:function(){return F()||O}};return wf=z,wf}var vf,i1;function I2(){if(i1)return vf;i1=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),i={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return vf=i,vf}var Cf,s1;function b2(){if(s1)return Cf;s1=1;var t=I2(),i;t.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function s(u,h){if(!t.canUseDOM||h&&!("addEventListener"in document))return!1;var p="on"+u,y=p in document;if(!y){var C=document.createElement("div");C.setAttribute(p,"return;"),y=typeof C[p]=="function"}return!y&&i&&u==="wheel"&&(y=document.implementation.hasFeature("Events.wheel","3.0")),y}return Cf=s,Cf}var Ef,o1;function N2(){if(o1)return Ef;o1=1;var t=T2(),i=b2(),s=10,u=40,h=800;function p(y){var C=0,v=0,x=0,E=0;return"detail"in y&&(v=y.detail),"wheelDelta"in y&&(v=-y.wheelDelta/120),"wheelDeltaY"in y&&(v=-y.wheelDeltaY/120),"wheelDeltaX"in y&&(C=-y.wheelDeltaX/120),"axis"in y&&y.axis===y.HORIZONTAL_AXIS&&(C=v,v=0),x=C*s,E=v*s,"deltaY"in y&&(E=y.deltaY),"deltaX"in y&&(x=y.deltaX),(x||E)&&y.deltaMode&&(y.deltaMode==1?(x*=u,E*=u):(x*=h,E*=h)),x&&!C&&(C=x<1?-1:1),E&&!v&&(v=E<1?-1:1),{spinX:C,spinY:v,pixelX:x,pixelY:E}}return p.getEventType=function(){return t.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},Ef=p,Ef}var Sf,a1;function R2(){return a1||(a1=1,Sf=N2()),Sf}var M2=R2();const _2=ud(M2);function D2(t,i,s,u,h,p){p===void 0&&(p=0);var y=ko(t,i,p),C=y.width,v=y.height,x=Math.min(C,s),E=Math.min(v,u);return x>E*h?{width:E*h,height:E}:{width:x,height:x/h}}function O2(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function ba(t,i,s,u,h){h===void 0&&(h=0);var p=ko(i.width,i.height,h),y=p.width,C=p.height;return{x:l1(t.x,y,s.width,u),y:l1(t.y,C,s.height,u)}}function l1(t,i,s,u){var h=i*u/2-s/2;return Fc(t,-h,h)}function c1(t,i){return Math.sqrt(Math.pow(t.y-i.y,2)+Math.pow(t.x-i.x,2))}function u1(t,i){return Math.atan2(i.y-t.y,i.x-t.x)*180/Math.PI}function P2(t,i,s,u,h,p,y){p===void 0&&(p=0),y===void 0&&(y=!0);var C=y?L2:k2,v=ko(i.width,i.height,p),x=ko(i.naturalWidth,i.naturalHeight,p),E={x:C(100,((v.width-s.width/h)/2-t.x/h)/v.width*100),y:C(100,((v.height-s.height/h)/2-t.y/h)/v.height*100),width:C(100,s.width/v.width*100/h),height:C(100,s.height/v.height*100/h)},T=Math.round(C(x.width,E.width*x.width/100)),N=Math.round(C(x.height,E.height*x.height/100)),O=x.width>=x.height*u,k=O?{width:Math.round(N*u),height:N}:{width:T,height:Math.round(T/u)},B=Vn(Vn({},k),{x:Math.round(C(x.width-k.width,E.x*x.width/100)),y:Math.round(C(x.height-k.height,E.y*x.height/100))});return{croppedAreaPercentages:E,croppedAreaPixels:B}}function L2(t,i){return Math.min(t,Math.max(0,i))}function k2(t,i){return i}function B2(t,i,s,u,h,p){var y=ko(i.width,i.height,s),C=Fc(u.width/y.width*(100/t.width),h,p),v={x:C*y.width/2-u.width/2-y.width*C*(t.x/100),y:C*y.height/2-u.height/2-y.height*C*(t.y/100)};return{crop:v,zoom:C}}function F2(t,i,s){var u=O2(i);return s.height>s.width?s.height/(t.height*u):s.width/(t.width*u)}function j2(t,i,s,u,h,p){s===void 0&&(s=0);var y=ko(i.naturalWidth,i.naturalHeight,s),C=Fc(F2(t,i,u),h,p),v=u.height>u.width?u.height/t.height:u.width/t.width,x={x:((y.width-t.width)/2-t.x)*v,y:((y.height-t.height)/2-t.y)*v};return{crop:x,zoom:C}}function f1(t,i){return{x:(i.x+t.x)/2,y:(i.y+t.y)/2}}function U2(t){return t*Math.PI/180}function ko(t,i,s){var u=U2(s);return{width:Math.abs(Math.cos(u)*t)+Math.abs(Math.sin(u)*i),height:Math.abs(Math.sin(u)*t)+Math.abs(Math.cos(u)*i)}}function Fc(t,i,s){return Math.min(Math.max(t,i),s)}function dc(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.filter(function(s){return typeof s=="string"&&s.length>0}).join(" ").trim()}var z2=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,V2=1,W2=3,H2=1,sg=function(t){A2(i,t);function i(){var s=t!==null&&t.apply(this,arguments)||this;return s.imageRef=P.createRef(),s.videoRef=P.createRef(),s.containerPosition={x:0,y:0},s.containerRef=null,s.styleRef=null,s.containerRect=null,s.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},s.dragStartPosition={x:0,y:0},s.dragStartCrop={x:0,y:0},s.gestureZoomStart=0,s.gestureRotationStart=0,s.isTouching=!1,s.lastPinchDistance=0,s.lastPinchRotation=0,s.rafDragTimeout=null,s.rafPinchTimeout=null,s.wheelTimer=null,s.currentDoc=typeof document<"u"?document:null,s.currentWindow=typeof window<"u"?window:null,s.resizeObserver=null,s.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},s.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!s.containerRef)){var u=!0;s.resizeObserver=new window.ResizeObserver(function(h){if(u){u=!1;return}s.computeSizes()}),s.resizeObserver.observe(s.containerRef)}},s.preventZoomSafari=function(u){return u.preventDefault()},s.cleanEvents=function(){s.currentDoc&&(s.currentDoc.removeEventListener("mousemove",s.onMouseMove),s.currentDoc.removeEventListener("mouseup",s.onDragStopped),s.currentDoc.removeEventListener("touchmove",s.onTouchMove),s.currentDoc.removeEventListener("touchend",s.onDragStopped),s.currentDoc.removeEventListener("gesturemove",s.onGestureMove),s.currentDoc.removeEventListener("gestureend",s.onGestureEnd),s.currentDoc.removeEventListener("scroll",s.onScroll))},s.clearScrollEvent=function(){s.containerRef&&s.containerRef.removeEventListener("wheel",s.onWheel),s.wheelTimer&&clearTimeout(s.wheelTimer)},s.onMediaLoad=function(){var u=s.computeSizes();u&&(s.emitCropData(),s.setInitialCrop(u)),s.props.onMediaLoaded&&s.props.onMediaLoaded(s.mediaSize)},s.setInitialCrop=function(u){if(s.props.initialCroppedAreaPercentages){var h=B2(s.props.initialCroppedAreaPercentages,s.mediaSize,s.props.rotation,u,s.props.minZoom,s.props.maxZoom),p=h.crop,y=h.zoom;s.props.onCropChange(p),s.props.onZoomChange&&s.props.onZoomChange(y)}else if(s.props.initialCroppedAreaPixels){var C=j2(s.props.initialCroppedAreaPixels,s.mediaSize,s.props.rotation,u,s.props.minZoom,s.props.maxZoom),p=C.crop,y=C.zoom;s.props.onCropChange(p),s.props.onZoomChange&&s.props.onZoomChange(y)}},s.computeSizes=function(){var u,h,p,y,C,v,x=s.imageRef.current||s.videoRef.current;if(x&&s.containerRef){s.containerRect=s.containerRef.getBoundingClientRect(),s.saveContainerPosition();var E=s.containerRect.width/s.containerRect.height,T=((u=s.imageRef.current)===null||u===void 0?void 0:u.naturalWidth)||((h=s.videoRef.current)===null||h===void 0?void 0:h.videoWidth)||0,N=((p=s.imageRef.current)===null||p===void 0?void 0:p.naturalHeight)||((y=s.videoRef.current)===null||y===void 0?void 0:y.videoHeight)||0,O=x.offsetWidth<T||x.offsetHeight<N,k=T/N,B=void 0;if(O)switch(s.state.mediaObjectFit){default:case"contain":B=E>k?{width:s.containerRect.height*k,height:s.containerRect.height}:{width:s.containerRect.width,height:s.containerRect.width/k};break;case"horizontal-cover":B={width:s.containerRect.width,height:s.containerRect.width/k};break;case"vertical-cover":B={width:s.containerRect.height*k,height:s.containerRect.height};break}else B={width:x.offsetWidth,height:x.offsetHeight};s.mediaSize=Vn(Vn({},B),{naturalWidth:T,naturalHeight:N}),s.props.setMediaSize&&s.props.setMediaSize(s.mediaSize);var F=s.props.cropSize?s.props.cropSize:D2(s.mediaSize.width,s.mediaSize.height,s.containerRect.width,s.containerRect.height,s.props.aspect,s.props.rotation);return(((C=s.state.cropSize)===null||C===void 0?void 0:C.height)!==F.height||((v=s.state.cropSize)===null||v===void 0?void 0:v.width)!==F.width)&&s.props.onCropSizeChange&&s.props.onCropSizeChange(F),s.setState({cropSize:F},s.recomputeCropPosition),s.props.setCropSize&&s.props.setCropSize(F),F}},s.saveContainerPosition=function(){if(s.containerRef){var u=s.containerRef.getBoundingClientRect();s.containerPosition={x:u.left,y:u.top}}},s.onMouseDown=function(u){s.currentDoc&&(u.preventDefault(),s.currentDoc.addEventListener("mousemove",s.onMouseMove),s.currentDoc.addEventListener("mouseup",s.onDragStopped),s.saveContainerPosition(),s.onDragStart(i.getMousePoint(u)))},s.onMouseMove=function(u){return s.onDrag(i.getMousePoint(u))},s.onScroll=function(u){s.currentDoc&&(u.preventDefault(),s.saveContainerPosition())},s.onTouchStart=function(u){s.currentDoc&&(s.isTouching=!0,!(s.props.onTouchRequest&&!s.props.onTouchRequest(u))&&(s.currentDoc.addEventListener("touchmove",s.onTouchMove,{passive:!1}),s.currentDoc.addEventListener("touchend",s.onDragStopped),s.saveContainerPosition(),u.touches.length===2?s.onPinchStart(u):u.touches.length===1&&s.onDragStart(i.getTouchPoint(u.touches[0]))))},s.onTouchMove=function(u){u.preventDefault(),u.touches.length===2?s.onPinchMove(u):u.touches.length===1&&s.onDrag(i.getTouchPoint(u.touches[0]))},s.onGestureStart=function(u){s.currentDoc&&(u.preventDefault(),s.currentDoc.addEventListener("gesturechange",s.onGestureMove),s.currentDoc.addEventListener("gestureend",s.onGestureEnd),s.gestureZoomStart=s.props.zoom,s.gestureRotationStart=s.props.rotation)},s.onGestureMove=function(u){if(u.preventDefault(),!s.isTouching){var h=i.getMousePoint(u),p=s.gestureZoomStart-1+u.scale;if(s.setNewZoom(p,h,{shouldUpdatePosition:!0}),s.props.onRotationChange){var y=s.gestureRotationStart+u.rotation;s.props.onRotationChange(y)}}},s.onGestureEnd=function(u){s.cleanEvents()},s.onDragStart=function(u){var h,p,y=u.x,C=u.y;s.dragStartPosition={x:y,y:C},s.dragStartCrop=Vn({},s.props.crop),(p=(h=s.props).onInteractionStart)===null||p===void 0||p.call(h)},s.onDrag=function(u){var h=u.x,p=u.y;s.currentWindow&&(s.rafDragTimeout&&s.currentWindow.cancelAnimationFrame(s.rafDragTimeout),s.rafDragTimeout=s.currentWindow.requestAnimationFrame(function(){if(s.state.cropSize&&!(h===void 0||p===void 0)){var y=h-s.dragStartPosition.x,C=p-s.dragStartPosition.y,v={x:s.dragStartCrop.x+y,y:s.dragStartCrop.y+C},x=s.props.restrictPosition?ba(v,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):v;s.props.onCropChange(x)}}))},s.onDragStopped=function(){var u,h;s.isTouching=!1,s.cleanEvents(),s.emitCropData(),(h=(u=s.props).onInteractionEnd)===null||h===void 0||h.call(u)},s.onWheel=function(u){if(s.currentWindow&&!(s.props.onWheelRequest&&!s.props.onWheelRequest(u))){u.preventDefault();var h=i.getMousePoint(u),p=_2(u).pixelY,y=s.props.zoom-p*s.props.zoomSpeed/200;s.setNewZoom(y,h,{shouldUpdatePosition:!0}),s.state.hasWheelJustStarted||s.setState({hasWheelJustStarted:!0},function(){var C,v;return(v=(C=s.props).onInteractionStart)===null||v===void 0?void 0:v.call(C)}),s.wheelTimer&&clearTimeout(s.wheelTimer),s.wheelTimer=s.currentWindow.setTimeout(function(){return s.setState({hasWheelJustStarted:!1},function(){var C,v;return(v=(C=s.props).onInteractionEnd)===null||v===void 0?void 0:v.call(C)})},250)}},s.getPointOnContainer=function(u,h){var p=u.x,y=u.y;if(!s.containerRect)throw new Error("The Cropper is not mounted");return{x:s.containerRect.width/2-(p-h.x),y:s.containerRect.height/2-(y-h.y)}},s.getPointOnMedia=function(u){var h=u.x,p=u.y,y=s.props,C=y.crop,v=y.zoom;return{x:(h+C.x)/v,y:(p+C.y)/v}},s.setNewZoom=function(u,h,p){var y=p===void 0?{}:p,C=y.shouldUpdatePosition,v=C===void 0?!0:C;if(!(!s.state.cropSize||!s.props.onZoomChange)){var x=Fc(u,s.props.minZoom,s.props.maxZoom);if(v){var E=s.getPointOnContainer(h,s.containerPosition),T=s.getPointOnMedia(E),N={x:T.x*x-E.x,y:T.y*x-E.y},O=s.props.restrictPosition?ba(N,s.mediaSize,s.state.cropSize,x,s.props.rotation):N;s.props.onCropChange(O)}s.props.onZoomChange(x)}},s.getCropData=function(){if(!s.state.cropSize)return null;var u=s.props.restrictPosition?ba(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;return P2(u,s.mediaSize,s.state.cropSize,s.getAspect(),s.props.zoom,s.props.rotation,s.props.restrictPosition)},s.emitCropData=function(){var u=s.getCropData();if(u){var h=u.croppedAreaPercentages,p=u.croppedAreaPixels;s.props.onCropComplete&&s.props.onCropComplete(h,p),s.props.onCropAreaChange&&s.props.onCropAreaChange(h,p)}},s.emitCropAreaChange=function(){var u=s.getCropData();if(u){var h=u.croppedAreaPercentages,p=u.croppedAreaPixels;s.props.onCropAreaChange&&s.props.onCropAreaChange(h,p)}},s.recomputeCropPosition=function(){if(s.state.cropSize){var u=s.props.restrictPosition?ba(s.props.crop,s.mediaSize,s.state.cropSize,s.props.zoom,s.props.rotation):s.props.crop;s.props.onCropChange(u),s.emitCropData()}},s.onKeyDown=function(u){var h=s.props,p=h.crop,y=h.onCropChange,C=h.keyboardStep,v=h.zoom,x=h.rotation,E=C;if(s.state.cropSize){u.shiftKey&&(E*=.2);var T=Vn({},p);switch(u.key){case"ArrowUp":T.y-=E,u.preventDefault();break;case"ArrowDown":T.y+=E,u.preventDefault();break;case"ArrowLeft":T.x-=E,u.preventDefault();break;case"ArrowRight":T.x+=E,u.preventDefault();break;default:return}s.props.restrictPosition&&(T=ba(T,s.mediaSize,s.state.cropSize,v,x)),y(T)}},s}return i.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=z2,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef))},i.prototype.componentWillUnmount=function(){var s,u;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(s=this.resizeObserver)===null||s===void 0||s.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((u=this.styleRef.parentNode)===null||u===void 0||u.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},i.prototype.componentDidUpdate=function(s){var u,h,p,y,C,v,x,E,T;s.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):s.aspect!==this.props.aspect?this.computeSizes():s.objectFit!==this.props.objectFit?this.computeSizes():s.zoom!==this.props.zoom?this.recomputeCropPosition():((u=s.cropSize)===null||u===void 0?void 0:u.height)!==((h=this.props.cropSize)===null||h===void 0?void 0:h.height)||((p=s.cropSize)===null||p===void 0?void 0:p.width)!==((y=this.props.cropSize)===null||y===void 0?void 0:y.width)?this.computeSizes():(((C=s.crop)===null||C===void 0?void 0:C.x)!==((v=this.props.crop)===null||v===void 0?void 0:v.x)||((x=s.crop)===null||x===void 0?void 0:x.y)!==((E=this.props.crop)===null||E===void 0?void 0:E.y))&&this.emitCropAreaChange(),s.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),s.video!==this.props.video&&((T=this.videoRef.current)===null||T===void 0||T.load());var N=this.getObjectFit();N!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:N},this.computeSizes)},i.prototype.getAspect=function(){var s=this.props,u=s.cropSize,h=s.aspect;return u?u.width/u.height:h},i.prototype.getObjectFit=function(){var s,u,h,p;if(this.props.objectFit==="cover"){var y=this.imageRef.current||this.videoRef.current;if(y&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var C=this.containerRect.width/this.containerRect.height,v=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalWidth)||((u=this.videoRef.current)===null||u===void 0?void 0:u.videoWidth)||0,x=((h=this.imageRef.current)===null||h===void 0?void 0:h.naturalHeight)||((p=this.videoRef.current)===null||p===void 0?void 0:p.videoHeight)||0,E=v/x;return E<C?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},i.prototype.onPinchStart=function(s){var u=i.getTouchPoint(s.touches[0]),h=i.getTouchPoint(s.touches[1]);this.lastPinchDistance=c1(u,h),this.lastPinchRotation=u1(u,h),this.onDragStart(f1(u,h))},i.prototype.onPinchMove=function(s){var u=this;if(!(!this.currentDoc||!this.currentWindow)){var h=i.getTouchPoint(s.touches[0]),p=i.getTouchPoint(s.touches[1]),y=f1(h,p);this.onDrag(y),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var C=c1(h,p),v=u.props.zoom*(C/u.lastPinchDistance);u.setNewZoom(v,y,{shouldUpdatePosition:!1}),u.lastPinchDistance=C;var x=u1(h,p),E=u.props.rotation+(x-u.lastPinchRotation);u.props.onRotationChange&&u.props.onRotationChange(E),u.lastPinchRotation=x})}},i.prototype.render=function(){var s=this,u,h=this.props,p=h.image,y=h.video,C=h.mediaProps,v=h.transform,x=h.crop,E=x.x,T=x.y,N=h.rotation,O=h.zoom,k=h.cropShape,B=h.showGrid,F=h.style,z=F.containerStyle,H=F.cropAreaStyle,V=F.mediaStyle,ee=h.classes,se=ee.containerClassName,ue=ee.cropAreaClassName,J=ee.mediaClassName,ce=(u=this.state.mediaObjectFit)!==null&&u!==void 0?u:this.getObjectFit();return P.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(Me){return s.containerRef=Me},"data-testid":"container",style:z,className:dc("reactEasyCrop_Container",se)},p?P.createElement("img",Vn({alt:"",className:dc("reactEasyCrop_Image",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",J)},C,{src:p,ref:this.imageRef,style:Vn(Vn({},V),{transform:v||"translate(".concat(E,"px, ").concat(T,"px) rotate(").concat(N,"deg) scale(").concat(O,")")}),onLoad:this.onMediaLoad})):y&&P.createElement("video",Vn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:dc("reactEasyCrop_Video",ce==="contain"&&"reactEasyCrop_Contain",ce==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",ce==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",J)},C,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Vn(Vn({},V),{transform:v||"translate(".concat(E,"px, ").concat(T,"px) rotate(").concat(N,"deg) scale(").concat(O,")")}),controls:!1}),(Array.isArray(y)?y:[{src:y}]).map(function(q){return P.createElement("source",Vn({key:q.src},q))})),this.state.cropSize&&P.createElement("div",{style:Vn(Vn({},H),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,"data-testid":"cropper",className:dc("reactEasyCrop_CropArea",k==="round"&&"reactEasyCrop_CropAreaRound",B&&"reactEasyCrop_CropAreaGrid",ue)}))},i.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:W2,minZoom:V2,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:H2},i.getMousePoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},i.getTouchPoint=function(s){return{x:Number(s.clientX),y:Number(s.clientY)}},i}(P.Component),Na={},d1;function G2(){return d1||(d1=1,Na.createCanvas=function(t,i){return Object.assign(document.createElement("canvas"),{width:t,height:i})},Na.createImageData=function(t,i,s){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,i);default:return new ImageData(t,i,s)}},Na.loadImage=function(t,i){return new Promise(function(s,u){const h=Object.assign(document.createElement("img"),i);function p(){h.onload=null,h.onerror=null}h.onload=function(){p(),s(h)},h.onerror=function(){p(),u(new Error('Failed to load the image "'+t+'"'))},h.src=t})}),Na}G2();async function og(t,i){return console.log("Image source being cropped:",t),new Promise((s,u)=>{const h=new Image;h.onload=()=>{const p=document.createElement("canvas"),y=p.getContext("2d");p.width=i.width,p.height=i.height,y.drawImage(h,i.x,i.y,i.width,i.height,0,0,i.width,i.height);try{const C=p.toDataURL("image/jpeg");s(C)}catch{u(new Error("Error converting canvas to base64"))}},h.onerror=p=>u(new Error(`Image load error: ${p.message}`)),h.src=t})}const Y2=({onSubmit:t,onClose:i,existingProfile:s})=>{const{user:u,userProfile:h,checkAuth:p}=P.useContext(xi),[y,C]=P.useState({name:(h==null?void 0:h.name)||"",image:null,imagePreview:h!=null&&h.image_data?`data:image/jpeg;base64,${h.image_data}`:"/assets/fakeprofile.png",croppedImage:null}),[v,x]=P.useState({x:0,y:0}),[E,T]=P.useState(1),[N,O]=P.useState(null),[k,B]=P.useState(!1),[F,z]=P.useState(!1),H=se=>{const ue=se.target.files[0];if(ue){const J=new FileReader;J.onload=ce=>{C(q=>({...q,image:ue,imagePreview:ce.target.result})),B(!0)},J.readAsDataURL(ue)}},V=(se,ue)=>{console.log("Cropped Area Pixels:",ue),O(ue)};async function ee(se){se.preventDefault();let ue;if(y.croppedImage)ue=y.croppedImage.split(",")[1];else if(y.image instanceof File){const q=await y.image.arrayBuffer();ue=btoa(new Uint8Array(q).reduce((Me,Pe)=>Me+String.fromCharCode(Pe),""))}else if(h!=null&&h.image_data)ue=h.image_data;else{console.error("No valid image provided");return}const J={name:y.name,image_data:ue};console.log("Image data (first 100 chars):",ue.substring(0,100));const ce=localStorage.getItem("access_token");try{const q=await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify(J)});if(!q.ok)throw new Error("Failed to update profile");const Me=await q.json();await p(),console.log("Profile updated successfully:",Me),i()}catch(q){console.error("Error updating profile:",q)}}return R.jsx("div",{className:"profile-creation-overlay",style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:R.jsxs("div",{className:"profile-creation-modal",style:{width:"70%",maxWidth:"500px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"2rem",boxShadow:"0 10px 30px rgba(20,77,255,0.15)",position:"relative",border:"1px solid rgba(20,77,255,0.1)"},children:[R.jsx("button",{onClick:i,style:{position:"absolute",top:"1.2rem",right:"1.2rem",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"#144dff",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:"×"}),R.jsx("h2",{style:{fontSize:"clamp(1.8rem, 6vw, 2.5rem)",color:"#144dff",textAlign:"center",marginBottom:"2rem",fontWeight:"600"},children:"Your Profile"}),R.jsxs("form",{onSubmit:ee,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[R.jsx("label",{style:{color:"#144dff",fontWeight:"500",fontSize:"1rem"},children:"Your Name"}),R.jsx("input",{type:"text",value:y.name,onChange:se=>C({...y,name:se.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #e0e0e0",fontSize:"0.9rem",transition:"all 0.3s ease",backgroundColor:"rgba(255,255,255,0.9)","&:focus":{borderColor:"#144dff",outline:"none",boxShadow:"0 0 0 3px rgba(20,77,255,0.1)"}}})]}),!k&&R.jsx("div",{style:{width:"250px",height:"250px",margin:"0 auto",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)",transition:"transform 0.3s ease","&:hover":{transform:"scale(1.02)"}},children:R.jsx("img",{src:y.croppedImage?y.croppedImage:y.imagePreview?y.imagePreview:h!=null&&h.image_data?`data:image/jpeg;base64,${h.image_data}`:"/assets/fakeprofile.png",alt:"Profile preview",style:{width:"100%",height:"100%",objectFit:"cover"}})}),R.jsxs("div",{style:{textAlign:"center"},children:[R.jsx("input",{type:"file",id:"image-upload",accept:"image/*",onChange:H,style:{display:"none"}}),R.jsx("label",{htmlFor:"image-upload",style:{padding:"0.8rem 1.2rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",borderRadius:"25px",cursor:"pointer",display:"inline-block",fontSize:"0.9rem",fontWeight:"600",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Upload New Image"})]}),k&&R.jsxs("div",{style:{width:"100%",maxWidth:"300px",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",gap:"1.2rem"},children:[R.jsx("div",{style:{position:"relative",width:"250px",height:"250px",borderRadius:"20%",overflow:"hidden",border:"7px solid #144dff",boxShadow:"0 8px 25px rgba(20,77,255,0.2)"},children:R.jsx(sg,{image:y.imagePreview,crop:v,zoom:E,aspect:1,onCropComplete:V,onCropChange:x,onZoomChange:T})}),R.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[R.jsx("button",{type:"button",onClick:()=>{B(!1),y.croppedImage||C(se=>({...se,imagePreview:null}))},style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"2px solid #144dff",background:"white",color:"#144dff",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease","&:hover":{background:"rgba(20,77,255,0.1)"}},children:"Cancel"}),R.jsx("button",{type:"button",onClick:async()=>{try{const se=await og(y.imagePreview,N);C(ue=>({...ue,croppedImage:se,imagePreview:se})),B(!1),z(!0),setTimeout(()=>z(!1),1e4)}catch(se){console.error("Error cropping image:",se)}},className:`save-profile-button ${F?"glow-bounce":""}`,style:{padding:"0.8rem 1.2rem",borderRadius:"25px",border:"none",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(20,77,255,0.2)","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Cropped Image"})]})]}),R.jsx("button",{type:"submit",className:`save-profile-button ${F?"glow-bounce":""}`,style:{padding:"1rem",background:"linear-gradient(45deg, #144dff, #2979ff)",color:"white",border:"none",borderRadius:"25px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 15px rgba(20,77,255,0.2)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(20,77,255,0.3)"}},children:"Save Profile"})]})]})})};var Ra={},h1;function X2(){if(h1)return Ra;h1=1,Object.defineProperty(Ra,"__esModule",{value:!0}),Ra.parse=y,Ra.serialize=x;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,u=/^[\u0020-\u003A\u003D-\u007E]*$/,h=Object.prototype.toString,p=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function y(N,O){const k=new p,B=N.length;if(B<2)return k;const F=(O==null?void 0:O.decode)||E;let z=0;do{const H=N.indexOf("=",z);if(H===-1)break;const V=N.indexOf(";",z),ee=V===-1?B:V;if(H>ee){z=N.lastIndexOf(";",H-1)+1;continue}const se=C(N,z,H),ue=v(N,H,se),J=N.slice(se,ue);if(k[J]===void 0){let ce=C(N,H+1,ee),q=v(N,ee,ce);const Me=F(N.slice(ce,q));k[J]=Me}z=ee+1}while(z<B);return k}function C(N,O,k){do{const B=N.charCodeAt(O);if(B!==32&&B!==9)return O}while(++O<k);return k}function v(N,O,k){for(;O>k;){const B=N.charCodeAt(--O);if(B!==32&&B!==9)return O+1}return k}function x(N,O,k){const B=(k==null?void 0:k.encode)||encodeURIComponent;if(!t.test(N))throw new TypeError(`argument name is invalid: ${N}`);const F=B(O);if(!i.test(F))throw new TypeError(`argument val is invalid: ${O}`);let z=N+"="+F;if(!k)return z;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);z+="; Max-Age="+k.maxAge}if(k.domain){if(!s.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);z+="; Domain="+k.domain}if(k.path){if(!u.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);z+="; Path="+k.path}if(k.expires){if(!T(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);z+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(z+="; HttpOnly"),k.secure&&(z+="; Secure"),k.partitioned&&(z+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return z}function E(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function T(N){return h.call(N)==="[object Date]"}return Ra}X2();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var p1="popstate";function Z2(t={}){function i(u,h){let{pathname:p,search:y,hash:C}=u.location;return jf("",{pathname:p,search:y,hash:C},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function s(u,h){return typeof h=="string"?h:Ua(h)}return Q2(i,s,null,t)}function sn(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}function mi(t,i){if(!t){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function K2(){return Math.random().toString(36).substring(2,10)}function g1(t,i){return{usr:t.state,key:t.key,idx:i}}function jf(t,i,s=null,u){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof i=="string"?jo(i):i,state:s,key:i&&i.key||u||K2()}}function Ua({pathname:t="/",search:i="",hash:s=""}){return i&&i!=="?"&&(t+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function jo(t){let i={};if(t){let s=t.indexOf("#");s>=0&&(i.hash=t.substring(s),t=t.substring(0,s));let u=t.indexOf("?");u>=0&&(i.search=t.substring(u),t=t.substring(0,u)),t&&(i.pathname=t)}return i}function Q2(t,i,s,u={}){let{window:h=document.defaultView,v5Compat:p=!1}=u,y=h.history,C="POP",v=null,x=E();x==null&&(x=0,y.replaceState({...y.state,idx:x},""));function E(){return(y.state||{idx:null}).idx}function T(){C="POP";let F=E(),z=F==null?null:F-x;x=F,v&&v({action:C,location:B.location,delta:z})}function N(F,z){C="PUSH";let H=jf(B.location,F,z);x=E()+1;let V=g1(H,x),ee=B.createHref(H);try{y.pushState(V,"",ee)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;h.location.assign(ee)}p&&v&&v({action:C,location:B.location,delta:1})}function O(F,z){C="REPLACE";let H=jf(B.location,F,z);x=E();let V=g1(H,x),ee=B.createHref(H);y.replaceState(V,"",ee),p&&v&&v({action:C,location:B.location,delta:0})}function k(F){let z=h.location.origin!=="null"?h.location.origin:h.location.href,H=typeof F=="string"?F:Ua(F);return H=H.replace(/ $/,"%20"),sn(z,`No window.location.(origin|href) available to create URL for href: ${H}`),new URL(H,z)}let B={get action(){return C},get location(){return t(h,y)},listen(F){if(v)throw new Error("A history only accepts one active listener");return h.addEventListener(p1,T),v=F,()=>{h.removeEventListener(p1,T),v=null}},createHref(F){return i(h,F)},createURL:k,encodeLocation(F){let z=k(F);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:N,replace:O,go(F){return y.go(F)}};return B}function ag(t,i,s="/"){return $2(t,i,s,!1)}function $2(t,i,s,u){let h=typeof i=="string"?jo(i):i,p=ws(h.pathname||"/",s);if(p==null)return null;let y=lg(t);q2(y);let C=null;for(let v=0;C==null&&v<y.length;++v){let x=cy(p);C=ay(y[v],x,u)}return C}function lg(t,i=[],s=[],u=""){let h=(p,y,C)=>{let v={relativePath:C===void 0?p.path||"":C,caseSensitive:p.caseSensitive===!0,childrenIndex:y,route:p};v.relativePath.startsWith("/")&&(sn(v.relativePath.startsWith(u),`Absolute route path "${v.relativePath}" nested under path "${u}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(u.length));let x=zi([u,v.relativePath]),E=s.concat(v);p.children&&p.children.length>0&&(sn(p.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),lg(p.children,i,E,x)),!(p.path==null&&!p.index)&&i.push({path:x,score:sy(x,p.index),routesMeta:E})};return t.forEach((p,y)=>{var C;if(p.path===""||!((C=p.path)!=null&&C.includes("?")))h(p,y);else for(let v of cg(p.path))h(p,y,v)}),i}function cg(t){let i=t.split("/");if(i.length===0)return[];let[s,...u]=i,h=s.endsWith("?"),p=s.replace(/\?$/,"");if(u.length===0)return h?[p,""]:[p];let y=cg(u.join("/")),C=[];return C.push(...y.map(v=>v===""?p:[p,v].join("/"))),h&&C.push(...y),C.map(v=>t.startsWith("/")&&v===""?"/":v)}function q2(t){t.sort((i,s)=>i.score!==s.score?s.score-i.score:oy(i.routesMeta.map(u=>u.childrenIndex),s.routesMeta.map(u=>u.childrenIndex)))}var J2=/^:[\w-]+$/,ey=3,ty=2,ny=1,ry=10,iy=-2,m1=t=>t==="*";function sy(t,i){let s=t.split("/"),u=s.length;return s.some(m1)&&(u+=iy),i&&(u+=ty),s.filter(h=>!m1(h)).reduce((h,p)=>h+(J2.test(p)?ey:p===""?ny:ry),u)}function oy(t,i){return t.length===i.length&&t.slice(0,-1).every((u,h)=>u===i[h])?t[t.length-1]-i[i.length-1]:0}function ay(t,i,s=!1){let{routesMeta:u}=t,h={},p="/",y=[];for(let C=0;C<u.length;++C){let v=u[C],x=C===u.length-1,E=p==="/"?i:i.slice(p.length)||"/",T=Ic({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},E),N=v.route;if(!T&&x&&s&&!u[u.length-1].route.index&&(T=Ic({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},E)),!T)return null;Object.assign(h,T.params),y.push({params:h,pathname:zi([p,T.pathname]),pathnameBase:hy(zi([p,T.pathnameBase])),route:N}),T.pathnameBase!=="/"&&(p=zi([p,T.pathnameBase]))}return y}function Ic(t,i){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,u]=ly(t.path,t.caseSensitive,t.end),h=i.match(s);if(!h)return null;let p=h[0],y=p.replace(/(.)\/+$/,"$1"),C=h.slice(1);return{params:u.reduce((x,{paramName:E,isOptional:T},N)=>{if(E==="*"){let k=C[N]||"";y=p.slice(0,p.length-k.length).replace(/(.)\/+$/,"$1")}const O=C[N];return T&&!O?x[E]=void 0:x[E]=(O||"").replace(/%2F/g,"/"),x},{}),pathname:p,pathnameBase:y,pattern:t}}function ly(t,i=!1,s=!0){mi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let u=[],h="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,C,v)=>(u.push({paramName:C,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(u.push({paramName:"*"}),h+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?h+="\\/*$":t!==""&&t!=="/"&&(h+="(?:(?=\\/|$))"),[new RegExp(h,i?void 0:"i"),u]}function cy(t){try{return t.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return mi(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),t}}function ws(t,i){if(i==="/")return t;if(!t.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,u=t.charAt(s);return u&&u!=="/"?null:t.slice(s)||"/"}function uy(t,i="/"){let{pathname:s,search:u="",hash:h=""}=typeof t=="string"?jo(t):t;return{pathname:s?s.startsWith("/")?s:fy(s,i):i,search:py(u),hash:gy(h)}}function fy(t,i){let s=i.replace(/\/+$/,"").split("/");return t.split("/").forEach(h=>{h===".."?s.length>1&&s.pop():h!=="."&&s.push(h)}),s.length>1?s.join("/"):"/"}function Af(t,i,s,u){return`Cannot include a '${t}' character in a manually specified \`to.${i}\` field [${JSON.stringify(u)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dy(t){return t.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function ug(t){let i=dy(t);return i.map((s,u)=>u===i.length-1?s.pathname:s.pathnameBase)}function fg(t,i,s,u=!1){let h;typeof t=="string"?h=jo(t):(h={...t},sn(!h.pathname||!h.pathname.includes("?"),Af("?","pathname","search",h)),sn(!h.pathname||!h.pathname.includes("#"),Af("#","pathname","hash",h)),sn(!h.search||!h.search.includes("#"),Af("#","search","hash",h)));let p=t===""||h.pathname==="",y=p?"/":h.pathname,C;if(y==null)C=s;else{let T=i.length-1;if(!u&&y.startsWith("..")){let N=y.split("/");for(;N[0]==="..";)N.shift(),T-=1;h.pathname=N.join("/")}C=T>=0?i[T]:"/"}let v=uy(h,C),x=y&&y!=="/"&&y.endsWith("/"),E=(p||y===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(x||E)&&(v.pathname+="/"),v}var zi=t=>t.join("/").replace(/\/\/+/g,"/"),hy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),py=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function my(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var dg=["POST","PUT","PATCH","DELETE"];new Set(dg);var xy=["GET",...dg];new Set(xy);var Uo=P.createContext(null);Uo.displayName="DataRouter";var jc=P.createContext(null);jc.displayName="DataRouterState";var hg=P.createContext({isTransitioning:!1});hg.displayName="ViewTransition";var yy=P.createContext(new Map);yy.displayName="Fetchers";var wy=P.createContext(null);wy.displayName="Await";var yi=P.createContext(null);yi.displayName="Navigation";var Qa=P.createContext(null);Qa.displayName="Location";var wi=P.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var dd=P.createContext(null);dd.displayName="RouteError";function vy(t,{relative:i}={}){sn($a(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:u}=P.useContext(yi),{hash:h,pathname:p,search:y}=qa(t,{relative:i}),C=p;return s!=="/"&&(C=p==="/"?s:zi([s,p])),u.createHref({pathname:C,search:y,hash:h})}function $a(){return P.useContext(Qa)!=null}function vi(){return sn($a(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Qa).location}var pg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gg(t){P.useContext(yi).static||P.useLayoutEffect(t)}function ni(){let{isDataRoute:t}=P.useContext(wi);return t?Py():Cy()}function Cy(){sn($a(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(Uo),{basename:i,navigator:s}=P.useContext(yi),{matches:u}=P.useContext(wi),{pathname:h}=vi(),p=JSON.stringify(ug(u)),y=P.useRef(!1);return gg(()=>{y.current=!0}),P.useCallback((v,x={})=>{if(mi(y.current,pg),!y.current)return;if(typeof v=="number"){s.go(v);return}let E=fg(v,JSON.parse(p),h,x.relative==="path");t==null&&i!=="/"&&(E.pathname=E.pathname==="/"?i:zi([i,E.pathname])),(x.replace?s.replace:s.push)(E,x.state,x)},[i,s,p,h,t])}P.createContext(null);function Ey(){let{matches:t}=P.useContext(wi),i=t[t.length-1];return i?i.params:{}}function qa(t,{relative:i}={}){let{matches:s}=P.useContext(wi),{pathname:u}=vi(),h=JSON.stringify(ug(s));return P.useMemo(()=>fg(t,JSON.parse(h),u,i==="path"),[t,h,u,i])}function Sy(t,i){return mg(t,i)}function mg(t,i,s,u){var z;sn($a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=P.useContext(yi),{matches:p}=P.useContext(wi),y=p[p.length-1],C=y?y.params:{},v=y?y.pathname:"/",x=y?y.pathnameBase:"/",E=y&&y.route;{let H=E&&E.path||"";xg(v,!E||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=vi(),N;if(i){let H=typeof i=="string"?jo(i):i;sn(x==="/"||((z=H.pathname)==null?void 0:z.startsWith(x)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${H.pathname}" was given in the \`location\` prop.`),N=H}else N=T;let O=N.pathname||"/",k=O;if(x!=="/"){let H=x.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=ag(t,{pathname:k});mi(E||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),mi(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=Ny(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},C,H.params),pathname:zi([x,h.encodeLocation?h.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?x:zi([x,h.encodeLocation?h.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),p,s,u);return i&&F?P.createElement(Qa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},F):F}function Ay(){let t=Oy(),i=my(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,u="rgba(200,200,200, 0.5)",h={padding:"0.5rem",backgroundColor:u},p={padding:"2px 4px",backgroundColor:u},y=null;return console.error("Error handled by React Router default ErrorBoundary:",t),y=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:p},"ErrorBoundary")," or"," ",P.createElement("code",{style:p},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},i),s?P.createElement("pre",{style:h},s):null,y)}var Ty=P.createElement(Ay,null),Iy=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,i){return i.location!==t.location||i.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:i.error,location:i.location,revalidation:t.revalidation||i.revalidation}}componentDidCatch(t,i){console.error("React Router caught the following error during render",t,i)}render(){return this.state.error!==void 0?P.createElement(wi.Provider,{value:this.props.routeContext},P.createElement(dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function by({routeContext:t,match:i,children:s}){let u=P.useContext(Uo);return u&&u.static&&u.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=i.route.id),P.createElement(wi.Provider,{value:t},s)}function Ny(t,i=[],s=null,u=null){if(t==null){if(!s)return null;if(s.errors)t=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let h=t,p=s==null?void 0:s.errors;if(p!=null){let v=h.findIndex(x=>x.route.id&&(p==null?void 0:p[x.route.id])!==void 0);sn(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(p).join(",")}`),h=h.slice(0,Math.min(h.length,v+1))}let y=!1,C=-1;if(s)for(let v=0;v<h.length;v++){let x=h[v];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(C=v),x.route.id){let{loaderData:E,errors:T}=s,N=x.route.loader&&!E.hasOwnProperty(x.route.id)&&(!T||T[x.route.id]===void 0);if(x.route.lazy||N){y=!0,C>=0?h=h.slice(0,C+1):h=[h[0]];break}}}return h.reduceRight((v,x,E)=>{let T,N=!1,O=null,k=null;s&&(T=p&&x.route.id?p[x.route.id]:void 0,O=x.route.errorElement||Ty,y&&(C<0&&E===0?(xg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):C===E&&(N=!0,k=x.route.hydrateFallbackElement||null)));let B=i.concat(h.slice(0,E+1)),F=()=>{let z;return T?z=O:N?z=k:x.route.Component?z=P.createElement(x.route.Component,null):x.route.element?z=x.route.element:z=v,P.createElement(by,{match:x,routeContext:{outlet:v,matches:B,isDataRoute:s!=null},children:z})};return s&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?P.createElement(Iy,{location:s.location,revalidation:s.revalidation,component:O,error:T,children:F(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):F()},null)}function hd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ry(t){let i=P.useContext(Uo);return sn(i,hd(t)),i}function My(t){let i=P.useContext(jc);return sn(i,hd(t)),i}function _y(t){let i=P.useContext(wi);return sn(i,hd(t)),i}function pd(t){let i=_y(t),s=i.matches[i.matches.length-1];return sn(s.route.id,`${t} can only be used on routes that contain a unique "id"`),s.route.id}function Dy(){return pd("useRouteId")}function Oy(){var u;let t=P.useContext(dd),i=My("useRouteError"),s=pd("useRouteError");return t!==void 0?t:(u=i.errors)==null?void 0:u[s]}function Py(){let{router:t}=Ry("useNavigate"),i=pd("useNavigate"),s=P.useRef(!1);return gg(()=>{s.current=!0}),P.useCallback(async(h,p={})=>{mi(s.current,pg),s.current&&(typeof h=="number"?t.navigate(h):await t.navigate(h,{fromRouteId:i,...p}))},[t,i])}var x1={};function xg(t,i,s){!i&&!x1[t]&&(x1[t]=!0,mi(!1,s))}P.memo(Ly);function Ly({routes:t,future:i,state:s}){return mg(t,void 0,s,i)}function ji(t){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ky({basename:t="/",children:i=null,location:s,navigationType:u="POP",navigator:h,static:p=!1}){sn(!$a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let y=t.replace(/^\/*/,"/"),C=P.useMemo(()=>({basename:y,navigator:h,static:p,future:{}}),[y,h,p]);typeof s=="string"&&(s=jo(s));let{pathname:v="/",search:x="",hash:E="",state:T=null,key:N="default"}=s,O=P.useMemo(()=>{let k=ws(v,y);return k==null?null:{location:{pathname:k,search:x,hash:E,state:T,key:N},navigationType:u}},[y,v,x,E,T,N,u]);return mi(O!=null,`<Router basename="${y}"> is not able to match the URL "${v}${x}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:P.createElement(yi.Provider,{value:C},P.createElement(Qa.Provider,{children:i,value:O}))}function By({children:t,location:i}){return Sy(Uf(t),i)}function Uf(t,i=[]){let s=[];return P.Children.forEach(t,(u,h)=>{if(!P.isValidElement(u))return;let p=[...i,h];if(u.type===P.Fragment){s.push.apply(s,Uf(u.props.children,p));return}sn(u.type===ji,`[${typeof u.type=="string"?u.type:u.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!u.props.index||!u.props.children,"An index route cannot have child routes.");let y={id:u.props.id||p.join("-"),caseSensitive:u.props.caseSensitive,element:u.props.element,Component:u.props.Component,index:u.props.index,path:u.props.path,loader:u.props.loader,action:u.props.action,hydrateFallbackElement:u.props.hydrateFallbackElement,HydrateFallback:u.props.HydrateFallback,errorElement:u.props.errorElement,ErrorBoundary:u.props.ErrorBoundary,hasErrorBoundary:u.props.hasErrorBoundary===!0||u.props.ErrorBoundary!=null||u.props.errorElement!=null,shouldRevalidate:u.props.shouldRevalidate,handle:u.props.handle,lazy:u.props.lazy};u.props.children&&(y.children=Uf(u.props.children,p)),s.push(y)}),s}var vc="get",Cc="application/x-www-form-urlencoded";function Uc(t){return t!=null&&typeof t.tagName=="string"}function Fy(t){return Uc(t)&&t.tagName.toLowerCase()==="button"}function jy(t){return Uc(t)&&t.tagName.toLowerCase()==="form"}function Uy(t){return Uc(t)&&t.tagName.toLowerCase()==="input"}function zy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vy(t,i){return t.button===0&&(!i||i==="_self")&&!zy(t)}var hc=null;function Wy(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var Hy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tf(t){return t!=null&&!Hy.has(t)?(mi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):t}function Gy(t,i){let s,u,h,p,y;if(jy(t)){let C=t.getAttribute("action");u=C?ws(C,i):null,s=t.getAttribute("method")||vc,h=Tf(t.getAttribute("enctype"))||Cc,p=new FormData(t)}else if(Fy(t)||Uy(t)&&(t.type==="submit"||t.type==="image")){let C=t.form;if(C==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=t.getAttribute("formaction")||C.getAttribute("action");if(u=v?ws(v,i):null,s=t.getAttribute("formmethod")||C.getAttribute("method")||vc,h=Tf(t.getAttribute("formenctype"))||Tf(C.getAttribute("enctype"))||Cc,p=new FormData(C,t),!Wy()){let{name:x,type:E,value:T}=t;if(E==="image"){let N=x?`${x}.`:"";p.append(`${N}x`,"0"),p.append(`${N}y`,"0")}else x&&p.append(x,T)}}else{if(Uc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=vc,u=null,h=Cc,y=t}return p&&h==="text/plain"&&(y=p,p=void 0),{action:u,method:s.toLowerCase(),encType:h,formData:p,body:y}}function gd(t,i){if(t===!1||t===null||typeof t>"u")throw new Error(i)}async function Yy(t,i){if(t.id in i)return i[t.id];try{let s=await import(t.module);return i[t.id]=s,s}catch(s){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xy(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Zy(t,i,s){let u=await Promise.all(t.map(async h=>{let p=i.routes[h.route.id];if(p){let y=await Yy(p,s);return y.links?y.links():[]}return[]}));return qy(u.flat(1).filter(Xy).filter(h=>h.rel==="stylesheet"||h.rel==="preload").map(h=>h.rel==="stylesheet"?{...h,rel:"prefetch",as:"style"}:{...h,rel:"prefetch"}))}function y1(t,i,s,u,h,p){let y=(v,x)=>s[x]?v.route.id!==s[x].route.id:!0,C=(v,x)=>{var E;return s[x].pathname!==v.pathname||((E=s[x].route.path)==null?void 0:E.endsWith("*"))&&s[x].params["*"]!==v.params["*"]};return p==="assets"?i.filter((v,x)=>y(v,x)||C(v,x)):p==="data"?i.filter((v,x)=>{var T;let E=u.routes[v.route.id];if(!E||!E.hasLoader)return!1;if(y(v,x)||C(v,x))return!0;if(v.route.shouldRevalidate){let N=v.route.shouldRevalidate({currentUrl:new URL(h.pathname+h.search+h.hash,window.origin),currentParams:((T=s[0])==null?void 0:T.params)||{},nextUrl:new URL(t,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Ky(t,i){return Qy(t.map(s=>{let u=i.routes[s.route.id];if(!u)return[];let h=[u.module];return u.imports&&(h=h.concat(u.imports)),h}).flat(1))}function Qy(t){return[...new Set(t)]}function $y(t){let i={},s=Object.keys(t).sort();for(let u of s)i[u]=t[u];return i}function qy(t,i){let s=new Set;return new Set(i),t.reduce((u,h)=>{let p=JSON.stringify($y(h));return s.has(p)||(s.add(p),u.push({key:p,link:h})),u},[])}function Jy(t){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname="_root.data":i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function ew(){let t=P.useContext(Uo);return gd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tw(){let t=P.useContext(jc);return gd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var md=P.createContext(void 0);md.displayName="FrameworkContext";function yg(){let t=P.useContext(md);return gd(t,"You must render this element inside a <HydratedRouter> element"),t}function nw(t,i){let s=P.useContext(md),[u,h]=P.useState(!1),[p,y]=P.useState(!1),{onFocus:C,onBlur:v,onMouseEnter:x,onMouseLeave:E,onTouchStart:T}=i,N=P.useRef(null);P.useEffect(()=>{if(t==="render"&&y(!0),t==="viewport"){let B=z=>{z.forEach(H=>{y(H.isIntersecting)})},F=new IntersectionObserver(B,{threshold:.5});return N.current&&F.observe(N.current),()=>{F.disconnect()}}},[t]),P.useEffect(()=>{if(u){let B=setTimeout(()=>{y(!0)},100);return()=>{clearTimeout(B)}}},[u]);let O=()=>{h(!0)},k=()=>{h(!1),y(!1)};return s?t!=="intent"?[p,N,{}]:[p,N,{onFocus:Ma(C,O),onBlur:Ma(v,k),onMouseEnter:Ma(x,O),onMouseLeave:Ma(E,k),onTouchStart:Ma(T,O)}]:[!1,N,{}]}function Ma(t,i){return s=>{t&&t(s),s.defaultPrevented||i(s)}}function rw({page:t,...i}){let{router:s}=ew(),u=P.useMemo(()=>ag(s.routes,t,s.basename),[s.routes,t,s.basename]);return u?P.createElement(sw,{page:t,matches:u,...i}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function iw(t){let{manifest:i,routeModules:s}=yg(),[u,h]=P.useState([]);return P.useEffect(()=>{let p=!1;return Zy(t,i,s).then(y=>{p||h(y)}),()=>{p=!0}},[t,i,s]),u}function sw({page:t,matches:i,...s}){let u=vi(),{manifest:h,routeModules:p}=yg(),{loaderData:y,matches:C}=tw(),v=P.useMemo(()=>y1(t,i,C,h,u,"data"),[t,i,C,h,u]),x=P.useMemo(()=>y1(t,i,C,h,u,"assets"),[t,i,C,h,u]),E=P.useMemo(()=>{if(t===u.pathname+u.search+u.hash)return[];let O=new Set,k=!1;if(i.forEach(F=>{var H;let z=h.routes[F.route.id];!z||!z.hasLoader||(!v.some(V=>V.route.id===F.route.id)&&F.route.id in y&&((H=p[F.route.id])!=null&&H.shouldRevalidate)||z.hasClientLoader?k=!0:O.add(F.route.id))}),O.size===0)return[];let B=Jy(t);return k&&O.size>0&&B.searchParams.set("_routes",i.filter(F=>O.has(F.route.id)).map(F=>F.route.id).join(",")),[B.pathname+B.search]},[y,u,h,v,i,t,p]),T=P.useMemo(()=>Ky(x,h),[x,h]),N=iw(x);return P.createElement(P.Fragment,null,E.map(O=>P.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...s})),T.map(O=>P.createElement("link",{key:O,rel:"modulepreload",href:O,...s})),N.map(({key:O,link:k})=>P.createElement("link",{key:O,...k})))}function ow(...t){return i=>{t.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var wg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wg&&(window.__reactRouterVersion="7.0.2")}catch{}function aw({basename:t,children:i,window:s}){let u=P.useRef();u.current==null&&(u.current=Z2({window:s,v5Compat:!0}));let h=u.current,[p,y]=P.useState({action:h.action,location:h.location}),C=P.useCallback(v=>{P.startTransition(()=>y(v))},[y]);return P.useLayoutEffect(()=>h.listen(C),[h,C]),P.createElement(ky,{basename:t,children:i,location:p.location,navigationType:p.action,navigator:h})}var vg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cg=P.forwardRef(function({onClick:i,discover:s="render",prefetch:u="none",relative:h,reloadDocument:p,replace:y,state:C,target:v,to:x,preventScrollReset:E,viewTransition:T,...N},O){let{basename:k}=P.useContext(yi),B=typeof x=="string"&&vg.test(x),F,z=!1;if(typeof x=="string"&&B&&(F=x,wg))try{let q=new URL(window.location.href),Me=x.startsWith("//")?new URL(q.protocol+x):new URL(x),Pe=ws(Me.pathname,k);Me.origin===q.origin&&Pe!=null?x=Pe+Me.search+Me.hash:z=!0}catch{mi(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=vy(x,{relative:h}),[V,ee,se]=nw(u,N),ue=fw(x,{replace:y,state:C,target:v,preventScrollReset:E,relative:h,viewTransition:T});function J(q){i&&i(q),q.defaultPrevented||ue(q)}let ce=P.createElement("a",{...N,...se,href:F||H,onClick:z||p?i:J,ref:ow(O,ee),target:v,"data-discover":!B&&s==="render"?"true":void 0});return V&&!B?P.createElement(P.Fragment,null,ce,P.createElement(rw,{page:H})):ce});Cg.displayName="Link";var lw=P.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:u="",end:h=!1,style:p,to:y,viewTransition:C,children:v,...x},E){let T=qa(y,{relative:x.relative}),N=vi(),O=P.useContext(jc),{navigator:k,basename:B}=P.useContext(yi),F=O!=null&&mw(T)&&C===!0,z=k.encodeLocation?k.encodeLocation(T).pathname:T.pathname,H=N.pathname,V=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;s||(H=H.toLowerCase(),V=V?V.toLowerCase():null,z=z.toLowerCase()),V&&B&&(V=ws(V,B)||V);const ee=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let se=H===z||!h&&H.startsWith(z)&&H.charAt(ee)==="/",ue=V!=null&&(V===z||!h&&V.startsWith(z)&&V.charAt(z.length)==="/"),J={isActive:se,isPending:ue,isTransitioning:F},ce=se?i:void 0,q;typeof u=="function"?q=u(J):q=[u,se?"active":null,ue?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let Me=typeof p=="function"?p(J):p;return P.createElement(Cg,{...x,"aria-current":ce,className:q,ref:E,style:Me,to:y,viewTransition:C},typeof v=="function"?v(J):v)});lw.displayName="NavLink";var cw=P.forwardRef(({discover:t="render",fetcherKey:i,navigate:s,reloadDocument:u,replace:h,state:p,method:y=vc,action:C,onSubmit:v,relative:x,preventScrollReset:E,viewTransition:T,...N},O)=>{let k=pw(),B=gw(C,{relative:x}),F=y.toLowerCase()==="get"?"get":"post",z=typeof C=="string"&&vg.test(C),H=V=>{if(v&&v(V),V.defaultPrevented)return;V.preventDefault();let ee=V.nativeEvent.submitter,se=(ee==null?void 0:ee.getAttribute("formmethod"))||y;k(ee||V.currentTarget,{fetcherKey:i,method:se,navigate:s,replace:h,state:p,relative:x,preventScrollReset:E,viewTransition:T})};return P.createElement("form",{ref:O,method:F,action:B,onSubmit:u?v:H,...N,"data-discover":!z&&t==="render"?"true":void 0})});cw.displayName="Form";function uw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eg(t){let i=P.useContext(Uo);return sn(i,uw(t)),i}function fw(t,{target:i,replace:s,state:u,preventScrollReset:h,relative:p,viewTransition:y}={}){let C=ni(),v=vi(),x=qa(t,{relative:p});return P.useCallback(E=>{if(Vy(E,i)){E.preventDefault();let T=s!==void 0?s:Ua(v)===Ua(x);C(t,{replace:T,state:u,preventScrollReset:h,relative:p,viewTransition:y})}},[v,C,x,s,u,i,t,h,p,y])}var dw=0,hw=()=>`__${String(++dw)}__`;function pw(){let{router:t}=Eg("useSubmit"),{basename:i}=P.useContext(yi),s=Dy();return P.useCallback(async(u,h={})=>{let{action:p,method:y,encType:C,formData:v,body:x}=Gy(u,i);if(h.navigate===!1){let E=h.fetcherKey||hw();await t.fetch(E,s,h.action||p,{preventScrollReset:h.preventScrollReset,formData:v,body:x,formMethod:h.method||y,formEncType:h.encType||C,flushSync:h.flushSync})}else await t.navigate(h.action||p,{preventScrollReset:h.preventScrollReset,formData:v,body:x,formMethod:h.method||y,formEncType:h.encType||C,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[t,i,s])}function gw(t,{relative:i}={}){let{basename:s}=P.useContext(yi),u=P.useContext(wi);sn(u,"useFormAction must be used inside a RouteContext");let[h]=u.matches.slice(-1),p={...qa(t||".",{relative:i})},y=vi();if(t==null){p.search=y.search;let C=new URLSearchParams(p.search),v=C.getAll("index");if(v.some(E=>E==="")){C.delete("index"),v.filter(T=>T).forEach(T=>C.append("index",T));let E=C.toString();p.search=E?`?${E}`:""}}return(!t||t===".")&&h.route.index&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(p.pathname=p.pathname==="/"?s:zi([s,p.pathname])),Ua(p)}function mw(t,i={}){let s=P.useContext(hg);sn(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:u}=Eg("useViewTransitionState"),h=qa(t,{relative:i.relative});if(!s.isTransitioning)return!1;let p=ws(s.currentLocation.pathname,u)||s.currentLocation.pathname,y=ws(s.nextLocation.pathname,u)||s.nextLocation.pathname;return Ic(h.pathname,y)!=null||Ic(h.pathname,p)!=null}new TextEncoder;function Sg(){const t="./assets",i="/sounds/banger.mp3",s=ni(),u=P.useRef(new Audio(t+i)),[h,p]=P.useState(!1),[y,C]=P.useState(!1),[v,x]=P.useState(null),[E,T]=P.useState(!1),[N,O]=P.useState(!1);P.useEffect(()=>{const V=u.current,ee=()=>{V.pause(),V.currentTime=0,C(!1),z(),s("/")};return V.addEventListener("ended",ee),()=>V.removeEventListener("ended",ee)},[N]);function k(){x(null),u.current.load(),u.current.play().then(()=>{u.current.pause(),u.current.currentTime=0,p(!0),C(!0),T(!0),F()}).catch(V=>{console.error("Error loading audio:",V),x("Failed to load audio. Please check the file path and format."),T(!1)})}function B(){return!!(u.current&&!u.current.paused)}function F(){u.current.paused?u.current.play().catch(V=>{console.error("Error playing audio:",V),x("Failed to play audio. Please try again.")}):u.current.currentTime=0}function z(){u.current&&(u.current.pause(),u.current.currentTime=0,u.current.src="",u.current=null)}function H(V){u.current.currentTime=V}return{audioRef:u,error:v,playSound:F,loadSound:k,seekTo:H,cancelSound:z,checkSound:B,soundEnabled:E,setSoundEnabled:T,isPlaying:y}}var ke;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ke||(ke={}));var w1=new Map([[ke.QR_CODE,"QR_CODE"],[ke.AZTEC,"AZTEC"],[ke.CODABAR,"CODABAR"],[ke.CODE_39,"CODE_39"],[ke.CODE_93,"CODE_93"],[ke.CODE_128,"CODE_128"],[ke.DATA_MATRIX,"DATA_MATRIX"],[ke.MAXICODE,"MAXICODE"],[ke.ITF,"ITF"],[ke.EAN_13,"EAN_13"],[ke.EAN_8,"EAN_8"],[ke.PDF_417,"PDF_417"],[ke.RSS_14,"RSS_14"],[ke.RSS_EXPANDED,"RSS_EXPANDED"],[ke.UPC_A,"UPC_A"],[ke.UPC_E,"UPC_E"],[ke.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),v1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(v1||(v1={}));function xw(t){return Object.values(ke).includes(t)}var vs;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(vs||(vs={}));var ti=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[vs.SCAN_TYPE_CAMERA,vs.SCAN_TYPE_FILE],t}(),Ag=function(){function t(i,s){this.format=i,this.formatName=s}return t.prototype.toString=function(){return this.formatName},t.create=function(i){if(!w1.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new t(i,w1.get(i))},t}(),C1=function(){function t(){}return t.createFromText=function(i){var s={text:i};return{decodedText:i,result:s}},t.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},t}(),zf;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(zf||(zf={}));var Tg=function(){function t(){}return t.createFrom=function(i){return{errorMessage:i,type:zf.UNKWOWN_ERROR}},t}(),Ig=function(){function t(i){this.verbose=i}return t.prototype.log=function(i){this.verbose&&console.log(i)},t.prototype.warn=function(i){this.verbose&&console.warn(i)},t.prototype.logError=function(i,s){(this.verbose||s===!0)&&console.error(i)},t.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},t}();function fi(t){return typeof t>"u"||t===null}function yw(t,i,s){return t>s?s:t<i?i:t}var Ro=function(){function t(){}return t.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},t.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),Pt=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(i){return"Last Match: ".concat(i)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),E1=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),bg=function(){function t(){}return t.isMediaStreamConstraintsValid=function(i,s){if(typeof i!="object"){var u=typeof i;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(u,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],p=new Set(h),y=Object.keys(i),C=0,v=y;C<v.length;C++){var x=v[C];if(p.has(x))return s.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},t}(),Da={exports:{}},ww=Da.exports,S1;function vw(){return S1||(S1=1,function(t,i){(function(s,u){u(i)})(ww,function(s){function u(M){return M==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,e){M.__proto__=e}||function(M,e){for(var r in e)e.hasOwnProperty(r)&&(M[r]=e[r])};function p(M,e){h(M,e);function r(){this.constructor=M}M.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function y(M,e){var r=Object.setPrototypeOf;r?r(M,e):M.__proto__=e}function C(M,e){e===void 0&&(e=M.constructor);var r=Error.captureStackTrace;r&&r(M,e)}var v=function(M){p(e,M);function e(r){var o=this.constructor,l=M.call(this,r)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),y(l,o.prototype),C(l),l}return e}(Error);class x extends v{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class T extends x{}T.kind="IllegalArgumentException";class N{constructor(e){if(this.binarizer=e,e===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,o,l){const c=this.binarizer.getLuminanceSource().crop(e,r,o,l);return new N(this.binarizer.createBinarizer(c))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends x{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class k{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class B{static arraycopy(e,r,o,l,c){for(;c--;)o[l++]=e[r++]}static currentTimeMillis(){return Date.now()}}class F extends x{}F.kind="IndexOutOfBoundsException";class z extends F{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}z.kind="ArrayIndexOutOfBoundsException";class H{static fill(e,r){for(let o=0,l=e.length;o<l;o++)e[o]=r}static fillWithin(e,r,o,l){H.rangeCheck(e.length,r,o);for(let c=r;c<o;c++)e[c]=l}static rangeCheck(e,r,o){if(r>o)throw new T("fromIndex("+r+") > toIndex("+o+")");if(r<0)throw new z(r);if(o>e)throw new z(o)}static asList(...e){return e}static create(e,r,o){return Array.from({length:e}).map(c=>Array.from({length:r}).fill(o))}static createInt32Array(e,r,o){return Array.from({length:e}).map(c=>Int32Array.from({length:r}).fill(o))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let o=0,l=e.length;o<l;o++)if(e[o]!==r[o])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const o of e)r=31*r+o;return r}static fillUint8Array(e,r){for(let o=0;o!==e.length;o++)e[o]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const o=new Uint8Array(r);return o.set(e),o}return e.slice(0,r)}static copyOfRange(e,r,o){const l=o-r,c=new Int32Array(l);return B.arraycopy(e,r,c,0,l),c}static binarySearch(e,r,o){o===void 0&&(o=H.numberComparator);let l=0,c=e.length-1;for(;l<=c;){const f=c+l>>1,g=o(r,e[f]);if(g>0)l=f+1;else if(g<0)c=f-1;else return f}return-l-1}static numberComparator(e,r){return e-r}}class V{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let o=31;return r=e<<16,r!==0&&(o-=16,e=r),r=e<<8,r!==0&&(o-=8,e=r),r=e<<4,r!==0&&(o-=4,e=r),r=e<<2,r!==0&&(o-=2,e=r),o-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}V.MIN_VALUE_32_BITS=-2147483648,V.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ee{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=ee.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=ee.makeArray(e);B.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const o=this.bits;let l=Math.floor(e/32),c=o[l];c&=~((1<<(e&31))-1);const f=o.length;for(;c===0;){if(++l===f)return r;c=o[l]}const g=l*32+V.numberOfTrailingZeros(c);return g>r?r:g}getNextUnset(e){const r=this.size;if(e>=r)return r;const o=this.bits;let l=Math.floor(e/32),c=~o[l];c&=~((1<<(e&31))-1);const f=o.length;for(;c===0;){if(++l===f)return r;c=~o[l]}const g=l*32+V.numberOfTrailingZeros(c);return g>r?r:g}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new T;if(r===e)return;r--;const o=Math.floor(e/32),l=Math.floor(r/32),c=this.bits;for(let f=o;f<=l;f++){const g=f>o?0:e&31,S=(2<<(f<l?31:r&31))-(1<<g);c[f]|=S}}clear(){const e=this.bits.length,r=this.bits;for(let o=0;o<e;o++)r[o]=0}isRange(e,r,o){if(r<e||e<0||r>this.size)throw new T;if(r===e)return!0;r--;const l=Math.floor(e/32),c=Math.floor(r/32),f=this.bits;for(let g=l;g<=c;g++){const w=g>l?0:e&31,b=(2<<(g<c?31:r&31))-(1<<w)&4294967295;if((f[g]&b)!==(o?b:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let o=r;o>0;o--)this.appendBit((e>>o-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let o=0;o<r;o++)this.appendBit(e.get(o))}xor(e){if(this.size!==e.size)throw new T("Sizes don't match");const r=this.bits;for(let o=0,l=r.length;o<l;o++)r[o]^=e.bits[o]}toBytes(e,r,o,l){for(let c=0;c<l;c++){let f=0;for(let g=0;g<8;g++)this.get(e)&&(f|=1<<7-g),e++;r[o+c]=f}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),o=r+1,l=this.bits;for(let c=0;c<o;c++){let f=l[c];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,e[r-c]=f}if(this.size!==o*32){const c=o*32-this.size;let f=e[0]>>>c;for(let g=1;g<o;g++){const w=e[g];f|=w<<32-c,e[g-1]=f,f=w>>>c}e[o-1]=f}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof ee))return!1;const r=e;return this.size===r.size&&H.equals(this.bits,r.bits)}hashCode(){return 31*this.size+H.hashCode(this.bits)}toString(){let e="";for(let r=0,o=this.size;r<o;r++)r&7||(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new ee(this.size,this.bits.slice())}}var se;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(se||(se={}));var ue=se;class J extends x{static getFormatInstance(){return new J}}J.kind="FormatException";var ce;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(ce||(ce={}));class q{constructor(e,r,o,...l){this.valueIdentifier=e,this.name=o,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=l,q.VALUE_IDENTIFIER_TO_ECI.set(e,this),q.NAME_TO_ECI.set(o,this);const c=this.values;for(let f=0,g=c.length;f!==g;f++){const w=c[f];q.VALUES_TO_ECI.set(w,this)}for(const f of l)q.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new J("incorect value");const r=q.VALUES_TO_ECI.get(e);if(r===void 0)throw new J("incorect value");return r}static getCharacterSetECIByName(e){const r=q.NAME_TO_ECI.get(e);if(r===void 0)throw new J("incorect value");return r}equals(e){if(!(e instanceof q))return!1;const r=e;return this.getName()===r.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(ce.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(ce.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(ce.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(ce.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(ce.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(ce.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(ce.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(ce.Big5,28,"Big5"),q.GB18030=new q(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(ce.EUC_KR,30,"EUC_KR","EUC-KR");class Me extends x{}Me.kind="UnsupportedOperationException";class Pe{static decode(e,r){const o=this.encodingName(r);return this.customDecoder?this.customDecoder(e,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(e,o):new TextDecoder(o).decode(e)}static shouldDecodeOnFallback(e){return!Pe.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const o=this.encodingName(r);return this.customEncoder?this.customEncoder(e,o):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof q?e:q.getCharacterSetECIByName(e)}static decodeFallback(e,r){const o=this.encodingCharacterSet(r);if(Pe.isDecodeFallbackSupported(o)){let l="";for(let c=0,f=e.length;c<f;c++){let g=e[c].toString(16);g.length<2&&(g="0"+g),l+="%"+g}return decodeURIComponent(l)}if(o.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Me(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(q.UTF8)||e.equals(q.ISO8859_1)||e.equals(q.ASCII)}static encodeFallback(e){const o=btoa(unescape(encodeURIComponent(e))).split(""),l=[];for(let c=0;c<o.length;c++)l.push(o[c].charCodeAt(0));return new Uint8Array(l)}}class be{static castAsNonUtf8Char(e,r=null){const o=r?r.getName():this.ISO88591;return Pe.decode(new Uint8Array([e]),o)}static guessEncoding(e,r){if(r!=null&&r.get(ue.CHARACTER_SET)!==void 0)return r.get(ue.CHARACTER_SET).toString();const o=e.length;let l=!0,c=!0,f=!0,g=0,w=0,S=0,b=0,_=0,L=0,U=0,G=0,X=0,$=0,oe=0;const Ae=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Te=0;Te<o&&(l||c||f);Te++){const xe=e[Te]&255;f&&(g>0?xe&128?g--:f=!1:xe&128&&(xe&64?(g++,xe&32?(g++,xe&16?(g++,xe&8?f=!1:b++):S++):w++):f=!1)),l&&(xe>127&&xe<160?l=!1:xe>159&&(xe<192||xe===215||xe===247)&&oe++),c&&(_>0?xe<64||xe===127||xe>252?c=!1:_--:xe===128||xe===160||xe>239?c=!1:xe>160&&xe<224?(L++,G=0,U++,U>X&&(X=U)):xe>127?(_++,U=0,G++,G>$&&($=G)):(U=0,G=0))}return f&&g>0&&(f=!1),c&&_>0&&(c=!1),f&&(Ae||w+S+b>0)?be.UTF8:c&&(be.ASSUME_SHIFT_JIS||X>=3||$>=3)?be.SHIFT_JIS:l&&c?X===2&&L===2||oe*10>=o?be.SHIFT_JIS:be.ISO88591:l?be.ISO88591:c?be.SHIFT_JIS:f?be.UTF8:be.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let o=-1;function l(f,g,w,S,b,_){if(f==="%%")return"%";if(r[++o]===void 0)return;f=S?parseInt(S.substr(1)):void 0;let L=b?parseInt(b.substr(1)):void 0,U;switch(_){case"s":U=r[o];break;case"c":U=r[o][0];break;case"f":U=parseFloat(r[o]).toFixed(f);break;case"p":U=parseFloat(r[o]).toPrecision(f);break;case"e":U=parseFloat(r[o]).toExponential(f);break;case"x":U=parseInt(r[o]).toString(L||16);break;case"d":U=parseFloat(parseInt(r[o],L||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(L);let G=parseInt(w),X=w&&w[0]+""=="0"?"0":" ";for(;U.length<G;)U=g!==void 0?U+X:X+U;return U}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}static getBytes(e,r){return Pe.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}be.SHIFT_JIS=q.SJIS.getName(),be.GB2312="GB2312",be.ISO88591=q.ISO8859_1.getName(),be.EUC_JP="EUC_JP",be.UTF8=q.UTF8.getName(),be.PLATFORM_DEFAULT_ENCODING=be.UTF8,be.ASSUME_SHIFT_JIS=!1;class Fe{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=be.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,o){for(let l=r;r<r+o;l++)this.append(e[l]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class Re{constructor(e,r,o,l){if(this.width=e,this.height=r,this.rowSize=o,this.bits=l,r==null&&(r=e),this.height=r,e<1||r<1)throw new T("Both dimensions must be greater than 0");o==null&&(o=Math.floor((e+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,o=e[0].length,l=new Re(o,r);for(let c=0;c<r;c++){const f=e[c];for(let g=0;g<o;g++)f[g]&&l.set(g,c)}return l}static parseFromString(e,r,o){if(e===null)throw new T("stringRepresentation cannot be null");const l=new Array(e.length);let c=0,f=0,g=-1,w=0,S=0;for(;S<e.length;)if(e.charAt(S)===`
`||e.charAt(S)==="\r"){if(c>f){if(g===-1)g=c-f;else if(c-f!==g)throw new T("row lengths do not match");f=c,w++}S++}else if(e.substring(S,S+r.length)===r)S+=r.length,l[c]=!0,c++;else if(e.substring(S,S+o.length)===o)S+=o.length,l[c]=!1,c++;else throw new T("illegal character encountered: "+e.substring(S));if(c>f){if(g===-1)g=c-f;else if(c-f!==g)throw new T("row lengths do not match");w++}const b=new Re(g,w);for(let _=0;_<c;_++)l[_]&&b.set(Math.floor(_%g),Math.floor(_/g));return b}get(e,r){const o=r*this.rowSize+Math.floor(e/32);return(this.bits[o]>>>(e&31)&1)!==0}set(e,r){const o=r*this.rowSize+Math.floor(e/32);this.bits[o]|=1<<(e&31)&4294967295}unset(e,r){const o=r*this.rowSize+Math.floor(e/32);this.bits[o]&=~(1<<(e&31)&4294967295)}flip(e,r){const o=r*this.rowSize+Math.floor(e/32);this.bits[o]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new T("input matrix dimensions do not match");const r=new ee(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let c=0,f=this.height;c<f;c++){const g=c*o,w=e.getRow(c,r).getBitArray();for(let S=0;S<o;S++)l[g+S]^=w[S]}}clear(){const e=this.bits,r=e.length;for(let o=0;o<r;o++)e[o]=0}setRegion(e,r,o,l){if(r<0||e<0)throw new T("Left and top must be nonnegative");if(l<1||o<1)throw new T("Height and width must be at least 1");const c=e+o,f=r+l;if(f>this.height||c>this.width)throw new T("The region must fit inside the matrix");const g=this.rowSize,w=this.bits;for(let S=r;S<f;S++){const b=S*g;for(let _=e;_<c;_++)w[b+Math.floor(_/32)]|=1<<(_&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new ee(this.width):r.clear();const o=this.rowSize,l=this.bits,c=e*o;for(let f=0;f<o;f++)r.setBulk(f*32,l[c+f]);return r}setRow(e,r){B.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let o=new ee(e),l=new ee(e);for(let c=0,f=Math.floor((r+1)/2);c<f;c++)o=this.getRow(c,o),l=this.getRow(r-1-c,l),o.reverse(),l.reverse(),this.setRow(c,l),this.setRow(r-1-c,o)}getEnclosingRectangle(){const e=this.width,r=this.height,o=this.rowSize,l=this.bits;let c=e,f=r,g=-1,w=-1;for(let S=0;S<r;S++)for(let b=0;b<o;b++){const _=l[S*o+b];if(_!==0){if(S<f&&(f=S),S>w&&(w=S),b*32<c){let L=0;for(;!(_<<31-L&4294967295);)L++;b*32+L<c&&(c=b*32+L)}if(b*32+31>g){let L=31;for(;!(_>>>L);)L--;b*32+L>g&&(g=b*32+L)}}}return g<c||w<f?null:Int32Array.from([c,f,g-c+1,w-f+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let o=0;for(;o<r.length&&r[o]===0;)o++;if(o===r.length)return null;const l=o/e;let c=o%e*32;const f=r[o];let g=0;for(;!(f<<31-g&4294967295);)g++;return c+=g,Int32Array.from([c,l])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let o=r.length-1;for(;o>=0&&r[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/e);let c=Math.floor(o%e)*32;const f=r[o];let g=31;for(;!(f>>>g);)g--;return c+=g,Int32Array.from([c,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Re))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&H.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+H.hashCode(this.bits),e}toString(e="X ",r="  ",o=`
`){return this.buildToString(e,r,o)}buildToString(e,r,o){let l=new Fe;for(let c=0,f=this.height;c<f;c++){for(let g=0,w=this.width;g<w;g++)l.append(this.get(g,c)?e:r);l.append(o)}return l.toString()}clone(){return new Re(this.width,this.height,this.rowSize,this.bits.slice())}}class Q extends x{static getNotFoundInstance(){return new Q}}Q.kind="NotFoundException";class Ve extends k{constructor(e){super(e),this.luminances=Ve.EMPTY,this.buckets=new Int32Array(Ve.LUMINANCE_BUCKETS)}getBlackRow(e,r){const o=this.getLuminanceSource(),l=o.getWidth();r==null||r.getSize()<l?r=new ee(l):r.clear(),this.initArrays(l);const c=o.getRow(e,this.luminances),f=this.buckets;for(let w=0;w<l;w++)f[(c[w]&255)>>Ve.LUMINANCE_SHIFT]++;const g=Ve.estimateBlackPoint(f);if(l<3)for(let w=0;w<l;w++)(c[w]&255)<g&&r.set(w);else{let w=c[0]&255,S=c[1]&255;for(let b=1;b<l-1;b++){const _=c[b+1]&255;(S*4-w-_)/2<g&&r.set(b),w=S,S=_}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),o=e.getHeight(),l=new Re(r,o);this.initArrays(r);const c=this.buckets;for(let w=1;w<5;w++){const S=Math.floor(o*w/5),b=e.getRow(S,this.luminances),_=Math.floor(r*4/5);for(let L=Math.floor(r/5);L<_;L++){const U=b[L]&255;c[U>>Ve.LUMINANCE_SHIFT]++}}const f=Ve.estimateBlackPoint(c),g=e.getMatrix();for(let w=0;w<o;w++){const S=w*r;for(let b=0;b<r;b++)(g[S+b]&255)<f&&l.set(b,w)}return l}createBinarizer(e){return new Ve(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let o=0;o<Ve.LUMINANCE_BUCKETS;o++)r[o]=0}static estimateBlackPoint(e){const r=e.length;let o=0,l=0,c=0;for(let b=0;b<r;b++)e[b]>c&&(l=b,c=e[b]),e[b]>o&&(o=e[b]);let f=0,g=0;for(let b=0;b<r;b++){const _=b-l,L=e[b]*_*_;L>g&&(f=b,g=L)}if(l>f){const b=l;l=f,f=b}if(f-l<=r/16)throw new Q;let w=f-1,S=-1;for(let b=f-1;b>l;b--){const _=b-l,L=_*_*(f-b)*(o-e[b]);L>S&&(w=b,S=L)}return w<<Ve.LUMINANCE_SHIFT}}Ve.LUMINANCE_BITS=5,Ve.LUMINANCE_SHIFT=8-Ve.LUMINANCE_BITS,Ve.LUMINANCE_BUCKETS=1<<Ve.LUMINANCE_BITS,Ve.EMPTY=Uint8ClampedArray.from([0]);class we extends Ve{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),o=e.getHeight();if(r>=we.MINIMUM_DIMENSION&&o>=we.MINIMUM_DIMENSION){const l=e.getMatrix();let c=r>>we.BLOCK_SIZE_POWER;r&we.BLOCK_SIZE_MASK&&c++;let f=o>>we.BLOCK_SIZE_POWER;o&we.BLOCK_SIZE_MASK&&f++;const g=we.calculateBlackPoints(l,c,f,r,o),w=new Re(r,o);we.calculateThresholdForBlock(l,c,f,r,o,g,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new we(e)}static calculateThresholdForBlock(e,r,o,l,c,f,g){const w=c-we.BLOCK_SIZE,S=l-we.BLOCK_SIZE;for(let b=0;b<o;b++){let _=b<<we.BLOCK_SIZE_POWER;_>w&&(_=w);const L=we.cap(b,2,o-3);for(let U=0;U<r;U++){let G=U<<we.BLOCK_SIZE_POWER;G>S&&(G=S);const X=we.cap(U,2,r-3);let $=0;for(let Ae=-2;Ae<=2;Ae++){const Te=f[L+Ae];$+=Te[X-2]+Te[X-1]+Te[X]+Te[X+1]+Te[X+2]}const oe=$/25;we.thresholdBlock(e,G,_,oe,l,g)}}}static cap(e,r,o){return e<r?r:e>o?o:e}static thresholdBlock(e,r,o,l,c,f){for(let g=0,w=o*c+r;g<we.BLOCK_SIZE;g++,w+=c)for(let S=0;S<we.BLOCK_SIZE;S++)(e[w+S]&255)<=l&&f.set(r+S,o+g)}static calculateBlackPoints(e,r,o,l,c){const f=c-we.BLOCK_SIZE,g=l-we.BLOCK_SIZE,w=new Array(o);for(let S=0;S<o;S++){w[S]=new Int32Array(r);let b=S<<we.BLOCK_SIZE_POWER;b>f&&(b=f);for(let _=0;_<r;_++){let L=_<<we.BLOCK_SIZE_POWER;L>g&&(L=g);let U=0,G=255,X=0;for(let oe=0,Ae=b*l+L;oe<we.BLOCK_SIZE;oe++,Ae+=l){for(let Te=0;Te<we.BLOCK_SIZE;Te++){const xe=e[Ae+Te]&255;U+=xe,xe<G&&(G=xe),xe>X&&(X=xe)}if(X-G>we.MIN_DYNAMIC_RANGE)for(oe++,Ae+=l;oe<we.BLOCK_SIZE;oe++,Ae+=l)for(let Te=0;Te<we.BLOCK_SIZE;Te++)U+=e[Ae+Te]&255}let $=U>>we.BLOCK_SIZE_POWER*2;if(X-G<=we.MIN_DYNAMIC_RANGE&&($=G/2,S>0&&_>0)){const oe=(w[S-1][_]+2*w[S][_-1]+w[S-1][_-1])/4;G<oe&&($=oe)}w[S][_]=$}}return w}}we.BLOCK_SIZE_POWER=3,we.BLOCK_SIZE=1<<we.BLOCK_SIZE_POWER,we.BLOCK_SIZE_MASK=we.BLOCK_SIZE-1,we.MINIMUM_DIMENSION=we.BLOCK_SIZE*5,we.MIN_DYNAMIC_RANGE=24;class he{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,o,l){throw new Me("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Me("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Me("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new Fe;for(let o=0;o<this.height;o++){const l=this.getRow(o,e);for(let c=0;c<this.width;c++){const f=l[c]&255;let g;f<64?g="#":f<128?g="+":f<192?g=".":g=" ",r.append(g)}r.append(`
`)}return r.toString()}}class De extends he{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const o=this.delegate.getRow(e,r),l=this.getWidth();for(let c=0;c<l;c++)o[c]=255-(o[c]&255);return o}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(r);for(let l=0;l<r;l++)o[l]=255-(e[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,o,l){return new De(this.delegate.crop(e,r,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new De(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new De(this.delegate.rotateCounterClockwise45())}}class fe extends he{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=fe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return fe.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,o){const l=new Uint8ClampedArray(r*o);for(let c=0,f=0,g=e.length;c<g;c+=4,f++){let w;if(e[c+3]===0)w=255;else{const b=e[c],_=e[c+1],L=e[c+2];w=306*b+601*_+117*L+512>>10}l[f]=w}return l}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth(),l=e*o;return r===null?r=this.buffer.slice(l,l+o):(r.length<o&&(r=new Uint8ClampedArray(o)),r.set(this.buffer.slice(l,l+o))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,o,l){return super.crop(e,r,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),o=r.getContext("2d"),l=e*fe.DEGREE_TO_RADIANS,c=this.canvas.width,f=this.canvas.height,g=Math.ceil(Math.abs(Math.cos(l))*c+Math.abs(Math.sin(l))*f),w=Math.ceil(Math.abs(Math.sin(l))*c+Math.abs(Math.cos(l))*f);return r.width=g,r.height=w,o.translate(g/2,w/2),o.rotate(l),o.drawImage(this.canvas,c/-2,f/-2),this.buffer=fe.makeBufferFromCanvasImageData(r),this}invert(){return new De(this)}}fe.DEGREE_TO_RADIANS=Math.PI/180;class Z{constructor(e,r,o){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||uc||self||window||void 0)&&(globalThis||uc||self||window||void 0).__awaiter||function(M,e,r,o){function l(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function g(b){try{S(o.next(b))}catch(_){f(_)}}function w(b){try{S(o.throw(b))}catch(_){f(_)}}function S(b){b.done?c(b.value):l(b.value).then(g,w)}S((o=o.apply(M,e||[])).next())})};class me{constructor(e,r=500,o){this.reader=e,this.timeBetweenScansMillis=r,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const o of e){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const c=o.deviceId||o.id,f=o.label||`Video device ${r.length+1}`,g=o.groupId,w={deviceId:c,label:f,kind:l,groupId:g};r.push(w)}return r})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new Z(r.deviceId,r.label))})}findDeviceById(e){return re(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(o=>o.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return re(this,void 0,void 0,function*(){this.reset();let o;e?o={deviceId:{exact:e}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,r)})}decodeOnceFromConstraints(e,r){return re(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(o,r)})}decodeOnceFromStream(e,r){return re(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(e,r,o){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,o)})}decodeFromVideoDevice(e,r,o){return re(this,void 0,void 0,function*(){let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const c={video:l};return yield this.decodeFromConstraints(c,r,o)})}decodeFromConstraints(e,r,o){return re(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(l,r,o)})}decodeFromStream(e,r,o){return re(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return re(this,void 0,void 0,function*(){const o=this.prepareVideoElement(r);return this.addVideoSource(o,e),this.videoElement=o,this.stream=e,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(e){return new Promise((r,o)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const o=document.getElementById(e);if(!o)throw new E(`element with id '${e}' not found`);if(o.nodeName.toLowerCase()!==r.toLowerCase())throw new E(`element with id '${e}' must be an ${r} element`);return o}decodeFromImage(e,r){if(!e&&!r)throw new E("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new E("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,o){if(e===void 0&&r===void 0)throw new E("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,o):this.decodeFromVideoElementContinuously(e,o)}decodeFromImageElement(e){if(!e)throw new E("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let o;return this.isImageLoaded(r)?o=this.decodeOnce(r,!1,!0):o=this._decodeOnLoadImage(r),o}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const o=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(o,r)}_decodeFromVideoElementSetup(e){if(!e)throw new E("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const o=this._decodeOnLoadImage(r);return r.src=e,o}decodeFromVideoUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),o=this.decodeFromVideoElement(r);return r.src=e,o}decodeFromVideoUrlContinuously(e,r){if(!e)throw new E("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,r);return o.src=e,l}_decodeOnLoadImage(e){return new Promise((r,o)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,o),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,o=!0){this._stopAsyncDecode=!1;const l=(c,f)=>{if(this._stopAsyncDecode){f(new Q("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const g=this.decode(e);c(g)}catch(g){const w=r&&g instanceof Q,b=(g instanceof O||g instanceof J)&&o;if(w||b)return setTimeout(l,this._timeBetweenDecodingAttempts,c,f);f(g)}};return new Promise((c,f)=>l(c,f))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(e);r(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){r(null,l);const c=l instanceof O||l instanceof J,f=l instanceof Q;(c||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,o){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,o=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),o=new fe(r),l=new we(o);return new N(l)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let o,l;return typeof e<"u"&&(e instanceof HTMLVideoElement?(o=e.videoWidth,l=e.videoHeight):e instanceof HTMLImageElement&&(o=e.naturalWidth||e.width,l=e.naturalHeight||e.height)),r.style.width=o+"px",r.style.height=l+"px",r.width=o,r.height=l,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ve{constructor(e,r,o=r==null?0:8*r.length,l,c,f=B.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=o,this.resultPoints=l,this.format=c,this.timestamp=f,this.text=e,this.rawBytes=r,o==null?this.numBits=r==null?0:8*r.length:this.numBits=o,this.resultPoints=l,this.format=c,this.resultMetadata=null,f==null?this.timestamp=B.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const o=new Array(r.length+e.length);B.arraycopy(r,0,o,0,r.length),B.arraycopy(e,0,o,r.length,e.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var He;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(He||(He={}));var pe=He,ze;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ze||(ze={}));var _e=ze;class it{constructor(e,r,o,l,c=-1,f=-1){this.rawBytes=e,this.text=r,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=c,this.structuredAppendParity=f,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ft{exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class _t{constructor(e,r){if(r.length===0)throw new T;this.field=e;const o=r.length;if(o>1&&r[0]===0){let l=1;for(;l<o&&r[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),B.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let o;if(e===1){o=0;for(let f=0,g=r.length;f!==g;f++){const w=r[f];o=ft.addOrSubtract(o,w)}return o}o=r[0];const l=r.length,c=this.field;for(let f=1;f<l;f++)o=ft.addOrSubtract(c.multiply(e,o),r[f]);return o}addOrSubtract(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,o=e.coefficients;if(r.length>o.length){const f=r;r=o,o=f}let l=new Int32Array(o.length);const c=o.length-r.length;B.arraycopy(o,0,l,0,c);for(let f=c;f<o.length;f++)l[f]=ft.addOrSubtract(r[f-c],o[f]);return new _t(this.field,l)}multiply(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,o=r.length,l=e.coefficients,c=l.length,f=new Int32Array(o+c-1),g=this.field;for(let w=0;w<o;w++){const S=r[w];for(let b=0;b<c;b++)f[w+b]=ft.addOrSubtract(f[w+b],g.multiply(S,l[b]))}return new _t(g,f)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,o=this.field,l=new Int32Array(r),c=this.coefficients;for(let f=0;f<r;f++)l[f]=o.multiply(c[f],e);return new _t(o,l)}multiplyByMonomial(e,r){if(e<0)throw new T;if(r===0)return this.field.getZero();const o=this.coefficients,l=o.length,c=new Int32Array(l+e),f=this.field;for(let g=0;g<l;g++)c[g]=f.multiply(o[g],r);return new _t(f,c)}divide(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new T("Divide by 0");const r=this.field;let o=r.getZero(),l=this;const c=e.getCoefficient(e.getDegree()),f=r.inverse(c);for(;l.getDegree()>=e.getDegree()&&!l.isZero();){const g=l.getDegree()-e.getDegree(),w=r.multiply(l.getCoefficient(l.getDegree()),f),S=e.multiplyByMonomial(g,w),b=r.buildMonomial(g,w);o=o.addOrSubtract(b),l=l.addOrSubtract(S)}return[o,l]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);if(o!==0){if(o<0?(e+=" - ",o=-o):e.length>0&&(e+=" + "),r===0||o!==1){const l=this.field.log(o);l===0?e+="1":l===1?e+="a":(e+="a^",e+=l)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class er extends x{}er.kind="ArithmeticException";class ot extends ft{constructor(e,r,o){super(),this.primitive=e,this.size=r,this.generatorBase=o;const l=new Int32Array(r);let c=1;for(let g=0;g<r;g++)l[g]=c,c*=2,c>=r&&(c^=e,c&=r-1);this.expTable=l;const f=new Int32Array(r);for(let g=0;g<r-1;g++)f[l[g]]=g;this.logTable=f,this.zero=new _t(this,Int32Array.from([0])),this.one=new _t(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new T;if(r===0)return this.zero;const o=new Int32Array(e+1);return o[0]=r,new _t(this,o)}inverse(e){if(e===0)throw new er;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+V.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ot.AZTEC_DATA_12=new ot(4201,4096,1),ot.AZTEC_DATA_10=new ot(1033,1024,1),ot.AZTEC_DATA_6=new ot(67,64,1),ot.AZTEC_PARAM=new ot(19,16,1),ot.QR_CODE_FIELD_256=new ot(285,256,0),ot.DATA_MATRIX_FIELD_256=new ot(301,256,1),ot.AZTEC_DATA_8=ot.DATA_MATRIX_FIELD_256,ot.MAXICODE_FIELD_64=ot.AZTEC_DATA_6;class Hn extends x{}Hn.kind="ReedSolomonException";class Ut extends x{}Ut.kind="IllegalStateException";class gr{constructor(e){this.field=e}decode(e,r){const o=this.field,l=new _t(o,e),c=new Int32Array(r);let f=!0;for(let U=0;U<r;U++){const G=l.evaluateAt(o.exp(U+o.getGeneratorBase()));c[c.length-1-U]=G,G!==0&&(f=!1)}if(f)return;const g=new _t(o,c),w=this.runEuclideanAlgorithm(o.buildMonomial(r,1),g,r),S=w[0],b=w[1],_=this.findErrorLocations(S),L=this.findErrorMagnitudes(b,_);for(let U=0;U<_.length;U++){const G=e.length-1-o.log(_[U]);if(G<0)throw new Hn("Bad error location");e[G]=ot.addOrSubtract(e[G],L[U])}}runEuclideanAlgorithm(e,r,o){if(e.getDegree()<r.getDegree()){const U=e;e=r,r=U}const l=this.field;let c=e,f=r,g=l.getZero(),w=l.getOne();for(;f.getDegree()>=(o/2|0);){let U=c,G=g;if(c=f,g=w,c.isZero())throw new Hn("r_{i-1} was zero");f=U;let X=l.getZero();const $=c.getCoefficient(c.getDegree()),oe=l.inverse($);for(;f.getDegree()>=c.getDegree()&&!f.isZero();){const Ae=f.getDegree()-c.getDegree(),Te=l.multiply(f.getCoefficient(f.getDegree()),oe);X=X.addOrSubtract(l.buildMonomial(Ae,Te)),f=f.addOrSubtract(c.multiplyByMonomial(Ae,Te))}if(w=X.multiply(g).addOrSubtract(G),f.getDegree()>=c.getDegree())throw new Ut("Division algorithm failed to reduce polynomial?")}const S=w.getCoefficient(0);if(S===0)throw new Hn("sigmaTilde(0) was zero");const b=l.inverse(S),_=w.multiplyScalar(b),L=f.multiplyScalar(b);return[_,L]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const o=new Int32Array(r);let l=0;const c=this.field;for(let f=1;f<c.getSize()&&l<r;f++)e.evaluateAt(f)===0&&(o[l]=c.inverse(f),l++);if(l!==r)throw new Hn("Error locator degree does not match number of roots");return o}findErrorMagnitudes(e,r){const o=r.length,l=new Int32Array(o),c=this.field;for(let f=0;f<o;f++){const g=c.inverse(r[f]);let w=1;for(let S=0;S<o;S++)if(f!==S){const b=c.multiply(r[S],g),_=b&1?b&-2:b|1;w=c.multiply(w,_)}l[f]=c.multiply(e.evaluateAt(g),c.inverse(w)),c.getGeneratorBase()!==0&&(l[f]=c.multiply(l[f],g))}return l}}var xt;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(xt||(xt={}));class yt{decode(e){this.ddata=e;let r=e.getBits(),o=this.extractBits(r),l=this.correctBits(o),c=yt.convertBoolArrayToByteArray(l),f=yt.getEncodedData(l),g=new it(c,f,null,null);return g.setNumBits(l.length),g}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,o=xt.UPPER,l=xt.UPPER,c="",f=0;for(;f<r;)if(l===xt.BINARY){if(r-f<5)break;let g=yt.readCode(e,f,5);if(f+=5,g===0){if(r-f<11)break;g=yt.readCode(e,f,11)+31,f+=11}for(let w=0;w<g;w++){if(r-f<8){f=r;break}const S=yt.readCode(e,f,8);c+=be.castAsNonUtf8Char(S),f+=8}l=o}else{let g=l===xt.DIGIT?4:5;if(r-f<g)break;let w=yt.readCode(e,f,g);f+=g;let S=yt.getCharacter(l,w);S.startsWith("CTRL_")?(o=l,l=yt.getTable(S.charAt(5)),S.charAt(6)==="L"&&(o=l)):(c+=S,l=o)}return c}static getTable(e){switch(e){case"L":return xt.LOWER;case"P":return xt.PUNCT;case"M":return xt.MIXED;case"D":return xt.DIGIT;case"B":return xt.BINARY;case"U":default:return xt.UPPER}}static getCharacter(e,r){switch(e){case xt.UPPER:return yt.UPPER_TABLE[r];case xt.LOWER:return yt.LOWER_TABLE[r];case xt.MIXED:return yt.MIXED_TABLE[r];case xt.PUNCT:return yt.PUNCT_TABLE[r];case xt.DIGIT:return yt.DIGIT_TABLE[r];default:throw new Ut("Bad table")}}correctBits(e){let r,o;this.ddata.getNbLayers()<=2?(o=6,r=ot.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,r=ot.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,r=ot.AZTEC_DATA_10):(o=12,r=ot.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),c=e.length/o;if(c<l)throw new J;let f=e.length%o,g=new Int32Array(c);for(let L=0;L<c;L++,f+=o)g[L]=yt.readCode(e,f,o);try{new gr(r).decode(g,c-l)}catch(L){throw new J(L)}let w=(1<<o)-1,S=0;for(let L=0;L<l;L++){let U=g[L];if(U===0||U===w)throw new J;(U===1||U===w-1)&&S++}let b=new Array(l*o-S),_=0;for(let L=0;L<l;L++){let U=g[L];if(U===1||U===w-1)b.fill(U>1,_,_+o-1),_+=o-1;else for(let G=o-1;G>=0;--G)b[_++]=(U&1<<G)!==0}return b}extractBits(e){let r=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(r?11:14)+o*4,c=new Int32Array(l),f=new Array(this.totalBitsInLayer(o,r));if(r)for(let g=0;g<c.length;g++)c[g]=g;else{let g=l+1+2*V.truncDivision(V.truncDivision(l,2)-1,15),w=l/2,S=V.truncDivision(g,2);for(let b=0;b<w;b++){let _=b+V.truncDivision(b,15);c[w-b-1]=S-_-1,c[w+b]=S+_+1}}for(let g=0,w=0;g<o;g++){let S=(o-g)*4+(r?9:12),b=g*2,_=l-1-b;for(let L=0;L<S;L++){let U=L*2;for(let G=0;G<2;G++)f[w+U+G]=e.get(c[b+G],c[b+L]),f[w+2*S+U+G]=e.get(c[b+L],c[_-G]),f[w+4*S+U+G]=e.get(c[_-G],c[_-L]),f[w+6*S+U+G]=e.get(c[_-L],c[b+G])}w+=S*8}return f}static readCode(e,r,o){let l=0;for(let c=r;c<r+o;c++)l<<=1,e[c]&&(l|=1);return l}static readByte(e,r){let o=e.length-r;return o>=8?yt.readCode(e,r,8):yt.readCode(e,r,o)<<8-o}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let o=0;o<r.length;o++)r[o]=yt.readByte(e,8*o);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}yt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],yt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],yt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],yt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],yt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class tt{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,o,l){const c=e-o,f=r-l;return Math.sqrt(c*c+f*f)}static sum(e){let r=0;for(let o=0,l=e.length;o!==l;o++){const c=e[o];r+=c}return r}}class ar{static floatToIntBits(e){return e}}ar.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ce{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Ce){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*ar.floatToIntBits(this.x)+ar.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),o=this.distance(e[1],e[2]),l=this.distance(e[0],e[2]);let c,f,g;if(o>=r&&o>=l?(f=e[0],c=e[1],g=e[2]):l>=o&&l>=r?(f=e[1],c=e[0],g=e[2]):(f=e[2],c=e[0],g=e[1]),this.crossProductZ(c,f,g)<0){const w=c;c=g,g=w}e[0]=c,e[1]=f,e[2]=g}static distance(e,r){return tt.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,o){const l=r.x,c=r.y;return(o.x-l)*(e.y-c)-(o.y-c)*(e.x-l)}}class $e{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class St extends $e{constructor(e,r,o,l,c){super(e,r),this.compact=o,this.nbDatablocks=l,this.nbLayers=c}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class At{constructor(e,r,o,l){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=At.INIT_SIZE),o==null&&(o=e.getWidth()/2|0),l==null&&(l=e.getHeight()/2|0);const c=r/2|0;if(this.leftInit=o-c,this.rightInit=o+c,this.upInit=l-c,this.downInit=l+c,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Q}detect(){let e=this.leftInit,r=this.rightInit,o=this.upInit,l=this.downInit,c=!1,f=!0,g=!1,w=!1,S=!1,b=!1,_=!1;const L=this.width,U=this.height;for(;f;){f=!1;let G=!0;for(;(G||!w)&&r<L;)G=this.containsBlackPoint(o,l,r,!1),G?(r++,f=!0,w=!0):w||r++;if(r>=L){c=!0;break}let X=!0;for(;(X||!S)&&l<U;)X=this.containsBlackPoint(e,r,l,!0),X?(l++,f=!0,S=!0):S||l++;if(l>=U){c=!0;break}let $=!0;for(;($||!b)&&e>=0;)$=this.containsBlackPoint(o,l,e,!1),$?(e--,f=!0,b=!0):b||e--;if(e<0){c=!0;break}let oe=!0;for(;(oe||!_)&&o>=0;)oe=this.containsBlackPoint(e,r,o,!0),oe?(o--,f=!0,_=!0):_||o--;if(o<0){c=!0;break}f&&(g=!0)}if(!c&&g){const G=r-e;let X=null;for(let Te=1;X===null&&Te<G;Te++)X=this.getBlackPointOnSegment(e,l-Te,e+Te,l);if(X==null)throw new Q;let $=null;for(let Te=1;$===null&&Te<G;Te++)$=this.getBlackPointOnSegment(e,o+Te,e+Te,o);if($==null)throw new Q;let oe=null;for(let Te=1;oe===null&&Te<G;Te++)oe=this.getBlackPointOnSegment(r,o+Te,r-Te,o);if(oe==null)throw new Q;let Ae=null;for(let Te=1;Ae===null&&Te<G;Te++)Ae=this.getBlackPointOnSegment(r,l-Te,r-Te,l);if(Ae==null)throw new Q;return this.centerEdges(Ae,X,oe,$)}else throw new Q}getBlackPointOnSegment(e,r,o,l){const c=tt.round(tt.distance(e,r,o,l)),f=(o-e)/c,g=(l-r)/c,w=this.image;for(let S=0;S<c;S++){const b=tt.round(e+S*f),_=tt.round(r+S*g);if(w.get(b,_))return new Ce(b,_)}return null}centerEdges(e,r,o,l){const c=e.getX(),f=e.getY(),g=r.getX(),w=r.getY(),S=o.getX(),b=o.getY(),_=l.getX(),L=l.getY(),U=At.CORR;return c<this.width/2?[new Ce(_-U,L+U),new Ce(g+U,w+U),new Ce(S-U,b-U),new Ce(c+U,f-U)]:[new Ce(_+U,L+U),new Ce(g+U,w-U),new Ce(S-U,b+U),new Ce(c-U,f-U)]}containsBlackPoint(e,r,o,l){const c=this.image;if(l){for(let f=e;f<=r;f++)if(c.get(f,o))return!0}else for(let f=e;f<=r;f++)if(c.get(o,f))return!0;return!1}}At.INIT_SIZE=10,At.CORR=1;class Pn{static checkAndNudgePoints(e,r){const o=e.getWidth(),l=e.getHeight();let c=!0;for(let f=0;f<r.length&&c;f+=2){const g=Math.floor(r[f]),w=Math.floor(r[f+1]);if(g<-1||g>o||w<-1||w>l)throw new Q;c=!1,g===-1?(r[f]=0,c=!0):g===o&&(r[f]=o-1,c=!0),w===-1?(r[f+1]=0,c=!0):w===l&&(r[f+1]=l-1,c=!0)}c=!0;for(let f=r.length-2;f>=0&&c;f-=2){const g=Math.floor(r[f]),w=Math.floor(r[f+1]);if(g<-1||g>o||w<-1||w>l)throw new Q;c=!1,g===-1?(r[f]=0,c=!0):g===o&&(r[f]=o-1,c=!0),w===-1?(r[f+1]=0,c=!0):w===l&&(r[f+1]=l-1,c=!0)}}}class wt{constructor(e,r,o,l,c,f,g,w,S){this.a11=e,this.a21=r,this.a31=o,this.a12=l,this.a22=c,this.a32=f,this.a13=g,this.a23=w,this.a33=S}static quadrilateralToQuadrilateral(e,r,o,l,c,f,g,w,S,b,_,L,U,G,X,$){const oe=wt.quadrilateralToSquare(e,r,o,l,c,f,g,w);return wt.squareToQuadrilateral(S,b,_,L,U,G,X,$).times(oe)}transformPoints(e){const r=e.length,o=this.a11,l=this.a12,c=this.a13,f=this.a21,g=this.a22,w=this.a23,S=this.a31,b=this.a32,_=this.a33;for(let L=0;L<r;L+=2){const U=e[L],G=e[L+1],X=c*U+w*G+_;e[L]=(o*U+f*G+S)/X,e[L+1]=(l*U+g*G+b)/X}}transformPointsWithValues(e,r){const o=this.a11,l=this.a12,c=this.a13,f=this.a21,g=this.a22,w=this.a23,S=this.a31,b=this.a32,_=this.a33,L=e.length;for(let U=0;U<L;U++){const G=e[U],X=r[U],$=c*G+w*X+_;e[U]=(o*G+f*X+S)/$,r[U]=(l*G+g*X+b)/$}}static squareToQuadrilateral(e,r,o,l,c,f,g,w){const S=e-o+c-g,b=r-l+f-w;if(S===0&&b===0)return new wt(o-e,c-o,e,l-r,f-l,r,0,0,1);{const _=o-c,L=g-c,U=l-f,G=w-f,X=_*G-L*U,$=(S*G-L*b)/X,oe=(_*b-S*U)/X;return new wt(o-e+$*o,g-e+oe*g,e,l-r+$*l,w-r+oe*w,r,$,oe,1)}}static quadrilateralToSquare(e,r,o,l,c,f,g,w){return wt.squareToQuadrilateral(e,r,o,l,c,f,g,w).buildAdjoint()}buildAdjoint(){return new wt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new wt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Kt extends Pn{sampleGrid(e,r,o,l,c,f,g,w,S,b,_,L,U,G,X,$,oe,Ae,Te){const xe=wt.quadrilateralToQuadrilateral(l,c,f,g,w,S,b,_,L,U,G,X,$,oe,Ae,Te);return this.sampleGridWithTransform(e,r,o,xe)}sampleGridWithTransform(e,r,o,l){if(r<=0||o<=0)throw new Q;const c=new Re(r,o),f=new Float32Array(2*r);for(let g=0;g<o;g++){const w=f.length,S=g+.5;for(let b=0;b<w;b+=2)f[b]=b/2+.5,f[b+1]=S;l.transformPoints(f),Pn.checkAndNudgePoints(e,f);try{for(let b=0;b<w;b+=2)e.get(Math.floor(f[b]),Math.floor(f[b+1]))&&c.set(b/2,g)}catch{throw new Q}}return c}}class Dt{static setGridSampler(e){Dt.gridSampler=e}static getInstance(){return Dt.gridSampler}}Dt.gridSampler=new Kt;class Lt{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new Ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ln{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),o=this.getBullsEyeCorners(r);if(e){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),c=this.getMatrixCornerPoints(o);return new St(l,c,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new Q;let r=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(o,r);let l=0;for(let f=0;f<4;f++){let g=o[(this.shift+f)%4];this.compact?(l<<=7,l+=g>>1&127):(l<<=10,l+=(g>>2&992)+(g>>1&31))}let c=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(c>>6)+1,this.nbDataBlocks=(c&63)+1):(this.nbLayers=(c>>11)+1,this.nbDataBlocks=(c&2047)+1)}getRotation(e,r){let o=0;e.forEach((l,c,f)=>{let g=(l>>r-2<<1)+(l&1);o=(o<<3)+g}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(V.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new Q}getCorrectedParameterData(e,r){let o,l;r?(o=7,l=2):(o=10,l=4);let c=o-l,f=new Int32Array(o);for(let w=o-1;w>=0;--w)f[w]=e&15,e>>=4;try{new gr(ot.AZTEC_PARAM).decode(f,c)}catch{throw new Q}let g=0;for(let w=0;w<l;w++)g=(g<<4)+f[w];return g}getBullsEyeCorners(e){let r=e,o=e,l=e,c=e,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let _=this.getFirstDifferent(r,f,1,-1),L=this.getFirstDifferent(o,f,1,1),U=this.getFirstDifferent(l,f,-1,1),G=this.getFirstDifferent(c,f,-1,-1);if(this.nbCenterLayers>2){let X=this.distancePoint(G,_)*this.nbCenterLayers/(this.distancePoint(c,r)*(this.nbCenterLayers+2));if(X<.75||X>1.25||!this.isWhiteOrBlackRectangle(_,L,U,G))break}r=_,o=L,l=U,c=G,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Q;this.compact=this.nbCenterLayers===5;let g=new Ce(r.getX()+.5,r.getY()-.5),w=new Ce(o.getX()+.5,o.getY()+.5),S=new Ce(l.getX()-.5,l.getY()+.5),b=new Ce(c.getX()-.5,c.getY()-.5);return this.expandSquare([g,w,S,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,o,l;try{let g=new At(this.image).detect();e=g[0],r=g[1],o=g[2],l=g[3]}catch{let w=this.image.getWidth()/2,S=this.image.getHeight()/2;e=this.getFirstDifferent(new Lt(w+7,S-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Lt(w+7,S+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Lt(w-7,S+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Lt(w-7,S-7),!1,-1,-1).toResultPoint()}let c=tt.round((e.getX()+l.getX()+r.getX()+o.getX())/4),f=tt.round((e.getY()+l.getY()+r.getY()+o.getY())/4);try{let g=new At(this.image,15,c,f).detect();e=g[0],r=g[1],o=g[2],l=g[3]}catch{e=this.getFirstDifferent(new Lt(c+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Lt(c+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Lt(c-7,f+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Lt(c-7,f-7),!1,-1,-1).toResultPoint()}return c=tt.round((e.getX()+l.getX()+r.getX()+o.getX())/4),f=tt.round((e.getY()+l.getY()+r.getY()+o.getY())/4),new Lt(c,f)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,o,l,c){let f=Dt.getInstance(),g=this.getDimension(),w=g/2-this.nbCenterLayers,S=g/2+this.nbCenterLayers;return f.sampleGrid(e,g,g,w,w,S,w,S,S,w,S,r.getX(),r.getY(),o.getX(),o.getY(),l.getX(),l.getY(),c.getX(),c.getY())}sampleLine(e,r,o){let l=0,c=this.distanceResultPoint(e,r),f=c/o,g=e.getX(),w=e.getY(),S=f*(r.getX()-e.getX())/c,b=f*(r.getY()-e.getY())/c;for(let _=0;_<o;_++)this.image.get(tt.round(g+_*S),tt.round(w+_*b))&&(l|=1<<o-_-1);return l}isWhiteOrBlackRectangle(e,r,o,l){let c=3;e=new Lt(e.getX()-c,e.getY()+c),r=new Lt(r.getX()-c,r.getY()-c),o=new Lt(o.getX()+c,o.getY()-c),l=new Lt(l.getX()+c,l.getY()+c);let f=this.getColor(l,e);if(f===0)return!1;let g=this.getColor(e,r);return g!==f||(g=this.getColor(r,o),g!==f)?!1:(g=this.getColor(o,l),g===f)}getColor(e,r){let o=this.distancePoint(e,r),l=(r.getX()-e.getX())/o,c=(r.getY()-e.getY())/o,f=0,g=e.getX(),w=e.getY(),S=this.image.get(e.getX(),e.getY()),b=Math.ceil(o);for(let L=0;L<b;L++)g+=l,w+=c,this.image.get(tt.round(g),tt.round(w))!==S&&f++;let _=f/o;return _>.1&&_<.9?0:_<=.1===S?1:-1}getFirstDifferent(e,r,o,l){let c=e.getX()+o,f=e.getY()+l;for(;this.isValid(c,f)&&this.image.get(c,f)===r;)c+=o,f+=l;for(c-=o,f-=l;this.isValid(c,f)&&this.image.get(c,f)===r;)c+=o;for(c-=o;this.isValid(c,f)&&this.image.get(c,f)===r;)f+=l;return f-=l,new Lt(c,f)}expandSquare(e,r,o){let l=o/(2*r),c=e[0].getX()-e[2].getX(),f=e[0].getY()-e[2].getY(),g=(e[0].getX()+e[2].getX())/2,w=(e[0].getY()+e[2].getY())/2,S=new Ce(g+l*c,w+l*f),b=new Ce(g-l*c,w-l*f);c=e[1].getX()-e[3].getX(),f=e[1].getY()-e[3].getY(),g=(e[1].getX()+e[3].getX())/2,w=(e[1].getY()+e[3].getY())/2;let _=new Ce(g+l*c,w+l*f),L=new Ce(g-l*c,w-l*f);return[S,_,b,L]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=tt.round(e.getX()),o=tt.round(e.getY());return this.isValid(r,o)}distancePoint(e,r){return tt.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return tt.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(V.truncDivision(this.nbLayers-4,8)+1)+15}}class tr{decode(e,r=null){let o=null,l=new Ln(e.getBlackMatrix()),c=null,f=null;try{let b=l.detectMirror(!1);c=b.getPoints(),this.reportFoundResultPoints(r,c),f=new yt().decode(b)}catch(b){o=b}if(f==null)try{let b=l.detectMirror(!0);c=b.getPoints(),this.reportFoundResultPoints(r,c),f=new yt().decode(b)}catch(b){throw o??b}let g=new ve(f.getText(),f.getRawBytes(),f.getNumBits(),c,pe.AZTEC,B.currentTimeMillis()),w=f.getByteSegments();w!=null&&g.putMetadata(_e.BYTE_SEGMENTS,w);let S=f.getECLevel();return S!=null&&g.putMetadata(_e.ERROR_CORRECTION_LEVEL,S),g}reportFoundResultPoints(e,r){if(e!=null){let o=e.get(ue.NEED_RESULT_POINT_CALLBACK);o!=null&&r.forEach((l,c,f)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class Ci extends me{constructor(e=500){super(new tr,e)}}class It{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(ue.TRY_HARDER)===!0&&e.isRotateSupported()){const c=e.rotateCounterClockwise(),f=this.doDecode(c,r),g=f.getResultMetadata();let w=270;g!==null&&g.get(_e.ORIENTATION)===!0&&(w=w+g.get(_e.ORIENTATION)%360),f.putMetadata(_e.ORIENTATION,w);const S=f.getResultPoints();if(S!==null){const b=c.getHeight();for(let _=0;_<S.length;_++)S[_]=new Ce(b-S[_].getY()-1,S[_].getX())}return f}else throw new Q}}reset(){}doDecode(e,r){const o=e.getWidth(),l=e.getHeight();let c=new ee(o);const f=r&&r.get(ue.TRY_HARDER)===!0,g=Math.max(1,l>>(f?8:5));let w;f?w=l:w=15;const S=Math.trunc(l/2);for(let b=0;b<w;b++){const _=Math.trunc((b+1)/2),L=(b&1)===0,U=S+g*(L?_:-_);if(U<0||U>=l)break;try{c=e.getBlackRow(U,c)}catch{continue}for(let G=0;G<2;G++){if(G===1&&(c.reverse(),r&&r.get(ue.NEED_RESULT_POINT_CALLBACK)===!0)){const X=new Map;r.forEach(($,oe)=>X.set(oe,$)),X.delete(ue.NEED_RESULT_POINT_CALLBACK),r=X}try{const X=this.decodeRow(U,c,r);if(G===1){X.putMetadata(_e.ORIENTATION,180);const $=X.getResultPoints();$!==null&&($[0]=new Ce(o-$[0].getX()-1,$[0].getY()),$[1]=new Ce(o-$[1].getX()-1,$[1].getY()))}return X}catch{}}}throw new Q}static recordPattern(e,r,o){const l=o.length;for(let S=0;S<l;S++)o[S]=0;const c=e.getSize();if(r>=c)throw new Q;let f=!e.get(r),g=0,w=r;for(;w<c;){if(e.get(w)!==f)o[g]++;else{if(++g===l)break;o[g]=1,f=!f}w++}if(!(g===l||g===l-1&&w===c))throw new Q}static recordPatternInReverse(e,r,o){let l=o.length,c=e.get(r);for(;r>0&&l>=0;)e.get(--r)!==c&&(l--,c=!c);if(l>=0)throw new Q;It.recordPattern(e,r+1,o)}static patternMatchVariance(e,r,o){const l=e.length;let c=0,f=0;for(let S=0;S<l;S++)c+=e[S],f+=r[S];if(c<f)return Number.POSITIVE_INFINITY;const g=c/f;o*=g;let w=0;for(let S=0;S<l;S++){const b=e[S],_=r[S]*g,L=b>_?b-_:_-b;if(L>o)return Number.POSITIVE_INFINITY;w+=L}return w/c}}class Ne extends It{static findStartPattern(e){const r=e.getSize(),o=e.getNextSet(0);let l=0,c=Int32Array.from([0,0,0,0,0,0]),f=o,g=!1;const w=6;for(let S=o;S<r;S++)if(e.get(S)!==g)c[l]++;else{if(l===w-1){let b=Ne.MAX_AVG_VARIANCE,_=-1;for(let L=Ne.CODE_START_A;L<=Ne.CODE_START_C;L++){const U=It.patternMatchVariance(c,Ne.CODE_PATTERNS[L],Ne.MAX_INDIVIDUAL_VARIANCE);U<b&&(b=U,_=L)}if(_>=0&&e.isRange(Math.max(0,f-(S-f)/2),f,!1))return Int32Array.from([f,S,_]);f+=c[0]+c[1],c=c.slice(2,c.length-1),c[l-1]=0,c[l]=0,l--}else l++;c[l]=1,g=!g}throw new Q}static decodeCode(e,r,o){It.recordPattern(e,o,r);let l=Ne.MAX_AVG_VARIANCE,c=-1;for(let f=0;f<Ne.CODE_PATTERNS.length;f++){const g=Ne.CODE_PATTERNS[f],w=this.patternMatchVariance(r,g,Ne.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,c=f)}if(c>=0)return c;throw new Q}decodeRow(e,r,o){const l=o&&o.get(ue.ASSUME_GS1)===!0,c=Ne.findStartPattern(r),f=c[2];let g=0;const w=new Uint8Array(20);w[g++]=f;let S;switch(f){case Ne.CODE_START_A:S=Ne.CODE_CODE_A;break;case Ne.CODE_START_B:S=Ne.CODE_CODE_B;break;case Ne.CODE_START_C:S=Ne.CODE_CODE_C;break;default:throw new J}let b=!1,_=!1,L="",U=c[0],G=c[1];const X=Int32Array.from([0,0,0,0,0,0]);let $=0,oe=0,Ae=f,Te=0,xe=!0,ut=!1,rt=!1;for(;!b;){const Zr=_;switch(_=!1,$=oe,oe=Ne.decodeCode(r,X,G),w[g++]=oe,oe!==Ne.CODE_STOP&&(xe=!0),oe!==Ne.CODE_STOP&&(Te++,Ae+=Te*oe),U=G,G+=X.reduce((ts,oa)=>ts+oa,0),oe){case Ne.CODE_START_A:case Ne.CODE_START_B:case Ne.CODE_START_C:throw new J}switch(S){case Ne.CODE_CODE_A:if(oe<64)rt===ut?L+=String.fromCharCode(32+oe):L+=String.fromCharCode(32+oe+128),rt=!1;else if(oe<96)rt===ut?L+=String.fromCharCode(oe-64):L+=String.fromCharCode(oe+64),rt=!1;else switch(oe!==Ne.CODE_STOP&&(xe=!1),oe){case Ne.CODE_FNC_1:l&&(L.length===0?L+="]C1":L+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_A:!ut&&rt?(ut=!0,rt=!1):ut&&rt?(ut=!1,rt=!1):rt=!0;break;case Ne.CODE_SHIFT:_=!0,S=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_B:S=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_C:S=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:b=!0;break}break;case Ne.CODE_CODE_B:if(oe<96)rt===ut?L+=String.fromCharCode(32+oe):L+=String.fromCharCode(32+oe+128),rt=!1;else switch(oe!==Ne.CODE_STOP&&(xe=!1),oe){case Ne.CODE_FNC_1:l&&(L.length===0?L+="]C1":L+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_B:!ut&&rt?(ut=!0,rt=!1):ut&&rt?(ut=!1,rt=!1):rt=!0;break;case Ne.CODE_SHIFT:_=!0,S=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_A:S=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_C:S=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:b=!0;break}break;case Ne.CODE_CODE_C:if(oe<100)oe<10&&(L+="0"),L+=oe;else switch(oe!==Ne.CODE_STOP&&(xe=!1),oe){case Ne.CODE_FNC_1:l&&(L.length===0?L+="]C1":L+="");break;case Ne.CODE_CODE_A:S=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_B:S=Ne.CODE_CODE_B;break;case Ne.CODE_STOP:b=!0;break}break}Zr&&(S=S===Ne.CODE_CODE_A?Ne.CODE_CODE_B:Ne.CODE_CODE_A)}const Xn=G-U;if(G=r.getNextUnset(G),!r.isRange(G,Math.min(r.getSize(),G+(G-U)/2),!1))throw new Q;if(Ae-=Te*$,Ae%103!==$)throw new O;const Sr=L.length;if(Sr===0)throw new Q;Sr>0&&xe&&(S===Ne.CODE_CODE_C?L=L.substring(0,Sr-2):L=L.substring(0,Sr-1));const mn=(c[1]+c[0])/2,Nt=U+Xn/2,en=w.length,jn=new Uint8Array(en);for(let Zr=0;Zr<en;Zr++)jn[Zr]=w[Zr];const Ni=[new Ce(mn,e),new Ce(Nt,e)];return new ve(L,jn,0,Ni,pe.CODE_128,new Date().getTime())}}Ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ne.MAX_AVG_VARIANCE=.25,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.CODE_SHIFT=98,Ne.CODE_CODE_C=99,Ne.CODE_CODE_B=100,Ne.CODE_CODE_A=101,Ne.CODE_FNC_1=102,Ne.CODE_FNC_2=97,Ne.CODE_FNC_3=96,Ne.CODE_FNC_4_A=101,Ne.CODE_FNC_4_B=100,Ne.CODE_START_A=103,Ne.CODE_START_B=104,Ne.CODE_START_C=105,Ne.CODE_STOP=106;class Qt extends It{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let c=Qt.findAsteriskPattern(r,l),f=r.getNextSet(c[1]),g=r.getSize(),w,S;do{Qt.recordPattern(r,f,l);let X=Qt.toNarrowWidePattern(l);if(X<0)throw new Q;w=Qt.patternToChar(X),this.decodeRowResult+=w,S=f;for(let $ of l)f+=$;f=r.getNextSet(f)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let X of l)b+=X;let _=f-S-b;if(f!==g&&_*2<b)throw new Q;if(this.usingCheckDigit){let X=this.decodeRowResult.length-1,$=0;for(let oe=0;oe<X;oe++)$+=Qt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(oe));if(this.decodeRowResult.charAt(X)!==Qt.ALPHABET_STRING.charAt($%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,X)}if(this.decodeRowResult.length===0)throw new Q;let L;this.extendedMode?L=Qt.decodeExtended(this.decodeRowResult):L=this.decodeRowResult;let U=(c[1]+c[0])/2,G=S+b/2;return new ve(L,null,0,[new Ce(U,e),new Ce(G,e)],pe.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let o=e.getSize(),l=e.getNextSet(0),c=0,f=l,g=!1,w=r.length;for(let S=l;S<o;S++)if(e.get(S)!==g)r[c]++;else{if(c===w-1){if(this.toNarrowWidePattern(r)===Qt.ASTERISK_ENCODING&&e.isRange(Math.max(0,f-Math.floor((S-f)/2)),f,!1))return[f,S];f+=r[0]+r[1],r.copyWithin(0,2,2+c-1),r[c-1]=0,r[c]=0,c--}else c++;r[c]=1,g=!g}throw new Q}static toNarrowWidePattern(e){let r=e.length,o=0,l;do{let c=2147483647;for(let w of e)w<c&&w>o&&(c=w);o=c,l=0;let f=0,g=0;for(let w=0;w<r;w++){let S=e[w];S>o&&(g|=1<<r-1-w,l++,f+=S)}if(l===3){for(let w=0;w<r&&l>0;w++){let S=e[w];if(S>o&&(l--,S*2>=f))return-1}return g}}while(l>3);return-1}static patternToChar(e){for(let r=0;r<Qt.CHARACTER_ENCODINGS.length;r++)if(Qt.CHARACTER_ENCODINGS[r]===e)return Qt.ALPHABET_STRING.charAt(r);if(e===Qt.ASTERISK_ENCODING)return"*";throw new Q}static decodeExtended(e){let r=e.length,o="";for(let l=0;l<r;l++){let c=e.charAt(l);if(c==="+"||c==="$"||c==="%"||c==="/"){let f=e.charAt(l+1),g="\0";switch(c){case"+":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)+32);else throw new J;break;case"$":if(f>="A"&&f<="Z")g=String.fromCharCode(f.charCodeAt(0)-64);else throw new J;break;case"%":if(f>="A"&&f<="E")g=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")g=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")g=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")g="\0";else if(f==="V")g="@";else if(f==="W")g="`";else if(f==="X"||f==="Y"||f==="Z")g="";else throw new J;break;case"/":if(f>="A"&&f<="O")g=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")g=":";else throw new J;break}o+=g,l++}else o+=c}return o}}Qt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Qt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Qt.ASTERISK_ENCODING=148;class vt extends It{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,o){let l=this.decodeStart(r),c=this.decodeEnd(r),f=new Fe;vt.decodeMiddle(r,l[1],c[0],f);let g=f.toString(),w=null;o!=null&&(w=o.get(ue.ALLOWED_LENGTHS)),w==null&&(w=vt.DEFAULT_ALLOWED_LENGTHS);let S=g.length,b=!1,_=0;for(let G of w){if(S===G){b=!0;break}G>_&&(_=G)}if(!b&&S>_&&(b=!0),!b)throw new J;const L=[new Ce(l[1],e),new Ce(c[0],e)];return new ve(g,null,0,L,pe.ITF,new Date().getTime())}static decodeMiddle(e,r,o,l){let c=new Int32Array(10),f=new Int32Array(5),g=new Int32Array(5);for(c.fill(0),f.fill(0),g.fill(0);r<o;){It.recordPattern(e,r,c);for(let S=0;S<5;S++){let b=2*S;f[S]=c[b],g[S]=c[b+1]}let w=vt.decodeDigit(f);l.append(w.toString()),w=this.decodeDigit(g),l.append(w.toString()),c.forEach(function(S){r+=S})}}decodeStart(e){let r=vt.skipWhiteSpace(e),o=vt.findGuardPattern(e,r,vt.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(e,o[0]),o}validateQuietZone(e,r){let o=this.narrowLineWidth*10;o=o<r?o:r;for(let l=r-1;o>0&&l>=0&&!e.get(l);l--)o--;if(o!==0)throw new Q}static skipWhiteSpace(e){const r=e.getSize(),o=e.getNextSet(0);if(o===r)throw new Q;return o}decodeEnd(e){e.reverse();try{let r=vt.skipWhiteSpace(e),o;try{o=vt.findGuardPattern(e,r,vt.END_PATTERN_REVERSED[0])}catch(c){c instanceof Q&&(o=vt.findGuardPattern(e,r,vt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,o[0]);let l=o[0];return o[0]=e.getSize()-o[1],o[1]=e.getSize()-l,o}finally{e.reverse()}}static findGuardPattern(e,r,o){let l=o.length,c=new Int32Array(l),f=e.getSize(),g=!1,w=0,S=r;c.fill(0);for(let b=r;b<f;b++)if(e.get(b)!==g)c[w]++;else{if(w===l-1){if(It.patternMatchVariance(c,o,vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return[S,b];S+=c[0]+c[1],B.arraycopy(c,2,c,0,w-1),c[w-1]=0,c[w]=0,w--}else w++;c[w]=1,g=!g}throw new Q}static decodeDigit(e){let r=vt.MAX_AVG_VARIANCE,o=-1,l=vt.PATTERNS.length;for(let c=0;c<l;c++){let f=vt.PATTERNS[c],g=It.patternMatchVariance(e,f,vt.MAX_INDIVIDUAL_VARIANCE);g<r?(r=g,o=c):g===r&&(o=-1)}if(o>=0)return o%10;throw new Q}}vt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],vt.MAX_AVG_VARIANCE=.38,vt.MAX_INDIVIDUAL_VARIANCE=.5,vt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],vt.START_PATTERN=Int32Array.from([1,1,1,1]),vt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class kt extends It{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,o,l=0,c=Int32Array.from([0,0,0]);for(;!r;){c=Int32Array.from([0,0,0]),o=kt.findGuardPattern(e,l,!1,this.START_END_PATTERN,c);let f=o[0];l=o[1];let g=f-(l-f);g>=0&&(r=e.isRange(g,f,!1))}return o}static checkChecksum(e){return kt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let o=parseInt(e.charAt(r-1),10);return kt.getStandardUPCEANChecksum(e.substring(0,r-1))===o}static getStandardUPCEANChecksum(e){let r=e.length,o=0;for(let l=r-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new J;o+=c}o*=3;for(let l=r-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new J;o+=c}return(1e3-o)%10}static decodeEnd(e,r){return kt.findGuardPattern(e,r,!1,kt.START_END_PATTERN,new Int32Array(kt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,o,l){return this.findGuardPattern(e,r,o,l,new Int32Array(l.length))}static findGuardPattern(e,r,o,l,c){let f=e.getSize();r=o?e.getNextUnset(r):e.getNextSet(r);let g=0,w=r,S=l.length,b=o;for(let _=r;_<f;_++)if(e.get(_)!==b)c[g]++;else{if(g===S-1){if(It.patternMatchVariance(c,l,kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return Int32Array.from([w,_]);w+=c[0]+c[1];let L=c.slice(2,c.length-1);for(let U=0;U<g-1;U++)c[U]=L[U];c[g-1]=0,c[g]=0,g--}else g++;c[g]=1,b=!b}throw new Q}static decodeDigit(e,r,o,l){this.recordPattern(e,o,r);let c=this.MAX_AVG_VARIANCE,f=-1,g=l.length;for(let w=0;w<g;w++){let S=l[w],b=It.patternMatchVariance(r,S,kt.MAX_INDIVIDUAL_VARIANCE);b<c&&(c=b,f=w)}if(f>=0)return f;throw new Q}}kt.MAX_AVG_VARIANCE=.48,kt.MAX_INDIVIDUAL_VARIANCE=.7,kt.START_END_PATTERN=Int32Array.from([1,1,1]),kt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),kt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),kt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class mr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,o){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(r,o,l),f=l.toString(),g=mr.parseExtensionString(f),w=[new Ce((o[0]+o[1])/2,e),new Ce(c,e)],S=new ve(f,null,0,w,pe.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&S.putAllMetadata(g),S}decodeMiddle(e,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),f=r[1],g=0;for(let S=0;S<5&&f<c;S++){let b=kt.decodeDigit(e,l,f,kt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let _ of l)f+=_;b>=10&&(g|=1<<4-S),S!==4&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==5)throw new Q;let w=this.determineCheckDigit(g);if(mr.extensionChecksum(o.toString())!==w)throw new Q;return f}static extensionChecksum(e){let r=e.length,o=0;for(let l=r-2;l>=0;l-=2)o+=e.charAt(l).charCodeAt(0)-48;o*=3;for(let l=r-1;l>=0;l-=2)o+=e.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new Q}static parseExtensionString(e){if(e.length!==5)return null;let r=mr.parseExtension5String(e);return r==null?null:new Map([[_e.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let o=parseInt(e.substring(1)),l=(o/100).toString(),c=o%100,f=c<10?"0"+c:c.toString();return r+l+"."+f}}class Ei{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,o){let l=this.decodeRowStringBuffer,c=this.decodeMiddle(r,o,l),f=l.toString(),g=Ei.parseExtensionString(f),w=[new Ce((o[0]+o[1])/2,e),new Ce(c,e)],S=new ve(f,null,0,w,pe.UPC_EAN_EXTENSION,new Date().getTime());return g!=null&&S.putAllMetadata(g),S}decodeMiddle(e,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),f=r[1],g=0;for(let w=0;w<2&&f<c;w++){let S=kt.decodeDigit(e,l,f,kt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+S%10);for(let b of l)f+=b;S>=10&&(g|=1<<1-w),w!==1&&(f=e.getNextSet(f),f=e.getNextUnset(f))}if(o.length!==2)throw new Q;if(parseInt(o.toString())%4!==g)throw new Q;return f}static parseExtensionString(e){return e.length!==2?null:new Map([[_e.ISSUE_NUMBER,parseInt(e)]])}}class Si{static decodeRow(e,r,o){let l=kt.findGuardPattern(r,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new mr().decodeRow(e,r,l)}catch{return new Ei().decodeRow(e,r,l)}}}Si.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Se extends kt{constructor(){super(),this.decodeRowStringBuffer="",Se.L_AND_G_PATTERNS=Se.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=Se.L_PATTERNS[e-10],o=new Int32Array(r.length);for(let l=0;l<r.length;l++)o[l]=r[r.length-l-1];Se.L_AND_G_PATTERNS[e]=o}}decodeRow(e,r,o){let l=Se.findStartGuardPattern(r),c=o==null?null:o.get(ue.NEED_RESULT_POINT_CALLBACK);if(c!=null){const xe=new Ce((l[0]+l[1])/2,e);c.foundPossibleResultPoint(xe)}let f=this.decodeMiddle(r,l,this.decodeRowStringBuffer),g=f.rowOffset,w=f.resultString;if(c!=null){const xe=new Ce(g,e);c.foundPossibleResultPoint(xe)}let S=this.decodeEnd(r,g);if(c!=null){const xe=new Ce((S[0]+S[1])/2,e);c.foundPossibleResultPoint(xe)}let b=S[1],_=b+(b-S[0]);if(_>=r.getSize()||!r.isRange(b,_,!1))throw new Q;let L=w.toString();if(L.length<8)throw new J;if(!Se.checkChecksum(L))throw new O;let U=(l[1]+l[0])/2,G=(S[1]+S[0])/2,X=this.getBarcodeFormat(),$=[new Ce(U,e),new Ce(G,e)],oe=new ve(L,null,0,$,X,new Date().getTime()),Ae=0;try{let xe=Si.decodeRow(e,r,S[1]);oe.putMetadata(_e.UPC_EAN_EXTENSION,xe.getText()),oe.putAllMetadata(xe.getResultMetadata()),oe.addResultPoints(xe.getResultPoints()),Ae=xe.getText().length}catch{}let Te=o==null?null:o.get(ue.ALLOWED_EAN_EXTENSIONS);if(Te!=null){let xe=!1;for(let ut in Te)if(Ae.toString()===ut){xe=!0;break}if(!xe)throw new Q}return oe}decodeEnd(e,r){return Se.findGuardPattern(e,r,!1,Se.START_END_PATTERN,new Int32Array(Se.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return Se.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let o=parseInt(e.charAt(r-1),10);return Se.getStandardUPCEANChecksum(e.substring(0,r-1))===o}static getStandardUPCEANChecksum(e){let r=e.length,o=0;for(let l=r-1;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new J;o+=c}o*=3;for(let l=r-2;l>=0;l-=2){let c=e.charAt(l).charCodeAt(0)-48;if(c<0||c>9)throw new J;o+=c}return(1e3-o)%10}}class at extends Se{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),f=r[1],g=0;for(let S=0;S<6&&f<c;S++){let b=Se.decodeDigit(e,l,f,Se.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let _ of l)f+=_;b>=10&&(g|=1<<5-S)}o=at.determineFirstDigit(o,g),f=Se.findGuardPattern(e,f,!0,Se.MIDDLE_PATTERN,new Int32Array(Se.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<6&&f<c;S++){let b=Se.decodeDigit(e,l,f,Se.L_PATTERNS);o+=String.fromCharCode(48+b);for(let _ of l)f+=_}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return pe.EAN_13}static determineFirstDigit(e,r){for(let o=0;o<10;o++)if(r===this.FIRST_DIGIT_ENCODINGS[o])return e=String.fromCharCode(48+o)+e,e;throw new Q}}at.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class bt extends Se{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),f=r[1];for(let w=0;w<4&&f<c;w++){let S=Se.decodeDigit(e,l,f,Se.L_PATTERNS);o+=String.fromCharCode(48+S);for(let b of l)f+=b}f=Se.findGuardPattern(e,f,!0,Se.MIDDLE_PATTERN,new Int32Array(Se.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&f<c;w++){let S=Se.decodeDigit(e,l,f,Se.L_PATTERNS);o+=String.fromCharCode(48+S);for(let b of l)f+=b}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return pe.EAN_8}}class wn extends Se{constructor(){super(...arguments),this.ean13Reader=new at}getBarcodeFormat(){return pe.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,o))}decodeMiddle(e,r,o){return this.ean13Reader.decodeMiddle(e,r,o)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let o=new ve(r.substring(1),null,null,e.getResultPoints(),pe.UPC_A);return e.getResultMetadata()!=null&&o.putAllMetadata(e.getResultMetadata()),o}else throw new Q}reset(){this.ean13Reader.reset()}}class Ye extends Se{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,o){const l=this.decodeMiddleCounters.map(S=>S);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const c=e.getSize();let f=r[1],g=0;for(let S=0;S<6&&f<c;S++){const b=Ye.decodeDigit(e,l,f,Ye.L_AND_G_PATTERNS);o+=String.fromCharCode(48+b%10);for(let _ of l)f+=_;b>=10&&(g|=1<<5-S)}let w=Ye.determineNumSysAndCheckDigit(o,g);return{rowOffset:f,resultString:w}}decodeEnd(e,r){return Ye.findGuardPatternWithoutCounters(e,r,!0,Ye.MIDDLE_END_PATTERN)}checkChecksum(e){return Se.checkChecksum(Ye.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let c=String.fromCharCode(48+o),f=String.fromCharCode(48+l);return c+e+f}throw Q.getNotFoundInstance()}getBarcodeFormat(){return pe.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(c=>c.charCodeAt(0)),o=new Fe;o.append(e.charAt(0));let l=r[5];switch(l){case 0:case 1:case 2:o.appendChars(r,0,2),o.append(l),o.append("0000"),o.appendChars(r,2,3);break;case 3:o.appendChars(r,0,3),o.append("00000"),o.appendChars(r,3,2);break;case 4:o.appendChars(r,0,4),o.append("00000"),o.append(r[4]);break;default:o.appendChars(r,0,5),o.append("0000"),o.append(l);break}return e.length>=8&&o.append(e.charAt(7)),o.toString()}}Ye.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ye.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class En extends It{constructor(e){super();let r=e==null?null:e.get(ue.POSSIBLE_FORMATS),o=[];u(r)?(o.push(new at),o.push(new wn),o.push(new bt),o.push(new Ye)):(r.indexOf(pe.EAN_13)>-1&&o.push(new at),r.indexOf(pe.UPC_A)>-1&&o.push(new wn),r.indexOf(pe.EAN_8)>-1&&o.push(new bt),r.indexOf(pe.UPC_E)>-1&&o.push(new Ye)),this.readers=o}decodeRow(e,r,o){for(let l of this.readers)try{const c=l.decodeRow(e,r,o),f=c.getBarcodeFormat()===pe.EAN_13&&c.getText().charAt(0)==="0",g=o==null?null:o.get(ue.POSSIBLE_FORMATS),w=g==null||g.includes(pe.UPC_A);if(f&&w){const S=c.getRawBytes(),b=new ve(c.getText().substring(1),S,S?S.length:null,c.getResultPoints(),pe.UPC_A);return b.putAllMetadata(c.getResultMetadata()),b}return c}catch{}throw new Q}reset(){for(let e of this.readers)e.reset()}}class dn extends It{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let o=0;o<r.length;o++)if(It.patternMatchVariance(e,r[o],dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return o;throw new Q}static count(e){return tt.sum(new Int32Array(e))}static increment(e,r){let o=0,l=r[0];for(let c=1;c<e.length;c++)r[c]>l&&(l=r[c],o=c);e[o]++}static decrement(e,r){let o=0,l=r[0];for(let c=1;c<e.length;c++)r[c]<l&&(l=r[c],o=c);e[o]--}static isFinderPattern(e){let r=e[0]+e[1],o=r+e[2]+e[3],l=r/o;if(l>=dn.MIN_FINDER_PATTERN_RATIO&&l<=dn.MAX_FINDER_PATTERN_RATIO){let c=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let g of e)g>f&&(f=g),g<c&&(c=g);return f<10*c}return!1}}dn.MAX_AVG_VARIANCE=.2,dn.MAX_INDIVIDUAL_VARIANCE=.45,dn.MIN_FINDER_PATTERN_RATIO=9.5/12,dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Mr{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Mr))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ri{constructor(e,r,o,l,c){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Ce(o,c)),this.resultPoints.push(new Ce(l,c))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof ri))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class hn{constructor(){}static getRSSvalue(e,r,o){let l=0;for(let w of e)l+=w;let c=0,f=0,g=e.length;for(let w=0;w<g-1;w++){let S;for(S=1,f|=1<<w;S<e[w];S++,f&=~(1<<w)){let b=hn.combins(l-S-1,g-w-2);if(o&&f===0&&l-S-(g-w-1)>=g-w-1&&(b-=hn.combins(l-S-(g-w),g-w-2)),g-w-1>1){let _=0;for(let L=l-S-(g-w-2);L>r;L--)_+=hn.combins(l-S-L-1,g-w-3);b-=_*(g-1-w)}else l-S>r&&b--;c+=b}l-=S}return c}static combins(e,r){let o,l;e-r>r?(l=r,o=e-r):(l=e-r,o=r);let c=1,f=1;for(let g=e;g>o;g--)c*=g,f<=l&&(c/=f,f++);for(;f<=l;)c/=f,f++;return c}}class Hi{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let o=12*r,l=new ee(o),c=0,g=e[0].getRightChar().getValue();for(let w=11;w>=0;--w)g&1<<w&&l.set(c),c++;for(let w=1;w<e.length;++w){let S=e[w],b=S.getLeftChar().getValue();for(let _=11;_>=0;--_)b&1<<_&&l.set(c),c++;if(S.getRightChar()!=null){let _=S.getRightChar().getValue();for(let L=11;L>=0;--L)_&1<<L&&l.set(c),c++}}return l}}class xr{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Wo{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class vn extends Wo{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===vn.FNC1}}vn.FNC1="$";class _r extends Wo{constructor(e,r,o){super(e),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class kn extends Wo{constructor(e,r,o){if(super(e),r<0||r>10||o<0||o>10)throw new J;this.firstDigit=r,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===kn.FNC1}isSecondDigitFNC1(){return this.secondDigit===kn.FNC1}isAnyFNC1(){return this.firstDigit===kn.FNC1||this.secondDigit===kn.FNC1}}kn.FNC1=10;class Oe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new Q;let r=e.substring(0,2);for(let c of Oe.TWO_DIGIT_DATA_LENGTH)if(c[0]===r)return c[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(2,c[2],e):Oe.processFixedAI(2,c[1],e);if(e.length<3)throw new Q;let o=e.substring(0,3);for(let c of Oe.THREE_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(3,c[2],e):Oe.processFixedAI(3,c[1],e);for(let c of Oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(c[0]===o)return c[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(4,c[2],e):Oe.processFixedAI(4,c[1],e);if(e.length<4)throw new Q;let l=e.substring(0,4);for(let c of Oe.FOUR_DIGIT_DATA_LENGTH)if(c[0]===l)return c[1]===Oe.VARIABLE_LENGTH?Oe.processVariableAI(4,c[2],e):Oe.processFixedAI(4,c[1],e);throw new Q}static processFixedAI(e,r,o){if(o.length<e)throw new Q;let l=o.substring(0,e);if(o.length<e+r)throw new Q;let c=o.substring(e,e+r),f=o.substring(e+r),g="("+l+")"+c,w=Oe.parseFieldsInGeneralPurpose(f);return w==null?g:g+w}static processVariableAI(e,r,o){let l=o.substring(0,e),c;o.length<e+r?c=o.length:c=e+r;let f=o.substring(e,c),g=o.substring(c),w="("+l+")"+f,S=Oe.parseFieldsInGeneralPurpose(g);return S==null?w:w+S}}Oe.VARIABLE_LENGTH=[],Oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Oe.VARIABLE_LENGTH,20],["22",Oe.VARIABLE_LENGTH,29],["30",Oe.VARIABLE_LENGTH,8],["37",Oe.VARIABLE_LENGTH,8],["90",Oe.VARIABLE_LENGTH,30],["91",Oe.VARIABLE_LENGTH,30],["92",Oe.VARIABLE_LENGTH,30],["93",Oe.VARIABLE_LENGTH,30],["94",Oe.VARIABLE_LENGTH,30],["95",Oe.VARIABLE_LENGTH,30],["96",Oe.VARIABLE_LENGTH,30],["97",Oe.VARIABLE_LENGTH,3],["98",Oe.VARIABLE_LENGTH,30],["99",Oe.VARIABLE_LENGTH,30]],Oe.THREE_DIGIT_DATA_LENGTH=[["240",Oe.VARIABLE_LENGTH,30],["241",Oe.VARIABLE_LENGTH,30],["242",Oe.VARIABLE_LENGTH,6],["250",Oe.VARIABLE_LENGTH,30],["251",Oe.VARIABLE_LENGTH,30],["253",Oe.VARIABLE_LENGTH,17],["254",Oe.VARIABLE_LENGTH,20],["400",Oe.VARIABLE_LENGTH,30],["401",Oe.VARIABLE_LENGTH,30],["402",17],["403",Oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Oe.VARIABLE_LENGTH,20],["421",Oe.VARIABLE_LENGTH,15],["422",3],["423",Oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Oe.VARIABLE_LENGTH,15],["391",Oe.VARIABLE_LENGTH,18],["392",Oe.VARIABLE_LENGTH,15],["393",Oe.VARIABLE_LENGTH,18],["703",Oe.VARIABLE_LENGTH,30]],Oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Oe.VARIABLE_LENGTH,20],["8003",Oe.VARIABLE_LENGTH,30],["8004",Oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Oe.VARIABLE_LENGTH,30],["8008",Oe.VARIABLE_LENGTH,12],["8018",18],["8020",Oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Oe.VARIABLE_LENGTH,70],["8200",Oe.VARIABLE_LENGTH,70]];class Gi{constructor(e){this.buffer=new Fe,this.information=e}decodeAllCodes(e,r){let o=r,l=null;do{let c=this.decodeGeneralPurposeField(o,l),f=Oe.parseFieldsInGeneralPurpose(c.getNewString());if(f!=null&&e.append(f),c.isRemaining()?l=""+c.getRemainingValue():l=null,o===c.getNewPosition())break;o=c.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let c=this.extractNumericValueFromBitArray(e,4);return c===0?new kn(this.information.getSize(),kn.FNC1,kn.FNC1):new kn(this.information.getSize(),c-1,kn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),o=(r-8)/11,l=(r-8)%11;return new kn(e+7,o,l)}extractNumericValueFromBitArray(e,r){return Gi.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,o){let l=0;for(let c=0;c<o;++c)e.get(r+c)&&(l|=1<<o-c-1);return l}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new _r(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new _r(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let o=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(o!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new _r(this.current.getPosition(),this.buffer.toString()):r=new _r(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new xr(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new _r(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new _r(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new _r(this.current.getPosition(),this.buffer.toString());return new xr(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xr(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<116)return!0;if(e+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,8);return l>=232&&l<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new vn(e+5,vn.FNC1);if(r>=5&&r<15)return new vn(e+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(e,7);if(o>=64&&o<90)return new vn(e+7,""+(o+1));if(o>=90&&o<116)return new vn(e+7,""+(o+7));let l=this.extractNumericValueFromBitArray(e,8),c;switch(l){case 232:c="!";break;case 233:c='"';break;case 234:c="%";break;case 235:c="&";break;case 236:c="'";break;case 237:c="(";break;case 238:c=")";break;case 239:c="*";break;case 240:c="+";break;case 241:c=",";break;case 242:c="-";break;case 243:c=".";break;case 244:c="/";break;case 245:c=":";break;case 246:c=";";break;case 247:c="<";break;case 248:c="=";break;case 249:c=">";break;case 250:c="?";break;case 251:c="_";break;case 252:c=" ";break;default:throw new J}return new vn(e+8,c)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(e,6);return o>=16&&o<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new vn(e+5,vn.FNC1);if(r>=5&&r<15)return new vn(e+5,"0"+(r-5));let o=this.extractNumericValueFromBitArray(e,6);if(o>=32&&o<58)return new vn(e+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Ut("Decoding invalid alphanumeric value: "+o)}return new vn(e+6,l)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class Ho{constructor(e){this.information=e,this.generalDecoder=new Gi(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Gn extends Ho{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let o=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,o)}encodeCompressedGtinWithoutAI(e,r,o){for(let l=0;l<4;++l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*l,10);c/100===0&&e.append("0"),c/10===0&&e.append("0"),e.append(c)}Gn.appendCheckDigit(e,o)}static appendCheckDigit(e,r){let o=0;for(let l=0;l<13;l++){let c=e.charAt(l+r).charCodeAt(0)-48;o+=l&1?c:3*c}o=10-o%10,o===10&&(o=0),e.append(o)}}Gn.GTIN_SIZE=40;class lr extends Gn{constructor(e){super(e)}parseInformation(){let e=new Fe;e.append("(01)");let r=e.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(lr.HEADER_SIZE,4);return e.append(o),this.encodeCompressedGtinWithoutAI(e,lr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,lr.HEADER_SIZE+44)}}lr.HEADER_SIZE=4;class Ts extends Ho{constructor(e){super(e)}parseInformation(){let e=new Fe;return this.getGeneralDecoder().decodeAllCodes(e,Ts.HEADER_SIZE)}}Ts.HEADER_SIZE=5;class Is extends Gn{constructor(e){super(e)}encodeCompressedWeight(e,r,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,o);this.addWeightCode(e,l);let c=this.checkWeight(l),f=1e5;for(let g=0;g<5;++g)c/f===0&&e.append("0"),f/=10;e.append(c)}}class Dr extends Is{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Dr.HEADER_SIZE+Is.GTIN_SIZE+Dr.WEIGHT_SIZE)throw new Q;let e=new Fe;return this.encodeCompressedGtin(e,Dr.HEADER_SIZE),this.encodeCompressedWeight(e,Dr.HEADER_SIZE+Is.GTIN_SIZE,Dr.WEIGHT_SIZE),e.toString()}}Dr.HEADER_SIZE=5,Dr.WEIGHT_SIZE=15;class il extends Dr{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class sl extends Dr{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class yr extends Gn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<yr.HEADER_SIZE+Gn.GTIN_SIZE)throw new Q;let e=new Fe;this.encodeCompressedGtin(e,yr.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(yr.HEADER_SIZE+Gn.GTIN_SIZE,yr.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(yr.HEADER_SIZE+Gn.GTIN_SIZE+yr.LAST_DIGIT_SIZE,null);return e.append(o.getNewString()),e.toString()}}yr.HEADER_SIZE=8,yr.LAST_DIGIT_SIZE=2;class Rn extends Gn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Rn.HEADER_SIZE+Gn.GTIN_SIZE)throw new Q;let e=new Fe;this.encodeCompressedGtin(e,Rn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+Gn.GTIN_SIZE,Rn.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Rn.HEADER_SIZE+Gn.GTIN_SIZE+Rn.LAST_DIGIT_SIZE,Rn.FIRST_THREE_DIGITS_SIZE);o/100==0&&e.append("0"),o/10==0&&e.append("0"),e.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Rn.HEADER_SIZE+Gn.GTIN_SIZE+Rn.LAST_DIGIT_SIZE+Rn.FIRST_THREE_DIGITS_SIZE,null);return e.append(l.getNewString()),e.toString()}}Rn.HEADER_SIZE=8,Rn.LAST_DIGIT_SIZE=2,Rn.FIRST_THREE_DIGITS_SIZE=10;class zt extends Is{constructor(e,r,o){super(e),this.dateCode=o,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE+zt.DATE_SIZE)throw new Q;let e=new Fe;return this.encodeCompressedGtin(e,zt.HEADER_SIZE),this.encodeCompressedWeight(e,zt.HEADER_SIZE+zt.GTIN_SIZE,zt.WEIGHT_SIZE),this.encodeCompressedDate(e,zt.HEADER_SIZE+zt.GTIN_SIZE+zt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(r,zt.DATE_SIZE);if(o==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let l=o%32;o/=32;let c=o%12+1;o/=12;let f=o;f/10==0&&e.append("0"),e.append(f),c/10==0&&e.append("0"),e.append(c),l/10==0&&e.append("0"),e.append(l)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}zt.HEADER_SIZE=8,zt.WEIGHT_SIZE=20,zt.DATE_SIZE=16;function ol(M){try{if(M.get(1))return new lr(M);if(!M.get(2))return new Ts(M);switch(Gi.extractNumericValueFromBitArray(M,1,4)){case 4:return new il(M);case 5:return new sl(M)}switch(Gi.extractNumericValueFromBitArray(M,1,5)){case 12:return new yr(M);case 13:return new Rn(M)}switch(Gi.extractNumericValueFromBitArray(M,1,7)){case 56:return new zt(M,"310","11");case 57:return new zt(M,"320","11");case 58:return new zt(M,"310","13");case 59:return new zt(M,"320","13");case 60:return new zt(M,"310","15");case 61:return new zt(M,"320","15");case 62:return new zt(M,"310","17");case 63:return new zt(M,"320","17")}}catch(e){throw console.log(e),new Ut("unknown decoder: "+M)}}class Rt{constructor(e,r,o,l){this.leftchar=e,this.rightchar=r,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof Rt?Rt.equalsOrNull(e.leftchar,r.leftchar)&&Rt.equalsOrNull(e.rightchar,r.rightchar)&&Rt.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:Rt.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Go{constructor(e,r,o){this.pairs=e,this.rowNumber=r,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof Go?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let o;return e.forEach((l,c)=>{r.forEach(f=>{l.getLeftChar().getValue()===f.getLeftChar().getValue()&&l.getRightChar().getValue()===f.getRightChar().getValue()&&l.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class de extends dn{constructor(e){super(...arguments),this.pairs=new Array(de.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,o){this.pairs.length=0,this.startFromEven=!1;try{return de.constructResult(this.decodeRow2pairs(e,r))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,de.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(c){if(c instanceof Q){if(!this.pairs.length)throw new Q;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(e,!1),l){let c=this.checkRowsBoolean(!1);if(c!=null||(c=this.checkRowsBoolean(!0),c!=null))return c}throw new Q}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let o=r;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let f of e)this.pairs.push(f.getPairs());if(this.pairs.push(l.getPairs()),!de.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let c=new Array(e);c.push(l);try{return this.checkRows(c,o+1)}catch(f){this.verbose&&console.log(f)}}throw new Q}static isValidSequence(e){for(let r of de.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let o=!0;for(let l=0;l<e.length;l++)if(e[l].getFinderPattern().getValue()!=r[l]){o=!1;break}if(o)return!0}return!1}storeRow(e,r){let o=0,l=!1,c=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>e){c=f.isEquivalent(this.pairs);break}l=f.isEquivalent(this.pairs),o++}c||l||de.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Go(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let o of r)if(o.getPairs().length!==e.length){for(let l of o.getPairs())for(let c of e)if(Rt.equals(l,c))break}}static isPartialRow(e,r){for(let o of r){let l=!0;for(let c of e){let f=!1;for(let g of o.getPairs())if(c.equals(g)){f=!0;break}if(!f){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=Hi.buildBitArray(e),l=ol(r).parseInformation(),c=e[0].getFinderPattern().getResultPoints(),f=e[e.length-1].getFinderPattern().getResultPoints(),g=[c[0],c[1],f[0],f[1]];return new ve(l,null,null,g,pe.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),o=e.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),c=2;for(let g=1;g<this.pairs.size();++g){let w=this.pairs.get(g);l+=w.getLeftChar().getChecksumPortion(),c++;let S=w.getRightChar();S!=null&&(l+=S.getChecksumPortion(),c++)}return l%=211,211*(c-4)+l==r.getValue()}static getNextSecondBar(e,r){let o;return e.get(r)?(o=e.getNextUnset(r),o=e.getNextSet(o)):(o=e.getNextSet(r),o=e.getNextUnset(o)),o}retrieveNextPair(e,r,o){let l=r.length%2==0;this.startFromEven&&(l=!l);let c,f=!0,g=-1;do this.findNextPair(e,r,g),c=this.parseFoundFinderPattern(e,o,l),c==null?g=de.getNextSecondBar(e,this.startEnd[0]):f=!1;while(f);let w=this.decodeDataCharacter(e,c,l,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new Q;let S;try{S=this.decodeDataCharacter(e,c,l,!1)}catch(b){S=null,this.verbose&&console.log(b)}return new Rt(w,S,c,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let c=e.getSize(),f;o>=0?f=o:this.isEmptyPair(r)?f=0:f=r[r.length-1].getFinderPattern().getStartEnd()[1];let g=r.length%2!=0;this.startFromEven&&(g=!g);let w=!1;for(;f<c&&(w=!e.get(f),!!w);)f++;let S=0,b=f;for(let _=f;_<c;_++)if(e.get(_)!=w)l[S]++;else{if(S==3){if(g&&de.reverseCounters(l),de.isFinderPattern(l)){this.startEnd[0]=b,this.startEnd[1]=_;return}g&&de.reverseCounters(l),b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,S--}else S++;l[S]=1,w=!w}throw new Q}static reverseCounters(e){let r=e.length;for(let o=0;o<r/2;++o){let l=e[o];e[o]=e[r-o-1],e[r-o-1]=l}}parseFoundFinderPattern(e,r,o){let l,c,f;if(o){let S=this.startEnd[0]-1;for(;S>=0&&!e.get(S);)S--;S++,l=this.startEnd[0]-S,c=S,f=this.startEnd[1]}else c=this.startEnd[0],f=e.getNextUnset(this.startEnd[1]+1),l=f-this.startEnd[1];let g=this.getDecodeFinderCounters();B.arraycopy(g,0,g,1,g.length-1),g[0]=l;let w;try{w=this.parseFinderValue(g,de.FINDER_PATTERNS)}catch{return null}return new ri(w,[c,f],c,f,r)}decodeDataCharacter(e,r,o,l){let c=this.getDataCharacterCounters();for(let Nt=0;Nt<c.length;Nt++)c[Nt]=0;if(l)de.recordPatternInReverse(e,r.getStartEnd()[0],c);else{de.recordPattern(e,r.getStartEnd()[1],c);for(let Nt=0,en=c.length-1;Nt<en;Nt++,en--){let jn=c[Nt];c[Nt]=c[en],c[en]=jn}}let f=17,g=tt.sum(new Int32Array(c))/f,w=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(g-w)/w>.3)throw new Q;let S=this.getOddCounts(),b=this.getEvenCounts(),_=this.getOddRoundingErrors(),L=this.getEvenRoundingErrors();for(let Nt=0;Nt<c.length;Nt++){let en=1*c[Nt]/g,jn=en+.5;if(jn<1){if(en<.3)throw new Q;jn=1}else if(jn>8){if(en>8.7)throw new Q;jn=8}let Ni=Nt/2;Nt&1?(b[Ni]=jn,L[Ni]=en-jn):(S[Ni]=jn,_[Ni]=en-jn)}this.adjustOddEvenCounts(f);let U=4*r.getValue()+(o?0:2)+(l?0:1)-1,G=0,X=0;for(let Nt=S.length-1;Nt>=0;Nt--){if(de.isNotA1left(r,o,l)){let en=de.WEIGHTS[U][2*Nt];X+=S[Nt]*en}G+=S[Nt]}let $=0;for(let Nt=b.length-1;Nt>=0;Nt--)if(de.isNotA1left(r,o,l)){let en=de.WEIGHTS[U][2*Nt+1];$+=b[Nt]*en}let oe=X+$;if(G&1||G>13||G<4)throw new Q;let Ae=(13-G)/2,Te=de.SYMBOL_WIDEST[Ae],xe=9-Te,ut=hn.getRSSvalue(S,Te,!0),rt=hn.getRSSvalue(b,xe,!1),Xn=de.EVEN_TOTAL_SUBSET[Ae],Sr=de.GSUM[Ae],mn=ut*Xn+rt+Sr;return new Mr(mn,oe)}static isNotA1left(e,r,o){return!(e.getValue()==0&&r&&o)}adjustOddEvenCounts(e){let r=tt.sum(new Int32Array(this.getOddCounts())),o=tt.sum(new Int32Array(this.getEvenCounts())),l=!1,c=!1;r>13?c=!0:r<4&&(l=!0);let f=!1,g=!1;o>13?g=!0:o<4&&(f=!0);let w=r+o-e,S=(r&1)==1,b=(o&1)==0;if(w==1)if(S){if(b)throw new Q;c=!0}else{if(!b)throw new Q;g=!0}else if(w==-1)if(S){if(b)throw new Q;l=!0}else{if(!b)throw new Q;f=!0}else if(w==0){if(S){if(!b)throw new Q;r<o?(l=!0,g=!0):(c=!0,f=!0)}else if(b)throw new Q}else throw new Q;if(l){if(c)throw new Q;de.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&de.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(g)throw new Q;de.increment(this.getEvenCounts(),this.getOddRoundingErrors())}g&&de.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}de.SYMBOL_WIDEST=[7,5,4,3,1],de.EVEN_TOTAL_SUBSET=[4,20,52,104,204],de.GSUM=[0,348,1388,2948,3988],de.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],de.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],de.FINDER_PAT_A=0,de.FINDER_PAT_B=1,de.FINDER_PAT_C=2,de.FINDER_PAT_D=3,de.FINDER_PAT_E=4,de.FINDER_PAT_F=5,de.FINDER_PATTERN_SEQUENCES=[[de.FINDER_PAT_A,de.FINDER_PAT_A],[de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B],[de.FINDER_PAT_A,de.FINDER_PAT_C,de.FINDER_PAT_B,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_C],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_E,de.FINDER_PAT_B,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F],[de.FINDER_PAT_A,de.FINDER_PAT_A,de.FINDER_PAT_B,de.FINDER_PAT_B,de.FINDER_PAT_C,de.FINDER_PAT_D,de.FINDER_PAT_D,de.FINDER_PAT_E,de.FINDER_PAT_E,de.FINDER_PAT_F,de.FINDER_PAT_F]],de.MAX_PAIRS=11;class al extends Mr{constructor(e,r,o){super(e,r),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ft extends dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,o){const l=this.decodePair(r,!1,e,o);Ft.addOrTally(this.possibleLeftPairs,l),r.reverse();let c=this.decodePair(r,!0,e,o);Ft.addOrTally(this.possibleRightPairs,c),r.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let g of this.possibleRightPairs)if(g.getCount()>1&&Ft.checkChecksum(f,g))return Ft.constructResult(f,g)}throw new Q}static addOrTally(e,r){if(r==null)return;let o=!1;for(let l of e)if(l.getValue()===r.getValue()){l.incrementCount(),o=!0;break}o||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let o=4537077*e.getValue()+r.getValue(),l=new String(o).toString(),c=new Fe;for(let S=13-l.length;S>0;S--)c.append("0");c.append(l);let f=0;for(let S=0;S<13;S++){let b=c.charAt(S).charCodeAt(0)-48;f+=S&1?b:3*b}f=10-f%10,f===10&&(f=0),c.append(f.toString());let g=e.getFinderPattern().getResultPoints(),w=r.getFinderPattern().getResultPoints();return new ve(c.toString(),null,0,[g[0],g[1],w[0],w[1]],pe.RSS_14,new Date().getTime())}static checkChecksum(e,r){let o=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,l=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(e,r,o,l){try{let c=this.findFinderPattern(e,r),f=this.parseFoundFinderPattern(e,o,r,c),g=l==null?null:l.get(ue.NEED_RESULT_POINT_CALLBACK);if(g!=null){let b=(c[0]+c[1])/2;r&&(b=e.getSize()-1-b),g.foundPossibleResultPoint(new Ce(b,o))}let w=this.decodeDataCharacter(e,f,!0),S=this.decodeDataCharacter(e,f,!1);return new al(1597*w.getValue()+S.getValue(),w.getChecksumPortion()+4*S.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(e,r,o){let l=this.getDataCharacterCounters();for(let $=0;$<l.length;$++)l[$]=0;if(o)It.recordPatternInReverse(e,r.getStartEnd()[0],l);else{It.recordPattern(e,r.getStartEnd()[1]+1,l);for(let $=0,oe=l.length-1;$<oe;$++,oe--){let Ae=l[$];l[$]=l[oe],l[oe]=Ae}}let c=o?16:15,f=tt.sum(new Int32Array(l))/c,g=this.getOddCounts(),w=this.getEvenCounts(),S=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let $=0;$<l.length;$++){let oe=l[$]/f,Ae=Math.floor(oe+.5);Ae<1?Ae=1:Ae>8&&(Ae=8);let Te=Math.floor($/2);$&1?(w[Te]=Ae,b[Te]=oe-Ae):(g[Te]=Ae,S[Te]=oe-Ae)}this.adjustOddEvenCounts(o,c);let _=0,L=0;for(let $=g.length-1;$>=0;$--)L*=9,L+=g[$],_+=g[$];let U=0,G=0;for(let $=w.length-1;$>=0;$--)U*=9,U+=w[$],G+=w[$];let X=L+3*U;if(o){if(_&1||_>12||_<4)throw new Q;let $=(12-_)/2,oe=Ft.OUTSIDE_ODD_WIDEST[$],Ae=9-oe,Te=hn.getRSSvalue(g,oe,!1),xe=hn.getRSSvalue(w,Ae,!0),ut=Ft.OUTSIDE_EVEN_TOTAL_SUBSET[$],rt=Ft.OUTSIDE_GSUM[$];return new Mr(Te*ut+xe+rt,X)}else{if(G&1||G>10||G<4)throw new Q;let $=(10-G)/2,oe=Ft.INSIDE_ODD_WIDEST[$],Ae=9-oe,Te=hn.getRSSvalue(g,oe,!0),xe=hn.getRSSvalue(w,Ae,!1),ut=Ft.INSIDE_ODD_TOTAL_SUBSET[$],rt=Ft.INSIDE_GSUM[$];return new Mr(xe*ut+Te+rt,X)}}findFinderPattern(e,r){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=e.getSize(),c=!1,f=0;for(;f<l&&(c=!e.get(f),r!==c);)f++;let g=0,w=f;for(let S=f;S<l;S++)if(e.get(S)!==c)o[g]++;else{if(g===3){if(dn.isFinderPattern(o))return[w,S];w+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,g--}else g++;o[g]=1,c=!c}throw new Q}parseFoundFinderPattern(e,r,o,l){let c=e.get(l[0]),f=l[0]-1;for(;f>=0&&c!==e.get(f);)f--;f++;const g=l[0]-f,w=this.getDecodeFinderCounters(),S=new Int32Array(w.length);B.arraycopy(w,0,S,1,w.length-1),S[0]=g;const b=this.parseFinderValue(S,Ft.FINDER_PATTERNS);let _=f,L=l[1];return o&&(_=e.getSize()-1-_,L=e.getSize()-1-L),new ri(b,[f,l[1]],_,L,r)}adjustOddEvenCounts(e,r){let o=tt.sum(new Int32Array(this.getOddCounts())),l=tt.sum(new Int32Array(this.getEvenCounts())),c=!1,f=!1,g=!1,w=!1;e?(o>12?f=!0:o<4&&(c=!0),l>12?w=!0:l<4&&(g=!0)):(o>11?f=!0:o<5&&(c=!0),l>10?w=!0:l<4&&(g=!0));let S=o+l-r,b=(o&1)===(e?1:0),_=(l&1)===1;if(S===1)if(b){if(_)throw new Q;f=!0}else{if(!_)throw new Q;w=!0}else if(S===-1)if(b){if(_)throw new Q;c=!0}else{if(!_)throw new Q;g=!0}else if(S===0){if(b){if(!_)throw new Q;o<l?(c=!0,w=!0):(f=!0,g=!0)}else if(_)throw new Q}else throw new Q;if(c){if(f)throw new Q;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new Q;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ft.OUTSIDE_GSUM=[0,161,961,2015,2715],Ft.INSIDE_GSUM=[0,336,1036,1516],Ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ft.INSIDE_ODD_WIDEST=[2,4,6,8],Ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Yi extends It{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const o=e?e.get(ue.POSSIBLE_FORMATS):null,l=e&&e.get(ue.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(pe.EAN_13)||o.includes(pe.UPC_A)||o.includes(pe.EAN_8)||o.includes(pe.UPC_E))&&this.readers.push(new En(e)),o.includes(pe.CODE_39)&&this.readers.push(new Qt(l)),o.includes(pe.CODE_128)&&this.readers.push(new Ne),o.includes(pe.ITF)&&this.readers.push(new vt),o.includes(pe.RSS_14)&&this.readers.push(new Ft),o.includes(pe.RSS_EXPANDED)&&this.readers.push(new de(this.verbose))):(this.readers.push(new En(e)),this.readers.push(new Qt),this.readers.push(new En(e)),this.readers.push(new Ne),this.readers.push(new vt),this.readers.push(new Ft),this.readers.push(new de(this.verbose)))}decodeRow(e,r,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(e,r,o)}catch{}throw new Q}reset(){this.readers.forEach(e=>e.reset())}}class ll extends me{constructor(e=500,r){super(new Yi(r),e,r)}}class mt{constructor(e,r,o){this.ecCodewords=e,this.ecBlocks=[r],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class lt{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(e,r,o,l,c,f){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=c,this.ecBlocks=f;let g=0;const w=f.getECCodewords(),S=f.getECBlocks();for(let b of S)g+=b.getCount()*(b.getDataCodewords()+w);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if(e&1||r&1)throw new J;for(let o of ht.VERSIONS)if(o.symbolSizeRows===e&&o.symbolSizeColumns===r)return o;throw new J}toString(){return""+this.versionNumber}static buildVersions(){return[new ht(1,10,10,8,8,new mt(5,new lt(1,3))),new ht(2,12,12,10,10,new mt(7,new lt(1,5))),new ht(3,14,14,12,12,new mt(10,new lt(1,8))),new ht(4,16,16,14,14,new mt(12,new lt(1,12))),new ht(5,18,18,16,16,new mt(14,new lt(1,18))),new ht(6,20,20,18,18,new mt(18,new lt(1,22))),new ht(7,22,22,20,20,new mt(20,new lt(1,30))),new ht(8,24,24,22,22,new mt(24,new lt(1,36))),new ht(9,26,26,24,24,new mt(28,new lt(1,44))),new ht(10,32,32,14,14,new mt(36,new lt(1,62))),new ht(11,36,36,16,16,new mt(42,new lt(1,86))),new ht(12,40,40,18,18,new mt(48,new lt(1,114))),new ht(13,44,44,20,20,new mt(56,new lt(1,144))),new ht(14,48,48,22,22,new mt(68,new lt(1,174))),new ht(15,52,52,24,24,new mt(42,new lt(2,102))),new ht(16,64,64,14,14,new mt(56,new lt(2,140))),new ht(17,72,72,16,16,new mt(36,new lt(4,92))),new ht(18,80,80,18,18,new mt(48,new lt(4,114))),new ht(19,88,88,20,20,new mt(56,new lt(4,144))),new ht(20,96,96,22,22,new mt(68,new lt(4,174))),new ht(21,104,104,24,24,new mt(56,new lt(6,136))),new ht(22,120,120,18,18,new mt(68,new lt(6,175))),new ht(23,132,132,20,20,new mt(62,new lt(8,163))),new ht(24,144,144,22,22,new mt(62,new lt(8,156),new lt(2,155))),new ht(25,8,18,6,16,new mt(7,new lt(1,5))),new ht(26,8,32,6,14,new mt(11,new lt(1,10))),new ht(27,12,26,10,24,new mt(14,new lt(1,16))),new ht(28,12,36,10,16,new mt(18,new lt(1,22))),new ht(29,16,36,14,16,new mt(24,new lt(1,32))),new ht(30,16,48,14,22,new mt(28,new lt(1,49)))]}}ht.VERSIONS=ht.buildVersions();class nr{constructor(e){const r=e.getHeight();if(r<8||r>144||r&1)throw new J;this.version=nr.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),o=e.getWidth();return ht.getVersionForDimensions(r,o)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,o=4,l=0;const c=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let g=!1,w=!1,S=!1,b=!1;do if(o===c&&l===0&&!g)e[r++]=this.readCorner1(c,f)&255,o-=2,l+=2,g=!0;else if(o===c-2&&l===0&&f&3&&!w)e[r++]=this.readCorner2(c,f)&255,o-=2,l+=2,w=!0;else if(o===c+4&&l===2&&!(f&7)&&!S)e[r++]=this.readCorner3(c,f)&255,o-=2,l+=2,S=!0;else if(o===c-2&&l===0&&(f&7)===4&&!b)e[r++]=this.readCorner4(c,f)&255,o-=2,l+=2,b=!0;else{do o<c&&l>=0&&!this.readMappingMatrix.get(l,o)&&(e[r++]=this.readUtah(o,l,c,f)&255),o-=2,l+=2;while(o>=0&&l<f);o+=1,l+=3;do o>=0&&l<f&&!this.readMappingMatrix.get(l,o)&&(e[r++]=this.readUtah(o,l,c,f)&255),o+=2,l-=2;while(o<c&&l>=0);o+=3,l+=1}while(o<c||l<f);if(r!==this.version.getTotalCodewords())throw new J;return e}readModule(e,r,o,l){return e<0&&(e+=o,r+=4-(o+4&7)),r<0&&(r+=l,e+=4-(l+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,o,l){let c=0;return this.readModule(e-2,r-2,o,l)&&(c|=1),c<<=1,this.readModule(e-2,r-1,o,l)&&(c|=1),c<<=1,this.readModule(e-1,r-2,o,l)&&(c|=1),c<<=1,this.readModule(e-1,r-1,o,l)&&(c|=1),c<<=1,this.readModule(e-1,r,o,l)&&(c|=1),c<<=1,this.readModule(e,r-2,o,l)&&(c|=1),c<<=1,this.readModule(e,r-1,o,l)&&(c|=1),c<<=1,this.readModule(e,r,o,l)&&(c|=1),c}readCorner1(e,r){let o=0;return this.readModule(e-1,0,e,r)&&(o|=1),o<<=1,this.readModule(e-1,1,e,r)&&(o|=1),o<<=1,this.readModule(e-1,2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-1,e,r)&&(o|=1),o<<=1,this.readModule(1,r-1,e,r)&&(o|=1),o<<=1,this.readModule(2,r-1,e,r)&&(o|=1),o<<=1,this.readModule(3,r-1,e,r)&&(o|=1),o}readCorner2(e,r){let o=0;return this.readModule(e-3,0,e,r)&&(o|=1),o<<=1,this.readModule(e-2,0,e,r)&&(o|=1),o<<=1,this.readModule(e-1,0,e,r)&&(o|=1),o<<=1,this.readModule(0,r-4,e,r)&&(o|=1),o<<=1,this.readModule(0,r-3,e,r)&&(o|=1),o<<=1,this.readModule(0,r-2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-1,e,r)&&(o|=1),o<<=1,this.readModule(1,r-1,e,r)&&(o|=1),o}readCorner3(e,r){let o=0;return this.readModule(e-1,0,e,r)&&(o|=1),o<<=1,this.readModule(e-1,r-1,e,r)&&(o|=1),o<<=1,this.readModule(0,r-3,e,r)&&(o|=1),o<<=1,this.readModule(0,r-2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-1,e,r)&&(o|=1),o<<=1,this.readModule(1,r-3,e,r)&&(o|=1),o<<=1,this.readModule(1,r-2,e,r)&&(o|=1),o<<=1,this.readModule(1,r-1,e,r)&&(o|=1),o}readCorner4(e,r){let o=0;return this.readModule(e-3,0,e,r)&&(o|=1),o<<=1,this.readModule(e-2,0,e,r)&&(o|=1),o<<=1,this.readModule(e-1,0,e,r)&&(o|=1),o<<=1,this.readModule(0,r-2,e,r)&&(o|=1),o<<=1,this.readModule(0,r-1,e,r)&&(o|=1),o<<=1,this.readModule(1,r-1,e,r)&&(o|=1),o<<=1,this.readModule(2,r-1,e,r)&&(o|=1),o<<=1,this.readModule(3,r-1,e,r)&&(o|=1),o}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new T("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),c=this.version.getDataRegionSizeColumns(),f=r/l|0,g=o/c|0,w=f*l,S=g*c,b=new Re(S,w);for(let _=0;_<f;++_){const L=_*l;for(let U=0;U<g;++U){const G=U*c;for(let X=0;X<l;++X){const $=_*(l+2)+1+X,oe=L+X;for(let Ae=0;Ae<c;++Ae){const Te=U*(c+2)+1+Ae;if(e.get(Te,$)){const xe=G+Ae;b.set(xe,oe)}}}}}return b}}class Yo{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const o=r.getECBlocks();let l=0;const c=o.getECBlocks();for(let X of c)l+=X.getCount();const f=new Array(l);let g=0;for(let X of c)for(let $=0;$<X.getCount();$++){const oe=X.getDataCodewords(),Ae=o.getECCodewords()+oe;f[g++]=new Yo(oe,new Uint8Array(Ae))}const S=f[0].codewords.length-o.getECCodewords(),b=S-1;let _=0;for(let X=0;X<b;X++)for(let $=0;$<g;$++)f[$].codewords[X]=e[_++];const L=r.getVersionNumber()===24,U=L?8:g;for(let X=0;X<U;X++)f[X].codewords[S-1]=e[_++];const G=f[0].codewords.length;for(let X=S;X<G;X++)for(let $=0;$<g;$++){const oe=L?($+8)%g:$,Ae=L&&oe>7?X-1:X;f[oe].codewords[Ae]=e[_++]}if(_!==e.length)throw new T;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Xo{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new T(""+e);let r=0,o=this.bitOffset,l=this.byteOffset;const c=this.bytes;if(o>0){const f=8-o,g=e<f?e:f,w=f-g,S=255>>8-g<<w;r=(c[l]&S)>>w,e-=g,o+=g,o===8&&(o=0,l++)}if(e>0){for(;e>=8;)r=r<<8|c[l]&255,l++,e-=8;if(e>0){const f=8-e,g=255>>f<<f;r=r<<e|(c[l]&g)>>f,o+=e}}return this.bitOffset=o,this.byteOffset=l,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var pn;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(pn||(pn={}));class wr{static decode(e){const r=new Xo(e),o=new Fe,l=new Fe,c=new Array;let f=pn.ASCII_ENCODE;do if(f===pn.ASCII_ENCODE)f=this.decodeAsciiSegment(r,o,l);else{switch(f){case pn.C40_ENCODE:this.decodeC40Segment(r,o);break;case pn.TEXT_ENCODE:this.decodeTextSegment(r,o);break;case pn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,o);break;case pn.EDIFACT_ENCODE:this.decodeEdifactSegment(r,o);break;case pn.BASE256_ENCODE:this.decodeBase256Segment(r,o,c);break;default:throw new J}f=pn.ASCII_ENCODE}while(f!==pn.PAD_ENCODE&&r.available()>0);return l.length()>0&&o.append(l.toString()),new it(e,o.toString(),c.length===0?null:c,null)}static decodeAsciiSegment(e,r,o){let l=!1;do{let c=e.readBits(8);if(c===0)throw new J;if(c<=128)return l&&(c+=128),r.append(String.fromCharCode(c-1)),pn.ASCII_ENCODE;if(c===129)return pn.PAD_ENCODE;if(c<=229){const f=c-130;f<10&&r.append("0"),r.append(""+f)}else switch(c){case 230:return pn.C40_ENCODE;case 231:return pn.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:r.append("[)>05"),o.insert(0,"");break;case 237:r.append("[)>06"),o.insert(0,"");break;case 238:return pn.ANSIX12_ENCODE;case 239:return pn.TEXT_ENCODE;case 240:return pn.EDIFACT_ENCODE;case 241:break;default:if(c!==254||e.available()!==0)throw new J;break}}while(e.available()>0);return pn.ASCII_ENCODE}static decodeC40Segment(e,r){let o=!1;const l=[];let c=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),l);for(let g=0;g<3;g++){const w=l[g];switch(c){case 0:if(w<3)c=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const S=this.C40_BASIC_SET_CHARS[w];o?(r.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):r.append(S)}else throw new J;break;case 1:o?(r.append(String.fromCharCode(w+128)),o=!1):r.append(String.fromCharCode(w)),c=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const S=this.C40_SHIFT2_SET_CHARS[w];o?(r.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):r.append(S)}else switch(w){case 27:r.append("");break;case 30:o=!0;break;default:throw new J}c=0;break;case 3:o?(r.append(String.fromCharCode(w+224)),o=!1):r.append(String.fromCharCode(w+96)),c=0;break;default:throw new J}}}while(e.available()>0)}static decodeTextSegment(e,r){let o=!1,l=[],c=0;do{if(e.available()===8)return;const f=e.readBits(8);if(f===254)return;this.parseTwoBytes(f,e.readBits(8),l);for(let g=0;g<3;g++){const w=l[g];switch(c){case 0:if(w<3)c=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const S=this.TEXT_BASIC_SET_CHARS[w];o?(r.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):r.append(S)}else throw new J;break;case 1:o?(r.append(String.fromCharCode(w+128)),o=!1):r.append(String.fromCharCode(w)),c=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const S=this.TEXT_SHIFT2_SET_CHARS[w];o?(r.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):r.append(S)}else switch(w){case 27:r.append("");break;case 30:o=!0;break;default:throw new J}c=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const S=this.TEXT_SHIFT3_SET_CHARS[w];o?(r.append(String.fromCharCode(S.charCodeAt(0)+128)),o=!1):r.append(S),c=0}else throw new J;break;default:throw new J}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const o=[];do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),o);for(let c=0;c<3;c++){const f=o[c];switch(f){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(f<14)r.append(String.fromCharCode(f+44));else if(f<40)r.append(String.fromCharCode(f+51));else throw new J;break}}}while(e.available()>0)}static parseTwoBytes(e,r,o){let l=(e<<8)+r-1,c=Math.floor(l/1600);o[0]=c,l-=c*1600,c=Math.floor(l/40),o[1]=c,o[2]=l-c*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let o=0;o<4;o++){let l=e.readBits(6);if(l===31){const c=8-e.getBitOffset();c!==8&&e.readBits(c);return}l&32||(l|=64),r.append(String.fromCharCode(l))}}while(e.available()>0)}static decodeBase256Segment(e,r,o){let l=1+e.getByteOffset();const c=this.unrandomize255State(e.readBits(8),l++);let f;if(c===0?f=e.available()/8|0:c<250?f=c:f=250*(c-249)+this.unrandomize255State(e.readBits(8),l++),f<0)throw new J;const g=new Uint8Array(f);for(let w=0;w<f;w++){if(e.available()<8)throw new J;g[w]=this.unrandomize255State(e.readBits(8),l++)}o.push(g);try{r.append(Pe.decode(g,be.ISO88591))}catch(w){throw new Ut("Platform does not support required encoding: "+w.message)}}static unrandomize255State(e,r){const o=149*r%255+1,l=e-o;return l>=0?l:l+256}}wr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],wr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],wr.TEXT_SHIFT2_SET_CHARS=wr.C40_SHIFT2_SET_CHARS,wr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ro{constructor(){this.rsDecoder=new gr(ot.DATA_MATRIX_FIELD_256)}decode(e){const r=new nr(e),o=r.getVersion(),l=r.readCodewords(),c=Yo.getDataBlocks(l,o);let f=0;for(let S of c)f+=S.getNumDataCodewords();const g=new Uint8Array(f),w=c.length;for(let S=0;S<w;S++){const b=c[S],_=b.getCodewords(),L=b.getNumDataCodewords();this.correctErrors(_,L);for(let U=0;U<L;U++)g[U*w+S]=_[U]}return wr.decode(g)}correctErrors(e,r){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-r)}catch{throw new O}for(let l=0;l<r;l++)e[l]=o[l]}}class jt{constructor(e){this.image=e,this.rectangleDetector=new At(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new Q;r=this.shiftToModuleCenter(r);const o=r[0],l=r[1],c=r[2],f=r[3];let g=this.transitionsBetween(o,f)+1,w=this.transitionsBetween(c,f)+1;(g&1)===1&&(g+=1),(w&1)===1&&(w+=1),4*g<7*w&&4*w<7*g&&(g=w=Math.max(g,w));let S=jt.sampleGrid(this.image,o,l,c,f,g,w);return new $e(S,[o,l,c,f])}static shiftPoint(e,r,o){let l=(r.getX()-e.getX())/(o+1),c=(r.getY()-e.getY())/(o+1);return new Ce(e.getX()+l,e.getY()+c)}static moveAway(e,r,o){let l=e.getX(),c=e.getY();return l<r?l-=1:l+=1,c<o?c-=1:c+=1,new Ce(l,c)}detectSolid1(e){let r=e[0],o=e[1],l=e[3],c=e[2],f=this.transitionsBetween(r,o),g=this.transitionsBetween(o,l),w=this.transitionsBetween(l,c),S=this.transitionsBetween(c,r),b=f,_=[c,r,o,l];return b>g&&(b=g,_[0]=r,_[1]=o,_[2]=l,_[3]=c),b>w&&(b=w,_[0]=o,_[1]=l,_[2]=c,_[3]=r),b>S&&(_[0]=l,_[1]=c,_[2]=r,_[3]=o),_}detectSolid2(e){let r=e[0],o=e[1],l=e[2],c=e[3],f=this.transitionsBetween(r,c),g=jt.shiftPoint(o,l,(f+1)*4),w=jt.shiftPoint(l,o,(f+1)*4),S=this.transitionsBetween(g,r),b=this.transitionsBetween(w,c);return S<b?(e[0]=r,e[1]=o,e[2]=l,e[3]=c):(e[0]=o,e[1]=l,e[2]=c,e[3]=r),e}correctTopRight(e){let r=e[0],o=e[1],l=e[2],c=e[3],f=this.transitionsBetween(r,c),g=this.transitionsBetween(o,c),w=jt.shiftPoint(r,o,(g+1)*4),S=jt.shiftPoint(l,o,(f+1)*4);f=this.transitionsBetween(w,c),g=this.transitionsBetween(S,c);let b=new Ce(c.getX()+(l.getX()-o.getX())/(f+1),c.getY()+(l.getY()-o.getY())/(f+1)),_=new Ce(c.getX()+(r.getX()-o.getX())/(g+1),c.getY()+(r.getY()-o.getY())/(g+1));if(!this.isValid(b))return this.isValid(_)?_:null;if(!this.isValid(_))return b;let L=this.transitionsBetween(w,b)+this.transitionsBetween(S,b),U=this.transitionsBetween(w,_)+this.transitionsBetween(S,_);return L>U?b:_}shiftToModuleCenter(e){let r=e[0],o=e[1],l=e[2],c=e[3],f=this.transitionsBetween(r,c)+1,g=this.transitionsBetween(l,c)+1,w=jt.shiftPoint(r,o,g*4),S=jt.shiftPoint(l,o,f*4);f=this.transitionsBetween(w,c)+1,g=this.transitionsBetween(S,c)+1,(f&1)===1&&(f+=1),(g&1)===1&&(g+=1);let b=(r.getX()+o.getX()+l.getX()+c.getX())/4,_=(r.getY()+o.getY()+l.getY()+c.getY())/4;r=jt.moveAway(r,b,_),o=jt.moveAway(o,b,_),l=jt.moveAway(l,b,_),c=jt.moveAway(c,b,_);let L,U;return w=jt.shiftPoint(r,o,g*4),w=jt.shiftPoint(w,c,f*4),L=jt.shiftPoint(o,r,g*4),L=jt.shiftPoint(L,l,f*4),S=jt.shiftPoint(l,c,g*4),S=jt.shiftPoint(S,o,f*4),U=jt.shiftPoint(c,l,g*4),U=jt.shiftPoint(U,r,f*4),[w,L,S,U]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,o,l,c,f,g){return Dt.getInstance().sampleGrid(e,f,g,.5,.5,f-.5,.5,f-.5,g-.5,.5,g-.5,r.getX(),r.getY(),c.getX(),c.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(e,r){let o=Math.trunc(e.getX()),l=Math.trunc(e.getY()),c=Math.trunc(r.getX()),f=Math.trunc(r.getY()),g=Math.abs(f-l)>Math.abs(c-o);if(g){let X=o;o=l,l=X,X=c,c=f,f=X}let w=Math.abs(c-o),S=Math.abs(f-l),b=-w/2,_=l<f?1:-1,L=o<c?1:-1,U=0,G=this.image.get(g?l:o,g?o:l);for(let X=o,$=l;X!==c;X+=L){let oe=this.image.get(g?$:X,g?X:$);if(oe!==G&&(U++,G=oe),b+=S,b>0){if($===f)break;$+=_,b-=w}}return U}}class vr{constructor(){this.decoder=new ro}decode(e,r=null){let o,l;if(r!=null&&r.has(ue.PURE_BARCODE)){const S=vr.extractPureBits(e.getBlackMatrix());o=this.decoder.decode(S),l=vr.NO_POINTS}else{const S=new jt(e.getBlackMatrix()).detect();o=this.decoder.decode(S.getBits()),l=S.getPoints()}const c=o.getRawBytes(),f=new ve(o.getText(),c,8*c.length,l,pe.DATA_MATRIX,B.currentTimeMillis()),g=o.getByteSegments();g!=null&&f.putMetadata(_e.BYTE_SEGMENTS,g);const w=o.getECLevel();return w!=null&&f.putMetadata(_e.ERROR_CORRECTION_LEVEL,w),f}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(r==null||o==null)throw new Q;const l=this.moduleSize(r,e);let c=r[1];const f=o[1];let g=r[0];const S=(o[0]-g+1)/l,b=(f-c+1)/l;if(S<=0||b<=0)throw new Q;const _=l/2;c+=_,g+=_;const L=new Re(S,b);for(let U=0;U<b;U++){const G=c+U*l;for(let X=0;X<S;X++)e.get(g+X*l,G)&&L.set(X,U)}return L}static moduleSize(e,r){const o=r.getWidth();let l=e[0];const c=e[1];for(;l<o&&r.get(l,c);)l++;if(l===o)throw new Q;const f=l-e[0];if(f===0)throw new Q;return f}}vr.NO_POINTS=[];class Xc extends me{constructor(e=500){super(new vr,e)}}var Xi;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(Xi||(Xi={}));class Mt{constructor(e,r,o){this.value=e,this.stringValue=r,this.bits=o,Mt.FOR_BITS.set(o,this),Mt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Mt.L;case"M":return Mt.M;case"Q":return Mt.Q;case"H":return Mt.H;default:throw new E(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Mt))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=Mt.FOR_BITS.size)throw new T;return Mt.FOR_BITS.get(e)}}Mt.FOR_BITS=new Map,Mt.FOR_VALUE=new Map,Mt.L=new Mt(Xi.L,"L",1),Mt.M=new Mt(Xi.M,"M",0),Mt.Q=new Mt(Xi.Q,"Q",3),Mt.H=new Mt(Xi.H,"H",2);class Sn{constructor(e){this.errorCorrectionLevel=Mt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return V.bitCount(e^r)}static decodeFormatInformation(e,r){const o=Sn.doDecodeFormatInformation(e,r);return o!==null?o:Sn.doDecodeFormatInformation(e^Sn.FORMAT_INFO_MASK_QR,r^Sn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let o=Number.MAX_SAFE_INTEGER,l=0;for(const c of Sn.FORMAT_INFO_DECODE_LOOKUP){const f=c[0];if(f===e||f===r)return new Sn(c[1]);let g=Sn.numBitsDiffering(e,f);g<o&&(l=c[1],o=g),e!==r&&(g=Sn.numBitsDiffering(r,f),g<o&&(l=c[1],o=g))}return o<=3?new Sn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Sn))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Sn.FORMAT_INFO_MASK_QR=21522,Sn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class te{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const o of r)e+=o.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class j{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(e,r,...o){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=o;let l=0;const c=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const g of f)l+=g.getCount()*(g.getDataCodewords()+c);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new J;try{return this.getVersionForNumber((e-17)/4)}catch{throw new J}}static getVersionForNumber(e){if(e<1||e>40)throw new T;return Ge.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<Ge.VERSION_DECODE_INFO.length;l++){const c=Ge.VERSION_DECODE_INFO[l];if(c===e)return Ge.getVersionForNumber(l+7);const f=Sn.numBitsDiffering(e,c);f<r&&(o=l+7,r=f)}return r<=3?Ge.getVersionForNumber(o):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new Re(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const c=this.alignmentPatternCenters[l]-2;for(let f=0;f<o;f++)l===0&&(f===0||f===o-1)||l===o-1&&f===0||r.setRegion(this.alignmentPatternCenters[f]-2,c,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}Ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ge.VERSIONS=[new Ge(1,new Int32Array(0),new te(7,new j(1,19)),new te(10,new j(1,16)),new te(13,new j(1,13)),new te(17,new j(1,9))),new Ge(2,Int32Array.from([6,18]),new te(10,new j(1,34)),new te(16,new j(1,28)),new te(22,new j(1,22)),new te(28,new j(1,16))),new Ge(3,Int32Array.from([6,22]),new te(15,new j(1,55)),new te(26,new j(1,44)),new te(18,new j(2,17)),new te(22,new j(2,13))),new Ge(4,Int32Array.from([6,26]),new te(20,new j(1,80)),new te(18,new j(2,32)),new te(26,new j(2,24)),new te(16,new j(4,9))),new Ge(5,Int32Array.from([6,30]),new te(26,new j(1,108)),new te(24,new j(2,43)),new te(18,new j(2,15),new j(2,16)),new te(22,new j(2,11),new j(2,12))),new Ge(6,Int32Array.from([6,34]),new te(18,new j(2,68)),new te(16,new j(4,27)),new te(24,new j(4,19)),new te(28,new j(4,15))),new Ge(7,Int32Array.from([6,22,38]),new te(20,new j(2,78)),new te(18,new j(4,31)),new te(18,new j(2,14),new j(4,15)),new te(26,new j(4,13),new j(1,14))),new Ge(8,Int32Array.from([6,24,42]),new te(24,new j(2,97)),new te(22,new j(2,38),new j(2,39)),new te(22,new j(4,18),new j(2,19)),new te(26,new j(4,14),new j(2,15))),new Ge(9,Int32Array.from([6,26,46]),new te(30,new j(2,116)),new te(22,new j(3,36),new j(2,37)),new te(20,new j(4,16),new j(4,17)),new te(24,new j(4,12),new j(4,13))),new Ge(10,Int32Array.from([6,28,50]),new te(18,new j(2,68),new j(2,69)),new te(26,new j(4,43),new j(1,44)),new te(24,new j(6,19),new j(2,20)),new te(28,new j(6,15),new j(2,16))),new Ge(11,Int32Array.from([6,30,54]),new te(20,new j(4,81)),new te(30,new j(1,50),new j(4,51)),new te(28,new j(4,22),new j(4,23)),new te(24,new j(3,12),new j(8,13))),new Ge(12,Int32Array.from([6,32,58]),new te(24,new j(2,92),new j(2,93)),new te(22,new j(6,36),new j(2,37)),new te(26,new j(4,20),new j(6,21)),new te(28,new j(7,14),new j(4,15))),new Ge(13,Int32Array.from([6,34,62]),new te(26,new j(4,107)),new te(22,new j(8,37),new j(1,38)),new te(24,new j(8,20),new j(4,21)),new te(22,new j(12,11),new j(4,12))),new Ge(14,Int32Array.from([6,26,46,66]),new te(30,new j(3,115),new j(1,116)),new te(24,new j(4,40),new j(5,41)),new te(20,new j(11,16),new j(5,17)),new te(24,new j(11,12),new j(5,13))),new Ge(15,Int32Array.from([6,26,48,70]),new te(22,new j(5,87),new j(1,88)),new te(24,new j(5,41),new j(5,42)),new te(30,new j(5,24),new j(7,25)),new te(24,new j(11,12),new j(7,13))),new Ge(16,Int32Array.from([6,26,50,74]),new te(24,new j(5,98),new j(1,99)),new te(28,new j(7,45),new j(3,46)),new te(24,new j(15,19),new j(2,20)),new te(30,new j(3,15),new j(13,16))),new Ge(17,Int32Array.from([6,30,54,78]),new te(28,new j(1,107),new j(5,108)),new te(28,new j(10,46),new j(1,47)),new te(28,new j(1,22),new j(15,23)),new te(28,new j(2,14),new j(17,15))),new Ge(18,Int32Array.from([6,30,56,82]),new te(30,new j(5,120),new j(1,121)),new te(26,new j(9,43),new j(4,44)),new te(28,new j(17,22),new j(1,23)),new te(28,new j(2,14),new j(19,15))),new Ge(19,Int32Array.from([6,30,58,86]),new te(28,new j(3,113),new j(4,114)),new te(26,new j(3,44),new j(11,45)),new te(26,new j(17,21),new j(4,22)),new te(26,new j(9,13),new j(16,14))),new Ge(20,Int32Array.from([6,34,62,90]),new te(28,new j(3,107),new j(5,108)),new te(26,new j(3,41),new j(13,42)),new te(30,new j(15,24),new j(5,25)),new te(28,new j(15,15),new j(10,16))),new Ge(21,Int32Array.from([6,28,50,72,94]),new te(28,new j(4,116),new j(4,117)),new te(26,new j(17,42)),new te(28,new j(17,22),new j(6,23)),new te(30,new j(19,16),new j(6,17))),new Ge(22,Int32Array.from([6,26,50,74,98]),new te(28,new j(2,111),new j(7,112)),new te(28,new j(17,46)),new te(30,new j(7,24),new j(16,25)),new te(24,new j(34,13))),new Ge(23,Int32Array.from([6,30,54,78,102]),new te(30,new j(4,121),new j(5,122)),new te(28,new j(4,47),new j(14,48)),new te(30,new j(11,24),new j(14,25)),new te(30,new j(16,15),new j(14,16))),new Ge(24,Int32Array.from([6,28,54,80,106]),new te(30,new j(6,117),new j(4,118)),new te(28,new j(6,45),new j(14,46)),new te(30,new j(11,24),new j(16,25)),new te(30,new j(30,16),new j(2,17))),new Ge(25,Int32Array.from([6,32,58,84,110]),new te(26,new j(8,106),new j(4,107)),new te(28,new j(8,47),new j(13,48)),new te(30,new j(7,24),new j(22,25)),new te(30,new j(22,15),new j(13,16))),new Ge(26,Int32Array.from([6,30,58,86,114]),new te(28,new j(10,114),new j(2,115)),new te(28,new j(19,46),new j(4,47)),new te(28,new j(28,22),new j(6,23)),new te(30,new j(33,16),new j(4,17))),new Ge(27,Int32Array.from([6,34,62,90,118]),new te(30,new j(8,122),new j(4,123)),new te(28,new j(22,45),new j(3,46)),new te(30,new j(8,23),new j(26,24)),new te(30,new j(12,15),new j(28,16))),new Ge(28,Int32Array.from([6,26,50,74,98,122]),new te(30,new j(3,117),new j(10,118)),new te(28,new j(3,45),new j(23,46)),new te(30,new j(4,24),new j(31,25)),new te(30,new j(11,15),new j(31,16))),new Ge(29,Int32Array.from([6,30,54,78,102,126]),new te(30,new j(7,116),new j(7,117)),new te(28,new j(21,45),new j(7,46)),new te(30,new j(1,23),new j(37,24)),new te(30,new j(19,15),new j(26,16))),new Ge(30,Int32Array.from([6,26,52,78,104,130]),new te(30,new j(5,115),new j(10,116)),new te(28,new j(19,47),new j(10,48)),new te(30,new j(15,24),new j(25,25)),new te(30,new j(23,15),new j(25,16))),new Ge(31,Int32Array.from([6,30,56,82,108,134]),new te(30,new j(13,115),new j(3,116)),new te(28,new j(2,46),new j(29,47)),new te(30,new j(42,24),new j(1,25)),new te(30,new j(23,15),new j(28,16))),new Ge(32,Int32Array.from([6,34,60,86,112,138]),new te(30,new j(17,115)),new te(28,new j(10,46),new j(23,47)),new te(30,new j(10,24),new j(35,25)),new te(30,new j(19,15),new j(35,16))),new Ge(33,Int32Array.from([6,30,58,86,114,142]),new te(30,new j(17,115),new j(1,116)),new te(28,new j(14,46),new j(21,47)),new te(30,new j(29,24),new j(19,25)),new te(30,new j(11,15),new j(46,16))),new Ge(34,Int32Array.from([6,34,62,90,118,146]),new te(30,new j(13,115),new j(6,116)),new te(28,new j(14,46),new j(23,47)),new te(30,new j(44,24),new j(7,25)),new te(30,new j(59,16),new j(1,17))),new Ge(35,Int32Array.from([6,30,54,78,102,126,150]),new te(30,new j(12,121),new j(7,122)),new te(28,new j(12,47),new j(26,48)),new te(30,new j(39,24),new j(14,25)),new te(30,new j(22,15),new j(41,16))),new Ge(36,Int32Array.from([6,24,50,76,102,128,154]),new te(30,new j(6,121),new j(14,122)),new te(28,new j(6,47),new j(34,48)),new te(30,new j(46,24),new j(10,25)),new te(30,new j(2,15),new j(64,16))),new Ge(37,Int32Array.from([6,28,54,80,106,132,158]),new te(30,new j(17,122),new j(4,123)),new te(28,new j(29,46),new j(14,47)),new te(30,new j(49,24),new j(10,25)),new te(30,new j(24,15),new j(46,16))),new Ge(38,Int32Array.from([6,32,58,84,110,136,162]),new te(30,new j(4,122),new j(18,123)),new te(28,new j(13,46),new j(32,47)),new te(30,new j(48,24),new j(14,25)),new te(30,new j(42,15),new j(32,16))),new Ge(39,Int32Array.from([6,26,54,82,110,138,166]),new te(30,new j(20,117),new j(4,118)),new te(28,new j(40,47),new j(7,48)),new te(30,new j(43,24),new j(22,25)),new te(30,new j(10,15),new j(67,16))),new Ge(40,Int32Array.from([6,30,58,86,114,142,170]),new te(30,new j(19,118),new j(6,119)),new te(28,new j(18,47),new j(31,48)),new te(30,new j(34,24),new j(34,25)),new te(30,new j(20,15),new j(61,16)))];var on;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class ct{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let o=0;o<r;o++)for(let l=0;l<r;l++)this.isMasked(o,l)&&e.flip(l,o)}}ct.values=new Map([[on.DATA_MASK_000,new ct(on.DATA_MASK_000,(M,e)=>(M+e&1)===0)],[on.DATA_MASK_001,new ct(on.DATA_MASK_001,(M,e)=>(M&1)===0)],[on.DATA_MASK_010,new ct(on.DATA_MASK_010,(M,e)=>e%3===0)],[on.DATA_MASK_011,new ct(on.DATA_MASK_011,(M,e)=>(M+e)%3===0)],[on.DATA_MASK_100,new ct(on.DATA_MASK_100,(M,e)=>(Math.floor(M/2)+Math.floor(e/3)&1)===0)],[on.DATA_MASK_101,new ct(on.DATA_MASK_101,(M,e)=>M*e%6===0)],[on.DATA_MASK_110,new ct(on.DATA_MASK_110,(M,e)=>M*e%6<3)],[on.DATA_MASK_111,new ct(on.DATA_MASK_111,(M,e)=>(M+e+M*e%3&1)===0)]]);class cl{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new J;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let c=0;c<6;c++)e=this.copyBit(c,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let c=5;c>=0;c--)e=this.copyBit(8,c,e);const r=this.bitMatrix.getHeight();let o=0;const l=r-7;for(let c=r-1;c>=l;c--)o=this.copyBit(8,c,o);for(let c=r-8;c<r;c++)o=this.copyBit(c,8,o);if(this.parsedFormatInfo=Sn.decodeFormatInformation(e,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new J}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Ge.getVersionForNumber(r);let o=0;const l=e-11;for(let f=5;f>=0;f--)for(let g=e-9;g>=l;g--)o=this.copyBit(g,f,o);let c=Ge.decodeVersionInformation(o);if(c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;o=0;for(let f=5;f>=0;f--)for(let g=e-9;g>=l;g--)o=this.copyBit(f,g,o);if(c=Ge.decodeVersionInformation(o),c!==null&&c.getDimensionForVersion()===e)return this.parsedVersion=c,c;throw new J}copyBit(e,r,o){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?o<<1|1:o<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),o=ct.values.get(e.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const c=r.buildFunctionPattern();let f=!0;const g=new Uint8Array(r.getTotalCodewords());let w=0,S=0,b=0;for(let _=l-1;_>0;_-=2){_===6&&_--;for(let L=0;L<l;L++){const U=f?l-1-L:L;for(let G=0;G<2;G++)c.get(_-G,U)||(b++,S<<=1,this.bitMatrix.get(_-G,U)&&(S|=1),b===8&&(g[w++]=S,b=0,S=0))}f=!f}if(w!==r.getTotalCodewords())throw new J;return g}remask(){if(this.parsedFormatInfo===null)return;const e=ct.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,o=e.getWidth();r<o;r++)for(let l=r+1,c=e.getHeight();l<c;l++)e.get(r,l)!==e.get(l,r)&&(e.flip(l,r),e.flip(r,l))}}class io{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,o){if(e.length!==r.getTotalCodewords())throw new T;const l=r.getECBlocksForLevel(o);let c=0;const f=l.getECBlocks();for(const G of f)c+=G.getCount();const g=new Array(c);let w=0;for(const G of f)for(let X=0;X<G.getCount();X++){const $=G.getDataCodewords(),oe=l.getECCodewordsPerBlock()+$;g[w++]=new io($,new Uint8Array(oe))}const S=g[0].codewords.length;let b=g.length-1;for(;b>=0&&g[b].codewords.length!==S;)b--;b++;const _=S-l.getECCodewordsPerBlock();let L=0;for(let G=0;G<_;G++)for(let X=0;X<w;X++)g[X].codewords[G]=e[L++];for(let G=b;G<w;G++)g[G].codewords[_]=e[L++];const U=g[0].codewords.length;for(let G=_;G<U;G++)for(let X=0;X<w;X++){const $=X<b?G:G+1;g[X].codewords[$]=e[L++]}return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Yn;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(Yn||(Yn={}));class Xe{constructor(e,r,o,l){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=o,this.bits=l,Xe.FOR_BITS.set(l,this),Xe.FOR_VALUE.set(e,this)}static forBits(e){const r=Xe.FOR_BITS.get(e);if(r===void 0)throw new T;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let o;return r<=9?o=0:r<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Xe))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Xe.FOR_BITS=new Map,Xe.FOR_VALUE=new Map,Xe.TERMINATOR=new Xe(Yn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Xe.NUMERIC=new Xe(Yn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Xe.ALPHANUMERIC=new Xe(Yn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Xe.STRUCTURED_APPEND=new Xe(Yn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Xe.BYTE=new Xe(Yn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Xe.ECI=new Xe(Yn.ECI,"ECI",Int32Array.from([0,0,0]),7),Xe.KANJI=new Xe(Yn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Xe.FNC1_FIRST_POSITION=new Xe(Yn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Xe.FNC1_SECOND_POSITION=new Xe(Yn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Xe.HANZI=new Xe(Yn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Vt{static decode(e,r,o,l){const c=new Xo(e);let f=new Fe;const g=new Array;let w=-1,S=-1;try{let b=null,_=!1,L;do{if(c.available()<4)L=Xe.TERMINATOR;else{const U=c.readBits(4);L=Xe.forBits(U)}switch(L){case Xe.TERMINATOR:break;case Xe.FNC1_FIRST_POSITION:case Xe.FNC1_SECOND_POSITION:_=!0;break;case Xe.STRUCTURED_APPEND:if(c.available()<16)throw new J;w=c.readBits(8),S=c.readBits(8);break;case Xe.ECI:const U=Vt.parseECIValue(c);if(b=q.getCharacterSetECIByValue(U),b===null)throw new J;break;case Xe.HANZI:const G=c.readBits(4),X=c.readBits(L.getCharacterCountBits(r));G===Vt.GB2312_SUBSET&&Vt.decodeHanziSegment(c,f,X);break;default:const $=c.readBits(L.getCharacterCountBits(r));switch(L){case Xe.NUMERIC:Vt.decodeNumericSegment(c,f,$);break;case Xe.ALPHANUMERIC:Vt.decodeAlphanumericSegment(c,f,$,_);break;case Xe.BYTE:Vt.decodeByteSegment(c,f,$,b,g,l);break;case Xe.KANJI:Vt.decodeKanjiSegment(c,f,$);break;default:throw new J}break}}while(L!==Xe.TERMINATOR)}catch{throw new J}return new it(e,f.toString(),g.length===0?null:g,o===null?null:o.toString(),w,S)}static decodeHanziSegment(e,r,o){if(o*13>e.available())throw new J;const l=new Uint8Array(2*o);let c=0;for(;o>0;){const f=e.readBits(13);let g=f/96<<8&4294967295|f%96;g<959?g+=41377:g+=42657,l[c]=g>>8&255,l[c+1]=g&255,c+=2,o--}try{r.append(Pe.decode(l,be.GB2312))}catch(f){throw new J(f)}}static decodeKanjiSegment(e,r,o){if(o*13>e.available())throw new J;const l=new Uint8Array(2*o);let c=0;for(;o>0;){const f=e.readBits(13);let g=f/192<<8&4294967295|f%192;g<7936?g+=33088:g+=49472,l[c]=g>>8,l[c+1]=g,c+=2,o--}try{r.append(Pe.decode(l,be.SHIFT_JIS))}catch(f){throw new J(f)}}static decodeByteSegment(e,r,o,l,c,f){if(8*o>e.available())throw new J;const g=new Uint8Array(o);for(let S=0;S<o;S++)g[S]=e.readBits(8);let w;l===null?w=be.guessEncoding(g,f):w=l.getName();try{r.append(Pe.decode(g,w))}catch(S){throw new J(S)}c.push(g)}static toAlphaNumericChar(e){if(e>=Vt.ALPHANUMERIC_CHARS.length)throw new J;return Vt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,o,l){const c=r.length();for(;o>1;){if(e.available()<11)throw new J;const f=e.readBits(11);r.append(Vt.toAlphaNumericChar(Math.floor(f/45))),r.append(Vt.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(e.available()<6)throw new J;r.append(Vt.toAlphaNumericChar(e.readBits(6)))}if(l)for(let f=c;f<r.length();f++)r.charAt(f)==="%"&&(f<r.length()-1&&r.charAt(f+1)==="%"?r.deleteCharAt(f+1):r.setCharAt(f,""))}static decodeNumericSegment(e,r,o){for(;o>=3;){if(e.available()<10)throw new J;const l=e.readBits(10);if(l>=1e3)throw new J;r.append(Vt.toAlphaNumericChar(Math.floor(l/100))),r.append(Vt.toAlphaNumericChar(Math.floor(l/10)%10)),r.append(Vt.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(e.available()<7)throw new J;const l=e.readBits(7);if(l>=100)throw new J;r.append(Vt.toAlphaNumericChar(Math.floor(l/10))),r.append(Vt.toAlphaNumericChar(l%10))}else if(o===1){if(e.available()<4)throw new J;const l=e.readBits(4);if(l>=10)throw new J;r.append(Vt.toAlphaNumericChar(l))}}static parseECIValue(e){const r=e.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const o=e.readBits(8);return(r&63)<<8&4294967295|o}if((r&224)===192){const o=e.readBits(16);return(r&31)<<16&4294967295|o}throw new J}}Vt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Vt.GB2312_SUBSET=1;class Zo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class Ko{constructor(){this.rsDecoder=new gr(ot.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(Re.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const o=new cl(e);let l=null;try{return this.decodeBitMatrixParser(o,r)}catch(c){l=c}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const c=this.decodeBitMatrixParser(o,r);return c.setOther(new Zo(!0)),c}catch(c){throw l!==null?l:c}}decodeBitMatrixParser(e,r){const o=e.readVersion(),l=e.readFormatInformation().getErrorCorrectionLevel(),c=e.readCodewords(),f=io.getDataBlocks(c,o,l);let g=0;for(const b of f)g+=b.getNumDataCodewords();const w=new Uint8Array(g);let S=0;for(const b of f){const _=b.getCodewords(),L=b.getNumDataCodewords();this.correctErrors(_,L);for(let U=0;U<L;U++)w[S++]=_[U]}return Vt.decode(w,o,l,r)}correctErrors(e,r){const o=new Int32Array(e);try{this.rsDecoder.decode(o,e.length-r)}catch{throw new O}for(let l=0;l<r;l++)e[l]=o[l]}}class Zi extends Ce{constructor(e,r,o){super(e,r),this.estimatedModuleSize=o}aboutEquals(e,r,o){if(Math.abs(r-this.getY())<=e&&Math.abs(o-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,r,o){const l=(this.getX()+r)/2,c=(this.getY()+e)/2,f=(this.estimatedModuleSize+o)/2;return new Zi(l,c,f)}}class Cr{constructor(e,r,o,l,c,f,g){this.image=e,this.startX=r,this.startY=o,this.width=l,this.height=c,this.moduleSize=f,this.resultPointCallback=g,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,o=this.width,l=e+o,c=this.startY+r/2,f=new Int32Array(3),g=this.image;for(let w=0;w<r;w++){const S=c+(w&1?-Math.floor((w+1)/2):Math.floor((w+1)/2));f[0]=0,f[1]=0,f[2]=0;let b=e;for(;b<l&&!g.get(b,S);)b++;let _=0;for(;b<l;){if(g.get(b,S))if(_===1)f[1]++;else if(_===2){if(this.foundPatternCross(f)){const L=this.handlePossibleCenter(f,S,b);if(L!==null)return L}f[0]=f[2],f[1]=1,f[2]=0,_=1}else f[++_]++;else _===1&&_++,f[_]++;b++}if(this.foundPatternCross(f)){const L=this.handlePossibleCenter(f,S,l);if(L!==null)return L}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Q}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,o=r/2;for(let l=0;l<3;l++)if(Math.abs(r-e[l])>=o)return!1;return!0}crossCheckVertical(e,r,o,l){const c=this.image,f=c.getHeight(),g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;let w=e;for(;w>=0&&c.get(r,w)&&g[1]<=o;)g[1]++,w--;if(w<0||g[1]>o)return NaN;for(;w>=0&&!c.get(r,w)&&g[0]<=o;)g[0]++,w--;if(g[0]>o)return NaN;for(w=e+1;w<f&&c.get(r,w)&&g[1]<=o;)g[1]++,w++;if(w===f||g[1]>o)return NaN;for(;w<f&&!c.get(r,w)&&g[2]<=o;)g[2]++,w++;if(g[2]>o)return NaN;const S=g[0]+g[1]+g[2];return 5*Math.abs(S-l)>=2*l?NaN:this.foundPatternCross(g)?Cr.centerFromEnd(g,w):NaN}handlePossibleCenter(e,r,o){const l=e[0]+e[1]+e[2],c=Cr.centerFromEnd(e,o),f=this.crossCheckVertical(r,c,2*e[1],l);if(!isNaN(f)){const g=(e[0]+e[1]+e[2])/3;for(const S of this.possibleCenters)if(S.aboutEquals(g,f,c))return S.combineEstimate(f,c,g);const w=new Zi(c,f,g);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class Or extends Ce{constructor(e,r,o,l){super(e,r),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,o){if(Math.abs(r-this.getY())<=e&&Math.abs(o-this.getX())<=e){const l=Math.abs(e-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(e,r,o){const l=this.count+1,c=(this.count*this.getX()+r)/l,f=(this.count*this.getY()+e)/l,g=(this.count*this.estimatedModuleSize+o)/l;return new Or(c,f,g,l)}}class ii{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class $t{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(ue.TRY_HARDER)!==void 0,o=e!=null&&e.get(ue.PURE_BARCODE)!==void 0,l=this.image,c=l.getHeight(),f=l.getWidth();let g=Math.floor(3*c/(4*$t.MAX_MODULES));(g<$t.MIN_SKIP||r)&&(g=$t.MIN_SKIP);let w=!1;const S=new Int32Array(5);for(let _=g-1;_<c&&!w;_+=g){S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0;let L=0;for(let U=0;U<f;U++)if(l.get(U,_))(L&1)===1&&L++,S[L]++;else if(L&1)S[L]++;else if(L===4)if($t.foundPatternCross(S)){if(this.handlePossibleCenter(S,_,U,o)===!0)if(g=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const X=this.findRowSkip();X>S[2]&&(_+=X-S[2]-g,U=f-1)}else{S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,L=3;continue}L=0,S[0]=0,S[1]=0,S[2]=0,S[3]=0,S[4]=0}else S[0]=S[2],S[1]=S[3],S[2]=S[4],S[3]=1,S[4]=0,L=3;else S[++L]++;$t.foundPatternCross(S)&&this.handlePossibleCenter(S,_,f,o)===!0&&(g=S[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return Ce.orderBestPatterns(b),new ii(b)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let c=0;c<5;c++){const f=e[c];if(f===0)return!1;r+=f}if(r<7)return!1;const o=r/7,l=o/2;return Math.abs(o-e[0])<l&&Math.abs(o-e[1])<l&&Math.abs(3*o-e[2])<3*l&&Math.abs(o-e[3])<l&&Math.abs(o-e[4])<l}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,o,l){const c=this.getCrossCheckStateCount();let f=0;const g=this.image;for(;e>=f&&r>=f&&g.get(r-f,e-f);)c[2]++,f++;if(e<f||r<f)return!1;for(;e>=f&&r>=f&&!g.get(r-f,e-f)&&c[1]<=o;)c[1]++,f++;if(e<f||r<f||c[1]>o)return!1;for(;e>=f&&r>=f&&g.get(r-f,e-f)&&c[0]<=o;)c[0]++,f++;if(c[0]>o)return!1;const w=g.getHeight(),S=g.getWidth();for(f=1;e+f<w&&r+f<S&&g.get(r+f,e+f);)c[2]++,f++;if(e+f>=w||r+f>=S)return!1;for(;e+f<w&&r+f<S&&!g.get(r+f,e+f)&&c[3]<o;)c[3]++,f++;if(e+f>=w||r+f>=S||c[3]>=o)return!1;for(;e+f<w&&r+f<S&&g.get(r+f,e+f)&&c[4]<o;)c[4]++,f++;if(c[4]>=o)return!1;const b=c[0]+c[1]+c[2]+c[3]+c[4];return Math.abs(b-l)<2*l&&$t.foundPatternCross(c)}crossCheckVertical(e,r,o,l){const c=this.image,f=c.getHeight(),g=this.getCrossCheckStateCount();let w=e;for(;w>=0&&c.get(r,w);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!c.get(r,w)&&g[1]<=o;)g[1]++,w--;if(w<0||g[1]>o)return NaN;for(;w>=0&&c.get(r,w)&&g[0]<=o;)g[0]++,w--;if(g[0]>o)return NaN;for(w=e+1;w<f&&c.get(r,w);)g[2]++,w++;if(w===f)return NaN;for(;w<f&&!c.get(r,w)&&g[3]<o;)g[3]++,w++;if(w===f||g[3]>=o)return NaN;for(;w<f&&c.get(r,w)&&g[4]<o;)g[4]++,w++;if(g[4]>=o)return NaN;const S=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(S-l)>=2*l?NaN:$t.foundPatternCross(g)?$t.centerFromEnd(g,w):NaN}crossCheckHorizontal(e,r,o,l){const c=this.image,f=c.getWidth(),g=this.getCrossCheckStateCount();let w=e;for(;w>=0&&c.get(w,r);)g[2]++,w--;if(w<0)return NaN;for(;w>=0&&!c.get(w,r)&&g[1]<=o;)g[1]++,w--;if(w<0||g[1]>o)return NaN;for(;w>=0&&c.get(w,r)&&g[0]<=o;)g[0]++,w--;if(g[0]>o)return NaN;for(w=e+1;w<f&&c.get(w,r);)g[2]++,w++;if(w===f)return NaN;for(;w<f&&!c.get(w,r)&&g[3]<o;)g[3]++,w++;if(w===f||g[3]>=o)return NaN;for(;w<f&&c.get(w,r)&&g[4]<o;)g[4]++,w++;if(g[4]>=o)return NaN;const S=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(S-l)>=l?NaN:$t.foundPatternCross(g)?$t.centerFromEnd(g,w):NaN}handlePossibleCenter(e,r,o,l){const c=e[0]+e[1]+e[2]+e[3]+e[4];let f=$t.centerFromEnd(e,o),g=this.crossCheckVertical(r,Math.floor(f),e[2],c);if(!isNaN(g)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(g),e[2],c),!isNaN(f)&&(!l||this.crossCheckDiagonal(Math.floor(g),Math.floor(f),e[2],c)))){const w=c/7;let S=!1;const b=this.possibleCenters;for(let _=0,L=b.length;_<L;_++){const U=b[_];if(U.aboutEquals(w,g,f)){b[_]=U.combineEstimate(g,f,w),S=!0;break}}if(!S){const _=new Or(f,g,w);b.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const o of this.possibleCenters)if(o.getCount()>=$t.CENTER_QUORUM)if(r==null)r=o;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-o.getX())-Math.abs(r.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=$t.CENTER_QUORUM&&(e++,r+=f.getEstimatedModuleSize());if(e<3)return!1;const l=r/o;let c=0;for(const f of this.possibleCenters)c+=Math.abs(f.getEstimatedModuleSize()-l);return c<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new Q;const r=this.possibleCenters;let o;if(e>3){let l=0,c=0;for(const w of this.possibleCenters){const S=w.getEstimatedModuleSize();l+=S,c+=S*S}o=l/e;let f=Math.sqrt(c/e-o*o);r.sort((w,S)=>{const b=Math.abs(S.getEstimatedModuleSize()-o),_=Math.abs(w.getEstimatedModuleSize()-o);return b<_?-1:b>_?1:0});const g=Math.max(.2*o,f);for(let w=0;w<r.length&&r.length>3;w++){const S=r[w];Math.abs(S.getEstimatedModuleSize()-o)>g&&(r.splice(w,1),w--)}}if(r.length>3){let l=0;for(const c of r)l+=c.getEstimatedModuleSize();o=l/r.length,r.sort((c,f)=>{if(f.getCount()===c.getCount()){const g=Math.abs(f.getEstimatedModuleSize()-o),w=Math.abs(c.getEstimatedModuleSize()-o);return g<w?1:g>w?-1:0}else return f.getCount()-c.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}$t.CENTER_QUORUM=2,$t.MIN_SKIP=3,$t.MAX_MODULES=57;class Gr{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(ue.NEED_RESULT_POINT_CALLBACK);const o=new $t(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(o)}processFinderPatternInfo(e){const r=e.getTopLeft(),o=e.getTopRight(),l=e.getBottomLeft(),c=this.calculateModuleSize(r,o,l);if(c<1)throw new Q("No pattern found in proccess finder.");const f=Gr.computeDimension(r,o,l,c),g=Ge.getProvisionalVersionForDimension(f),w=g.getDimensionForVersion()-7;let S=null;if(g.getAlignmentPatternCenters().length>0){const U=o.getX()-r.getX()+l.getX(),G=o.getY()-r.getY()+l.getY(),X=1-3/w,$=Math.floor(r.getX()+X*(U-r.getX())),oe=Math.floor(r.getY()+X*(G-r.getY()));for(let Ae=4;Ae<=16;Ae<<=1)try{S=this.findAlignmentInRegion(c,$,oe,Ae);break}catch(Te){if(!(Te instanceof Q))throw Te}}const b=Gr.createTransform(r,o,l,S,f),_=Gr.sampleGrid(this.image,b,f);let L;return S===null?L=[l,r,o]:L=[l,r,o,S],new $e(_,L)}static createTransform(e,r,o,l,c){const f=c-3.5;let g,w,S,b;return l!==null?(g=l.getX(),w=l.getY(),S=f-3,b=S):(g=r.getX()-e.getX()+o.getX(),w=r.getY()-e.getY()+o.getY(),S=f,b=f),wt.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,S,b,3.5,f,e.getX(),e.getY(),r.getX(),r.getY(),g,w,o.getX(),o.getY())}static sampleGrid(e,r,o){return Dt.getInstance().sampleGridWithTransform(e,o,o,r)}static computeDimension(e,r,o,l){const c=tt.round(Ce.distance(e,r)/l),f=tt.round(Ce.distance(e,o)/l);let g=Math.floor((c+f)/2)+7;switch(g&3){case 0:g++;break;case 2:g--;break;case 3:throw new Q("Dimensions could be not found.")}return g}calculateModuleSize(e,r,o){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,o))/2}calculateModuleSizeOneWay(e,r){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,o,l){let c=this.sizeOfBlackWhiteBlackRun(e,r,o,l),f=1,g=e-(o-e);g<0?(f=e/(e-g),g=0):g>=this.image.getWidth()&&(f=(this.image.getWidth()-1-e)/(g-e),g=this.image.getWidth()-1);let w=Math.floor(r-(l-r)*f);return f=1,w<0?(f=r/(r-w),w=0):w>=this.image.getHeight()&&(f=(this.image.getHeight()-1-r)/(w-r),w=this.image.getHeight()-1),g=Math.floor(e+(g-e)*f),c+=this.sizeOfBlackWhiteBlackRun(e,r,g,w),c-1}sizeOfBlackWhiteBlackRun(e,r,o,l){const c=Math.abs(l-r)>Math.abs(o-e);if(c){let U=e;e=r,r=U,U=o,o=l,l=U}const f=Math.abs(o-e),g=Math.abs(l-r);let w=-f/2;const S=e<o?1:-1,b=r<l?1:-1;let _=0;const L=o+S;for(let U=e,G=r;U!==L;U+=S){const X=c?G:U,$=c?U:G;if(_===1===this.image.get(X,$)){if(_===2)return tt.distance(U,G,e,r);_++}if(w+=g,w>0){if(G===l)break;G+=b,w-=f}}return _===2?tt.distance(o+S,l,e,r):NaN}findAlignmentInRegion(e,r,o,l){const c=Math.floor(l*e),f=Math.max(0,r-c),g=Math.min(this.image.getWidth()-1,r+c);if(g-f<e*3)throw new Q("Alignment top exceeds estimated module size.");const w=Math.max(0,o-c),S=Math.min(this.image.getHeight()-1,o+c);if(S-w<e*3)throw new Q("Alignment bottom exceeds estimated module size.");return new Cr(this.image,f,w,g-f,S-w,e,this.resultPointCallback).find()}}class Bn{constructor(){this.decoder=new Ko}getDecoder(){return this.decoder}decode(e,r){let o,l;if(r!=null&&r.get(ue.PURE_BARCODE)!==void 0){const w=Bn.extractPureBits(e.getBlackMatrix());o=this.decoder.decodeBitMatrix(w,r),l=Bn.NO_POINTS}else{const w=new Gr(e.getBlackMatrix()).detect(r);o=this.decoder.decodeBitMatrix(w.getBits(),r),l=w.getPoints()}o.getOther()instanceof Zo&&o.getOther().applyMirroredCorrection(l);const c=new ve(o.getText(),o.getRawBytes(),void 0,l,pe.QR_CODE,void 0),f=o.getByteSegments();f!==null&&c.putMetadata(_e.BYTE_SEGMENTS,f);const g=o.getECLevel();return g!==null&&c.putMetadata(_e.ERROR_CORRECTION_LEVEL,g),o.hasStructuredAppend()&&(c.putMetadata(_e.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),c.putMetadata(_e.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),c}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),o=e.getBottomRightOnBit();if(r===null||o===null)throw new Q;const l=this.moduleSize(r,e);let c=r[1],f=o[1],g=r[0],w=o[0];if(g>=w||c>=f)throw new Q;if(f-c!==w-g&&(w=g+(f-c),w>=e.getWidth()))throw new Q;const S=Math.round((w-g+1)/l),b=Math.round((f-c+1)/l);if(S<=0||b<=0)throw new Q;if(b!==S)throw new Q;const _=Math.floor(l/2);c+=_,g+=_;const L=g+Math.floor((S-1)*l)-w;if(L>0){if(L>_)throw new Q;g-=L}const U=c+Math.floor((b-1)*l)-f;if(U>0){if(U>_)throw new Q;c-=U}const G=new Re(S,b);for(let X=0;X<b;X++){const $=c+Math.floor(X*l);for(let oe=0;oe<S;oe++)e.get(g+Math.floor(oe*l),$)&&G.set(oe,X)}return G}static moduleSize(e,r){const o=r.getHeight(),l=r.getWidth();let c=e[0],f=e[1],g=!0,w=0;for(;c<l&&f<o;){if(g!==r.get(c,f)){if(++w===5)break;g=!g}c++,f++}if(c===l||f===o)throw new Q;return(c-e[0])/7}}Bn.NO_POINTS=new Array;class qe{PDF417Common(){}static getBitCountSum(e){return tt.sum(e)}static toIntArray(e){if(e==null||!e.length)return qe.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let o=0;for(const l of e)r[o++]=l;return r}static getCodeword(e){const r=H.binarySearch(qe.SYMBOL_TABLE,e&262143);return r<0?-1:(qe.CODEWORD_TABLE[r]-1)%qe.NUMBER_OF_CODEWORDS}}qe.NUMBER_OF_CODEWORDS=929,qe.MAX_CODEWORDS_IN_BARCODE=qe.NUMBER_OF_CODEWORDS-1,qe.MIN_ROWS_IN_BARCODE=3,qe.MAX_ROWS_IN_BARCODE=90,qe.MODULES_IN_CODEWORD=17,qe.MODULES_IN_STOP_PATTERN=18,qe.BARS_IN_MODULE=8,qe.EMPTY_INT_ARRAY=new Int32Array([]),qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ul{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class nt{static detectMultiple(e,r,o){let l=e.getBlackMatrix(),c=nt.detect(o,l);return c.length||(l=l.clone(),l.rotate180(),c=nt.detect(o,l)),new ul(l,c)}static detect(e,r){const o=new Array;let l=0,c=0,f=!1;for(;l<r.getHeight();){const g=nt.findVertices(r,l,c);if(g[0]==null&&g[3]==null){if(!f)break;f=!1,c=0;for(const w of o)w[1]!=null&&(l=Math.trunc(Math.max(l,w[1].getY()))),w[3]!=null&&(l=Math.max(l,Math.trunc(w[3].getY())));l+=nt.ROW_STEP;continue}if(f=!0,o.push(g),!e)break;g[2]!=null?(c=Math.trunc(g[2].getX()),l=Math.trunc(g[2].getY())):(c=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY()))}return o}static findVertices(e,r,o){const l=e.getHeight(),c=e.getWidth(),f=new Array(8);return nt.copyToResult(f,nt.findRowsWithPattern(e,l,c,r,o,nt.START_PATTERN),nt.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),r=Math.trunc(f[4].getY())),nt.copyToResult(f,nt.findRowsWithPattern(e,l,c,r,o,nt.STOP_PATTERN),nt.INDEXES_STOP_PATTERN),f}static copyToResult(e,r,o){for(let l=0;l<o.length;l++)e[o[l]]=r[l]}static findRowsWithPattern(e,r,o,l,c,f){const g=new Array(4);let w=!1;const S=new Int32Array(f.length);for(;l<r;l+=nt.ROW_STEP){let _=nt.findGuardPattern(e,c,l,o,!1,f,S);if(_!=null){for(;l>0;){const L=nt.findGuardPattern(e,c,--l,o,!1,f,S);if(L!=null)_=L;else{l++;break}}g[0]=new Ce(_[0],l),g[1]=new Ce(_[1],l),w=!0;break}}let b=l+1;if(w){let _=0,L=Int32Array.from([Math.trunc(g[0].getX()),Math.trunc(g[1].getX())]);for(;b<r;b++){const U=nt.findGuardPattern(e,L[0],b,o,!1,f,S);if(U!=null&&Math.abs(L[0]-U[0])<nt.MAX_PATTERN_DRIFT&&Math.abs(L[1]-U[1])<nt.MAX_PATTERN_DRIFT)L=U,_=0;else{if(_>nt.SKIPPED_ROW_COUNT_MAX)break;_++}}b-=_+1,g[2]=new Ce(L[0],b),g[3]=new Ce(L[1],b)}return b-l<nt.BARCODE_MIN_HEIGHT&&H.fill(g,null),g}static findGuardPattern(e,r,o,l,c,f,g){H.fillWithin(g,0,g.length,0);let w=r,S=0;for(;e.get(w,o)&&w>0&&S++<nt.MAX_PIXEL_DRIFT;)w--;let b=w,_=0,L=f.length;for(let U=c;b<l;b++)if(e.get(b,o)!==U)g[_]++;else{if(_===L-1){if(nt.patternMatchVariance(g,f,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return new Int32Array([w,b]);w+=g[0]+g[1],B.arraycopy(g,2,g,0,_-1),g[_-1]=0,g[_]=0,_--}else _++;g[_]=1,U=!U}return _===L-1&&nt.patternMatchVariance(g,f,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE?new Int32Array([w,b-1]):null}static patternMatchVariance(e,r,o){let l=e.length,c=0,f=0;for(let S=0;S<l;S++)c+=e[S],f+=r[S];if(c<f)return 1/0;let g=c/f;o*=g;let w=0;for(let S=0;S<l;S++){let b=e[S],_=r[S]*g,L=b>_?b-_:_-b;if(L>o)return 1/0;w+=L}return w/c}}nt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),nt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),nt.MAX_AVG_VARIANCE=.42,nt.MAX_INDIVIDUAL_VARIANCE=.8,nt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),nt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),nt.MAX_PIXEL_DRIFT=3,nt.MAX_PATTERN_DRIFT=5,nt.SKIPPED_ROW_COUNT_MAX=25,nt.ROW_STEP=5,nt.BARCODE_MIN_HEIGHT=10;class An{constructor(e,r){if(r.length===0)throw new T;this.field=e;let o=r.length;if(o>1&&r[0]===0){let l=1;for(;l<o&&r[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),B.arraycopy(r,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let l=0;for(let c of this.coefficients)l=this.field.add(l,c);return l}let r=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)r=this.field.add(this.field.multiply(e,r),this.coefficients[l]);return r}add(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,o=e.coefficients;if(r.length>o.length){let f=r;r=o,o=f}let l=new Int32Array(o.length),c=o.length-r.length;B.arraycopy(o,0,l,0,c);for(let f=c;f<o.length;f++)l[f]=this.field.add(r[f-c],o[f]);return new An(this.field,l)}subtract(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof An?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new An(this.field,new Int32Array([0]));let r=this.coefficients,o=r.length,l=e.coefficients,c=l.length,f=new Int32Array(o+c-1);for(let g=0;g<o;g++){let w=r[g];for(let S=0;S<c;S++)f[g+S]=this.field.add(f[g+S],this.field.multiply(w,l[S]))}return new An(this.field,f)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let o=0;o<e;o++)r[o]=this.field.subtract(0,this.coefficients[o]);return new An(this.field,r)}multiplyScalar(e){if(e===0)return new An(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,o=new Int32Array(r);for(let l=0;l<r;l++)o[l]=this.field.multiply(this.coefficients[l],e);return new An(this.field,o)}multiplyByMonomial(e,r){if(e<0)throw new T;if(r===0)return new An(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+e);for(let c=0;c<o;c++)l[c]=this.field.multiply(this.coefficients[c],r);return new An(this.field,l)}toString(){let e=new Fe;for(let r=this.getDegree();r>=0;r--){let o=this.getCoefficient(r);o!==0&&(o<0?(e.append(" - "),o=-o):e.length()>0&&e.append(" + "),(r===0||o!==1)&&e.append(o),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class fl{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}inverse(e){if(e===0)throw new er;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ki extends fl{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let o=1;for(let l=0;l<e;l++)this.expTable[l]=o,o=o*r%e;for(let l=0;l<e-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new An(this,new Int32Array([0])),this.one=new An(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new T;if(r===0)return this.zero;let o=new Int32Array(e+1);return o[0]=r,new An(this,o)}}Ki.PDF417_GF=new Ki(qe.NUMBER_OF_CODEWORDS,3);class Qo{constructor(){this.field=Ki.PDF417_GF}decode(e,r,o){let l=new An(this.field,e),c=new Int32Array(r),f=!1;for(let G=r;G>0;G--){let X=l.evaluateAt(this.field.exp(G));c[r-G]=X,X!==0&&(f=!0)}if(!f)return 0;let g=this.field.getOne();if(o!=null)for(const G of o){let X=this.field.exp(e.length-1-G),$=new An(this.field,new Int32Array([this.field.subtract(0,X),1]));g=g.multiply($)}let w=new An(this.field,c),S=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),w,r),b=S[0],_=S[1],L=this.findErrorLocations(b),U=this.findErrorMagnitudes(_,b,L);for(let G=0;G<L.length;G++){let X=e.length-1-this.field.log(L[G]);if(X<0)throw O.getChecksumInstance();e[X]=this.field.subtract(e[X],U[G])}return L.length}runEuclideanAlgorithm(e,r,o){if(e.getDegree()<r.getDegree()){let L=e;e=r,r=L}let l=e,c=r,f=this.field.getZero(),g=this.field.getOne();for(;c.getDegree()>=Math.round(o/2);){let L=l,U=f;if(l=c,f=g,l.isZero())throw O.getChecksumInstance();c=L;let G=this.field.getZero(),X=l.getCoefficient(l.getDegree()),$=this.field.inverse(X);for(;c.getDegree()>=l.getDegree()&&!c.isZero();){let oe=c.getDegree()-l.getDegree(),Ae=this.field.multiply(c.getCoefficient(c.getDegree()),$);G=G.add(this.field.buildMonomial(oe,Ae)),c=c.subtract(l.multiplyByMonomial(oe,Ae))}g=G.multiply(f).subtract(U).negative()}let w=g.getCoefficient(0);if(w===0)throw O.getChecksumInstance();let S=this.field.inverse(w),b=g.multiply(S),_=c.multiply(S);return[b,_]}findErrorLocations(e){let r=e.getDegree(),o=new Int32Array(r),l=0;for(let c=1;c<this.field.getSize()&&l<r;c++)e.evaluateAt(c)===0&&(o[l]=this.field.inverse(c),l++);if(l!==r)throw O.getChecksumInstance();return o}findErrorMagnitudes(e,r,o){let l=r.getDegree(),c=new Int32Array(l);for(let S=1;S<=l;S++)c[l-S]=this.field.multiply(S,r.getCoefficient(S));let f=new An(this.field,c),g=o.length,w=new Int32Array(g);for(let S=0;S<g;S++){let b=this.field.inverse(o[S]),_=this.field.subtract(0,e.evaluateAt(b)),L=this.field.inverse(f.evaluateAt(b));w[S]=this.field.multiply(_,L)}return w}}class Ai{constructor(e,r,o,l,c){e instanceof Ai?this.constructor_2(e):this.constructor_1(e,r,o,l,c)}constructor_1(e,r,o,l,c){const f=r==null||o==null,g=l==null||c==null;if(f&&g)throw new Q;f?(r=new Ce(0,l.getY()),o=new Ce(0,c.getY())):g&&(l=new Ce(e.getWidth()-1,r.getY()),c=new Ce(e.getWidth()-1,o.getY())),this.image=e,this.topLeft=r,this.bottomLeft=o,this.topRight=l,this.bottomRight=c,this.minX=Math.trunc(Math.min(r.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),c.getX())),this.minY=Math.trunc(Math.min(r.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),c.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new Ai(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,o){let l=this.topLeft,c=this.bottomLeft,f=this.topRight,g=this.bottomRight;if(e>0){let w=o?this.topLeft:this.topRight,S=Math.trunc(w.getY()-e);S<0&&(S=0);let b=new Ce(w.getX(),S);o?l=b:f=b}if(r>0){let w=o?this.bottomLeft:this.bottomRight,S=Math.trunc(w.getY()+r);S>=this.image.getHeight()&&(S=this.image.getHeight()-1);let b=new Ce(w.getX(),S);o?c=b:g=b}return new Ai(this.image,l,c,f,g)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class bs{constructor(e,r,o,l){this.columnCount=e,this.errorCorrectionLevel=l,this.rowCountUpperPart=r,this.rowCountLowerPart=o,this.rowCount=r+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Yr{constructor(){this.buffer=""}static form(e,r){let o=-1;function l(f,g,w,S,b,_){if(f==="%%")return"%";if(r[++o]===void 0)return;f=S?parseInt(S.substr(1)):void 0;let L=b?parseInt(b.substr(1)):void 0,U;switch(_){case"s":U=r[o];break;case"c":U=r[o][0];break;case"f":U=parseFloat(r[o]).toFixed(f);break;case"p":U=parseFloat(r[o]).toPrecision(f);break;case"e":U=parseFloat(r[o]).toExponential(f);break;case"x":U=parseInt(r[o]).toString(L||16);break;case"d":U=parseFloat(parseInt(r[o],L||10).toPrecision(f)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(L);let G=parseInt(w),X=w&&w[0]+""=="0"?"0":" ";for(;U.length<G;)U=g!==void 0?U+X:X+U;return U}let c=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(c,l)}format(e,...r){this.buffer+=Yr.form(e,r)}toString(){return this.buffer}}class Pr{constructor(e){this.boundingBox=new Ai(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let o=1;o<Pr.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(e)-o;if(l>=0&&(r=this.codewords[l],r!=null)||(l=this.imageRowToCodewordIndex(e)+o,l<this.codewords.length&&(r=this.codewords[l],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Yr;let r=0;for(const o of this.codewords){if(o==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,o.getRowNumber(),o.getValue())}return e.toString()}}Pr.MAX_NEARBY_DISTANCE=5;class si{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[o,l]of this.values.entries()){const c={getKey:()=>o,getValue:()=>l};c.getValue()>e?(e=c.getValue(),r=[],r.push(c.getKey())):c.getValue()===e&&r.push(c.getKey())}return qe.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class dl extends Pr{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),c=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.imageRowToCodewordIndex(Math.trunc(c.getY())),w=-1,S=1,b=0;for(let _=f;_<g;_++){if(r[_]==null)continue;let L=r[_],U=L.getRowNumber()-w;if(U===0)b++;else if(U===1)S=Math.max(S,b),b=1,w=L.getRowNumber();else if(U<0||L.getRowNumber()>=e.getRowCount()||U>_)r[_]=null;else{let G;S>2?G=(S-2)*U:G=U;let X=G>=_;for(let $=1;$<=G&&!X;$++)X=r[_-$]!=null;X?r[_]=null:(w=L.getRowNumber(),b=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=r.length)continue;r[l]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),o=this._isLeft?r.getTopLeft():r.getTopRight(),l=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),g=this.getCodewords(),w=-1;for(let S=c;S<f;S++){if(g[S]==null)continue;let b=g[S];b.setRowNumberAsRowIndicatorColumn();let _=b.getRowNumber()-w;_===0||(_===1?w=b.getRowNumber():b.getRowNumber()>=e.getRowCount()?g[S]=null:w=b.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new si,o=new si,l=new si,c=new si;for(let g of e){if(g==null)continue;g.setRowNumberAsRowIndicatorColumn();let w=g.getValue()%30,S=g.getRowNumber();switch(this._isLeft||(S+=2),S%3){case 0:o.setValue(w*3+1);break;case 1:c.setValue(w/3),l.setValue(w%3);break;case 2:r.setValue(w+1);break}}if(r.getValue().length===0||o.getValue().length===0||l.getValue().length===0||c.getValue().length===0||r.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<qe.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>qe.MAX_ROWS_IN_BARCODE)return null;let f=new bs(r.getValue()[0],o.getValue()[0],l.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(e,f),f}removeIncorrectCodewords(e,r){for(let o=0;o<e.length;o++){let l=e[o];if(e[o]==null)continue;let c=l.getValue()%30,f=l.getRowNumber();if(f>r.getRowCount()){e[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:c*3+1!==r.getRowCountUpperPart()&&(e[o]=null);break;case 1:(Math.trunc(c/3)!==r.getErrorCorrectionLevel()||c%3!==r.getRowCountLowerPart())&&(e[o]=null);break;case 2:c+1!==r.getColumnCount()&&(e[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ns{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=qe.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let o=this.detectionResultColumns[r].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(r,l,o))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<e.length;o++)if(e[o]!=null&&r[o]!=null&&e[o].getRowNumber()===r[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let c=this.detectionResultColumns[l].getCodewords()[o];c!=null&&(c.setRowNumber(e[o].getRowNumber()),c.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let l=r[o].getRowNumber(),c=0;for(let f=this.barcodeColumnCount+1;f>0&&c<this.ADJUST_ROW_NUMBER_SKIP;f--){let g=this.detectionResultColumns[f].getCodewords()[o];g!=null&&(c=Ns.adjustRowNumberIfValid(l,c,g),g.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let o=0;o<r.length;o++){if(r[o]==null)continue;let l=r[o].getRowNumber(),c=0;for(let f=1;f<this.barcodeColumnCount+1&&c<this.ADJUST_ROW_NUMBER_SKIP;f++){let g=this.detectionResultColumns[f].getCodewords()[o];g!=null&&(c=Ns.adjustRowNumberIfValid(l,c,g),g.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(e)?(o.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,o){if(!this.detectionResultColumns[e-1])return;let l=o[r],c=this.detectionResultColumns[e-1].getCodewords(),f=c;this.detectionResultColumns[e+1]!=null&&(f=this.detectionResultColumns[e+1].getCodewords());let g=new Array(14);g[2]=c[r],g[3]=f[r],r>0&&(g[0]=o[r-1],g[4]=c[r-1],g[5]=f[r-1]),r>1&&(g[8]=o[r-2],g[10]=c[r-2],g[11]=f[r-2]),r<o.length-1&&(g[1]=o[r+1],g[6]=c[r+1],g[7]=f[r+1]),r<o.length-2&&(g[9]=o[r+2],g[12]=c[r+2],g[13]=f[r+2]);for(let w of g)if(Ns.adjustRowNumber(l,w))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Yr;for(let o=0;o<e.getCodewords().length;o++){r.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){r.format("    |   ");continue}let c=this.detectionResultColumns[l].getCodewords()[o];if(c==null){r.format("    |   ");continue}r.format(" %3d|%3d",c.getRowNumber(),c.getValue())}r.format("%n")}return r.toString()}}class Ti{constructor(e,r,o,l){this.rowNumber=Ti.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Ti.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Ti.BARCODE_ROW_UNKNOWN=-1;class Tn{static initialize(){for(let e=0;e<qe.SYMBOL_TABLE.length;e++){let r=qe.SYMBOL_TABLE[e],o=r&1;for(let l=0;l<qe.BARS_IN_MODULE;l++){let c=0;for(;(r&1)===o;)c+=1,r>>=1;o=r&1,Tn.RATIOS_TABLE[e]||(Tn.RATIOS_TABLE[e]=new Array(qe.BARS_IN_MODULE)),Tn.RATIOS_TABLE[e][qe.BARS_IN_MODULE-l-1]=Math.fround(c/qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=Tn.getDecodedCodewordValue(Tn.sampleBitCounts(e));return r!==-1?r:Tn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=tt.sum(e),o=new Int32Array(qe.BARS_IN_MODULE),l=0,c=0;for(let f=0;f<qe.MODULES_IN_CODEWORD;f++){let g=r/(2*qe.MODULES_IN_CODEWORD)+f*r/qe.MODULES_IN_CODEWORD;c+e[l]<=g&&(c+=e[l],l++),o[l]++}return o}static getDecodedCodewordValue(e){let r=Tn.getBitValue(e);return qe.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let o=0;o<e.length;o++)for(let l=0;l<e[o];l++)r=r<<1|(o%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=tt.sum(e),o=new Array(qe.BARS_IN_MODULE);if(r>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(e[f]/r);let l=ar.MAX_VALUE,c=-1;this.bSymbolTableReady||Tn.initialize();for(let f=0;f<Tn.RATIOS_TABLE.length;f++){let g=0,w=Tn.RATIOS_TABLE[f];for(let S=0;S<qe.BARS_IN_MODULE;S++){let b=Math.fround(w[S]-o[S]);if(g+=Math.fround(b*b),g>=l)break}g<l&&(l=g,c=qe.SYMBOL_TABLE[f])}return c}}Tn.bSymbolTableReady=!1,Tn.RATIOS_TABLE=new Array(qe.SYMBOL_TABLE.length).map(M=>new Array(qe.BARS_IN_MODULE));class so{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class $o{static parseLong(e,r=void 0){return parseInt(e,r)}}class Xr extends x{}Xr.kind="NullPointerException";class qo{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,o){if(e==null)throw new Xr;if(r<0||r>e.length||o<0||r+o>e.length||r+o<0)throw new F;if(o===0)return;for(let l=0;l<o;l++)this.write(e[r+l])}flush(){}close(){}}class oo extends x{}class hl extends qo{constructor(e=32){if(super(),this.count=0,e<0)throw new T("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let o=this.buf.length<<1;if(o-e<0&&(o=e),o<0){if(e<0)throw new oo;o=V.MAX_VALUE}this.buf=H.copyOfUint8Array(this.buf,o)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,o){if(r<0||r>e.length||o<0||r+o-e.length>0)throw new F;this.ensureCapacity(this.count+o),B.arraycopy(e,r,this.buf,this.count,o),this.count+=o}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return H.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ct;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function Rs(){if(typeof window<"u")return window.BigInt||null;if(typeof uc<"u")return uc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ms;function an(M){if(typeof Ms>"u"&&(Ms=Rs()),Ms===null)throw new Error("BigInt is not supported!");return Ms(M)}function Qi(){let M=[];M[0]=an(1);let e=an(900);M[1]=e;for(let r=2;r<16;r++)M[r]=M[r-1]*e;return M}class ae{static decode(e,r){let o=new Fe(""),l=q.ISO8859_1;o.enableDecoding(l);let c=1,f=e[c++],g=new so;for(;c<e[0];){switch(f){case ae.TEXT_COMPACTION_MODE_LATCH:c=ae.textCompaction(e,c,o);break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:c=ae.byteCompaction(f,e,l,c,o);break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(e[c++]);break;case ae.NUMERIC_COMPACTION_MODE_LATCH:c=ae.numericCompaction(e,c,o);break;case ae.ECI_CHARSET:q.getCharacterSetECIByValue(e[c++]);break;case ae.ECI_GENERAL_PURPOSE:c+=2;break;case ae.ECI_USER_DEFINED:c++;break;case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:c=ae.decodeMacroBlock(e,c,g);break;case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:throw new J;default:c--,c=ae.textCompaction(e,c,o);break}if(c<e.length)f=e[c++];else throw J.getFormatInstance()}if(o.length()===0)throw J.getFormatInstance();let w=new it(null,o.toString(),null,r);return w.setOther(g),w}static decodeMacroBlock(e,r,o){if(r+ae.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw J.getFormatInstance();let l=new Int32Array(ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let g=0;g<ae.NUMBER_OF_SEQUENCE_CODEWORDS;g++,r++)l[g]=e[r];o.setSegmentIndex(V.parseInt(ae.decodeBase900toBase10(l,ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let c=new Fe;r=ae.textCompaction(e,r,c),o.setFileId(c.toString());let f=-1;for(e[r]===ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=r+1);r<e[0];)switch(e[r]){case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let g=new Fe;r=ae.textCompaction(e,r+1,g),o.setFileName(g.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Fe;r=ae.textCompaction(e,r+1,w),o.setSender(w.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let S=new Fe;r=ae.textCompaction(e,r+1,S),o.setAddressee(S.toString());break;case ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new Fe;r=ae.numericCompaction(e,r+1,b),o.setSegmentCount(V.parseInt(b.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let _=new Fe;r=ae.numericCompaction(e,r+1,_),o.setTimestamp($o.parseLong(_.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let L=new Fe;r=ae.numericCompaction(e,r+1,L),o.setChecksum(V.parseInt(L.toString()));break;case ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new Fe;r=ae.numericCompaction(e,r+1,U),o.setFileSize($o.parseLong(U.toString()));break;default:throw J.getFormatInstance()}break;case ae.MACRO_PDF417_TERMINATOR:r++,o.setLastSegment(!0);break;default:throw J.getFormatInstance()}if(f!==-1){let g=r-f;o.isLastSegment()&&g--,o.setOptionalData(H.copyOfRange(e,f,f+g))}return r}static textCompaction(e,r,o){let l=new Int32Array((e[0]-r)*2),c=new Int32Array((e[0]-r)*2),f=0,g=!1;for(;r<e[0]&&!g;){let w=e[r++];if(w<ae.TEXT_COMPACTION_MODE_LATCH)l[f]=w/30,l[f+1]=w%30,f+=2;else switch(w){case ae.TEXT_COMPACTION_MODE_LATCH:l[f++]=ae.TEXT_COMPACTION_MODE_LATCH;break;case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:r--,g=!0;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[f]=ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=e[r++],c[f]=w,f++;break}}return ae.decodeTextCompaction(l,c,f,o),r}static decodeTextCompaction(e,r,o,l){let c=Ct.ALPHA,f=Ct.ALPHA,g=0;for(;g<o;){let w=e[g],S="";switch(c){case Ct.ALPHA:if(w<26)S=String.fromCharCode(65+w);else switch(w){case 26:S=" ";break;case ae.LL:c=Ct.LOWER;break;case ae.ML:c=Ct.MIXED;break;case ae.PS:f=c,c=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ct.ALPHA;break}break;case Ct.LOWER:if(w<26)S=String.fromCharCode(97+w);else switch(w){case 26:S=" ";break;case ae.AS:f=c,c=Ct.ALPHA_SHIFT;break;case ae.ML:c=Ct.MIXED;break;case ae.PS:f=c,c=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ct.ALPHA;break}break;case Ct.MIXED:if(w<ae.PL)S=ae.MIXED_CHARS[w];else switch(w){case ae.PL:c=Ct.PUNCT;break;case 26:S=" ";break;case ae.LL:c=Ct.LOWER;break;case ae.AL:c=Ct.ALPHA;break;case ae.PS:f=c,c=Ct.PUNCT_SHIFT;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ct.ALPHA;break}break;case Ct.PUNCT:if(w<ae.PAL)S=ae.PUNCT_CHARS[w];else switch(w){case ae.PAL:c=Ct.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(c=f,w<26)S=String.fromCharCode(65+w);else switch(w){case 26:S=" ";break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(c=f,w<ae.PAL)S=ae.PUNCT_CHARS[w];else switch(w){case ae.PAL:c=Ct.ALPHA;break;case ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(r[g]);break;case ae.TEXT_COMPACTION_MODE_LATCH:c=Ct.ALPHA;break}break}S!==""&&l.append(S),g++}}static byteCompaction(e,r,o,l,c){let f=new hl,g=0,w=0,S=!1;switch(e){case ae.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),_=r[l++];for(;l<r[0]&&!S;)switch(b[g++]=_,w=900*w+_,_=r[l++],_){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,S=!0;break;default:if(g%5===0&&g>0){for(let L=0;L<6;++L)f.write(Number(an(w)>>an(8*(5-L))));w=0,g=0}break}l===r[0]&&_<ae.TEXT_COMPACTION_MODE_LATCH&&(b[g++]=_);for(let L=0;L<g;L++)f.write(b[L]);break;case ae.BYTE_COMPACTION_MODE_LATCH_6:for(;l<r[0]&&!S;){let L=r[l++];if(L<ae.TEXT_COMPACTION_MODE_LATCH)g++,w=900*w+L;else switch(L){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.NUMERIC_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:l--,S=!0;break}if(g%5===0&&g>0){for(let U=0;U<6;++U)f.write(Number(an(w)>>an(8*(5-U))));w=0,g=0}}break}return c.append(Pe.decode(f.toByteArray(),o)),l}static numericCompaction(e,r,o){let l=0,c=!1,f=new Int32Array(ae.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!c;){let g=e[r++];if(r===e[0]&&(c=!0),g<ae.TEXT_COMPACTION_MODE_LATCH)f[l]=g,l++;else switch(g){case ae.TEXT_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH:case ae.BYTE_COMPACTION_MODE_LATCH_6:case ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ae.MACRO_PDF417_TERMINATOR:r--,c=!0;break}(l%ae.MAX_NUMERIC_CODEWORDS===0||g===ae.NUMERIC_COMPACTION_MODE_LATCH||c)&&l>0&&(o.append(ae.decodeBase900toBase10(f,l)),l=0)}return r}static decodeBase900toBase10(e,r){let o=an(0);for(let c=0;c<r;c++)o+=ae.EXP900[r-c-1]*an(e[c]);let l=o.toString();if(l.charAt(0)!=="1")throw new J;return l.substring(1)}}ae.TEXT_COMPACTION_MODE_LATCH=900,ae.BYTE_COMPACTION_MODE_LATCH=901,ae.NUMERIC_COMPACTION_MODE_LATCH=902,ae.BYTE_COMPACTION_MODE_LATCH_6=924,ae.ECI_USER_DEFINED=925,ae.ECI_GENERAL_PURPOSE=926,ae.ECI_CHARSET=927,ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ae.MACRO_PDF417_TERMINATOR=922,ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ae.MAX_NUMERIC_CODEWORDS=15,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ae.PL=25,ae.LL=27,ae.AS=27,ae.ML=28,ae.AL=28,ae.PS=29,ae.PAL=29,ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ae.EXP900=Rs()?Qi():[],ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class st{constructor(){}static decode(e,r,o,l,c,f,g){let w=new Ai(e,r,o,l,c),S=null,b=null,_;for(let G=!0;;G=!1){if(r!=null&&(S=st.getRowIndicatorColumn(e,w,r,!0,f,g)),l!=null&&(b=st.getRowIndicatorColumn(e,w,l,!1,f,g)),_=st.merge(S,b),_==null)throw Q.getNotFoundInstance();let X=_.getBoundingBox();if(G&&X!=null&&(X.getMinY()<w.getMinY()||X.getMaxY()>w.getMaxY()))w=X;else break}_.setBoundingBox(w);let L=_.getBarcodeColumnCount()+1;_.setDetectionResultColumn(0,S),_.setDetectionResultColumn(L,b);let U=S!=null;for(let G=1;G<=L;G++){let X=U?G:L-G;if(_.getDetectionResultColumn(X)!==void 0)continue;let $;X===0||X===L?$=new dl(w,X===0):$=new Pr(w),_.setDetectionResultColumn(X,$);let oe=-1,Ae=oe;for(let Te=w.getMinY();Te<=w.getMaxY();Te++){if(oe=st.getStartColumn(_,X,Te,U),oe<0||oe>w.getMaxX()){if(Ae===-1)continue;oe=Ae}let xe=st.detectCodeword(e,w.getMinX(),w.getMaxX(),U,oe,Te,f,g);xe!=null&&($.setCodeword(Te,xe),Ae=oe,f=Math.min(f,xe.getWidth()),g=Math.max(g,xe.getWidth()))}}return st.createDecoderResult(_)}static merge(e,r){if(e==null&&r==null)return null;let o=st.getBarcodeMetadata(e,r);if(o==null)return null;let l=Ai.merge(st.adjustBoundingBox(e),st.adjustBoundingBox(r));return new Ns(o,l)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let o=st.getMax(r),l=0;for(let g of r)if(l+=o-g,g>0)break;let c=e.getCodewords();for(let g=0;l>0&&c[g]==null;g++)l--;let f=0;for(let g=r.length-1;g>=0&&(f+=o-r[g],!(r[g]>0));g--);for(let g=c.length-1;f>0&&c[g]==null;g--)f--;return e.getBoundingBox().addMissingRows(l,f,e.isLeft())}static getMax(e){let r=-1;for(let o of e)r=Math.max(r,o);return r}static getBarcodeMetadata(e,r){let o;if(e==null||(o=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let l;return r==null||(l=r.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(e,r,o,l,c,f){let g=new dl(r,l);for(let w=0;w<2;w++){let S=w===0?1:-1,b=Math.trunc(Math.trunc(o.getX()));for(let _=Math.trunc(Math.trunc(o.getY()));_<=r.getMaxY()&&_>=r.getMinY();_+=S){let L=st.detectCodeword(e,0,e.getWidth(),l,b,_,c,f);L!=null&&(g.setCodeword(_,L),l?b=L.getStartX():b=L.getEndX())}}return g}static adjustCodewordCount(e,r){let o=r[0][1],l=o.getValue(),c=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-st.getNumberOfECCodeWords(e.getBarcodeECLevel());if(l.length===0){if(c<1||c>qe.MAX_CODEWORDS_IN_BARCODE)throw Q.getNotFoundInstance();o.setValue(c)}else l[0]!==c&&o.setValue(c)}static createDecoderResult(e){let r=st.createBarcodeMatrix(e);st.adjustCodewordCount(e,r);let o=new Array,l=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),c=[],f=new Array;for(let w=0;w<e.getBarcodeRowCount();w++)for(let S=0;S<e.getBarcodeColumnCount();S++){let b=r[w][S+1].getValue(),_=w*e.getBarcodeColumnCount()+S;b.length===0?o.push(_):b.length===1?l[_]=b[0]:(f.push(_),c.push(b))}let g=new Array(c.length);for(let w=0;w<g.length;w++)g[w]=c[w];return st.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),l,qe.toIntArray(o),qe.toIntArray(f),g)}static createDecoderResultFromAmbiguousValues(e,r,o,l,c){let f=new Int32Array(l.length),g=100;for(;g-- >0;){for(let w=0;w<f.length;w++)r[l[w]]=c[w][f[w]];try{return st.decodeCodewords(r,e,o)}catch(w){if(!(w instanceof O))throw w}if(f.length===0)throw O.getChecksumInstance();for(let w=0;w<f.length;w++)if(f[w]<c[w].length-1){f[w]++;break}else if(f[w]=0,w===f.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let l=0;l<r.length;l++)for(let c=0;c<r[l].length;c++)r[l][c]=new si;let o=0;for(let l of e.getDetectionResultColumns()){if(l!=null){for(let c of l.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=0){if(f>=r.length)continue;r[f][o].setValue(c.getValue())}}}o++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,o,l){let c=l?1:-1,f=null;if(st.isValidBarcodeColumn(e,r-c)&&(f=e.getDetectionResultColumn(r-c).getCodeword(o)),f!=null)return l?f.getEndX():f.getStartX();if(f=e.getDetectionResultColumn(r).getCodewordNearby(o),f!=null)return l?f.getStartX():f.getEndX();if(st.isValidBarcodeColumn(e,r-c)&&(f=e.getDetectionResultColumn(r-c).getCodewordNearby(o)),f!=null)return l?f.getEndX():f.getStartX();let g=0;for(;st.isValidBarcodeColumn(e,r-c);){r-=c;for(let w of e.getDetectionResultColumn(r).getCodewords())if(w!=null)return(l?w.getEndX():w.getStartX())+c*g*(w.getEndX()-w.getStartX());g++}return l?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,o,l,c,f,g,w){c=st.adjustCodewordStartColumn(e,r,o,l,c,f);let S=st.getModuleBitCount(e,r,o,l,c,f);if(S==null)return null;let b,_=tt.sum(S);if(l)b=c+_;else{for(let G=0;G<S.length/2;G++){let X=S[G];S[G]=S[S.length-1-G],S[S.length-1-G]=X}b=c,c=b-_}if(!st.checkCodewordSkew(_,g,w))return null;let L=Tn.getDecodedValue(S),U=qe.getCodeword(L);return U===-1?null:new Ti(c,b,st.getCodewordBucketNumber(L),U)}static getModuleBitCount(e,r,o,l,c,f){let g=c,w=new Int32Array(8),S=0,b=l?1:-1,_=l;for(;(l?g<o:g>=r)&&S<w.length;)e.get(g,f)===_?(w[S]++,g+=b):(S++,_=!_);return S===w.length||g===(l?o:r)&&S===w.length-1?w:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,o,l,c,f){let g=c,w=l?-1:1;for(let S=0;S<2;S++){for(;(l?g>=r:g<o)&&l===e.get(g,f);){if(Math.abs(c-g)>st.CODEWORD_SKEW_SIZE)return c;g+=w}w=-w,l=!l}return g}static checkCodewordSkew(e,r,o){return r-st.CODEWORD_SKEW_SIZE<=e&&e<=o+st.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,o){if(e.length===0)throw J.getFormatInstance();let l=1<<r+1,c=st.correctErrors(e,o,l);st.verifyCodewordCount(e,l);let f=ae.decode(e,""+r);return f.setErrorsCorrected(c),f.setErasures(o.length),f}static correctErrors(e,r,o){if(r!=null&&r.length>o/2+st.MAX_ERRORS||o<0||o>st.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return st.errorCorrection.decode(e,o,r)}static verifyCodewordCount(e,r){if(e.length<4)throw J.getFormatInstance();let o=e[0];if(o>e.length)throw J.getFormatInstance();if(o===0)if(r<e.length)e[0]=e.length-r;else throw J.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),o=0,l=r.length-1;for(;!((e&1)!==o&&(o=e&1,l--,l<0));)r[l]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return st.getCodewordBucketNumber(st.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new Yr;for(let o=0;o<e.length;o++){r.format("Row %2d: ",o);for(let l=0;l<e[o].length;l++){let c=e[o][l];c.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",c.getValue()[0],c.getConfidence(c.getValue()[0]))}r.format("%n")}return r.toString()}}st.CODEWORD_SKEW_SIZE=2,st.MAX_ERRORS=3,st.MAX_EC_CODEWORDS=512,st.errorCorrection=new Qo;class In{decode(e,r=null){let o=In.decode(e,r,!1);if(o==null||o.length===0||o[0]==null)throw Q.getNotFoundInstance();return o[0]}decodeMultiple(e,r=null){try{return In.decode(e,r,!0)}catch(o){throw o instanceof J||o instanceof O?Q.getNotFoundInstance():o}}static decode(e,r,o){const l=new Array,c=nt.detectMultiple(e,r,o);for(const f of c.getPoints()){const g=st.decode(c.getBits(),f[4],f[5],f[6],f[7],In.getMinCodewordWidth(f),In.getMaxCodewordWidth(f)),w=new ve(g.getText(),g.getRawBytes(),void 0,f,pe.PDF_417);w.putMetadata(_e.ERROR_CORRECTION_LEVEL,g.getECLevel());const S=g.getOther();S!=null&&w.putMetadata(_e.PDF417_EXTRA_METADATA,S),l.push(w)}return l.map(f=>f)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?V.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(In.getMaxWidth(e[0],e[4]),In.getMaxWidth(e[6],e[2])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN),Math.max(In.getMaxWidth(e[1],e[5]),In.getMaxWidth(e[7],e[3])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(In.getMinWidth(e[0],e[4]),In.getMinWidth(e[6],e[2])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN),Math.min(In.getMinWidth(e[1],e[5]),In.getMinWidth(e[7],e[3])*qe.MODULES_IN_CODEWORD/qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class $i extends x{}$i.kind="ReaderException";class ao{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!u(e)&&e.get(ue.TRY_HARDER)===!0,o=u(e)?null:e.get(ue.POSSIBLE_FORMATS),l=new Array;if(!u(o)){const c=o.some(f=>f===pe.UPC_A||f===pe.UPC_E||f===pe.EAN_13||f===pe.EAN_8||f===pe.CODABAR||f===pe.CODE_39||f===pe.CODE_93||f===pe.CODE_128||f===pe.ITF||f===pe.RSS_14||f===pe.RSS_EXPANDED);c&&!r&&l.push(new Yi(e,this.verbose)),o.includes(pe.QR_CODE)&&l.push(new Bn),o.includes(pe.DATA_MATRIX)&&l.push(new vr),o.includes(pe.AZTEC)&&l.push(new tr),o.includes(pe.PDF_417)&&l.push(new In),c&&r&&l.push(new Yi(e,this.verbose))}l.length===0&&(r||l.push(new Yi(e,this.verbose)),l.push(new Bn),l.push(new vr),l.push(new tr),l.push(new In),r&&l.push(new Yi(e,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new $i("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(o){if(o instanceof $i)continue}throw new Q("No MultiFormat Readers were able to detect the code.")}}class _s extends me{constructor(e=null,r=500){const o=new ao;o.setHints(e),super(o,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class lo extends me{constructor(e=500){super(new In,e)}}class pl extends me{constructor(e=500){super(new Bn,e)}}var Jo;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(Jo||(Jo={}));var gn=Jo;class ea{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new _t(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let o=r[r.length-1];const l=this.field;for(let c=r.length;c<=e;c++){const f=o.multiply(new _t(l,Int32Array.from([1,l.exp(c-1+l.getGeneratorBase())])));r.push(f),o=f}}return r[e]}encode(e,r){if(r===0)throw new T("No error correction bytes");const o=e.length-r;if(o<=0)throw new T("No data bytes provided");const l=this.buildGenerator(r),c=new Int32Array(o);B.arraycopy(e,0,c,0,o);let f=new _t(this.field,c);f=f.multiplyByMonomial(r,1);const w=f.divide(l)[1].getCoefficients(),S=r-w.length;for(let b=0;b<S;b++)e[o+b]=0;B.arraycopy(w,0,e,o+S,w.length)}}class Wt{constructor(){}static applyMaskPenaltyRule1(e){return Wt.applyMaskPenaltyRule1Internal(e,!0)+Wt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const o=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let f=0;f<c-1;f++){const g=o[f];for(let w=0;w<l-1;w++){const S=g[w];S===g[w+1]&&S===o[f+1][w]&&S===o[f+1][w+1]&&r++}}return Wt.N2*r}static applyMaskPenaltyRule3(e){let r=0;const o=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let f=0;f<c;f++)for(let g=0;g<l;g++){const w=o[f];g+6<l&&w[g]===1&&w[g+1]===0&&w[g+2]===1&&w[g+3]===1&&w[g+4]===1&&w[g+5]===0&&w[g+6]===1&&(Wt.isWhiteHorizontal(w,g-4,g)||Wt.isWhiteHorizontal(w,g+7,g+11))&&r++,f+6<c&&o[f][g]===1&&o[f+1][g]===0&&o[f+2][g]===1&&o[f+3][g]===1&&o[f+4][g]===1&&o[f+5][g]===0&&o[f+6][g]===1&&(Wt.isWhiteVertical(o,g,f-4,f)||Wt.isWhiteVertical(o,g,f+7,f+11))&&r++}return r*Wt.N3}static isWhiteHorizontal(e,r,o){r=Math.max(r,0),o=Math.min(o,e.length);for(let l=r;l<o;l++)if(e[l]===1)return!1;return!0}static isWhiteVertical(e,r,o,l){o=Math.max(o,0),l=Math.min(l,e.length);for(let c=o;c<l;c++)if(e[c][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const o=e.getArray(),l=e.getWidth(),c=e.getHeight();for(let w=0;w<c;w++){const S=o[w];for(let b=0;b<l;b++)S[b]===1&&r++}const f=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-f)*10/f)*Wt.N4}static getDataMaskBit(e,r,o){let l,c;switch(e){case 0:l=o+r&1;break;case 1:l=o&1;break;case 2:l=r%3;break;case 3:l=(o+r)%3;break;case 4:l=Math.floor(o/2)+Math.floor(r/3)&1;break;case 5:c=o*r,l=(c&1)+c%3;break;case 6:c=o*r,l=(c&1)+c%3&1;break;case 7:c=o*r,l=c%3+(o+r&1)&1;break;default:throw new T("Invalid mask pattern: "+e)}return l===0}static applyMaskPenaltyRule1Internal(e,r){let o=0;const l=r?e.getHeight():e.getWidth(),c=r?e.getWidth():e.getHeight(),f=e.getArray();for(let g=0;g<l;g++){let w=0,S=-1;for(let b=0;b<c;b++){const _=r?f[g][b]:f[b][g];_===S?w++:(w>=5&&(o+=Wt.N1+(w-5)),w=1,S=_)}w>=5&&(o+=Wt.N1+(w-5))}return o}}Wt.N1=3,Wt.N2=3,Wt.N3=40,Wt.N4=10;class co{constructor(e,r){this.width=e,this.height=r;const o=new Array(r);for(let l=0;l!==r;l++)o[l]=new Uint8Array(e);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,o){this.bytes[r][e]=o}setBoolean(e,r,o){this.bytes[r][e]=o?1:0}clear(e){for(const r of this.bytes)H.fill(r,e)}equals(e){if(!(e instanceof co))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let o=0,l=this.height;o<l;++o){const c=this.bytes[o],f=r.bytes[o];for(let g=0,w=this.width;g<w;++g)if(c[g]!==f[g])return!1}return!0}toString(){const e=new Fe;for(let r=0,o=this.height;r<o;++r){const l=this.bytes[r];for(let c=0,f=this.width;c<f;++c)switch(l[c]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Ii{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Fe;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Ii.NUM_MASK_PATTERNS}}Ii.NUM_MASK_PATTERNS=8;class Ot extends x{}Ot.kind="WriterException";class Ze{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,o,l,c){Ze.clearMatrix(c),Ze.embedBasicPatterns(o,c),Ze.embedTypeInfo(r,l,c),Ze.maybeEmbedVersionInfo(o,c),Ze.embedDataBits(e,l,c)}static embedBasicPatterns(e,r){Ze.embedPositionDetectionPatternsAndSeparators(r),Ze.embedDarkDotAtLeftBottomCorner(r),Ze.maybeEmbedPositionAdjustmentPatterns(e,r),Ze.embedTimingPatterns(r)}static embedTypeInfo(e,r,o){const l=new ee;Ze.makeTypeInfoBits(e,r,l);for(let c=0,f=l.getSize();c<f;++c){const g=l.get(l.getSize()-1-c),w=Ze.TYPE_INFO_COORDINATES[c],S=w[0],b=w[1];if(o.setBoolean(S,b,g),c<8){const _=o.getWidth()-c-1;o.setBoolean(_,8,g)}else{const L=o.getHeight()-7+(c-8);o.setBoolean(8,L,g)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const o=new ee;Ze.makeVersionInfoBits(e,o);let l=6*3-1;for(let c=0;c<6;++c)for(let f=0;f<3;++f){const g=o.get(l);l--,r.setBoolean(c,r.getHeight()-11+f,g),r.setBoolean(r.getHeight()-11+f,c,g)}}static embedDataBits(e,r,o){let l=0,c=-1,f=o.getWidth()-1,g=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);g>=0&&g<o.getHeight();){for(let w=0;w<2;++w){const S=f-w;if(!Ze.isEmpty(o.get(S,g)))continue;let b;l<e.getSize()?(b=e.get(l),++l):b=!1,r!==255&&Wt.getDataMaskBit(r,S,g)&&(b=!b),o.setBoolean(S,g,b)}g+=c}c=-c,g+=c,f-=2}if(l!==e.getSize())throw new Ot("Not all bits consumed: "+l+"/"+e.getSize())}static findMSBSet(e){return 32-V.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new T("0 polynomial");const o=Ze.findMSBSet(r);for(e<<=o-1;Ze.findMSBSet(e)>=o;)e^=r<<Ze.findMSBSet(e)-o;return e}static makeTypeInfoBits(e,r,o){if(!Ii.isValidMaskPattern(r))throw new Ot("Invalid mask pattern");const l=e.getBits()<<3|r;o.appendBits(l,5);const c=Ze.calculateBCHCode(l,Ze.TYPE_INFO_POLY);o.appendBits(c,10);const f=new ee;if(f.appendBits(Ze.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Ot("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const o=Ze.calculateBCHCode(e.getVersionNumber(),Ze.VERSION_INFO_POLY);if(r.appendBits(o,12),r.getSize()!==18)throw new Ot("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const o=(r+1)%2;Ze.isEmpty(e.get(r,6))&&e.setNumber(r,6,o),Ze.isEmpty(e.get(6,r))&&e.setNumber(6,r,o)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ot;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,o){for(let l=0;l<8;++l){if(!Ze.isEmpty(o.get(e+l,r)))throw new Ot;o.setNumber(e+l,r,0)}}static embedVerticalSeparationPattern(e,r,o){for(let l=0;l<7;++l){if(!Ze.isEmpty(o.get(e,r+l)))throw new Ot;o.setNumber(e,r+l,0)}}static embedPositionAdjustmentPattern(e,r,o){for(let l=0;l<5;++l){const c=Ze.POSITION_ADJUSTMENT_PATTERN[l];for(let f=0;f<5;++f)o.setNumber(e+f,r+l,c[f])}}static embedPositionDetectionPattern(e,r,o){for(let l=0;l<7;++l){const c=Ze.POSITION_DETECTION_PATTERN[l];for(let f=0;f<7;++f)o.setNumber(e+f,r+l,c[f])}}static embedPositionDetectionPatternsAndSeparators(e){const r=Ze.POSITION_DETECTION_PATTERN[0].length;Ze.embedPositionDetectionPattern(0,0,e),Ze.embedPositionDetectionPattern(e.getWidth()-r,0,e),Ze.embedPositionDetectionPattern(0,e.getWidth()-r,e);const o=8;Ze.embedHorizontalSeparationPattern(0,o-1,e),Ze.embedHorizontalSeparationPattern(e.getWidth()-o,o-1,e),Ze.embedHorizontalSeparationPattern(0,e.getWidth()-o,e);const l=7;Ze.embedVerticalSeparationPattern(l,0,e),Ze.embedVerticalSeparationPattern(e.getHeight()-l-1,0,e),Ze.embedVerticalSeparationPattern(l,e.getHeight()-l,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const o=e.getVersionNumber()-1,l=Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let c=0,f=l.length;c!==f;c++){const g=l[c];if(g>=0)for(let w=0;w!==f;w++){const S=l[w];S>=0&&Ze.isEmpty(r.get(S,g))&&Ze.embedPositionAdjustmentPattern(S-2,g-2,r)}}}}Ze.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ze.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ze.VERSION_INFO_POLY=7973,Ze.TYPE_INFO_POLY=1335,Ze.TYPE_INFO_MASK_PATTERN=21522;class Zc{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Bt{constructor(){}static calculateMaskPenalty(e){return Wt.applyMaskPenaltyRule1(e)+Wt.applyMaskPenaltyRule2(e)+Wt.applyMaskPenaltyRule3(e)+Wt.applyMaskPenaltyRule4(e)}static encode(e,r,o=null){let l=Bt.DEFAULT_BYTE_MODE_ENCODING;const c=o!==null&&o.get(gn.CHARACTER_SET)!==void 0;c&&(l=o.get(gn.CHARACTER_SET).toString());const f=this.chooseMode(e,l),g=new ee;if(f===Xe.BYTE&&(c||Bt.DEFAULT_BYTE_MODE_ENCODING!==l)){const Te=q.getCharacterSetECIByName(l);Te!==void 0&&this.appendECI(Te,g)}this.appendModeInfo(f,g);const w=new ee;this.appendBytes(e,f,w,l);let S;if(o!==null&&o.get(gn.QR_VERSION)!==void 0){const Te=Number.parseInt(o.get(gn.QR_VERSION).toString(),10);S=Ge.getVersionForNumber(Te);const xe=this.calculateBitsNeeded(f,g,w,S);if(!this.willFit(xe,S,r))throw new Ot("Data too big for requested version")}else S=this.recommendVersion(r,f,g,w);const b=new ee;b.appendBitArray(g);const _=f===Xe.BYTE?w.getSizeInBytes():e.length;this.appendLengthInfo(_,S,f,b),b.appendBitArray(w);const L=S.getECBlocksForLevel(r),U=S.getTotalCodewords()-L.getTotalECCodewords();this.terminateBits(U,b);const G=this.interleaveWithECBytes(b,S.getTotalCodewords(),U,L.getNumBlocks()),X=new Ii;X.setECLevel(r),X.setMode(f),X.setVersion(S);const $=S.getDimensionForVersion(),oe=new co($,$),Ae=this.chooseMaskPattern(G,r,S,oe);return X.setMaskPattern(Ae),Ze.buildMatrix(G,r,S,Ae,oe),X.setMatrix(oe),X}static recommendVersion(e,r,o,l){const c=this.calculateBitsNeeded(r,o,l,Ge.getVersionForNumber(1)),f=this.chooseVersion(c,e),g=this.calculateBitsNeeded(r,o,l,f);return this.chooseVersion(g,e)}static calculateBitsNeeded(e,r,o,l){return r.getSize()+e.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(e){return e<Bt.ALPHANUMERIC_TABLE.length?Bt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(q.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Xe.KANJI;let o=!1,l=!1;for(let c=0,f=e.length;c<f;++c){const g=e.charAt(c);if(Bt.isDigit(g))o=!0;else if(this.getAlphanumericCode(g.charCodeAt(0))!==-1)l=!0;else return Xe.BYTE}return l?Xe.ALPHANUMERIC:o?Xe.NUMERIC:Xe.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=Pe.encode(e,q.SJIS)}catch{return!1}const o=r.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const c=r[l]&255;if((c<129||c>159)&&(c<224||c>235))return!1}return!0}static chooseMaskPattern(e,r,o,l){let c=Number.MAX_SAFE_INTEGER,f=-1;for(let g=0;g<Ii.NUM_MASK_PATTERNS;g++){Ze.buildMatrix(e,r,o,g,l);let w=this.calculateMaskPenalty(l);w<c&&(c=w,f=g)}return f}static chooseVersion(e,r){for(let o=1;o<=40;o++){const l=Ge.getVersionForNumber(o);if(Bt.willFit(e,l,r))return l}throw new Ot("Data too big")}static willFit(e,r,o){const l=r.getTotalCodewords(),f=r.getECBlocksForLevel(o).getTotalECCodewords(),g=l-f,w=(e+7)/8;return g>=w}static terminateBits(e,r){const o=e*8;if(r.getSize()>o)throw new Ot("data bits cannot fit in the QR Code"+r.getSize()+" > "+o);for(let f=0;f<4&&r.getSize()<o;++f)r.appendBit(!1);const l=r.getSize()&7;if(l>0)for(let f=l;f<8;f++)r.appendBit(!1);const c=e-r.getSizeInBytes();for(let f=0;f<c;++f)r.appendBits(f&1?17:236,8);if(r.getSize()!==o)throw new Ot("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,o,l,c,f){if(l>=o)throw new Ot("Block ID too large");const g=e%o,w=o-g,S=Math.floor(e/o),b=S+1,_=Math.floor(r/o),L=_+1,U=S-_,G=b-L;if(U!==G)throw new Ot("EC bytes mismatch");if(o!==w+g)throw new Ot("RS blocks mismatch");if(e!==(_+U)*w+(L+G)*g)throw new Ot("Total bytes mismatch");l<w?(c[0]=_,f[0]=U):(c[0]=L,f[0]=G)}static interleaveWithECBytes(e,r,o,l){if(e.getSizeInBytes()!==o)throw new Ot("Number of bits and data bytes does not match");let c=0,f=0,g=0;const w=new Array;for(let b=0;b<l;++b){const _=new Int32Array(1),L=new Int32Array(1);Bt.getNumDataBytesAndNumECBytesForBlockID(r,o,l,b,_,L);const U=_[0],G=new Uint8Array(U);e.toBytes(8*c,G,0,U);const X=Bt.generateECBytes(G,L[0]);w.push(new Zc(G,X)),f=Math.max(f,U),g=Math.max(g,X.length),c+=_[0]}if(o!==c)throw new Ot("Data bytes does not match offset");const S=new ee;for(let b=0;b<f;++b)for(const _ of w){const L=_.getDataBytes();b<L.length&&S.appendBits(L[b],8)}for(let b=0;b<g;++b)for(const _ of w){const L=_.getErrorCorrectionBytes();b<L.length&&S.appendBits(L[b],8)}if(r!==S.getSizeInBytes())throw new Ot("Interleaving error: "+r+" and "+S.getSizeInBytes()+" differ.");return S}static generateECBytes(e,r){const o=e.length,l=new Int32Array(o+r);for(let f=0;f<o;f++)l[f]=e[f]&255;new ea(ot.QR_CODE_FIELD_256).encode(l,r);const c=new Uint8Array(r);for(let f=0;f<r;f++)c[f]=l[o+f];return c}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,o,l){const c=o.getCharacterCountBits(r);if(e>=1<<c)throw new Ot(e+" is bigger than "+((1<<c)-1));l.appendBits(e,c)}static appendBytes(e,r,o,l){switch(r){case Xe.NUMERIC:Bt.appendNumericBytes(e,o);break;case Xe.ALPHANUMERIC:Bt.appendAlphanumericBytes(e,o);break;case Xe.BYTE:Bt.append8BitBytes(e,o,l);break;case Xe.KANJI:Bt.appendKanjiBytes(e,o);break;default:throw new Ot("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=Bt.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const o=e.length;let l=0;for(;l<o;){const c=Bt.getDigit(e.charAt(l));if(l+2<o){const f=Bt.getDigit(e.charAt(l+1)),g=Bt.getDigit(e.charAt(l+2));r.appendBits(c*100+f*10+g,10),l+=3}else if(l+1<o){const f=Bt.getDigit(e.charAt(l+1));r.appendBits(c*10+f,7),l+=2}else r.appendBits(c,4),l++}}static appendAlphanumericBytes(e,r){const o=e.length;let l=0;for(;l<o;){const c=Bt.getAlphanumericCode(e.charCodeAt(l));if(c===-1)throw new Ot;if(l+1<o){const f=Bt.getAlphanumericCode(e.charCodeAt(l+1));if(f===-1)throw new Ot;r.appendBits(c*45+f,11),l+=2}else r.appendBits(c,6),l++}}static append8BitBytes(e,r,o){let l;try{l=Pe.encode(e,o)}catch(c){throw new Ot(c)}for(let c=0,f=l.length;c!==f;c++){const g=l[c];r.appendBits(g,8)}}static appendKanjiBytes(e,r){let o;try{o=Pe.encode(e,q.SJIS)}catch(c){throw new Ot(c)}const l=o.length;for(let c=0;c<l;c+=2){const f=o[c]&255,g=o[c+1]&255,w=f<<8&4294967295|g;let S=-1;if(w>=33088&&w<=40956?S=w-33088:w>=57408&&w<=60351&&(S=w-49472),S===-1)throw new Ot("Invalid byte sequence");const b=(S>>8)*192+(S&255);r.appendBits(b,13)}}static appendECI(e,r){r.appendBits(Xe.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}Bt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Bt.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class bi{write(e,r,o,l=null){if(e.length===0)throw new T("Found empty contents");if(r<0||o<0)throw new T("Requested dimensions are too small: "+r+"x"+o);let c=Mt.L,f=bi.QUIET_ZONE_SIZE;l!==null&&(l.get(gn.ERROR_CORRECTION)!==void 0&&(c=Mt.fromString(l.get(gn.ERROR_CORRECTION).toString())),l.get(gn.MARGIN)!==void 0&&(f=Number.parseInt(l.get(gn.MARGIN).toString(),10)));const g=Bt.encode(e,c,l);return this.renderResult(g,r,o,f)}writeToDom(e,r,o,l,c=null){typeof e=="string"&&(e=document.querySelector(e));const f=this.write(r,o,l,c);e&&e.appendChild(f)}renderResult(e,r,o,l){const c=e.getMatrix();if(c===null)throw new Ut;const f=c.getWidth(),g=c.getHeight(),w=f+l*2,S=g+l*2,b=Math.max(r,w),_=Math.max(o,S),L=Math.min(Math.floor(b/w),Math.floor(_/S)),U=Math.floor((b-f*L)/2),G=Math.floor((_-g*L)/2),X=this.createSVGElement(b,_);for(let $=0,oe=G;$<g;$++,oe+=L)for(let Ae=0,Te=U;Ae<f;Ae++,Te+=L)if(c.get(Ae,$)===1){const xe=this.createSvgRectElement(Te,oe,L,L);X.appendChild(xe)}return X}createSVGElement(e,r){const o=document.createElementNS(bi.SVG_NS,"svg");return o.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width",r.toString()),o}createSvgRectElement(e,r,o,l){const c=document.createElementNS(bi.SVG_NS,"rect");return c.setAttributeNS(null,"x",e.toString()),c.setAttributeNS(null,"y",r.toString()),c.setAttributeNS(null,"height",o.toString()),c.setAttributeNS(null,"width",l.toString()),c.setAttributeNS(null,"fill","#000000"),c}}bi.QUIET_ZONE_SIZE=4,bi.SVG_NS="http://www.w3.org/2000/svg";class qi{encode(e,r,o,l,c){if(e.length===0)throw new T("Found empty contents");if(r!==pe.QR_CODE)throw new T("Can only encode QR_CODE, but got "+r);if(o<0||l<0)throw new T(`Requested dimensions are too small: ${o}x${l}`);let f=Mt.L,g=qi.QUIET_ZONE_SIZE;c!==null&&(c.get(gn.ERROR_CORRECTION)!==void 0&&(f=Mt.fromString(c.get(gn.ERROR_CORRECTION).toString())),c.get(gn.MARGIN)!==void 0&&(g=Number.parseInt(c.get(gn.MARGIN).toString(),10)));const w=Bt.encode(e,f,c);return qi.renderResult(w,o,l,g)}static renderResult(e,r,o,l){const c=e.getMatrix();if(c===null)throw new Ut;const f=c.getWidth(),g=c.getHeight(),w=f+l*2,S=g+l*2,b=Math.max(r,w),_=Math.max(o,S),L=Math.min(Math.floor(b/w),Math.floor(_/S)),U=Math.floor((b-f*L)/2),G=Math.floor((_-g*L)/2),X=new Re(b,_);for(let $=0,oe=G;$<g;$++,oe+=L)for(let Ae=0,Te=U;Ae<f;Ae++,Te+=L)c.get(Ae,$)===1&&X.setRegion(Te,oe,L,L);return X}}qi.QUIET_ZONE_SIZE=4;class Kc{encode(e,r,o,l,c){let f;switch(r){case pe.QR_CODE:f=new qi;break;default:throw new T("No encoder available for format "+r)}return f.encode(e,r,o,l,c)}}class Lr extends he{constructor(e,r,o,l,c,f,g,w){if(super(f,g),this.yuvData=e,this.dataWidth=r,this.dataHeight=o,this.left=l,this.top=c,l+f>r||c+g>o)throw new T("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(f,g)}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const l=(e+this.top)*this.dataWidth+this.left;return B.arraycopy(this.yuvData,l,r,0,o),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const o=e*r,l=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return B.arraycopy(this.yuvData,c,l,0,o),l;for(let f=0;f<r;f++){const g=f*e;B.arraycopy(this.yuvData,c,l,g,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,r,o,l){return new Lr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,o,l,!1)}renderThumbnail(){const e=this.getWidth()/Lr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Lr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(e*r),l=this.yuvData;let c=this.top*this.dataWidth+this.left;for(let f=0;f<r;f++){const g=f*e;for(let w=0;w<e;w++){const S=l[c+w*Lr.THUMBNAIL_SCALE_FACTOR]&255;o[g+w]=4278190080|S*65793}c+=this.dataWidth*Lr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Lr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Lr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const o=this.yuvData;for(let l=0,c=this.top*this.dataWidth+this.left;l<r;l++,c+=this.dataWidth){const f=c+e/2;for(let g=c,w=c+e-1;g<f;g++,w--){const S=o[g];o[g]=o[w],o[w]=S}}}invert(){return new De(this)}}Lr.THUMBNAIL_SCALE_FACTOR=2;class Ds extends he{constructor(e,r,o,l,c,f,g){if(super(r,o),this.dataWidth=l,this.dataHeight=c,this.left=f,this.top=g,e.BYTES_PER_ELEMENT===4){const w=r*o,S=new Uint8ClampedArray(w);for(let b=0;b<w;b++){const _=e[b],L=_>>16&255,U=_>>7&510,G=_&255;S[b]=(L+U+G)/4&255}this.luminances=S}else this.luminances=e;if(l===void 0&&(this.dataWidth=r),c===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),g===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+o>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const o=this.getWidth();(r==null||r.length<o)&&(r=new Uint8ClampedArray(o));const l=(e+this.top)*this.dataWidth+this.left;return B.arraycopy(this.luminances,l,r,0,o),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const o=e*r,l=new Uint8ClampedArray(o);let c=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return B.arraycopy(this.luminances,c,l,0,o),l;for(let f=0;f<r;f++){const g=f*e;B.arraycopy(this.luminances,c,l,g,e),c+=this.dataWidth}return l}isCropSupported(){return!0}crop(e,r,o,l){return new Ds(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new De(this)}}class gl extends q{static forName(e){return this.getCharacterSetECIByName(e)}}class ta{}ta.ISO_8859_1=q.ISO8859_1;class ml{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class na{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class Qc{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Ji extends Qc{constructor(e,r,o){super(e),this.value=r,this.bitCount=o}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new Ji(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ji(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+V.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class ra extends Ji{constructor(e,r,o){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=o}appendTo(e,r){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):o===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+o],8)}addBinaryShift(e,r){return new ra(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $c(M,e,r){return new ra(M,e,r)}function Os(M,e,r){return new Ji(M,e,r)}const qc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],oi=0,es=1,Mn=2,xl=3,Er=4,yl=new Ji(null,0,0),uo=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function wl(M){for(let e of M)H.fill(e,-1);return M[oi][Er]=0,M[es][Er]=0,M[es][oi]=28,M[xl][Er]=0,M[Mn][Er]=0,M[Mn][oi]=15,M}const ia=wl(H.createInt32Array(6,6));class Fn{constructor(e,r,o,l){this.token=e,this.mode=r,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let o=this.bitCount,l=this.token;if(e!==this.mode){let f=uo[this.mode][e];l=Os(l,f&65535,f>>16),o+=f>>16}let c=e===Mn?4:5;return l=Os(l,r,c),new Fn(l,e,0,o+c)}shiftAndAppend(e,r){let o=this.token,l=this.mode===Mn?4:5;return o=Os(o,ia[this.mode][e],l),o=Os(o,r,5),new Fn(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(e){let r=this.token,o=this.mode,l=this.bitCount;if(this.mode===Er||this.mode===Mn){let g=uo[o][oi];r=Os(r,g&65535,g>>16),l+=g>>16,o=oi}let c=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Fn(r,o,this.binaryShiftByteCount+1,l+c);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(e+1)),f}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=$c(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Fn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(uo[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=Fn.calculateBinaryShiftCost(e)-Fn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let l=this.endBinaryShift(e.length).token;l!==null;l=l.getPrevious())r.unshift(l);let o=new ee;for(const l of r)l.appendTo(o,e);return o}toString(){return be.format("%s bits=%d bytes=%d",qc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Fn.INITIAL_STATE=new Fn(yl,oi,0,0);function Jc(M){const e=be.getCharCode(" "),r=be.getCharCode("."),o=be.getCharCode(",");M[oi][e]=1;const l=be.getCharCode("Z"),c=be.getCharCode("A");for(let L=c;L<=l;L++)M[oi][L]=L-c+2;M[es][e]=1;const f=be.getCharCode("z"),g=be.getCharCode("a");for(let L=g;L<=f;L++)M[es][L]=L-g+2;M[Mn][e]=1;const w=be.getCharCode("9"),S=be.getCharCode("0");for(let L=S;L<=w;L++)M[Mn][L]=L-S+2;M[Mn][o]=12,M[Mn][r]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let L=0;L<b.length;L++)M[xl][be.getCharCode(b[L])]=L;const _=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let L=0;L<_.length;L++)be.getCharCode(_[L])>0&&(M[Er][be.getCharCode(_[L])]=L);return M}const sa=Jc(H.createInt32Array(5,256));class Ps{constructor(e){this.text=e}encode(){const e=be.getCharCode(" "),r=be.getCharCode(`
`);let o=na.singletonList(Fn.INITIAL_STATE);for(let c=0;c<this.text.length;c++){let f,g=c+1<this.text.length?this.text[c+1]:0;switch(this.text[c]){case be.getCharCode("\r"):f=g===r?2:0;break;case be.getCharCode("."):f=g===e?3:0;break;case be.getCharCode(","):f=g===e?4:0;break;case be.getCharCode(":"):f=g===e?5:0;break;default:f=0}f>0?(o=Ps.updateStateListForPair(o,c,f),c++):o=this.updateStateListForChar(o,c)}return na.min(o,(c,f)=>c.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const o=[];for(let l of e)this.updateStateForChar(l,r,o);return Ps.simplifyStates(o)}updateStateForChar(e,r,o){let l=this.text[r]&255,c=sa[e.getMode()][l]>0,f=null;for(let g=0;g<=Er;g++){let w=sa[g][l];if(w>0){if(f==null&&(f=e.endBinaryShift(r)),!c||g===e.getMode()||g===Mn){const S=f.latchAndAppend(g,w);o.push(S)}if(!c&&ia[e.getMode()][g]>=0){const S=f.shiftAndAppend(g,w);o.push(S)}}}if(e.getBinaryShiftByteCount()>0||sa[e.getMode()][l]===0){let g=e.addBinaryShiftChar(r);o.push(g)}}static updateStateListForPair(e,r,o){const l=[];for(let c of e)this.updateStateForPair(c,r,o,l);return this.simplifyStates(l)}static updateStateForPair(e,r,o,l){let c=e.endBinaryShift(r);if(l.push(c.latchAndAppend(Er,o)),e.getMode()!==Er&&l.push(c.shiftAndAppend(Er,o)),o===3||o===4){let f=c.latchAndAppend(Mn,16-o).latchAndAppend(Mn,1);l.push(f)}if(e.getBinaryShiftByteCount()>0){let f=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);l.push(f)}}static simplifyStates(e){let r=[];for(const o of e){let l=!0;for(const c of r){if(c.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(c)&&(r=r.filter(f=>f!==c))}l&&r.push(o)}return r}}class gt{constructor(){}static encodeBytes(e){return gt.encode(e,gt.DEFAULT_EC_PERCENT,gt.DEFAULT_AZTEC_LAYERS)}static encode(e,r,o){let l=new Ps(e).encode(),c=V.truncDivision(l.getSize()*r,100)+11,f=l.getSize()+c,g,w,S,b,_;if(o!==gt.DEFAULT_AZTEC_LAYERS){if(g=o<0,w=Math.abs(o),w>(g?gt.MAX_NB_BITS_COMPACT:gt.MAX_NB_BITS))throw new T(be.format("Illegal value %s for layers",o));S=gt.totalBitsInLayer(w,g),b=gt.WORD_SIZE[w];let xe=S-S%b;if(_=gt.stuffBits(l,b),_.getSize()+c>xe)throw new T("Data to large for user specified layer");if(g&&_.getSize()>b*64)throw new T("Data to large for user specified layer")}else{b=0,_=null;for(let xe=0;;xe++){if(xe>gt.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(g=xe<=3,w=g?xe+1:xe,S=gt.totalBitsInLayer(w,g),f>S)continue;(_==null||b!==gt.WORD_SIZE[w])&&(b=gt.WORD_SIZE[w],_=gt.stuffBits(l,b));let ut=S-S%b;if(!(g&&_.getSize()>b*64)&&_.getSize()+c<=ut)break}}let L=gt.generateCheckWords(_,S,b),U=_.getSize()/b,G=gt.generateModeMessage(g,w,U),X=(g?11:14)+w*4,$=new Int32Array(X),oe;if(g){oe=X;for(let xe=0;xe<$.length;xe++)$[xe]=xe}else{oe=X+1+2*V.truncDivision(V.truncDivision(X,2)-1,15);let xe=V.truncDivision(X,2),ut=V.truncDivision(oe,2);for(let rt=0;rt<xe;rt++){let Xn=rt+V.truncDivision(rt,15);$[xe-rt-1]=ut-Xn-1,$[xe+rt]=ut+Xn+1}}let Ae=new Re(oe);for(let xe=0,ut=0;xe<w;xe++){let rt=(w-xe)*4+(g?9:12);for(let Xn=0;Xn<rt;Xn++){let Sr=Xn*2;for(let mn=0;mn<2;mn++)L.get(ut+Sr+mn)&&Ae.set($[xe*2+mn],$[xe*2+Xn]),L.get(ut+rt*2+Sr+mn)&&Ae.set($[xe*2+Xn],$[X-1-xe*2-mn]),L.get(ut+rt*4+Sr+mn)&&Ae.set($[X-1-xe*2-mn],$[X-1-xe*2-Xn]),L.get(ut+rt*6+Sr+mn)&&Ae.set($[X-1-xe*2-Xn],$[xe*2+mn])}ut+=rt*8}if(gt.drawModeMessage(Ae,g,oe,G),g)gt.drawBullsEye(Ae,V.truncDivision(oe,2),5);else{gt.drawBullsEye(Ae,V.truncDivision(oe,2),7);for(let xe=0,ut=0;xe<V.truncDivision(X,2)-1;xe+=15,ut+=16)for(let rt=V.truncDivision(oe,2)&1;rt<oe;rt+=2)Ae.set(V.truncDivision(oe,2)-ut,rt),Ae.set(V.truncDivision(oe,2)+ut,rt),Ae.set(rt,V.truncDivision(oe,2)-ut),Ae.set(rt,V.truncDivision(oe,2)+ut)}let Te=new ml;return Te.setCompact(g),Te.setSize(oe),Te.setLayers(w),Te.setCodeWords(U),Te.setMatrix(Ae),Te}static drawBullsEye(e,r,o){for(let l=0;l<o;l+=2)for(let c=r-l;c<=r+l;c++)e.set(c,r-l),e.set(c,r+l),e.set(r-l,c),e.set(r+l,c);e.set(r-o,r-o),e.set(r-o+1,r-o),e.set(r-o,r-o+1),e.set(r+o,r-o),e.set(r+o,r-o+1),e.set(r+o,r+o-1)}static generateModeMessage(e,r,o){let l=new ee;return e?(l.appendBits(r-1,2),l.appendBits(o-1,6),l=gt.generateCheckWords(l,28,4)):(l.appendBits(r-1,5),l.appendBits(o-1,11),l=gt.generateCheckWords(l,40,4)),l}static drawModeMessage(e,r,o,l){let c=V.truncDivision(o,2);if(r)for(let f=0;f<7;f++){let g=c-3+f;l.get(f)&&e.set(g,c-5),l.get(f+7)&&e.set(c+5,g),l.get(20-f)&&e.set(g,c+5),l.get(27-f)&&e.set(c-5,g)}else for(let f=0;f<10;f++){let g=c-5+f+V.truncDivision(f,5);l.get(f)&&e.set(g,c-7),l.get(f+10)&&e.set(c+7,g),l.get(29-f)&&e.set(g,c+7),l.get(39-f)&&e.set(c-7,g)}}static generateCheckWords(e,r,o){let l=e.getSize()/o,c=new ea(gt.getGF(o)),f=V.truncDivision(r,o),g=gt.bitsToWords(e,o,f);c.encode(g,f-l);let w=r%o,S=new ee;S.appendBits(0,w);for(const b of Array.from(g))S.appendBits(b,o);return S}static bitsToWords(e,r,o){let l=new Int32Array(o),c,f;for(c=0,f=e.getSize()/r;c<f;c++){let g=0;for(let w=0;w<r;w++)g|=e.get(c*r+w)?1<<r-w-1:0;l[c]=g}return l}static getGF(e){switch(e){case 4:return ot.AZTEC_PARAM;case 6:return ot.AZTEC_DATA_6;case 8:return ot.AZTEC_DATA_8;case 10:return ot.AZTEC_DATA_10;case 12:return ot.AZTEC_DATA_12;default:throw new T("Unsupported word size "+e)}}static stuffBits(e,r){let o=new ee,l=e.getSize(),c=(1<<r)-2;for(let f=0;f<l;f+=r){let g=0;for(let w=0;w<r;w++)(f+w>=l||e.get(f+w))&&(g|=1<<r-1-w);(g&c)===c?(o.appendBits(g&c,r),f--):g&c?o.appendBits(g,r):(o.appendBits(g|1,r),f--)}return o}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}gt.DEFAULT_EC_PERCENT=33,gt.DEFAULT_AZTEC_LAYERS=0,gt.MAX_NB_BITS=32,gt.MAX_NB_BITS_COMPACT=4,gt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ls{encode(e,r,o,l){return this.encodeWithHints(e,r,o,l,null)}encodeWithHints(e,r,o,l,c){let f=ta.ISO_8859_1,g=gt.DEFAULT_EC_PERCENT,w=gt.DEFAULT_AZTEC_LAYERS;return c!=null&&(c.has(gn.CHARACTER_SET)&&(f=gl.forName(c.get(gn.CHARACTER_SET).toString())),c.has(gn.ERROR_CORRECTION)&&(g=V.parseInt(c.get(gn.ERROR_CORRECTION).toString())),c.has(gn.AZTEC_LAYERS)&&(w=V.parseInt(c.get(gn.AZTEC_LAYERS).toString()))),Ls.encodeLayers(e,r,o,l,f,g,w)}static encodeLayers(e,r,o,l,c,f,g){if(r!==pe.AZTEC)throw new T("Can only encode AZTEC, but got "+r);let w=gt.encode(be.getBytes(e,c),f,g);return Ls.renderResult(w,o,l)}static renderResult(e,r,o){let l=e.getMatrix();if(l==null)throw new Ut;let c=l.getWidth(),f=l.getHeight(),g=Math.max(r,c),w=Math.max(o,f),S=Math.min(g/c,w/f),b=(g-c*S)/2,_=(w-f*S)/2,L=new Re(g,w);for(let U=0,G=_;U<f;U++,G+=S)for(let X=0,$=b;X<c;X++,$+=S)l.get(X,U)&&L.setRegion($,G,S,S);return L}}s.AbstractExpandedDecoder=Ho,s.ArgumentException=E,s.ArithmeticException=er,s.AztecCode=ml,s.AztecCodeReader=tr,s.AztecCodeWriter=Ls,s.AztecDecoder=yt,s.AztecDetector=Ln,s.AztecDetectorResult=St,s.AztecEncoder=gt,s.AztecHighLevelEncoder=Ps,s.AztecPoint=Lt,s.BarcodeFormat=pe,s.Binarizer=k,s.BinaryBitmap=N,s.BitArray=ee,s.BitMatrix=Re,s.BitSource=Xo,s.BrowserAztecCodeReader=Ci,s.BrowserBarcodeReader=ll,s.BrowserCodeReader=me,s.BrowserDatamatrixCodeReader=Xc,s.BrowserMultiFormatReader=_s,s.BrowserPDF417Reader=lo,s.BrowserQRCodeReader=pl,s.BrowserQRCodeSvgWriter=bi,s.CharacterSetECI=q,s.ChecksumException=O,s.Code128Reader=Ne,s.Code39Reader=Qt,s.DataMatrixDecodedBitStreamParser=wr,s.DataMatrixReader=vr,s.DecodeHintType=ue,s.DecoderResult=it,s.DefaultGridSampler=Kt,s.DetectorResult=$e,s.EAN13Reader=at,s.EncodeHintType=gn,s.Exception=x,s.FormatException=J,s.GenericGF=ot,s.GenericGFPoly=_t,s.GlobalHistogramBinarizer=Ve,s.GridSampler=Pn,s.GridSamplerInstance=Dt,s.HTMLCanvasElementLuminanceSource=fe,s.HybridBinarizer=we,s.ITFReader=vt,s.IllegalArgumentException=T,s.IllegalStateException=Ut,s.InvertedLuminanceSource=De,s.LuminanceSource=he,s.MathUtils=tt,s.MultiFormatOneDReader=Yi,s.MultiFormatReader=ao,s.MultiFormatWriter=Kc,s.NotFoundException=Q,s.OneDReader=It,s.PDF417DecodedBitStreamParser=ae,s.PDF417DecoderErrorCorrection=Qo,s.PDF417Reader=In,s.PDF417ResultMetadata=so,s.PerspectiveTransform=wt,s.PlanarYUVLuminanceSource=Lr,s.QRCodeByteMatrix=co,s.QRCodeDataMask=ct,s.QRCodeDecodedBitStreamParser=Vt,s.QRCodeDecoderErrorCorrectionLevel=Mt,s.QRCodeDecoderFormatInformation=Sn,s.QRCodeEncoder=Bt,s.QRCodeEncoderQRCode=Ii,s.QRCodeMaskUtil=Wt,s.QRCodeMatrixUtil=Ze,s.QRCodeMode=Xe,s.QRCodeReader=Bn,s.QRCodeVersion=Ge,s.QRCodeWriter=qi,s.RGBLuminanceSource=Ds,s.RSS14Reader=Ft,s.RSSExpandedReader=de,s.ReaderException=$i,s.ReedSolomonDecoder=gr,s.ReedSolomonEncoder=ea,s.ReedSolomonException=Hn,s.Result=ve,s.ResultMetadataType=_e,s.ResultPoint=Ce,s.StringUtils=be,s.UnsupportedOperationException=Me,s.VideoInputDevice=Z,s.WhiteRectangleDetector=At,s.WriterException=Ot,s.ZXingArrays=H,s.ZXingCharset=gl,s.ZXingInteger=V,s.ZXingStandardCharsets=ta,s.ZXingStringBuilder=Fe,s.ZXingStringEncoding=Pe,s.ZXingSystem=B,s.createAbstractExpandedDecoder=ol,Object.defineProperty(s,"__esModule",{value:!0})})}(Da,Da.exports)),Da.exports}var Zt=vw();const Cw=ud(Zt),Ew=h2({__proto__:null,default:Cw},[Zt]);var A1=function(){function t(i,s,u){if(this.formatMap=new Map([[ke.QR_CODE,Zt.BarcodeFormat.QR_CODE],[ke.AZTEC,Zt.BarcodeFormat.AZTEC],[ke.CODABAR,Zt.BarcodeFormat.CODABAR],[ke.CODE_39,Zt.BarcodeFormat.CODE_39],[ke.CODE_93,Zt.BarcodeFormat.CODE_93],[ke.CODE_128,Zt.BarcodeFormat.CODE_128],[ke.DATA_MATRIX,Zt.BarcodeFormat.DATA_MATRIX],[ke.MAXICODE,Zt.BarcodeFormat.MAXICODE],[ke.ITF,Zt.BarcodeFormat.ITF],[ke.EAN_13,Zt.BarcodeFormat.EAN_13],[ke.EAN_8,Zt.BarcodeFormat.EAN_8],[ke.PDF_417,Zt.BarcodeFormat.PDF_417],[ke.RSS_14,Zt.BarcodeFormat.RSS_14],[ke.RSS_EXPANDED,Zt.BarcodeFormat.RSS_EXPANDED],[ke.UPC_A,Zt.BarcodeFormat.UPC_A],[ke.UPC_E,Zt.BarcodeFormat.UPC_E],[ke.UPC_EAN_EXTENSION,Zt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ew)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=u;var h=this.createZXingFormats(i),p=new Map;p.set(Zt.DecodeHintType.POSSIBLE_FORMATS,h),p.set(Zt.DecodeHintType.TRY_HARDER,!1),this.hints=p}return t.prototype.decodeAsync=function(i){var s=this;return new Promise(function(u,h){try{u(s.decode(i))}catch(p){h(p)}})},t.prototype.decode=function(i){var s=new Zt.MultiFormatReader(this.verbose,this.hints),u=new Zt.HTMLCanvasElementLuminanceSource(i),h=new Zt.BinaryBitmap(new Zt.HybridBinarizer(u)),p=s.decode(h);return{text:p.text,format:Ag.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,u,h){i.set(s,u)}),i},t.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},t.prototype.createZXingFormats=function(i){for(var s=[],u=0,h=i;u<h.length;u++){var p=h[u];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.logError("".concat(p," is not supported by")+"ZXingHtml5QrcodeShim")}return s},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),Sw=function(t,i,s,u){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(u.next(E))}catch(T){y(T)}}function v(E){try{x(u.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((u=u.apply(t,i||[])).next())})},Aw=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(u=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{u=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},T1=function(){function t(i,s,u){if(this.formatMap=new Map([[ke.QR_CODE,"qr_code"],[ke.AZTEC,"aztec"],[ke.CODABAR,"codabar"],[ke.CODE_39,"code_39"],[ke.CODE_93,"code_93"],[ke.CODE_128,"code_128"],[ke.DATA_MATRIX,"data_matrix"],[ke.ITF,"itf"],[ke.EAN_13,"ean_13"],[ke.EAN_8,"ean_8"],[ke.PDF_417,"pdf417"],[ke.UPC_A,"upc_a"],[ke.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=u;var h=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},t.prototype.decodeAsync=function(i){return Sw(this,void 0,void 0,function(){var s,u;return Aw(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(i)];case 1:if(s=h.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return u=this.selectLargestBarcode(s),[2,{text:u.rawValue,format:Ag.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(i){for(var s=null,u=0,h=0,p=i;h<p.length;h++){var y=p[h],C=y.boundingBox.width*y.boundingBox.height;C>u&&(u=C,s=y)}if(!s)throw"No largest barcode found";return s},t.prototype.createBarcodeDetectorFormats=function(i){for(var s=[],u=0,h=i;u<h.length;u++){var p=h[u];this.formatMap.has(p)?s.push(this.formatMap.get(p)):this.logger.warn("".concat(p," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},t.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},t.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,u,h){i.set(s,u)}),i},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),I1=function(t,i,s,u){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(u.next(E))}catch(T){y(T)}}function v(E){try{x(u.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((u=u.apply(t,i||[])).next())})},b1=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(u=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{u=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Tw=function(){function t(i,s,u,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=u,s&&T1.isSupported()?(this.primaryDecoder=new T1(i,u,h),this.secondaryDecoder=new A1(i,u,h)):this.primaryDecoder=new A1(i,u,h)}return t.prototype.decodeAsync=function(i){return I1(this,void 0,void 0,function(){var s;return b1(this,function(u){switch(u.label){case 0:s=performance.now(),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,u.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(i){return I1(this,void 0,void 0,function(){var s,u;return b1(this,function(h){switch(h.label){case 0:s=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,h.sent()];case 3:if(u=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw u;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(i){if(this.verbose){var s=performance.now()-i;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,s=0,u=this.executionResults;s<u.length;s++){var h=u[s];i+=h}var p=i/this.executionResults.length;console.log("".concat(p," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),xd=function(){var t=function(i,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(u[p]=h[p])},t(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(i,s);function u(){this.constructor=i}i.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}(),bc=function(t,i,s,u){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(u.next(E))}catch(T){y(T)}}function v(E){try{x(u.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((u=u.apply(t,i||[])).next())})},Nc=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(u=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{u=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ng=function(){function t(i,s){this.name=i,this.track=s}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(i){var s={};s[this.name]=i;var u={advanced:[s]};return this.track.applyConstraints(u)},t.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var s=i[this.name];return s}return null},t}(),Iw=function(t){xd(i,t);function i(s,u){return t.call(this,s,u)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(s){var u={};u[this.name]=s;var h={advanced:[u]};return this.track.applyConstraints(h)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),u=s[this.name];return{min:u.min,max:u.max,step:u.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i}(Ng),bw=function(t){xd(i,t);function i(s){return t.call(this,"zoom",s)||this}return i}(Iw),Nw=function(t){xd(i,t);function i(s){return t.call(this,"torch",s)||this}return i}(Ng),Rw=function(){function t(i){this.track=i}return t.prototype.zoomFeature=function(){return new bw(this.track)},t.prototype.torchFeature=function(){return new Nw(this.track)},t}(),Mw=function(){function t(i,s,u){this.isClosed=!1,this.parentElement=i,this.mediaStream=s,this.callbacks=u,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return t.prototype.createVideoElement=function(i){var s=document.createElement("video");return s.style.width="".concat(i,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},t.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var u=i.surface.clientWidth,h=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(u,h),i.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(i,s,u,h){return bc(this,void 0,void 0,function(){var p,y;return Nc(this,function(C){switch(C.label){case 0:return p=new t(i,s,h),u.aspectRatio?(y={aspectRatio:u.aspectRatio},[4,p.getFirstTrackOrFail().applyConstraints(y)]):[3,2];case 1:C.sent(),C.label=2;case 2:return p.setupSurface(),[2,p]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(i){this.failIfClosed();var s=this,u=function(){setTimeout(i,200),s.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(i){return bc(this,void 0,void 0,function(){return Nc(this,function(s){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(s,u){var h=i.mediaStream.getVideoTracks(),p=h.length,y=0;i.mediaStream.getVideoTracks().forEach(function(C){i.mediaStream.removeTrack(C),C.stop(),++y,y>=p&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),s())})})},t.prototype.getCapabilities=function(){return new Rw(this.getFirstTrackOrFail())},t}(),_w=function(){function t(i){this.mediaStream=i}return t.prototype.render=function(i,s,u){return bc(this,void 0,void 0,function(){return Nc(this,function(h){return[2,Mw.create(i,this.mediaStream,s,u)]})})},t.create=function(i){return bc(this,void 0,void 0,function(){var s,u;return Nc(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return u=h.sent(),[2,new t(u)]}})})},t}(),N1=function(t,i,s,u){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(u.next(E))}catch(T){y(T)}}function v(E){try{x(u.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((u=u.apply(t,i||[])).next())})},R1=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(u=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{u=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Dw=function(){function t(){}return t.failIfNotSupported=function(){return N1(this,void 0,void 0,function(){return R1(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(i){return N1(this,void 0,void 0,function(){return R1(this,function(s){return[2,_w.create(i)]})})},t}(),Ow=function(t,i,s,u){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(u.next(E))}catch(T){y(T)}}function v(E){try{x(u.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((u=u.apply(t,i||[])).next())})},Pw=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(u=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{u=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Lw=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var i=Ro.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(i=Ro.insecureContextCameraQueryError()),Promise.reject(i)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},t.getCamerasFromMediaDevices=function(){return Ow(this,void 0,void 0,function(){var i,s,u,h,p,y,C;return Pw(this,function(v){switch(v.label){case 0:return i=function(x){for(var E=x.getVideoTracks(),T=0,N=E;T<N.length;T++){var O=N[T];O.enabled=!1,O.stop(),x.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=v.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(u=v.sent(),h=[],p=0,y=u;p<y.length;p++)C=y[p],C.kind==="videoinput"&&h.push({id:C.deviceId,label:C.label});return i(s),[2,h]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,s){var u=function(p){for(var y=[],C=0,v=p;C<v.length;C++){var x=v[C];x.kind==="video"&&y.push({id:x.id,label:x.label})}i(y)},h=MediaStreamTrack;h.getSources(u)})},t}(),un;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(un||(un={}));var kw=function(){function t(){this.state=un.NOT_STARTED,this.onGoingTransactionNewState=un.UNKNOWN}return t.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},t.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=un.UNKNOWN,this.directTransition(i)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=un.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==un.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(i){switch(this.state){case un.UNKNOWN:throw"Transition from unknown is not allowed";case un.NOT_STARTED:this.failIfNewStateIs(i,[un.PAUSED]);break;case un.SCANNING:break;case un.PAUSED:break}},t.prototype.failIfNewStateIs=function(i,s){for(var u=0,h=s;u<h.length;u++){var p=h[u];if(i===p)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},t}(),Bw=function(){function t(i){this.stateManager=i}return t.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},t.prototype.directTransition=function(i){this.stateManager.directTransition(i)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===un.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==un.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===un.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===un.PAUSED},t}(),Fw=function(){function t(){}return t.create=function(){return new Bw(new kw)},t}(),jw=function(){var t=function(i,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(u[p]=h[p])},t(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(i,s);function u(){this.constructor=i}i.prototype=s===null?Object.create(s):(u.prototype=s.prototype,new u)}}(),br=function(t){jw(i,t);function i(){return t!==null&&t.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i}(ti),Uw=function(){function t(i,s){this.logger=s,this.fps=br.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=br.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?bg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!fi(this.qrbox)},t.create=function(i,s){return new t(i,s)},t}(),M1=function(){function t(i,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var u;typeof s=="boolean"?this.verbose=s===!0:s&&(u=s,this.verbose=u.verbose===!0,u.experimentalFeatures),this.logger=new Ig(this.verbose),this.qrcode=new Tw(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(u),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Fw.create()}return t.prototype.start=function(i,s,u,h){var p=this;if(!i)throw"cameraIdOrConfig is required";if(!u||typeof u!="function")throw"qrCodeSuccessCallback is required and should be a function.";var y;h?y=h:y=this.verbose?this.logger.log:function(){};var C=Uw.create(s,this.logger);this.clearElement();var v=!1;C.videoConstraints&&(C.isMediaStreamConstraintsValid()?v=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=v,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:br.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var T=this,N=this.stateManagerProxy.startTransition(un.SCANNING);return new Promise(function(O,k){var B=x?C.videoConstraints:T.createVideoConstraints(i);if(!B){N.cancel(),k("videoConstraints should be defined");return}var F={};(!x||C.aspectRatio)&&(F.aspectRatio=C.aspectRatio);var z={onRenderSurfaceReady:function(H,V){T.setupUi(H,V,C),T.isScanning=!0,T.foreverScan(C,u,y)}};Dw.failIfNotSupported().then(function(H){H.create(B).then(function(V){return V.render(p.element,F,z).then(function(ee){T.renderedCamera=ee,N.execute(),O(null)}).catch(function(ee){N.cancel(),k(ee)})}).catch(function(V){N.cancel(),k(Ro.errorGettingUserMedia(V))})}).catch(function(H){N.cancel(),k(Ro.cameraStreamingNotSupported())})})},t.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(un.PAUSED),this.showPausedState(),(fi(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,s=function(){i.stateManagerProxy.directTransition(un.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(un.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var u=function(){if(i.element){var p=document.getElementById(br.SHADED_REGION_ELEMENT_ID);p&&i.element.removeChild(p)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),u(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),s.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(i,s){return this.scanFileV2(i,s).then(function(u){return u.decodedText})},t.prototype.scanFileV2=function(i,s){var u=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fi(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,p){u.possiblyCloseLastScanImageFile(),u.clearElement(),u.lastScanImageFile=URL.createObjectURL(i);var y=new Image;y.onload=function(){var C=y.width,v=y.height,x=document.getElementById(u.elementId),E=x.clientWidth?x.clientWidth:br.DEFAULT_WIDTH,T=Math.max(x.clientHeight?x.clientHeight:v,br.FILE_SCAN_MIN_HEIGHT),N=u.computeCanvasDrawConfig(C,v,E,T);if(s){var O=u.createCanvasElement(E,T,"qr-canvas-visible");O.style.display="inline-block",x.appendChild(O);var k=O.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=E,k.canvas.height=T,k.drawImage(y,0,0,C,v,N.x,N.y,N.width,N.height)}var B=br.FILE_SCAN_HIDDEN_CANVAS_PADDING,F=Math.max(y.width,N.width),z=Math.max(y.height,N.height),H=F+2*B,V=z+2*B,ee=u.createCanvasElement(H,V);x.appendChild(ee);var se=ee.getContext("2d");if(!se)throw"Unable to get 2d context from canvas";se.canvas.width=H,se.canvas.height=V,se.drawImage(y,0,0,C,v,B,B,F,z);try{u.qrcode.decodeRobustlyAsync(ee).then(function(ue){h(C1.createFromQrcodeResult(ue))}).catch(p)}catch(ue){p("QR code parse error, error = ".concat(ue))}},y.onerror=p,y.onabort=p,y.onstalled=p,y.onsuspend=p,y.src=URL.createObjectURL(i)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return Lw.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(i){if(i){if(!bg.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(i){var s=[ke.QR_CODE,ke.AZTEC,ke.CODABAR,ke.CODE_39,ke.CODE_93,ke.CODE_128,ke.DATA_MATRIX,ke.MAXICODE,ke.ITF,ke.EAN_13,ke.EAN_8,ke.PDF_417,ke.RSS_14,ke.RSS_EXPANDED,ke.UPC_A,ke.UPC_E,ke.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return s;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var u=[],h=0,p=i.formatsToSupport;h<p.length;h++){var y=p[h];xw(y)?u.push(y):this.logger.warn("Invalid format: ".concat(y," passed in config, ignoring."))}if(u.length===0)throw"None of formatsToSupport match supported values.";return u},t.prototype.getUseBarCodeDetectorIfSupported=function(i){if(fi(i))return!0;if(!fi(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(fi(i.experimentalFeatures))return!0;var s=i.experimentalFeatures;return fi(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(i,s,u){var h=this,p=u.qrbox;this.validateQrboxConfig(p);var y=this.toQrdimensions(i,s,p),C=function(x){if(x<br.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(br.MIN_QR_BOX_SIZE,"px.")},v=function(x){return x>i&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=i),x};C(y.width),C(y.height),y.width=v(y.width)},t.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(i,s,u){if(typeof u=="number")return{width:u,height:u};if(typeof u=="function")try{return u(i,s)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return u},t.prototype.setupUi=function(i,s,u){u.isShadedBoxEnabled()&&this.validateQrboxSize(i,s,u);var h=fi(u.qrbox)?{width:i,height:s}:u.qrbox;this.validateQrboxConfig(h);var p=this.toQrdimensions(i,s,h);p.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var y=u.isShadedBoxEnabled()&&p.height<=s,C={x:0,y:0,width:i,height:s},v=y?this.getShadedRegionBounds(i,s,p):C,x=this.createCanvasElement(v.width,v.height),E={willReadFrequently:!0},T=x.getContext("2d",E);T.canvas.width=v.width,T.canvas.height=v.height,this.element.append(x),y&&this.possiblyInsertShadingElement(this.element,i,s,p),this.createScannerPausedUiElement(this.element),this.qrRegion=v,this.context=T,this.canvasElement=x},t.prototype.createScannerPausedUiElement=function(i){var s=document.createElement("div");s.innerText=Ro.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",i.appendChild(s),this.scannerPausedUiElement=s},t.prototype.scanContext=function(i,s){var u=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return i(h.text,C1.createFromQrcodeResult(h)),u.possiblyUpdateShaders(!0),!0}).catch(function(h){u.possiblyUpdateShaders(!1);var p=Ro.codeParseError(h);return s(p,Tg.createFrom(p)),!1})},t.prototype.foreverScan=function(i,s,u){var h=this;if(this.shouldScan&&this.renderedCamera){var p=this.renderedCamera.getSurface(),y=p.videoWidth/p.clientWidth,C=p.videoHeight/p.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var v=this.qrRegion.width*y,x=this.qrRegion.height*C,E=this.qrRegion.x*y,T=this.qrRegion.y*C;this.context.drawImage(p,E,T,v,x,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(i,s,u)},h.getTimeoutFps(i.fps))};this.scanContext(s,u).then(function(O){!O&&i.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(s,u).finally(function(){N()})):N()}).catch(function(O){h.logger.logError("Error happend while scanning context",O),N()})}},t.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var s="facingMode",u="deviceId",h={user:!0,environment:!0},p="exact",y=function(k){if(k in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(k,"'")},C=Object.keys(i);if(C.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(C.length," keys");var v=Object.keys(i)[0];if(v!==s&&v!==u)throw"Only '".concat(s,"' and '").concat(u,"' ")+" are supported for 'cameraIdOrConfig'";if(v===s){var x=i.facingMode;if(typeof x=="string"){if(y(x))return{facingMode:x}}else if(typeof x=="object")if(p in x){if(y(x["".concat(p)]))return{facingMode:{exact:x["".concat(p)]}}}else throw"'facingMode' should be string or object with"+" ".concat(p," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var T=i.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(p in T)return{deviceId:{exact:T["".concat(p)]}};throw"'deviceId' should be string or object with"+" ".concat(p," as key.")}else{var N=typeof T;throw"Invalid type of 'deviceId' = ".concat(N)}}}var O=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},t.prototype.computeCanvasDrawConfig=function(i,s,u,h){if(i<=u&&s<=h){var p=(u-i)/2,y=(h-s)/2;return{x:p,y,width:i,height:s}}else{var C=i,v=s;return i>u&&(s=u/i*s,i=u),s>h&&(i=h/s*i,s=h),this.logger.log("Image downsampled from "+"".concat(C,"X").concat(v)+" to ".concat(i,"X").concat(s,".")),this.computeCanvasDrawConfig(i,s,u,h)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},t.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=i?br.BORDER_SHADER_MATCH_COLOR:br.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(i,s,u){var h=i,p=s,y=document.createElement("canvas");return y.style.width="".concat(h,"px"),y.style.height="".concat(p,"px"),y.style.display="none",y.id=fi(u)?"qr-canvas":u,y},t.prototype.getShadedRegionBounds=function(i,s,u){if(u.width>i||u.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-u.width)/2,y:(s-u.height)/2,width:u.width,height:u.height}},t.prototype.possiblyInsertShadingElement=function(i,s,u,h){if(!(s-h.width<1||u-h.height<1)){var p=document.createElement("div");p.style.position="absolute";var y=(s-h.width)/2,C=(u-h.height)/2;if(p.style.borderLeft="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderRight="".concat(y,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderTop="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),p.style.borderBottom="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),p.style.boxSizing="border-box",p.style.top="0px",p.style.bottom="0px",p.style.left="0px",p.style.right="0px",p.id="".concat(br.SHADED_REGION_ELEMENT_ID),s-h.width<11||u-h.height<11)this.hasBorderShaders=!1;else{var v=5,x=40;this.insertShaderBorders(p,x,v,-v,null,0,!0),this.insertShaderBorders(p,x,v,-v,null,0,!1),this.insertShaderBorders(p,x,v,null,-v,0,!0),this.insertShaderBorders(p,x,v,null,-v,0,!1),this.insertShaderBorders(p,v,x+v,-v,null,-v,!0),this.insertShaderBorders(p,v,x+v,null,-v,-v,!0),this.insertShaderBorders(p,v,x+v,-v,null,-v,!1),this.insertShaderBorders(p,v,x+v,null,-v,-v,!1),this.hasBorderShaders=!0}i.append(p)}},t.prototype.insertShaderBorders=function(i,s,u,h,p,y,C){var v=document.createElement("div");v.style.position="absolute",v.style.backgroundColor=br.BORDER_SHADER_DEFAULT_COLOR,v.style.width="".concat(s,"px"),v.style.height="".concat(u,"px"),h!==null&&(v.style.top="".concat(h,"px")),p!==null&&(v.style.bottom="".concat(p,"px")),C?v.style.left="".concat(y,"px"):v.style.right="".concat(y,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(v),i.appendChild(v)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(i){return 1e3/i},t}(),yd="data:image/svg+xml;base64,",zw=yd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Vw=yd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",_1=yd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Ww="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",D1=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),Hw=function(){function t(){this.data=D1.createDefault();var i=localStorage.getItem(t.LOCAL_STORAGE_KEY);i?this.data=JSON.parse(i):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(i){this.data.hasPermission=i,this.flush()},t.prototype.setLastUsedCameraId=function(i){this.data.lastUsedCameraId=i,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=D1.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),Gw=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(i){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=E1.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var u=document.createElement("br"),h=document.createElement("br");this.infoDiv.appendChild(u),this.infoDiv.appendChild(h);var p=document.createElement("a");p.innerText=E1.reportIssues(),p.href="https://github.com/mebjas/html5-qrcode/issues",p.target="new",p.style.color="white",this.infoDiv.appendChild(p),i.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),Yw=function(){function t(i,s){this.isShowingInfoIcon=!0,this.onTapIn=i,this.onTapOut=s,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(i){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=_1,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(u){return s.onHoverIn()},this.infoIcon.onmouseout=function(u){return s.onHoverOut()},this.infoIcon.onclick=function(u){return s.onClick()},i.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Ww,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=_1,this.infoIcon.style.opacity="0.6")},t}(),Xw=function(){function t(){var i=this;this.infoDiv=new Gw,this.infoIcon=new Yw(function(){i.infoDiv.show()},function(){i.infoDiv.hide()})}return t.prototype.renderInto=function(i){this.infoDiv.renderInto(i),this.infoIcon.renderInto(i)},t}(),Zw=function(t,i,s,u){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(u.next(E))}catch(T){y(T)}}function v(E){try{x(u.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((u=u.apply(t,i||[])).next())})},Kw=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(u=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{u=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},O1=function(){function t(){}return t.hasPermissions=function(){return Zw(this,void 0,void 0,function(){var i,s,u,h;return Kw(this,function(p){switch(p.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(i=p.sent(),s=0,u=i;s<u.length;s++)if(h=u[s],h.kind==="videoinput"&&h.label)return[2,!0];return[2,!1]}})})},t}(),ms=function(){function t(i){this.supportedScanTypes=this.validateAndReturnScanTypes(i)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var i=0,s=this.supportedScanTypes;i<s.length;i++){var u=s[i];if(t.isCameraScanType(u))return!0}return!1},t.isCameraScanType=function(i){return i===vs.SCAN_TYPE_CAMERA},t.isFileScanType=function(i){return i===vs.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(i){if(!i||i.length===0)return ti.DEFAULT_SUPPORTED_SCAN_TYPE;var s=ti.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(i.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var u=0,h=i;u<h.length;u++){var p=h[u];if(!ti.DEFAULT_SUPPORTED_SCAN_TYPE.includes(p))throw"Unsupported scan type ".concat(p)}return i},t}(),Rr=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Ui=function(){function t(){}return t.createElement=function(i,s){var u=document.createElement(i);return u.id=s,u.classList.add(Rr.ALL_ELEMENT_CLASS),i==="button"&&u.setAttribute("type","button"),u},t}(),Rg=function(t,i,s,u){function h(p){return p instanceof s?p:new s(function(y){y(p)})}return new(s||(s=Promise))(function(p,y){function C(E){try{x(u.next(E))}catch(T){y(T)}}function v(E){try{x(u.throw(E))}catch(T){y(T)}}function x(E){E.done?p(E.value):h(E.value).then(C,v)}x((u=u.apply(t,i||[])).next())})},Mg=function(t,i){var s={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},u,h,p,y;return y={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function C(x){return function(E){return v([x,E])}}function v(x){if(u)throw new TypeError("Generator is already executing.");for(;y&&(y=0,x[0]&&(s=0)),s;)try{if(u=1,h&&(p=x[0]&2?h.return:x[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,x[1])).done)return p;switch(h=0,p&&(x=[x[0]&2,p.value]),x[0]){case 0:case 1:p=x;break;case 4:return s.label++,{value:x[1],done:!1};case 5:s.label++,h=x[1],x=[0];continue;case 7:x=s.ops.pop(),s.trys.pop();continue;default:if(p=s.trys,!(p=p.length>0&&p[p.length-1])&&(x[0]===6||x[0]===2)){s=0;continue}if(x[0]===3&&(!p||x[1]>p[0]&&x[1]<p[3])){s.label=x[1];break}if(x[0]===6&&s.label<p[1]){s.label=p[1],p=x;break}if(p&&s.label<p[2]){s.label=p[2],s.ops.push(x);break}p[2]&&s.ops.pop(),s.trys.pop();continue}x=i.call(t,s)}catch(E){x=[6,E],h=0}finally{u=p=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},P1=function(){function t(i,s,u){this.isTorchOn=!1,this.torchCapability=i,this.buttonController=s,this.onTorchActionFailureCallback=u}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return Rg(this,void 0,void 0,function(){var i,s;return Mg(this,function(u){switch(u.label){case 0:this.buttonController.disable(),i=!this.isTorchOn,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.torchCapability.apply(i)];case 2:return u.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),i),[3,4];case 3:return s=u.sent(),this.propagateFailure(i,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(i,s){i===s?(this.buttonController.setText(s?Pt.torchOffButton():Pt.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},t.prototype.propagateFailure=function(i,s){var u=i?Pt.torchOnFailedMessage():Pt.torchOffFailedMessage();s&&(u+="; Error = "+s),this.onTorchActionFailureCallback(u)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),Qw=function(){function t(i,s){this.onTorchActionFailureCallback=s,this.torchButton=Ui.createElement("button",Rr.TORCH_BUTTON_ID),this.torchController=new P1(i,this,s)}return t.prototype.render=function(i,s){var u=this;this.torchButton.innerText=Pt.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var h=this;this.torchButton.addEventListener("click",function(p){return Rg(u,void 0,void 0,function(){return Mg(this,function(y){switch(y.label){case 0:return[4,h.torchController.flipState()];case 1:return y.sent(),h.torchController.isTorchEnabled()?(h.torchButton.classList.remove(Rr.TORCH_BUTTON_CLASS_TORCH_OFF),h.torchButton.classList.add(Rr.TORCH_BUTTON_CLASS_TORCH_ON)):(h.torchButton.classList.remove(Rr.TORCH_BUTTON_CLASS_TORCH_ON),h.torchButton.classList.add(Rr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),i.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(i){this.torchController=new P1(i,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(i){this.torchButton.innerText=i},t.prototype.reset=function(){this.torchButton.innerText=Pt.torchOnButton(),this.torchController.reset()},t.create=function(i,s,u,h){var p=new t(s,h);return p.render(i,u),p},t}(),$w=function(){function t(i,s,u){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",i.appendChild(this.fileBasedScanRegion);var h=document.createElement("label");h.setAttribute("for",this.getFileScanInputId()),h.style.display="inline-block",this.fileBasedScanRegion.appendChild(h),this.fileSelectionButton=Ui.createElement("button",Rr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(C){h.click()}),h.append(this.fileSelectionButton),this.fileScanInput=Ui.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",h.appendChild(this.fileScanInput);var p=this;this.fileScanInput.addEventListener("change",function(C){if(!(C==null||C.target==null)){var v=C.target;if(!(v.files&&v.files.length===0)){var x=v.files,E=x[0],T=E.name;p.setImageNameToButton(T),u(E)}}});var y=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(y),this.fileBasedScanRegion.addEventListener("dragenter",function(C){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(C){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(C){p.fileBasedScanRegion.style.border=p.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(C){C.stopPropagation(),C.preventDefault(),p.fileBasedScanRegion.style.border=p.fileBasedScanRegionDefaultBorder();var v=C.dataTransfer;if(v){var x=v.files;if(!x||x.length===0)return;for(var E=!1,T=0;T<x.length;++T){var N=x.item(T);if(N){var O=/image.*/;if(N.type.match(O)){E=!0;var k=N.name;p.setImageNameToButton(k),u(N),y.innerText=Pt.dragAndDropMessage();break}}}E||(y.innerText=Pt.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var i=document.createElement("div");return i.style.textAlign="center",i.style.margin="auto",i.style.width="80%",i.style.maxWidth="600px",i.style.border=this.fileBasedScanRegionDefaultBorder(),i.style.padding="10px",i.style.marginBottom="10px",i},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var i=document.createElement("div");return i.innerText=Pt.dragAndDropMessage(),i.style.fontWeight="400",i},t.prototype.setImageNameToButton=function(i){var s=20;if(i.length>s){var u=i.substring(0,8),h=i.length,p=i.substring(h-8,h);i="".concat(u,"....").concat(p)}var y=Pt.fileSelectionChooseAnother()+" - "+i;this.fileSelectionButton.innerText=y},t.prototype.setInitialValueToButton=function(){var i=Pt.fileSelectionChooseImage()+" - "+Pt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=i},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(i,s,u){var h=new t(i,s,u);return h},t}(),qw=function(){function t(i){this.selectElement=Ui.createElement("select",Rr.CAMERA_SELECTION_SELECT_ID),this.cameras=i,this.options=[]}return t.prototype.render=function(i){var s=document.createElement("span");s.style.marginRight="10px";var u=this.cameras.length;if(u===0)throw new Error("No cameras found");if(u===1)s.style.display="none";else{var h=Pt.selectCamera();s.innerText="".concat(h," (").concat(this.cameras.length,")  ")}for(var p=1,y=0,C=this.cameras;y<C.length;y++){var v=C[y],x=v.id,E=v.label==null?x:v.label;(!E||E==="")&&(E=[Pt.anonymousCameraPrefix(),p++].join(" "));var T=document.createElement("option");T.value=x,T.innerText=E,this.options.push(T),this.selectElement.appendChild(T)}s.appendChild(this.selectElement),i.appendChild(s)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(i){for(var s=0,u=this.options;s<u.length;s++){var h=u[s];if(h.value===i)return!0}return!1},t.prototype.setValue=function(i){if(!this.hasValue(i))throw new Error("".concat(i," is not present in the camera list."));this.selectElement.value=i},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(i,s){var u=new t(s);return u.render(i),u},t}(),Jw=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ui.createElement("input",Rr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(i,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",i.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var u=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(u),this.rangeText.style.marginRight="10px";var h=this;this.rangeInput.addEventListener("input",function(){return h.onValueChange()}),this.rangeInput.addEventListener("change",function(){return h.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var i=Pt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(i,s,u,h){this.rangeInput.min=i.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=h.toString(),this.rangeInput.value=u.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(i){this.onChangeCallback=i},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(i,s){var u=new t;return u.render(i,s),u},t}(),Nr;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Nr||(Nr={}));function ev(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function tv(t,i){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:i}}var nv=function(){function t(i,s,u){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=i,this.config=this.createConfig(s),this.verbose=u===!0,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.scanTypeSelector=new ms(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ig(this.verbose),this.persistedDataManager=new Hw,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(i,s){var u=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(p,y){if(i)i(p,y);else{if(u.lastMatchFound===p)return;u.lastMatchFound=p,u.setHeaderMessage(Pt.lastMatch(p),Nr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(p,y){s&&s(p,y)};var h=document.getElementById(this.elementId);if(!h)throw"HTML Element with id=".concat(this.elementId," not found");h.innerHTML="",this.createBasicLayout(h),this.html5Qrcode=new M1(this.getScanRegionId(),tv(this.config,this.verbose))},t.prototype.pause=function(i){(fi(i)||i!==!0)&&(i=!1),this.getHtml5QrcodeOrFail().pause(i)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var i=this,s=function(){var u=document.getElementById(i.elementId);u&&(u.innerHTML="",i.resetBasicLayout(u))};return this.html5Qrcode?new Promise(function(u,h){if(!i.html5Qrcode){u();return}i.html5Qrcode.isScanning?i.html5Qrcode.stop().then(function(p){if(!i.html5Qrcode){u();return}i.html5Qrcode.clear(),s(),u()}).catch(function(p){i.verbose&&i.logger.logError("Unable to stop qrcode scanner",p),h(p)}):(i.html5Qrcode.clear(),s(),u())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(i){return this.getHtml5QrcodeOrFail().applyVideoConstraints(i)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(i){return i?(i.fps||(i.fps=ti.SCAN_DEFAULT_FPS),i.rememberLastUsedCamera!==!ti.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(i.rememberLastUsedCamera=ti.DEFAULT_REMEMBER_LAST_CAMERA_USED),i.supportedScanTypes||(i.supportedScanTypes=ti.DEFAULT_SUPPORTED_SCAN_TYPE),i):{fps:ti.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ti.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ti.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(i){i.style.position="relative",i.style.padding="0px",i.style.border="1px solid silver",this.createHeader(i);var s=document.createElement("div"),u=this.getScanRegionId();s.id=u,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",i.appendChild(s),ms.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var h=document.createElement("div"),p=this.getDashboardId();h.id=p,h.style.width="100%",i.appendChild(h),this.setupInitialDashboard(h)},t.prototype.resetBasicLayout=function(i){i.style.border="none"},t.prototype.setupInitialDashboard=function(i){this.createSection(i),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(i){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",i.appendChild(s);var u=new Xw;u.renderInto(s);var h=document.createElement("div");h.id=this.getHeaderMessageContainerId(),h.style.display="none",h.style.textAlign="center",h.style.fontSize="14px",h.style.padding="2px 10px",h.style.margin="4px",h.style.borderTop="1px solid #f6f6f6",s.appendChild(h)},t.prototype.createSection=function(i){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",i.appendChild(s)},t.prototype.createCameraListUi=function(i,s,u){var h=this;h.showHideScanTypeSwapLink(!1),h.setHeaderMessage(Pt.cameraPermissionRequesting());var p=function(){u||h.createPermissionButton(i,s)};M1.getCameras().then(function(y){h.persistedDataManager.setHasPermission(!0),h.showHideScanTypeSwapLink(!0),h.resetHeaderMessage(),y&&y.length>0?(i.removeChild(s),h.renderCameraSelection(y)):(h.setHeaderMessage(Pt.noCameraFound(),Nr.STATUS_WARNING),p())}).catch(function(y){h.persistedDataManager.setHasPermission(!1),u?u.disabled=!1:p(),h.setHeaderMessage(y,Nr.STATUS_WARNING),h.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(i,s){var u=this,h=Ui.createElement("button",this.getCameraPermissionButtonId());h.innerText=Pt.cameraPermissionTitle(),h.addEventListener("click",function(){h.disabled=!0,u.createCameraListUi(i,s,h)}),s.appendChild(h)},t.prototype.createPermissionsUi=function(i,s){var u=this;if(ms.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){O1.hasPermissions().then(function(h){h?u.createCameraListUi(i,s):(u.persistedDataManager.setHasPermission(!1),u.createPermissionButton(i,s))}).catch(function(h){u.persistedDataManager.setHasPermission(!1),u.createPermissionButton(i,s)});return}this.createPermissionButton(i,s)},t.prototype.createSectionControlPanel=function(){var i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");i.appendChild(s);var u=document.createElement("div");u.id=this.getDashboardSectionCameraScanRegionId(),u.style.display=ms.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(u);var h=document.createElement("div");h.style.textAlign="center",u.appendChild(h),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(u,h),this.renderFileScanUi(s)},t.prototype.renderFileScanUi=function(i){var s=ms.isFileScanType(this.currentScanType),u=this,h=function(p){if(!u.html5Qrcode)throw"html5Qrcode not defined";ms.isFileScanType(u.currentScanType)&&(u.setHeaderMessage(Pt.loadingImage()),u.html5Qrcode.scanFileV2(p,!0).then(function(y){u.resetHeaderMessage(),u.qrCodeSuccessCallback(y.decodedText,y)}).catch(function(y){u.setHeaderMessage(y,Nr.STATUS_WARNING),u.qrCodeErrorCallback(y,Tg.createFrom(y))}))};this.fileSelectionUi=$w.create(i,s,h)},t.prototype.renderCameraSelection=function(i){var s=this,u=this,h=document.getElementById(this.getDashboardSectionCameraScanRegionId());h.style.textAlign="center";var p=Jw.create(h,!1),y=function(B){var F=B.zoomFeature();if(F.isSupported()){p.setOnCameraZoomValueChangeCallback(function(H){F.apply(H)});var z=1;s.config.defaultZoomValueIfSupported&&(z=s.config.defaultZoomValueIfSupported),z=yw(z,F.min(),F.max()),p.setValues(F.min(),F.max(),z,F.step()),p.show()}},C=qw.create(h,i),v=document.createElement("span"),x=Ui.createElement("button",Rr.CAMERA_START_BUTTON_ID);x.innerText=Pt.scanButtonStartScanningText(),v.appendChild(x);var E=Ui.createElement("button",Rr.CAMERA_STOP_BUTTON_ID);E.innerText=Pt.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,v.appendChild(E);var T,N=function(B){if(!B.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(B.torchFeature()):T=Qw.create(v,B.torchFeature(),{display:"none",marginLeft:"5px"},function(F){u.setHeaderMessage(F,Nr.STATUS_WARNING)}),T.show()};h.appendChild(v);var O=function(B){B||(x.style.display="none"),x.innerText=Pt.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,B&&(x.style.display="inline-block")};if(x.addEventListener("click",function(B){x.innerText=Pt.scanButtonScanningStarting(),C.disable(),x.disabled=!0,x.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&u.showHideScanTypeSwapLink(!1),u.resetHeaderMessage();var F=C.getValue();u.persistedDataManager.setLastUsedCameraId(F),u.html5Qrcode.start(F,ev(u.config),u.qrCodeSuccessCallback,u.qrCodeErrorCallback).then(function(z){E.disabled=!1,E.style.display="inline-block",O(!1);var H=u.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&N(H),s.config.showZoomSliderIfSupported===!0&&y(H)}).catch(function(z){u.showHideScanTypeSwapLink(!0),C.enable(),O(!0),u.setHeaderMessage(z,Nr.STATUS_WARNING)})}),C.hasSingleItem()&&x.click(),E.addEventListener("click",function(B){if(!u.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,u.html5Qrcode.stop().then(function(F){s.scanTypeSelector.hasMoreThanOneScanType()&&u.showHideScanTypeSwapLink(!0),C.enable(),x.disabled=!1,E.style.display="none",x.style.display="inline-block",T&&(T.reset(),T.hide()),p.removeOnCameraZoomValueChangeCallback(),p.hide(),u.insertCameraScanImageToScanRegion()}).catch(function(F){E.disabled=!1,u.setHeaderMessage(F,Nr.STATUS_WARNING)})}),u.persistedDataManager.getLastUsedCameraId()){var k=u.persistedDataManager.getLastUsedCameraId();C.hasValue(k)?(C.setValue(k),x.click()):u.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var i=this,s=Pt.textIfCameraScanSelected(),u=Pt.textIfFileScanSelected(),h=document.getElementById(this.getDashboardSectionId()),p=document.createElement("div");p.style.textAlign="center";var y=Ui.createElement("span",this.getDashboardSectionSwapLinkId());y.style.textDecoration="underline",y.style.cursor="pointer",y.innerText=ms.isCameraScanType(this.currentScanType)?s:u,y.addEventListener("click",function(){if(!i.sectionSwapAllowed){i.verbose&&i.logger.logError("Section swap called when not allowed");return}i.resetHeaderMessage(),i.fileSelectionUi.resetValue(),i.sectionSwapAllowed=!1,ms.isCameraScanType(i.currentScanType)?(i.clearScanRegion(),i.getCameraScanRegion().style.display="none",i.fileSelectionUi.show(),y.innerText=u,i.currentScanType=vs.SCAN_TYPE_FILE,i.insertFileScanImageToScanRegion()):(i.clearScanRegion(),i.getCameraScanRegion().style.display="block",i.fileSelectionUi.hide(),y.innerText=s,i.currentScanType=vs.SCAN_TYPE_CAMERA,i.insertCameraScanImageToScanRegion(),i.startCameraScanIfPermissionExistsOnSwap()),i.sectionSwapAllowed=!0}),p.appendChild(y),h.appendChild(p)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var i=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){O1.hasPermissions().then(function(u){if(u){var h=document.getElementById(s.getCameraPermissionButtonId());if(!h)throw i.logger.logError("Permission button not found, fail;"),"Permission button not found";h.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(u){s.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var i=document.getElementById(this.getHeaderMessageContainerId());i.style.display="none"},t.prototype.setHeaderMessage=function(i,s){s||(s=Nr.STATUS_DEFAULT);var u=this.getHeaderMessageDiv();switch(u.innerText=i,u.style.display="block",s){case Nr.STATUS_SUCCESS:u.style.background="rgba(106, 175, 80, 0.26)",u.style.color="#477735";break;case Nr.STATUS_WARNING:u.style.background="rgba(203, 36, 49, 0.14)",u.style.color="#cb2431";break;case Nr.STATUS_DEFAULT:default:u.style.background="rgba(0, 0, 0, 0)",u.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(i){this.scanTypeSelector.hasMoreThanOneScanType()&&(i!==!0&&(i=!1),this.sectionSwapAllowed=i,this.getDashboardSectionSwapLink().style.display=i?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(u){s.innerHTML="<br>",s.appendChild(i.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=zw,this.cameraScanImage.alt=Pt.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(u){s.innerHTML="<br>",s.appendChild(i.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Vw,this.fileScanImage.alt=Pt.fileScanAltText()},t.prototype.clearScanRegion=function(){var i=document.getElementById(this.getScanRegionId());i.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Rr.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Rr.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const rv=({user:t})=>{const i=ni();return R.jsx("div",{children:R.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",width:"94%",height:"10px",left:"3%"},children:t==null?R.jsxs("div",{style:{position:"absolute",width:"100%",display:"flex",justifyContent:"space-between"},children:[R.jsx("button",{className:"login-button",onClick:()=>i("/login"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:R.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Login"})}),R.jsx("button",{className:"login-button",onClick:()=>i("/signup"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:R.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Sign up"})})]}):R.jsx("div",{children:R.jsx("button",{className:"login-button",onClick:()=>i("/logout"),style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},children:R.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Logout"})})})})})},wd=P.createContext({});function vd(t){const i=P.useRef(null);return i.current===null&&(i.current=t()),i.current}const Cd=typeof window<"u",_g=Cd?P.useLayoutEffect:P.useEffect,zc=P.createContext(null),Ed=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class iv extends P.Component{getSnapshotBeforeUpdate(i){const s=this.props.childRef.current;if(s&&i.isPresent&&!this.props.isPresent){const u=s.offsetParent,h=u instanceof HTMLElement&&u.offsetWidth||0,p=this.props.sizeRef.current;p.height=s.offsetHeight||0,p.width=s.offsetWidth||0,p.top=s.offsetTop,p.left=s.offsetLeft,p.right=h-p.width-p.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sv({children:t,isPresent:i,anchorX:s}){const u=P.useId(),h=P.useRef(null),p=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=P.useContext(Ed);return P.useInsertionEffect(()=>{const{width:C,height:v,top:x,left:E,right:T}=p.current;if(i||!h.current||!C||!v)return;const N=s==="left"?`left: ${E}`:`right: ${T}`;h.current.dataset.motionPopId=u;const O=document.createElement("style");return y&&(O.nonce=y),document.head.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${C}px !important;
            height: ${v}px !important;
            ${N}px !important;
            top: ${x}px !important;
          }
        `),()=>{document.head.removeChild(O)}},[i]),R.jsx(iv,{isPresent:i,childRef:h,sizeRef:p,children:P.cloneElement(t,{ref:h})})}const ov=({children:t,initial:i,isPresent:s,onExitComplete:u,custom:h,presenceAffectsLayout:p,mode:y,anchorX:C})=>{const v=vd(av),x=P.useId(),E=P.useCallback(N=>{v.set(N,!0);for(const O of v.values())if(!O)return;u&&u()},[v,u]),T=P.useMemo(()=>({id:x,initial:i,isPresent:s,custom:h,onExitComplete:E,register:N=>(v.set(N,!1),()=>v.delete(N))}),p?[Math.random(),E]:[s,E]);return P.useMemo(()=>{v.forEach((N,O)=>v.set(O,!1))},[s]),P.useEffect(()=>{!s&&!v.size&&u&&u()},[s]),y==="popLayout"&&(t=R.jsx(sv,{isPresent:s,anchorX:C,children:t})),R.jsx(zc.Provider,{value:T,children:t})};function av(){return new Map}function Dg(t=!0){const i=P.useContext(zc);if(i===null)return[!0,null];const{isPresent:s,onExitComplete:u,register:h}=i,p=P.useId();P.useEffect(()=>{if(t)return h(p)},[t]);const y=P.useCallback(()=>t&&u&&u(p),[p,u,t]);return!s&&u?[!1,y]:[!0]}const pc=t=>t.key||"";function L1(t){const i=[];return P.Children.forEach(t,s=>{P.isValidElement(s)&&i.push(s)}),i}const k1=({children:t,custom:i,initial:s=!0,onExitComplete:u,presenceAffectsLayout:h=!0,mode:p="sync",propagate:y=!1,anchorX:C="left"})=>{const[v,x]=Dg(y),E=P.useMemo(()=>L1(t),[t]),T=y&&!v?[]:E.map(pc),N=P.useRef(!0),O=P.useRef(E),k=vd(()=>new Map),[B,F]=P.useState(E),[z,H]=P.useState(E);_g(()=>{N.current=!1,O.current=E;for(let se=0;se<z.length;se++){const ue=pc(z[se]);T.includes(ue)?k.delete(ue):k.get(ue)!==!0&&k.set(ue,!1)}},[z,T.length,T.join("-")]);const V=[];if(E!==B){let se=[...E];for(let ue=0;ue<z.length;ue++){const J=z[ue],ce=pc(J);T.includes(ce)||(se.splice(ue,0,J),V.push(J))}return p==="wait"&&V.length&&(se=V),H(L1(se)),F(E),null}const{forceRender:ee}=P.useContext(wd);return R.jsx(R.Fragment,{children:z.map(se=>{const ue=pc(se),J=y&&!v?!1:E===z||T.includes(ue),ce=()=>{if(k.has(ue))k.set(ue,!0);else return;let q=!0;k.forEach(Me=>{Me||(q=!1)}),q&&(ee==null||ee(),H(O.current),y&&(x==null||x()),u&&u())};return R.jsx(ov,{isPresent:J,initial:!N.current||s?void 0:!1,custom:i,presenceAffectsLayout:h,mode:p,onExitComplete:J?void 0:ce,anchorX:C,children:se},ue)})})};function Sd(t,i){t.indexOf(i)===-1&&t.push(i)}function Ad(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}let Og=()=>{};const lv={useManualTiming:!1};function Td(t){let i;return()=>(i===void 0&&(i=t()),i)}const Hr=t=>t,za=(t,i,s)=>{const u=i-t;return u===0?1:(s-t)/u};class Id{constructor(){this.subscriptions=[]}add(i){return Sd(this.subscriptions,i),()=>Ad(this.subscriptions,i)}notify(i,s,u){const h=this.subscriptions.length;if(h)if(h===1)this.subscriptions[0](i,s,u);else for(let p=0;p<h;p++){const y=this.subscriptions[p];y&&y(i,s,u)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const di=t=>t*1e3,hi=t=>t/1e3;function Pg(t,i){return i?t*(1e3/i):0}const cv=Td(()=>window.ScrollTimeline!==void 0);class uv{constructor(i){this.stop=()=>this.runAll("stop"),this.animations=i.filter(Boolean)}get finished(){return Promise.all(this.animations.map(i=>i.finished))}getAll(i){return this.animations[0][i]}setAll(i,s){for(let u=0;u<this.animations.length;u++)this.animations[u][i]=s}attachTimeline(i,s){const u=this.animations.map(h=>{if(cv()&&h.attachTimeline)return h.attachTimeline(i);if(typeof s=="function")return s(h)});return()=>{u.forEach((h,p)=>{h&&h(),this.animations[p].stop()})}}get time(){return this.getAll("time")}set time(i){this.setAll("time",i)}get speed(){return this.getAll("speed")}set speed(i){this.setAll("speed",i)}get startTime(){return this.getAll("startTime")}get duration(){let i=0;for(let s=0;s<this.animations.length;s++)i=Math.max(i,this.animations[s].duration);return i}runAll(i){this.animations.forEach(s=>s[i]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class fv extends uv{then(i,s){return this.finished.finally(i).then(()=>{})}}const B1={value:null},bd=t=>Array.isArray(t)&&typeof t[0]=="number",dv={};function hv(t,i){const s=Td(t);return()=>dv[i]??s()}const Va=hv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lg=(t,i,s=10)=>{let u="";const h=Math.max(Math.round(i/s),2);for(let p=0;p<h;p++)u+=t(p/(h-1))+", ";return`linear(${u.substring(0,u.length-2)})`},Oa=([t,i,s,u])=>`cubic-bezier(${t}, ${i}, ${s}, ${u})`,Vf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oa([0,.65,.55,1]),circOut:Oa([.55,0,1,.45]),backIn:Oa([.31,.01,.66,-.59]),backOut:Oa([.33,1.53,.69,.99])};function kg(t,i){if(t)return typeof t=="function"&&Va()?Lg(t,i):bd(t)?Oa(t):Array.isArray(t)?t.map(s=>kg(s,i)||Vf.easeOut):Vf[t]}function pv(t,i,s,{delay:u=0,duration:h=300,repeat:p=0,repeatType:y="loop",ease:C="easeInOut",times:v}={},x=void 0){const E={[i]:s};v&&(E.offset=v);const T=kg(C,h);return Array.isArray(T)&&(E.easing=T),t.animate(E,{delay:u,duration:h,easing:Array.isArray(T)?"linear":T,fill:"both",iterations:p+1,direction:y==="reverse"?"alternate":"normal",pseudoElement:x})}function Nd(t){return typeof t=="function"&&"applyToOptions"in t}function Rd(t,i){return(t==null?void 0:t[i])??(t==null?void 0:t.default)??t}const Rc=2e4;function Md(t){let i=0;const s=50;let u=t.next(i);for(;!u.done&&i<Rc;)i+=s,u=t.next(i);return i>=Rc?1/0:i}function gv(t,i=100,s){const u=s({...t,keyframes:[0,i]}),h=Math.min(Md(u),Rc);return{type:"keyframes",ease:p=>u.next(h*p).value/i,duration:hi(h)}}function Bg(t){return!!(typeof t=="function"&&Va()||!t||typeof t=="string"&&(t in Vf||Va())||bd(t)||Array.isArray(t)&&t.every(Bg))}function F1(t,i){t.timeline=i,t.onfinish=null}const gc=["read","resolveKeyframes","update","preRender","render","postRender"];function mv(t,i){let s=new Set,u=new Set,h=!1,p=!1;const y=new WeakSet;let C={delta:0,timestamp:0,isProcessing:!1},v=0;function x(T){y.has(T)&&(E.schedule(T),t()),v++,T(C)}const E={schedule:(T,N=!1,O=!1)=>{const B=O&&h?s:u;return N&&y.add(T),B.has(T)||B.add(T),T},cancel:T=>{u.delete(T),y.delete(T)},process:T=>{if(C=T,h){p=!0;return}h=!0,[s,u]=[u,s],s.forEach(x),i&&B1.value&&B1.value.frameloop[i].push(v),v=0,s.clear(),h=!1,p&&(p=!1,E.process(T))}};return E}const xv=40;function Fg(t,i){let s=!1,u=!0;const h={delta:0,timestamp:0,isProcessing:!1},p=()=>s=!0,y=gc.reduce((z,H)=>(z[H]=mv(p,i?H:void 0),z),{}),{read:C,resolveKeyframes:v,update:x,preRender:E,render:T,postRender:N}=y,O=()=>{const z=performance.now();s=!1,h.delta=u?1e3/60:Math.max(Math.min(z-h.timestamp,xv),1),h.timestamp=z,h.isProcessing=!0,C.process(h),v.process(h),x.process(h),E.process(h),T.process(h),N.process(h),h.isProcessing=!1,s&&i&&(u=!1,t(O))},k=()=>{s=!0,u=!0,h.isProcessing||t(O)};return{schedule:gc.reduce((z,H)=>{const V=y[H];return z[H]=(ee,se=!1,ue=!1)=>(s||k(),V.schedule(ee,se,ue)),z},{}),cancel:z=>{for(let H=0;H<gc.length;H++)y[gc[H]].cancel(z)},state:h,steps:y}}const{schedule:Gt,cancel:Cs,state:Wn,steps:If}=Fg(typeof requestAnimationFrame<"u"?requestAnimationFrame:Hr,!0),{schedule:_d}=Fg(queueMicrotask,!1);let Ec;function yv(){Ec=void 0}const pi={now:()=>(Ec===void 0&&pi.set(Wn.isProcessing||lv.useManualTiming?Wn.timestamp:performance.now()),Ec),set:t=>{Ec=t,queueMicrotask(yv)}},ei={x:!1,y:!1};function jg(){return ei.x||ei.y}function wv(t){return t==="x"||t==="y"?ei[t]?null:(ei[t]=!0,()=>{ei[t]=!1}):ei.x||ei.y?null:(ei.x=ei.y=!0,()=>{ei.x=ei.y=!1})}function vv(t,i,s){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const h=document.querySelectorAll(t);return h?Array.from(h):[]}return Array.from(t)}function Ug(t,i){const s=vv(t),u=new AbortController,h={passive:!0,...i,signal:u.signal};return[s,h,()=>u.abort()]}function j1(t){return!(t.pointerType==="touch"||jg())}function Cv(t,i,s={}){const[u,h,p]=Ug(t,s),y=C=>{if(!j1(C))return;const{target:v}=C,x=i(v,C);if(typeof x!="function"||!v)return;const E=T=>{j1(T)&&(x(T),v.removeEventListener("pointerleave",E))};v.addEventListener("pointerleave",E,h)};return u.forEach(C=>{C.addEventListener("pointerenter",y,h)}),p}const zg=(t,i)=>i?t===i?!0:zg(t,i.parentElement):!1,Dd=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ev=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Sv(t){return Ev.has(t.tagName)||t.tabIndex!==-1}const Pa=new WeakSet;function U1(t){return i=>{i.key==="Enter"&&t(i)}}function bf(t,i){t.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const Av=(t,i)=>{const s=t.currentTarget;if(!s)return;const u=U1(()=>{if(Pa.has(s))return;bf(s,"down");const h=U1(()=>{bf(s,"up")}),p=()=>bf(s,"cancel");s.addEventListener("keyup",h,i),s.addEventListener("blur",p,i)});s.addEventListener("keydown",u,i),s.addEventListener("blur",()=>s.removeEventListener("keydown",u),i)};function z1(t){return Dd(t)&&!jg()}function Tv(t,i,s={}){const[u,h,p]=Ug(t,s),y=C=>{const v=C.currentTarget;if(!z1(C)||Pa.has(v))return;Pa.add(v);const x=i(v,C),E=(O,k)=>{window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",N),!(!z1(O)||!Pa.has(v))&&(Pa.delete(v),typeof x=="function"&&x(O,{success:k}))},T=O=>{E(O,v===window||v===document||s.useGlobalTarget||zg(v,O.target))},N=O=>{E(O,!1)};window.addEventListener("pointerup",T,h),window.addEventListener("pointercancel",N,h)};return u.forEach(C=>{(s.useGlobalTarget?window:C).addEventListener("pointerdown",y,h),C instanceof HTMLElement&&(C.addEventListener("focus",x=>Av(x,h)),!Sv(C)&&!C.hasAttribute("tabindex")&&(C.tabIndex=0))}),p}const V1=30,Iv=t=>!isNaN(parseFloat(t));class bv{constructor(i,s={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(u,h=!0)=>{const p=pi.now();this.updatedAt!==p&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(u),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),h&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(i),this.owner=s.owner}setCurrent(i){this.current=i,this.updatedAt=pi.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=Iv(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,s){this.events[i]||(this.events[i]=new Id);const u=this.events[i].add(s);return i==="change"?()=>{u(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:u}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,s){this.passiveEffect=i,this.stopPassiveEffect=s}set(i,s=!0){!s||!this.passiveEffect?this.updateAndNotify(i,s):this.passiveEffect(i,this.updateAndNotify)}setWithVelocity(i,s,u){this.set(s),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-u}jump(i,s=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>V1)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,V1);return Pg(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(i){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=i(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(t,i){return new bv(t,i)}const Vg=P.createContext({strict:!1}),W1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bo={};for(const t in W1)Bo[t]={isEnabled:i=>W1[t].some(s=>!!i[s])};function Nv(t){for(const i in t)Bo[i]={...Bo[i],...t[i]}}const Rv=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Rv.has(t)}let Wg=t=>!Mc(t);function Mv(t){t&&(Wg=i=>i.startsWith("on")?!Mc(i):t(i))}try{Mv(require("@emotion/is-prop-valid").default)}catch{}function _v(t,i,s){const u={};for(const h in t)h==="values"&&typeof t.values=="object"||(Wg(h)||s===!0&&Mc(h)||!i&&!Mc(h)||t.draggable&&h.startsWith("onDrag"))&&(u[h]=t[h]);return u}function Dv(t){if(typeof Proxy>"u")return t;const i=new Map,s=(...u)=>t(...u);return new Proxy(s,{get:(u,h)=>h==="create"?t:(i.has(h)||i.set(h,t(h)),i.get(h))})}const Vc=P.createContext({});function Wc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ha(t){return typeof t=="string"||Array.isArray(t)}const Od=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pd=["initial",...Od];function Hc(t){return Wc(t.animate)||Pd.some(i=>Ha(t[i]))}function Hg(t){return!!(Hc(t)||t.variants)}function Ov(t,i){if(Hc(t)){const{initial:s,animate:u}=t;return{initial:s===!1||Ha(s)?s:void 0,animate:Ha(u)?u:void 0}}return t.inherit!==!1?i:{}}function Pv(t){const{initial:i,animate:s}=Ov(t,P.useContext(Vc));return P.useMemo(()=>({initial:i,animate:s}),[H1(i),H1(s)])}function H1(t){return Array.isArray(t)?t.join(" "):t}const Lv=Symbol.for("motionComponentSymbol");function Mo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function kv(t,i,s){return P.useCallback(u=>{u&&t.onMount&&t.onMount(u),i&&(u?i.mount(u):i.unmount()),s&&(typeof s=="function"?s(u):Mo(s)&&(s.current=u))},[i])}const Ld=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bv="framerAppearId",Gg="data-"+Ld(Bv),Yg=P.createContext({});function Fv(t,i,s,u,h){var B,F;const{visualElement:p}=P.useContext(Vc),y=P.useContext(Vg),C=P.useContext(zc),v=P.useContext(Ed).reducedMotion,x=P.useRef(null);u=u||y.renderer,!x.current&&u&&(x.current=u(t,{visualState:i,parent:p,props:s,presenceContext:C,blockInitialAnimation:C?C.initial===!1:!1,reducedMotionConfig:v}));const E=x.current,T=P.useContext(Yg);E&&!E.projection&&h&&(E.type==="html"||E.type==="svg")&&jv(x.current,s,h,T);const N=P.useRef(!1);P.useInsertionEffect(()=>{E&&N.current&&E.update(s,C)});const O=s[Gg],k=P.useRef(!!O&&!((B=window.MotionHandoffIsComplete)!=null&&B.call(window,O))&&((F=window.MotionHasOptimisedAnimation)==null?void 0:F.call(window,O)));return _g(()=>{E&&(N.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),_d.render(E.render),k.current&&E.animationState&&E.animationState.animateChanges())}),P.useEffect(()=>{E&&(!k.current&&E.animationState&&E.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var z;(z=window.MotionHandoffMarkAsComplete)==null||z.call(window,O)}),k.current=!1))}),E}function jv(t,i,s,u){const{layoutId:h,layout:p,drag:y,dragConstraints:C,layoutScroll:v,layoutRoot:x}=i;t.projection=new s(t.latestValues,i["data-framer-portal-id"]?void 0:Xg(t.parent)),t.projection.setOptions({layoutId:h,layout:p,alwaysMeasureLayout:!!y||C&&Mo(C),visualElement:t,animationType:typeof p=="string"?p:"both",initialPromotionConfig:u,layoutScroll:v,layoutRoot:x})}function Xg(t){if(t)return t.options.allowProjection!==!1?t.projection:Xg(t.parent)}function Uv({preloadedFeatures:t,createVisualElement:i,useRender:s,useVisualState:u,Component:h}){t&&Nv(t);function p(C,v){let x;const E={...P.useContext(Ed),...C,layoutId:zv(C)},{isStatic:T}=E,N=Pv(C),O=u(C,T);if(!T&&Cd){Vv();const k=Wv(E);x=k.MeasureLayout,N.visualElement=Fv(h,O,E,i,k.ProjectionNode)}return R.jsxs(Vc.Provider,{value:N,children:[x&&N.visualElement?R.jsx(x,{visualElement:N.visualElement,...E}):null,s(h,C,kv(O,N.visualElement,v),O,T,N.visualElement)]})}p.displayName=`motion.${typeof h=="string"?h:`create(${h.displayName??h.name??""})`}`;const y=P.forwardRef(p);return y[Lv]=h,y}function zv({layoutId:t}){const i=P.useContext(wd).id;return i&&t!==void 0?i+"-"+t:t}function Vv(t,i){P.useContext(Vg).strict}function Wv(t){const{drag:i,layout:s}=Bo;if(!i&&!s)return{};const u={...i,...s};return{MeasureLayout:i!=null&&i.isEnabled(t)||s!=null&&s.isEnabled(t)?u.MeasureLayout:void 0,ProjectionNode:u.ProjectionNode}}const Zg=t=>i=>typeof i=="string"&&i.startsWith(t),kd=Zg("--"),Hv=Zg("var(--"),Bd=t=>Hv(t)?Gv.test(t.split("/*")[0].trim()):!1,Gv=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ga={};function Yv(t){for(const i in t)Ga[i]=t[i],kd(i)&&(Ga[i].isCSSVariable=!0)}const zo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],to=new Set(zo);function Kg(t,{layout:i,layoutId:s}){return to.has(t)||t.startsWith("origin")||(i||s!==void 0)&&(!!Ga[t]||t==="opacity")}const Jn=t=>!!(t&&t.getVelocity),Qg=(t,i)=>i&&typeof t=="number"?i.transform(t):t,Vi=(t,i,s)=>s>i?i:s<t?t:s,Vo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ya={...Vo,transform:t=>Vi(0,1,t)},mc={...Vo,default:1},Ja=t=>({test:i=>typeof i=="string"&&i.endsWith(t)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${t}`}),xs=Ja("deg"),gi=Ja("%"),Je=Ja("px"),Xv=Ja("vh"),Zv=Ja("vw"),G1={...gi,parse:t=>gi.parse(t)/100,transform:t=>gi.transform(t*100)},Kv={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je},Qv={rotate:xs,rotateX:xs,rotateY:xs,rotateZ:xs,scale:mc,scaleX:mc,scaleY:mc,scaleZ:mc,skew:xs,skewX:xs,skewY:xs,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:Ya,originX:G1,originY:G1,originZ:Je},Y1={...Vo,transform:Math.round},Fd={...Kv,...Qv,zIndex:Y1,size:Je,fillOpacity:Ya,strokeOpacity:Ya,numOctaves:Y1},$v={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qv=zo.length;function Jv(t,i,s){let u="",h=!0;for(let p=0;p<qv;p++){const y=zo[p],C=t[y];if(C===void 0)continue;let v=!0;if(typeof C=="number"?v=C===(y.startsWith("scale")?1:0):v=parseFloat(C)===0,!v||s){const x=Qg(C,Fd[y]);if(!v){h=!1;const E=$v[y]||y;u+=`${E}(${x}) `}s&&(i[y]=x)}}return u=u.trim(),s?u=s(i,h?"":u):h&&(u="none"),u}function jd(t,i,s){const{style:u,vars:h,transformOrigin:p}=t;let y=!1,C=!1;for(const v in i){const x=i[v];if(to.has(v)){y=!0;continue}else if(kd(v)){h[v]=x;continue}else{const E=Qg(x,Fd[v]);v.startsWith("origin")?(C=!0,p[v]=E):u[v]=E}}if(i.transform||(y||s?u.transform=Jv(i,t.transform,s):u.transform&&(u.transform="none")),C){const{originX:v="50%",originY:x="50%",originZ:E=0}=p;u.transformOrigin=`${v} ${x} ${E}`}}const Ud=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $g(t,i,s){for(const u in i)!Jn(i[u])&&!Kg(u,s)&&(t[u]=i[u])}function eC({transformTemplate:t},i){return P.useMemo(()=>{const s=Ud();return jd(s,i,t),Object.assign({},s.vars,s.style)},[i])}function tC(t,i){const s=t.style||{},u={};return $g(u,s,t),Object.assign(u,eC(t,i)),u}function nC(t,i){const s={},u=tC(t,i);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,u.userSelect=u.WebkitUserSelect=u.WebkitTouchCallout="none",u.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=u,s}const rC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zd(t){return typeof t!="string"||t.includes("-")?!1:!!(rC.indexOf(t)>-1||/[A-Z]/u.test(t))}const iC={offset:"stroke-dashoffset",array:"stroke-dasharray"},sC={offset:"strokeDashoffset",array:"strokeDasharray"};function oC(t,i,s=1,u=0,h=!0){t.pathLength=1;const p=h?iC:sC;t[p.offset]=Je.transform(-u);const y=Je.transform(i),C=Je.transform(s);t[p.array]=`${y} ${C}`}function X1(t,i,s){return typeof t=="string"?t:Je.transform(i+s*t)}function aC(t,i,s){const u=X1(i,t.x,t.width),h=X1(s,t.y,t.height);return`${u} ${h}`}function Vd(t,{attrX:i,attrY:s,attrScale:u,originX:h,originY:p,pathLength:y,pathSpacing:C=1,pathOffset:v=0,...x},E,T){if(jd(t,x,T),E){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:N,style:O,dimensions:k}=t;N.transform&&(k&&(O.transform=N.transform),delete N.transform),k&&(h!==void 0||p!==void 0||O.transform)&&(O.transformOrigin=aC(k,h!==void 0?h:.5,p!==void 0?p:.5)),i!==void 0&&(N.x=i),s!==void 0&&(N.y=s),u!==void 0&&(N.scale=u),y!==void 0&&oC(N,y,C,v,!1)}const qg=()=>({...Ud(),attrs:{}}),Wd=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lC(t,i,s,u){const h=P.useMemo(()=>{const p=qg();return Vd(p,i,Wd(u),t.transformTemplate),{...p.attrs,style:{...p.style}}},[i]);if(t.style){const p={};$g(p,t.style,t),h.style={...p,...h.style}}return h}function cC(t=!1){return(s,u,h,{latestValues:p},y)=>{const v=(zd(s)?lC:nC)(u,p,y,s),x=_v(u,typeof s=="string",t),E=s!==P.Fragment?{...x,...v,ref:h}:{},{children:T}=u,N=P.useMemo(()=>Jn(T)?T.get():T,[T]);return P.createElement(s,{...E,children:N})}}function Z1(t){const i=[{},{}];return t==null||t.values.forEach((s,u)=>{i[0][u]=s.get(),i[1][u]=s.getVelocity()}),i}function Hd(t,i,s,u){if(typeof i=="function"){const[h,p]=Z1(u);i=i(s!==void 0?s:t.custom,h,p)}if(typeof i=="string"&&(i=t.variants&&t.variants[i]),typeof i=="function"){const[h,p]=Z1(u);i=i(s!==void 0?s:t.custom,h,p)}return i}const Wf=t=>Array.isArray(t),uC=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),fC=t=>Wf(t)?t[t.length-1]||0:t;function Sc(t){const i=Jn(t)?t.get():t;return uC(i)?i.toValue():i}function dC({scrapeMotionValuesFromProps:t,createRenderState:i,onUpdate:s},u,h,p){const y={latestValues:hC(u,h,p,t),renderState:i()};return s&&(y.onMount=C=>s({props:u,current:C,...y}),y.onUpdate=C=>s(C)),y}const Jg=t=>(i,s)=>{const u=P.useContext(Vc),h=P.useContext(zc),p=()=>dC(t,i,u,h);return s?p():vd(p)};function hC(t,i,s,u){const h={},p=u(t,{});for(const N in p)h[N]=Sc(p[N]);let{initial:y,animate:C}=t;const v=Hc(t),x=Hg(t);i&&x&&!v&&t.inherit!==!1&&(y===void 0&&(y=i.initial),C===void 0&&(C=i.animate));let E=s?s.initial===!1:!1;E=E||y===!1;const T=E?C:y;if(T&&typeof T!="boolean"&&!Wc(T)){const N=Array.isArray(T)?T:[T];for(let O=0;O<N.length;O++){const k=Hd(t,N[O]);if(k){const{transitionEnd:B,transition:F,...z}=k;for(const H in z){let V=z[H];if(Array.isArray(V)){const ee=E?V.length-1:0;V=V[ee]}V!==null&&(h[H]=V)}for(const H in B)h[H]=B[H]}}}return h}function Gd(t,i,s){var p;const{style:u}=t,h={};for(const y in u)(Jn(u[y])||i.style&&Jn(i.style[y])||Kg(y,t)||((p=s==null?void 0:s.getValue(y))==null?void 0:p.liveStyle)!==void 0)&&(h[y]=u[y]);return h}const pC={useVisualState:Jg({scrapeMotionValuesFromProps:Gd,createRenderState:Ud})};function em(t,i){try{i.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}}function tm(t,{style:i,vars:s},u,h){Object.assign(t.style,i,h&&h.getProjectionStyles(u));for(const p in s)t.style.setProperty(p,s[p])}const nm=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rm(t,i,s,u){tm(t,i,void 0,u);for(const h in i.attrs)t.setAttribute(nm.has(h)?h:Ld(h),i.attrs[h])}function im(t,i,s){const u=Gd(t,i,s);for(const h in t)if(Jn(t[h])||Jn(i[h])){const p=zo.indexOf(h)!==-1?"attr"+h.charAt(0).toUpperCase()+h.substring(1):h;u[p]=t[h]}return u}const K1=["x","y","width","height","cx","cy","r"],gC={useVisualState:Jg({scrapeMotionValuesFromProps:im,createRenderState:qg,onUpdate:({props:t,prevProps:i,current:s,renderState:u,latestValues:h})=>{if(!s)return;let p=!!t.drag;if(!p){for(const C in h)if(to.has(C)){p=!0;break}}if(!p)return;let y=!i;if(i)for(let C=0;C<K1.length;C++){const v=K1[C];t[v]!==i[v]&&(y=!0)}y&&Gt.read(()=>{em(s,u),Gt.render(()=>{Vd(u,h,Wd(s.tagName),t.transformTemplate),rm(s,u)})})}})};function mC(t,i){return function(u,{forwardMotionProps:h}={forwardMotionProps:!1}){const y={...zd(u)?gC:pC,preloadedFeatures:t,useRender:cC(h),createVisualElement:i,Component:u};return Uv(y)}}function Xa(t,i,s){const u=t.getProps();return Hd(u,i,s!==void 0?s:u.custom,t)}const sm=new Set(["width","height","top","left","right","bottom",...zo]);function xC(t,i,s){t.hasValue(i)?t.getValue(i).set(s):t.addValue(i,Wa(s))}function yC(t,i){const s=Xa(t,i);let{transitionEnd:u={},transition:h={},...p}=s||{};p={...p,...u};for(const y in p){const C=fC(p[y]);xC(t,y,C)}}function wC(t){return!!(Jn(t)&&t.add)}function Hf(t,i){const s=t.getValue("willChange");if(wC(s))return s.add(i)}function om(t){return t.props[Gg]}const am=(t,i,s)=>(((1-3*s+3*i)*t+(3*s-6*i))*t+3*i)*t,vC=1e-7,CC=12;function EC(t,i,s,u,h){let p,y,C=0;do y=i+(s-i)/2,p=am(y,u,h)-t,p>0?s=y:i=y;while(Math.abs(p)>vC&&++C<CC);return y}function el(t,i,s,u){if(t===i&&s===u)return Hr;const h=p=>EC(p,0,1,t,s);return p=>p===0||p===1?p:am(h(p),i,u)}const lm=t=>i=>i<=.5?t(2*i)/2:(2-t(2*(1-i)))/2,cm=t=>i=>1-t(1-i),um=el(.33,1.53,.69,.99),Yd=cm(um),fm=lm(Yd),dm=t=>(t*=2)<1?.5*Yd(t):.5*(2-Math.pow(2,-10*(t-1))),Xd=t=>1-Math.sin(Math.acos(t)),hm=cm(Xd),pm=lm(Xd),gm=t=>/^0[^.\s]+$/u.test(t);function SC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gm(t):!0}const La=t=>Math.round(t*1e5)/1e5,Zd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AC(t){return t==null}const TC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Kd=(t,i)=>s=>!!(typeof s=="string"&&TC.test(s)&&s.startsWith(t)||i&&!AC(s)&&Object.prototype.hasOwnProperty.call(s,i)),mm=(t,i,s)=>u=>{if(typeof u!="string")return u;const[h,p,y,C]=u.match(Zd);return{[t]:parseFloat(h),[i]:parseFloat(p),[s]:parseFloat(y),alpha:C!==void 0?parseFloat(C):1}},IC=t=>Vi(0,255,t),Nf={...Vo,transform:t=>Math.round(IC(t))},Qs={test:Kd("rgb","red"),parse:mm("red","green","blue"),transform:({red:t,green:i,blue:s,alpha:u=1})=>"rgba("+Nf.transform(t)+", "+Nf.transform(i)+", "+Nf.transform(s)+", "+La(Ya.transform(u))+")"};function bC(t){let i="",s="",u="",h="";return t.length>5?(i=t.substring(1,3),s=t.substring(3,5),u=t.substring(5,7),h=t.substring(7,9)):(i=t.substring(1,2),s=t.substring(2,3),u=t.substring(3,4),h=t.substring(4,5),i+=i,s+=s,u+=u,h+=h),{red:parseInt(i,16),green:parseInt(s,16),blue:parseInt(u,16),alpha:h?parseInt(h,16)/255:1}}const Gf={test:Kd("#"),parse:bC,transform:Qs.transform},_o={test:Kd("hsl","hue"),parse:mm("hue","saturation","lightness"),transform:({hue:t,saturation:i,lightness:s,alpha:u=1})=>"hsla("+Math.round(t)+", "+gi.transform(La(i))+", "+gi.transform(La(s))+", "+La(Ya.transform(u))+")"},qn={test:t=>Qs.test(t)||Gf.test(t)||_o.test(t),parse:t=>Qs.test(t)?Qs.parse(t):_o.test(t)?_o.parse(t):Gf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qs.transform(t):_o.transform(t)},NC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RC(t){var i,s;return isNaN(t)&&typeof t=="string"&&(((i=t.match(Zd))==null?void 0:i.length)||0)+(((s=t.match(NC))==null?void 0:s.length)||0)>0}const xm="number",ym="color",MC="var",_C="var(",Q1="${}",DC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Za(t){const i=t.toString(),s=[],u={color:[],number:[],var:[]},h=[];let p=0;const C=i.replace(DC,v=>(qn.test(v)?(u.color.push(p),h.push(ym),s.push(qn.parse(v))):v.startsWith(_C)?(u.var.push(p),h.push(MC),s.push(v)):(u.number.push(p),h.push(xm),s.push(parseFloat(v))),++p,Q1)).split(Q1);return{values:s,split:C,indexes:u,types:h}}function wm(t){return Za(t).values}function vm(t){const{split:i,types:s}=Za(t),u=i.length;return h=>{let p="";for(let y=0;y<u;y++)if(p+=i[y],h[y]!==void 0){const C=s[y];C===xm?p+=La(h[y]):C===ym?p+=qn.transform(h[y]):p+=h[y]}return p}}const OC=t=>typeof t=="number"?0:t;function PC(t){const i=wm(t);return vm(t)(i.map(OC))}const Es={test:RC,parse:wm,createTransformer:vm,getAnimatableNone:PC},LC=new Set(["brightness","contrast","saturate","opacity"]);function kC(t){const[i,s]=t.slice(0,-1).split("(");if(i==="drop-shadow")return t;const[u]=s.match(Zd)||[];if(!u)return t;const h=s.replace(u,"");let p=LC.has(i)?1:0;return u!==s&&(p*=100),i+"("+p+h+")"}const BC=/\b([a-z-]*)\(.*?\)/gu,Yf={...Es,getAnimatableNone:t=>{const i=t.match(BC);return i?i.map(kC).join(" "):t}},FC={...Fd,color:qn,backgroundColor:qn,outlineColor:qn,fill:qn,stroke:qn,borderColor:qn,borderTopColor:qn,borderRightColor:qn,borderBottomColor:qn,borderLeftColor:qn,filter:Yf,WebkitFilter:Yf},Cm=t=>FC[t];function Em(t,i){let s=Cm(t);return s!==Yf&&(s=Es),s.getAnimatableNone?s.getAnimatableNone(i):void 0}const jC=new Set(["auto","none","0"]);function UC(t,i,s){let u=0,h;for(;u<t.length&&!h;){const p=t[u];typeof p=="string"&&!jC.has(p)&&Za(p).values.length&&(h=t[u]),u++}if(h&&s)for(const p of i)t[p]=Em(s,h)}const $s=t=>t*180/Math.PI,Xf=t=>{const i=$s(Math.atan2(t[1],t[0]));return Zf(i)},zC={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Xf,rotateZ:Xf,skewX:t=>$s(Math.atan(t[1])),skewY:t=>$s(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Zf=t=>(t=t%360,t<0&&(t+=360),t),$1=Xf,q1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),J1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),VC={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q1,scaleY:J1,scale:t=>(q1(t)+J1(t))/2,rotateX:t=>Zf($s(Math.atan2(t[6],t[5]))),rotateY:t=>Zf($s(Math.atan2(-t[2],t[0]))),rotateZ:$1,rotate:$1,skewX:t=>$s(Math.atan(t[4])),skewY:t=>$s(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ep(t){return t.includes("scale")?1:0}function Kf(t,i){if(!t||t==="none")return ep(i);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let u,h;if(s)u=VC,h=s;else{const C=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);u=zC,h=C}if(!h)return ep(i);const p=u[i],y=h[1].split(",").map(HC);return typeof p=="function"?p(y):y[p]}const WC=(t,i)=>{const{transform:s="none"}=getComputedStyle(t);return Kf(s,i)};function HC(t){return parseFloat(t.trim())}const tp=t=>t===Vo||t===Je,GC=new Set(["x","y","z"]),YC=zo.filter(t=>!GC.has(t));function XC(t){const i=[];return YC.forEach(s=>{const u=t.getValue(s);u!==void 0&&(i.push([s,u.get()]),u.set(s.startsWith("scale")?1:0))}),i}const Fo={width:({x:t},{paddingLeft:i="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(i)-parseFloat(s),height:({y:t},{paddingTop:i="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(i)-parseFloat(s),top:(t,{top:i})=>parseFloat(i),left:(t,{left:i})=>parseFloat(i),bottom:({y:t},{top:i})=>parseFloat(i)+(t.max-t.min),right:({x:t},{left:i})=>parseFloat(i)+(t.max-t.min),x:(t,{transform:i})=>Kf(i,"x"),y:(t,{transform:i})=>Kf(i,"y")};Fo.translateX=Fo.x;Fo.translateY=Fo.y;const Js=new Set;let Qf=!1,$f=!1;function Sm(){if($f){const t=Array.from(Js).filter(u=>u.needsMeasurement),i=new Set(t.map(u=>u.element)),s=new Map;i.forEach(u=>{const h=XC(u);h.length&&(s.set(u,h),u.render())}),t.forEach(u=>u.measureInitialState()),i.forEach(u=>{u.render();const h=s.get(u);h&&h.forEach(([p,y])=>{var C;(C=u.getValue(p))==null||C.set(y)})}),t.forEach(u=>u.measureEndState()),t.forEach(u=>{u.suspendedScrollY!==void 0&&window.scrollTo(0,u.suspendedScrollY)})}$f=!1,Qf=!1,Js.forEach(t=>t.complete()),Js.clear()}function Am(){Js.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($f=!0)})}function ZC(){Am(),Sm()}class Qd{constructor(i,s,u,h,p,y=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...i],this.onComplete=s,this.name=u,this.motionValue=h,this.element=p,this.isAsync=y}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Js.add(this),Qf||(Qf=!0,Gt.read(Am),Gt.resolveKeyframes(Sm))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:s,element:u,motionValue:h}=this;for(let p=0;p<i.length;p++)if(i[p]===null)if(p===0){const y=h==null?void 0:h.get(),C=i[i.length-1];if(y!==void 0)i[0]=y;else if(u&&s){const v=u.readValue(s,C);v!=null&&(i[0]=v)}i[0]===void 0&&(i[0]=C),h&&y===void 0&&h.set(i[0])}else i[p]=i[p-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Js.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Js.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Tm=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),KC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QC(t){const i=KC.exec(t);if(!i)return[,];const[,s,u,h]=i;return[`--${s??u}`,h]}function Im(t,i,s=1){const[u,h]=QC(t);if(!u)return;const p=window.getComputedStyle(i).getPropertyValue(u);if(p){const y=p.trim();return Tm(y)?parseFloat(y):y}return Bd(h)?Im(h,i,s+1):h}const bm=t=>i=>i.test(t),$C={test:t=>t==="auto",parse:t=>t},Nm=[Vo,Je,gi,xs,Zv,Xv,$C],np=t=>Nm.find(bm(t));class Rm extends Qd{constructor(i,s,u,h,p){super(i,s,u,h,p,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:s,name:u}=this;if(!s||!s.current)return;super.readKeyframes();for(let v=0;v<i.length;v++){let x=i[v];if(typeof x=="string"&&(x=x.trim(),Bd(x))){const E=Im(x,s.current);E!==void 0&&(i[v]=E),v===i.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!sm.has(u)||i.length!==2)return;const[h,p]=i,y=np(h),C=np(p);if(y!==C)if(tp(y)&&tp(C))for(let v=0;v<i.length;v++){const x=i[v];typeof x=="string"&&(i[v]=parseFloat(x))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:s}=this,u=[];for(let h=0;h<i.length;h++)SC(i[h])&&u.push(h);u.length&&UC(i,u,s)}measureInitialState(){const{element:i,unresolvedKeyframes:s,name:u}=this;if(!i||!i.current)return;u==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fo[u](i.measureViewportBox(),window.getComputedStyle(i.current)),s[0]=this.measuredOrigin;const h=s[s.length-1];h!==void 0&&i.getValue(u,h).jump(h,!1)}measureEndState(){var C;const{element:i,name:s,unresolvedKeyframes:u}=this;if(!i||!i.current)return;const h=i.getValue(s);h&&h.jump(this.measuredOrigin,!1);const p=u.length-1,y=u[p];u[p]=Fo[s](i.measureViewportBox(),window.getComputedStyle(i.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),(C=this.removedTransforms)!=null&&C.length&&this.removedTransforms.forEach(([v,x])=>{i.getValue(v).set(x)}),this.resolveNoneKeyframes()}}const rp=(t,i)=>i==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Es.test(t)||t==="0")&&!t.startsWith("url("));function qC(t){const i=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==i)return!0}function JC(t,i,s,u){const h=t[0];if(h===null)return!1;if(i==="display"||i==="visibility")return!0;const p=t[t.length-1],y=rp(h,i),C=rp(p,i);return!y||!C?!1:qC(t)||(s==="spring"||Nd(s))&&u}const eE=t=>t!==null;function Gc(t,{repeat:i,repeatType:s="loop"},u){const h=t.filter(eE),p=i&&s!=="loop"&&i%2===1?0:h.length-1;return!p||u===void 0?h[p]:u}const tE=40;class Mm{constructor({autoplay:i=!0,delay:s=0,type:u="keyframes",repeat:h=0,repeatDelay:p=0,repeatType:y="loop",...C}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pi.now(),this.options={autoplay:i,delay:s,type:u,repeat:h,repeatDelay:p,repeatType:y,...C},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>tE?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ZC(),this._resolved}onKeyframesResolved(i,s){this.resolvedAt=pi.now(),this.hasAttemptedResolve=!0;const{name:u,type:h,velocity:p,delay:y,onComplete:C,onUpdate:v,isGenerator:x}=this.options;if(!x&&!JC(i,u,h,p))if(y)this.options.duration=0;else{v&&v(Gc(i,this.options,s)),C&&C(),this.resolveFinishedPromise();return}const E=this.initPlayback(i,s);E!==!1&&(this._resolved={keyframes:i,finalKeyframe:s,...E},this.onPostResolved())}onPostResolved(){}then(i,s){return this.currentFinishedPromise.then(i,s)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(i=>{this.resolveFinishedPromise=i})}}const rn=(t,i,s)=>t+(i-t)*s;function Rf(t,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(i-t)*6*s:s<1/2?i:s<2/3?t+(i-t)*(2/3-s)*6:t}function nE({hue:t,saturation:i,lightness:s,alpha:u}){t/=360,i/=100,s/=100;let h=0,p=0,y=0;if(!i)h=p=y=s;else{const C=s<.5?s*(1+i):s+i-s*i,v=2*s-C;h=Rf(v,C,t+1/3),p=Rf(v,C,t),y=Rf(v,C,t-1/3)}return{red:Math.round(h*255),green:Math.round(p*255),blue:Math.round(y*255),alpha:u}}function _c(t,i){return s=>s>0?i:t}const Mf=(t,i,s)=>{const u=t*t,h=s*(i*i-u)+u;return h<0?0:Math.sqrt(h)},rE=[Gf,Qs,_o],iE=t=>rE.find(i=>i.test(t));function ip(t){const i=iE(t);if(!i)return!1;let s=i.parse(t);return i===_o&&(s=nE(s)),s}const sp=(t,i)=>{const s=ip(t),u=ip(i);if(!s||!u)return _c(t,i);const h={...s};return p=>(h.red=Mf(s.red,u.red,p),h.green=Mf(s.green,u.green,p),h.blue=Mf(s.blue,u.blue,p),h.alpha=rn(s.alpha,u.alpha,p),Qs.transform(h))},sE=(t,i)=>s=>i(t(s)),tl=(...t)=>t.reduce(sE),qf=new Set(["none","hidden"]);function oE(t,i){return qf.has(t)?s=>s<=0?t:i:s=>s>=1?i:t}function aE(t,i){return s=>rn(t,i,s)}function $d(t){return typeof t=="number"?aE:typeof t=="string"?Bd(t)?_c:qn.test(t)?sp:uE:Array.isArray(t)?_m:typeof t=="object"?qn.test(t)?sp:lE:_c}function _m(t,i){const s=[...t],u=s.length,h=t.map((p,y)=>$d(p)(p,i[y]));return p=>{for(let y=0;y<u;y++)s[y]=h[y](p);return s}}function lE(t,i){const s={...t,...i},u={};for(const h in s)t[h]!==void 0&&i[h]!==void 0&&(u[h]=$d(t[h])(t[h],i[h]));return h=>{for(const p in u)s[p]=u[p](h);return s}}function cE(t,i){const s=[],u={color:0,var:0,number:0};for(let h=0;h<i.values.length;h++){const p=i.types[h],y=t.indexes[p][u[p]],C=t.values[y]??0;s[h]=C,u[p]++}return s}const uE=(t,i)=>{const s=Es.createTransformer(i),u=Za(t),h=Za(i);return u.indexes.var.length===h.indexes.var.length&&u.indexes.color.length===h.indexes.color.length&&u.indexes.number.length>=h.indexes.number.length?qf.has(t)&&!h.values.length||qf.has(i)&&!u.values.length?oE(t,i):tl(_m(cE(u,h),h.values),s):_c(t,i)};function Dm(t,i,s){return typeof t=="number"&&typeof i=="number"&&typeof s=="number"?rn(t,i,s):$d(t)(t,i)}const fE=5;function Om(t,i,s){const u=Math.max(i-fE,0);return Pg(s-t(u),i-u)}const fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},op=.001;function dE({duration:t=fn.duration,bounce:i=fn.bounce,velocity:s=fn.velocity,mass:u=fn.mass}){let h,p,y=1-i;y=Vi(fn.minDamping,fn.maxDamping,y),t=Vi(fn.minDuration,fn.maxDuration,hi(t)),y<1?(h=x=>{const E=x*y,T=E*t,N=E-s,O=Jf(x,y),k=Math.exp(-T);return op-N/O*k},p=x=>{const T=x*y*t,N=T*s+s,O=Math.pow(y,2)*Math.pow(x,2)*t,k=Math.exp(-T),B=Jf(Math.pow(x,2),y);return(-h(x)+op>0?-1:1)*((N-O)*k)/B}):(h=x=>{const E=Math.exp(-x*t),T=(x-s)*t+1;return-.001+E*T},p=x=>{const E=Math.exp(-x*t),T=(s-x)*(t*t);return E*T});const C=5/t,v=pE(h,p,C);if(t=di(t),isNaN(v))return{stiffness:fn.stiffness,damping:fn.damping,duration:t};{const x=Math.pow(v,2)*u;return{stiffness:x,damping:y*2*Math.sqrt(u*x),duration:t}}}const hE=12;function pE(t,i,s){let u=s;for(let h=1;h<hE;h++)u=u-t(u)/i(u);return u}function Jf(t,i){return t*Math.sqrt(1-i*i)}const gE=["duration","bounce"],mE=["stiffness","damping","mass"];function ap(t,i){return i.some(s=>t[s]!==void 0)}function xE(t){let i={velocity:fn.velocity,stiffness:fn.stiffness,damping:fn.damping,mass:fn.mass,isResolvedFromDuration:!1,...t};if(!ap(t,mE)&&ap(t,gE))if(t.visualDuration){const s=t.visualDuration,u=2*Math.PI/(s*1.2),h=u*u,p=2*Vi(.05,1,1-(t.bounce||0))*Math.sqrt(h);i={...i,mass:fn.mass,stiffness:h,damping:p}}else{const s=dE(t);i={...i,...s,mass:fn.mass},i.isResolvedFromDuration=!0}return i}function Dc(t=fn.visualDuration,i=fn.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:i}:t;let{restSpeed:u,restDelta:h}=s;const p=s.keyframes[0],y=s.keyframes[s.keyframes.length-1],C={done:!1,value:p},{stiffness:v,damping:x,mass:E,duration:T,velocity:N,isResolvedFromDuration:O}=xE({...s,velocity:-hi(s.velocity||0)}),k=N||0,B=x/(2*Math.sqrt(v*E)),F=y-p,z=hi(Math.sqrt(v/E)),H=Math.abs(F)<5;u||(u=H?fn.restSpeed.granular:fn.restSpeed.default),h||(h=H?fn.restDelta.granular:fn.restDelta.default);let V;if(B<1){const se=Jf(z,B);V=ue=>{const J=Math.exp(-B*z*ue);return y-J*((k+B*z*F)/se*Math.sin(se*ue)+F*Math.cos(se*ue))}}else if(B===1)V=se=>y-Math.exp(-z*se)*(F+(k+z*F)*se);else{const se=z*Math.sqrt(B*B-1);V=ue=>{const J=Math.exp(-B*z*ue),ce=Math.min(se*ue,300);return y-J*((k+B*z*F)*Math.sinh(ce)+se*F*Math.cosh(ce))/se}}const ee={calculatedDuration:O&&T||null,next:se=>{const ue=V(se);if(O)C.done=se>=T;else{let J=0;B<1&&(J=se===0?di(k):Om(V,se,ue));const ce=Math.abs(J)<=u,q=Math.abs(y-ue)<=h;C.done=ce&&q}return C.value=C.done?y:ue,C},toString:()=>{const se=Math.min(Md(ee),Rc),ue=Lg(J=>ee.next(se*J).value,se,30);return se+"ms "+ue},toTransition:()=>{}};return ee}Dc.applyToOptions=t=>{const i=gv(t,100,Dc);return t.ease=Va()?i.ease:"easeOut",t.duration=di(i.duration),t.type="keyframes",t};function lp({keyframes:t,velocity:i=0,power:s=.8,timeConstant:u=325,bounceDamping:h=10,bounceStiffness:p=500,modifyTarget:y,min:C,max:v,restDelta:x=.5,restSpeed:E}){const T=t[0],N={done:!1,value:T},O=ce=>C!==void 0&&ce<C||v!==void 0&&ce>v,k=ce=>C===void 0?v:v===void 0||Math.abs(C-ce)<Math.abs(v-ce)?C:v;let B=s*i;const F=T+B,z=y===void 0?F:y(F);z!==F&&(B=z-T);const H=ce=>-B*Math.exp(-ce/u),V=ce=>z+H(ce),ee=ce=>{const q=H(ce),Me=V(ce);N.done=Math.abs(q)<=x,N.value=N.done?z:Me};let se,ue;const J=ce=>{O(N.value)&&(se=ce,ue=Dc({keyframes:[N.value,k(N.value)],velocity:Om(V,ce,N.value),damping:h,stiffness:p,restDelta:x,restSpeed:E}))};return J(0),{calculatedDuration:null,next:ce=>{let q=!1;return!ue&&se===void 0&&(q=!0,ee(ce),J(ce)),se!==void 0&&ce>=se?ue.next(ce-se):(!q&&ee(ce),N)}}}const yE=el(.42,0,1,1),wE=el(0,0,.58,1),Pm=el(.42,0,.58,1),vE=t=>Array.isArray(t)&&typeof t[0]!="number",CE={linear:Hr,easeIn:yE,easeInOut:Pm,easeOut:wE,circIn:Xd,circInOut:pm,circOut:hm,backIn:Yd,backInOut:fm,backOut:um,anticipate:dm},cp=t=>{if(bd(t)){Og(t.length===4);const[i,s,u,h]=t;return el(i,s,u,h)}else if(typeof t=="string")return CE[t];return t};function EE(t,i,s){const u=[],h=s||Dm,p=t.length-1;for(let y=0;y<p;y++){let C=h(t[y],t[y+1]);if(i){const v=Array.isArray(i)?i[y]||Hr:i;C=tl(v,C)}u.push(C)}return u}function SE(t,i,{clamp:s=!0,ease:u,mixer:h}={}){const p=t.length;if(Og(p===i.length),p===1)return()=>i[0];if(p===2&&i[0]===i[1])return()=>i[1];const y=t[0]===t[1];t[0]>t[p-1]&&(t=[...t].reverse(),i=[...i].reverse());const C=EE(i,u,h),v=C.length,x=E=>{if(y&&E<t[0])return i[0];let T=0;if(v>1)for(;T<t.length-2&&!(E<t[T+1]);T++);const N=za(t[T],t[T+1],E);return C[T](N)};return s?E=>x(Vi(t[0],t[p-1],E)):x}function AE(t,i){const s=t[t.length-1];for(let u=1;u<=i;u++){const h=za(0,i,u);t.push(rn(s,1,h))}}function TE(t){const i=[0];return AE(i,t.length-1),i}function IE(t,i){return t.map(s=>s*i)}function bE(t,i){return t.map(()=>i||Pm).splice(0,t.length-1)}function Oc({duration:t=300,keyframes:i,times:s,ease:u="easeInOut"}){const h=vE(u)?u.map(cp):cp(u),p={done:!1,value:i[0]},y=IE(s&&s.length===i.length?s:TE(i),t),C=SE(y,i,{ease:Array.isArray(h)?h:bE(i,h)});return{calculatedDuration:t,next:v=>(p.value=C(v),p.done=v>=t,p)}}const NE=t=>{const i=({timestamp:s})=>t(s);return{start:()=>Gt.update(i,!0),stop:()=>Cs(i),now:()=>Wn.isProcessing?Wn.timestamp:pi.now()}},RE={decay:lp,inertia:lp,tween:Oc,keyframes:Oc,spring:Dc},ME=t=>t/100;class qd extends Mm{constructor(i){super(i),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:v}=this.options;v&&v()};const{name:s,motionValue:u,element:h,keyframes:p}=this.options,y=(h==null?void 0:h.KeyframeResolver)||Qd,C=(v,x)=>this.onKeyframesResolved(v,x);this.resolver=new y(p,C,s,u,h),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(i){const{type:s="keyframes",repeat:u=0,repeatDelay:h=0,repeatType:p,velocity:y=0}=this.options,C=Nd(s)?s:RE[s]||Oc;let v,x;C!==Oc&&typeof i[0]!="number"&&(v=tl(ME,Dm(i[0],i[1])),i=[0,100]);const E=C({...this.options,keyframes:i});p==="mirror"&&(x=C({...this.options,keyframes:[...i].reverse(),velocity:-y})),E.calculatedDuration===null&&(E.calculatedDuration=Md(E));const{calculatedDuration:T}=E,N=T+h,O=N*(u+1)-h;return{generator:E,mirroredGenerator:x,mapPercentToKeyframes:v,calculatedDuration:T,resolvedDuration:N,totalDuration:O}}onPostResolved(){const{autoplay:i=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!i?this.pause():this.state=this.pendingPlayState}tick(i,s=!1){const{resolved:u}=this;if(!u){const{keyframes:ce}=this.options;return{done:!0,value:ce[ce.length-1]}}const{finalKeyframe:h,generator:p,mirroredGenerator:y,mapPercentToKeyframes:C,keyframes:v,calculatedDuration:x,totalDuration:E,resolvedDuration:T}=u;if(this.startTime===null)return p.next(0);const{delay:N,repeat:O,repeatType:k,repeatDelay:B,onUpdate:F}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-E/this.speed,this.startTime)),s?this.currentTime=i:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(i-this.startTime)*this.speed;const z=this.currentTime-N*(this.speed>=0?1:-1),H=this.speed>=0?z<0:z>E;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=E);let V=this.currentTime,ee=p;if(O){const ce=Math.min(this.currentTime,E)/T;let q=Math.floor(ce),Me=ce%1;!Me&&ce>=1&&(Me=1),Me===1&&q--,q=Math.min(q,O+1),!!(q%2)&&(k==="reverse"?(Me=1-Me,B&&(Me-=B/T)):k==="mirror"&&(ee=y)),V=Vi(0,1,Me)*T}const se=H?{done:!1,value:v[0]}:ee.next(V);C&&(se.value=C(se.value));let{done:ue}=se;!H&&x!==null&&(ue=this.speed>=0?this.currentTime>=E:this.currentTime<=0);const J=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return J&&h!==void 0&&(se.value=Gc(v,this.options,h)),F&&F(se.value),J&&this.finish(),se}get duration(){const{resolved:i}=this;return i?hi(i.calculatedDuration):0}get time(){return hi(this.currentTime)}set time(i){i=di(i),this.currentTime=i,this.holdTime!==null||this.speed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.speed)}get speed(){return this.playbackSpeed}set speed(i){const s=this.playbackSpeed!==i;this.playbackSpeed=i,s&&(this.time=hi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:i=NE,onPlay:s,startTime:u}=this.options;this.driver||(this.driver=i(p=>this.tick(p))),s&&s();const h=this.driver.now();this.holdTime!==null?this.startTime=h-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=h):this.startTime=u??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:i}=this.options;i&&i()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}get finished(){return this.currentFinishedPromise}}const _E=new Set(["opacity","clipPath","filter","transform"]),DE=Td(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Pc=10,OE=2e4;function PE(t){return Nd(t.type)||t.type==="spring"||!Bg(t.ease)}function LE(t,i){const s=new qd({...i,keyframes:t,repeat:0,delay:0,isGenerator:!0});let u={done:!1,value:t[0]};const h=[];let p=0;for(;!u.done&&p<OE;)u=s.sample(p),h.push(u.value),p+=Pc;return{times:void 0,keyframes:h,duration:p-Pc,ease:"linear"}}const Lm={anticipate:dm,backInOut:fm,circInOut:pm};function kE(t){return t in Lm}class up extends Mm{constructor(i){super(i);const{name:s,motionValue:u,element:h,keyframes:p}=this.options;this.resolver=new Rm(p,(y,C)=>this.onKeyframesResolved(y,C),s,u,h),this.resolver.scheduleResolve()}initPlayback(i,s){let{duration:u=300,times:h,ease:p,type:y,motionValue:C,name:v,startTime:x}=this.options;if(!C.owner||!C.owner.current)return!1;if(typeof p=="string"&&Va()&&kE(p)&&(p=Lm[p]),PE(this.options)){const{onComplete:T,onUpdate:N,motionValue:O,element:k,...B}=this.options,F=LE(i,B);i=F.keyframes,i.length===1&&(i[1]=i[0]),u=F.duration,h=F.times,p=F.ease,y="keyframes"}const E=pv(C.owner.current,v,i,{...this.options,duration:u,times:h,ease:p});return E.startTime=x??this.calcStartTime(),this.pendingTimeline?(F1(E,this.pendingTimeline),this.pendingTimeline=void 0):E.onfinish=()=>{const{onComplete:T}=this.options;C.set(Gc(i,this.options,s)),T&&T(),this.cancel(),this.resolveFinishedPromise()},{animation:E,duration:u,times:h,type:y,ease:p,keyframes:i}}get duration(){const{resolved:i}=this;if(!i)return 0;const{duration:s}=i;return hi(s)}get time(){const{resolved:i}=this;if(!i)return 0;const{animation:s}=i;return hi(s.currentTime||0)}set time(i){const{resolved:s}=this;if(!s)return;const{animation:u}=s;u.currentTime=di(i)}get speed(){const{resolved:i}=this;if(!i)return 1;const{animation:s}=i;return s.playbackRate}get finished(){return this.resolved.animation.finished}set speed(i){const{resolved:s}=this;if(!s)return;const{animation:u}=s;u.playbackRate=i}get state(){const{resolved:i}=this;if(!i)return"idle";const{animation:s}=i;return s.playState}get startTime(){const{resolved:i}=this;if(!i)return null;const{animation:s}=i;return s.startTime}attachTimeline(i){if(!this._resolved)this.pendingTimeline=i;else{const{resolved:s}=this;if(!s)return Hr;const{animation:u}=s;F1(u,i)}return Hr}play(){if(this.isStopped)return;const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:i}=this;if(!i)return;const{animation:s}=i;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:i}=this;if(!i)return;const{animation:s,keyframes:u,duration:h,type:p,ease:y,times:C}=i;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:x,onUpdate:E,onComplete:T,element:N,...O}=this.options,k=new qd({...O,keyframes:u,duration:h,type:p,ease:y,times:C,isGenerator:!0}),B=di(this.time);x.setWithVelocity(k.sample(B-Pc).value,k.sample(B).value,Pc)}const{onStop:v}=this.options;v&&v(),this.cancel()}complete(){const{resolved:i}=this;i&&i.animation.finish()}cancel(){const{resolved:i}=this;i&&i.animation.cancel()}static supports(i){const{motionValue:s,name:u,repeatDelay:h,repeatType:p,damping:y,type:C}=i;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:v,transformTemplate:x}=s.owner.getProps();return DE()&&u&&_E.has(u)&&(u!=="transform"||!x)&&!v&&!h&&p!=="mirror"&&y!==0&&C!=="inertia"}}const BE={type:"spring",stiffness:500,damping:25,restSpeed:10},FE=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jE={type:"keyframes",duration:.8},UE={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zE=(t,{keyframes:i})=>i.length>2?jE:to.has(t)?t.startsWith("scale")?FE(i[1]):BE:UE;function VE({when:t,delay:i,delayChildren:s,staggerChildren:u,staggerDirection:h,repeat:p,repeatType:y,repeatDelay:C,from:v,elapsed:x,...E}){return!!Object.keys(E).length}const Jd=(t,i,s,u={},h,p)=>y=>{const C=Rd(u,t)||{},v=C.delay||u.delay||0;let{elapsed:x=0}=u;x=x-di(v);let E={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:i.getVelocity(),...C,delay:-x,onUpdate:N=>{i.set(N),C.onUpdate&&C.onUpdate(N)},onComplete:()=>{y(),C.onComplete&&C.onComplete()},name:t,motionValue:i,element:p?void 0:h};VE(C)||(E={...E,...zE(t,E)}),E.duration&&(E.duration=di(E.duration)),E.repeatDelay&&(E.repeatDelay=di(E.repeatDelay)),E.from!==void 0&&(E.keyframes[0]=E.from);let T=!1;if((E.type===!1||E.duration===0&&!E.repeatDelay)&&(E.duration=0,E.delay===0&&(T=!0)),E.allowFlatten=!C.type&&!C.ease,T&&!p&&i.get()!==void 0){const N=Gc(E.keyframes,C);if(N!==void 0)return Gt.update(()=>{E.onUpdate(N),E.onComplete()}),new fv([])}return!p&&up.supports(E)?new up(E):new qd(E)};function WE({protectedKeys:t,needsAnimating:i},s){const u=t.hasOwnProperty(s)&&i[s]!==!0;return i[s]=!1,u}function km(t,i,{delay:s=0,transitionOverride:u,type:h}={}){let{transition:p=t.getDefaultTransition(),transitionEnd:y,...C}=i;u&&(p=u);const v=[],x=h&&t.animationState&&t.animationState.getState()[h];for(const E in C){const T=t.getValue(E,t.latestValues[E]??null),N=C[E];if(N===void 0||x&&WE(x,E))continue;const O={delay:s,...Rd(p||{},E)};let k=!1;if(window.MotionHandoffAnimation){const F=om(t);if(F){const z=window.MotionHandoffAnimation(F,E,Gt);z!==null&&(O.startTime=z,k=!0)}}Hf(t,E),T.start(Jd(E,T,N,t.shouldReduceMotion&&sm.has(E)?{type:!1}:O,t,k));const B=T.animation;B&&v.push(B)}return y&&Promise.all(v).then(()=>{Gt.update(()=>{y&&yC(t,y)})}),v}function ed(t,i,s={}){var v;const u=Xa(t,i,s.type==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);let{transition:h=t.getDefaultTransition()||{}}=u||{};s.transitionOverride&&(h=s.transitionOverride);const p=u?()=>Promise.all(km(t,u,s)):()=>Promise.resolve(),y=t.variantChildren&&t.variantChildren.size?(x=0)=>{const{delayChildren:E=0,staggerChildren:T,staggerDirection:N}=h;return HE(t,i,E+x,T,N,s)}:()=>Promise.resolve(),{when:C}=h;if(C){const[x,E]=C==="beforeChildren"?[p,y]:[y,p];return x().then(()=>E())}else return Promise.all([p(),y(s.delay)])}function HE(t,i,s=0,u=0,h=1,p){const y=[],C=(t.variantChildren.size-1)*u,v=h===1?(x=0)=>x*u:(x=0)=>C-x*u;return Array.from(t.variantChildren).sort(GE).forEach((x,E)=>{x.notify("AnimationStart",i),y.push(ed(x,i,{...p,delay:s+v(E)}).then(()=>x.notify("AnimationComplete",i)))}),Promise.all(y)}function GE(t,i){return t.sortNodePosition(i)}function YE(t,i,s={}){t.notify("AnimationStart",i);let u;if(Array.isArray(i)){const h=i.map(p=>ed(t,p,s));u=Promise.all(h)}else if(typeof i=="string")u=ed(t,i,s);else{const h=typeof i=="function"?Xa(t,i,s.custom):i;u=Promise.all(km(t,h,s))}return u.then(()=>{t.notify("AnimationComplete",i)})}function Bm(t,i){if(!Array.isArray(i))return!1;const s=i.length;if(s!==t.length)return!1;for(let u=0;u<s;u++)if(i[u]!==t[u])return!1;return!0}const XE=Pd.length;function Fm(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Fm(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const i={};for(let s=0;s<XE;s++){const u=Pd[s],h=t.props[u];(Ha(h)||h===!1)&&(i[u]=h)}return i}const ZE=[...Od].reverse(),KE=Od.length;function QE(t){return i=>Promise.all(i.map(({animation:s,options:u})=>YE(t,s,u)))}function $E(t){let i=QE(t),s=fp(),u=!0;const h=v=>(x,E)=>{var N;const T=Xa(t,E,v==="exit"?(N=t.presenceContext)==null?void 0:N.custom:void 0);if(T){const{transition:O,transitionEnd:k,...B}=T;x={...x,...B,...k}}return x};function p(v){i=v(t)}function y(v){const{props:x}=t,E=Fm(t.parent)||{},T=[],N=new Set;let O={},k=1/0;for(let F=0;F<KE;F++){const z=ZE[F],H=s[z],V=x[z]!==void 0?x[z]:E[z],ee=Ha(V),se=z===v?H.isActive:null;se===!1&&(k=F);let ue=V===E[z]&&V!==x[z]&&ee;if(ue&&u&&t.manuallyAnimateOnMount&&(ue=!1),H.protectedKeys={...O},!H.isActive&&se===null||!V&&!H.prevProp||Wc(V)||typeof V=="boolean")continue;const J=qE(H.prevProp,V);let ce=J||z===v&&H.isActive&&!ue&&ee||F>k&&ee,q=!1;const Me=Array.isArray(V)?V:[V];let Pe=Me.reduce(h(z),{});se===!1&&(Pe={});const{prevResolvedValues:be={}}=H,Fe={...be,...Pe},Re=we=>{ce=!0,N.has(we)&&(q=!0,N.delete(we)),H.needsAnimating[we]=!0;const he=t.getValue(we);he&&(he.liveStyle=!1)};for(const we in Fe){const he=Pe[we],De=be[we];if(O.hasOwnProperty(we))continue;let fe=!1;Wf(he)&&Wf(De)?fe=!Bm(he,De):fe=he!==De,fe?he!=null?Re(we):N.add(we):he!==void 0&&N.has(we)?Re(we):H.protectedKeys[we]=!0}H.prevProp=V,H.prevResolvedValues=Pe,H.isActive&&(O={...O,...Pe}),u&&t.blockInitialAnimation&&(ce=!1),ce&&(!(ue&&J)||q)&&T.push(...Me.map(we=>({animation:we,options:{type:z}})))}if(N.size){const F={};if(typeof x.initial!="boolean"){const z=Xa(t,Array.isArray(x.initial)?x.initial[0]:x.initial);z&&z.transition&&(F.transition=z.transition)}N.forEach(z=>{const H=t.getBaseTarget(z),V=t.getValue(z);V&&(V.liveStyle=!0),F[z]=H??null}),T.push({animation:F})}let B=!!T.length;return u&&(x.initial===!1||x.initial===x.animate)&&!t.manuallyAnimateOnMount&&(B=!1),u=!1,B?i(T):Promise.resolve()}function C(v,x){var T;if(s[v].isActive===x)return Promise.resolve();(T=t.variantChildren)==null||T.forEach(N=>{var O;return(O=N.animationState)==null?void 0:O.setActive(v,x)}),s[v].isActive=x;const E=y(v);for(const N in s)s[N].protectedKeys={};return E}return{animateChanges:y,setActive:C,setAnimateFunction:p,getState:()=>s,reset:()=>{s=fp(),u=!0}}}function qE(t,i){return typeof i=="string"?i!==t:Array.isArray(i)?!Bm(i,t):!1}function Zs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fp(){return{animate:Zs(!0),whileInView:Zs(),whileHover:Zs(),whileTap:Zs(),whileDrag:Zs(),whileFocus:Zs(),exit:Zs()}}class Ss{constructor(i){this.isMounted=!1,this.node=i}update(){}}class JE extends Ss{constructor(i){super(i),i.animationState||(i.animationState=$E(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();Wc(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:s}=this.node.prevProps||{};i!==s&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let e3=0;class t3 extends Ss{constructor(){super(...arguments),this.id=e3++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:s}=this.node.presenceContext,{isPresent:u}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===u)return;const h=this.node.animationState.setActive("exit",!i);s&&!i&&h.then(()=>{s(this.id)})}mount(){const{register:i,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const n3={animation:{Feature:JE},exit:{Feature:t3}};function Ka(t,i,s,u={passive:!0}){return t.addEventListener(i,s,u),()=>t.removeEventListener(i,s)}function nl(t){return{point:{x:t.pageX,y:t.pageY}}}const r3=t=>i=>Dd(i)&&t(i,nl(i));function ka(t,i,s,u){return Ka(t,i,r3(s),u)}function jm({top:t,left:i,right:s,bottom:u}){return{x:{min:i,max:s},y:{min:t,max:u}}}function i3({x:t,y:i}){return{top:i.min,right:t.max,bottom:i.max,left:t.min}}function s3(t,i){if(!i)return t;const s=i({x:t.left,y:t.top}),u=i({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:u.y,right:u.x}}const Um=1e-4,o3=1-Um,a3=1+Um,zm=.01,l3=0-zm,c3=0+zm;function or(t){return t.max-t.min}function u3(t,i,s){return Math.abs(t-i)<=s}function dp(t,i,s,u=.5){t.origin=u,t.originPoint=rn(i.min,i.max,t.origin),t.scale=or(s)/or(i),t.translate=rn(s.min,s.max,t.origin)-t.originPoint,(t.scale>=o3&&t.scale<=a3||isNaN(t.scale))&&(t.scale=1),(t.translate>=l3&&t.translate<=c3||isNaN(t.translate))&&(t.translate=0)}function Ba(t,i,s,u){dp(t.x,i.x,s.x,u?u.originX:void 0),dp(t.y,i.y,s.y,u?u.originY:void 0)}function hp(t,i,s){t.min=s.min+i.min,t.max=t.min+or(i)}function f3(t,i,s){hp(t.x,i.x,s.x),hp(t.y,i.y,s.y)}function pp(t,i,s){t.min=i.min-s.min,t.max=t.min+or(i)}function Fa(t,i,s){pp(t.x,i.x,s.x),pp(t.y,i.y,s.y)}const gp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Do=()=>({x:gp(),y:gp()}),mp=()=>({min:0,max:0}),yn=()=>({x:mp(),y:mp()});function Wr(t){return[t("x"),t("y")]}function _f(t){return t===void 0||t===1}function td({scale:t,scaleX:i,scaleY:s}){return!_f(t)||!_f(i)||!_f(s)}function Ks(t){return td(t)||Vm(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Vm(t){return xp(t.x)||xp(t.y)}function xp(t){return t&&t!=="0%"}function Lc(t,i,s){const u=t-s,h=i*u;return s+h}function yp(t,i,s,u,h){return h!==void 0&&(t=Lc(t,h,u)),Lc(t,s,u)+i}function nd(t,i=0,s=1,u,h){t.min=yp(t.min,i,s,u,h),t.max=yp(t.max,i,s,u,h)}function Wm(t,{x:i,y:s}){nd(t.x,i.translate,i.scale,i.originPoint),nd(t.y,s.translate,s.scale,s.originPoint)}const wp=.999999999999,vp=1.0000000000001;function d3(t,i,s,u=!1){const h=s.length;if(!h)return;i.x=i.y=1;let p,y;for(let C=0;C<h;C++){p=s[C],y=p.projectionDelta;const{visualElement:v}=p.options;v&&v.props.style&&v.props.style.display==="contents"||(u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Po(t,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),y&&(i.x*=y.x.scale,i.y*=y.y.scale,Wm(t,y)),u&&Ks(p.latestValues)&&Po(t,p.latestValues))}i.x<vp&&i.x>wp&&(i.x=1),i.y<vp&&i.y>wp&&(i.y=1)}function Oo(t,i){t.min=t.min+i,t.max=t.max+i}function Cp(t,i,s,u,h=.5){const p=rn(t.min,t.max,h);nd(t,i,s,p,u)}function Po(t,i){Cp(t.x,i.x,i.scaleX,i.scale,i.originX),Cp(t.y,i.y,i.scaleY,i.scale,i.originY)}function Hm(t,i){return jm(s3(t.getBoundingClientRect(),i))}function h3(t,i,s){const u=Hm(t,s),{scroll:h}=i;return h&&(Oo(u.x,h.offset.x),Oo(u.y,h.offset.y)),u}const Gm=({current:t})=>t?t.ownerDocument.defaultView:null,Ep=(t,i)=>Math.abs(t-i);function p3(t,i){const s=Ep(t.x,i.x),u=Ep(t.y,i.y);return Math.sqrt(s**2+u**2)}class Ym{constructor(i,s,{transformPagePoint:u,contextWindow:h,dragSnapToOrigin:p=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Of(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,O=p3(T.offset,{x:0,y:0})>=3;if(!N&&!O)return;const{point:k}=T,{timestamp:B}=Wn;this.history.push({...k,timestamp:B});const{onStart:F,onMove:z}=this.handlers;N||(F&&F(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,T)},this.handlePointerMove=(T,N)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Df(N,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(T,N)=>{this.end();const{onEnd:O,onSessionEnd:k,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=Of(T.type==="pointercancel"?this.lastMoveEventInfo:Df(N,this.transformPagePoint),this.history);this.startEvent&&O&&O(T,F),k&&k(T,F)},!Dd(i))return;this.dragSnapToOrigin=p,this.handlers=s,this.transformPagePoint=u,this.contextWindow=h||window;const y=nl(i),C=Df(y,this.transformPagePoint),{point:v}=C,{timestamp:x}=Wn;this.history=[{...v,timestamp:x}];const{onSessionStart:E}=s;E&&E(i,Of(C,this.history)),this.removeListeners=tl(ka(this.contextWindow,"pointermove",this.handlePointerMove),ka(this.contextWindow,"pointerup",this.handlePointerUp),ka(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),Cs(this.updatePoint)}}function Df(t,i){return i?{point:i(t.point)}:t}function Sp(t,i){return{x:t.x-i.x,y:t.y-i.y}}function Of({point:t},i){return{point:t,delta:Sp(t,Xm(i)),offset:Sp(t,g3(i)),velocity:m3(i,.1)}}function g3(t){return t[0]}function Xm(t){return t[t.length-1]}function m3(t,i){if(t.length<2)return{x:0,y:0};let s=t.length-1,u=null;const h=Xm(t);for(;s>=0&&(u=t[s],!(h.timestamp-u.timestamp>di(i)));)s--;if(!u)return{x:0,y:0};const p=hi(h.timestamp-u.timestamp);if(p===0)return{x:0,y:0};const y={x:(h.x-u.x)/p,y:(h.y-u.y)/p};return y.x===1/0&&(y.x=0),y.y===1/0&&(y.y=0),y}function x3(t,{min:i,max:s},u){return i!==void 0&&t<i?t=u?rn(i,t,u.min):Math.max(t,i):s!==void 0&&t>s&&(t=u?rn(s,t,u.max):Math.min(t,s)),t}function Ap(t,i,s){return{min:i!==void 0?t.min+i:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function y3(t,{top:i,left:s,bottom:u,right:h}){return{x:Ap(t.x,s,h),y:Ap(t.y,i,u)}}function Tp(t,i){let s=i.min-t.min,u=i.max-t.max;return i.max-i.min<t.max-t.min&&([s,u]=[u,s]),{min:s,max:u}}function w3(t,i){return{x:Tp(t.x,i.x),y:Tp(t.y,i.y)}}function v3(t,i){let s=.5;const u=or(t),h=or(i);return h>u?s=za(i.min,i.max-u,t.min):u>h&&(s=za(t.min,t.max-h,i.min)),Vi(0,1,s)}function C3(t,i){const s={};return i.min!==void 0&&(s.min=i.min-t.min),i.max!==void 0&&(s.max=i.max-t.min),s}const rd=.35;function E3(t=rd){return t===!1?t=0:t===!0&&(t=rd),{x:Ip(t,"left","right"),y:Ip(t,"top","bottom")}}function Ip(t,i,s){return{min:bp(t,i),max:bp(t,s)}}function bp(t,i){return typeof t=="number"?t:t[i]||0}const S3=new WeakMap;class A3{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=yn(),this.visualElement=i}start(i,{snapToCursor:s=!1}={}){const{presenceContext:u}=this.visualElement;if(u&&u.isPresent===!1)return;const h=E=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(nl(E).point)},p=(E,T)=>{const{drag:N,dragPropagation:O,onDragStart:k}=this.getProps();if(N&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wv(N),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wr(F=>{let z=this.getAxisMotionValue(F).get()||0;if(gi.test(z)){const{projection:H}=this.visualElement;if(H&&H.layout){const V=H.layout.layoutBox[F];V&&(z=or(V)*(parseFloat(z)/100))}}this.originPoint[F]=z}),k&&Gt.postRender(()=>k(E,T)),Hf(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},y=(E,T)=>{const{dragPropagation:N,dragDirectionLock:O,onDirectionLock:k,onDrag:B}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:F}=T;if(O&&this.currentDirection===null){this.currentDirection=T3(F),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",T.point,F),this.updateAxis("y",T.point,F),this.visualElement.render(),B&&B(E,T)},C=(E,T)=>this.stop(E,T),v=()=>Wr(E=>{var T;return this.getAnimationState(E)==="paused"&&((T=this.getAxisMotionValue(E).animation)==null?void 0:T.play())}),{dragSnapToOrigin:x}=this.getProps();this.panSession=new Ym(i,{onSessionStart:h,onStart:p,onMove:y,onSessionEnd:C,resumeAnimation:v},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,contextWindow:Gm(this.visualElement)})}stop(i,s){const u=this.isDragging;if(this.cancel(),!u)return;const{velocity:h}=s;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p&&Gt.postRender(()=>p(i,s))}cancel(){this.isDragging=!1;const{projection:i,animationState:s}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:u}=this.getProps();!u&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(i,s,u){const{drag:h}=this.getProps();if(!u||!xc(i,h,this.currentDirection))return;const p=this.getAxisMotionValue(i);let y=this.originPoint[i]+u[i];this.constraints&&this.constraints[i]&&(y=x3(y,this.constraints[i],this.elastic[i])),p.set(y)}resolveConstraints(){var p;const{dragConstraints:i,dragElastic:s}=this.getProps(),u=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(p=this.visualElement.projection)==null?void 0:p.layout,h=this.constraints;i&&Mo(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&u?this.constraints=y3(u.layoutBox,i):this.constraints=!1,this.elastic=E3(s),h!==this.constraints&&u&&this.constraints&&!this.hasMutatedConstraints&&Wr(y=>{this.constraints!==!1&&this.getAxisMotionValue(y)&&(this.constraints[y]=C3(u.layoutBox[y],this.constraints[y]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:s}=this.getProps();if(!i||!Mo(i))return!1;const u=i.current,{projection:h}=this.visualElement;if(!h||!h.layout)return!1;const p=h3(u,h.root,this.visualElement.getTransformPagePoint());let y=w3(h.layout.layoutBox,p);if(s){const C=s(i3(y));this.hasMutatedConstraints=!!C,C&&(y=jm(C))}return y}startAnimation(i){const{drag:s,dragMomentum:u,dragElastic:h,dragTransition:p,dragSnapToOrigin:y,onDragTransitionEnd:C}=this.getProps(),v=this.constraints||{},x=Wr(E=>{if(!xc(E,s,this.currentDirection))return;let T=v&&v[E]||{};y&&(T={min:0,max:0});const N=h?200:1e6,O=h?40:1e7,k={type:"inertia",velocity:u?i[E]:0,bounceStiffness:N,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...p,...T};return this.startAxisValueAnimation(E,k)});return Promise.all(x).then(C)}startAxisValueAnimation(i,s){const u=this.getAxisMotionValue(i);return Hf(this.visualElement,i),u.start(Jd(i,u,0,s,this.visualElement,!1))}stopAnimation(){Wr(i=>this.getAxisMotionValue(i).stop())}pauseAnimation(){Wr(i=>{var s;return(s=this.getAxisMotionValue(i).animation)==null?void 0:s.pause()})}getAnimationState(i){var s;return(s=this.getAxisMotionValue(i).animation)==null?void 0:s.state}getAxisMotionValue(i){const s=`_drag${i.toUpperCase()}`,u=this.visualElement.getProps(),h=u[s];return h||this.visualElement.getValue(i,(u.initial?u.initial[i]:void 0)||0)}snapToCursor(i){Wr(s=>{const{drag:u}=this.getProps();if(!xc(s,u,this.currentDirection))return;const{projection:h}=this.visualElement,p=this.getAxisMotionValue(s);if(h&&h.layout){const{min:y,max:C}=h.layout.layoutBox[s];p.set(i[s]-rn(y,C,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:s}=this.getProps(),{projection:u}=this.visualElement;if(!Mo(s)||!u||!this.constraints)return;this.stopAnimation();const h={x:0,y:0};Wr(y=>{const C=this.getAxisMotionValue(y);if(C&&this.constraints!==!1){const v=C.get();h[y]=v3({min:v,max:v},this.constraints[y])}});const{transformTemplate:p}=this.visualElement.getProps();this.visualElement.current.style.transform=p?p({},""):"none",u.root&&u.root.updateScroll(),u.updateLayout(),this.resolveConstraints(),Wr(y=>{if(!xc(y,i,null))return;const C=this.getAxisMotionValue(y),{min:v,max:x}=this.constraints[y];C.set(rn(v,x,h[y]))})}addListeners(){if(!this.visualElement.current)return;S3.set(this.visualElement,this);const i=this.visualElement.current,s=ka(i,"pointerdown",v=>{const{drag:x,dragListener:E=!0}=this.getProps();x&&E&&this.start(v)}),u=()=>{const{dragConstraints:v}=this.getProps();Mo(v)&&v.current&&(this.constraints=this.resolveRefConstraints())},{projection:h}=this.visualElement,p=h.addEventListener("measure",u);h&&!h.layout&&(h.root&&h.root.updateScroll(),h.updateLayout()),Gt.read(u);const y=Ka(window,"resize",()=>this.scalePositionWithinConstraints()),C=h.addEventListener("didUpdate",({delta:v,hasLayoutChanged:x})=>{this.isDragging&&x&&(Wr(E=>{const T=this.getAxisMotionValue(E);T&&(this.originPoint[E]+=v[E].translate,T.set(T.get()+v[E].translate))}),this.visualElement.render())});return()=>{y(),s(),p(),C&&C()}}getProps(){const i=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:u=!1,dragPropagation:h=!1,dragConstraints:p=!1,dragElastic:y=rd,dragMomentum:C=!0}=i;return{...i,drag:s,dragDirectionLock:u,dragPropagation:h,dragConstraints:p,dragElastic:y,dragMomentum:C}}}function xc(t,i,s){return(i===!0||i===t)&&(s===null||s===t)}function T3(t,i=10){let s=null;return Math.abs(t.y)>i?s="y":Math.abs(t.x)>i&&(s="x"),s}class I3 extends Ss{constructor(i){super(i),this.removeGroupControls=Hr,this.removeListeners=Hr,this.controls=new A3(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Np=t=>(i,s)=>{t&&Gt.postRender(()=>t(i,s))};class b3 extends Ss{constructor(){super(...arguments),this.removePointerDownListener=Hr}onPointerDown(i){this.session=new Ym(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gm(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:s,onPan:u,onPanEnd:h}=this.node.getProps();return{onSessionStart:Np(i),onStart:Np(s),onMove:u,onEnd:(p,y)=>{delete this.session,h&&Gt.postRender(()=>h(p,y))}}}mount(){this.removePointerDownListener=ka(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rp(t,i){return i.max===i.min?0:t/(i.max-i.min)*100}const _a={correct:(t,i)=>{if(!i.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const s=Rp(t,i.target.x),u=Rp(t,i.target.y);return`${s}% ${u}%`}},N3={correct:(t,{treeScale:i,projectionDelta:s})=>{const u=t,h=Es.parse(t);if(h.length>5)return u;const p=Es.createTransformer(t),y=typeof h[0]!="number"?1:0,C=s.x.scale*i.x,v=s.y.scale*i.y;h[0+y]/=C,h[1+y]/=v;const x=rn(C,v,.5);return typeof h[2+y]=="number"&&(h[2+y]/=x),typeof h[3+y]=="number"&&(h[3+y]/=x),p(h)}};class R3 extends P.Component{componentDidMount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:u,layoutId:h}=this.props,{projection:p}=i;Yv(M3),p&&(s.group&&s.group.add(p),u&&u.register&&h&&u.register(p),p.root.didUpdate(),p.addEventListener("animationComplete",()=>{this.safeToRemove()}),p.setOptions({...p.options,onExitComplete:()=>this.safeToRemove()})),Ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:s,visualElement:u,drag:h,isPresent:p}=this.props,y=u.projection;return y&&(y.isPresent=p,h||i.layoutDependency!==s||s===void 0||i.isPresent!==p?y.willUpdate():this.safeToRemove(),i.isPresent!==p&&(p?y.promote():y.relegate()||Gt.postRender(()=>{const C=y.getStack();(!C||!C.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),_d.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:s,switchLayoutGroup:u}=this.props,{projection:h}=i;h&&(h.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(h),u&&u.deregister&&u.deregister(h))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function Zm(t){const[i,s]=Dg(),u=P.useContext(wd);return R.jsx(R3,{...t,layoutGroup:u,switchLayoutGroup:P.useContext(Yg),isPresent:i,safeToRemove:s})}const M3={borderRadius:{..._a,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_a,borderTopRightRadius:_a,borderBottomLeftRadius:_a,borderBottomRightRadius:_a,boxShadow:N3};function _3(t,i,s){const u=Jn(t)?t:Wa(t);return u.start(Jd("",u,i,s)),u.animation}function D3(t){return t instanceof SVGElement&&t.tagName!=="svg"}const O3=(t,i)=>t.depth-i.depth;class P3{constructor(){this.children=[],this.isDirty=!1}add(i){Sd(this.children,i),this.isDirty=!0}remove(i){Ad(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(O3),this.isDirty=!1,this.children.forEach(i)}}function L3(t,i){const s=pi.now(),u=({timestamp:h})=>{const p=h-s;p>=i&&(Cs(u),t(p-i))};return Gt.read(u,!0),()=>Cs(u)}const Km=["TopLeft","TopRight","BottomLeft","BottomRight"],k3=Km.length,Mp=t=>typeof t=="string"?parseFloat(t):t,_p=t=>typeof t=="number"||Je.test(t);function B3(t,i,s,u,h,p){h?(t.opacity=rn(0,s.opacity!==void 0?s.opacity:1,F3(u)),t.opacityExit=rn(i.opacity!==void 0?i.opacity:1,0,j3(u))):p&&(t.opacity=rn(i.opacity!==void 0?i.opacity:1,s.opacity!==void 0?s.opacity:1,u));for(let y=0;y<k3;y++){const C=`border${Km[y]}Radius`;let v=Dp(i,C),x=Dp(s,C);if(v===void 0&&x===void 0)continue;v||(v=0),x||(x=0),v===0||x===0||_p(v)===_p(x)?(t[C]=Math.max(rn(Mp(v),Mp(x),u),0),(gi.test(x)||gi.test(v))&&(t[C]+="%")):t[C]=x}(i.rotate||s.rotate)&&(t.rotate=rn(i.rotate||0,s.rotate||0,u))}function Dp(t,i){return t[i]!==void 0?t[i]:t.borderRadius}const F3=Qm(0,.5,hm),j3=Qm(.5,.95,Hr);function Qm(t,i,s){return u=>u<t?0:u>i?1:s(za(t,i,u))}function Op(t,i){t.min=i.min,t.max=i.max}function Vr(t,i){Op(t.x,i.x),Op(t.y,i.y)}function Pp(t,i){t.translate=i.translate,t.scale=i.scale,t.originPoint=i.originPoint,t.origin=i.origin}function Lp(t,i,s,u,h){return t-=i,t=Lc(t,1/s,u),h!==void 0&&(t=Lc(t,1/h,u)),t}function U3(t,i=0,s=1,u=.5,h,p=t,y=t){if(gi.test(i)&&(i=parseFloat(i),i=rn(y.min,y.max,i/100)-y.min),typeof i!="number")return;let C=rn(p.min,p.max,u);t===p&&(C-=i),t.min=Lp(t.min,i,s,C,h),t.max=Lp(t.max,i,s,C,h)}function kp(t,i,[s,u,h],p,y){U3(t,i[s],i[u],i[h],i.scale,p,y)}const z3=["x","scaleX","originX"],V3=["y","scaleY","originY"];function Bp(t,i,s,u){kp(t.x,i,z3,s?s.x:void 0,u?u.x:void 0),kp(t.y,i,V3,s?s.y:void 0,u?u.y:void 0)}function Fp(t){return t.translate===0&&t.scale===1}function $m(t){return Fp(t.x)&&Fp(t.y)}function jp(t,i){return t.min===i.min&&t.max===i.max}function W3(t,i){return jp(t.x,i.x)&&jp(t.y,i.y)}function Up(t,i){return Math.round(t.min)===Math.round(i.min)&&Math.round(t.max)===Math.round(i.max)}function qm(t,i){return Up(t.x,i.x)&&Up(t.y,i.y)}function zp(t){return or(t.x)/or(t.y)}function Vp(t,i){return t.translate===i.translate&&t.scale===i.scale&&t.originPoint===i.originPoint}class H3{constructor(){this.members=[]}add(i){Sd(this.members,i),i.scheduleRender()}remove(i){if(Ad(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(i){const s=this.members.findIndex(h=>i===h);if(s===0)return!1;let u;for(let h=s;h>=0;h--){const p=this.members[h];if(p.isPresent!==!1){u=p;break}}return u?(this.promote(u),!0):!1}promote(i,s){const u=this.lead;if(i!==u&&(this.prevLead=u,this.lead=i,i.show(),u)){u.instance&&u.scheduleRender(),i.scheduleRender(),i.resumeFrom=u,s&&(i.resumeFrom.preserveOpacity=!0),u.snapshot&&(i.snapshot=u.snapshot,i.snapshot.latestValues=u.animationValues||u.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0);const{crossfade:h}=i.options;h===!1&&u.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:s,resumingFrom:u}=i;s.onExitComplete&&s.onExitComplete(),u&&u.options.onExitComplete&&u.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G3(t,i,s){let u="";const h=t.x.translate/i.x,p=t.y.translate/i.y,y=(s==null?void 0:s.z)||0;if((h||p||y)&&(u=`translate3d(${h}px, ${p}px, ${y}px) `),(i.x!==1||i.y!==1)&&(u+=`scale(${1/i.x}, ${1/i.y}) `),s){const{transformPerspective:x,rotate:E,rotateX:T,rotateY:N,skewX:O,skewY:k}=s;x&&(u=`perspective(${x}px) ${u}`),E&&(u+=`rotate(${E}deg) `),T&&(u+=`rotateX(${T}deg) `),N&&(u+=`rotateY(${N}deg) `),O&&(u+=`skewX(${O}deg) `),k&&(u+=`skewY(${k}deg) `)}const C=t.x.scale*i.x,v=t.y.scale*i.y;return(C!==1||v!==1)&&(u+=`scale(${C}, ${v})`),u||"none"}const Pf=["","X","Y","Z"],Y3={visibility:"hidden"},Wp=1e3;let X3=0;function Lf(t,i,s,u){const{latestValues:h}=i;h[t]&&(s[t]=h[t],i.setStaticValue(t,0),u&&(u[t]=0))}function Jm(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:i}=t.options;if(!i)return;const s=om(i);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:h,layoutId:p}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Gt,!(h||p))}const{parent:u}=t;u&&!u.hasCheckedOptimisedAppear&&Jm(u)}function ex({attachResizeListener:t,defaultParent:i,measureScroll:s,checkIsScrollRoot:u,resetTransform:h}){return class{constructor(y={},C=i==null?void 0:i()){this.id=X3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Q3),this.nodes.forEach(tS),this.nodes.forEach(nS),this.nodes.forEach($3)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=y,this.root=C?C.root||C:this,this.path=C?[...C.path,C]:[],this.parent=C,this.depth=C?C.depth+1:0;for(let v=0;v<this.path.length;v++)this.path[v].shouldResetTransform=!0;this.root===this&&(this.nodes=new P3)}addEventListener(y,C){return this.eventHandlers.has(y)||this.eventHandlers.set(y,new Id),this.eventHandlers.get(y).add(C)}notifyListeners(y,...C){const v=this.eventHandlers.get(y);v&&v.notify(...C)}hasListeners(y){return this.eventHandlers.has(y)}mount(y,C=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=D3(y),this.instance=y;const{layoutId:v,layout:x,visualElement:E}=this.options;if(E&&!E.current&&E.mount(y),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),C&&(x||v)&&(this.isLayoutDirty=!0),t){let T;const N=()=>this.root.updateBlockedByResize=!1;t(y,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=L3(N,250),Ac.hasAnimatedSinceResize&&(Ac.hasAnimatedSinceResize=!1,this.nodes.forEach(Gp))})}v&&this.root.registerSharedNode(v,this),this.options.animate!==!1&&E&&(v||x)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:N,hasRelativeLayoutChanged:O,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||E.getDefaultTransition()||aS,{onLayoutAnimationStart:F,onLayoutAnimationComplete:z}=E.getProps(),H=!this.targetLayout||!qm(this.targetLayout,k),V=!N&&O;if(this.options.layoutRoot||this.resumeFrom||V||N&&(H||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,V);const ee={...Rd(B,"layout"),onPlay:F,onComplete:z};(E.shouldReduceMotion||this.options.layoutRoot)&&(ee.delay=0,ee.type=!1),this.startAnimation(ee)}else N||Gp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const y=this.getStack();y&&y.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rS),this.animationId++)}getTransformTemplate(){const{visualElement:y}=this.options;return y&&y.getProps().transformTemplate}willUpdate(y=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Jm(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let E=0;E<this.path.length;E++){const T=this.path[E];T.shouldResetTransform=!0,T.updateScroll("snapshot"),T.options.layoutRoot&&T.willUpdate(!1)}const{layoutId:C,layout:v}=this.options;if(C===void 0&&!v)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),y&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Hp);return}this.isUpdating||this.nodes.forEach(J3),this.isUpdating=!1,this.nodes.forEach(eS),this.nodes.forEach(Z3),this.nodes.forEach(K3),this.clearAllSnapshots();const C=pi.now();Wn.delta=Vi(0,1e3/60,C-Wn.timestamp),Wn.timestamp=C,Wn.isProcessing=!0,If.update.process(Wn),If.preRender.process(Wn),If.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_d.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q3),this.sharedNodes.forEach(iS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!or(this.snapshot.measuredBox.x)&&!or(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let v=0;v<this.path.length;v++)this.path[v].updateScroll();const y=this.layout;this.layout=this.measure(!1),this.layoutCorrected=yn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:C}=this.options;C&&C.notify("LayoutMeasure",this.layout.layoutBox,y?y.layoutBox:void 0)}updateScroll(y="measure"){let C=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===y&&(C=!1),C){const v=u(this.instance);this.scroll={animationId:this.root.animationId,phase:y,isRoot:v,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:v}}}resetTransform(){if(!h)return;const y=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,C=this.projectionDelta&&!$m(this.projectionDelta),v=this.getTransformTemplate(),x=v?v(this.latestValues,""):void 0,E=x!==this.prevTransformTemplateValue;y&&(C||Ks(this.latestValues)||E)&&(h(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(y=!0){const C=this.measurePageBox();let v=this.removeElementScroll(C);return y&&(v=this.removeTransform(v)),lS(v),{animationId:this.root.animationId,measuredBox:C,layoutBox:v,latestValues:{},source:this.id}}measurePageBox(){var x;const{visualElement:y}=this.options;if(!y)return yn();const C=y.measureViewportBox();if(!(((x=this.scroll)==null?void 0:x.wasRoot)||this.path.some(cS))){const{scroll:E}=this.root;E&&(Oo(C.x,E.offset.x),Oo(C.y,E.offset.y))}return C}removeElementScroll(y){var v;const C=yn();if(Vr(C,y),(v=this.scroll)!=null&&v.wasRoot)return C;for(let x=0;x<this.path.length;x++){const E=this.path[x],{scroll:T,options:N}=E;E!==this.root&&T&&N.layoutScroll&&(T.wasRoot&&Vr(C,y),Oo(C.x,T.offset.x),Oo(C.y,T.offset.y))}return C}applyTransform(y,C=!1){const v=yn();Vr(v,y);for(let x=0;x<this.path.length;x++){const E=this.path[x];!C&&E.options.layoutScroll&&E.scroll&&E!==E.root&&Po(v,{x:-E.scroll.offset.x,y:-E.scroll.offset.y}),Ks(E.latestValues)&&Po(v,E.latestValues)}return Ks(this.latestValues)&&Po(v,this.latestValues),v}removeTransform(y){const C=yn();Vr(C,y);for(let v=0;v<this.path.length;v++){const x=this.path[v];if(!x.instance||!Ks(x.latestValues))continue;td(x.latestValues)&&x.updateSnapshot();const E=yn(),T=x.measurePageBox();Vr(E,T),Bp(C,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,E)}return Ks(this.latestValues)&&Bp(C,this.latestValues),C}setTargetDelta(y){this.targetDelta=y,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(y){this.options={...this.options,...y,crossfade:y.crossfade!==void 0?y.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(y=!1){var N;const C=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=C.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=C.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=C.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==C;if(!(y||v&&this.isSharedProjectionDirty||this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:E,layoutId:T}=this.options;if(!(!this.layout||!(E||T))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const O=this.getClosestProjectingParent();O&&O.layout&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Fa(this.relativeTargetOrigin,this.layout.layoutBox,O.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=yn(),this.targetWithTransforms=yn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),Wm(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const O=this.getClosestProjectingParent();O&&!!O.resumingFrom==!!this.resumingFrom&&!O.options.layoutScroll&&O.target&&this.animationProgress!==1?(this.relativeParent=O,this.forceRelativeParentToResolveTarget(),this.relativeTarget=yn(),this.relativeTargetOrigin=yn(),Fa(this.relativeTargetOrigin,this.target,O.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||td(this.parent.latestValues)||Vm(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const y=this.getLead(),C=!!this.resumingFrom||this!==y;let v=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(v=!1),C&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(v=!1),v)return;const{layout:x,layoutId:E}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||E))return;Vr(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,N=this.treeScale.y;d3(this.layoutCorrected,this.treeScale,this.path,C),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=yn());const{target:O}=y;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Pp(this.prevProjectionDelta.x,this.projectionDelta.x),Pp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ba(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==N||!Vp(this.projectionDelta.x,this.prevProjectionDelta.x)||!Vp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(y=!0){var C;if((C=this.options.visualElement)==null||C.scheduleRender(),y){const v=this.getStack();v&&v.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Do(),this.projectionDelta=Do(),this.projectionDeltaWithTransform=Do()}setAnimationOrigin(y,C=!1){const v=this.snapshot,x=v?v.latestValues:{},E={...this.latestValues},T=Do();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!C;const N=yn(),O=v?v.source:void 0,k=this.layout?this.layout.source:void 0,B=O!==k,F=this.getStack(),z=!F||F.members.length<=1,H=!!(B&&!z&&this.options.crossfade===!0&&!this.path.some(oS));this.animationProgress=0;let V;this.mixTargetDelta=ee=>{const se=ee/1e3;Yp(T.x,y.x,se),Yp(T.y,y.y,se),this.setTargetDelta(T),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fa(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sS(this.relativeTarget,this.relativeTargetOrigin,N,se),V&&W3(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=yn()),Vr(V,this.relativeTarget)),B&&(this.animationValues=E,B3(E,x,this.latestValues,se,H,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(y){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{Ac.hasAnimatedSinceResize=!0,this.currentAnimation=_3(0,Wp,{...y,onUpdate:C=>{this.mixTargetDelta(C),y.onUpdate&&y.onUpdate(C)},onStop:()=>{},onComplete:()=>{y.onComplete&&y.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const y=this.getStack();y&&y.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Wp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const y=this.getLead();let{targetWithTransforms:C,target:v,layout:x,latestValues:E}=y;if(!(!C||!v||!x)){if(this!==y&&this.layout&&x&&tx(this.options.animationType,this.layout.layoutBox,x.layoutBox)){v=this.target||yn();const T=or(this.layout.layoutBox.x);v.x.min=y.target.x.min,v.x.max=v.x.min+T;const N=or(this.layout.layoutBox.y);v.y.min=y.target.y.min,v.y.max=v.y.min+N}Vr(C,v),Po(C,E),Ba(this.projectionDeltaWithTransform,this.layoutCorrected,C,E)}}registerSharedNode(y,C){this.sharedNodes.has(y)||this.sharedNodes.set(y,new H3),this.sharedNodes.get(y).add(C);const x=C.options.initialPromotionConfig;C.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(C):void 0})}isLead(){const y=this.getStack();return y?y.lead===this:!0}getLead(){var C;const{layoutId:y}=this.options;return y?((C=this.getStack())==null?void 0:C.lead)||this:this}getPrevLead(){var C;const{layoutId:y}=this.options;return y?(C=this.getStack())==null?void 0:C.prevLead:void 0}getStack(){const{layoutId:y}=this.options;if(y)return this.root.sharedNodes.get(y)}promote({needsReset:y,transition:C,preserveFollowOpacity:v}={}){const x=this.getStack();x&&x.promote(this,v),y&&(this.projectionDelta=void 0,this.needsReset=!0),C&&this.setOptions({transition:C})}relegate(){const y=this.getStack();return y?y.relegate(this):!1}resetSkewAndRotation(){const{visualElement:y}=this.options;if(!y)return;let C=!1;const{latestValues:v}=y;if((v.z||v.rotate||v.rotateX||v.rotateY||v.rotateZ||v.skewX||v.skewY)&&(C=!0),!C)return;const x={};v.z&&Lf("z",y,x,this.animationValues);for(let E=0;E<Pf.length;E++)Lf(`rotate${Pf[E]}`,y,x,this.animationValues),Lf(`skew${Pf[E]}`,y,x,this.animationValues);y.render();for(const E in x)y.setStaticValue(E,x[E]),this.animationValues&&(this.animationValues[E]=x[E]);y.scheduleRender()}getProjectionStyles(y){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Y3;const C={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,C.opacity="",C.pointerEvents=Sc(y==null?void 0:y.pointerEvents)||"",C.transform=v?v(this.latestValues,""):"none",C;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Sc(y==null?void 0:y.pointerEvents)||""),this.hasProjected&&!Ks(this.latestValues)&&(O.transform=v?v({},""):"none",this.hasProjected=!1),O}const E=x.animationValues||x.latestValues;this.applyTransformsToTarget(),C.transform=G3(this.projectionDeltaWithTransform,this.treeScale,E),v&&(C.transform=v(E,C.transform));const{x:T,y:N}=this.projectionDelta;C.transformOrigin=`${T.origin*100}% ${N.origin*100}% 0`,x.animationValues?C.opacity=x===this?E.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:C.opacity=x===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const O in Ga){if(E[O]===void 0)continue;const{correct:k,applyTo:B,isCSSVariable:F}=Ga[O],z=C.transform==="none"?E[O]:k(E[O],x);if(B){const H=B.length;for(let V=0;V<H;V++)C[B[V]]=z}else F?this.options.visualElement.renderState.vars[O]=z:C[O]=z}return this.options.layoutId&&(C.pointerEvents=x===this?Sc(y==null?void 0:y.pointerEvents)||"":"none"),C}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(y=>{var C;return(C=y.currentAnimation)==null?void 0:C.stop()}),this.root.nodes.forEach(Hp),this.root.sharedNodes.clear()}}}function Z3(t){t.updateLayout()}function K3(t){var s;const i=((s=t.resumeFrom)==null?void 0:s.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:u,measuredBox:h}=t.layout,{animationType:p}=t.options,y=i.source!==t.layout.source;p==="size"?Wr(T=>{const N=y?i.measuredBox[T]:i.layoutBox[T],O=or(N);N.min=u[T].min,N.max=N.min+O}):tx(p,i.layoutBox,u)&&Wr(T=>{const N=y?i.measuredBox[T]:i.layoutBox[T],O=or(u[T]);N.max=N.min+O,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[T].max=t.relativeTarget[T].min+O)});const C=Do();Ba(C,u,i.layoutBox);const v=Do();y?Ba(v,t.applyTransform(h,!0),i.measuredBox):Ba(v,u,i.layoutBox);const x=!$m(C);let E=!1;if(!t.resumeFrom){const T=t.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:N,layout:O}=T;if(N&&O){const k=yn();Fa(k,i.layoutBox,N.layoutBox);const B=yn();Fa(B,u,O.layoutBox),qm(k,B)||(E=!0),T.options.layoutRoot&&(t.relativeTarget=B,t.relativeTargetOrigin=k,t.relativeParent=T)}}}t.notifyListeners("didUpdate",{layout:u,snapshot:i,delta:v,layoutDelta:C,hasLayoutChanged:x,hasRelativeLayoutChanged:E})}else if(t.isLead()){const{onExitComplete:u}=t.options;u&&u()}t.options.transition=void 0}function Q3(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $3(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q3(t){t.clearSnapshot()}function Hp(t){t.clearMeasurements()}function J3(t){t.isLayoutDirty=!1}function eS(t){const{visualElement:i}=t.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tS(t){t.resolveTargetDelta()}function nS(t){t.calcProjection()}function rS(t){t.resetSkewAndRotation()}function iS(t){t.removeLeadSnapshot()}function Yp(t,i,s){t.translate=rn(i.translate,0,s),t.scale=rn(i.scale,1,s),t.origin=i.origin,t.originPoint=i.originPoint}function Xp(t,i,s,u){t.min=rn(i.min,s.min,u),t.max=rn(i.max,s.max,u)}function sS(t,i,s,u){Xp(t.x,i.x,s.x,u),Xp(t.y,i.y,s.y,u)}function oS(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aS={duration:.45,ease:[.4,0,.1,1]},Zp=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Kp=Zp("applewebkit/")&&!Zp("chrome/")?Math.round:Hr;function Qp(t){t.min=Kp(t.min),t.max=Kp(t.max)}function lS(t){Qp(t.x),Qp(t.y)}function tx(t,i,s){return t==="position"||t==="preserve-aspect"&&!u3(zp(i),zp(s),.2)}function cS(t){var i;return t!==t.root&&((i=t.scroll)==null?void 0:i.wasRoot)}const uS=ex({attachResizeListener:(t,i)=>Ka(t,"resize",i),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kf={current:void 0},nx=ex({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kf.current){const t=new uS({});t.mount(window),t.setOptions({layoutScroll:!0}),kf.current=t}return kf.current},resetTransform:(t,i)=>{t.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fS={pan:{Feature:b3},drag:{Feature:I3,ProjectionNode:nx,MeasureLayout:Zm}};function $p(t,i,s){const{props:u}=t;t.animationState&&u.whileHover&&t.animationState.setActive("whileHover",s==="Start");const h="onHover"+s,p=u[h];p&&Gt.postRender(()=>p(i,nl(i)))}class dS extends Ss{mount(){const{current:i}=this.node;i&&(this.unmount=Cv(i,(s,u)=>($p(this.node,u,"Start"),h=>$p(this.node,h,"End"))))}unmount(){}}class hS extends Ss{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tl(Ka(this.node.current,"focus",()=>this.onFocus()),Ka(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function qp(t,i,s){const{props:u}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&u.whileTap&&t.animationState.setActive("whileTap",s==="Start");const h="onTap"+(s==="End"?"":s),p=u[h];p&&Gt.postRender(()=>p(i,nl(i)))}class pS extends Ss{mount(){const{current:i}=this.node;i&&(this.unmount=Tv(i,(s,u)=>(qp(this.node,u,"Start"),(h,{success:p})=>qp(this.node,h,p?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const id=new WeakMap,Bf=new WeakMap,gS=t=>{const i=id.get(t.target);i&&i(t)},mS=t=>{t.forEach(gS)};function xS({root:t,...i}){const s=t||document;Bf.has(s)||Bf.set(s,{});const u=Bf.get(s),h=JSON.stringify(i);return u[h]||(u[h]=new IntersectionObserver(mS,{root:t,...i})),u[h]}function yS(t,i,s){const u=xS(i);return id.set(t,s),u.observe(t),()=>{id.delete(t),u.unobserve(t)}}const wS={some:0,all:1};class vS extends Ss{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:s,margin:u,amount:h="some",once:p}=i,y={root:s?s.current:void 0,rootMargin:u,threshold:typeof h=="number"?h:wS[h]},C=v=>{const{isIntersecting:x}=v;if(this.isInView===x||(this.isInView=x,p&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:E,onViewportLeave:T}=this.node.getProps(),N=x?E:T;N&&N(v)};return yS(this.node.current,y,C)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:s}=this.node;["amount","margin","root"].some(CS(i,s))&&this.startObserver()}unmount(){}}function CS({viewport:t={}},{viewport:i={}}={}){return s=>t[s]!==i[s]}const ES={inView:{Feature:vS},tap:{Feature:pS},focus:{Feature:hS},hover:{Feature:dS}},SS={layout:{ProjectionNode:nx,MeasureLayout:Zm}},sd={current:null},rx={current:!1};function AS(){if(rx.current=!0,!!Cd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),i=()=>sd.current=t.matches;t.addListener(i),i()}else sd.current=!1}const TS=[...Nm,qn,Es],IS=t=>TS.find(bm(t)),bS=new WeakMap;function NS(t,i,s){for(const u in i){const h=i[u],p=s[u];if(Jn(h))t.addValue(u,h);else if(Jn(p))t.addValue(u,Wa(h,{owner:t}));else if(p!==h)if(t.hasValue(u)){const y=t.getValue(u);y.liveStyle===!0?y.jump(h):y.hasAnimated||y.set(h)}else{const y=t.getStaticValue(u);t.addValue(u,Wa(y!==void 0?y:h,{owner:t}))}}for(const u in s)i[u]===void 0&&t.removeValue(u);return i}const Jp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RS{scrapeMotionValuesFromProps(i,s,u){return{}}constructor({parent:i,props:s,presenceContext:u,reducedMotionConfig:h,blockInitialAnimation:p,visualState:y},C={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const O=pi.now();this.renderScheduledAt<O&&(this.renderScheduledAt=O,Gt.render(this.render,!1,!0))};const{latestValues:v,renderState:x,onUpdate:E}=y;this.onUpdate=E,this.latestValues=v,this.baseTarget={...v},this.initialValues=s.initial?{...v}:{},this.renderState=x,this.parent=i,this.props=s,this.presenceContext=u,this.depth=i?i.depth+1:0,this.reducedMotionConfig=h,this.options=C,this.blockInitialAnimation=!!p,this.isControllingVariants=Hc(s),this.isVariantNode=Hg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:T,...N}=this.scrapeMotionValuesFromProps(s,{},this);for(const O in N){const k=N[O];v[O]!==void 0&&Jn(k)&&k.set(v[O],!1)}}mount(i){this.current=i,bS.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,u)=>this.bindToMotionValue(u,s)),rx.current||AS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cs(this.notifyUpdate),Cs(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const s=this.features[i];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(i,s){this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)();const u=to.has(i);u&&this.onBindTransform&&this.onBindTransform();const h=s.on("change",C=>{this.latestValues[i]=C,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),u&&this.projection&&(this.projection.isTransformDirty=!0)}),p=s.on("renderRequest",this.scheduleRender);let y;window.MotionCheckAppearSync&&(y=window.MotionCheckAppearSync(this,i,s)),this.valueSubscriptions.set(i,()=>{h(),p(),y&&y(),s.owner&&s.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in Bo){const s=Bo[i];if(!s)continue;const{isEnabled:u,Feature:h}=s;if(!this.features[i]&&h&&u(this.props)&&(this.features[i]=new h(this)),this.features[i]){const p=this.features[i];p.isMounted?p.update():(p.mount(),p.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):yn()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,s){this.latestValues[i]=s}update(i,s){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let u=0;u<Jp.length;u++){const h=Jp[u];this.propEventSubscriptions[h]&&(this.propEventSubscriptions[h](),delete this.propEventSubscriptions[h]);const p="on"+h,y=i[p];y&&(this.propEventSubscriptions[h]=this.on(h,y))}this.prevMotionValues=NS(this,this.scrapeMotionValuesFromProps(i,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(i),()=>s.variantChildren.delete(i)}addValue(i,s){const u=this.values.get(i);s!==u&&(u&&this.removeValue(i),this.bindToMotionValue(i,s),this.values.set(i,s),this.latestValues[i]=s.get())}removeValue(i){this.values.delete(i);const s=this.valueSubscriptions.get(i);s&&(s(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,s){if(this.props.values&&this.props.values[i])return this.props.values[i];let u=this.values.get(i);return u===void 0&&s!==void 0&&(u=Wa(s===null?void 0:s,{owner:this}),this.addValue(i,u)),u}readValue(i,s){let u=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return u!=null&&(typeof u=="string"&&(Tm(u)||gm(u))?u=parseFloat(u):!IS(u)&&Es.test(s)&&(u=Em(i,s)),this.setBaseTarget(i,Jn(u)?u.get():u)),Jn(u)?u.get():u}setBaseTarget(i,s){this.baseTarget[i]=s}getBaseTarget(i){var p;const{initial:s}=this.props;let u;if(typeof s=="string"||typeof s=="object"){const y=Hd(this.props,s,(p=this.presenceContext)==null?void 0:p.custom);y&&(u=y[i])}if(s&&u!==void 0)return u;const h=this.getBaseTargetFromProps(this.props,i);return h!==void 0&&!Jn(h)?h:this.initialValues[i]!==void 0&&u===void 0?void 0:this.baseTarget[i]}on(i,s){return this.events[i]||(this.events[i]=new Id),this.events[i].add(s)}notify(i,...s){this.events[i]&&this.events[i].notify(...s)}}class ix extends RS{constructor(){super(...arguments),this.KeyframeResolver=Rm}sortInstanceNodePosition(i,s){return i.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(i,s){return i.style?i.style[s]:void 0}removeValueFromRenderState(i,{vars:s,style:u}){delete s[i],delete u[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;Jn(i)&&(this.childSubscription=i.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function MS(t){return window.getComputedStyle(t)}class _S extends ix{constructor(){super(...arguments),this.type="html",this.renderInstance=tm}readValueFromInstance(i,s){if(to.has(s))return WC(i,s);{const u=MS(i),h=(kd(s)?u.getPropertyValue(s):u[s])||0;return typeof h=="string"?h.trim():h}}measureInstanceViewportBox(i,{transformPagePoint:s}){return Hm(i,s)}build(i,s,u){jd(i,s,u.transformTemplate)}scrapeMotionValuesFromProps(i,s,u){return Gd(i,s,u)}}class DS extends ix{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=yn,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&em(this.current,this.renderState)}}getBaseTargetFromProps(i,s){return i[s]}readValueFromInstance(i,s){if(to.has(s)){const u=Cm(s);return u&&u.default||0}return s=nm.has(s)?s:Ld(s),i.getAttribute(s)}scrapeMotionValuesFromProps(i,s,u){return im(i,s,u)}onBindTransform(){this.current&&!this.renderState.dimensions&&Gt.postRender(this.updateDimensions)}build(i,s,u){Vd(i,s,this.isSVGTag,u.transformTemplate)}renderInstance(i,s,u,h){rm(i,s,u,h)}mount(i){this.isSVGTag=Wd(i.tagName),super.mount(i)}}const OS=(t,i)=>zd(t)?new DS(i):new _S(i,{allowProjection:t!==P.Fragment}),PS=mC({...n3,...ES,...fS,...SS},OS),Bi=Dv(PS),LS=()=>{const{login:t,signup:i,user:s,logout:u,checkAuth:h}=P.useContext(xi),[p,y]=P.useState(""),[C,v]=P.useState(""),[x,E]=P.useState(""),[T,N]=P.useState(null),[O,k]=P.useState(null),[B,F]=P.useState(""),[z,H]=P.useState(0),[V,ee]=P.useState({x:0,y:0}),[se,ue]=P.useState(1),[J,ce]=P.useState(null),[q,Me]=P.useState(!1),[Pe,be]=P.useState(!1),[Fe,Re]=P.useState({}),[Q,Ve]=P.useState({}),[we,he]=P.useState(!1),[De,fe]=P.useState(!1),[Z,re]=P.useState(null),me=ni(),ve=vi(),He=new URLSearchParams(ve.search),pe=He.get("redirect"),ze=He.get("code");P.useEffect(()=>{z===2&&x&&ft(x)&&(he(!0),Ve($e=>({...$e,displayName:!0})),Re($e=>({...$e,displayName:""})))},[z,x]);const _e=$e=>{const St=/^[a-z0-9]+$/;return $e.length>=2&&St.test($e)},it=$e=>$e.length>=2,ft=$e=>$e.length>=2,_t=()=>{z<Ce.length-1&&(z===0&&!x&&(E(p),Ve($e=>({...$e,displayName:!0})),Re($e=>({...$e,displayName:""}))),z===1&&x&&x.length>=2?he(!0):he(!1),H($e=>$e+1))},er=()=>{if(z>0){const $e=z-1;H($e);const St=Ce[$e];if(St.validate){const At=St.value;St.validate(At)&&he(!0)}else he(!0)}},ot=($e,St,At)=>{At($e.target.value);const Pn=$e.target.value;St(Pn)?(Ve(wt=>({...wt,[Ce[z].id]:!0})),Re(wt=>({...wt,[Ce[z].id]:""})),he(!0)):(Ve(wt=>({...wt,[Ce[z].id]:!1})),Re(wt=>({...wt,[Ce[z].id]:"Must be at least 2 characters"})),he(!1))},Hn=$e=>{const St=$e.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(St),_e(St)?(Ve(At=>({...At,username:!0})),Re(At=>({...At,username:""})),he(!0)):(Ve(At=>({...At,username:!1})),Re(At=>({...At,username:"Must be at least 2 characters"})),he(!1))},Ut=$e=>{ot($e,it,v)},gr=$e=>{ot($e,ft,E)},xt=$e=>{const St=$e.target.files[0];if(St){const At=new FileReader;At.onload=Pn=>{const wt=new Image;wt.onload=()=>{let Kt=wt.width,Dt=wt.height;const Lt=1500;Kt>Dt&&Kt>Lt?(Dt=Dt*Lt/Kt,Kt=Lt):Dt>Kt&&Dt>Lt&&(Kt=Kt*Lt/Dt,Dt=Lt);const Ln=document.createElement("canvas");Ln.width=Kt,Ln.height=Dt,Ln.getContext("2d").drawImage(wt,0,0,Kt,Dt);const Ci=Ln.toDataURL("image/jpeg",.75);N(St),k(Ci),Me(!0),Ve(It=>({...It,image:!0})),Re(It=>({...It,image:""})),he(!0)},wt.src=Pn.target.result},At.readAsDataURL(St)}},yt=($e,St)=>{ce(St)},tt=async()=>{try{const $e=await og(O,J);k($e),Me(!1)}catch($e){console.error("Error cropping the image:",$e),F("Failed to crop image. Please try again.")}},ar=async $e=>{if($e.preventDefault(),be(!0),F(""),!p||!C||!x){F("All fields are required"),be(!1);return}if(!T||!O){F("Your profile picture is required👆🏼"),be(!1);return}try{const At=await fetch(window.server_url+"/signup",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:p,password:C})}),Pn=await At.json();if(Pn.error==="Username already taken"){F("Username is taken"),be(!1);return}if(!At.ok){F(Pn.message||"Signup failed"),be(!1);return}t(Pn),await h();const wt=localStorage.getItem("access_token");if(!wt)throw new Error("Authentication failed");let Kt=null;if(T)Kt=O,Kt=Kt.split(",")[1];else{const tr=await(await(await fetch("/assets/fakeprofile.png")).blob()).arrayBuffer();Kt=btoa(new Uint8Array(tr).reduce((Ci,It)=>Ci+String.fromCharCode(It),""))}if(!(await fetch(`${window.server_url}/update_profile`,{method:"POST",headers:{Authorization:`Bearer ${wt}`,"Content-Type":"application/json"},body:JSON.stringify({name:x,image_data:Kt})})).ok)throw new Error("Failed to update profile");await h(),me(pe==="lobby"?ze?`/lobby?code=${ze}`:"/?showLobbyModal=true":pe==="product-selection"?"/product-selection":"/")}catch(St){console.error("Error:",St),F("An error occurred. Please try again.")}be(!1)},Ce=[{id:"username",label:"Username",value:p,onChange:Hn,type:"text",placeholder:"Enter a username",validate:_e},{id:"password",label:"Password",value:C,onChange:Ut,type:"text",placeholder:"Create a password",validate:it},{id:"displayName",label:"Display Name (what people will see)",value:x,onChange:gr,type:"text",placeholder:"Enter your preferred name",validate:ft},{id:"image",label:"Upload a Selfie so people can find you",type:"file",onChange:xt,accept:"image/*"}];return R.jsxs("div",{className:"signup-container",children:[R.jsx("button",{onClick:()=>me("/"),className:"homescreen-button",children:"Home"}),R.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),R.jsx("h3",{className:"signup-header",children:"Sign Up to Join"}),R.jsxs("p",{className:"login-link-text",children:["Already have an account? ",R.jsx("a",{href:"#",onClick:$e=>{$e.preventDefault(),me("/login")},className:"login-link",children:"Login here"})]}),R.jsxs("div",{className:"step-form-container",children:[R.jsx("div",{className:"step-progress",children:Ce.map(($e,St)=>R.jsx("div",{className:`progress-dot ${St===z?"active":""} ${St<z?"completed":""}`},St))}),R.jsxs("form",{onSubmit:ar,children:[R.jsx(k1,{mode:"wait",initial:!1,children:R.jsxs(Bi.div,{initial:{opacity:0,x:8},animate:{opacity:1,x:0},exit:{opacity:0,x:-8},transition:{type:"spring",stiffness:500,damping:25,mass:.3},className:"step active",style:{willChange:"transform, opacity"},children:[R.jsx("div",{className:"step-content",children:R.jsxs(Bi.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[R.jsx("label",{className:"step-label",children:Ce[z].label}),R.jsx(Bi.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.15,ease:"easeOut"},children:Ce[z].type==="file"?R.jsx("div",{className:"image-upload-container",children:q?R.jsxs("div",{className:"cropper-container",children:[R.jsx("div",{className:"cropper-wrapper",children:R.jsx(sg,{image:O,crop:V,zoom:se,aspect:1,onCropComplete:yt,onCropChange:ee,onZoomChange:ue})}),R.jsxs("div",{className:"cropper-controls",children:[R.jsx("button",{type:"button",onClick:()=>{Me(!1),k(null),N(null)},className:"cancel-crop-button",children:"Cancel"}),R.jsx("button",{type:"button",onClick:tt,className:"save-crop-button",children:"Good"})]})]}):R.jsxs(R.Fragment,{children:[R.jsx("input",{type:"file",onChange:Ce[z].onChange,accept:Ce[z].accept,className:"step-input"}),O&&R.jsx("div",{children:R.jsx("img",{src:O,alt:"Profile preview",className:"profile-preview-image"})})]})}):R.jsx("input",{type:Ce[z].type,value:Ce[z].value,onChange:Ce[z].onChange,placeholder:Ce[z].placeholder,className:"step-input",autoFocus:!0})}),R.jsxs(k1,{mode:"wait",children:[Fe[Ce[z].id]&&R.jsx(Bi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"step-error",children:Fe[Ce[z].id]}),Q[Ce[z].id]&&R.jsx(Bi.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"step-success",children:"✓ Valid"})]})]})}),!q&&R.jsxs("div",{className:"button-container",children:[z>0&&R.jsx(Bi.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:er,className:"backz-button",children:"← Back"}),we&&z<Ce.length-1&&R.jsx(Bi.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},type:"button",onClick:_t,className:"nextz-button",children:"Next →"})]})]},z)}),B&&R.jsx(Bi.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"error-message",children:B}),z===Ce.length-1&&R.jsx(Bi.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},type:"submit",className:"primary-button",disabled:Pe,children:Pe?"Loading...":"Complete Signup"})]})]})]})},kS=5e3,sx=(t,i=null,s=null)=>{P.useEffect(()=>{const u=async()=>{try{const p=s?`${window.server_url}/display_lobby_metadata?lobby_code=${s}`:`${window.server_url}/display_lobby_metadata`,y=localStorage.getItem("access_token"),C=await fetch(p,{headers:{Authorization:`Bearer ${y}`,lobby_code:s}});if(!C.ok){console.error("Failed to fetch lobby metadata");return}const v=await C.json();t(v.player_count),i&&i(v.lobby_state)}catch(p){console.error("Error fetching lobby metadata:",p)}};u();const h=setInterval(u,kS);return()=>clearInterval(h)},[t,i,s])},BS=()=>{const[t,i]=P.useState(!1),[s,u]=P.useState(!1),[h,p]=P.useState(""),[y,C]=P.useState(""),[v,x]=P.useState(""),[E,T]=P.useState(null);Sg();const{user:N,userProfile:O,checkAuth:k,permissions:B}=P.useContext(xi),[F,z]=P.useState(null),[H,V]=P.useState(null),[ee,se]=P.useState([]),[ue,J]=P.useState(!1),ce=ni();sx(z,V);const[q,Me]=P.useState(!1);P.useRef(null);const Pe=P.useRef(null),be=async()=>{if(N){J(!0);try{const fe=localStorage.getItem("access_token"),Z=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${fe}`}});if(Z.ok){const re=await Z.json();console.log("User's active lobbies:",re),re&&re.lobbies&&Array.isArray(re.lobbies)?se(re.lobbies):se([])}else console.error("Failed to fetch user's active lobbies"),se([])}catch(fe){console.error("Error fetching user's active lobbies:",fe),se([])}finally{J(!1)}}};P.useEffect(()=>{N&&be()},[N]),P.useEffect(()=>{k()},[]),P.useEffect(()=>{if(new URLSearchParams(window.location.search).get("showLobbyModal")==="true"&&N){u(!0);const re=window.location.pathname;window.history.replaceState({},"",re)}},[N]);const Fe=fe=>{(B==="admin"||B==="organizer")&&ce(`/admin_lobby_view?code=${fe}`)},Re=fe=>{fe.preventDefault();const re=new FormData(fe.target).get("name");if(!re||re.trim()===""){C("Please enter a lobby code");return}const me=re.toLowerCase().replace(/[^a-z0-9]/g,"");if(me===""){C("Lobby code must contain only letters and numbers");return}x(me),u(!1),console.log(me),p(me),ce(`/lobby?code=${me}`),p(""),C("")},Q=()=>{Me(!0),setTimeout(()=>{if(!document.getElementById("qr-reader")){console.error("QR reader element not found"),Me(!1);return}const Z=new nv("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,disableFlip:!1,rememberLastUsedCamera:!0,showScanButton:!1,showStopButton:!1},!1);Pe.current=Z,Z.render(Ve,we),setTimeout(()=>{const re=document.querySelectorAll("#qr-reader__dashboard button");if(re.length>0){const me=re[re.length-1];me.style.display="none"}},500)},100)},Ve=fe=>{he(),window.location.href=fe},we=fe=>{fe&&fe.includes&&(fe.includes("No MultiFormat Readers")||fe.includes("No MultiFormat Readers")||fe.includes("No MultiFormat Readers"))&&console.warn(`QR code scanning error: ${fe}`)},he=()=>{Me(!1),Pe.current&&(Pe.current.clear(),Pe.current=null)},De=()=>s?R.jsx("div",{className:"lobby-modal-overlay",children:R.jsxs("div",{className:"lobby-modal-container",children:[R.jsx("button",{onClick:()=>{u(!1),p(""),C(""),he()},className:"lobby-modal-close",children:"×"}),R.jsx("h2",{className:"lobby-modal-title",children:"Join Lobby"}),R.jsxs("form",{onSubmit:Re,className:"lobby-form",children:[R.jsxs("div",{className:"lobby-input-container",children:[R.jsx("input",{type:"text",name:"name",placeholder:"Enter Lobby Code",className:"lobby-input",pattern:"[a-zA-Z0-9]+",title:"Only letters and numbers are allowed",required:!0}),y&&R.jsx("div",{className:"lobby-error-message",children:y})]}),R.jsx("button",{type:"submit",className:"lobby-submit-button",children:"Join"}),q?R.jsxs("div",{className:"lobby-scan-container",children:[R.jsx("div",{id:"qr-reader",className:"lobby-scan-video"}),R.jsx("button",{type:"button",className:"lobby-scan-close",onClick:he,children:"Close Scanner"})]}):R.jsx("button",{type:"button",className:"lobby-scan-button",onClick:Q,children:"Scan"})]})]})}):null;return R.jsxs("div",{style:{position:"relative",height:"100vh",overflow:"hidden"},children:[R.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,poster:"/assets/demo_app_home_video_cover.jpg",children:[R.jsx("source",{src:"/assets/demo_app_home_video_X2_small.mp4",type:"video/mp4"}),R.jsx("source",{src:"/assets/app_home_video_2.webm",type:"video/webm"}),R.jsx("img",{src:"/assets/demo_app_home_video_cover.jpg",alt:"Background fallback",style:{width:"100%",height:"100%",objectFit:"cover"}}),"Your browser does not support the video tag."]}),R.jsxs("div",{style:{position:"relative",zIndex:1,color:"white"},children:[R.jsx("div",{style:{position:"absolute",top:"-.5rem",left:"50%",transform:"translateX(-50%)"},children:R.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Logo",style:{width:"120px",height:"120px",objectFit:"contain"}})}),R.jsxs("div",{style:{marginTop:"10%",display:"flex",flexDirection:"column"},children:[R.jsx(rv,{user:N}),N&&R.jsx("div",{style:{position:"absolute",display:"flex",alignItems:"center",top:"-.8rem",right:"3%"},children:R.jsx("button",{style:{width:"100px",height:"35px",borderRadius:"13px",boxShadow:"0 0 4px rgba(74, 58, 58, 0.5)",outline:"1px solid rgba(252, 240, 240, 0.6)",fontWeight:"900",fontSize:"1rem",padding:"10px 10px",display:"flex",justifyContent:"center",alignItems:"center"},className:"login-button",onClick:()=>i(!0),children:R.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.6px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Profile"})})})]}),t&&R.jsx(Y2,{onSubmit:fe=>{i(!1)},onClose:()=>i(!1),existingProfile:O}),R.jsx("div",{style:{position:"absolute",top:"5rem",left:"50%",transform:"translateX(-50%)",width:"90%",maxWidth:"1200px",textAlign:"center",marginBottom:"4rem",marginLeft:"auto",marginRight:"auto",zIndex:1},children:R.jsx("h2",{className:"welcome-header",style:{color:"#ffffff",fontSize:"1rem",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:"4px 4px 8px rgba(0,0,0,0.9)",margin:0},children:N&&O&&(B==="admin"||B==="organizer")?(()=>{const fe="Elevate your events",Z=O?O.name.slice(0,15):"";return R.jsxs(R.Fragment,{children:[fe.split("").map((re,me)=>R.jsx("span",{style:{"--i":me+1,marginRight:re===" "?"0.5em":"1px"},children:re},`main-${me}`)),R.jsx("br",{}),Z&&Z.split("").map((re,me)=>R.jsx("span",{style:{"--i":me+1,marginRight:re===" "?"0.5em":"1px"},children:re},`name-${me}`))]})})():(N&&O?`Break the Ice ${O.name.slice(0,10)}`:"Break the Ice").split("").map((Z,re)=>R.jsx("span",{style:{"--i":re+1,marginRight:Z===" "?"0.5em":"1px"},children:Z},re))})}),R.jsx("div",{style:{marginTop:"20rem",width:"94%",marginLeft:"auto",marginRight:"auto",display:"flex",flexDirection:"column",gap:"1rem"},children:R.jsx("div",{className:"event-item",style:{width:"50%",maxWidth:"400px",margin:"0 auto",padding:"10px 20px",borderRadius:"16px",marginBottom:"20px",cursor:"pointer",opacity:1,display:"flex",flexDirection:"column",alignItems:"center",":hover":{transform:"translateY(-5px)"}},children:R.jsxs("div",{style:{display:"flex",gap:"18px",flexDirection:"column"},children:[R.jsx("button",{className:`primary-button ${B!=="admin"&&B!=="organizer"?"join-lobby-button":""}`,onClick:()=>N?u(!0):ce("/signup?redirect=lobby"),disabled:F===null||H==="terminate",style:{opacity:1,cursor:F===null||H==="terminate"?"not-allowed":"pointer",padding:"12px 24px",backgroundColor:B!=="admin"&&B!=="organizer"?"transparent":"#144dff",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",margin:"0 auto",display:"block",position:"relative",zIndex:1,outline:B!=="admin"&&B!=="organizer"?"none":"1px solid rgba(58, 53, 53, 0.7)",":hover":{backgroundColor:B!=="admin"&&B!=="organizer"?"transparent":"#535bf2",transform:"scale(1.02)"}},children:R.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Join A Lobby"})}),B!=="admin"&&B!=="organizer"&&R.jsx("button",{className:"primary-button join-lobby-button",onClick:()=>window.location.href="https://www.meet-tx.com/become-an-organizer",style:{padding:"12px 24px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",margin:"0 auto",display:"block",position:"relative",zIndex:1,outline:"none",":hover":{transform:"scale(1.02)"}},children:R.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Become a Host"})}),(B==="admin"||B==="organizer")&&R.jsx("button",{className:`primary-button ${B==="admin"||B==="organizer"?"create-lobby-button":""}`,onClick:()=>ce("/create_lobby"),style:{padding:"12px 24px",backgroundColor:"transparent",color:"white",border:"none",borderRadius:"14px",fontWeight:"900",fontSize:"1.2rem",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",transition:"all 0.2s ease",minWidth:"180px",whiteSpace:"nowrap",marginTop:"-5px",position:"relative",zIndex:1,":hover":{transform:"scale(1.02)"}},children:R.jsx("span",{style:{textShadow:"0 0 1px rgba(58, 53, 53, 0.5)",WebkitTextStroke:"0.5px rgba(58, 53, 53, 0.4)",color:"inherit"},children:"Create Lobby"})})]})})}),(B==="admin"||B==="organizer")&&R.jsx("div",{className:"events-list",style:{marginTop:"2rem",width:"65%",height:"60%",marginLeft:"auto",marginRight:"auto",marginBottom:".5rem"},children:ue?R.jsx("div",{style:{textAlign:"center",color:"white"},children:R.jsx("p",{children:"Loading your lobbies..."})}):ee.length>0?R.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem"},children:ee.map((fe,Z)=>R.jsxs("div",{className:"card",style:{width:"200px",background:"#ffffff",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.6)",border:"1px solid rgba(255, 255, 255, 0.5)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out",cursor:"pointer",padding:"1.5rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},onClick:()=>Fe(fe),onMouseEnter:re=>{re.currentTarget.style.transform="translateY(-5px)",re.currentTarget.style.boxShadow="0 12px 40px rgba(0, 0, 0, 0.7)"},onMouseLeave:re=>{re.currentTarget.style.transform="translateY(0)",re.currentTarget.style.boxShadow="0 8px 32px rgba(0, 0, 0, 0.6)"},children:[R.jsx("div",{className:"glow-button",style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#144dff",marginBottom:"1rem",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold"},children:fe&&fe.length>0?fe.charAt(0).toUpperCase():"?"}),R.jsxs("h3",{style:{margin:"0 0 0.5rem 0",color:"#2d3748",fontWeight:"600",fontSize:"1.1em",textAlign:"center"},children:["Lobby ",fe||"Unknown"]}),R.jsx("p",{style:{margin:"0",color:"#4299e1",fontWeight:"500",fontSize:"0.9em",textAlign:"center"},children:"Click to Control"})]},Z))}):R.jsx("div",{style:{}})})]}),R.jsx(De,{})]})};function FS(){const{pathname:t}=vi();return P.useEffect(()=>{window.scrollTo(0,0)},[t]),null}const jS=()=>{const{login:t,signup:i,user:s,logout:u,checkAuth:h}=P.useContext(xi),[p,y]=P.useState(""),[C,v]=P.useState(""),[x,E]=P.useState(""),[T,N]=P.useState(""),[O,k]=P.useState(!0),[B,F]=P.useState({}),[z,H]=P.useState(!1),V=ni(),ee=J=>{const ce=/^[a-z0-9]+$/;return J.length>=2&&ce.test(J)},se=J=>{const ce=J.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");y(ce),ce.length>0?H(!0):H(!1),ee(ce)?F(q=>({...q,username:""})):F(q=>({...q,username:" "}))},ue=async J=>{if(J.preventDefault(),N(""),!ee(p)){N("Please enter a valid username");return}try{const ce=O?"/login":"/signup",q=await fetch(window.server_url+ce,{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({username:p,password:C}),mode:"cors"});if(q.ok){const Me=await q.json();t(Me),h(),V("/")}else{const Me=await q.json();N(Me.message||`${O?"Login":"Signup"} failed`)}}catch(ce){N("Network error occurred. Please try again."),console.error("Error:",ce)}};return R.jsxs("div",{className:"login-container",children:[R.jsx("button",{onClick:()=>V("/"),className:"homescreen-button",children:"Home"}),R.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",className:"logo-image"}),R.jsx("h1",{className:"login-header",children:"Login"}),R.jsxs("div",{className:"login-signup-form",children:[T&&R.jsx("div",{className:"error-message",children:T}),R.jsxs("form",{onSubmit:ue,children:[R.jsxs("div",{className:"form-group",children:[R.jsx("input",{type:"text",placeholder:"Username",className:"login-input",value:p,onChange:se,required:!0}),z&&R.jsx("div",{className:"step-success",children:"lowercase letters and numbers only"})]}),R.jsx("div",{className:"form-group",children:R.jsx("input",{type:"text",placeholder:"Password",className:"login-input",value:C,onChange:J=>v(J.target.value),required:!0})}),R.jsx("button",{type:"submit",className:"login-primary-button",children:"Login"})]})]})]})},US=()=>{const t=ni(),{logout:i}=P.useContext(xi);return localStorage.removeItem("access_token"),P.useEffect(()=>{console.log("LogoutPage useEffect"),setTimeout(()=>{i(),t("/")},100)},[]),R.jsx("div",{children:"Logged out redirecting to homescreen"})};var zS=Object.defineProperty,kc=Object.getOwnPropertySymbols,ox=Object.prototype.hasOwnProperty,ax=Object.prototype.propertyIsEnumerable,eg=(t,i,s)=>i in t?zS(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s,od=(t,i)=>{for(var s in i||(i={}))ox.call(i,s)&&eg(t,s,i[s]);if(kc)for(var s of kc(i))ax.call(i,s)&&eg(t,s,i[s]);return t},ad=(t,i)=>{var s={};for(var u in t)ox.call(t,u)&&i.indexOf(u)<0&&(s[u]=t[u]);if(t!=null&&kc)for(var u of kc(t))i.indexOf(u)<0&&ax.call(t,u)&&(s[u]=t[u]);return s};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var eo;(t=>{const i=class pt{constructor(v,x,E,T){if(this.version=v,this.errorCorrectionLevel=x,this.modules=[],this.isFunction=[],v<pt.MIN_VERSION||v>pt.MAX_VERSION)throw new RangeError("Version value out of range");if(T<-1||T>7)throw new RangeError("Mask value out of range");this.size=v*4+17;let N=[];for(let k=0;k<this.size;k++)N.push(!1);for(let k=0;k<this.size;k++)this.modules.push(N.slice()),this.isFunction.push(N.slice());this.drawFunctionPatterns();const O=this.addEccAndInterleave(E);if(this.drawCodewords(O),T==-1){let k=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const F=this.getPenaltyScore();F<k&&(T=B,k=F),this.applyMask(B)}}h(0<=T&&T<=7),this.mask=T,this.applyMask(T),this.drawFormatBits(T),this.isFunction=[]}static encodeText(v,x){const E=t.QrSegment.makeSegments(v);return pt.encodeSegments(E,x)}static encodeBinary(v,x){const E=t.QrSegment.makeBytes(v);return pt.encodeSegments([E],x)}static encodeSegments(v,x,E=1,T=40,N=-1,O=!0){if(!(pt.MIN_VERSION<=E&&E<=T&&T<=pt.MAX_VERSION)||N<-1||N>7)throw new RangeError("Invalid value");let k,B;for(k=E;;k++){const V=pt.getNumDataCodewords(k,x)*8,ee=y.getTotalBits(v,k);if(ee<=V){B=ee;break}if(k>=T)throw new RangeError("Data too long")}for(const V of[pt.Ecc.MEDIUM,pt.Ecc.QUARTILE,pt.Ecc.HIGH])O&&B<=pt.getNumDataCodewords(k,V)*8&&(x=V);let F=[];for(const V of v){s(V.mode.modeBits,4,F),s(V.numChars,V.mode.numCharCountBits(k),F);for(const ee of V.getData())F.push(ee)}h(F.length==B);const z=pt.getNumDataCodewords(k,x)*8;h(F.length<=z),s(0,Math.min(4,z-F.length),F),s(0,(8-F.length%8)%8,F),h(F.length%8==0);for(let V=236;F.length<z;V^=253)s(V,8,F);let H=[];for(;H.length*8<F.length;)H.push(0);return F.forEach((V,ee)=>H[ee>>>3]|=V<<7-(ee&7)),new pt(k,x,H,N)}getModule(v,x){return 0<=v&&v<this.size&&0<=x&&x<this.size&&this.modules[x][v]}getModules(){return this.modules}drawFunctionPatterns(){for(let E=0;E<this.size;E++)this.setFunctionModule(6,E,E%2==0),this.setFunctionModule(E,6,E%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const v=this.getAlignmentPatternPositions(),x=v.length;for(let E=0;E<x;E++)for(let T=0;T<x;T++)E==0&&T==0||E==0&&T==x-1||E==x-1&&T==0||this.drawAlignmentPattern(v[E],v[T]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(v){const x=this.errorCorrectionLevel.formatBits<<3|v;let E=x;for(let N=0;N<10;N++)E=E<<1^(E>>>9)*1335;const T=(x<<10|E)^21522;h(T>>>15==0);for(let N=0;N<=5;N++)this.setFunctionModule(8,N,u(T,N));this.setFunctionModule(8,7,u(T,6)),this.setFunctionModule(8,8,u(T,7)),this.setFunctionModule(7,8,u(T,8));for(let N=9;N<15;N++)this.setFunctionModule(14-N,8,u(T,N));for(let N=0;N<8;N++)this.setFunctionModule(this.size-1-N,8,u(T,N));for(let N=8;N<15;N++)this.setFunctionModule(8,this.size-15+N,u(T,N));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let v=this.version;for(let E=0;E<12;E++)v=v<<1^(v>>>11)*7973;const x=this.version<<12|v;h(x>>>18==0);for(let E=0;E<18;E++){const T=u(x,E),N=this.size-11+E%3,O=Math.floor(E/3);this.setFunctionModule(N,O,T),this.setFunctionModule(O,N,T)}}drawFinderPattern(v,x){for(let E=-4;E<=4;E++)for(let T=-4;T<=4;T++){const N=Math.max(Math.abs(T),Math.abs(E)),O=v+T,k=x+E;0<=O&&O<this.size&&0<=k&&k<this.size&&this.setFunctionModule(O,k,N!=2&&N!=4)}}drawAlignmentPattern(v,x){for(let E=-2;E<=2;E++)for(let T=-2;T<=2;T++)this.setFunctionModule(v+T,x+E,Math.max(Math.abs(T),Math.abs(E))!=1)}setFunctionModule(v,x,E){this.modules[x][v]=E,this.isFunction[x][v]=!0}addEccAndInterleave(v){const x=this.version,E=this.errorCorrectionLevel;if(v.length!=pt.getNumDataCodewords(x,E))throw new RangeError("Invalid argument");const T=pt.NUM_ERROR_CORRECTION_BLOCKS[E.ordinal][x],N=pt.ECC_CODEWORDS_PER_BLOCK[E.ordinal][x],O=Math.floor(pt.getNumRawDataModules(x)/8),k=T-O%T,B=Math.floor(O/T);let F=[];const z=pt.reedSolomonComputeDivisor(N);for(let V=0,ee=0;V<T;V++){let se=v.slice(ee,ee+B-N+(V<k?0:1));ee+=se.length;const ue=pt.reedSolomonComputeRemainder(se,z);V<k&&se.push(0),F.push(se.concat(ue))}let H=[];for(let V=0;V<F[0].length;V++)F.forEach((ee,se)=>{(V!=B-N||se>=k)&&H.push(ee[V])});return h(H.length==O),H}drawCodewords(v){if(v.length!=Math.floor(pt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let x=0;for(let E=this.size-1;E>=1;E-=2){E==6&&(E=5);for(let T=0;T<this.size;T++)for(let N=0;N<2;N++){const O=E-N,B=(E+1&2)==0?this.size-1-T:T;!this.isFunction[B][O]&&x<v.length*8&&(this.modules[B][O]=u(v[x>>>3],7-(x&7)),x++)}}h(x==v.length*8)}applyMask(v){if(v<0||v>7)throw new RangeError("Mask value out of range");for(let x=0;x<this.size;x++)for(let E=0;E<this.size;E++){let T;switch(v){case 0:T=(E+x)%2==0;break;case 1:T=x%2==0;break;case 2:T=E%3==0;break;case 3:T=(E+x)%3==0;break;case 4:T=(Math.floor(E/3)+Math.floor(x/2))%2==0;break;case 5:T=E*x%2+E*x%3==0;break;case 6:T=(E*x%2+E*x%3)%2==0;break;case 7:T=((E+x)%2+E*x%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[x][E]&&T&&(this.modules[x][E]=!this.modules[x][E])}}getPenaltyScore(){let v=0;for(let N=0;N<this.size;N++){let O=!1,k=0,B=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[N][F]==O?(k++,k==5?v+=pt.PENALTY_N1:k>5&&v++):(this.finderPenaltyAddHistory(k,B),O||(v+=this.finderPenaltyCountPatterns(B)*pt.PENALTY_N3),O=this.modules[N][F],k=1);v+=this.finderPenaltyTerminateAndCount(O,k,B)*pt.PENALTY_N3}for(let N=0;N<this.size;N++){let O=!1,k=0,B=[0,0,0,0,0,0,0];for(let F=0;F<this.size;F++)this.modules[F][N]==O?(k++,k==5?v+=pt.PENALTY_N1:k>5&&v++):(this.finderPenaltyAddHistory(k,B),O||(v+=this.finderPenaltyCountPatterns(B)*pt.PENALTY_N3),O=this.modules[F][N],k=1);v+=this.finderPenaltyTerminateAndCount(O,k,B)*pt.PENALTY_N3}for(let N=0;N<this.size-1;N++)for(let O=0;O<this.size-1;O++){const k=this.modules[N][O];k==this.modules[N][O+1]&&k==this.modules[N+1][O]&&k==this.modules[N+1][O+1]&&(v+=pt.PENALTY_N2)}let x=0;for(const N of this.modules)x=N.reduce((O,k)=>O+(k?1:0),x);const E=this.size*this.size,T=Math.ceil(Math.abs(x*20-E*10)/E)-1;return h(0<=T&&T<=9),v+=T*pt.PENALTY_N4,h(0<=v&&v<=2568888),v}getAlignmentPatternPositions(){if(this.version==1)return[];{const v=Math.floor(this.version/7)+2,x=this.version==32?26:Math.ceil((this.version*4+4)/(v*2-2))*2;let E=[6];for(let T=this.size-7;E.length<v;T-=x)E.splice(1,0,T);return E}}static getNumRawDataModules(v){if(v<pt.MIN_VERSION||v>pt.MAX_VERSION)throw new RangeError("Version number out of range");let x=(16*v+128)*v+64;if(v>=2){const E=Math.floor(v/7)+2;x-=(25*E-10)*E-55,v>=7&&(x-=36)}return h(208<=x&&x<=29648),x}static getNumDataCodewords(v,x){return Math.floor(pt.getNumRawDataModules(v)/8)-pt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][v]*pt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][v]}static reedSolomonComputeDivisor(v){if(v<1||v>255)throw new RangeError("Degree out of range");let x=[];for(let T=0;T<v-1;T++)x.push(0);x.push(1);let E=1;for(let T=0;T<v;T++){for(let N=0;N<x.length;N++)x[N]=pt.reedSolomonMultiply(x[N],E),N+1<x.length&&(x[N]^=x[N+1]);E=pt.reedSolomonMultiply(E,2)}return x}static reedSolomonComputeRemainder(v,x){let E=x.map(T=>0);for(const T of v){const N=T^E.shift();E.push(0),x.forEach((O,k)=>E[k]^=pt.reedSolomonMultiply(O,N))}return E}static reedSolomonMultiply(v,x){if(v>>>8||x>>>8)throw new RangeError("Byte out of range");let E=0;for(let T=7;T>=0;T--)E=E<<1^(E>>>7)*285,E^=(x>>>T&1)*v;return h(E>>>8==0),E}finderPenaltyCountPatterns(v){const x=v[1];h(x<=this.size*3);const E=x>0&&v[2]==x&&v[3]==x*3&&v[4]==x&&v[5]==x;return(E&&v[0]>=x*4&&v[6]>=x?1:0)+(E&&v[6]>=x*4&&v[0]>=x?1:0)}finderPenaltyTerminateAndCount(v,x,E){return v&&(this.finderPenaltyAddHistory(x,E),x=0),x+=this.size,this.finderPenaltyAddHistory(x,E),this.finderPenaltyCountPatterns(E)}finderPenaltyAddHistory(v,x){x[0]==0&&(v+=this.size),x.pop(),x.unshift(v)}};i.MIN_VERSION=1,i.MAX_VERSION=40,i.PENALTY_N1=3,i.PENALTY_N2=3,i.PENALTY_N3=40,i.PENALTY_N4=10,i.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],i.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=i;function s(C,v,x){if(v<0||v>31||C>>>v)throw new RangeError("Value out of range");for(let E=v-1;E>=0;E--)x.push(C>>>E&1)}function u(C,v){return(C>>>v&1)!=0}function h(C){if(!C)throw new Error("Assertion error")}const p=class cn{constructor(v,x,E){if(this.mode=v,this.numChars=x,this.bitData=E,x<0)throw new RangeError("Invalid argument");this.bitData=E.slice()}static makeBytes(v){let x=[];for(const E of v)s(E,8,x);return new cn(cn.Mode.BYTE,v.length,x)}static makeNumeric(v){if(!cn.isNumeric(v))throw new RangeError("String contains non-numeric characters");let x=[];for(let E=0;E<v.length;){const T=Math.min(v.length-E,3);s(parseInt(v.substring(E,E+T),10),T*3+1,x),E+=T}return new cn(cn.Mode.NUMERIC,v.length,x)}static makeAlphanumeric(v){if(!cn.isAlphanumeric(v))throw new RangeError("String contains unencodable characters in alphanumeric mode");let x=[],E;for(E=0;E+2<=v.length;E+=2){let T=cn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E))*45;T+=cn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E+1)),s(T,11,x)}return E<v.length&&s(cn.ALPHANUMERIC_CHARSET.indexOf(v.charAt(E)),6,x),new cn(cn.Mode.ALPHANUMERIC,v.length,x)}static makeSegments(v){return v==""?[]:cn.isNumeric(v)?[cn.makeNumeric(v)]:cn.isAlphanumeric(v)?[cn.makeAlphanumeric(v)]:[cn.makeBytes(cn.toUtf8ByteArray(v))]}static makeEci(v){let x=[];if(v<0)throw new RangeError("ECI assignment value out of range");if(v<128)s(v,8,x);else if(v<16384)s(2,2,x),s(v,14,x);else if(v<1e6)s(6,3,x),s(v,21,x);else throw new RangeError("ECI assignment value out of range");return new cn(cn.Mode.ECI,0,x)}static isNumeric(v){return cn.NUMERIC_REGEX.test(v)}static isAlphanumeric(v){return cn.ALPHANUMERIC_REGEX.test(v)}getData(){return this.bitData.slice()}static getTotalBits(v,x){let E=0;for(const T of v){const N=T.mode.numCharCountBits(x);if(T.numChars>=1<<N)return 1/0;E+=4+N+T.bitData.length}return E}static toUtf8ByteArray(v){v=encodeURI(v);let x=[];for(let E=0;E<v.length;E++)v.charAt(E)!="%"?x.push(v.charCodeAt(E)):(x.push(parseInt(v.substring(E+1,E+3),16)),E+=2);return x}};p.NUMERIC_REGEX=/^[0-9]*$/,p.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,p.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let y=p;t.QrSegment=p})(eo||(eo={}));(t=>{(i=>{const s=class{constructor(h,p){this.ordinal=h,this.formatBits=p}};s.LOW=new s(0,1),s.MEDIUM=new s(1,0),s.QUARTILE=new s(2,3),s.HIGH=new s(3,2),i.Ecc=s})(t.QrCode||(t.QrCode={}))})(eo||(eo={}));(t=>{(i=>{const s=class{constructor(h,p){this.modeBits=h,this.numBitsCharCount=p}numCharCountBits(h){return this.numBitsCharCount[Math.floor((h+7)/17)]}};s.NUMERIC=new s(1,[10,12,14]),s.ALPHANUMERIC=new s(2,[9,11,13]),s.BYTE=new s(4,[8,16,16]),s.KANJI=new s(8,[8,10,12]),s.ECI=new s(7,[0,0,0]),i.Mode=s})(t.QrSegment||(t.QrSegment={}))})(eo||(eo={}));var Lo=eo;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var VS={L:Lo.QrCode.Ecc.LOW,M:Lo.QrCode.Ecc.MEDIUM,Q:Lo.QrCode.Ecc.QUARTILE,H:Lo.QrCode.Ecc.HIGH},lx=128,cx="L",ux="#FFFFFF",fx="#000000",dx=!1,hx=1,WS=4,HS=0,GS=.1;function px(t,i=0){const s=[];return t.forEach(function(u,h){let p=null;u.forEach(function(y,C){if(!y&&p!==null){s.push(`M${p+i} ${h+i}h${C-p}v1H${p+i}z`),p=null;return}if(C===u.length-1){if(!y)return;p===null?s.push(`M${C+i},${h+i} h1v1H${C+i}z`):s.push(`M${p+i},${h+i} h${C+1-p}v1H${p+i}z`);return}y&&p===null&&(p=C)})}),s.join("")}function gx(t,i){return t.slice().map((s,u)=>u<i.y||u>=i.y+i.h?s:s.map((h,p)=>p<i.x||p>=i.x+i.w?h:!1))}function YS(t,i,s,u){if(u==null)return null;const h=t.length+s*2,p=Math.floor(i*GS),y=h/i,C=(u.width||p)*y,v=(u.height||p)*y,x=u.x==null?t.length/2-C/2:u.x*y,E=u.y==null?t.length/2-v/2:u.y*y,T=u.opacity==null?1:u.opacity;let N=null;if(u.excavate){let k=Math.floor(x),B=Math.floor(E),F=Math.ceil(C+x-k),z=Math.ceil(v+E-B);N={x:k,y:B,w:F,h:z}}const O=u.crossOrigin;return{x,y:E,h:v,w:C,excavation:N,opacity:T,crossOrigin:O}}function XS(t,i){return i!=null?Math.max(Math.floor(i),0):t?WS:HS}function mx({value:t,level:i,minVersion:s,includeMargin:u,marginSize:h,imageSettings:p,size:y,boostLevel:C}){let v=Jt.useMemo(()=>{const k=(Array.isArray(t)?t:[t]).reduce((B,F)=>(B.push(...Lo.QrSegment.makeSegments(F)),B),[]);return Lo.QrCode.encodeSegments(k,VS[i],s,void 0,void 0,C)},[t,i,s,C]);const{cells:x,margin:E,numCells:T,calculatedImageSettings:N}=Jt.useMemo(()=>{let O=v.getModules();const k=XS(u,h),B=O.length+k*2,F=YS(O,y,k,p);return{cells:O,margin:k,numCells:B,calculatedImageSettings:F}},[v,y,p,u,h]);return{qrcode:v,margin:E,cells:x,numCells:T,calculatedImageSettings:N}}var ZS=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),KS=Jt.forwardRef(function(i,s){const u=i,{value:h,size:p=lx,level:y=cx,bgColor:C=ux,fgColor:v=fx,includeMargin:x=dx,minVersion:E=hx,boostLevel:T,marginSize:N,imageSettings:O}=u,B=ad(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:F}=B,z=ad(B,["style"]),H=O==null?void 0:O.src,V=Jt.useRef(null),ee=Jt.useRef(null),se=Jt.useCallback(Re=>{V.current=Re,typeof s=="function"?s(Re):s&&(s.current=Re)},[s]),[ue,J]=Jt.useState(!1),{margin:ce,cells:q,numCells:Me,calculatedImageSettings:Pe}=mx({value:h,level:y,minVersion:E,boostLevel:T,includeMargin:x,marginSize:N,imageSettings:O,size:p});Jt.useEffect(()=>{if(V.current!=null){const Re=V.current,Q=Re.getContext("2d");if(!Q)return;let Ve=q;const we=ee.current,he=Pe!=null&&we!==null&&we.complete&&we.naturalHeight!==0&&we.naturalWidth!==0;he&&Pe.excavation!=null&&(Ve=gx(q,Pe.excavation));const De=window.devicePixelRatio||1;Re.height=Re.width=p*De;const fe=p/Me*De;Q.scale(fe,fe),Q.fillStyle=C,Q.fillRect(0,0,Me,Me),Q.fillStyle=v,ZS?Q.fill(new Path2D(px(Ve,ce))):q.forEach(function(Z,re){Z.forEach(function(me,ve){me&&Q.fillRect(ve+ce,re+ce,1,1)})}),Pe&&(Q.globalAlpha=Pe.opacity),he&&Q.drawImage(we,Pe.x+ce,Pe.y+ce,Pe.w,Pe.h)}}),Jt.useEffect(()=>{J(!1)},[H]);const be=od({height:p,width:p},F);let Fe=null;return H!=null&&(Fe=Jt.createElement("img",{src:H,key:H,style:{display:"none"},onLoad:()=>{J(!0)},ref:ee,crossOrigin:Pe==null?void 0:Pe.crossOrigin})),Jt.createElement(Jt.Fragment,null,Jt.createElement("canvas",od({style:be,height:p,width:p,ref:se,role:"img"},z)),Fe)});KS.displayName="QRCodeCanvas";var eh=Jt.forwardRef(function(i,s){const u=i,{value:h,size:p=lx,level:y=cx,bgColor:C=ux,fgColor:v=fx,includeMargin:x=dx,minVersion:E=hx,boostLevel:T,title:N,marginSize:O,imageSettings:k}=u,B=ad(u,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:F,cells:z,numCells:H,calculatedImageSettings:V}=mx({value:h,level:y,minVersion:E,boostLevel:T,includeMargin:x,marginSize:O,imageSettings:k,size:p});let ee=z,se=null;k!=null&&V!=null&&(V.excavation!=null&&(ee=gx(z,V.excavation)),se=Jt.createElement("image",{href:k.src,height:V.h,width:V.w,x:V.x+F,y:V.y+F,preserveAspectRatio:"none",opacity:V.opacity,crossOrigin:V.crossOrigin}));const ue=px(ee,F);return Jt.createElement("svg",od({height:p,width:p,viewBox:`0 0 ${H} ${H}`,ref:s,role:"img"},B),!!N&&Jt.createElement("title",null,N),Jt.createElement("path",{fill:C,d:`M0,0 h${H}v${H}H0z`,shapeRendering:"crispEdges"}),Jt.createElement("path",{fill:v,d:ue,shapeRendering:"crispEdges"}),se)});eh.displayName="QRCodeSVG";const QS=({player:t})=>R.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"350px",height:"500px",margin:"0 auto",position:"relative"},children:t!=null&&t.image_data?R.jsxs("div",{style:{position:"relative",width:"350px",height:"450px"},children:[R.jsx("img",{src:`data:image/jpeg;base64,${t.image_data}`,alt:t.name,style:{width:"350px",height:"450px",objectFit:"cover",borderRadius:"50px",boxShadow:"0 6px 12px rgba(0, 0, 0, 0.3)",margin:"auto",display:"block"},onError:i=>{console.error("Image failed to load:",i),i.target.style.display="none"}}),R.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:t.name})]}):R.jsxs("div",{style:{width:"350px",height:"450px",backgroundColor:"#f0f0f0",borderRadius:"50px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},children:[R.jsx("p",{style:{marginBottom:"60px"},children:"No image available"}),R.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",backgroundColor:"#144dff",color:"white",padding:"12px 0",borderBottomLeftRadius:"50px",borderBottomRightRadius:"50px",textAlign:"center",fontWeight:"600",fontSize:"1.2rem",fontFamily:"Helvetica, Arial, sans-serif",boxShadow:"0 -4px 10px rgba(0, 0, 0, 0.1)",textShadow:"1px 1px 2px rgba(0, 0, 0, 0.2)"},children:t.name})]})});var tg=typeof window>"u"?P.useEffect:P.useLayoutEffect,$S=({isPlaying:t,duration:i,startAt:s=0,updateInterval:u=0,onComplete:h,onUpdate:p})=>{let[y,C]=P.useState(s),v=P.useRef(0),x=P.useRef(s),E=P.useRef(s*-1e3),T=P.useRef(null),N=P.useRef(null),O=P.useRef(null),k=z=>{let H=z/1e3;if(N.current===null){N.current=H,T.current=requestAnimationFrame(k);return}let V=H-N.current,ee=v.current+V;N.current=H,v.current=ee;let se=x.current+(u===0?ee:(ee/u|0)*u),ue=x.current+ee,J=typeof i=="number"&&ue>=i;C(J?i:se),J||(T.current=requestAnimationFrame(k))},B=()=>{T.current&&cancelAnimationFrame(T.current),O.current&&clearTimeout(O.current),N.current=null},F=P.useCallback(z=>{B(),v.current=0;let H=typeof z=="number"?z:s;x.current=H,C(H),t&&(T.current=requestAnimationFrame(k))},[t,s]);return tg(()=>{if(p==null||p(y),i&&y>=i){E.current+=i*1e3;let{shouldRepeat:z=!1,delay:H=0,newStartAt:V}=(h==null?void 0:h(E.current/1e3))||{};z&&(O.current=setTimeout(()=>F(V),H*1e3))}},[y,i]),tg(()=>(t&&(T.current=requestAnimationFrame(k)),B),[t,i,u]),{elapsedTime:y,reset:F}},qS=(t,i,s)=>{let u=t/2,h=i/2,p=u-h,y=2*p,C=s==="clockwise"?"1,0":"0,1",v=2*Math.PI*p;return{path:`m ${u},${h} a ${p},${p} 0 ${C} 0,${y} a ${p},${p} 0 ${C} 0,-${y}`,pathLength:v}},ng=(t,i)=>t===0||t===i?0:typeof i=="number"?t-i:0,JS=t=>({position:"relative",width:t,height:t}),eA={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},xx=(t,i,s,u,h)=>{if(u===0)return i;let p=(h?u-t:t)/u;return i+s*p},rg=t=>{var i,s;return(s=(i=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(u,h,p,y)=>`#${h}${h}${p}${p}${y}${y}`).substring(1).match(/.{2}/g))==null?void 0:i.map(u=>parseInt(u,16)))!=null?s:[]},tA=(t,i)=>{var s;let{colors:u,colorsTime:h,isSmoothColorTransition:p=!0}=t;if(typeof u=="string")return u;let y=(s=h==null?void 0:h.findIndex((N,O)=>N>=i&&i>=h[O+1]))!=null?s:-1;if(!h||y===-1)return u[0];if(!p)return u[y];let C=h[y]-i,v=h[y]-h[y+1],x=rg(u[y]),E=rg(u[y+1]),T=!!t.isGrowing;return`rgb(${x.map((N,O)=>xx(C,N,E[O]-N,v,T)|0).join(",")})`},nA=t=>{let{duration:i,initialRemainingTime:s,updateInterval:u,size:h=180,strokeWidth:p=12,trailStrokeWidth:y,isPlaying:C=!1,isGrowing:v=!1,rotation:x="clockwise",onComplete:E,onUpdate:T}=t,N=P.useRef(),O=Math.max(p,y??0),{path:k,pathLength:B}=qS(h,O,x),{elapsedTime:F}=$S({isPlaying:C,duration:i,startAt:ng(i,s),updateInterval:u,onUpdate:typeof T=="function"?H=>{let V=Math.ceil(i-H);V!==N.current&&(N.current=V,T(V))}:void 0,onComplete:typeof E=="function"?H=>{var V;let{shouldRepeat:ee,delay:se,newInitialRemainingTime:ue}=(V=E(H))!=null?V:{};if(ee)return{shouldRepeat:ee,delay:se,newStartAt:ng(i,ue)}}:void 0}),z=i-F;return{elapsedTime:F,path:k,pathLength:B,remainingTime:Math.ceil(z),rotation:x,size:h,stroke:tA(t,z),strokeDashoffset:xx(F,0,B,i,v),strokeWidth:p}},th=t=>{let{children:i,strokeLinecap:s,trailColor:u,trailStrokeWidth:h}=t,{path:p,pathLength:y,stroke:C,strokeDashoffset:v,remainingTime:x,elapsedTime:E,size:T,strokeWidth:N}=nA(t);return Jt.createElement("div",{style:JS(T)},Jt.createElement("svg",{viewBox:`0 0 ${T} ${T}`,width:T,height:T,xmlns:"http://www.w3.org/2000/svg"},Jt.createElement("path",{d:p,fill:"none",stroke:u??"#d9d9d9",strokeWidth:h??N}),Jt.createElement("path",{d:p,fill:"none",stroke:C,strokeLinecap:s??"round",strokeWidth:N,strokeDasharray:y,strokeDashoffset:v})),typeof i=="function"&&Jt.createElement("div",{style:eA},i({remainingTime:x,elapsedTime:E,color:C})))};th.displayName="CountdownCircleTimer";const rA=({onComplete:t})=>{const[i,s]=P.useState(5),[u,h]=P.useState(!1);return P.useEffect(()=>{const p=setInterval(()=>{h(!0),setTimeout(()=>{s(y=>y<=1?(clearInterval(p),t&&t(),0):y-1),h(!1)},500)},1500);return()=>clearInterval(p)},[t]),R.jsx("div",{className:"lobby-countdown-overlay",children:R.jsxs("div",{className:`lobby-countdown-container ${u?"pop-burst":""}`,children:[R.jsx("div",{className:"lobby-countdown-number",children:i}),R.jsx("div",{className:"lobby-countdown-text",children:i>0?"Get ready!":"Starting..."})]})})},iA=({onComplete:t,lobbyCode:i="this"})=>{const[s,u]=P.useState(0),[h,p]=P.useState(!1),[y,C]=P.useState(!1),[v,x]=P.useState([0]),[E,T]=P.useState(!1),N=P.useRef(null),O=P.useRef(null),k=[{image:"/assets/how_to_pt1_1.svg",duration:1500,animatedText:"Find your match using their profile picture!"},{image:"/assets/how_to_pt2_2.svg",duration:4e3,animatedText:"Raise the volume to find your next match, dont keep them waiting!"},{image:"/assets/how_to_pt3_3.svg",duration:4e3,animatedText:"Take a break so people dont get matched with you."}];return P.useEffect(()=>{const B=()=>{if(s>=k.length-1){clearInterval(N.current),t&&t();return}p(!0);const F=s+1;x([s,F]),O.current=setTimeout(()=>{T(!1),u(F),p(!1),setTimeout(()=>{x([F]),C(!0),k[F].animatedText&&T(!0)},500)},500)};return N.current=setInterval(B,k[s].duration),C(!0),s===0&&k[0].animatedText&&T(!0),()=>{N.current&&clearInterval(N.current),O.current&&clearTimeout(O.current)}},[s,k.length,t]),R.jsx("div",{className:"tutorial-overlay",children:R.jsxs("div",{className:"tutorial-container",children:[v.map(B=>R.jsxs("div",{className:`tutorial-slide ${B===s?"current":B<s?"previous":"next"}`,children:[B===s&&k[B].animatedText&&E&&R.jsx("div",{className:"animated-text pop-burst",children:k[B].animatedText}),R.jsx("div",{className:"tutorial-image-container",children:R.jsx("img",{src:k[B].image,alt:`Tutorial step ${B+1}`,className:"tutorial-image"})}),R.jsx("div",{className:`tutorial-text ${y&&B===s?"text-animate":""}`,children:k[B].text})]},B)),R.jsx("div",{className:"tutorial-progress",children:k.map((B,F)=>R.jsx("div",{className:`progress-dot ${F===s?"active":""}`},F))})]})})},yc=9,sA=5,oA=5e3,aA=()=>{const[t,i]=P.useState([]),[s,u]=P.useState("self"),[h,p]=P.useState(!1),[y,C]=P.useState(""),v=P.useRef(null),x=P.useRef(null),{loadSound:E,seekTo:T,cancelSound:N,checkSound:O,soundEnabled:k,setSoundEnabled:B,isPlaying:F}=Sg(),[z,H]=P.useState("yonder"),V=ni(),{code:ee}=Ey(),[se,ue]=P.useState(null);sx(ue,null,z);const{user:J,userProfile:ce,checkAuth:q,permissions:Me}=P.useContext(xi);P.useEffect(()=>{(async()=>{if(localStorage.getItem("access_token"))try{J||await q()}catch(bt){console.error("Authentication error:",bt);const Ye=new URLSearchParams(window.location.search).get("code")||ee;V(Ye?`/signup?redirect=lobby&code=${Ye}`:"/signup?redirect=lobby")}else{const wn=new URLSearchParams(window.location.search).get("code")||ee;V(wn?`/signup?redirect=lobby&code=${wn}`:"/signup?redirect=lobby")}})()},[V,ee,q,J]),P.useEffect(()=>{(()=>{const bt=new URLSearchParams(window.location.search).get("code")||ee;if(bt){H(bt);const wn=`hasSeenTutorial_${bt}`,Ye=localStorage.getItem(wn),En=!!localStorage.getItem("access_token");console.log("Tutorial check:",{codeParam:bt,lobbyTutorialKey:wn,hasSeenLobbyTutorial:Ye,isAuthenticated:En}),!Ye&&En&&(mr(!0),localStorage.setItem(wn,"true"))}})()},[ee]);const[Pe,be]=P.useState(null),[Fe,Re]=P.useState(null),[Q,Ve]=P.useState(null),[we,he]=P.useState(null),[De,fe]=P.useState(null),Z=P.useRef(!1),re=P.useRef(null),[me,ve]=P.useState(null),[He,pe]=P.useState(null),[ze,_e]=P.useState(null),[it,ft]=P.useState(null),[_t,er]=P.useState(!0),ot=300,Hn=P.useRef(0),[Ut,gr]=P.useState(null),[xt,yt]=P.useState(null),[tt,ar]=P.useState([]),[Ce,$e]=P.useState([]),[St,At]=P.useState(!document.hidden),Pn=P.useRef("yonder");P.useEffect(()=>{Pn.current=z},[z]);async function wt(Se,at){const bt=localStorage.getItem("access_token"),Ye=await(await fetch(window.server_url+"/set_profile_info",{method:"POST",headers:{Authorization:`Bearer ${bt}`,"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},mode:"cors",body:JSON.stringify({tags_work:Se,tags_desiring_work:at})})).json();console.log("SET PROFILE INFO:",Ye)}async function Kt(){try{const Se=localStorage.getItem("access_token");N(),(await fetch(window.server_url+"/disconnect_lobby",{headers:{Authorization:`Bearer ${Se}`,lobby_code:z}})).ok&&V("/")}catch(Se){console.error("Error disconnecting from lobby:",Se),V("/")}finally{N(),V("/"),console.log("finally")}}async function Dt(){try{Hn.current+=1,Hn.current>5&&(Hn.current=0,Z.current=!1);const Se=localStorage.getItem("access_token"),at=!document.hidden,bt=Pn.current;if(console.log("lobby code fr:",bt),bt=="yonder"){console.log("lobby code is not set");return}const wn=await fetch(`${window.server_url}/lobby?is_visible=${at}`,{headers:{Authorization:`Bearer ${Se}`,is_visible_t_f:at?"t":"f",lobby_code:bt}});if(wn.ok){const Ye=await wn.json();console.log("LOBBY PAIR DATA:",bt,Ye),Ye.status=="inactive"&&(N(),V("/")),Ve(Ye.opponent_name),Ye.opponent_name==null&&be(null),i(Ye.custom_tags),ve(Ye.lobby_state),ft(Ye.lobby_duration);const En=typeof Ye.round_time_left=="number"&&!isNaN(Ye.round_time_left)?Ye.round_time_left:0;console.log("Timer Debug:",{roundDuration:Ye.lobby_duration,timeLeft:En,lobbyState:Ye.lobby_state,usingDefaultDuration:!Ye.lobby_duration}),re.current=En,pe(Math.floor(En));const dn=Math.floor(En/60),Mr=Math.floor(En%60);_e(`${dn}:${Mr.toString().padStart(2,"0")}`),fe(Ye.table_number),Ye.player_tags!=null&&Ye.player_tags.tags_work!=null&&ar(Ye.player_tags.tags_work),Ye.player_tags!=null&&Ye.player_tags.desiring_tags_work!=null&&$e(Ye.player_tags.desiring_tags_work),re.current!=null&&Ye.lobby_state=="active"&&re.current!=0&&(T(ot-re.current),console.log("seeking to",ot-re.current));const ri=await fetch(`${window.server_url}/display_lobby_metadata?lobby_code=${bt}`,{headers:{Authorization:`Bearer ${Se}`,lobby_code:bt}});if(ri.ok){const hn=await ri.json();ue(hn.player_count)}if((Q!=Ye.opponent_name||Pe==null)&&!Z.current&&Ye.opponent_name!=null){Z.current=!0,console.log("fetching profile");const hn=await fetch(window.server_url+"/paired_player_profile",{headers:{Authorization:`Bearer ${Se}`}});if(hn.ok){const Hi=await hn.json();be(Hi),console.log("profile fetched:",Hi.name)}else console.log("profile fetch failed");Z.current=!1}}}catch(Se){console.error("Error fetching lobby data:",Se)}}P.useEffect(()=>{O()?B(!0):B(!1);const Se=setInterval(async()=>{Dt()},oA);return()=>clearInterval(Se)},[]),P.useEffect(()=>{const Se=setTimeout(Dt,1e3);return()=>clearTimeout(Se)},[me,z]),P.useEffect(()=>{const Se=()=>{const at=!document.hidden;at&&!St&&(console.log("Page became visible - fetching latest data"),Dt()),At(at)};return document.addEventListener("visibilitychange",Se),()=>{document.removeEventListener("visibilitychange",Se)}},[St]);const Lt=()=>R.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:R.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",position:"relative",minWidth:"300px"},children:[R.jsx("button",{onClick:()=>er(!1),style:{color:"#144fff",position:"absolute",right:"10px",top:"10px",border:"none",background:"none",fontSize:"2px",cursor:"pointer"},children:"X"}),R.jsx("h2",{style:{marginTop:"5px"},children:"The Sound is Important"}),R.jsx("h3",{style:{marginTop:"5px"},children:"Raise your volume also"}),R.jsx("p",{style:{color:"#144dff"},children:"You'll need this for the best experience."}),R.jsx("button",{onClick:()=>{E(),er(!1)},style:{padding:"10px 20px",marginTop:"20px",backgroundColor:"#144dff",color:"#ffffff",border:"none",borderRadius:"14px",fontWeight:"bold",cursor:"pointer"},children:"Enable Sound"})]})}),Ln=(Se,at)=>{Ut==null&&gr(tt),xt==null&&yt(Ce);const bt=Se==="self"?Ut:xt;if(!(bt!=null&&bt.includes(at))&&(bt==null?void 0:bt.length)>=sA){C("Reached tag limit for this section"),setTimeout(()=>{var Ye;(Ye=x.current)==null||Ye.scrollIntoView({behavior:"smooth",block:"center"})},100),setTimeout(()=>{C("")},3e3);return}Se==="self"?gr(Ye=>Ye.includes(at)?Ye.filter(En=>En!==at):[...Ye,at]):yt(Ye=>Ye.includes(at)?Ye.filter(En=>En!==at):[...Ye,at])},tr=()=>{Ut!=null&&wt(Ut,xt||[]),u("desiring"),setTimeout(()=>{var Se;(Se=v.current)==null||Se.scrollIntoView({behavior:"smooth",block:"start"})},100)},Ci=()=>{xt!=null&&wt(Ut||[],xt),window.scrollTo({top:0,behavior:"smooth"})},It=()=>{u("self")},[Ne,Qt]=P.useState(!1);P.useEffect(()=>{if(me==="interrim")Qt(!0);else if(me==="active"){const Se=setTimeout(()=>{Qt(!1)},1e3);return()=>clearTimeout(Se)}},[me]);const vt=()=>{console.log("Lobby countdown animation completed")},[kt,mr]=P.useState(!1),Ei=()=>{mr(!1)},Si=P.useRef(null);return P.useEffect(()=>{var Se;!h&&!(tt!=null&&tt.length)&&!(Ce!=null&&Ce.length)&&(t==null?void 0:t.length)>0&&((Se=Si.current)==null||Se.scrollIntoView({behavior:"smooth"}),p(!0))},[tt,Ce,t,h]),R.jsxs("div",{className:"lobby-container",children:[R.jsxs("div",{className:"lobby-content",children:[R.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"0",marginTop:"-1.5rem"},children:R.jsx("img",{src:"/assets/reuneo_test_8.png",alt:"Reunio Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),(me==="checkin"||me==="active"&&!Pe||me==="interrim")&&R.jsx("div",{className:"user-profile-container",children:R.jsxs("div",{className:"user-profile",children:[R.jsx("img",{src:ce!=null&&ce.image_data?`data:image/jpeg;base64,${ce.image_data}`:"/assets/player_icon_trans.png",alt:"Your Profile",className:"user-profile-picture"}),R.jsx("div",{className:"user-profile-glow"})]})}),R.jsx("div",{className:"lobby-header",style:{marginTop:"-50px"},children:R.jsx("h2",{children:me==="active"&&Pe?R.jsxs("span",{className:"lobby-pop-burst",children:["Go find ",Pe.name,"!"]}):me==="checkin"?R.jsxs(R.Fragment,{children:["You're in ",ce.name.slice(0,15),"!",R.jsx("br",{}),"Your host will start the experience."]}):me==="active"&&!Pe?"You will be paired with someone in the next round.":me==="interrim"?"Get ready for the next round!":me==="terminated"?"This session has ended. Thank you for participating!":""})},me),me!=="checkin"&&R.jsx("div",{className:"time-left",style:{display:"flex",flexDirection:"column",alignItems:"center",background:"white",marginTop:"-2rem"},children:(me==="active"||me==="interrim")&&He?R.jsxs(R.Fragment,{children:[R.jsx(th,{isPlaying:me==="active",duration:it||300,initialRemainingTime:He||0,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>(Dt(),{shouldRepeat:!1}),children:({remainingTime:Se})=>{const at=typeof Se=="number"&&!isNaN(Se)?Se:0,bt=Math.floor(at/60),wn=Math.floor(at%60);return R.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[bt,":",String(wn).padStart(2,"0")]})}},`${me}-${He}`),R.jsx("span",{style:{fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff"},children:"round time left"}),R.jsx("div",{style:{height:"18px"}})]}):R.jsx("span",{className:"time-left-text"})}),R.jsx("div",{style:{display:"flex",justifyContent:"center",width:"100%",margin:"0 auto"},children:me==="active"||me==="interrim"?Pe?R.jsx("div",{style:{marginTop:"-4.5rem",width:"100%",display:"flex",justifyContent:"center"},children:R.jsx(QS,{player:Pe})}):R.jsx(R.Fragment,{}):me==="terminated"?R.jsx("div",{className:"status-message",children:R.jsxs("h2",{children:["This session has ended.",R.jsx("br",{}),"Thank you for participating!"]})}):null}),(me==="checkin"||me==="active"&&!Pe)&&se!==null&&R.jsx("div",{className:"player-count-container",children:R.jsxs("div",{className:"player-count-bubble",children:[R.jsx("div",{className:"player-count-icon",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:R.jsx("img",{src:"/assets/players_display_icon.png",alt:"Players in lobby",className:"player-count-img",style:{width:"40px",height:"40px",objectFit:"contain"}})}),R.jsxs("div",{className:"player-count-text",children:[R.jsx("span",{className:"player-count-number",children:se}),R.jsxs("span",{className:"player-count-label",children:[""," in ",z," lobby"]})]})]})}),(me==="checkin"||me==="active"&&!Pe)&&R.jsx("div",{className:"lobby-profiles-container",children:R.jsx("div",{className:"lobby-profiles-grid",children:se>0?R.jsxs(R.Fragment,{children:[Array.from({length:Math.min(se,yc)}).map((Se,at)=>R.jsxs("div",{className:`profile-icon-wrapper ${at===Math.min(se,yc)-1?"pop-in":""}`,children:[R.jsx("img",{src:at===0&&ce!=null&&ce.image_data?`data:image/jpeg;base64,${ce.image_data}`:"/assets/player_icon_trans.png",alt:at===0?"Your Profile":`Profile ${at+1}`,className:"profile-icon",loading:"lazy"}),R.jsx("div",{className:"profile-icon-glow"})]},`profile-${at}`)),se>yc&&R.jsx("div",{className:"profile-icon-wrapper more-profiles",children:R.jsxs("div",{className:"more-profiles-bubble",children:["+",se-yc]})})]}):R.jsx("div",{children:"No profiles to display"})})}),(me==="checkin"||me==="active")&&R.jsxs("div",{className:"selected-tags-container",children:[Ut&&Ut.length>0&&R.jsxs("div",{className:"tag-category",children:[R.jsx("h4",{children:"What I do:"}),R.jsx("div",{className:"tag-list",children:Ut.map(Se=>R.jsx("span",{className:"tag-item",children:Se},`self-${Se}`))})]}),xt&&xt.length>0&&R.jsxs("div",{className:"tag-category",children:[R.jsx("h4",{children:"Looking for:"}),R.jsx("div",{className:"tag-list",children:xt.map(Se=>R.jsx("span",{className:"tag-item",children:Se},`desiring-${Se}`))})]})]}),R.jsx("button",{className:"leave-lobby-button",onClick:Kt,children:"Leave"}),R.jsx("button",{className:"how-to-tutorial-button",onClick:()=>mr(!0),children:"Tutorial"}),Me==="admin"&&R.jsx("button",{className:"admin-view-button",onClick:()=>V(`/admin_lobby_view?code=${z}`),children:"Manage"}),Array.isArray(t)&&t.length>0&&R.jsx("form",{onSubmit:Se=>{Se.preventDefault(),s==="self"?tr():Ci()},children:R.jsxs("div",{className:"tags-section",ref:Si,children:[R.jsx("div",{className:"progress-bar-container",children:R.jsx("div",{className:`progress-bar ${s==="desiring"?"progress-complete":""}`,onClick:It})}),R.jsxs("div",{className:`tag-group ${s==="self"?"active":"hidden"}`,children:[R.jsx("div",{className:"bounce-wrapper",children:R.jsx("h2",{children:"Who are you?"})}),R.jsx("div",{className:"tag-labels-container",children:t.map(Se=>R.jsxs("label",{className:"tag-label",children:[R.jsx("input",{type:"checkbox",checked:Ut!=null?Ut.includes(Se):tt.includes(Se),onChange:()=>Ln("self",Se)}),Se]},`self-${Se}`))})]}),R.jsxs("div",{className:`tag-group ${s==="desiring"?"active":"hidden"}`,ref:v,children:[R.jsx("div",{className:"bounce-wrapper",children:R.jsx("h2",{children:"Who do you want to meet?"})}),R.jsx("div",{className:"tag-labels-container",children:t.map(Se=>R.jsxs("label",{className:"tag-label",children:[R.jsx("input",{type:"checkbox",checked:xt!=null?xt.includes(Se):Ce.includes(Se),onChange:()=>Ln("desiring",Se)}),Se]},`desiring-${Se}`))})]}),R.jsx("button",{type:"submit",className:"tag-selection-button",ref:x,children:s==="self"?"Continue":"Save"}),y&&R.jsx("div",{style:{color:"#144dff",textAlign:"center",marginTop:"1rem",fontSize:"0.9rem",fontWeight:"600"},children:y})]})})]}),k||!_t||me=="checkin"||me==null||F?null:R.jsx(Lt,{}),Ne&&R.jsx(rA,{onComplete:vt}),kt&&R.jsx(iA,{onComplete:Ei,lobbyCode:z})]})};let lA={data:""},cA=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||lA,uA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fA=/\/\*[^]*?\*\/|  +/g,ig=/\n+/g,ys=(t,i)=>{let s="",u="",h="";for(let p in t){let y=t[p];p[0]=="@"?p[1]=="i"?s=p+" "+y+";":u+=p[1]=="f"?ys(y,p):p+"{"+ys(y,p[1]=="k"?"":i)+"}":typeof y=="object"?u+=ys(y,i?i.replace(/([^,])+/g,C=>p.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,v=>/&/.test(v)?v.replace(/&/g,C):C?C+" "+v:v)):p):y!=null&&(p=/^--/.test(p)?p:p.replace(/[A-Z]/g,"-$&").toLowerCase(),h+=ys.p?ys.p(p,y):p+":"+y+";")}return s+(i&&h?i+"{"+h+"}":h)+u},Fi={},yx=t=>{if(typeof t=="object"){let i="";for(let s in t)i+=s+yx(t[s]);return i}return t},dA=(t,i,s,u,h)=>{let p=yx(t),y=Fi[p]||(Fi[p]=(v=>{let x=0,E=11;for(;x<v.length;)E=101*E+v.charCodeAt(x++)>>>0;return"go"+E})(p));if(!Fi[y]){let v=p!==t?t:(x=>{let E,T,N=[{}];for(;E=uA.exec(x.replace(fA,""));)E[4]?N.shift():E[3]?(T=E[3].replace(ig," ").trim(),N.unshift(N[0][T]=N[0][T]||{})):N[0][E[1]]=E[2].replace(ig," ").trim();return N[0]})(t);Fi[y]=ys(h?{["@keyframes "+y]:v}:v,s?"":"."+y)}let C=s&&Fi.g?Fi.g:null;return s&&(Fi.g=Fi[y]),((v,x,E,T)=>{T?x.data=x.data.replace(T,v):x.data.indexOf(v)===-1&&(x.data=E?v+x.data:x.data+v)})(Fi[y],i,u,C),y},hA=(t,i,s)=>t.reduce((u,h,p)=>{let y=i[p];if(y&&y.call){let C=y(s),v=C&&C.props&&C.props.className||/^go/.test(C)&&C;y=v?"."+v:C&&typeof C=="object"?C.props?"":ys(C,""):C===!1?"":C}return u+h+(y??"")},"");function Yc(t){let i=this||{},s=t.call?t(i.p):t;return dA(s.unshift?s.raw?hA(s,[].slice.call(arguments,1),i.p):s.reduce((u,h)=>Object.assign(u,h&&h.call?h(i.p):h),{}):s,cA(i.target),i.g,i.o,i.k)}let wx,ld,cd;Yc.bind({g:1});let Wi=Yc.bind({k:1});function pA(t,i,s,u){ys.p=i,wx=t,ld=s,cd=u}function As(t,i){let s=this||{};return function(){let u=arguments;function h(p,y){let C=Object.assign({},p),v=C.className||h.className;s.p=Object.assign({theme:ld&&ld()},C),s.o=/ *go\d+/.test(v),C.className=Yc.apply(s,u)+(v?" "+v:"");let x=t;return t[0]&&(x=C.as||t,delete C.as),cd&&x[0]&&cd(C),wx(x,C)}return h}}var gA=t=>typeof t=="function",Bc=(t,i)=>gA(t)?t(i):t,mA=(()=>{let t=0;return()=>(++t).toString()})(),vx=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let i=matchMedia("(prefers-reduced-motion: reduce)");t=!i||i.matches}return t}})(),xA=20,Cx=(t,i)=>{switch(i.type){case 0:return{...t,toasts:[i.toast,...t.toasts].slice(0,xA)};case 1:return{...t,toasts:t.toasts.map(p=>p.id===i.toast.id?{...p,...i.toast}:p)};case 2:let{toast:s}=i;return Cx(t,{type:t.toasts.find(p=>p.id===s.id)?1:0,toast:s});case 3:let{toastId:u}=i;return{...t,toasts:t.toasts.map(p=>p.id===u||u===void 0?{...p,dismissed:!0,visible:!1}:p)};case 4:return i.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(p=>p.id!==i.toastId)};case 5:return{...t,pausedAt:i.time};case 6:let h=i.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(p=>({...p,pauseDuration:p.pauseDuration+h}))}}},Tc=[],qs={toasts:[],pausedAt:void 0},no=t=>{qs=Cx(qs,t),Tc.forEach(i=>{i(qs)})},yA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wA=(t={})=>{let[i,s]=P.useState(qs),u=P.useRef(qs);P.useEffect(()=>(u.current!==qs&&s(qs),Tc.push(s),()=>{let p=Tc.indexOf(s);p>-1&&Tc.splice(p,1)}),[]);let h=i.toasts.map(p=>{var y,C,v;return{...t,...t[p.type],...p,removeDelay:p.removeDelay||((y=t[p.type])==null?void 0:y.removeDelay)||(t==null?void 0:t.removeDelay),duration:p.duration||((C=t[p.type])==null?void 0:C.duration)||(t==null?void 0:t.duration)||yA[p.type],style:{...t.style,...(v=t[p.type])==null?void 0:v.style,...p.style}}});return{...i,toasts:h}},vA=(t,i="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:i,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...s,id:(s==null?void 0:s.id)||mA()}),rl=t=>(i,s)=>{let u=vA(i,t,s);return no({type:2,toast:u}),u.id},sr=(t,i)=>rl("blank")(t,i);sr.error=rl("error");sr.success=rl("success");sr.loading=rl("loading");sr.custom=rl("custom");sr.dismiss=t=>{no({type:3,toastId:t})};sr.remove=t=>no({type:4,toastId:t});sr.promise=(t,i,s)=>{let u=sr.loading(i.loading,{...s,...s==null?void 0:s.loading});return typeof t=="function"&&(t=t()),t.then(h=>{let p=i.success?Bc(i.success,h):void 0;return p?sr.success(p,{id:u,...s,...s==null?void 0:s.success}):sr.dismiss(u),h}).catch(h=>{let p=i.error?Bc(i.error,h):void 0;p?sr.error(p,{id:u,...s,...s==null?void 0:s.error}):sr.dismiss(u)}),t};var CA=(t,i)=>{no({type:1,toast:{id:t,height:i}})},EA=()=>{no({type:5,time:Date.now()})},ja=new Map,SA=1e3,AA=(t,i=SA)=>{if(ja.has(t))return;let s=setTimeout(()=>{ja.delete(t),no({type:4,toastId:t})},i);ja.set(t,s)},TA=t=>{let{toasts:i,pausedAt:s}=wA(t);P.useEffect(()=>{if(s)return;let p=Date.now(),y=i.map(C=>{if(C.duration===1/0)return;let v=(C.duration||0)+C.pauseDuration-(p-C.createdAt);if(v<0){C.visible&&sr.dismiss(C.id);return}return setTimeout(()=>sr.dismiss(C.id),v)});return()=>{y.forEach(C=>C&&clearTimeout(C))}},[i,s]);let u=P.useCallback(()=>{s&&no({type:6,time:Date.now()})},[s]),h=P.useCallback((p,y)=>{let{reverseOrder:C=!1,gutter:v=8,defaultPosition:x}=y||{},E=i.filter(O=>(O.position||x)===(p.position||x)&&O.height),T=E.findIndex(O=>O.id===p.id),N=E.filter((O,k)=>k<T&&O.visible).length;return E.filter(O=>O.visible).slice(...C?[N+1]:[0,N]).reduce((O,k)=>O+(k.height||0)+v,0)},[i]);return P.useEffect(()=>{i.forEach(p=>{if(p.dismissed)AA(p.id,p.removeDelay);else{let y=ja.get(p.id);y&&(clearTimeout(y),ja.delete(p.id))}})},[i]),{toasts:i,handlers:{updateHeight:CA,startPause:EA,endPause:u,calculateOffset:h}}},IA=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bA=Wi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NA=Wi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RA=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${NA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,MA=Wi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,_A=As("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${MA} 1s linear infinite;
`,DA=Wi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OA=Wi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,PA=As("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OA} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,LA=As("div")`
  position: absolute;
`,kA=As("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,BA=Wi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FA=As("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${BA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jA=({toast:t})=>{let{icon:i,type:s,iconTheme:u}=t;return i!==void 0?typeof i=="string"?P.createElement(FA,null,i):i:s==="blank"?null:P.createElement(kA,null,P.createElement(_A,{...u}),s!=="loading"&&P.createElement(LA,null,s==="error"?P.createElement(RA,{...u}):P.createElement(PA,{...u})))},UA=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zA=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,VA="0%{opacity:0;} 100%{opacity:1;}",WA="0%{opacity:1;} 100%{opacity:0;}",HA=As("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GA=As("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,YA=(t,i)=>{let s=t.includes("top")?1:-1,[u,h]=vx()?[VA,WA]:[UA(s),zA(s)];return{animation:i?`${Wi(u)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Wi(h)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XA=P.memo(({toast:t,position:i,style:s,children:u})=>{let h=t.height?YA(t.position||i||"top-center",t.visible):{opacity:0},p=P.createElement(jA,{toast:t}),y=P.createElement(GA,{...t.ariaProps},Bc(t.message,t));return P.createElement(HA,{className:t.className,style:{...h,...s,...t.style}},typeof u=="function"?u({icon:p,message:y}):P.createElement(P.Fragment,null,p,y))});pA(P.createElement);var ZA=({id:t,className:i,style:s,onHeightUpdate:u,children:h})=>{let p=P.useCallback(y=>{if(y){let C=()=>{let v=y.getBoundingClientRect().height;u(t,v)};C(),new MutationObserver(C).observe(y,{subtree:!0,childList:!0,characterData:!0})}},[t,u]);return P.createElement("div",{ref:p,className:i,style:s},h)},KA=(t,i)=>{let s=t.includes("top"),u=s?{top:0}:{bottom:0},h=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${i*(s?1:-1)}px)`,...u,...h}},QA=Yc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wc=16,$A=({reverseOrder:t,position:i="top-center",toastOptions:s,gutter:u,children:h,containerStyle:p,containerClassName:y})=>{let{toasts:C,handlers:v}=TA(s);return P.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:wc,left:wc,right:wc,bottom:wc,pointerEvents:"none",...p},className:y,onMouseEnter:v.startPause,onMouseLeave:v.endPause},C.map(x=>{let E=x.position||i,T=v.calculateOffset(x,{reverseOrder:t,gutter:u,defaultPosition:i}),N=KA(E,T);return P.createElement(ZA,{id:x.id,key:x.id,onHeightUpdate:v.updateHeight,className:x.visible?QA:"",style:N},x.type==="custom"?Bc(x.message,x):h?h(x):P.createElement(XA,{toast:x,position:E}))}))},qA=sr;const JA=({direction:t="down",show:i=!0,className:s="",style:u={}})=>{if(!i)return null;const h=t==="down"?"rotate(180 16 16)":"";return R.jsx("div",{className:`arrow-hint-container ${t} ${s}`,style:u,children:R.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"arrow-hint-svg",children:R.jsxs("g",{transform:h,children:[R.jsx("path",{d:"M16 6v16M16 22l-7-7M16 22l7-7",stroke:"url(#arrow-gradient)",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#arrow-glow)"}),R.jsxs("defs",{children:[R.jsxs("linearGradient",{id:"arrow-gradient",x1:"16",y1:"6",x2:"16",y2:"22",gradientUnits:"userSpaceOnUse",children:[R.jsx("stop",{stopColor:"#7f5fff"}),R.jsx("stop",{offset:"0.5",stopColor:"#2e8bff"}),R.jsx("stop",{offset:"1",stopColor:"#00e0ff"})]}),R.jsx("filter",{id:"arrow-glow",x:"-10",y:"-10",width:"52",height:"52",filterUnits:"userSpaceOnUse",children:R.jsx("feDropShadow",{dx:"0",dy:"0",stdDeviation:"2.5",floodColor:"#7f5fff",floodOpacity:"0.5"})})]})]})})})},e4=({isOpen:t,onClose:i,onConfirm:s,userName:u})=>t?R.jsx("div",{className:"kick-modal",children:R.jsxs("div",{className:"kick-modal-content",children:[R.jsx("h2",{className:"kick-modal-title",children:"Kick User"}),R.jsxs("p",{className:"kick-modal-message",children:["Are you sure you want to kick ",u," from the lobby?"]}),R.jsxs("div",{className:"kick-modal-actions",children:[R.jsx("button",{onClick:s,className:"admin-button admin-button-danger",children:"Yes, Kick User"}),R.jsx("button",{onClick:i,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,t4=({isOpen:t,onClose:i,onConfirm:s})=>t?R.jsx("div",{className:"join-modal",children:R.jsxs("div",{className:"join-modal-content",children:[R.jsx("h2",{className:"join-modal-title",children:"Join Lobby"}),R.jsx("p",{className:"join-modal-message",children:"Are you sure you want to join? You will be paired up with your attendees."}),R.jsxs("div",{className:"join-modal-actions",children:[R.jsx("button",{onClick:s,className:"admin-button admin-button-join",children:"Yes, Join Lobby"}),R.jsx("button",{onClick:i,className:"admin-button admin-button-primary",children:"Cancel"})]})]})}):null,n4=({lobbyState:t,playerCount:i,onStart:s,onEnd:u,lobbyCode:h})=>{const p=t==="checkin",y=i>=2&&t==="checkin",C=t==="active",v=t==="active",x=t==="terminated",[E,T]=P.useState(null),[N,O]=P.useState({code:!1,qr:!1}),[k,B]=P.useState(!1),F=()=>{T("start")},z=()=>{T("end")},H=()=>{B(!0),T("checkin")},V=()=>{E==="start"?(s(),qA.success("Rounds started!",{position:"top-center"})):E==="end"&&u(),T(null)},ee=()=>T(null),se=(q,Me)=>q?"progress-arrow active-shimmer":Me?"progress-arrow available-shimmer":"progress-arrow inactive",ue=p&&!k&&i<6,J=()=>{const q=document.getElementById("modal-qr-svg");if(!q)return;const Pe=new window.XMLSerializer().serializeToString(q),be=new window.Image,Fe=512,Re=document.createElement("canvas");Re.width=Fe,Re.height=Fe;const Q=Re.getContext("2d");be.onload=async()=>{Q.clearRect(0,0,Fe,Fe),Q.drawImage(be,0,0,Fe,Fe),Re.toBlob(async Ve=>{try{await navigator.clipboard.write([new window.ClipboardItem({"image/png":Ve})]),O(we=>({...we,qr:!0})),setTimeout(()=>O(we=>({...we,qr:!1})),800)}catch{alert("Copy failed. Try a Chromium-based browser.")}},"image/png")},be.onerror=()=>alert("Failed to render QR code image."),be.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(Pe)))},ce=()=>{navigator.clipboard.writeText(h),O(q=>({...q,code:!0})),setTimeout(()=>O(q=>({...q,code:!1})),800)};return R.jsxs("div",{className:"lobby-progress-bar",style:{marginTop:"-1rem"},children:[R.jsxs("div",{style:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[R.jsx("div",{className:se(p,!1),tabIndex:0,title:"Check-in phase",onClick:H,style:{cursor:"pointer",width:"100%"},children:"Check-in"}),R.jsx(JA,{direction:"down",show:ue})]}),R.jsx("div",{className:se(C,y&&!C),tabIndex:0,title:y?"Start rounds":"At least 2 players required",onClick:F,style:{cursor:"pointer"},children:"Start Rounds"}),R.jsx("div",{className:se(x,v&&!x),tabIndex:0,title:v?"End rounds":"Cannot end yet",onClick:z,style:{cursor:"pointer"},children:"End Rounds"}),E&&R.jsx("div",{className:"progress-modal-overlay",children:R.jsx("div",{className:"progress-modal",children:E==="checkin"?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"progress-modal-title",children:"Have your attendees scan the QR code to join your lobby"}),R.jsx("div",{className:"progress-modal-message",children:"Start when you have 6-10 people, don't worry new people will be paired up in the next rounds"}),R.jsxs("div",{className:"progress-modal-qr",onClick:J,style:{cursor:"pointer",position:"relative"},children:[R.jsx(eh,{value:`${window.location.origin}/lobby?code=${h}`,size:200,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"modal-qr-svg"}),R.jsx("span",{className:"copy-icon modal-copy-icon","aria-label":"Copy",style:{position:"absolute",right:8,bottom:8,background:"#fff",borderRadius:"50%",padding:"2px"},children:R.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[R.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),R.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})}),N.qr&&R.jsx("span",{className:"modal-copied-feedback",style:{position:"absolute",left:"50%",bottom:"-1.5rem",transform:"translateX(-50%)",color:"#28a745",fontWeight:600,fontSize:"0.95rem"},children:"Copied!"})]}),R.jsxs("div",{className:`progress-modal-lobbycode${N.code?" copied":""}`,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[R.jsxs("b",{children:["lobby code: ",h]}),R.jsx("span",{className:"copy-icon modal-copy-icon","aria-label":"Copy",onClick:ce,style:{cursor:"pointer"},children:R.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[R.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),R.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})}),N.code&&R.jsx("span",{className:"modal-copied-feedback",style:{color:"#28a745",fontWeight:600,fontSize:"0.95rem"},children:"Copied!"})]}),R.jsx("div",{className:"progress-modal-actions",children:R.jsx("button",{className:"progress-modal-btn confirm",onClick:ee,children:"Got it"})})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"progress-modal-title",children:E==="start"?"Are you sure you want to start rounds?":"Are you sure you want to end the rounds?"}),R.jsx("div",{className:"progress-modal-actions",children:E==="start"?R.jsxs(R.Fragment,{children:[R.jsx("button",{className:"progress-modal-btn cancel",onClick:ee,children:"Not Yet"}),R.jsx("button",{className:"progress-modal-btn confirm",onClick:V,children:"Start"})]}):R.jsxs(R.Fragment,{children:[R.jsx("button",{className:"progress-modal-btn cancel",onClick:ee,children:"Keep Going"}),R.jsx("button",{className:"progress-modal-btn confirm danger",onClick:V,children:"End"})]})})]})})})]})},r4=()=>{const{user:t,userProfile:i,checkAuth:s,permissions:u}=P.useContext(xi),h=ni(),p=vi(),C=new URLSearchParams(p.search).get("code"),[v,x]=P.useState(C||"test");P.useEffect(()=>{C||(console.log("No lobby code found in URL, using default 'test' value"),(async()=>{try{const He=localStorage.getItem("access_token"),pe=await fetch(window.server_url+"/view_my_active_lobbies",{headers:{Authorization:`Bearer ${He}`}});if(pe.ok){const ze=await pe.json();if(console.log("Active lobbies response:",ze),ze&&ze.lobbies&&ze.lobbies.length>0){const _e=ze.lobbies[0];x(_e),window.history.replaceState({},"",`/admin_lobby_view?code=${_e}`)}}}catch(He){console.error("Error fetching active lobby:",He)}})())},[C]);const[E,T]=P.useState(!1),[N,O]=P.useState(null),[k,B]=P.useState(!1),[F,z]=P.useState(null),[H,V]=P.useState(null),[ee,se]=P.useState(null),[ue,J]=P.useState(null),[ce,q]=P.useState(null),[Me,Pe]=P.useState({}),[be,Fe]=P.useState([]),Re=((H==null?void 0:H.length)||0)+((F==null?void 0:F.length)*2||0);P.useEffect(()=>{if(s(),u!=="admin"&&u!=="organizer"){h("/");return}const ve=async pe=>{if(Me[pe])return Me[pe];try{const ze=await fetch(`${window.server_url}/pfp_small_icon?username=${encodeURIComponent(pe)}`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(ze.ok){let _e=await ze.text();_e.startsWith('"')&&_e.endsWith('"')&&(_e=_e.slice(1,-1));const it=_e.startsWith("data:image")?_e:`data:image/jpeg;base64,${_e}`;return Pe(ft=>({...ft,[pe]:it})),it}return null}catch(ze){return console.error(`Error fetching profile picture for ${pe}:`,ze),null}},He=setInterval(async()=>{try{const pe=await fetch(window.server_url+"/admin_lobby_data",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:v}});if(pe.ok){const ze=await pe.json();if(console.log("Admin lobby data:",v,ze),ze&&ze.unpaired_players){const _e=await Promise.all(ze.unpaired_players.map(async ft=>{const _t=await ve(ft.username);return{...ft,pfp_data:_t}})),it=await Promise.all((ze.pairs_data||[]).map(async ft=>{const _t=await ve(ft[0].username),er=await ve(ft[1].username);return[{...ft[0],pfp_data:_t},{...ft[1],pfp_data:er}]}));V(_e),z(it),se(ze.round_time_left),J(ze.lobby_state),q(ze.lobby_duration||300),Fe(ze.custom_tags||[])}else console.error("Invalid lobby data structure:",ze),V([]),z([])}else console.error("Failed to fetch admin lobby data:",pe.status)}catch(pe){console.error("Error fetching admin lobby data:",pe)}},1e3);return()=>clearInterval(He)},[Me]);const Q=ve=>{O(ve),T(!0)},Ve=()=>{T(!1),O(null)},we=()=>{N&&fetch(window.server_url+"/kick_user",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({username:N.username,lobby_code:v})}).then(ve=>{ve.ok?console.log(`User ${N.name} kicked successfully`):console.error(`Failed to kick user ${N.name}`)}).catch(ve=>{console.error("Error kicking user:",ve)}).finally(()=>{Ve()})},he=()=>{B(!0)},De=()=>{B(!1)},fe=()=>{h(`/lobby?code=${v}`),De()};async function Z(){const ve=document.getElementById("admin-qr-svg");if(!ve)return;const pe=new XMLSerializer().serializeToString(ve),ze=new window.Image,_e=512,it=document.createElement("canvas");it.width=_e,it.height=_e;const ft=it.getContext("2d");ze.onload=async()=>{ft.clearRect(0,0,_e,_e),ft.drawImage(ze,0,0,_e,_e),it.toBlob(async _t=>{try{await navigator.clipboard.write([new window.ClipboardItem({"image/png":_t})]),alert("QR code copied as PNG!")}catch{alert("Copy failed. Try a Chromium-based browser.")}},"image/png")},ze.onerror=()=>alert("Failed to render QR code image."),ze.src="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(pe)))}const re=async()=>{await fetch(window.server_url+"/start_rounds",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:v}})},me=async()=>{(await fetch(window.server_url+"/terminate_lobby",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,lobby_code:v}})).ok&&h("/")};return R.jsxs(R.Fragment,{children:[R.jsx($A,{position:"top-center"}),R.jsxs("div",{className:"admin-lobby-container",children:[R.jsx("div",{className:"admin-view-logo",children:R.jsx("img",{src:"/assets/reuneo_test_9.png",alt:"Reuneo Logo",style:{maxWidth:"85px",height:"auto",objectFit:"contain"}})}),R.jsx(n4,{lobbyState:ue,playerCount:Re,onStart:re,onEnd:me,lobbyCode:v}),R.jsxs("div",{className:"page-controls-header",children:[R.jsx("button",{onClick:()=>h("/"),className:"page-control-button page-control-home",children:"Home"}),R.jsxs("div",{className:"admin-profile",children:[R.jsx("img",{src:i!=null&&i.image_data?`data:image/jpeg;base64,${i.image_data}`:"/assets/player_icon_trans.png",alt:"Your Profile",className:"admin-profile-picture"}),R.jsx("span",{className:"admin-profile-name",children:i!=null&&i.name?i.name.slice(0,20):t==null?void 0:t.slice(0,20)})]}),R.jsx("button",{onClick:he,className:"page-control-button page-control-join",children:"Join"})]}),R.jsx("div",{className:"lobby-code-container",children:R.jsxs("div",{className:"lobby-code-display",onClick:()=>{navigator.clipboard.writeText(v);const ve=document.querySelector(".lobby-code-display");ve.classList.add("copied"),setTimeout(()=>ve.classList.remove("copied"),250)},children:[R.jsx("span",{className:"lobby-code-label",children:"lobby code: "}),R.jsx("span",{className:"lobby-code-value",children:v}),R.jsx("span",{className:"copy-icon","aria-label":"Copy",children:R.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[R.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),R.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]})}),R.jsxs("div",{className:"admin-lobby-body",children:[R.jsxs("div",{className:"admin-lobby-qr",onClick:Z,style:{cursor:"pointer"},children:[R.jsx("div",{style:{position:"relative",display:"inline-block"},children:R.jsx(eh,{value:`${window.location.origin}/lobby?code=${v}`,size:140,level:"H",includeMargin:!1,bgColor:"#ffffff",fgColor:"#144dff",id:"admin-qr-svg"})}),R.jsxs("span",{className:"qr-label",style:{display:"flex",alignItems:"center",gap:"0.4rem",marginTop:"0.5rem"},children:["People scan to join",R.jsx("span",{className:"copy-icon","aria-label":"Copy",children:R.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.2",strokeLinecap:"round",strokeLinejoin:"round",style:{display:"block"},children:[R.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2.5"}),R.jsx("rect",{x:"2",y:"2",width:"13",height:"13",rx:"2.5"})]})})]})]}),R.jsx("div",{className:"admin-lobby-actions",children:R.jsx("div",{className:"admin-lobby-event-settings",children:R.jsxs("div",{className:"setting-item",children:[R.jsx("span",{className:"setting-label",children:"Round Duration:"}),R.jsxs("span",{className:"setting-value",children:[Math.floor(ce/60)," min"]}),R.jsx("span",{className:"setting-label",children:"Tags:"}),be&&be.length>0&&R.jsx("div",{className:"setting-item",children:R.jsxs("div",{className:"tags-container",children:[be.slice(0,3).map((ve,He)=>R.jsx("span",{className:"tag-pill",children:ve},He)),be.length>3&&R.jsxs("span",{className:"tag-pill more-tags",children:["+",be.length-3," more"]})]})})]})})})]}),(ue==="active"||ue==="interrim")&&ee&&R.jsx("div",{className:"admin-lobby-timer-container",children:R.jsxs("div",{className:"admin-lobby-timer",children:[R.jsx(th,{isPlaying:ue==="active",duration:ce,initialRemainingTime:ee,colors:["#144dff"],size:90,strokeWidth:12,trailColor:"#f5f7ff",onComplete:()=>({shouldRepeat:!1}),children:({remainingTime:ve})=>{const He=Math.floor(ve/60),pe=Math.floor(ve%60);return R.jsxs("span",{style:{fontSize:".95rem",color:"#144dff",fontWeight:600},children:[He,":",String(pe).padStart(2,"0")]})}},`${ue}-${Math.floor(ee)}`),R.jsx("span",{style:{fontSize:"0.7em",marginTop:"4px",opacity:"1",color:"#144dff"},children:"round time left"})]})}),R.jsx("div",{className:"admin-lobby-stats",children:R.jsxs("div",{className:"stat-card",children:[R.jsx("div",{className:"stat-title",children:"Total Players"}),R.jsx("div",{className:"stat-value",children:((H==null?void 0:H.length)||0)+((F==null?void 0:F.length)*2||0)}),R.jsx("div",{className:"stat-title",children:"Paired Players"}),R.jsx("div",{className:"stat-value",children:(F==null?void 0:F.length)*2||0}),R.jsx("div",{className:"stat-title",children:"Unpaired Players"}),R.jsx("div",{className:"stat-value",children:(H==null?void 0:H.length)||0})]})}),F&&R.jsx("div",{className:"admin-lobby-players",children:R.jsxs("div",{className:"player-section",children:[R.jsxs("div",{className:"section-header",children:["Paired Players: ",(F==null?void 0:F.length)*2||0]}),R.jsx("div",{className:"player-grid",children:F.map((ve,He)=>R.jsxs("div",{className:"paired-player-card",children:[R.jsxs("div",{className:"paired-player",onClick:()=>Q(ve[0]),children:[R.jsx("img",{src:ve[0].pfp_data,alt:ve[0].name,className:"paired-player-avatar"}),R.jsx("h3",{className:"paired-player-name",children:ve[0].name})]}),R.jsxs("div",{className:"paired-player",onClick:()=>Q(ve[1]),children:[R.jsx("img",{src:ve[1].pfp_data,alt:ve[1].name,className:"paired-player-avatar"}),R.jsx("h3",{className:"paired-player-name",children:ve[1].name})]})]},He))})]})}),H&&R.jsx("div",{className:"admin-lobby-players",children:R.jsxs("div",{className:"player-section",children:[R.jsxs("div",{className:"section-header",children:["Unpaired Players: ",(H==null?void 0:H.length)||0]}),R.jsx("div",{className:"player-grid",children:H.map((ve,He)=>R.jsxs("div",{className:"player-card",onClick:()=>Q(ve),children:[R.jsx("img",{src:ve.pfp_data,alt:ve.name,className:"player-avatar"}),R.jsx("h3",{className:"player-name",children:ve.name})]},He))})]})}),R.jsx(t4,{isOpen:k,onClose:De,onConfirm:fe}),R.jsx(e4,{isOpen:E,onClose:Ve,onConfirm:we,userName:(N==null?void 0:N.name)||"this user"})]})]})},i4=()=>{const t=ni(),{user:i}=P.useContext(xi),s=()=>{window.location.href="https://reunio.app/become-an-organizer"};return R.jsxs("div",{className:"product-selection-container",children:[R.jsxs("video",{className:"background-video",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[R.jsx("source",{src:"/assets/purchase_plan_video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),R.jsxs("div",{className:"product-selection-content",children:[R.jsx("div",{className:"product-selection-header",children:R.jsx("h1",{children:"Product Selection"})}),R.jsxs("div",{className:"plans-section",children:[R.jsx("h2",{children:"Available Plans"}),R.jsxs("div",{className:"plan-card",children:[R.jsx("h3",{children:"Organizer Plan"}),R.jsxs("div",{className:"plan-description",children:[R.jsx("p",{children:"Create experiences for your community with our beta plan."}),R.jsxs("ul",{children:[R.jsx("li",{children:"Create unlimited experiences"}),R.jsx("li",{children:"Access to organizer dashboard"}),R.jsx("li",{children:"Priority customer support"})]})]}),R.jsx("button",{className:"purchase-button",onClick:s,children:"Contact Us"})]})]}),R.jsx("button",{className:"back-button",onClick:()=>t("/"),children:"Home"})]})]})},s4=()=>{const{user:t,userProfile:i,checkAuth:s,permissions:u}=P.useContext(xi),[h,p]=P.useState(""),[y,C]=P.useState(""),[v,x]=P.useState(!1),[E,T]=P.useState(""),[N,O]=P.useState(!1),[k,B]=P.useState([]),[F,z]=P.useState(""),[H,V]=P.useState("5"),[ee,se]=P.useState("0"),ue=ni(),J=P.useRef(null);P.useEffect(()=>{window.scrollTo(0,0),t&&(p(t),C(t)),J.current&&J.current.focus()},[t]);const ce=Re=>{const Q=/^[a-z0-9]+$/;return Re.length>=2&&Q.test(Re)},q=Re=>{const Q=Re.target.value.toLowerCase().replace(/[^a-z0-9]/g,"");C(Q),O(!0),setTimeout(()=>{O(!1)},500)},Me=()=>{F.trim()&&!k.includes(F.trim())&&(B([...k,F.trim()]),z(""))},Pe=Re=>{B(k.filter(Q=>Q!==Re))},be=Re=>{Re.key==="Enter"&&F.trim()&&(Re.preventDefault(),Me())},Fe=async Re=>{if(Re.preventDefault(),!ce(y)){T("Lobby code must be at least 2 characters long and contain only lowercase letters and numbers");return}x(!0),T("");const Q=parseInt(H)*60+parseInt(ee);try{const Ve=await fetch(window.server_url+"/create_lobby",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`,"Content-Type":"application/json"},body:JSON.stringify({lobby_code:y,custom_tags:k,lobby_duration:Q})});if(Ve.ok)console.log("Lobby created successfully"),console.log(await Ve.json()),ue(`/admin_lobby_view?code=${y}`);else{const we=await Ve.json();T(we.message||"Failed to create lobby"),console.error("Failed to create lobby")}}catch(Ve){T("An error occurred while creating the lobby"),console.error("Error creating lobby:",Ve)}finally{x(!1)}};return R.jsx("div",{className:"create-lobby-background",children:R.jsxs("div",{className:"create-lobby-container",children:[R.jsx("h1",{className:"create-lobby-title",children:"Create a New Lobby"}),R.jsxs("form",{onSubmit:Fe,className:"create-lobby-form",children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"lobbyCode",children:"Lobby Code"}),R.jsx("input",{ref:J,type:"text",id:"lobbyCode",value:y,onChange:q,placeholder:"Enter lobby code (lowercase letters and numbers only)",required:!0,className:`form-input ${N?"typing":""}`,autoComplete:"off"}),R.jsx("div",{className:"input-hint",children:"lowercase letters and numbers only"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{children:"Round Duration"}),R.jsxs("div",{className:"duration-input-container",children:[R.jsxs("div",{className:"duration-input-group",children:[R.jsx("input",{type:"number",id:"minutes",value:H,onChange:Re=>{const Q=Re.target.value;(Q===""||parseInt(Q)>0&&parseInt(Q)<=5)&&V(Q)},min:"1",max:"5",placeholder:"1-5",className:"form-input duration-input",autoComplete:"off"}),R.jsx("label",{htmlFor:"minutes",className:"duration-label",children:"Minutes"})]}),R.jsxs("div",{className:"duration-input-group",children:[R.jsx("input",{type:"number",id:"seconds",value:ee,onChange:Re=>{const Q=Re.target.value;(Q===""||parseInt(Q)>=0&&parseInt(Q)<=59)&&se(Q)},min:"0",max:"59",placeholder:"0-59",className:"form-input duration-input",autoComplete:"off"}),R.jsx("label",{htmlFor:"seconds",className:"duration-label",children:"Seconds"})]})]})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{htmlFor:"tagInput",children:"Matchmaking Tags"}),R.jsxs("div",{className:"tag-input-container",children:[R.jsx("input",{type:"text",id:"tagInput",value:F,onChange:Re=>z(Re.target.value),onKeyDown:be,placeholder:"Add tags (press + to add)",className:"form-input",autoComplete:"off"}),R.jsx("button",{type:"button",onClick:Me,className:"tag-add-button",children:"+"})]}),k.length>0&&R.jsx("div",{className:"tag-list",children:k.map((Re,Q)=>R.jsxs("div",{className:"tag-item",children:[Re,R.jsx("button",{type:"button",onClick:()=>Pe(Re),className:"tag-remove-button",children:"×"})]},Q))}),R.jsx("div",{className:"input-hint",children:"If you want to match people based on role/interests"})]}),E&&R.jsx("div",{className:"error-message",children:E}),R.jsxs("div",{className:"button-group",children:[R.jsx("button",{type:"button",className:"back-button",onClick:()=>ue(-1),children:"← Back"}),R.jsx("button",{type:"submit",className:"submit-button",disabled:v,children:v?"Creating...":"Create Lobby"})]})]})]})})};E2.createRoot(document.getElementById("root")).render(R.jsx(P.StrictMode,{children:R.jsx(S2,{children:R.jsxs(aw,{basename:"/",children:[R.jsx(FS,{}),R.jsxs(By,{children:[R.jsx(ji,{path:"/",element:R.jsx(BS,{})}),R.jsx(ji,{path:"/login",element:R.jsx(jS,{})}),R.jsx(ji,{path:"/signup",element:R.jsx(LS,{})}),R.jsx(ji,{path:"/logout",element:R.jsx(US,{})}),R.jsx(ji,{path:"/lobby",element:R.jsx(aA,{})}),R.jsx(ji,{path:"/admin_lobby_view",element:R.jsx(r4,{})}),R.jsx(ji,{path:"/create_lobby",element:R.jsx(s4,{})}),R.jsx(ji,{path:"/product-selection",element:R.jsx(i4,{})})]})]})})}));
